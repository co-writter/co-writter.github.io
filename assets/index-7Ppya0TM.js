const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firebase-Bx4m2Htd.js","assets/index.esm-CIvlP5Sc.js","assets/index.esm-jBoJwvNd.js","assets/index.esm-r3RIfZqZ.js"])))=>i.map(i=>d[i]);
var pJ=Object.defineProperty;var x5=t=>{throw TypeError(t)};var mJ=(t,e,n)=>e in t?pJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>mJ(t,typeof e!="symbol"?e+"":e,n),WT=(t,e,n)=>e.has(t)||x5("Cannot "+n);var m=(t,e,n)=>(WT(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?x5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),L=(t,e,n,r)=>(WT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),F=(t,e,n)=>(WT(t,e,"access private method"),n);var mr=(t,e,n,r)=>({set _(i){L(t,e,i,n)},get _(){return m(t,e,r)}});function gJ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YT={exports:{}},Sy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5;function vJ(){if(w5)return Sy;w5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Sy.Fragment=e,Sy.jsx=n,Sy.jsxs=n,Sy}var S5;function yJ(){return S5||(S5=1,YT.exports=vJ()),YT.exports}var g=yJ(),KT={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E5;function bJ(){if(E5)return it;E5=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),v=Symbol.iterator;function y(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function C(V,J,oe){this.props=V,this.context=J,this.refs=E,this.updater=oe||w}C.prototype.isReactComponent={},C.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function k(){}k.prototype=C.prototype;function R(V,J,oe){this.props=V,this.context=J,this.refs=E,this.updater=oe||w}var D=R.prototype=new k;D.constructor=R,A(D,C.prototype),D.isPureReactComponent=!0;var I=Array.isArray;function P(){}var M={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function z(V,J,oe){var ve=oe.ref;return{$$typeof:t,type:V,key:J,ref:ve!==void 0?ve:null,props:oe}}function K(V,J){return z(V.type,J,V.props)}function G(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function Y(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return J[oe]})}var te=/\/+/g;function W(V,J){return typeof V=="object"&&V!==null&&V.key!=null?Y(""+V.key):J.toString(36)}function $(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(P,P):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function U(V,J,oe,ve,xe){var _e=typeof V;(_e==="undefined"||_e==="boolean")&&(V=null);var Ae=!1;if(V===null)Ae=!0;else switch(_e){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(V.$$typeof){case t:case e:Ae=!0;break;case f:return Ae=V._init,U(Ae(V._payload),J,oe,ve,xe)}}if(Ae)return xe=xe(V),Ae=ve===""?"."+W(V,0):ve,I(xe)?(oe="",Ae!=null&&(oe=Ae.replace(te,"$&/")+"/"),U(xe,J,oe,"",function(Re){return Re})):xe!=null&&(G(xe)&&(xe=K(xe,oe+(xe.key==null||V&&V.key===xe.key?"":(""+xe.key).replace(te,"$&/")+"/")+Ae)),J.push(xe)),1;Ae=0;var pt=ve===""?".":ve+":";if(I(V))for(var de=0;de<V.length;de++)ve=V[de],_e=pt+W(ve,de),Ae+=U(ve,J,oe,_e,xe);else if(de=y(V),typeof de=="function")for(V=de.call(V),de=0;!(ve=V.next()).done;)ve=ve.value,_e=pt+W(ve,de++),Ae+=U(ve,J,oe,_e,xe);else if(_e==="object"){if(typeof V.then=="function")return U($(V),J,oe,ve,xe);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function q(V,J,oe){if(V==null)return V;var ve=[],xe=0;return U(V,ve,"","",function(_e){return J.call(oe,_e,xe++)}),ve}function Z(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var ie=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},be={map:q,forEach:function(V,J,oe){q(V,function(){J.apply(this,arguments)},oe)},count:function(V){var J=0;return q(V,function(){J++}),J},toArray:function(V){return q(V,function(J){return J})||[]},only:function(V){if(!G(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return it.Activity=h,it.Children=be,it.Component=C,it.Fragment=n,it.Profiler=i,it.PureComponent=R,it.StrictMode=r,it.Suspense=u,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,it.__COMPILER_RUNTIME={__proto__:null,c:function(V){return M.H.useMemoCache(V)}},it.cache=function(V){return function(){return V.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(V,J,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ve=A({},V.props),xe=V.key;if(J!=null)for(_e in J.key!==void 0&&(xe=""+J.key),J)!B.call(J,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&J.ref===void 0||(ve[_e]=J[_e]);var _e=arguments.length-2;if(_e===1)ve.children=oe;else if(1<_e){for(var Ae=Array(_e),pt=0;pt<_e;pt++)Ae[pt]=arguments[pt+2];ve.children=Ae}return z(V.type,xe,ve)},it.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},it.createElement=function(V,J,oe){var ve,xe={},_e=null;if(J!=null)for(ve in J.key!==void 0&&(_e=""+J.key),J)B.call(J,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(xe[ve]=J[ve]);var Ae=arguments.length-2;if(Ae===1)xe.children=oe;else if(1<Ae){for(var pt=Array(Ae),de=0;de<Ae;de++)pt[de]=arguments[de+2];xe.children=pt}if(V&&V.defaultProps)for(ve in Ae=V.defaultProps,Ae)xe[ve]===void 0&&(xe[ve]=Ae[ve]);return z(V,_e,xe)},it.createRef=function(){return{current:null}},it.forwardRef=function(V){return{$$typeof:o,render:V}},it.isValidElement=G,it.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:Z}},it.memo=function(V,J){return{$$typeof:c,type:V,compare:J===void 0?null:J}},it.startTransition=function(V){var J=M.T,oe={};M.T=oe;try{var ve=V(),xe=M.S;xe!==null&&xe(oe,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(P,ie)}catch(_e){ie(_e)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),M.T=J}},it.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},it.use=function(V){return M.H.use(V)},it.useActionState=function(V,J,oe){return M.H.useActionState(V,J,oe)},it.useCallback=function(V,J){return M.H.useCallback(V,J)},it.useContext=function(V){return M.H.useContext(V)},it.useDebugValue=function(){},it.useDeferredValue=function(V,J){return M.H.useDeferredValue(V,J)},it.useEffect=function(V,J){return M.H.useEffect(V,J)},it.useEffectEvent=function(V){return M.H.useEffectEvent(V)},it.useId=function(){return M.H.useId()},it.useImperativeHandle=function(V,J,oe){return M.H.useImperativeHandle(V,J,oe)},it.useInsertionEffect=function(V,J){return M.H.useInsertionEffect(V,J)},it.useLayoutEffect=function(V,J){return M.H.useLayoutEffect(V,J)},it.useMemo=function(V,J){return M.H.useMemo(V,J)},it.useOptimistic=function(V,J){return M.H.useOptimistic(V,J)},it.useReducer=function(V,J,oe){return M.H.useReducer(V,J,oe)},it.useRef=function(V){return M.H.useRef(V)},it.useState=function(V){return M.H.useState(V)},it.useSyncExternalStore=function(V,J,oe){return M.H.useSyncExternalStore(V,J,oe)},it.useTransition=function(){return M.H.useTransition()},it.version="19.2.1",it}var A5;function mv(){return A5||(A5=1,KT.exports=bJ()),KT.exports}var T=mv();const An=bo(T),XM=gJ({__proto__:null,default:An},[T]);var XT={exports:{}},Ey={},JT={exports:{}},QT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5;function xJ(){return _5||(_5=1,(function(t){function e(U,q){var Z=U.length;U.push(q);e:for(;0<Z;){var ie=Z-1>>>1,be=U[ie];if(0<i(be,q))U[ie]=q,U[Z]=be,Z=ie;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var q=U[0],Z=U.pop();if(Z!==q){U[0]=Z;e:for(var ie=0,be=U.length,V=be>>>1;ie<V;){var J=2*(ie+1)-1,oe=U[J],ve=J+1,xe=U[ve];if(0>i(oe,Z))ve<be&&0>i(xe,oe)?(U[ie]=xe,U[ve]=Z,ie=ve):(U[ie]=oe,U[J]=Z,ie=J);else if(ve<be&&0>i(xe,Z))U[ie]=xe,U[ve]=Z,ie=ve;else break e}}return q}function i(U,q){var Z=U.sortIndex-q.sortIndex;return Z!==0?Z:U.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],c=[],f=1,h=null,v=3,y=!1,w=!1,A=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(U){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=U)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function I(U){if(A=!1,D(U),!w)if(n(u)!==null)w=!0,P||(P=!0,Y());else{var q=n(c);q!==null&&$(I,q.startTime-U)}}var P=!1,M=-1,B=5,z=-1;function K(){return E?!0:!(t.unstable_now()-z<B)}function G(){if(E=!1,P){var U=t.unstable_now();z=U;var q=!0;try{e:{w=!1,A&&(A=!1,k(M),M=-1),y=!0;var Z=v;try{t:{for(D(U),h=n(u);h!==null&&!(h.expirationTime>U&&K());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,v=h.priorityLevel;var be=ie(h.expirationTime<=U);if(U=t.unstable_now(),typeof be=="function"){h.callback=be,D(U),q=!0;break t}h===n(u)&&r(u),D(U)}else r(u);h=n(u)}if(h!==null)q=!0;else{var V=n(c);V!==null&&$(I,V.startTime-U),q=!1}}break e}finally{h=null,v=Z,y=!1}q=void 0}}finally{q?Y():P=!1}}}var Y;if(typeof R=="function")Y=function(){R(G)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,W=te.port2;te.port1.onmessage=G,Y=function(){W.postMessage(null)}}else Y=function(){C(G,0)};function $(U,q){M=C(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var Z=v;v=q;try{return U()}finally{v=Z}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=v;v=U;try{return q()}finally{v=Z}},t.unstable_scheduleCallback=function(U,q,Z){var ie=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ie+Z:ie):Z=ie,U){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Z+be,U={id:f++,callback:q,priorityLevel:U,startTime:Z,expirationTime:be,sortIndex:-1},Z>ie?(U.sortIndex=Z,e(c,U),n(u)===null&&U===n(c)&&(A?(k(M),M=-1):A=!0,$(I,Z-ie))):(U.sortIndex=be,e(u,U),w||y||(w=!0,P||(P=!0,Y()))),U},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(U){var q=v;return function(){var Z=v;v=q;try{return U.apply(this,arguments)}finally{v=Z}}}})(QT)),QT}var C5;function wJ(){return C5||(C5=1,JT.exports=xJ()),JT.exports}var ZT={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T5;function SJ(){if(T5)return ci;T5=1;var t=mv();function e(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:u,containerInfo:c,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ci.createPortal=function(u,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(u,c,null,f)},ci.flushSync=function(u){var c=s.T,f=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=c,r.p=f,r.d.f()}},ci.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},ci.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},ci.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin),v=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:v,fetchPriority:y}):f==="script"&&r.d.X(u,{crossOrigin:h,integrity:v,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ci.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=o(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},ci.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin);r.d.L(u,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ci.preloadModule=function(u,c){if(typeof u=="string")if(c){var f=o(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},ci.requestFormReset=function(u){r.d.r(u)},ci.unstable_batchedUpdates=function(u,c){return u(c)},ci.useFormState=function(u,c,f){return s.H.useFormState(u,c,f)},ci.useFormStatus=function(){return s.H.useHostTransitionStatus()},ci.version="19.2.1",ci}var N5;function jH(){if(N5)return ZT.exports;N5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ZT.exports=SJ(),ZT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R5;function EJ(){if(R5)return Ey;R5=1;var t=wJ(),e=mv(),n=jH();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function s(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function o(l){if(l.tag===31){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(r(188))}function c(l){var d=l.alternate;if(!d){if(d=a(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,b=d;;){var _=p.return;if(_===null)break;var N=_.alternate;if(N===null){if(b=_.return,b!==null){p=b;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===p)return u(_),l;if(N===b)return u(_),d;N=N.sibling}throw Error(r(188))}if(p.return!==b.return)p=_,b=N;else{for(var O=!1,H=_.child;H;){if(H===p){O=!0,p=_,b=N;break}if(H===b){O=!0,b=_,p=N;break}H=H.sibling}if(!O){for(H=N.child;H;){if(H===p){O=!0,p=N,b=_;break}if(H===b){O=!0,b=N,p=_;break}H=H.sibling}if(!O)throw Error(r(189))}}if(p.alternate!==b)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function f(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=f(l),d!==null)return d;l=l.sibling}return null}var h=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=G&&l[G]||l["@@iterator"],typeof l=="function"?l:null)}var te=Symbol.for("react.client.reference");function W(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===te?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case A:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList";case z:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case w:return"Portal";case R:return l.displayName||"Context";case k:return(l._context.displayName||"Context")+".Consumer";case D:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case M:return d=l.displayName||null,d!==null?d:W(l.type)||"Memo";case B:d=l._payload,l=l._init;try{return W(l(d))}catch{}}return null}var $=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ie=[],be=-1;function V(l){return{current:l}}function J(l){0>be||(l.current=ie[be],ie[be]=null,be--)}function oe(l,d){be++,ie[be]=l.current,l.current=d}var ve=V(null),xe=V(null),_e=V(null),Ae=V(null);function pt(l,d){switch(oe(_e,d),oe(xe,l),oe(ve,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?Gj(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=Gj(d),l=qj(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}J(ve),oe(ve,l)}function de(){J(ve),J(xe),J(_e)}function Re(l){l.memoizedState!==null&&oe(Ae,l);var d=ve.current,p=qj(d,l.type);d!==p&&(oe(xe,l),oe(ve,p))}function Xe(l){xe.current===l&&(J(ve),J(xe)),Ae.current===l&&(J(Ae),yy._currentValue=Z)}var me,$e;function Oe(l){if(me===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);me=d&&d[1]||"",$e=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+l+$e}var he=!1;function Ee(l,d){if(!l||he)return"";he=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ce){var le=ce}Reflect.construct(l,[],ye)}else{try{ye.call()}catch(ce){le=ce}l.call(ye.prototype)}}else{try{throw Error()}catch(ce){le=ce}(ye=l())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ce){if(ce&&le&&typeof ce.stack=="string")return[ce.stack,le.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),O=N[0],H=N[1];if(O&&H){var X=O.split(`
`),se=H.split(`
`);for(_=b=0;b<X.length&&!X[b].includes("DetermineComponentFrameRoot");)b++;for(;_<se.length&&!se[_].includes("DetermineComponentFrameRoot");)_++;if(b===X.length||_===se.length)for(b=X.length-1,_=se.length-1;1<=b&&0<=_&&X[b]!==se[_];)_--;for(;1<=b&&0<=_;b--,_--)if(X[b]!==se[_]){if(b!==1||_!==1)do if(b--,_--,0>_||X[b]!==se[_]){var pe=`
`+X[b].replace(" at new "," at ");return l.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",l.displayName)),pe}while(1<=b&&0<=_);break}}}finally{he=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Oe(p):""}function Be(l,d){switch(l.tag){case 26:case 27:case 5:return Oe(l.type);case 16:return Oe("Lazy");case 13:return l.child!==d&&d!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Ee(l.type,!1);case 11:return Ee(l.type.render,!1);case 1:return Ee(l.type,!0);case 31:return Oe("Activity");default:return""}}function nt(l){try{var d="",p=null;do d+=Be(l,p),p=l,l=l.return;while(l);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var gt=Object.prototype.hasOwnProperty,hr=t.unstable_scheduleCallback,gn=t.unstable_cancelCallback,tr=t.unstable_shouldYield,fl=t.unstable_requestPaint,Nt=t.unstable_now,ns=t.unstable_getCurrentPriorityLevel,Bs=t.unstable_ImmediatePriority,Wt=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,vn=t.unstable_LowPriority,Wn=t.unstable_IdlePriority,Vi=t.log,Wd=t.unstable_setDisableYieldValue,zs=null,Mn=null;function Hs(l){if(typeof Vi=="function"&&Wd(l),Mn&&typeof Mn.setStrictMode=="function")try{Mn.setStrictMode(zs,l)}catch{}}var ui=Math.clz32?Math.clz32:lw,ow=Math.log,j_=Math.LN2;function lw(l){return l>>>=0,l===0?32:31-(ow(l)/j_|0)|0}var hl=256,Yd=262144,tc=4194304;function pl(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Kd(l,d,p){var b=l.pendingLanes;if(b===0)return 0;var _=0,N=l.suspendedLanes,O=l.pingedLanes;l=l.warmLanes;var H=b&134217727;return H!==0?(b=H&~N,b!==0?_=pl(b):(O&=H,O!==0?_=pl(O):p||(p=H&~l,p!==0&&(_=pl(p))))):(H=b&~N,H!==0?_=pl(H):O!==0?_=pl(O):p||(p=b&~l,p!==0&&(_=pl(p)))),_===0?0:d!==0&&d!==_&&(d&N)===0&&(N=_&-_,p=d&-d,N>=p||N===32&&(p&4194048)!==0)?d:_}function Xd(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function uw(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jd(){var l=tc;return tc<<=1,(tc&62914560)===0&&(tc=4194304),l}function nc(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function rc(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function F_(l,d,p,b,_,N){var O=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var H=l.entanglements,X=l.expirationTimes,se=l.hiddenUpdates;for(p=O&~p;0<p;){var pe=31-ui(p),ye=1<<pe;H[pe]=0,X[pe]=-1;var le=se[pe];if(le!==null)for(se[pe]=null,pe=0;pe<le.length;pe++){var ce=le[pe];ce!==null&&(ce.lane&=-536870913)}p&=~ye}b!==0&&cw(l,b,0),N!==0&&_===0&&l.tag!==0&&(l.suspendedLanes|=N&~(O&~d))}function cw(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var b=31-ui(d);l.entangledLanes|=d,l.entanglements[b]=l.entanglements[b]|1073741824|p&261930}function Q(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var b=31-ui(p),_=1<<b;_&d|l[b]&d&&(l[b]|=d),p&=~_}}function ne(l,d){var p=d&-d;return p=(p&42)!==0?1:ue(p),(p&(l.suspendedLanes|d))!==0?0:p}function ue(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function we(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Ce(){var l=q.p;return l!==0?l:(l=window.event,l===void 0?32:h5(l.type))}function Ve(l,d){var p=q.p;try{return q.p=l,d()}finally{q.p=p}}var je=Math.random().toString(36).slice(2),Ne="__reactFiber$"+je,Me="__reactProps$"+je,Ge="__reactContainer$"+je,Ze="__reactEvents$"+je,Ye="__reactListeners$"+je,rt="__reactHandles$"+je,jt="__reactResources$"+je,yn="__reactMarker$"+je;function jn(l){delete l[Ne],delete l[Me],delete l[Ze],delete l[Ye],delete l[rt]}function kt(l){var d=l[Ne];if(d)return d;for(var p=l.parentNode;p;){if(d=p[Ge]||p[Ne]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=Jj(l);l!==null;){if(p=l[Ne])return p;l=Jj(l)}return d}l=p,p=l.parentNode}return null}function Mt(l){if(l=l[Ne]||l[Ge]){var d=l.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return l}return null}function ga(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function rs(l){var d=l[jt];return d||(d=l[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function rn(l){l[yn]=!0}var va=new Set,up={};function ya(l,d){Wi(l,d),Wi(l+"Capture",d)}function Wi(l,d){for(up[l]=d,l=0;l<d.length;l++)va.add(d[l])}var cp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},bt={};function Nr(l){return gt.call(bt,l)?!0:gt.call(Qd,l)?!1:cp.test(l)?bt[l]=!0:(Qd[l]=!0,!1)}function Gs(l,d,p){if(Nr(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function is(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function Pt(l,d,p,b){if(b===null)l.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+b)}}function qr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Iv(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function U_(l,d,p){var b=Object.getOwnPropertyDescriptor(l.constructor.prototype,d);if(!l.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var _=b.get,N=b.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return _.call(this)},set:function(O){p=""+O,N.call(this,O)}}),Object.defineProperty(l,d,{enumerable:b.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function B_(l){if(!l._valueTracker){var d=Iv(l)?"checked":"value";l._valueTracker=U_(l,d,""+l[d])}}function OI(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),b="";return l&&(b=Iv(l)?l.checked?"true":"false":l.value),l=b,l!==p?(d.setValue(l),!0):!1}function dw(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var lK=/[\n"\\]/g;function as(l){return l.replace(lK,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function z_(l,d,p,b,_,N,O,H){l.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?l.type=O:l.removeAttribute("type"),d!=null?O==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+qr(d)):l.value!==""+qr(d)&&(l.value=""+qr(d)):O!=="submit"&&O!=="reset"||l.removeAttribute("value"),d!=null?H_(l,O,qr(d)):p!=null?H_(l,O,qr(p)):b!=null&&l.removeAttribute("value"),_==null&&N!=null&&(l.defaultChecked=!!N),_!=null&&(l.checked=_&&typeof _!="function"&&typeof _!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?l.name=""+qr(H):l.removeAttribute("name")}function jI(l,d,p,b,_,N,O,H){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),d!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||d!=null)){B_(l);return}p=p!=null?""+qr(p):"",d=d!=null?""+qr(d):p,H||d===l.value||(l.value=d),l.defaultValue=d}b=b??_,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=H?l.checked:!!b,l.defaultChecked=!!b,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.name=O),B_(l)}function H_(l,d,p){d==="number"&&dw(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function dp(l,d,p,b){if(l=l.options,d){d={};for(var _=0;_<p.length;_++)d["$"+p[_]]=!0;for(p=0;p<l.length;p++)_=d.hasOwnProperty("$"+l[p].value),l[p].selected!==_&&(l[p].selected=_),_&&b&&(l[p].defaultSelected=!0)}else{for(p=""+qr(p),d=null,_=0;_<l.length;_++){if(l[_].value===p){l[_].selected=!0,b&&(l[_].defaultSelected=!0);return}d!==null||l[_].disabled||(d=l[_])}d!==null&&(d.selected=!0)}}function FI(l,d,p){if(d!=null&&(d=""+qr(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+qr(p):""}function UI(l,d,p,b){if(d==null){if(b!=null){if(p!=null)throw Error(r(92));if($(b)){if(1<b.length)throw Error(r(93));b=b[0]}p=b}p==null&&(p=""),d=p}p=qr(d),l.defaultValue=p,b=l.textContent,b===p&&b!==""&&b!==null&&(l.value=b),B_(l)}function fp(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var uK=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function BI(l,d,p){var b=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?b?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":b?l.setProperty(d,p):typeof p!="number"||p===0||uK.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function zI(l,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,p!=null){for(var b in p)!p.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var _ in d)b=d[_],d.hasOwnProperty(_)&&p[_]!==b&&BI(l,_,b)}else for(var N in d)d.hasOwnProperty(N)&&BI(l,N,d[N])}function G_(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cK=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dK=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fw(l){return dK.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function ml(){}var q_=null;function $_(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var hp=null,pp=null;function HI(l){var d=Mt(l);if(d&&(l=d.stateNode)){var p=l[Me]||null;e:switch(l=d.stateNode,d.type){case"input":if(z_(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+as(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var b=p[d];if(b!==l&&b.form===l.form){var _=b[Me]||null;if(!_)throw Error(r(90));z_(b,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(d=0;d<p.length;d++)b=p[d],b.form===l.form&&OI(b)}break e;case"textarea":FI(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&dp(l,!!p.multiple,d,!1)}}}var V_=!1;function GI(l,d,p){if(V_)return l(d,p);V_=!0;try{var b=l(d);return b}finally{if(V_=!1,(hp!==null||pp!==null)&&(Zw(),hp&&(d=hp,l=pp,pp=hp=null,HI(d),l)))for(d=0;d<l.length;d++)HI(l[d])}}function Lv(l,d){var p=l.stateNode;if(p===null)return null;var b=p[Me]||null;if(b===null)return null;p=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W_=!1;if(gl)try{var Ov={};Object.defineProperty(Ov,"passive",{get:function(){W_=!0}}),window.addEventListener("test",Ov,Ov),window.removeEventListener("test",Ov,Ov)}catch{W_=!1}var ic=null,Y_=null,hw=null;function qI(){if(hw)return hw;var l,d=Y_,p=d.length,b,_="value"in ic?ic.value:ic.textContent,N=_.length;for(l=0;l<p&&d[l]===_[l];l++);var O=p-l;for(b=1;b<=O&&d[p-b]===_[N-b];b++);return hw=_.slice(l,1<b?1-b:void 0)}function pw(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function mw(){return!0}function $I(){return!1}function Yi(l){function d(p,b,_,N,O){this._reactName=p,this._targetInst=_,this.type=b,this.nativeEvent=N,this.target=O,this.currentTarget=null;for(var H in l)l.hasOwnProperty(H)&&(p=l[H],this[H]=p?p(N):N[H]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?mw:$I,this.isPropagationStopped=$I,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=mw)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=mw)},persist:function(){},isPersistent:mw}),d}var Zd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gw=Yi(Zd),jv=h({},Zd,{view:0,detail:0}),fK=Yi(jv),K_,X_,Fv,vw=h({},jv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q_,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Fv&&(Fv&&l.type==="mousemove"?(K_=l.screenX-Fv.screenX,X_=l.screenY-Fv.screenY):X_=K_=0,Fv=l),K_)},movementY:function(l){return"movementY"in l?l.movementY:X_}}),VI=Yi(vw),hK=h({},vw,{dataTransfer:0}),pK=Yi(hK),mK=h({},jv,{relatedTarget:0}),J_=Yi(mK),gK=h({},Zd,{animationName:0,elapsedTime:0,pseudoElement:0}),vK=Yi(gK),yK=h({},Zd,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),bK=Yi(yK),xK=h({},Zd,{data:0}),WI=Yi(xK),wK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AK(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=EK[l])?!!d[l]:!1}function Q_(){return AK}var _K=h({},jv,{key:function(l){if(l.key){var d=wK[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=pw(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?SK[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q_,charCode:function(l){return l.type==="keypress"?pw(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?pw(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),CK=Yi(_K),TK=h({},vw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YI=Yi(TK),NK=h({},jv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q_}),RK=Yi(NK),kK=h({},Zd,{propertyName:0,elapsedTime:0,pseudoElement:0}),MK=Yi(kK),PK=h({},vw,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),DK=Yi(PK),IK=h({},Zd,{newState:0,oldState:0}),LK=Yi(IK),OK=[9,13,27,32],Z_=gl&&"CompositionEvent"in window,Uv=null;gl&&"documentMode"in document&&(Uv=document.documentMode);var jK=gl&&"TextEvent"in window&&!Uv,KI=gl&&(!Z_||Uv&&8<Uv&&11>=Uv),XI=" ",JI=!1;function QI(l,d){switch(l){case"keyup":return OK.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZI(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var mp=!1;function FK(l,d){switch(l){case"compositionend":return ZI(d);case"keypress":return d.which!==32?null:(JI=!0,XI);case"textInput":return l=d.data,l===XI&&JI?null:l;default:return null}}function UK(l,d){if(mp)return l==="compositionend"||!Z_&&QI(l,d)?(l=qI(),hw=Y_=ic=null,mp=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return KI&&d.locale!=="ko"?null:d.data;default:return null}}var BK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eL(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!BK[l.type]:d==="textarea"}function tL(l,d,p,b){hp?pp?pp.push(b):pp=[b]:hp=b,d=sS(d,"onChange"),0<d.length&&(p=new gw("onChange","change",null,p,b),l.push({event:p,listeners:d}))}var Bv=null,zv=null;function zK(l){jj(l,0)}function yw(l){var d=ga(l);if(OI(d))return l}function nL(l,d){if(l==="change")return d}var rL=!1;if(gl){var eC;if(gl){var tC="oninput"in document;if(!tC){var iL=document.createElement("div");iL.setAttribute("oninput","return;"),tC=typeof iL.oninput=="function"}eC=tC}else eC=!1;rL=eC&&(!document.documentMode||9<document.documentMode)}function aL(){Bv&&(Bv.detachEvent("onpropertychange",sL),zv=Bv=null)}function sL(l){if(l.propertyName==="value"&&yw(zv)){var d=[];tL(d,zv,l,$_(l)),GI(zK,d)}}function HK(l,d,p){l==="focusin"?(aL(),Bv=d,zv=p,Bv.attachEvent("onpropertychange",sL)):l==="focusout"&&aL()}function GK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return yw(zv)}function qK(l,d){if(l==="click")return yw(d)}function $K(l,d){if(l==="input"||l==="change")return yw(d)}function VK(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var ba=typeof Object.is=="function"?Object.is:VK;function Hv(l,d){if(ba(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),b=Object.keys(d);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var _=p[b];if(!gt.call(d,_)||!ba(l[_],d[_]))return!1}return!0}function oL(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function lL(l,d){var p=oL(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=d&&b>=d)return{node:p,offset:d-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=oL(p)}}function uL(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?uL(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function cL(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=dw(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=dw(l.document)}return d}function nC(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var WK=gl&&"documentMode"in document&&11>=document.documentMode,gp=null,rC=null,Gv=null,iC=!1;function dL(l,d,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;iC||gp==null||gp!==dw(b)||(b=gp,"selectionStart"in b&&nC(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Gv&&Hv(Gv,b)||(Gv=b,b=sS(rC,"onSelect"),0<b.length&&(d=new gw("onSelect","select",null,d,p),l.push({event:d,listeners:b}),d.target=gp)))}function ef(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var vp={animationend:ef("Animation","AnimationEnd"),animationiteration:ef("Animation","AnimationIteration"),animationstart:ef("Animation","AnimationStart"),transitionrun:ef("Transition","TransitionRun"),transitionstart:ef("Transition","TransitionStart"),transitioncancel:ef("Transition","TransitionCancel"),transitionend:ef("Transition","TransitionEnd")},aC={},fL={};gl&&(fL=document.createElement("div").style,"AnimationEvent"in window||(delete vp.animationend.animation,delete vp.animationiteration.animation,delete vp.animationstart.animation),"TransitionEvent"in window||delete vp.transitionend.transition);function tf(l){if(aC[l])return aC[l];if(!vp[l])return l;var d=vp[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in fL)return aC[l]=d[p];return l}var hL=tf("animationend"),pL=tf("animationiteration"),mL=tf("animationstart"),YK=tf("transitionrun"),KK=tf("transitionstart"),XK=tf("transitioncancel"),gL=tf("transitionend"),vL=new Map,sC="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sC.push("scrollEnd");function qs(l,d){vL.set(l,d),ya(d,[l])}var bw=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ss=[],yp=0,oC=0;function xw(){for(var l=yp,d=oC=yp=0;d<l;){var p=ss[d];ss[d++]=null;var b=ss[d];ss[d++]=null;var _=ss[d];ss[d++]=null;var N=ss[d];if(ss[d++]=null,b!==null&&_!==null){var O=b.pending;O===null?_.next=_:(_.next=O.next,O.next=_),b.pending=_}N!==0&&yL(p,_,N)}}function ww(l,d,p,b){ss[yp++]=l,ss[yp++]=d,ss[yp++]=p,ss[yp++]=b,oC|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function lC(l,d,p,b){return ww(l,d,p,b),Sw(l)}function nf(l,d){return ww(l,null,null,d),Sw(l)}function yL(l,d,p){l.lanes|=p;var b=l.alternate;b!==null&&(b.lanes|=p);for(var _=!1,N=l.return;N!==null;)N.childLanes|=p,b=N.alternate,b!==null&&(b.childLanes|=p),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(_=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,_&&d!==null&&(_=31-ui(p),l=N.hiddenUpdates,b=l[_],b===null?l[_]=[d]:b.push(d),d.lane=p|536870912),N):null}function Sw(l){if(50<dy)throw dy=0,vT=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var bp={};function JK(l,d,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(l,d,p,b){return new JK(l,d,p,b)}function uC(l){return l=l.prototype,!(!l||!l.isReactComponent)}function vl(l,d){var p=l.alternate;return p===null?(p=xa(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function bL(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function Ew(l,d,p,b,_,N){var O=0;if(b=l,typeof l=="function")uC(l)&&(O=1);else if(typeof l=="string")O=nJ(l,p,ve.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case z:return l=xa(31,p,d,_),l.elementType=z,l.lanes=N,l;case A:return rf(p.children,_,N,d);case E:O=8,_|=24;break;case C:return l=xa(12,p,d,_|2),l.elementType=C,l.lanes=N,l;case I:return l=xa(13,p,d,_),l.elementType=I,l.lanes=N,l;case P:return l=xa(19,p,d,_),l.elementType=P,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:O=10;break e;case k:O=9;break e;case D:O=11;break e;case M:O=14;break e;case B:O=16,b=null;break e}O=29,p=Error(r(130,l===null?"null":typeof l,"")),b=null}return d=xa(O,p,d,_),d.elementType=l,d.type=b,d.lanes=N,d}function rf(l,d,p,b){return l=xa(7,l,b,d),l.lanes=p,l}function cC(l,d,p){return l=xa(6,l,null,d),l.lanes=p,l}function xL(l){var d=xa(18,null,null,0);return d.stateNode=l,d}function dC(l,d,p){return d=xa(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var wL=new WeakMap;function os(l,d){if(typeof l=="object"&&l!==null){var p=wL.get(l);return p!==void 0?p:(d={value:l,source:d,stack:nt(d)},wL.set(l,d),d)}return{value:l,source:d,stack:nt(d)}}var xp=[],wp=0,Aw=null,qv=0,ls=[],us=0,ac=null,wo=1,So="";function yl(l,d){xp[wp++]=qv,xp[wp++]=Aw,Aw=l,qv=d}function SL(l,d,p){ls[us++]=wo,ls[us++]=So,ls[us++]=ac,ac=l;var b=wo;l=So;var _=32-ui(b)-1;b&=~(1<<_),p+=1;var N=32-ui(d)+_;if(30<N){var O=_-_%5;N=(b&(1<<O)-1).toString(32),b>>=O,_-=O,wo=1<<32-ui(d)+_|p<<_|b,So=N+l}else wo=1<<N|p<<_|b,So=l}function fC(l){l.return!==null&&(yl(l,1),SL(l,1,0))}function hC(l){for(;l===Aw;)Aw=xp[--wp],xp[wp]=null,qv=xp[--wp],xp[wp]=null;for(;l===ac;)ac=ls[--us],ls[us]=null,So=ls[--us],ls[us]=null,wo=ls[--us],ls[us]=null}function EL(l,d){ls[us++]=wo,ls[us++]=So,ls[us++]=ac,wo=d.id,So=d.overflow,ac=l}var $r=null,bn=null,Et=!1,sc=null,cs=!1,pC=Error(r(519));function oc(l){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $v(os(d,l)),pC}function AL(l){var d=l.stateNode,p=l.type,b=l.memoizedProps;switch(d[Ne]=l,d[Me]=b,p){case"dialog":yt("cancel",d),yt("close",d);break;case"iframe":case"object":case"embed":yt("load",d);break;case"video":case"audio":for(p=0;p<hy.length;p++)yt(hy[p],d);break;case"source":yt("error",d);break;case"img":case"image":case"link":yt("error",d),yt("load",d);break;case"details":yt("toggle",d);break;case"input":yt("invalid",d),jI(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":yt("invalid",d);break;case"textarea":yt("invalid",d),UI(d,b.value,b.defaultValue,b.children)}p=b.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||b.suppressHydrationWarning===!0||zj(d.textContent,p)?(b.popover!=null&&(yt("beforetoggle",d),yt("toggle",d)),b.onScroll!=null&&yt("scroll",d),b.onScrollEnd!=null&&yt("scrollend",d),b.onClick!=null&&(d.onclick=ml),d=!0):d=!1,d||oc(l,!0)}function _L(l){for($r=l.return;$r;)switch($r.tag){case 5:case 31:case 13:cs=!1;return;case 27:case 3:cs=!0;return;default:$r=$r.return}}function Sp(l){if(l!==$r)return!1;if(!Et)return _L(l),Et=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||PT(l.type,l.memoizedProps)),p=!p),p&&bn&&oc(l),_L(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));bn=Xj(l)}else if(d===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));bn=Xj(l)}else d===27?(d=bn,wc(l.type)?(l=jT,jT=null,bn=l):bn=d):bn=$r?fs(l.stateNode.nextSibling):null;return!0}function af(){bn=$r=null,Et=!1}function mC(){var l=sc;return l!==null&&(Qi===null?Qi=l:Qi.push.apply(Qi,l),sc=null),l}function $v(l){sc===null?sc=[l]:sc.push(l)}var gC=V(null),sf=null,bl=null;function lc(l,d,p){oe(gC,d._currentValue),d._currentValue=p}function xl(l){l._currentValue=gC.current,J(gC)}function vC(l,d,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),l===p)break;l=l.return}}function yC(l,d,p,b){var _=l.child;for(_!==null&&(_.return=l);_!==null;){var N=_.dependencies;if(N!==null){var O=_.child;N=N.firstContext;e:for(;N!==null;){var H=N;N=_;for(var X=0;X<d.length;X++)if(H.context===d[X]){N.lanes|=p,H=N.alternate,H!==null&&(H.lanes|=p),vC(N.return,p,l),b||(O=null);break e}N=H.next}}else if(_.tag===18){if(O=_.return,O===null)throw Error(r(341));O.lanes|=p,N=O.alternate,N!==null&&(N.lanes|=p),vC(O,p,l),O=null}else O=_.child;if(O!==null)O.return=_;else for(O=_;O!==null;){if(O===l){O=null;break}if(_=O.sibling,_!==null){_.return=O.return,O=_;break}O=O.return}_=O}}function Ep(l,d,p,b){l=null;for(var _=d,N=!1;_!==null;){if(!N){if((_.flags&524288)!==0)N=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var O=_.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var H=_.type;ba(_.pendingProps.value,O.value)||(l!==null?l.push(H):l=[H])}}else if(_===Ae.current){if(O=_.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(l!==null?l.push(yy):l=[yy])}_=_.return}l!==null&&yC(d,l,p,b),d.flags|=262144}function _w(l){for(l=l.firstContext;l!==null;){if(!ba(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function of(l){sf=l,bl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Vr(l){return CL(sf,l)}function Cw(l,d){return sf===null&&of(l),CL(l,d)}function CL(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},bl===null){if(l===null)throw Error(r(308));bl=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else bl=bl.next=d;return p}var QK=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,b){l.push(b)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},ZK=t.unstable_scheduleCallback,eX=t.unstable_NormalPriority,nr={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bC(){return{controller:new QK,data:new Map,refCount:0}}function Vv(l){l.refCount--,l.refCount===0&&ZK(eX,function(){l.controller.abort()})}var Wv=null,xC=0,Ap=0,_p=null;function tX(l,d){if(Wv===null){var p=Wv=[];xC=0,Ap=ET(),_p={status:"pending",value:void 0,then:function(b){p.push(b)}}}return xC++,d.then(TL,TL),d}function TL(){if(--xC===0&&Wv!==null){_p!==null&&(_p.status="fulfilled");var l=Wv;Wv=null,Ap=0,_p=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function nX(l,d){var p=[],b={status:"pending",value:null,reason:null,then:function(_){p.push(_)}};return l.then(function(){b.status="fulfilled",b.value=d;for(var _=0;_<p.length;_++)(0,p[_])(d)},function(_){for(b.status="rejected",b.reason=_,_=0;_<p.length;_++)(0,p[_])(void 0)}),b}var NL=U.S;U.S=function(l,d){dj=Nt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&tX(l,d),NL!==null&&NL(l,d)};var lf=V(null);function wC(){var l=lf.current;return l!==null?l:an.pooledCache}function Tw(l,d){d===null?oe(lf,lf.current):oe(lf,d.pool)}function RL(){var l=wC();return l===null?null:{parent:nr._currentValue,pool:l}}var Cp=Error(r(460)),SC=Error(r(474)),Nw=Error(r(542)),Rw={then:function(){}};function kL(l){return l=l.status,l==="fulfilled"||l==="rejected"}function ML(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(ml,ml),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,DL(l),l;default:if(typeof d.status=="string")d.then(ml,ml);else{if(l=an,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(b){if(d.status==="pending"){var _=d;_.status="fulfilled",_.value=b}},function(b){if(d.status==="pending"){var _=d;_.status="rejected",_.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,DL(l),l}throw cf=d,Cp}}function uf(l){try{var d=l._init;return d(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(cf=p,Cp):p}}var cf=null;function PL(){if(cf===null)throw Error(r(459));var l=cf;return cf=null,l}function DL(l){if(l===Cp||l===Nw)throw Error(r(483))}var Tp=null,Yv=0;function kw(l){var d=Yv;return Yv+=1,Tp===null&&(Tp=[]),ML(Tp,l,d)}function Kv(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Mw(l,d){throw d.$$typeof===v?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function IL(l){function d(re,ee){if(l){var ae=re.deletions;ae===null?(re.deletions=[ee],re.flags|=16):ae.push(ee)}}function p(re,ee){if(!l)return null;for(;ee!==null;)d(re,ee),ee=ee.sibling;return null}function b(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function _(re,ee){return re=vl(re,ee),re.index=0,re.sibling=null,re}function N(re,ee,ae){return re.index=ae,l?(ae=re.alternate,ae!==null?(ae=ae.index,ae<ee?(re.flags|=67108866,ee):ae):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function O(re){return l&&re.alternate===null&&(re.flags|=67108866),re}function H(re,ee,ae,ge){return ee===null||ee.tag!==6?(ee=cC(ae,re.mode,ge),ee.return=re,ee):(ee=_(ee,ae),ee.return=re,ee)}function X(re,ee,ae,ge){var Je=ae.type;return Je===A?pe(re,ee,ae.props.children,ge,ae.key):ee!==null&&(ee.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===B&&uf(Je)===ee.type)?(ee=_(ee,ae.props),Kv(ee,ae),ee.return=re,ee):(ee=Ew(ae.type,ae.key,ae.props,null,re.mode,ge),Kv(ee,ae),ee.return=re,ee)}function se(re,ee,ae,ge){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ae.containerInfo||ee.stateNode.implementation!==ae.implementation?(ee=dC(ae,re.mode,ge),ee.return=re,ee):(ee=_(ee,ae.children||[]),ee.return=re,ee)}function pe(re,ee,ae,ge,Je){return ee===null||ee.tag!==7?(ee=rf(ae,re.mode,ge,Je),ee.return=re,ee):(ee=_(ee,ae),ee.return=re,ee)}function ye(re,ee,ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=cC(""+ee,re.mode,ae),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case y:return ae=Ew(ee.type,ee.key,ee.props,null,re.mode,ae),Kv(ae,ee),ae.return=re,ae;case w:return ee=dC(ee,re.mode,ae),ee.return=re,ee;case B:return ee=uf(ee),ye(re,ee,ae)}if($(ee)||Y(ee))return ee=rf(ee,re.mode,ae,null),ee.return=re,ee;if(typeof ee.then=="function")return ye(re,kw(ee),ae);if(ee.$$typeof===R)return ye(re,Cw(re,ee),ae);Mw(re,ee)}return null}function le(re,ee,ae,ge){var Je=ee!==null?ee.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Je!==null?null:H(re,ee,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return ae.key===Je?X(re,ee,ae,ge):null;case w:return ae.key===Je?se(re,ee,ae,ge):null;case B:return ae=uf(ae),le(re,ee,ae,ge)}if($(ae)||Y(ae))return Je!==null?null:pe(re,ee,ae,ge,null);if(typeof ae.then=="function")return le(re,ee,kw(ae),ge);if(ae.$$typeof===R)return le(re,ee,Cw(re,ae),ge);Mw(re,ae)}return null}function ce(re,ee,ae,ge,Je){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return re=re.get(ae)||null,H(ee,re,""+ge,Je);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case y:return re=re.get(ge.key===null?ae:ge.key)||null,X(ee,re,ge,Je);case w:return re=re.get(ge.key===null?ae:ge.key)||null,se(ee,re,ge,Je);case B:return ge=uf(ge),ce(re,ee,ae,ge,Je)}if($(ge)||Y(ge))return re=re.get(ae)||null,pe(ee,re,ge,Je,null);if(typeof ge.then=="function")return ce(re,ee,ae,kw(ge),Je);if(ge.$$typeof===R)return ce(re,ee,ae,Cw(ee,ge),Je);Mw(ee,ge)}return null}function Fe(re,ee,ae,ge){for(var Je=null,Dt=null,ze=ee,ct=ee=0,wt=null;ze!==null&&ct<ae.length;ct++){ze.index>ct?(wt=ze,ze=null):wt=ze.sibling;var It=le(re,ze,ae[ct],ge);if(It===null){ze===null&&(ze=wt);break}l&&ze&&It.alternate===null&&d(re,ze),ee=N(It,ee,ct),Dt===null?Je=It:Dt.sibling=It,Dt=It,ze=wt}if(ct===ae.length)return p(re,ze),Et&&yl(re,ct),Je;if(ze===null){for(;ct<ae.length;ct++)ze=ye(re,ae[ct],ge),ze!==null&&(ee=N(ze,ee,ct),Dt===null?Je=ze:Dt.sibling=ze,Dt=ze);return Et&&yl(re,ct),Je}for(ze=b(ze);ct<ae.length;ct++)wt=ce(ze,re,ct,ae[ct],ge),wt!==null&&(l&&wt.alternate!==null&&ze.delete(wt.key===null?ct:wt.key),ee=N(wt,ee,ct),Dt===null?Je=wt:Dt.sibling=wt,Dt=wt);return l&&ze.forEach(function(Cc){return d(re,Cc)}),Et&&yl(re,ct),Je}function et(re,ee,ae,ge){if(ae==null)throw Error(r(151));for(var Je=null,Dt=null,ze=ee,ct=ee=0,wt=null,It=ae.next();ze!==null&&!It.done;ct++,It=ae.next()){ze.index>ct?(wt=ze,ze=null):wt=ze.sibling;var Cc=le(re,ze,It.value,ge);if(Cc===null){ze===null&&(ze=wt);break}l&&ze&&Cc.alternate===null&&d(re,ze),ee=N(Cc,ee,ct),Dt===null?Je=Cc:Dt.sibling=Cc,Dt=Cc,ze=wt}if(It.done)return p(re,ze),Et&&yl(re,ct),Je;if(ze===null){for(;!It.done;ct++,It=ae.next())It=ye(re,It.value,ge),It!==null&&(ee=N(It,ee,ct),Dt===null?Je=It:Dt.sibling=It,Dt=It);return Et&&yl(re,ct),Je}for(ze=b(ze);!It.done;ct++,It=ae.next())It=ce(ze,re,ct,It.value,ge),It!==null&&(l&&It.alternate!==null&&ze.delete(It.key===null?ct:It.key),ee=N(It,ee,ct),Dt===null?Je=It:Dt.sibling=It,Dt=It);return l&&ze.forEach(function(hJ){return d(re,hJ)}),Et&&yl(re,ct),Je}function Xt(re,ee,ae,ge){if(typeof ae=="object"&&ae!==null&&ae.type===A&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:e:{for(var Je=ae.key;ee!==null;){if(ee.key===Je){if(Je=ae.type,Je===A){if(ee.tag===7){p(re,ee.sibling),ge=_(ee,ae.props.children),ge.return=re,re=ge;break e}}else if(ee.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===B&&uf(Je)===ee.type){p(re,ee.sibling),ge=_(ee,ae.props),Kv(ge,ae),ge.return=re,re=ge;break e}p(re,ee);break}else d(re,ee);ee=ee.sibling}ae.type===A?(ge=rf(ae.props.children,re.mode,ge,ae.key),ge.return=re,re=ge):(ge=Ew(ae.type,ae.key,ae.props,null,re.mode,ge),Kv(ge,ae),ge.return=re,re=ge)}return O(re);case w:e:{for(Je=ae.key;ee!==null;){if(ee.key===Je)if(ee.tag===4&&ee.stateNode.containerInfo===ae.containerInfo&&ee.stateNode.implementation===ae.implementation){p(re,ee.sibling),ge=_(ee,ae.children||[]),ge.return=re,re=ge;break e}else{p(re,ee);break}else d(re,ee);ee=ee.sibling}ge=dC(ae,re.mode,ge),ge.return=re,re=ge}return O(re);case B:return ae=uf(ae),Xt(re,ee,ae,ge)}if($(ae))return Fe(re,ee,ae,ge);if(Y(ae)){if(Je=Y(ae),typeof Je!="function")throw Error(r(150));return ae=Je.call(ae),et(re,ee,ae,ge)}if(typeof ae.then=="function")return Xt(re,ee,kw(ae),ge);if(ae.$$typeof===R)return Xt(re,ee,Cw(re,ae),ge);Mw(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ee!==null&&ee.tag===6?(p(re,ee.sibling),ge=_(ee,ae),ge.return=re,re=ge):(p(re,ee),ge=cC(ae,re.mode,ge),ge.return=re,re=ge),O(re)):p(re,ee)}return function(re,ee,ae,ge){try{Yv=0;var Je=Xt(re,ee,ae,ge);return Tp=null,Je}catch(ze){if(ze===Cp||ze===Nw)throw ze;var Dt=xa(29,ze,null,re.mode);return Dt.lanes=ge,Dt.return=re,Dt}finally{}}}var df=IL(!0),LL=IL(!1),uc=!1;function EC(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function AC(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function cc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function dc(l,d,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Ft&2)!==0){var _=b.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),b.pending=d,d=Sw(l),yL(l,null,p),d}return ww(l,b,d,p),Sw(l)}function Xv(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var b=d.lanes;b&=l.pendingLanes,p|=b,d.lanes=p,Q(l,p)}}function _C(l,d){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var _=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var O={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?_=N=O:N=N.next=O,p=p.next}while(p!==null);N===null?_=N=d:N=N.next=d}else _=N=d;p={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var CC=!1;function Jv(){if(CC){var l=_p;if(l!==null)throw l}}function Qv(l,d,p,b){CC=!1;var _=l.updateQueue;uc=!1;var N=_.firstBaseUpdate,O=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var X=H,se=X.next;X.next=null,O===null?N=se:O.next=se,O=X;var pe=l.alternate;pe!==null&&(pe=pe.updateQueue,H=pe.lastBaseUpdate,H!==O&&(H===null?pe.firstBaseUpdate=se:H.next=se,pe.lastBaseUpdate=X))}if(N!==null){var ye=_.baseState;O=0,pe=se=X=null,H=N;do{var le=H.lane&-536870913,ce=le!==H.lane;if(ce?(xt&le)===le:(b&le)===le){le!==0&&le===Ap&&(CC=!0),pe!==null&&(pe=pe.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Fe=l,et=H;le=d;var Xt=p;switch(et.tag){case 1:if(Fe=et.payload,typeof Fe=="function"){ye=Fe.call(Xt,ye,le);break e}ye=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=et.payload,le=typeof Fe=="function"?Fe.call(Xt,ye,le):Fe,le==null)break e;ye=h({},ye,le);break e;case 2:uc=!0}}le=H.callback,le!==null&&(l.flags|=64,ce&&(l.flags|=8192),ce=_.callbacks,ce===null?_.callbacks=[le]:ce.push(le))}else ce={lane:le,tag:H.tag,payload:H.payload,callback:H.callback,next:null},pe===null?(se=pe=ce,X=ye):pe=pe.next=ce,O|=le;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;ce=H,H=ce.next,ce.next=null,_.lastBaseUpdate=ce,_.shared.pending=null}}while(!0);pe===null&&(X=ye),_.baseState=X,_.firstBaseUpdate=se,_.lastBaseUpdate=pe,N===null&&(_.shared.lanes=0),gc|=O,l.lanes=O,l.memoizedState=ye}}function OL(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function jL(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)OL(p[l],d)}var Np=V(null),Pw=V(0);function FL(l,d){l=Rl,oe(Pw,l),oe(Np,d),Rl=l|d.baseLanes}function TC(){oe(Pw,Rl),oe(Np,Np.current)}function NC(){Rl=Pw.current,J(Np),J(Pw)}var wa=V(null),ds=null;function fc(l){var d=l.alternate;oe(Yn,Yn.current&1),oe(wa,l),ds===null&&(d===null||Np.current!==null||d.memoizedState!==null)&&(ds=l)}function RC(l){oe(Yn,Yn.current),oe(wa,l),ds===null&&(ds=l)}function UL(l){l.tag===22?(oe(Yn,Yn.current),oe(wa,l),ds===null&&(ds=l)):hc()}function hc(){oe(Yn,Yn.current),oe(wa,wa.current)}function Sa(l){J(wa),ds===l&&(ds=null),J(Yn)}var Yn=V(0);function Dw(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||LT(p)||OT(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var wl=0,lt=null,Yt=null,rr=null,Iw=!1,Rp=!1,ff=!1,Lw=0,Zv=0,kp=null,rX=0;function Fn(){throw Error(r(321))}function kC(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!ba(l[p],d[p]))return!1;return!0}function MC(l,d,p,b,_,N){return wl=N,lt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,U.H=l===null||l.memoizedState===null?SO:VC,ff=!1,N=p(b,_),ff=!1,Rp&&(N=zL(d,p,b,_)),BL(l),N}function BL(l){U.H=ny;var d=Yt!==null&&Yt.next!==null;if(wl=0,rr=Yt=lt=null,Iw=!1,Zv=0,kp=null,d)throw Error(r(300));l===null||ir||(l=l.dependencies,l!==null&&_w(l)&&(ir=!0))}function zL(l,d,p,b){lt=l;var _=0;do{if(Rp&&(kp=null),Zv=0,Rp=!1,25<=_)throw Error(r(301));if(_+=1,rr=Yt=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}U.H=EO,N=d(p,b)}while(Rp);return N}function iX(){var l=U.H,d=l.useState()[0];return d=typeof d.then=="function"?ey(d):d,l=l.useState()[0],(Yt!==null?Yt.memoizedState:null)!==l&&(lt.flags|=1024),d}function PC(){var l=Lw!==0;return Lw=0,l}function DC(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function IC(l){if(Iw){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Iw=!1}wl=0,rr=Yt=lt=null,Rp=!1,Zv=Lw=0,kp=null}function Mi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?lt.memoizedState=rr=l:rr=rr.next=l,rr}function Kn(){if(Yt===null){var l=lt.alternate;l=l!==null?l.memoizedState:null}else l=Yt.next;var d=rr===null?lt.memoizedState:rr.next;if(d!==null)rr=d,Yt=l;else{if(l===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Yt=l,l={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},rr===null?lt.memoizedState=rr=l:rr=rr.next=l}return rr}function Ow(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ey(l){var d=Zv;return Zv+=1,kp===null&&(kp=[]),l=ML(kp,l,d),d=lt,(rr===null?d.memoizedState:rr.next)===null&&(d=d.alternate,U.H=d===null||d.memoizedState===null?SO:VC),l}function jw(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return ey(l);if(l.$$typeof===R)return Vr(l)}throw Error(r(438,String(l)))}function LC(l){var d=null,p=lt.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var b=lt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(_){return _.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=Ow(),lt.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),b=0;b<l;b++)p[b]=K;return d.index++,p}function Sl(l,d){return typeof d=="function"?d(l):d}function Fw(l){var d=Kn();return OC(d,Yt,l)}function OC(l,d,p){var b=l.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=p;var _=l.baseQueue,N=b.pending;if(N!==null){if(_!==null){var O=_.next;_.next=N.next,N.next=O}d.baseQueue=_=N,b.pending=null}if(N=l.baseState,_===null)l.memoizedState=N;else{d=_.next;var H=O=null,X=null,se=d,pe=!1;do{var ye=se.lane&-536870913;if(ye!==se.lane?(xt&ye)===ye:(wl&ye)===ye){var le=se.revertLane;if(le===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),ye===Ap&&(pe=!0);else if((wl&le)===le){se=se.next,le===Ap&&(pe=!0);continue}else ye={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},X===null?(H=X=ye,O=N):X=X.next=ye,lt.lanes|=le,gc|=le;ye=se.action,ff&&p(N,ye),N=se.hasEagerState?se.eagerState:p(N,ye)}else le={lane:ye,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},X===null?(H=X=le,O=N):X=X.next=le,lt.lanes|=ye,gc|=ye;se=se.next}while(se!==null&&se!==d);if(X===null?O=N:X.next=H,!ba(N,l.memoizedState)&&(ir=!0,pe&&(p=_p,p!==null)))throw p;l.memoizedState=N,l.baseState=O,l.baseQueue=X,b.lastRenderedState=N}return _===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function jC(l){var d=Kn(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var b=p.dispatch,_=p.pending,N=d.memoizedState;if(_!==null){p.pending=null;var O=_=_.next;do N=l(N,O.action),O=O.next;while(O!==_);ba(N,d.memoizedState)||(ir=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),p.lastRenderedState=N}return[N,b]}function HL(l,d,p){var b=lt,_=Kn(),N=Et;if(N){if(p===void 0)throw Error(r(407));p=p()}else p=d();var O=!ba((Yt||_).memoizedState,p);if(O&&(_.memoizedState=p,ir=!0),_=_.queue,BC($L.bind(null,b,_,l),[l]),_.getSnapshot!==d||O||rr!==null&&rr.memoizedState.tag&1){if(b.flags|=2048,Mp(9,{destroy:void 0},qL.bind(null,b,_,p,d),null),an===null)throw Error(r(349));N||(wl&127)!==0||GL(b,d,p)}return p}function GL(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=lt.updateQueue,d===null?(d=Ow(),lt.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function qL(l,d,p,b){d.value=p,d.getSnapshot=b,VL(d)&&WL(l)}function $L(l,d,p){return p(function(){VL(d)&&WL(l)})}function VL(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!ba(l,p)}catch{return!0}}function WL(l){var d=nf(l,2);d!==null&&Zi(d,l,2)}function FC(l){var d=Mi();if(typeof l=="function"){var p=l;if(l=p(),ff){Hs(!0);try{p()}finally{Hs(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:l},d}function YL(l,d,p,b){return l.baseState=p,OC(l,Yt,typeof b=="function"?b:Sl)}function aX(l,d,p,b,_){if(zw(l))throw Error(r(485));if(l=d.action,l!==null){var N={payload:_,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){N.listeners.push(O)}};U.T!==null?p(!0):N.isTransition=!1,b(N),p=d.pending,p===null?(N.next=d.pending=N,KL(d,N)):(N.next=p.next,d.pending=p.next=N)}}function KL(l,d){var p=d.action,b=d.payload,_=l.state;if(d.isTransition){var N=U.T,O={};U.T=O;try{var H=p(_,b),X=U.S;X!==null&&X(O,H),XL(l,d,H)}catch(se){UC(l,d,se)}finally{N!==null&&O.types!==null&&(N.types=O.types),U.T=N}}else try{N=p(_,b),XL(l,d,N)}catch(se){UC(l,d,se)}}function XL(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){JL(l,d,b)},function(b){return UC(l,d,b)}):JL(l,d,p)}function JL(l,d,p){d.status="fulfilled",d.value=p,QL(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,KL(l,p)))}function UC(l,d,p){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=p,QL(d),d=d.next;while(d!==b)}l.action=null}function QL(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function ZL(l,d){return d}function eO(l,d){if(Et){var p=an.formState;if(p!==null){e:{var b=lt;if(Et){if(bn){t:{for(var _=bn,N=cs;_.nodeType!==8;){if(!N){_=null;break t}if(_=fs(_.nextSibling),_===null){_=null;break t}}N=_.data,_=N==="F!"||N==="F"?_:null}if(_){bn=fs(_.nextSibling),b=_.data==="F!";break e}}oc(b)}b=!1}b&&(d=p[0])}}return p=Mi(),p.memoizedState=p.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZL,lastRenderedState:d},p.queue=b,p=bO.bind(null,lt,b),b.dispatch=p,b=FC(!1),N=$C.bind(null,lt,!1,b.queue),b=Mi(),_={state:d,dispatch:null,action:l,pending:null},b.queue=_,p=aX.bind(null,lt,_,N,p),_.dispatch=p,b.memoizedState=l,[d,p,!1]}function tO(l){var d=Kn();return nO(d,Yt,l)}function nO(l,d,p){if(d=OC(l,d,ZL)[0],l=Fw(Sl)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=ey(d)}catch(O){throw O===Cp?Nw:O}else b=d;d=Kn();var _=d.queue,N=_.dispatch;return p!==d.memoizedState&&(lt.flags|=2048,Mp(9,{destroy:void 0},sX.bind(null,_,p),null)),[b,N,l]}function sX(l,d){l.action=d}function rO(l){var d=Kn(),p=Yt;if(p!==null)return nO(d,p,l);Kn(),d=d.memoizedState,p=Kn();var b=p.queue.dispatch;return p.memoizedState=l,[d,b,!1]}function Mp(l,d,p,b){return l={tag:l,create:p,deps:b,inst:d,next:null},d=lt.updateQueue,d===null&&(d=Ow(),lt.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,d.lastEffect=l),l}function iO(){return Kn().memoizedState}function Uw(l,d,p,b){var _=Mi();lt.flags|=l,_.memoizedState=Mp(1|d,{destroy:void 0},p,b===void 0?null:b)}function Bw(l,d,p,b){var _=Kn();b=b===void 0?null:b;var N=_.memoizedState.inst;Yt!==null&&b!==null&&kC(b,Yt.memoizedState.deps)?_.memoizedState=Mp(d,N,p,b):(lt.flags|=l,_.memoizedState=Mp(1|d,N,p,b))}function aO(l,d){Uw(8390656,8,l,d)}function BC(l,d){Bw(2048,8,l,d)}function oX(l){lt.flags|=4;var d=lt.updateQueue;if(d===null)d=Ow(),lt.updateQueue=d,d.events=[l];else{var p=d.events;p===null?d.events=[l]:p.push(l)}}function sO(l){var d=Kn().memoizedState;return oX({ref:d,nextImpl:l}),function(){if((Ft&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function oO(l,d){return Bw(4,2,l,d)}function lO(l,d){return Bw(4,4,l,d)}function uO(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function cO(l,d,p){p=p!=null?p.concat([l]):null,Bw(4,4,uO.bind(null,d,l),p)}function zC(){}function dO(l,d){var p=Kn();d=d===void 0?null:d;var b=p.memoizedState;return d!==null&&kC(d,b[1])?b[0]:(p.memoizedState=[l,d],l)}function fO(l,d){var p=Kn();d=d===void 0?null:d;var b=p.memoizedState;if(d!==null&&kC(d,b[1]))return b[0];if(b=l(),ff){Hs(!0);try{l()}finally{Hs(!1)}}return p.memoizedState=[b,d],b}function HC(l,d,p){return p===void 0||(wl&1073741824)!==0&&(xt&261930)===0?l.memoizedState=d:(l.memoizedState=p,l=hj(),lt.lanes|=l,gc|=l,p)}function hO(l,d,p,b){return ba(p,d)?p:Np.current!==null?(l=HC(l,p,b),ba(l,d)||(ir=!0),l):(wl&42)===0||(wl&1073741824)!==0&&(xt&261930)===0?(ir=!0,l.memoizedState=p):(l=hj(),lt.lanes|=l,gc|=l,d)}function pO(l,d,p,b,_){var N=q.p;q.p=N!==0&&8>N?N:8;var O=U.T,H={};U.T=H,$C(l,!1,d,p);try{var X=_(),se=U.S;if(se!==null&&se(H,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var pe=nX(X,b);ty(l,d,pe,_a(l))}else ty(l,d,b,_a(l))}catch(ye){ty(l,d,{then:function(){},status:"rejected",reason:ye},_a())}finally{q.p=N,O!==null&&H.types!==null&&(O.types=H.types),U.T=O}}function lX(){}function GC(l,d,p,b){if(l.tag!==5)throw Error(r(476));var _=mO(l).queue;pO(l,_,d,Z,p===null?lX:function(){return gO(l),p(b)})}function mO(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:Z},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function gO(l){var d=mO(l);d.next===null&&(d=l.alternate.memoizedState),ty(l,d.next.queue,{},_a())}function qC(){return Vr(yy)}function vO(){return Kn().memoizedState}function yO(){return Kn().memoizedState}function uX(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=_a();l=cc(p);var b=dc(d,l,p);b!==null&&(Zi(b,d,p),Xv(b,d,p)),d={cache:bC()},l.payload=d;return}d=d.return}}function cX(l,d,p){var b=_a();p={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},zw(l)?xO(d,p):(p=lC(l,d,p,b),p!==null&&(Zi(p,l,b),wO(p,d,b)))}function bO(l,d,p){var b=_a();ty(l,d,p,b)}function ty(l,d,p,b){var _={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(zw(l))xO(d,_);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var O=d.lastRenderedState,H=N(O,p);if(_.hasEagerState=!0,_.eagerState=H,ba(H,O))return ww(l,d,_,0),an===null&&xw(),!1}catch{}finally{}if(p=lC(l,d,_,b),p!==null)return Zi(p,l,b),wO(p,d,b),!0}return!1}function $C(l,d,p,b){if(b={lane:2,revertLane:ET(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},zw(l)){if(d)throw Error(r(479))}else d=lC(l,p,b,2),d!==null&&Zi(d,l,2)}function zw(l){var d=l.alternate;return l===lt||d!==null&&d===lt}function xO(l,d){Rp=Iw=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function wO(l,d,p){if((p&4194048)!==0){var b=d.lanes;b&=l.pendingLanes,p|=b,d.lanes=p,Q(l,p)}}var ny={readContext:Vr,use:jw,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useLayoutEffect:Fn,useInsertionEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useSyncExternalStore:Fn,useId:Fn,useHostTransitionStatus:Fn,useFormState:Fn,useActionState:Fn,useOptimistic:Fn,useMemoCache:Fn,useCacheRefresh:Fn};ny.useEffectEvent=Fn;var SO={readContext:Vr,use:jw,useCallback:function(l,d){return Mi().memoizedState=[l,d===void 0?null:d],l},useContext:Vr,useEffect:aO,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,Uw(4194308,4,uO.bind(null,d,l),p)},useLayoutEffect:function(l,d){return Uw(4194308,4,l,d)},useInsertionEffect:function(l,d){Uw(4,2,l,d)},useMemo:function(l,d){var p=Mi();d=d===void 0?null:d;var b=l();if(ff){Hs(!0);try{l()}finally{Hs(!1)}}return p.memoizedState=[b,d],b},useReducer:function(l,d,p){var b=Mi();if(p!==void 0){var _=p(d);if(ff){Hs(!0);try{p(d)}finally{Hs(!1)}}}else _=d;return b.memoizedState=b.baseState=_,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:_},b.queue=l,l=l.dispatch=cX.bind(null,lt,l),[b.memoizedState,l]},useRef:function(l){var d=Mi();return l={current:l},d.memoizedState=l},useState:function(l){l=FC(l);var d=l.queue,p=bO.bind(null,lt,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:zC,useDeferredValue:function(l,d){var p=Mi();return HC(p,l,d)},useTransition:function(){var l=FC(!1);return l=pO.bind(null,lt,l.queue,!0,!1),Mi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var b=lt,_=Mi();if(Et){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),an===null)throw Error(r(349));(xt&127)!==0||GL(b,d,p)}_.memoizedState=p;var N={value:p,getSnapshot:d};return _.queue=N,aO($L.bind(null,b,N,l),[l]),b.flags|=2048,Mp(9,{destroy:void 0},qL.bind(null,b,N,p,d),null),p},useId:function(){var l=Mi(),d=an.identifierPrefix;if(Et){var p=So,b=wo;p=(b&~(1<<32-ui(b)-1)).toString(32)+p,d="_"+d+"R_"+p,p=Lw++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=rX++,d="_"+d+"r_"+p.toString(32)+"_";return l.memoizedState=d},useHostTransitionStatus:qC,useFormState:eO,useActionState:eO,useOptimistic:function(l){var d=Mi();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=$C.bind(null,lt,!0,p),p.dispatch=d,[l,d]},useMemoCache:LC,useCacheRefresh:function(){return Mi().memoizedState=uX.bind(null,lt)},useEffectEvent:function(l){var d=Mi(),p={impl:l};return d.memoizedState=p,function(){if((Ft&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},VC={readContext:Vr,use:jw,useCallback:dO,useContext:Vr,useEffect:BC,useImperativeHandle:cO,useInsertionEffect:oO,useLayoutEffect:lO,useMemo:fO,useReducer:Fw,useRef:iO,useState:function(){return Fw(Sl)},useDebugValue:zC,useDeferredValue:function(l,d){var p=Kn();return hO(p,Yt.memoizedState,l,d)},useTransition:function(){var l=Fw(Sl)[0],d=Kn().memoizedState;return[typeof l=="boolean"?l:ey(l),d]},useSyncExternalStore:HL,useId:vO,useHostTransitionStatus:qC,useFormState:tO,useActionState:tO,useOptimistic:function(l,d){var p=Kn();return YL(p,Yt,l,d)},useMemoCache:LC,useCacheRefresh:yO};VC.useEffectEvent=sO;var EO={readContext:Vr,use:jw,useCallback:dO,useContext:Vr,useEffect:BC,useImperativeHandle:cO,useInsertionEffect:oO,useLayoutEffect:lO,useMemo:fO,useReducer:jC,useRef:iO,useState:function(){return jC(Sl)},useDebugValue:zC,useDeferredValue:function(l,d){var p=Kn();return Yt===null?HC(p,l,d):hO(p,Yt.memoizedState,l,d)},useTransition:function(){var l=jC(Sl)[0],d=Kn().memoizedState;return[typeof l=="boolean"?l:ey(l),d]},useSyncExternalStore:HL,useId:vO,useHostTransitionStatus:qC,useFormState:rO,useActionState:rO,useOptimistic:function(l,d){var p=Kn();return Yt!==null?YL(p,Yt,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:LC,useCacheRefresh:yO};EO.useEffectEvent=sO;function WC(l,d,p,b){d=l.memoizedState,p=p(b,d),p=p==null?d:h({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var YC={enqueueSetState:function(l,d,p){l=l._reactInternals;var b=_a(),_=cc(b);_.payload=d,p!=null&&(_.callback=p),d=dc(l,_,b),d!==null&&(Zi(d,l,b),Xv(d,l,b))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var b=_a(),_=cc(b);_.tag=1,_.payload=d,p!=null&&(_.callback=p),d=dc(l,_,b),d!==null&&(Zi(d,l,b),Xv(d,l,b))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=_a(),b=cc(p);b.tag=2,d!=null&&(b.callback=d),d=dc(l,b,p),d!==null&&(Zi(d,l,p),Xv(d,l,p))}};function AO(l,d,p,b,_,N,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,N,O):d.prototype&&d.prototype.isPureReactComponent?!Hv(p,b)||!Hv(_,N):!0}function _O(l,d,p,b){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,b),d.state!==l&&YC.enqueueReplaceState(d,d.state,null)}function hf(l,d){var p=d;if("ref"in d){p={};for(var b in d)b!=="ref"&&(p[b]=d[b])}if(l=l.defaultProps){p===d&&(p=h({},p));for(var _ in l)p[_]===void 0&&(p[_]=l[_])}return p}function CO(l){bw(l)}function TO(l){console.error(l)}function NO(l){bw(l)}function Hw(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function RO(l,d,p){try{var b=l.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function KC(l,d,p){return p=cc(p),p.tag=3,p.payload={element:null},p.callback=function(){Hw(l,d)},p}function kO(l){return l=cc(l),l.tag=3,l}function MO(l,d,p,b){var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var N=b.value;l.payload=function(){return _(N)},l.callback=function(){RO(d,p,b)}}var O=p.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){RO(d,p,b),typeof _!="function"&&(vc===null?vc=new Set([this]):vc.add(this));var H=b.stack;this.componentDidCatch(b.value,{componentStack:H!==null?H:""})})}function dX(l,d,p,b,_){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=p.alternate,d!==null&&Ep(d,p,_,!0),p=wa.current,p!==null){switch(p.tag){case 31:case 13:return ds===null?eS():p.alternate===null&&Un===0&&(Un=3),p.flags&=-257,p.flags|=65536,p.lanes=_,b===Rw?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([b]):d.add(b),xT(l,b,_)),!1;case 22:return p.flags|=65536,b===Rw?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([b]):p.add(b)),xT(l,b,_)),!1}throw Error(r(435,p.tag))}return xT(l,b,_),eS(),!1}if(Et)return d=wa.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=_,b!==pC&&(l=Error(r(422),{cause:b}),$v(os(l,p)))):(b!==pC&&(d=Error(r(423),{cause:b}),$v(os(d,p))),l=l.current.alternate,l.flags|=65536,_&=-_,l.lanes|=_,b=os(b,p),_=KC(l.stateNode,b,_),_C(l,_),Un!==4&&(Un=2)),!1;var N=Error(r(520),{cause:b});if(N=os(N,p),cy===null?cy=[N]:cy.push(N),Un!==4&&(Un=2),d===null)return!0;b=os(b,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=_&-_,p.lanes|=l,l=KC(p.stateNode,b,l),_C(p,l),!1;case 1:if(d=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(vc===null||!vc.has(N))))return p.flags|=65536,_&=-_,p.lanes|=_,_=kO(_),MO(_,l,p,b),_C(p,_),!1}p=p.return}while(p!==null);return!1}var XC=Error(r(461)),ir=!1;function Wr(l,d,p,b){d.child=l===null?LL(d,null,p,b):df(d,l.child,p,b)}function PO(l,d,p,b,_){p=p.render;var N=d.ref;if("ref"in b){var O={};for(var H in b)H!=="ref"&&(O[H]=b[H])}else O=b;return of(d),b=MC(l,d,p,O,N,_),H=PC(),l!==null&&!ir?(DC(l,d,_),El(l,d,_)):(Et&&H&&fC(d),d.flags|=1,Wr(l,d,b,_),d.child)}function DO(l,d,p,b,_){if(l===null){var N=p.type;return typeof N=="function"&&!uC(N)&&N.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=N,IO(l,d,N,b,_)):(l=Ew(p.type,null,b,d,d.mode,_),l.ref=d.ref,l.return=d,d.child=l)}if(N=l.child,!iT(l,_)){var O=N.memoizedProps;if(p=p.compare,p=p!==null?p:Hv,p(O,b)&&l.ref===d.ref)return El(l,d,_)}return d.flags|=1,l=vl(N,b),l.ref=d.ref,l.return=d,d.child=l}function IO(l,d,p,b,_){if(l!==null){var N=l.memoizedProps;if(Hv(N,b)&&l.ref===d.ref)if(ir=!1,d.pendingProps=b=N,iT(l,_))(l.flags&131072)!==0&&(ir=!0);else return d.lanes=l.lanes,El(l,d,_)}return JC(l,d,p,b,_)}function LO(l,d,p,b){var _=b.children,N=l!==null?l.memoizedState:null;if(l===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((d.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,l!==null){for(b=d.child=l.child,_=0;b!==null;)_=_|b.lanes|b.childLanes,b=b.sibling;b=_&~N}else b=0,d.child=null;return OO(l,d,N,p,b)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&Tw(d,N!==null?N.cachePool:null),N!==null?FL(d,N):TC(),UL(d);else return b=d.lanes=536870912,OO(l,d,N!==null?N.baseLanes|p:p,p,b)}else N!==null?(Tw(d,N.cachePool),FL(d,N),hc(),d.memoizedState=null):(l!==null&&Tw(d,null),TC(),hc());return Wr(l,d,_,p),d.child}function ry(l,d){return l!==null&&l.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function OO(l,d,p,b,_){var N=wC();return N=N===null?null:{parent:nr._currentValue,pool:N},d.memoizedState={baseLanes:p,cachePool:N},l!==null&&Tw(d,null),TC(),UL(d),l!==null&&Ep(l,d,b,!0),d.childLanes=_,null}function Gw(l,d){return d=$w({mode:d.mode,children:d.children},l.mode),d.ref=l.ref,l.child=d,d.return=l,d}function jO(l,d,p){return df(d,l.child,null,p),l=Gw(d,d.pendingProps),l.flags|=2,Sa(d),d.memoizedState=null,l}function fX(l,d,p){var b=d.pendingProps,_=(d.flags&128)!==0;if(d.flags&=-129,l===null){if(Et){if(b.mode==="hidden")return l=Gw(d,b),d.lanes=536870912,ry(null,l);if(RC(d),(l=bn)?(l=Kj(l,cs),l=l!==null&&l.data==="&"?l:null,l!==null&&(d.memoizedState={dehydrated:l,treeContext:ac!==null?{id:wo,overflow:So}:null,retryLane:536870912,hydrationErrors:null},p=xL(l),p.return=d,d.child=p,$r=d,bn=null)):l=null,l===null)throw oc(d);return d.lanes=536870912,null}return Gw(d,b)}var N=l.memoizedState;if(N!==null){var O=N.dehydrated;if(RC(d),_)if(d.flags&256)d.flags&=-257,d=jO(l,d,p);else if(d.memoizedState!==null)d.child=l.child,d.flags|=128,d=null;else throw Error(r(558));else if(ir||Ep(l,d,p,!1),_=(p&l.childLanes)!==0,ir||_){if(b=an,b!==null&&(O=ne(b,p),O!==0&&O!==N.retryLane))throw N.retryLane=O,nf(l,O),Zi(b,l,O),XC;eS(),d=jO(l,d,p)}else l=N.treeContext,bn=fs(O.nextSibling),$r=d,Et=!0,sc=null,cs=!1,l!==null&&EL(d,l),d=Gw(d,b),d.flags|=4096;return d}return l=vl(l.child,{mode:b.mode,children:b.children}),l.ref=d.ref,d.child=l,l.return=d,l}function qw(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function JC(l,d,p,b,_){return of(d),p=MC(l,d,p,b,void 0,_),b=PC(),l!==null&&!ir?(DC(l,d,_),El(l,d,_)):(Et&&b&&fC(d),d.flags|=1,Wr(l,d,p,_),d.child)}function FO(l,d,p,b,_,N){return of(d),d.updateQueue=null,p=zL(d,b,p,_),BL(l),b=PC(),l!==null&&!ir?(DC(l,d,N),El(l,d,N)):(Et&&b&&fC(d),d.flags|=1,Wr(l,d,p,N),d.child)}function UO(l,d,p,b,_){if(of(d),d.stateNode===null){var N=bp,O=p.contextType;typeof O=="object"&&O!==null&&(N=Vr(O)),N=new p(b,N),d.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=YC,d.stateNode=N,N._reactInternals=d,N=d.stateNode,N.props=b,N.state=d.memoizedState,N.refs={},EC(d),O=p.contextType,N.context=typeof O=="object"&&O!==null?Vr(O):bp,N.state=d.memoizedState,O=p.getDerivedStateFromProps,typeof O=="function"&&(WC(d,p,O,b),N.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(O=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),O!==N.state&&YC.enqueueReplaceState(N,N.state,null),Qv(d,b,N,_),Jv(),N.state=d.memoizedState),typeof N.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(l===null){N=d.stateNode;var H=d.memoizedProps,X=hf(p,H);N.props=X;var se=N.context,pe=p.contextType;O=bp,typeof pe=="object"&&pe!==null&&(O=Vr(pe));var ye=p.getDerivedStateFromProps;pe=typeof ye=="function"||typeof N.getSnapshotBeforeUpdate=="function",H=d.pendingProps!==H,pe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(H||se!==O)&&_O(d,N,b,O),uc=!1;var le=d.memoizedState;N.state=le,Qv(d,b,N,_),Jv(),se=d.memoizedState,H||le!==se||uc?(typeof ye=="function"&&(WC(d,p,ye,b),se=d.memoizedState),(X=uc||AO(d,p,X,b,le,se,O))?(pe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(d.flags|=4194308)):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=se),N.props=b,N.state=se,N.context=O,b=X):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{N=d.stateNode,AC(l,d),O=d.memoizedProps,pe=hf(p,O),N.props=pe,ye=d.pendingProps,le=N.context,se=p.contextType,X=bp,typeof se=="object"&&se!==null&&(X=Vr(se)),H=p.getDerivedStateFromProps,(se=typeof H=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==ye||le!==X)&&_O(d,N,b,X),uc=!1,le=d.memoizedState,N.state=le,Qv(d,b,N,_),Jv();var ce=d.memoizedState;O!==ye||le!==ce||uc||l!==null&&l.dependencies!==null&&_w(l.dependencies)?(typeof H=="function"&&(WC(d,p,H,b),ce=d.memoizedState),(pe=uc||AO(d,p,pe,b,le,ce,X)||l!==null&&l.dependencies!==null&&_w(l.dependencies))?(se||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,ce,X),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,ce,X)),typeof N.componentDidUpdate=="function"&&(d.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===l.memoizedProps&&le===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&le===l.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=ce),N.props=b,N.state=ce,N.context=X,b=pe):(typeof N.componentDidUpdate!="function"||O===l.memoizedProps&&le===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&le===l.memoizedState||(d.flags|=1024),b=!1)}return N=b,qw(l,d),b=(d.flags&128)!==0,N||b?(N=d.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:N.render(),d.flags|=1,l!==null&&b?(d.child=df(d,l.child,null,_),d.child=df(d,null,p,_)):Wr(l,d,p,_),d.memoizedState=N.state,l=d.child):l=El(l,d,_),l}function BO(l,d,p,b){return af(),d.flags|=256,Wr(l,d,p,b),d.child}var QC={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ZC(l){return{baseLanes:l,cachePool:RL()}}function eT(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=Aa),l}function zO(l,d,p){var b=d.pendingProps,_=!1,N=(d.flags&128)!==0,O;if((O=N)||(O=l!==null&&l.memoizedState===null?!1:(Yn.current&2)!==0),O&&(_=!0,d.flags&=-129),O=(d.flags&32)!==0,d.flags&=-33,l===null){if(Et){if(_?fc(d):hc(),(l=bn)?(l=Kj(l,cs),l=l!==null&&l.data!=="&"?l:null,l!==null&&(d.memoizedState={dehydrated:l,treeContext:ac!==null?{id:wo,overflow:So}:null,retryLane:536870912,hydrationErrors:null},p=xL(l),p.return=d,d.child=p,$r=d,bn=null)):l=null,l===null)throw oc(d);return OT(l)?d.lanes=32:d.lanes=536870912,null}var H=b.children;return b=b.fallback,_?(hc(),_=d.mode,H=$w({mode:"hidden",children:H},_),b=rf(b,_,p,null),H.return=d,b.return=d,H.sibling=b,d.child=H,b=d.child,b.memoizedState=ZC(p),b.childLanes=eT(l,O,p),d.memoizedState=QC,ry(null,b)):(fc(d),tT(d,H))}var X=l.memoizedState;if(X!==null&&(H=X.dehydrated,H!==null)){if(N)d.flags&256?(fc(d),d.flags&=-257,d=nT(l,d,p)):d.memoizedState!==null?(hc(),d.child=l.child,d.flags|=128,d=null):(hc(),H=b.fallback,_=d.mode,b=$w({mode:"visible",children:b.children},_),H=rf(H,_,p,null),H.flags|=2,b.return=d,H.return=d,b.sibling=H,d.child=b,df(d,l.child,null,p),b=d.child,b.memoizedState=ZC(p),b.childLanes=eT(l,O,p),d.memoizedState=QC,d=ry(null,b));else if(fc(d),OT(H)){if(O=H.nextSibling&&H.nextSibling.dataset,O)var se=O.dgst;O=se,b=Error(r(419)),b.stack="",b.digest=O,$v({value:b,source:null,stack:null}),d=nT(l,d,p)}else if(ir||Ep(l,d,p,!1),O=(p&l.childLanes)!==0,ir||O){if(O=an,O!==null&&(b=ne(O,p),b!==0&&b!==X.retryLane))throw X.retryLane=b,nf(l,b),Zi(O,l,b),XC;LT(H)||eS(),d=nT(l,d,p)}else LT(H)?(d.flags|=192,d.child=l.child,d=null):(l=X.treeContext,bn=fs(H.nextSibling),$r=d,Et=!0,sc=null,cs=!1,l!==null&&EL(d,l),d=tT(d,b.children),d.flags|=4096);return d}return _?(hc(),H=b.fallback,_=d.mode,X=l.child,se=X.sibling,b=vl(X,{mode:"hidden",children:b.children}),b.subtreeFlags=X.subtreeFlags&65011712,se!==null?H=vl(se,H):(H=rf(H,_,p,null),H.flags|=2),H.return=d,b.return=d,b.sibling=H,d.child=b,ry(null,b),b=d.child,H=l.child.memoizedState,H===null?H=ZC(p):(_=H.cachePool,_!==null?(X=nr._currentValue,_=_.parent!==X?{parent:X,pool:X}:_):_=RL(),H={baseLanes:H.baseLanes|p,cachePool:_}),b.memoizedState=H,b.childLanes=eT(l,O,p),d.memoizedState=QC,ry(l.child,b)):(fc(d),p=l.child,l=p.sibling,p=vl(p,{mode:"visible",children:b.children}),p.return=d,p.sibling=null,l!==null&&(O=d.deletions,O===null?(d.deletions=[l],d.flags|=16):O.push(l)),d.child=p,d.memoizedState=null,p)}function tT(l,d){return d=$w({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function $w(l,d){return l=xa(22,l,null,d),l.lanes=0,l}function nT(l,d,p){return df(d,l.child,null,p),l=tT(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function HO(l,d,p){l.lanes|=d;var b=l.alternate;b!==null&&(b.lanes|=d),vC(l.return,d,p)}function rT(l,d,p,b,_,N){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:_,treeForkCount:N}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=p,O.tailMode=_,O.treeForkCount=N)}function GO(l,d,p){var b=d.pendingProps,_=b.revealOrder,N=b.tail;b=b.children;var O=Yn.current,H=(O&2)!==0;if(H?(O=O&1|2,d.flags|=128):O&=1,oe(Yn,O),Wr(l,d,b,p),b=Et?qv:0,!H&&l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&HO(l,p,d);else if(l.tag===19)HO(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(_){case"forwards":for(p=d.child,_=null;p!==null;)l=p.alternate,l!==null&&Dw(l)===null&&(_=p),p=p.sibling;p=_,p===null?(_=d.child,d.child=null):(_=p.sibling,p.sibling=null),rT(d,!1,_,p,N,b);break;case"backwards":case"unstable_legacy-backwards":for(p=null,_=d.child,d.child=null;_!==null;){if(l=_.alternate,l!==null&&Dw(l)===null){d.child=_;break}l=_.sibling,_.sibling=p,p=_,_=l}rT(d,!0,p,null,N,b);break;case"together":rT(d,!1,null,null,void 0,b);break;default:d.memoizedState=null}return d.child}function El(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),gc|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(Ep(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=vl(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=vl(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function iT(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&_w(l)))}function hX(l,d,p){switch(d.tag){case 3:pt(d,d.stateNode.containerInfo),lc(d,nr,l.memoizedState.cache),af();break;case 27:case 5:Re(d);break;case 4:pt(d,d.stateNode.containerInfo);break;case 10:lc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,RC(d),null;break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(fc(d),d.flags|=128,null):(p&d.child.childLanes)!==0?zO(l,d,p):(fc(d),l=El(l,d,p),l!==null?l.sibling:null);fc(d);break;case 19:var _=(l.flags&128)!==0;if(b=(p&d.childLanes)!==0,b||(Ep(l,d,p,!1),b=(p&d.childLanes)!==0),_){if(b)return GO(l,d,p);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),oe(Yn,Yn.current),b)break;return null;case 22:return d.lanes=0,LO(l,d,p,d.pendingProps);case 24:lc(d,nr,l.memoizedState.cache)}return El(l,d,p)}function qO(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)ir=!0;else{if(!iT(l,p)&&(d.flags&128)===0)return ir=!1,hX(l,d,p);ir=(l.flags&131072)!==0}else ir=!1,Et&&(d.flags&1048576)!==0&&SL(d,qv,d.index);switch(d.lanes=0,d.tag){case 16:e:{var b=d.pendingProps;if(l=uf(d.elementType),d.type=l,typeof l=="function")uC(l)?(b=hf(l,b),d.tag=1,d=UO(null,d,l,b,p)):(d.tag=0,d=JC(null,d,l,b,p));else{if(l!=null){var _=l.$$typeof;if(_===D){d.tag=11,d=PO(null,d,l,b,p);break e}else if(_===M){d.tag=14,d=DO(null,d,l,b,p);break e}}throw d=W(l)||l,Error(r(306,d,""))}}return d;case 0:return JC(l,d,d.type,d.pendingProps,p);case 1:return b=d.type,_=hf(b,d.pendingProps),UO(l,d,b,_,p);case 3:e:{if(pt(d,d.stateNode.containerInfo),l===null)throw Error(r(387));b=d.pendingProps;var N=d.memoizedState;_=N.element,AC(l,d),Qv(d,b,null,p);var O=d.memoizedState;if(b=O.cache,lc(d,nr,b),b!==N.cache&&yC(d,[nr],p,!0),Jv(),b=O.element,N.isDehydrated)if(N={element:b,isDehydrated:!1,cache:O.cache},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){d=BO(l,d,b,p);break e}else if(b!==_){_=os(Error(r(424)),d),$v(_),d=BO(l,d,b,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(bn=fs(l.firstChild),$r=d,Et=!0,sc=null,cs=!0,p=LL(d,null,b,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(af(),b===_){d=El(l,d,p);break e}Wr(l,d,b,p)}d=d.child}return d;case 26:return qw(l,d),l===null?(p=t5(d.type,null,d.pendingProps,null))?d.memoizedState=p:Et||(p=d.type,l=d.pendingProps,b=oS(_e.current).createElement(p),b[Ne]=d,b[Me]=l,Yr(b,p,l),rn(b),d.stateNode=b):d.memoizedState=t5(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Re(d),l===null&&Et&&(b=d.stateNode=Qj(d.type,d.pendingProps,_e.current),$r=d,cs=!0,_=bn,wc(d.type)?(jT=_,bn=fs(b.firstChild)):bn=_),Wr(l,d,d.pendingProps.children,p),qw(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Et&&((_=b=bn)&&(b=GX(b,d.type,d.pendingProps,cs),b!==null?(d.stateNode=b,$r=d,bn=fs(b.firstChild),cs=!1,_=!0):_=!1),_||oc(d)),Re(d),_=d.type,N=d.pendingProps,O=l!==null?l.memoizedProps:null,b=N.children,PT(_,N)?b=null:O!==null&&PT(_,O)&&(d.flags|=32),d.memoizedState!==null&&(_=MC(l,d,iX,null,null,p),yy._currentValue=_),qw(l,d),Wr(l,d,b,p),d.child;case 6:return l===null&&Et&&((l=p=bn)&&(p=qX(p,d.pendingProps,cs),p!==null?(d.stateNode=p,$r=d,bn=null,l=!0):l=!1),l||oc(d)),null;case 13:return zO(l,d,p);case 4:return pt(d,d.stateNode.containerInfo),b=d.pendingProps,l===null?d.child=df(d,null,b,p):Wr(l,d,b,p),d.child;case 11:return PO(l,d,d.type,d.pendingProps,p);case 7:return Wr(l,d,d.pendingProps,p),d.child;case 8:return Wr(l,d,d.pendingProps.children,p),d.child;case 12:return Wr(l,d,d.pendingProps.children,p),d.child;case 10:return b=d.pendingProps,lc(d,d.type,b.value),Wr(l,d,b.children,p),d.child;case 9:return _=d.type._context,b=d.pendingProps.children,of(d),_=Vr(_),b=b(_),d.flags|=1,Wr(l,d,b,p),d.child;case 14:return DO(l,d,d.type,d.pendingProps,p);case 15:return IO(l,d,d.type,d.pendingProps,p);case 19:return GO(l,d,p);case 31:return fX(l,d,p);case 22:return LO(l,d,p,d.pendingProps);case 24:return of(d),b=Vr(nr),l===null?(_=wC(),_===null&&(_=an,N=bC(),_.pooledCache=N,N.refCount++,N!==null&&(_.pooledCacheLanes|=p),_=N),d.memoizedState={parent:b,cache:_},EC(d),lc(d,nr,_)):((l.lanes&p)!==0&&(AC(l,d),Qv(d,null,null,p),Jv()),_=l.memoizedState,N=d.memoizedState,_.parent!==b?(_={parent:b,cache:b},d.memoizedState=_,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=_),lc(d,nr,b)):(b=N.cache,lc(d,nr,b),b!==_.cache&&yC(d,[nr],p,!0))),Wr(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Al(l){l.flags|=4}function aT(l,d,p,b,_){if((d=(l.mode&32)!==0)&&(d=!1),d){if(l.flags|=16777216,(_&335544128)===_)if(l.stateNode.complete)l.flags|=8192;else if(vj())l.flags|=8192;else throw cf=Rw,SC}else l.flags&=-16777217}function $O(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!s5(d))if(vj())l.flags|=8192;else throw cf=Rw,SC}function Vw(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?Jd():536870912,l.lanes|=d,Lp|=d)}function iy(l,d){if(!Et)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function xn(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(d)for(var _=l.child;_!==null;)p|=_.lanes|_.childLanes,b|=_.subtreeFlags&65011712,b|=_.flags&65011712,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)p|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=b,l.childLanes=p,d}function pX(l,d,p){var b=d.pendingProps;switch(hC(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(d),null;case 1:return xn(d),null;case 3:return p=d.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),xl(nr),de(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Sp(d)?Al(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,mC())),xn(d),null;case 26:var _=d.type,N=d.memoizedState;return l===null?(Al(d),N!==null?(xn(d),$O(d,N)):(xn(d),aT(d,_,null,b,p))):N?N!==l.memoizedState?(Al(d),xn(d),$O(d,N)):(xn(d),d.flags&=-16777217):(l=l.memoizedProps,l!==b&&Al(d),xn(d),aT(d,_,l,b,p)),null;case 27:if(Xe(d),p=_e.current,_=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==b&&Al(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return xn(d),null}l=ve.current,Sp(d)?AL(d):(l=Qj(_,b,p),d.stateNode=l,Al(d))}return xn(d),null;case 5:if(Xe(d),_=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==b&&Al(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return xn(d),null}if(N=ve.current,Sp(d))AL(d);else{var O=oS(_e.current);switch(N){case 1:N=O.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:N=O.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":N=O.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":N=O.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":N=O.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof b.is=="string"?O.createElement("select",{is:b.is}):O.createElement("select"),b.multiple?N.multiple=!0:b.size&&(N.size=b.size);break;default:N=typeof b.is=="string"?O.createElement(_,{is:b.is}):O.createElement(_)}}N[Ne]=d,N[Me]=b;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)N.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=N;e:switch(Yr(N,_,b),_){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Al(d)}}return xn(d),aT(d,d.type,l===null?null:l.memoizedProps,d.pendingProps,p),null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==b&&Al(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(l=_e.current,Sp(d)){if(l=d.stateNode,p=d.memoizedProps,b=null,_=$r,_!==null)switch(_.tag){case 27:case 5:b=_.memoizedProps}l[Ne]=d,l=!!(l.nodeValue===p||b!==null&&b.suppressHydrationWarning===!0||zj(l.nodeValue,p)),l||oc(d,!0)}else l=oS(l).createTextNode(b),l[Ne]=d,d.stateNode=l}return xn(d),null;case 31:if(p=d.memoizedState,l===null||l.memoizedState!==null){if(b=Sp(d),p!==null){if(l===null){if(!b)throw Error(r(318));if(l=d.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[Ne]=d}else af(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;xn(d),l=!1}else p=mC(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return d.flags&256?(Sa(d),d):(Sa(d),null);if((d.flags&128)!==0)throw Error(r(558))}return xn(d),null;case 13:if(b=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_=Sp(d),b!==null&&b.dehydrated!==null){if(l===null){if(!_)throw Error(r(318));if(_=d.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Ne]=d}else af(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;xn(d),_=!1}else _=mC(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=_),_=!0;if(!_)return d.flags&256?(Sa(d),d):(Sa(d),null)}return Sa(d),(d.flags&128)!==0?(d.lanes=p,d):(p=b!==null,l=l!==null&&l.memoizedState!==null,p&&(b=d.child,_=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(_=b.alternate.memoizedState.cachePool.pool),N=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==_&&(b.flags|=2048)),p!==l&&p&&(d.child.flags|=8192),Vw(d,d.updateQueue),xn(d),null);case 4:return de(),l===null&&TT(d.stateNode.containerInfo),xn(d),null;case 10:return xl(d.type),xn(d),null;case 19:if(J(Yn),b=d.memoizedState,b===null)return xn(d),null;if(_=(d.flags&128)!==0,N=b.rendering,N===null)if(_)iy(b,!1);else{if(Un!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(N=Dw(l),N!==null){for(d.flags|=128,iy(b,!1),l=N.updateQueue,d.updateQueue=l,Vw(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)bL(p,l),p=p.sibling;return oe(Yn,Yn.current&1|2),Et&&yl(d,b.treeForkCount),d.child}l=l.sibling}b.tail!==null&&Nt()>Jw&&(d.flags|=128,_=!0,iy(b,!1),d.lanes=4194304)}else{if(!_)if(l=Dw(N),l!==null){if(d.flags|=128,_=!0,l=l.updateQueue,d.updateQueue=l,Vw(d,l),iy(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!Et)return xn(d),null}else 2*Nt()-b.renderingStartTime>Jw&&p!==536870912&&(d.flags|=128,_=!0,iy(b,!1),d.lanes=4194304);b.isBackwards?(N.sibling=d.child,d.child=N):(l=b.last,l!==null?l.sibling=N:d.child=N,b.last=N)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Nt(),l.sibling=null,p=Yn.current,oe(Yn,_?p&1|2:p&1),Et&&yl(d,b.treeForkCount),l):(xn(d),null);case 22:case 23:return Sa(d),NC(),b=d.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(p&536870912)!==0&&(d.flags&128)===0&&(xn(d),d.subtreeFlags&6&&(d.flags|=8192)):xn(d),p=d.updateQueue,p!==null&&Vw(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048),l!==null&&J(lf),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),xl(nr),xn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function mX(l,d){switch(hC(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return xl(nr),de(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Xe(d),null;case 31:if(d.memoizedState!==null){if(Sa(d),d.alternate===null)throw Error(r(340));af()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 13:if(Sa(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));af()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return J(Yn),null;case 4:return de(),null;case 10:return xl(d.type),null;case 22:case 23:return Sa(d),NC(),l!==null&&J(lf),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return xl(nr),null;case 25:return null;default:return null}}function VO(l,d){switch(hC(d),d.tag){case 3:xl(nr),de();break;case 26:case 27:case 5:Xe(d);break;case 4:de();break;case 31:d.memoizedState!==null&&Sa(d);break;case 13:Sa(d);break;case 19:J(Yn);break;case 10:xl(d.type);break;case 22:case 23:Sa(d),NC(),l!==null&&J(lf);break;case 24:xl(nr)}}function ay(l,d){try{var p=d.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var _=b.next;p=_;do{if((p.tag&l)===l){b=void 0;var N=p.create,O=p.inst;b=N(),O.destroy=b}p=p.next}while(p!==_)}}catch(H){Ht(d,d.return,H)}}function pc(l,d,p){try{var b=d.updateQueue,_=b!==null?b.lastEffect:null;if(_!==null){var N=_.next;b=N;do{if((b.tag&l)===l){var O=b.inst,H=O.destroy;if(H!==void 0){O.destroy=void 0,_=d;var X=p,se=H;try{se()}catch(pe){Ht(_,X,pe)}}}b=b.next}while(b!==N)}}catch(pe){Ht(d,d.return,pe)}}function WO(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{jL(d,p)}catch(b){Ht(l,l.return,b)}}}function YO(l,d,p){p.props=hf(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(b){Ht(l,d,b)}}function sy(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var b=l.stateNode;break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof p=="function"?l.refCleanup=p(b):p.current=b}}catch(_){Ht(l,d,_)}}function Eo(l,d){var p=l.ref,b=l.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(_){Ht(l,d,_)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(_){Ht(l,d,_)}else p.current=null}function KO(l){var d=l.type,p=l.memoizedProps,b=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&b.focus();break e;case"img":p.src?b.src=p.src:p.srcSet&&(b.srcset=p.srcSet)}}catch(_){Ht(l,l.return,_)}}function sT(l,d,p){try{var b=l.stateNode;jX(b,l.type,p,d),b[Me]=d}catch(_){Ht(l,l.return,_)}}function XO(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&wc(l.type)||l.tag===4}function oT(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||XO(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&wc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function lT(l,d,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=ml));else if(b!==4&&(b===27&&wc(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(lT(l,d,p),l=l.sibling;l!==null;)lT(l,d,p),l=l.sibling}function Ww(l,d,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(b!==4&&(b===27&&wc(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Ww(l,d,p),l=l.sibling;l!==null;)Ww(l,d,p),l=l.sibling}function JO(l){var d=l.stateNode,p=l.memoizedProps;try{for(var b=l.type,_=d.attributes;_.length;)d.removeAttributeNode(_[0]);Yr(d,b,p),d[Ne]=l,d[Me]=p}catch(N){Ht(l,l.return,N)}}var _l=!1,ar=!1,uT=!1,QO=typeof WeakSet=="function"?WeakSet:Set,Rr=null;function gX(l,d){if(l=l.containerInfo,kT=pS,l=cL(l),nC(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var _=b.anchorOffset,N=b.focusNode;b=b.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var O=0,H=-1,X=-1,se=0,pe=0,ye=l,le=null;t:for(;;){for(var ce;ye!==p||_!==0&&ye.nodeType!==3||(H=O+_),ye!==N||b!==0&&ye.nodeType!==3||(X=O+b),ye.nodeType===3&&(O+=ye.nodeValue.length),(ce=ye.firstChild)!==null;)le=ye,ye=ce;for(;;){if(ye===l)break t;if(le===p&&++se===_&&(H=O),le===N&&++pe===b&&(X=O),(ce=ye.nextSibling)!==null)break;ye=le,le=ye.parentNode}ye=ce}p=H===-1||X===-1?null:{start:H,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(MT={focusedElem:l,selectionRange:p},pS=!1,Rr=d;Rr!==null;)if(d=Rr,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Rr=l;else for(;Rr!==null;){switch(d=Rr,N=d.alternate,l=d.flags,d.tag){case 0:if((l&4)!==0&&(l=d.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)_=l[p],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,p=d,_=N.memoizedProps,N=N.memoizedState,b=p.stateNode;try{var Fe=hf(p.type,_);l=b.getSnapshotBeforeUpdate(Fe,N),b.__reactInternalSnapshotBeforeUpdate=l}catch(et){Ht(p,p.return,et)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)IT(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":IT(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Rr=l;break}Rr=d.return}}function ZO(l,d,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Tl(l,p),b&4&&ay(5,p);break;case 1:if(Tl(l,p),b&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(O){Ht(p,p.return,O)}else{var _=hf(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(_,d,l.__reactInternalSnapshotBeforeUpdate)}catch(O){Ht(p,p.return,O)}}b&64&&WO(p),b&512&&sy(p,p.return);break;case 3:if(Tl(l,p),b&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{jL(l,d)}catch(O){Ht(p,p.return,O)}}break;case 27:d===null&&b&4&&JO(p);case 26:case 5:Tl(l,p),d===null&&b&4&&KO(p),b&512&&sy(p,p.return);break;case 12:Tl(l,p);break;case 31:Tl(l,p),b&4&&nj(l,p);break;case 13:Tl(l,p),b&4&&rj(l,p),b&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=_X.bind(null,p),$X(l,p))));break;case 22:if(b=p.memoizedState!==null||_l,!b){d=d!==null&&d.memoizedState!==null||ar,_=_l;var N=ar;_l=b,(ar=d)&&!N?Nl(l,p,(p.subtreeFlags&8772)!==0):Tl(l,p),_l=_,ar=N}break;case 30:break;default:Tl(l,p)}}function ej(l){var d=l.alternate;d!==null&&(l.alternate=null,ej(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&jn(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var _n=null,Ki=!1;function Cl(l,d,p){for(p=p.child;p!==null;)tj(l,d,p),p=p.sibling}function tj(l,d,p){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(zs,p)}catch{}switch(p.tag){case 26:ar||Eo(p,d),Cl(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ar||Eo(p,d);var b=_n,_=Ki;wc(p.type)&&(_n=p.stateNode,Ki=!1),Cl(l,d,p),my(p.stateNode),_n=b,Ki=_;break;case 5:ar||Eo(p,d);case 6:if(b=_n,_=Ki,_n=null,Cl(l,d,p),_n=b,Ki=_,_n!==null)if(Ki)try{(_n.nodeType===9?_n.body:_n.nodeName==="HTML"?_n.ownerDocument.body:_n).removeChild(p.stateNode)}catch(N){Ht(p,d,N)}else try{_n.removeChild(p.stateNode)}catch(N){Ht(p,d,N)}break;case 18:_n!==null&&(Ki?(l=_n,Wj(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Gp(l)):Wj(_n,p.stateNode));break;case 4:b=_n,_=Ki,_n=p.stateNode.containerInfo,Ki=!0,Cl(l,d,p),_n=b,Ki=_;break;case 0:case 11:case 14:case 15:pc(2,p,d),ar||pc(4,p,d),Cl(l,d,p);break;case 1:ar||(Eo(p,d),b=p.stateNode,typeof b.componentWillUnmount=="function"&&YO(p,d,b)),Cl(l,d,p);break;case 21:Cl(l,d,p);break;case 22:ar=(b=ar)||p.memoizedState!==null,Cl(l,d,p),ar=b;break;default:Cl(l,d,p)}}function nj(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Gp(l)}catch(p){Ht(d,d.return,p)}}}function rj(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Gp(l)}catch(p){Ht(d,d.return,p)}}function vX(l){switch(l.tag){case 31:case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new QO),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new QO),d;default:throw Error(r(435,l.tag))}}function Yw(l,d){var p=vX(l);d.forEach(function(b){if(!p.has(b)){p.add(b);var _=CX.bind(null,l,b);b.then(_,_)}})}function Xi(l,d){var p=d.deletions;if(p!==null)for(var b=0;b<p.length;b++){var _=p[b],N=l,O=d,H=O;e:for(;H!==null;){switch(H.tag){case 27:if(wc(H.type)){_n=H.stateNode,Ki=!1;break e}break;case 5:_n=H.stateNode,Ki=!1;break e;case 3:case 4:_n=H.stateNode.containerInfo,Ki=!0;break e}H=H.return}if(_n===null)throw Error(r(160));tj(N,O,_),_n=null,Ki=!1,N=_.alternate,N!==null&&(N.return=null),_.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)ij(d,l),d=d.sibling}var $s=null;function ij(l,d){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Xi(d,l),Ji(l),b&4&&(pc(3,l,l.return),ay(3,l),pc(5,l,l.return));break;case 1:Xi(d,l),Ji(l),b&512&&(ar||p===null||Eo(p,p.return)),b&64&&_l&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:var _=$s;if(Xi(d,l),Ji(l),b&512&&(ar||p===null||Eo(p,p.return)),b&4){var N=p!==null?p.memoizedState:null;if(b=l.memoizedState,p===null)if(b===null)if(l.stateNode===null){e:{b=l.type,p=l.memoizedProps,_=_.ownerDocument||_;t:switch(b){case"title":N=_.getElementsByTagName("title")[0],(!N||N[yn]||N[Ne]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=_.createElement(b),_.head.insertBefore(N,_.querySelector("head > title"))),Yr(N,b,p),N[Ne]=l,rn(N),b=N;break e;case"link":var O=i5("link","href",_).get(b+(p.href||""));if(O){for(var H=0;H<O.length;H++)if(N=O[H],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){O.splice(H,1);break t}}N=_.createElement(b),Yr(N,b,p),_.head.appendChild(N);break;case"meta":if(O=i5("meta","content",_).get(b+(p.content||""))){for(H=0;H<O.length;H++)if(N=O[H],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){O.splice(H,1);break t}}N=_.createElement(b),Yr(N,b,p),_.head.appendChild(N);break;default:throw Error(r(468,b))}N[Ne]=l,rn(N),b=N}l.stateNode=b}else a5(_,l.type,l.stateNode);else l.stateNode=r5(_,b,l.memoizedProps);else N!==b?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,b===null?a5(_,l.type,l.stateNode):r5(_,b,l.memoizedProps)):b===null&&l.stateNode!==null&&sT(l,l.memoizedProps,p.memoizedProps)}break;case 27:Xi(d,l),Ji(l),b&512&&(ar||p===null||Eo(p,p.return)),p!==null&&b&4&&sT(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Xi(d,l),Ji(l),b&512&&(ar||p===null||Eo(p,p.return)),l.flags&32){_=l.stateNode;try{fp(_,"")}catch(Fe){Ht(l,l.return,Fe)}}b&4&&l.stateNode!=null&&(_=l.memoizedProps,sT(l,_,p!==null?p.memoizedProps:_)),b&1024&&(uT=!0);break;case 6:if(Xi(d,l),Ji(l),b&4){if(l.stateNode===null)throw Error(r(162));b=l.memoizedProps,p=l.stateNode;try{p.nodeValue=b}catch(Fe){Ht(l,l.return,Fe)}}break;case 3:if(cS=null,_=$s,$s=lS(d.containerInfo),Xi(d,l),$s=_,Ji(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{Gp(d.containerInfo)}catch(Fe){Ht(l,l.return,Fe)}uT&&(uT=!1,aj(l));break;case 4:b=$s,$s=lS(l.stateNode.containerInfo),Xi(d,l),Ji(l),$s=b;break;case 12:Xi(d,l),Ji(l);break;case 31:Xi(d,l),Ji(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Yw(l,b)));break;case 13:Xi(d,l),Ji(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Xw=Nt()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Yw(l,b)));break;case 22:_=l.memoizedState!==null;var X=p!==null&&p.memoizedState!==null,se=_l,pe=ar;if(_l=se||_,ar=pe||X,Xi(d,l),ar=pe,_l=se,Ji(l),b&8192)e:for(d=l.stateNode,d._visibility=_?d._visibility&-2:d._visibility|1,_&&(p===null||X||_l||ar||pf(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){X=p=d;try{if(N=X.stateNode,_)O=N.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{H=X.stateNode;var ye=X.memoizedProps.style,le=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;H.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Fe){Ht(X,X.return,Fe)}}}else if(d.tag===6){if(p===null){X=d;try{X.stateNode.nodeValue=_?"":X.memoizedProps}catch(Fe){Ht(X,X.return,Fe)}}}else if(d.tag===18){if(p===null){X=d;try{var ce=X.stateNode;_?Yj(ce,!0):Yj(X.stateNode,!1)}catch(Fe){Ht(X,X.return,Fe)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=l.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,Yw(l,p))));break;case 19:Xi(d,l),Ji(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Yw(l,b)));break;case 30:break;case 21:break;default:Xi(d,l),Ji(l)}}function Ji(l){var d=l.flags;if(d&2){try{for(var p,b=l.return;b!==null;){if(XO(b)){p=b;break}b=b.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var _=p.stateNode,N=oT(l);Ww(l,N,_);break;case 5:var O=p.stateNode;p.flags&32&&(fp(O,""),p.flags&=-33);var H=oT(l);Ww(l,H,O);break;case 3:case 4:var X=p.stateNode.containerInfo,se=oT(l);lT(l,se,X);break;default:throw Error(r(161))}}catch(pe){Ht(l,l.return,pe)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function aj(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;aj(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Tl(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)ZO(l,d.alternate,d),d=d.sibling}function pf(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:pc(4,d,d.return),pf(d);break;case 1:Eo(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&YO(d,d.return,p),pf(d);break;case 27:my(d.stateNode);case 26:case 5:Eo(d,d.return),pf(d);break;case 22:d.memoizedState===null&&pf(d);break;case 30:pf(d);break;default:pf(d)}l=l.sibling}}function Nl(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,_=l,N=d,O=N.flags;switch(N.tag){case 0:case 11:case 15:Nl(_,N,p),ay(4,N);break;case 1:if(Nl(_,N,p),b=N,_=b.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(se){Ht(b,b.return,se)}if(b=N,_=b.updateQueue,_!==null){var H=b.stateNode;try{var X=_.shared.hiddenCallbacks;if(X!==null)for(_.shared.hiddenCallbacks=null,_=0;_<X.length;_++)OL(X[_],H)}catch(se){Ht(b,b.return,se)}}p&&O&64&&WO(N),sy(N,N.return);break;case 27:JO(N);case 26:case 5:Nl(_,N,p),p&&b===null&&O&4&&KO(N),sy(N,N.return);break;case 12:Nl(_,N,p);break;case 31:Nl(_,N,p),p&&O&4&&nj(_,N);break;case 13:Nl(_,N,p),p&&O&4&&rj(_,N);break;case 22:N.memoizedState===null&&Nl(_,N,p),sy(N,N.return);break;case 30:break;default:Nl(_,N,p)}d=d.sibling}}function cT(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Vv(p))}function dT(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Vv(l))}function Vs(l,d,p,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)sj(l,d,p,b),d=d.sibling}function sj(l,d,p,b){var _=d.flags;switch(d.tag){case 0:case 11:case 15:Vs(l,d,p,b),_&2048&&ay(9,d);break;case 1:Vs(l,d,p,b);break;case 3:Vs(l,d,p,b),_&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Vv(l)));break;case 12:if(_&2048){Vs(l,d,p,b),l=d.stateNode;try{var N=d.memoizedProps,O=N.id,H=N.onPostCommit;typeof H=="function"&&H(O,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(X){Ht(d,d.return,X)}}else Vs(l,d,p,b);break;case 31:Vs(l,d,p,b);break;case 13:Vs(l,d,p,b);break;case 23:break;case 22:N=d.stateNode,O=d.alternate,d.memoizedState!==null?N._visibility&2?Vs(l,d,p,b):oy(l,d):N._visibility&2?Vs(l,d,p,b):(N._visibility|=2,Pp(l,d,p,b,(d.subtreeFlags&10256)!==0||!1)),_&2048&&cT(O,d);break;case 24:Vs(l,d,p,b),_&2048&&dT(d.alternate,d);break;default:Vs(l,d,p,b)}}function Pp(l,d,p,b,_){for(_=_&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var N=l,O=d,H=p,X=b,se=O.flags;switch(O.tag){case 0:case 11:case 15:Pp(N,O,H,X,_),ay(8,O);break;case 23:break;case 22:var pe=O.stateNode;O.memoizedState!==null?pe._visibility&2?Pp(N,O,H,X,_):oy(N,O):(pe._visibility|=2,Pp(N,O,H,X,_)),_&&se&2048&&cT(O.alternate,O);break;case 24:Pp(N,O,H,X,_),_&&se&2048&&dT(O.alternate,O);break;default:Pp(N,O,H,X,_)}d=d.sibling}}function oy(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,b=d,_=b.flags;switch(b.tag){case 22:oy(p,b),_&2048&&cT(b.alternate,b);break;case 24:oy(p,b),_&2048&&dT(b.alternate,b);break;default:oy(p,b)}d=d.sibling}}var ly=8192;function Dp(l,d,p){if(l.subtreeFlags&ly)for(l=l.child;l!==null;)oj(l,d,p),l=l.sibling}function oj(l,d,p){switch(l.tag){case 26:Dp(l,d,p),l.flags&ly&&l.memoizedState!==null&&rJ(p,$s,l.memoizedState,l.memoizedProps);break;case 5:Dp(l,d,p);break;case 3:case 4:var b=$s;$s=lS(l.stateNode.containerInfo),Dp(l,d,p),$s=b;break;case 22:l.memoizedState===null&&(b=l.alternate,b!==null&&b.memoizedState!==null?(b=ly,ly=16777216,Dp(l,d,p),ly=b):Dp(l,d,p));break;default:Dp(l,d,p)}}function lj(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function uy(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var b=d[p];Rr=b,cj(b,l)}lj(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)uj(l),l=l.sibling}function uj(l){switch(l.tag){case 0:case 11:case 15:uy(l),l.flags&2048&&pc(9,l,l.return);break;case 3:uy(l);break;case 12:uy(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,Kw(l)):uy(l);break;default:uy(l)}}function Kw(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var b=d[p];Rr=b,cj(b,l)}lj(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:pc(8,d,d.return),Kw(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,Kw(d));break;default:Kw(d)}l=l.sibling}}function cj(l,d){for(;Rr!==null;){var p=Rr;switch(p.tag){case 0:case 11:case 15:pc(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Vv(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,Rr=b;else e:for(p=l;Rr!==null;){b=Rr;var _=b.sibling,N=b.return;if(ej(b),b===p){Rr=null;break e}if(_!==null){_.return=N,Rr=_;break e}Rr=N}}}var yX={getCacheForType:function(l){var d=Vr(nr),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p},cacheSignal:function(){return Vr(nr).controller.signal}},bX=typeof WeakMap=="function"?WeakMap:Map,Ft=0,an=null,vt=null,xt=0,zt=0,Ea=null,mc=!1,Ip=!1,fT=!1,Rl=0,Un=0,gc=0,mf=0,hT=0,Aa=0,Lp=0,cy=null,Qi=null,pT=!1,Xw=0,dj=0,Jw=1/0,Qw=null,vc=null,pr=0,yc=null,Op=null,kl=0,mT=0,gT=null,fj=null,dy=0,vT=null;function _a(){return(Ft&2)!==0&&xt!==0?xt&-xt:U.T!==null?ET():Ce()}function hj(){if(Aa===0)if((xt&536870912)===0||Et){var l=Yd;Yd<<=1,(Yd&3932160)===0&&(Yd=262144),Aa=l}else Aa=536870912;return l=wa.current,l!==null&&(l.flags|=32),Aa}function Zi(l,d,p){(l===an&&(zt===2||zt===9)||l.cancelPendingCommit!==null)&&(jp(l,0),bc(l,xt,Aa,!1)),rc(l,p),((Ft&2)===0||l!==an)&&(l===an&&((Ft&2)===0&&(mf|=p),Un===4&&bc(l,xt,Aa,!1)),Ao(l))}function pj(l,d,p){if((Ft&6)!==0)throw Error(r(327));var b=!p&&(d&127)===0&&(d&l.expiredLanes)===0||Xd(l,d),_=b?SX(l,d):bT(l,d,!0),N=b;do{if(_===0){Ip&&!b&&bc(l,d,0,!1);break}else{if(p=l.current.alternate,N&&!xX(p)){_=bT(l,d,!1),N=!1;continue}if(_===2){if(N=d,l.errorRecoveryDisabledLanes&N)var O=0;else O=l.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){d=O;e:{var H=l;_=cy;var X=H.current.memoizedState.isDehydrated;if(X&&(jp(H,O).flags|=256),O=bT(H,O,!1),O!==2){if(fT&&!X){H.errorRecoveryDisabledLanes|=N,mf|=N,_=4;break e}N=Qi,Qi=_,N!==null&&(Qi===null?Qi=N:Qi.push.apply(Qi,N))}_=O}if(N=!1,_!==2)continue}}if(_===1){jp(l,0),bc(l,d,0,!0);break}e:{switch(b=l,N=_,N){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:bc(b,d,Aa,!mc);break e;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(_=Xw+300-Nt(),10<_)){if(bc(b,d,Aa,!mc),Kd(b,0,!0)!==0)break e;kl=d,b.timeoutHandle=$j(mj.bind(null,b,p,Qi,Qw,pT,d,Aa,mf,Lp,mc,N,"Throttled",-0,0),_);break e}mj(b,p,Qi,Qw,pT,d,Aa,mf,Lp,mc,N,null,-0,0)}}break}while(!0);Ao(l)}function mj(l,d,p,b,_,N,O,H,X,se,pe,ye,le,ce){if(l.timeoutHandle=-1,ye=d.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ml},oj(d,N,ye);var Fe=(N&62914560)===N?Xw-Nt():(N&4194048)===N?dj-Nt():0;if(Fe=iJ(ye,Fe),Fe!==null){kl=N,l.cancelPendingCommit=Fe(Ej.bind(null,l,d,N,p,b,_,O,H,X,pe,ye,null,le,ce)),bc(l,N,O,!se);return}}Ej(l,d,N,p,b,_,O,H,X)}function xX(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var _=p[b],N=_.getSnapshot;_=_.value;try{if(!ba(N(),_))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function bc(l,d,p,b){d&=~hT,d&=~mf,l.suspendedLanes|=d,l.pingedLanes&=~d,b&&(l.warmLanes|=d),b=l.expirationTimes;for(var _=d;0<_;){var N=31-ui(_),O=1<<N;b[N]=-1,_&=~O}p!==0&&cw(l,p,d)}function Zw(){return(Ft&6)===0?(fy(0),!1):!0}function yT(){if(vt!==null){if(zt===0)var l=vt.return;else l=vt,bl=sf=null,IC(l),Tp=null,Yv=0,l=vt;for(;l!==null;)VO(l.alternate,l),l=l.return;vt=null}}function jp(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,BX(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),kl=0,yT(),an=l,vt=p=vl(l.current,null),xt=d,zt=0,Ea=null,mc=!1,Ip=Xd(l,d),fT=!1,Lp=Aa=hT=mf=gc=Un=0,Qi=cy=null,pT=!1,(d&8)!==0&&(d|=d&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=d;0<b;){var _=31-ui(b),N=1<<_;d|=l[_],b&=~N}return Rl=d,xw(),p}function gj(l,d){lt=null,U.H=ny,d===Cp||d===Nw?(d=PL(),zt=3):d===SC?(d=PL(),zt=4):zt=d===XC?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ea=d,vt===null&&(Un=1,Hw(l,os(d,l.current)))}function vj(){var l=wa.current;return l===null?!0:(xt&4194048)===xt?ds===null:(xt&62914560)===xt||(xt&536870912)!==0?l===ds:!1}function yj(){var l=U.H;return U.H=ny,l===null?ny:l}function bj(){var l=U.A;return U.A=yX,l}function eS(){Un=4,mc||(xt&4194048)!==xt&&wa.current!==null||(Ip=!0),(gc&134217727)===0&&(mf&134217727)===0||an===null||bc(an,xt,Aa,!1)}function bT(l,d,p){var b=Ft;Ft|=2;var _=yj(),N=bj();(an!==l||xt!==d)&&(Qw=null,jp(l,d)),d=!1;var O=Un;e:do try{if(zt!==0&&vt!==null){var H=vt,X=Ea;switch(zt){case 8:yT(),O=6;break e;case 3:case 2:case 9:case 6:wa.current===null&&(d=!0);var se=zt;if(zt=0,Ea=null,Fp(l,H,X,se),p&&Ip){O=0;break e}break;default:se=zt,zt=0,Ea=null,Fp(l,H,X,se)}}wX(),O=Un;break}catch(pe){gj(l,pe)}while(!0);return d&&l.shellSuspendCounter++,bl=sf=null,Ft=b,U.H=_,U.A=N,vt===null&&(an=null,xt=0,xw()),O}function wX(){for(;vt!==null;)xj(vt)}function SX(l,d){var p=Ft;Ft|=2;var b=yj(),_=bj();an!==l||xt!==d?(Qw=null,Jw=Nt()+500,jp(l,d)):Ip=Xd(l,d);e:do try{if(zt!==0&&vt!==null){d=vt;var N=Ea;t:switch(zt){case 1:zt=0,Ea=null,Fp(l,d,N,1);break;case 2:case 9:if(kL(N)){zt=0,Ea=null,wj(d);break}d=function(){zt!==2&&zt!==9||an!==l||(zt=7),Ao(l)},N.then(d,d);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:kL(N)?(zt=0,Ea=null,wj(d)):(zt=0,Ea=null,Fp(l,d,N,7));break;case 5:var O=null;switch(vt.tag){case 26:O=vt.memoizedState;case 5:case 27:var H=vt;if(O?s5(O):H.stateNode.complete){zt=0,Ea=null;var X=H.sibling;if(X!==null)vt=X;else{var se=H.return;se!==null?(vt=se,tS(se)):vt=null}break t}}zt=0,Ea=null,Fp(l,d,N,5);break;case 6:zt=0,Ea=null,Fp(l,d,N,6);break;case 8:yT(),Un=6;break e;default:throw Error(r(462))}}EX();break}catch(pe){gj(l,pe)}while(!0);return bl=sf=null,U.H=b,U.A=_,Ft=p,vt!==null?0:(an=null,xt=0,xw(),Un)}function EX(){for(;vt!==null&&!tr();)xj(vt)}function xj(l){var d=qO(l.alternate,l,Rl);l.memoizedProps=l.pendingProps,d===null?tS(l):vt=d}function wj(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=FO(p,d,d.pendingProps,d.type,void 0,xt);break;case 11:d=FO(p,d,d.pendingProps,d.type.render,d.ref,xt);break;case 5:IC(d);default:VO(p,d),d=vt=bL(d,Rl),d=qO(p,d,Rl)}l.memoizedProps=l.pendingProps,d===null?tS(l):vt=d}function Fp(l,d,p,b){bl=sf=null,IC(d),Tp=null,Yv=0;var _=d.return;try{if(dX(l,_,d,p,xt)){Un=1,Hw(l,os(p,l.current)),vt=null;return}}catch(N){if(_!==null)throw vt=_,N;Un=1,Hw(l,os(p,l.current)),vt=null;return}d.flags&32768?(Et||b===1?l=!0:Ip||(xt&536870912)!==0?l=!1:(mc=l=!0,(b===2||b===9||b===3||b===6)&&(b=wa.current,b!==null&&b.tag===13&&(b.flags|=16384))),Sj(d,l)):tS(d)}function tS(l){var d=l;do{if((d.flags&32768)!==0){Sj(d,mc);return}l=d.return;var p=pX(d.alternate,d,Rl);if(p!==null){vt=p;return}if(d=d.sibling,d!==null){vt=d;return}vt=d=l}while(d!==null);Un===0&&(Un=5)}function Sj(l,d){do{var p=mX(l.alternate,l);if(p!==null){p.flags&=32767,vt=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){vt=l;return}vt=l=p}while(l!==null);Un=6,vt=null}function Ej(l,d,p,b,_,N,O,H,X){l.cancelPendingCommit=null;do nS();while(pr!==0);if((Ft&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(N=d.lanes|d.childLanes,N|=oC,F_(l,p,N,O,H,X),l===an&&(vt=an=null,xt=0),Op=d,yc=l,kl=p,mT=N,gT=_,fj=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,TX(Rt,function(){return Nj(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=U.T,U.T=null,_=q.p,q.p=2,O=Ft,Ft|=4;try{gX(l,d,p)}finally{Ft=O,q.p=_,U.T=b}}pr=1,Aj(),_j(),Cj()}}function Aj(){if(pr===1){pr=0;var l=yc,d=Op,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=U.T,U.T=null;var b=q.p;q.p=2;var _=Ft;Ft|=4;try{ij(d,l);var N=MT,O=cL(l.containerInfo),H=N.focusedElem,X=N.selectionRange;if(O!==H&&H&&H.ownerDocument&&uL(H.ownerDocument.documentElement,H)){if(X!==null&&nC(H)){var se=X.start,pe=X.end;if(pe===void 0&&(pe=se),"selectionStart"in H)H.selectionStart=se,H.selectionEnd=Math.min(pe,H.value.length);else{var ye=H.ownerDocument||document,le=ye&&ye.defaultView||window;if(le.getSelection){var ce=le.getSelection(),Fe=H.textContent.length,et=Math.min(X.start,Fe),Xt=X.end===void 0?et:Math.min(X.end,Fe);!ce.extend&&et>Xt&&(O=Xt,Xt=et,et=O);var re=lL(H,et),ee=lL(H,Xt);if(re&&ee&&(ce.rangeCount!==1||ce.anchorNode!==re.node||ce.anchorOffset!==re.offset||ce.focusNode!==ee.node||ce.focusOffset!==ee.offset)){var ae=ye.createRange();ae.setStart(re.node,re.offset),ce.removeAllRanges(),et>Xt?(ce.addRange(ae),ce.extend(ee.node,ee.offset)):(ae.setEnd(ee.node,ee.offset),ce.addRange(ae))}}}}for(ye=[],ce=H;ce=ce.parentNode;)ce.nodeType===1&&ye.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ye.length;H++){var ge=ye[H];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}pS=!!kT,MT=kT=null}finally{Ft=_,q.p=b,U.T=p}}l.current=d,pr=2}}function _j(){if(pr===2){pr=0;var l=yc,d=Op,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=U.T,U.T=null;var b=q.p;q.p=2;var _=Ft;Ft|=4;try{ZO(l,d.alternate,d)}finally{Ft=_,q.p=b,U.T=p}}pr=3}}function Cj(){if(pr===4||pr===3){pr=0,fl();var l=yc,d=Op,p=kl,b=fj;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?pr=5:(pr=0,Op=yc=null,Tj(l,l.pendingLanes));var _=l.pendingLanes;if(_===0&&(vc=null),we(p),d=d.stateNode,Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(zs,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=U.T,_=q.p,q.p=2,U.T=null;try{for(var N=l.onRecoverableError,O=0;O<b.length;O++){var H=b[O];N(H.value,{componentStack:H.stack})}}finally{U.T=d,q.p=_}}(kl&3)!==0&&nS(),Ao(l),_=l.pendingLanes,(p&261930)!==0&&(_&42)!==0?l===vT?dy++:(dy=0,vT=l):dy=0,fy(0)}}function Tj(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Vv(d)))}function nS(){return Aj(),_j(),Cj(),Nj()}function Nj(){if(pr!==5)return!1;var l=yc,d=mT;mT=0;var p=we(kl),b=U.T,_=q.p;try{q.p=32>p?32:p,U.T=null,p=gT,gT=null;var N=yc,O=kl;if(pr=0,Op=yc=null,kl=0,(Ft&6)!==0)throw Error(r(331));var H=Ft;if(Ft|=4,uj(N.current),sj(N,N.current,O,p),Ft=H,fy(0,!1),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(zs,N)}catch{}return!0}finally{q.p=_,U.T=b,Tj(l,d)}}function Rj(l,d,p){d=os(p,d),d=KC(l.stateNode,d,2),l=dc(l,d,2),l!==null&&(rc(l,2),Ao(l))}function Ht(l,d,p){if(l.tag===3)Rj(l,l,p);else for(;d!==null;){if(d.tag===3){Rj(d,l,p);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(vc===null||!vc.has(b))){l=os(p,l),p=kO(2),b=dc(d,p,2),b!==null&&(MO(p,b,d,l),rc(b,2),Ao(b));break}}d=d.return}}function xT(l,d,p){var b=l.pingCache;if(b===null){b=l.pingCache=new bX;var _=new Set;b.set(d,_)}else _=b.get(d),_===void 0&&(_=new Set,b.set(d,_));_.has(p)||(fT=!0,_.add(p),l=AX.bind(null,l,d,p),d.then(l,l))}function AX(l,d,p){var b=l.pingCache;b!==null&&b.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,an===l&&(xt&p)===p&&(Un===4||Un===3&&(xt&62914560)===xt&&300>Nt()-Xw?(Ft&2)===0&&jp(l,0):hT|=p,Lp===xt&&(Lp=0)),Ao(l)}function kj(l,d){d===0&&(d=Jd()),l=nf(l,d),l!==null&&(rc(l,d),Ao(l))}function _X(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),kj(l,p)}function CX(l,d){var p=0;switch(l.tag){case 31:case 13:var b=l.stateNode,_=l.memoizedState;_!==null&&(p=_.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),kj(l,p)}function TX(l,d){return hr(l,d)}var rS=null,Up=null,wT=!1,iS=!1,ST=!1,xc=0;function Ao(l){l!==Up&&l.next===null&&(Up===null?rS=Up=l:Up=Up.next=l),iS=!0,wT||(wT=!0,RX())}function fy(l,d){if(!ST&&iS){ST=!0;do for(var p=!1,b=rS;b!==null;){if(l!==0){var _=b.pendingLanes;if(_===0)var N=0;else{var O=b.suspendedLanes,H=b.pingedLanes;N=(1<<31-ui(42|l)+1)-1,N&=_&~(O&~H),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,Ij(b,N))}else N=xt,N=Kd(b,b===an?N:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(N&3)===0||Xd(b,N)||(p=!0,Ij(b,N));b=b.next}while(p);ST=!1}}function NX(){Mj()}function Mj(){iS=wT=!1;var l=0;xc!==0&&UX()&&(l=xc);for(var d=Nt(),p=null,b=rS;b!==null;){var _=b.next,N=Pj(b,d);N===0?(b.next=null,p===null?rS=_:p.next=_,_===null&&(Up=p)):(p=b,(l!==0||(N&3)!==0)&&(iS=!0)),b=_}pr!==0&&pr!==5||fy(l),xc!==0&&(xc=0)}function Pj(l,d){for(var p=l.suspendedLanes,b=l.pingedLanes,_=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var O=31-ui(N),H=1<<O,X=_[O];X===-1?((H&p)===0||(H&b)!==0)&&(_[O]=uw(H,d)):X<=d&&(l.expiredLanes|=H),N&=~H}if(d=an,p=xt,p=Kd(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b=l.callbackNode,p===0||l===d&&(zt===2||zt===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&gn(b),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||Xd(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(b!==null&&gn(b),we(p)){case 2:case 8:p=Wt;break;case 32:p=Rt;break;case 268435456:p=Wn;break;default:p=Rt}return b=Dj.bind(null,l),p=hr(p,b),l.callbackPriority=d,l.callbackNode=p,d}return b!==null&&b!==null&&gn(b),l.callbackPriority=2,l.callbackNode=null,2}function Dj(l,d){if(pr!==0&&pr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(nS()&&l.callbackNode!==p)return null;var b=xt;return b=Kd(l,l===an?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b===0?null:(pj(l,b,d),Pj(l,Nt()),l.callbackNode!=null&&l.callbackNode===p?Dj.bind(null,l):null)}function Ij(l,d){if(nS())return null;pj(l,d,!0)}function RX(){zX(function(){(Ft&6)!==0?hr(Bs,NX):Mj()})}function ET(){if(xc===0){var l=Ap;l===0&&(l=hl,hl<<=1,(hl&261888)===0&&(hl=256)),xc=l}return xc}function Lj(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:fw(""+l)}function Oj(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function kX(l,d,p,b,_){if(d==="submit"&&p&&p.stateNode===_){var N=Lj((_[Me]||null).action),O=b.submitter;O&&(d=(d=O[Me]||null)?Lj(d.formAction):O.getAttribute("formAction"),d!==null&&(N=d,O=null));var H=new gw("action","action",null,b,_);l.push({event:H,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(xc!==0){var X=O?Oj(_,O):new FormData(_);GC(p,{pending:!0,data:X,method:_.method,action:N},null,X)}}else typeof N=="function"&&(H.preventDefault(),X=O?Oj(_,O):new FormData(_),GC(p,{pending:!0,data:X,method:_.method,action:N},N,X))},currentTarget:_}]})}}for(var AT=0;AT<sC.length;AT++){var _T=sC[AT],MX=_T.toLowerCase(),PX=_T[0].toUpperCase()+_T.slice(1);qs(MX,"on"+PX)}qs(hL,"onAnimationEnd"),qs(pL,"onAnimationIteration"),qs(mL,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(YK,"onTransitionRun"),qs(KK,"onTransitionStart"),qs(XK,"onTransitionCancel"),qs(gL,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hy));function jj(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],_=b.event;b=b.listeners;e:{var N=void 0;if(d)for(var O=b.length-1;0<=O;O--){var H=b[O],X=H.instance,se=H.currentTarget;if(H=H.listener,X!==N&&_.isPropagationStopped())break e;N=H,_.currentTarget=se;try{N(_)}catch(pe){bw(pe)}_.currentTarget=null,N=X}else for(O=0;O<b.length;O++){if(H=b[O],X=H.instance,se=H.currentTarget,H=H.listener,X!==N&&_.isPropagationStopped())break e;N=H,_.currentTarget=se;try{N(_)}catch(pe){bw(pe)}_.currentTarget=null,N=X}}}}function yt(l,d){var p=d[Ze];p===void 0&&(p=d[Ze]=new Set);var b=l+"__bubble";p.has(b)||(Fj(d,l,2,!1),p.add(b))}function CT(l,d,p){var b=0;d&&(b|=4),Fj(p,l,b,d)}var aS="_reactListening"+Math.random().toString(36).slice(2);function TT(l){if(!l[aS]){l[aS]=!0,va.forEach(function(p){p!=="selectionchange"&&(DX.has(p)||CT(p,!1,l),CT(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[aS]||(d[aS]=!0,CT("selectionchange",!1,d))}}function Fj(l,d,p,b){switch(h5(d)){case 2:var _=oJ;break;case 8:_=lJ;break;default:_=HT}p=_.bind(null,d,p,l),_=void 0,!W_||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),b?_!==void 0?l.addEventListener(d,p,{capture:!0,passive:_}):l.addEventListener(d,p,!0):_!==void 0?l.addEventListener(d,p,{passive:_}):l.addEventListener(d,p,!1)}function NT(l,d,p,b,_){var N=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var O=b.tag;if(O===3||O===4){var H=b.stateNode.containerInfo;if(H===_)break;if(O===4)for(O=b.return;O!==null;){var X=O.tag;if((X===3||X===4)&&O.stateNode.containerInfo===_)return;O=O.return}for(;H!==null;){if(O=kt(H),O===null)return;if(X=O.tag,X===5||X===6||X===26||X===27){b=N=O;continue e}H=H.parentNode}}b=b.return}GI(function(){var se=N,pe=$_(p),ye=[];e:{var le=vL.get(l);if(le!==void 0){var ce=gw,Fe=l;switch(l){case"keypress":if(pw(p)===0)break e;case"keydown":case"keyup":ce=CK;break;case"focusin":Fe="focus",ce=J_;break;case"focusout":Fe="blur",ce=J_;break;case"beforeblur":case"afterblur":ce=J_;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=VI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=pK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=RK;break;case hL:case pL:case mL:ce=vK;break;case gL:ce=MK;break;case"scroll":case"scrollend":ce=fK;break;case"wheel":ce=DK;break;case"copy":case"cut":case"paste":ce=bK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=YI;break;case"toggle":case"beforetoggle":ce=LK}var et=(d&4)!==0,Xt=!et&&(l==="scroll"||l==="scrollend"),re=et?le!==null?le+"Capture":null:le;et=[];for(var ee=se,ae;ee!==null;){var ge=ee;if(ae=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ae===null||re===null||(ge=Lv(ee,re),ge!=null&&et.push(py(ee,ge,ae))),Xt)break;ee=ee.return}0<et.length&&(le=new ce(le,Fe,null,p,pe),ye.push({event:le,listeners:et}))}}if((d&7)===0){e:{if(le=l==="mouseover"||l==="pointerover",ce=l==="mouseout"||l==="pointerout",le&&p!==q_&&(Fe=p.relatedTarget||p.fromElement)&&(kt(Fe)||Fe[Ge]))break e;if((ce||le)&&(le=pe.window===pe?pe:(le=pe.ownerDocument)?le.defaultView||le.parentWindow:window,ce?(Fe=p.relatedTarget||p.toElement,ce=se,Fe=Fe?kt(Fe):null,Fe!==null&&(Xt=a(Fe),et=Fe.tag,Fe!==Xt||et!==5&&et!==27&&et!==6)&&(Fe=null)):(ce=null,Fe=se),ce!==Fe)){if(et=VI,ge="onMouseLeave",re="onMouseEnter",ee="mouse",(l==="pointerout"||l==="pointerover")&&(et=YI,ge="onPointerLeave",re="onPointerEnter",ee="pointer"),Xt=ce==null?le:ga(ce),ae=Fe==null?le:ga(Fe),le=new et(ge,ee+"leave",ce,p,pe),le.target=Xt,le.relatedTarget=ae,ge=null,kt(pe)===se&&(et=new et(re,ee+"enter",Fe,p,pe),et.target=ae,et.relatedTarget=Xt,ge=et),Xt=ge,ce&&Fe)t:{for(et=IX,re=ce,ee=Fe,ae=0,ge=re;ge;ge=et(ge))ae++;ge=0;for(var Je=ee;Je;Je=et(Je))ge++;for(;0<ae-ge;)re=et(re),ae--;for(;0<ge-ae;)ee=et(ee),ge--;for(;ae--;){if(re===ee||ee!==null&&re===ee.alternate){et=re;break t}re=et(re),ee=et(ee)}et=null}else et=null;ce!==null&&Uj(ye,le,ce,et,!1),Fe!==null&&Xt!==null&&Uj(ye,Xt,Fe,et,!0)}}e:{if(le=se?ga(se):window,ce=le.nodeName&&le.nodeName.toLowerCase(),ce==="select"||ce==="input"&&le.type==="file")var Dt=nL;else if(eL(le))if(rL)Dt=$K;else{Dt=GK;var ze=HK}else ce=le.nodeName,!ce||ce.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?se&&G_(se.elementType)&&(Dt=nL):Dt=qK;if(Dt&&(Dt=Dt(l,se))){tL(ye,Dt,p,pe);break e}ze&&ze(l,le,se),l==="focusout"&&se&&le.type==="number"&&se.memoizedProps.value!=null&&H_(le,"number",le.value)}switch(ze=se?ga(se):window,l){case"focusin":(eL(ze)||ze.contentEditable==="true")&&(gp=ze,rC=se,Gv=null);break;case"focusout":Gv=rC=gp=null;break;case"mousedown":iC=!0;break;case"contextmenu":case"mouseup":case"dragend":iC=!1,dL(ye,p,pe);break;case"selectionchange":if(WK)break;case"keydown":case"keyup":dL(ye,p,pe)}var ct;if(Z_)e:{switch(l){case"compositionstart":var wt="onCompositionStart";break e;case"compositionend":wt="onCompositionEnd";break e;case"compositionupdate":wt="onCompositionUpdate";break e}wt=void 0}else mp?QI(l,p)&&(wt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(wt="onCompositionStart");wt&&(KI&&p.locale!=="ko"&&(mp||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&mp&&(ct=qI()):(ic=pe,Y_="value"in ic?ic.value:ic.textContent,mp=!0)),ze=sS(se,wt),0<ze.length&&(wt=new WI(wt,l,null,p,pe),ye.push({event:wt,listeners:ze}),ct?wt.data=ct:(ct=ZI(p),ct!==null&&(wt.data=ct)))),(ct=jK?FK(l,p):UK(l,p))&&(wt=sS(se,"onBeforeInput"),0<wt.length&&(ze=new WI("onBeforeInput","beforeinput",null,p,pe),ye.push({event:ze,listeners:wt}),ze.data=ct)),kX(ye,l,se,p,pe)}jj(ye,d)})}function py(l,d,p){return{instance:l,listener:d,currentTarget:p}}function sS(l,d){for(var p=d+"Capture",b=[];l!==null;){var _=l,N=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||N===null||(_=Lv(l,p),_!=null&&b.unshift(py(l,_,N)),_=Lv(l,d),_!=null&&b.push(py(l,_,N))),l.tag===3)return b;l=l.return}return[]}function IX(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Uj(l,d,p,b,_){for(var N=d._reactName,O=[];p!==null&&p!==b;){var H=p,X=H.alternate,se=H.stateNode;if(H=H.tag,X!==null&&X===b)break;H!==5&&H!==26&&H!==27||se===null||(X=se,_?(se=Lv(p,N),se!=null&&O.unshift(py(p,se,X))):_||(se=Lv(p,N),se!=null&&O.push(py(p,se,X)))),p=p.return}O.length!==0&&l.push({event:d,listeners:O})}var LX=/\r\n?/g,OX=/\u0000|\uFFFD/g;function Bj(l){return(typeof l=="string"?l:""+l).replace(LX,`
`).replace(OX,"")}function zj(l,d){return d=Bj(d),Bj(l)===d}function Kt(l,d,p,b,_,N){switch(p){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||fp(l,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&fp(l,""+b);break;case"className":is(l,"class",b);break;case"tabIndex":is(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":is(l,p,b);break;case"style":zI(l,b,N);break;case"data":if(d!=="object"){is(l,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(p);break}b=fw(""+b),l.setAttribute(p,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(d!=="input"&&Kt(l,d,"name",_.name,_,null),Kt(l,d,"formEncType",_.formEncType,_,null),Kt(l,d,"formMethod",_.formMethod,_,null),Kt(l,d,"formTarget",_.formTarget,_,null)):(Kt(l,d,"encType",_.encType,_,null),Kt(l,d,"method",_.method,_,null),Kt(l,d,"target",_.target,_,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(p);break}b=fw(""+b),l.setAttribute(p,b);break;case"onClick":b!=null&&(l.onclick=ml);break;case"onScroll":b!=null&&yt("scroll",l);break;case"onScrollEnd":b!=null&&yt("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(p=b.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}p=fw(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,""+b):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":b===!0?l.setAttribute(p,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,b):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(p,b):l.removeAttribute(p);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(p):l.setAttribute(p,b);break;case"popover":yt("beforetoggle",l),yt("toggle",l),Gs(l,"popover",b);break;case"xlinkActuate":Pt(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Pt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Pt(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Pt(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Pt(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Pt(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Pt(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Pt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Pt(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Gs(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=cK.get(p)||p,Gs(l,p,b))}}function RT(l,d,p,b,_,N){switch(p){case"style":zI(l,b,N);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(p=b.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof b=="string"?fp(l,b):(typeof b=="number"||typeof b=="bigint")&&fp(l,""+b);break;case"onScroll":b!=null&&yt("scroll",l);break;case"onScrollEnd":b!=null&&yt("scrollend",l);break;case"onClick":b!=null&&(l.onclick=ml);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!up.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(_=p.endsWith("Capture"),d=p.slice(2,_?p.length-7:void 0),N=l[Me]||null,N=N!=null?N[p]:null,typeof N=="function"&&l.removeEventListener(d,N,_),typeof b=="function")){typeof N!="function"&&N!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,b,_);break e}p in l?l[p]=b:b===!0?l.setAttribute(p,""):Gs(l,p,b)}}}function Yr(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",l),yt("load",l);var b=!1,_=!1,N;for(N in p)if(p.hasOwnProperty(N)){var O=p[N];if(O!=null)switch(N){case"src":b=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Kt(l,d,N,O,p,null)}}_&&Kt(l,d,"srcSet",p.srcSet,p,null),b&&Kt(l,d,"src",p.src,p,null);return;case"input":yt("invalid",l);var H=N=O=_=null,X=null,se=null;for(b in p)if(p.hasOwnProperty(b)){var pe=p[b];if(pe!=null)switch(b){case"name":_=pe;break;case"type":O=pe;break;case"checked":X=pe;break;case"defaultChecked":se=pe;break;case"value":N=pe;break;case"defaultValue":H=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,d));break;default:Kt(l,d,b,pe,p,null)}}jI(l,N,H,X,se,O,_,!1);return;case"select":yt("invalid",l),b=O=N=null;for(_ in p)if(p.hasOwnProperty(_)&&(H=p[_],H!=null))switch(_){case"value":N=H;break;case"defaultValue":O=H;break;case"multiple":b=H;default:Kt(l,d,_,H,p,null)}d=N,p=O,l.multiple=!!b,d!=null?dp(l,!!b,d,!1):p!=null&&dp(l,!!b,p,!0);return;case"textarea":yt("invalid",l),N=_=b=null;for(O in p)if(p.hasOwnProperty(O)&&(H=p[O],H!=null))switch(O){case"value":b=H;break;case"defaultValue":_=H;break;case"children":N=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Kt(l,d,O,H,p,null)}UI(l,b,_,N);return;case"option":for(X in p)if(p.hasOwnProperty(X)&&(b=p[X],b!=null))switch(X){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Kt(l,d,X,b,p,null)}return;case"dialog":yt("beforetoggle",l),yt("toggle",l),yt("cancel",l),yt("close",l);break;case"iframe":case"object":yt("load",l);break;case"video":case"audio":for(b=0;b<hy.length;b++)yt(hy[b],l);break;case"image":yt("error",l),yt("load",l);break;case"details":yt("toggle",l);break;case"embed":case"source":case"link":yt("error",l),yt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in p)if(p.hasOwnProperty(se)&&(b=p[se],b!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Kt(l,d,se,b,p,null)}return;default:if(G_(d)){for(pe in p)p.hasOwnProperty(pe)&&(b=p[pe],b!==void 0&&RT(l,d,pe,b,p,void 0));return}}for(H in p)p.hasOwnProperty(H)&&(b=p[H],b!=null&&Kt(l,d,H,b,p,null))}function jX(l,d,p,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,N=null,O=null,H=null,X=null,se=null,pe=null;for(ce in p){var ye=p[ce];if(p.hasOwnProperty(ce)&&ye!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":X=ye;default:b.hasOwnProperty(ce)||Kt(l,d,ce,null,b,ye)}}for(var le in b){var ce=b[le];if(ye=p[le],b.hasOwnProperty(le)&&(ce!=null||ye!=null))switch(le){case"type":N=ce;break;case"name":_=ce;break;case"checked":se=ce;break;case"defaultChecked":pe=ce;break;case"value":O=ce;break;case"defaultValue":H=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,d));break;default:ce!==ye&&Kt(l,d,le,ce,b,ye)}}z_(l,O,H,X,se,pe,N,_);return;case"select":ce=O=H=le=null;for(N in p)if(X=p[N],p.hasOwnProperty(N)&&X!=null)switch(N){case"value":break;case"multiple":ce=X;default:b.hasOwnProperty(N)||Kt(l,d,N,null,b,X)}for(_ in b)if(N=b[_],X=p[_],b.hasOwnProperty(_)&&(N!=null||X!=null))switch(_){case"value":le=N;break;case"defaultValue":H=N;break;case"multiple":O=N;default:N!==X&&Kt(l,d,_,N,b,X)}d=H,p=O,b=ce,le!=null?dp(l,!!p,le,!1):!!b!=!!p&&(d!=null?dp(l,!!p,d,!0):dp(l,!!p,p?[]:"",!1));return;case"textarea":ce=le=null;for(H in p)if(_=p[H],p.hasOwnProperty(H)&&_!=null&&!b.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Kt(l,d,H,null,b,_)}for(O in b)if(_=b[O],N=p[O],b.hasOwnProperty(O)&&(_!=null||N!=null))switch(O){case"value":le=_;break;case"defaultValue":ce=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==N&&Kt(l,d,O,_,b,N)}FI(l,le,ce);return;case"option":for(var Fe in p)if(le=p[Fe],p.hasOwnProperty(Fe)&&le!=null&&!b.hasOwnProperty(Fe))switch(Fe){case"selected":l.selected=!1;break;default:Kt(l,d,Fe,null,b,le)}for(X in b)if(le=b[X],ce=p[X],b.hasOwnProperty(X)&&le!==ce&&(le!=null||ce!=null))switch(X){case"selected":l.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Kt(l,d,X,le,b,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in p)le=p[et],p.hasOwnProperty(et)&&le!=null&&!b.hasOwnProperty(et)&&Kt(l,d,et,null,b,le);for(se in b)if(le=b[se],ce=p[se],b.hasOwnProperty(se)&&le!==ce&&(le!=null||ce!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,d));break;default:Kt(l,d,se,le,b,ce)}return;default:if(G_(d)){for(var Xt in p)le=p[Xt],p.hasOwnProperty(Xt)&&le!==void 0&&!b.hasOwnProperty(Xt)&&RT(l,d,Xt,void 0,b,le);for(pe in b)le=b[pe],ce=p[pe],!b.hasOwnProperty(pe)||le===ce||le===void 0&&ce===void 0||RT(l,d,pe,le,b,ce);return}}for(var re in p)le=p[re],p.hasOwnProperty(re)&&le!=null&&!b.hasOwnProperty(re)&&Kt(l,d,re,null,b,le);for(ye in b)le=b[ye],ce=p[ye],!b.hasOwnProperty(ye)||le===ce||le==null&&ce==null||Kt(l,d,ye,le,b,ce)}function Hj(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function FX(){if(typeof performance.getEntriesByType=="function"){for(var l=0,d=0,p=performance.getEntriesByType("resource"),b=0;b<p.length;b++){var _=p[b],N=_.transferSize,O=_.initiatorType,H=_.duration;if(N&&H&&Hj(O)){for(O=0,H=_.responseEnd,b+=1;b<p.length;b++){var X=p[b],se=X.startTime;if(se>H)break;var pe=X.transferSize,ye=X.initiatorType;pe&&Hj(ye)&&(X=X.responseEnd,O+=pe*(X<H?1:(H-se)/(X-se)))}if(--b,d+=8*(N+O)/(_.duration/1e3),l++,10<l)break}}if(0<l)return d/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var kT=null,MT=null;function oS(l){return l.nodeType===9?l:l.ownerDocument}function Gj(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qj(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function PT(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var DT=null;function UX(){var l=window.event;return l&&l.type==="popstate"?l===DT?!1:(DT=l,!0):(DT=null,!1)}var $j=typeof setTimeout=="function"?setTimeout:void 0,BX=typeof clearTimeout=="function"?clearTimeout:void 0,Vj=typeof Promise=="function"?Promise:void 0,zX=typeof queueMicrotask=="function"?queueMicrotask:typeof Vj<"u"?function(l){return Vj.resolve(null).then(l).catch(HX)}:$j;function HX(l){setTimeout(function(){throw l})}function wc(l){return l==="head"}function Wj(l,d){var p=d,b=0;do{var _=p.nextSibling;if(l.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"||p==="/&"){if(b===0){l.removeChild(_),Gp(d);return}b--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")b++;else if(p==="html")my(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,my(p);for(var N=p.firstChild;N;){var O=N.nextSibling,H=N.nodeName;N[yn]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=O}}else p==="body"&&my(l.ownerDocument.body);p=_}while(p);Gp(d)}function Yj(l,d){var p=l;l=0;do{var b=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=b}while(p)}function IT(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":IT(p),jn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function GX(l,d,p,b){for(;l.nodeType===1;){var _=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[yn])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==_.rel||l.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||l.getAttribute("title")!==(_.title==null?null:_.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(_.src==null?null:_.src)||l.getAttribute("type")!==(_.type==null?null:_.type)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var N=_.name==null?null:""+_.name;if(_.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=fs(l.nextSibling),l===null)break}return null}function qX(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=fs(l.nextSibling),l===null))return null;return l}function Kj(l,d){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=fs(l.nextSibling),l===null))return null;return l}function LT(l){return l.data==="$?"||l.data==="$~"}function OT(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function $X(l,d){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=d;else if(l.data!=="$?"||p.readyState!=="loading")d();else{var b=function(){d(),p.removeEventListener("DOMContentLoaded",b)};p.addEventListener("DOMContentLoaded",b),l._reactRetry=b}}function fs(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return l}var jT=null;function Xj(l){l=l.nextSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(d===0)return fs(l.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}l=l.nextSibling}return null}function Jj(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return l;d--}else p!=="/$"&&p!=="/&"||d++}l=l.previousSibling}return null}function Qj(l,d,p){switch(d=oS(p),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function my(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);jn(l)}var hs=new Map,Zj=new Set;function lS(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Ml=q.d;q.d={f:VX,r:WX,D:YX,C:KX,L:XX,m:JX,X:ZX,S:QX,M:eJ};function VX(){var l=Ml.f(),d=Zw();return l||d}function WX(l){var d=Mt(l);d!==null&&d.tag===5&&d.type==="form"?gO(d):Ml.r(l)}var Bp=typeof document>"u"?null:document;function e5(l,d,p){var b=Bp;if(b&&typeof d=="string"&&d){var _=as(d);_='link[rel="'+l+'"][href="'+_+'"]',typeof p=="string"&&(_+='[crossorigin="'+p+'"]'),Zj.has(_)||(Zj.add(_),l={rel:l,crossOrigin:p,href:d},b.querySelector(_)===null&&(d=b.createElement("link"),Yr(d,"link",l),rn(d),b.head.appendChild(d)))}}function YX(l){Ml.D(l),e5("dns-prefetch",l,null)}function KX(l,d){Ml.C(l,d),e5("preconnect",l,d)}function XX(l,d,p){Ml.L(l,d,p);var b=Bp;if(b&&l&&d){var _='link[rel="preload"][as="'+as(d)+'"]';d==="image"&&p&&p.imageSrcSet?(_+='[imagesrcset="'+as(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(_+='[imagesizes="'+as(p.imageSizes)+'"]')):_+='[href="'+as(l)+'"]';var N=_;switch(d){case"style":N=zp(l);break;case"script":N=Hp(l)}hs.has(N)||(l=h({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),hs.set(N,l),b.querySelector(_)!==null||d==="style"&&b.querySelector(gy(N))||d==="script"&&b.querySelector(vy(N))||(d=b.createElement("link"),Yr(d,"link",l),rn(d),b.head.appendChild(d)))}}function JX(l,d){Ml.m(l,d);var p=Bp;if(p&&l){var b=d&&typeof d.as=="string"?d.as:"script",_='link[rel="modulepreload"][as="'+as(b)+'"][href="'+as(l)+'"]',N=_;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Hp(l)}if(!hs.has(N)&&(l=h({rel:"modulepreload",href:l},d),hs.set(N,l),p.querySelector(_)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(vy(N)))return}b=p.createElement("link"),Yr(b,"link",l),rn(b),p.head.appendChild(b)}}}function QX(l,d,p){Ml.S(l,d,p);var b=Bp;if(b&&l){var _=rs(b).hoistableStyles,N=zp(l);d=d||"default";var O=_.get(N);if(!O){var H={loading:0,preload:null};if(O=b.querySelector(gy(N)))H.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":d},p),(p=hs.get(N))&&FT(l,p);var X=O=b.createElement("link");rn(X),Yr(X,"link",l),X._p=new Promise(function(se,pe){X.onload=se,X.onerror=pe}),X.addEventListener("load",function(){H.loading|=1}),X.addEventListener("error",function(){H.loading|=2}),H.loading|=4,uS(O,d,b)}O={type:"stylesheet",instance:O,count:1,state:H},_.set(N,O)}}}function ZX(l,d){Ml.X(l,d);var p=Bp;if(p&&l){var b=rs(p).hoistableScripts,_=Hp(l),N=b.get(_);N||(N=p.querySelector(vy(_)),N||(l=h({src:l,async:!0},d),(d=hs.get(_))&&UT(l,d),N=p.createElement("script"),rn(N),Yr(N,"link",l),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(_,N))}}function eJ(l,d){Ml.M(l,d);var p=Bp;if(p&&l){var b=rs(p).hoistableScripts,_=Hp(l),N=b.get(_);N||(N=p.querySelector(vy(_)),N||(l=h({src:l,async:!0,type:"module"},d),(d=hs.get(_))&&UT(l,d),N=p.createElement("script"),rn(N),Yr(N,"link",l),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(_,N))}}function t5(l,d,p,b){var _=(_=_e.current)?lS(_):null;if(!_)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=zp(p.href),p=rs(_).hoistableStyles,b=p.get(d),b||(b={type:"style",instance:null,count:0,state:null},p.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=zp(p.href);var N=rs(_).hoistableStyles,O=N.get(l);if(O||(_=_.ownerDocument||_,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,O),(N=_.querySelector(gy(l)))&&!N._p&&(O.instance=N,O.state.loading=5),hs.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},hs.set(l,p),N||tJ(_,l,p,O.state))),d&&b===null)throw Error(r(528,""));return O}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Hp(p),p=rs(_).hoistableScripts,b=p.get(d),b||(b={type:"script",instance:null,count:0,state:null},p.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function zp(l){return'href="'+as(l)+'"'}function gy(l){return'link[rel="stylesheet"]['+l+"]"}function n5(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function tJ(l,d,p,b){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=l.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Yr(d,"link",p),rn(d),l.head.appendChild(d))}function Hp(l){return'[src="'+as(l)+'"]'}function vy(l){return"script[async]"+l}function r5(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var b=l.querySelector('style[data-href~="'+as(p.href)+'"]');if(b)return d.instance=b,rn(b),b;var _=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),rn(b),Yr(b,"style",_),uS(b,p.precedence,l),d.instance=b;case"stylesheet":_=zp(p.href);var N=l.querySelector(gy(_));if(N)return d.state.loading|=4,d.instance=N,rn(N),N;b=n5(p),(_=hs.get(_))&&FT(b,_),N=(l.ownerDocument||l).createElement("link"),rn(N);var O=N;return O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),Yr(N,"link",b),d.state.loading|=4,uS(N,p.precedence,l),d.instance=N;case"script":return N=Hp(p.src),(_=l.querySelector(vy(N)))?(d.instance=_,rn(_),_):(b=p,(_=hs.get(N))&&(b=h({},p),UT(b,_)),l=l.ownerDocument||l,_=l.createElement("script"),rn(_),Yr(_,"link",b),l.head.appendChild(_),d.instance=_);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,uS(b,p.precedence,l));return d.instance}function uS(l,d,p){for(var b=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=b.length?b[b.length-1]:null,N=_,O=0;O<b.length;O++){var H=b[O];if(H.dataset.precedence===d)N=H;else if(N!==_)break}N?N.parentNode.insertBefore(l,N.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function FT(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function UT(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var cS=null;function i5(l,d,p){if(cS===null){var b=new Map,_=cS=new Map;_.set(p,b)}else _=cS,b=_.get(p),b||(b=new Map,_.set(p,b));if(b.has(l))return b;for(b.set(l,null),p=p.getElementsByTagName(l),_=0;_<p.length;_++){var N=p[_];if(!(N[yn]||N[Ne]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var O=N.getAttribute(d)||"";O=l+O;var H=b.get(O);H?H.push(N):b.set(O,[N])}}return b}function a5(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function nJ(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function s5(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function rJ(l,d,p,b){if(p.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var _=zp(b.href),N=d.querySelector(gy(_));if(N){d=N._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(l.count++,l=dS.bind(l),d.then(l,l)),p.state.loading|=4,p.instance=N,rn(N);return}N=d.ownerDocument||d,b=n5(b),(_=hs.get(_))&&FT(b,_),N=N.createElement("link"),rn(N);var O=N;O._p=new Promise(function(H,X){O.onload=H,O.onerror=X}),Yr(N,"link",b),p.instance=N}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=dS.bind(l),d.addEventListener("load",p),d.addEventListener("error",p))}}var BT=0;function iJ(l,d){return l.stylesheets&&l.count===0&&hS(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var b=setTimeout(function(){if(l.stylesheets&&hS(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4+d);0<l.imgBytes&&BT===0&&(BT=62500*FX());var _=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&hS(l,l.stylesheets),l.unsuspend)){var N=l.unsuspend;l.unsuspend=null,N()}},(l.imgBytes>BT?50:800)+d);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(b),clearTimeout(_)}}:null}function dS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hS(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var fS=null;function hS(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,fS=new Map,d.forEach(aJ,l),fS=null,dS.call(l))}function aJ(l,d){if(!(d.state.loading&4)){var p=fS.get(l);if(p)var b=p.get(null);else{p=new Map,fS.set(l,p);for(var _=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<_.length;N++){var O=_[N];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(p.set(O.dataset.precedence,O),b=O)}b&&p.set(null,b)}_=d.instance,O=_.getAttribute("data-precedence"),N=p.get(O)||b,N===b&&p.set(null,_),p.set(O,_),this.count++,b=dS.bind(this),_.addEventListener("load",b),_.addEventListener("error",b),N?N.parentNode.insertBefore(_,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(_,l.firstChild)),d.state.loading|=4}}var yy={$$typeof:R,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function sJ(l,d,p,b,_,N,O,H,X){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.hiddenUpdates=nc(null),this.identifierPrefix=b,this.onUncaughtError=_,this.onCaughtError=N,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function o5(l,d,p,b,_,N,O,H,X,se,pe,ye){return l=new sJ(l,d,p,O,X,se,pe,ye,H),d=1,N===!0&&(d|=24),N=xa(3,null,null,d),l.current=N,N.stateNode=l,d=bC(),d.refCount++,l.pooledCache=d,d.refCount++,N.memoizedState={element:b,isDehydrated:p,cache:d},EC(N),l}function l5(l){return l?(l=bp,l):bp}function u5(l,d,p,b,_,N){_=l5(_),b.context===null?b.context=_:b.pendingContext=_,b=cc(d),b.payload={element:p},N=N===void 0?null:N,N!==null&&(b.callback=N),p=dc(l,b,d),p!==null&&(Zi(p,l,d),Xv(p,l,d))}function c5(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function zT(l,d){c5(l,d),(l=l.alternate)&&c5(l,d)}function d5(l){if(l.tag===13||l.tag===31){var d=nf(l,67108864);d!==null&&Zi(d,l,67108864),zT(l,67108864)}}function f5(l){if(l.tag===13||l.tag===31){var d=_a();d=ue(d);var p=nf(l,d);p!==null&&Zi(p,l,d),zT(l,d)}}var pS=!0;function oJ(l,d,p,b){var _=U.T;U.T=null;var N=q.p;try{q.p=2,HT(l,d,p,b)}finally{q.p=N,U.T=_}}function lJ(l,d,p,b){var _=U.T;U.T=null;var N=q.p;try{q.p=8,HT(l,d,p,b)}finally{q.p=N,U.T=_}}function HT(l,d,p,b){if(pS){var _=GT(b);if(_===null)NT(l,d,b,mS,p),p5(l,b);else if(cJ(_,l,d,p,b))b.stopPropagation();else if(p5(l,b),d&4&&-1<uJ.indexOf(l)){for(;_!==null;){var N=Mt(_);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var O=pl(N.pendingLanes);if(O!==0){var H=N;for(H.pendingLanes|=2,H.entangledLanes|=2;O;){var X=1<<31-ui(O);H.entanglements[1]|=X,O&=~X}Ao(N),(Ft&6)===0&&(Jw=Nt()+500,fy(0))}}break;case 31:case 13:H=nf(N,2),H!==null&&Zi(H,N,2),Zw(),zT(N,2)}if(N=GT(b),N===null&&NT(l,d,b,mS,p),N===_)break;_=N}_!==null&&b.stopPropagation()}else NT(l,d,b,null,p)}}function GT(l){return l=$_(l),qT(l)}var mS=null;function qT(l){if(mS=null,l=kt(l),l!==null){var d=a(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=s(d),l!==null)return l;l=null}else if(p===31){if(l=o(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return mS=l,null}function h5(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case Bs:return 2;case Wt:return 8;case Rt:case vn:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var $T=!1,Sc=null,Ec=null,Ac=null,by=new Map,xy=new Map,_c=[],uJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p5(l,d){switch(l){case"focusin":case"focusout":Sc=null;break;case"dragenter":case"dragleave":Ec=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":by.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":xy.delete(d.pointerId)}}function wy(l,d,p,b,_,N){return l===null||l.nativeEvent!==N?(l={blockedOn:d,domEventName:p,eventSystemFlags:b,nativeEvent:N,targetContainers:[_]},d!==null&&(d=Mt(d),d!==null&&d5(d)),l):(l.eventSystemFlags|=b,d=l.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),l)}function cJ(l,d,p,b,_){switch(d){case"focusin":return Sc=wy(Sc,l,d,p,b,_),!0;case"dragenter":return Ec=wy(Ec,l,d,p,b,_),!0;case"mouseover":return Ac=wy(Ac,l,d,p,b,_),!0;case"pointerover":var N=_.pointerId;return by.set(N,wy(by.get(N)||null,l,d,p,b,_)),!0;case"gotpointercapture":return N=_.pointerId,xy.set(N,wy(xy.get(N)||null,l,d,p,b,_)),!0}return!1}function m5(l){var d=kt(l.target);if(d!==null){var p=a(d);if(p!==null){if(d=p.tag,d===13){if(d=s(p),d!==null){l.blockedOn=d,Ve(l.priority,function(){f5(p)});return}}else if(d===31){if(d=o(p),d!==null){l.blockedOn=d,Ve(l.priority,function(){f5(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function gS(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=GT(l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);q_=b,p.target.dispatchEvent(b),q_=null}else return d=Mt(p),d!==null&&d5(d),l.blockedOn=p,!1;d.shift()}return!0}function g5(l,d,p){gS(l)&&p.delete(d)}function dJ(){$T=!1,Sc!==null&&gS(Sc)&&(Sc=null),Ec!==null&&gS(Ec)&&(Ec=null),Ac!==null&&gS(Ac)&&(Ac=null),by.forEach(g5),xy.forEach(g5)}function vS(l,d){l.blockedOn===d&&(l.blockedOn=null,$T||($T=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,dJ)))}var yS=null;function v5(l){yS!==l&&(yS=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yS===l&&(yS=null);for(var d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],_=l[d+2];if(typeof b!="function"){if(qT(b||p)===null)continue;break}var N=Mt(p);N!==null&&(l.splice(d,3),d-=3,GC(N,{pending:!0,data:_,method:p.method,action:b},b,_))}}))}function Gp(l){function d(X){return vS(X,l)}Sc!==null&&vS(Sc,l),Ec!==null&&vS(Ec,l),Ac!==null&&vS(Ac,l),by.forEach(d),xy.forEach(d);for(var p=0;p<_c.length;p++){var b=_c[p];b.blockedOn===l&&(b.blockedOn=null)}for(;0<_c.length&&(p=_c[0],p.blockedOn===null);)m5(p),p.blockedOn===null&&_c.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(b=0;b<p.length;b+=3){var _=p[b],N=p[b+1],O=_[Me]||null;if(typeof N=="function")O||v5(p);else if(O){var H=null;if(N&&N.hasAttribute("formAction")){if(_=N,O=N[Me]||null)H=O.formAction;else if(qT(_)!==null)continue}else H=O.action;typeof H=="function"?p[b+1]=H:(p.splice(b,3),b-=3),v5(p)}}}function y5(){function l(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(O){return _=O})},focusReset:"manual",scroll:"manual"})}function d(){_!==null&&(_(),_=null),b||setTimeout(p,20)}function p(){if(!b&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,_=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){b=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),_!==null&&(_(),_=null)}}}function VT(l){this._internalRoot=l}bS.prototype.render=VT.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,b=_a();u5(p,b,l,d,null,null)},bS.prototype.unmount=VT.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;u5(l.current,2,null,l,null,null),Zw(),d[Ge]=null}};function bS(l){this._internalRoot=l}bS.prototype.unstable_scheduleHydration=function(l){if(l){var d=Ce();l={blockedOn:null,target:l,priority:d};for(var p=0;p<_c.length&&d!==0&&d<_c[p].priority;p++);_c.splice(p,0,l),p===0&&m5(l)}};var b5=e.version;if(b5!=="19.2.1")throw Error(r(527,b5,"19.2.1"));q.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(d),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var fJ={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xS.isDisabled&&xS.supportsFiber)try{zs=xS.inject(fJ),Mn=xS}catch{}}return Ey.createRoot=function(l,d){if(!i(l))throw Error(r(299));var p=!1,b="",_=CO,N=TO,O=NO;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError)),d=o5(l,1,!1,null,null,p,b,null,_,N,O,y5),l[Ge]=d.current,TT(l),new VT(d)},Ey.hydrateRoot=function(l,d,p){if(!i(l))throw Error(r(299));var b=!1,_="",N=CO,O=TO,H=NO,X=null;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(O=p.onCaughtError),p.onRecoverableError!==void 0&&(H=p.onRecoverableError),p.formState!==void 0&&(X=p.formState)),d=o5(l,1,!0,d,p??null,b,_,X,N,O,H,y5),d.context=l5(null),p=d.current,b=_a(),b=ue(b),_=cc(b),_.callback=null,dc(p,_,b),p=b,d.current.lanes=p,rc(d,p),Ao(d),l[Ge]=d.current,TT(l),new bS(d)},Ey.version="19.2.1",Ey}var k5;function AJ(){if(k5)return XT.exports;k5=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),XT.exports=EJ(),XT.exports}var _J=AJ();const CJ=bo(_J);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var FH=t=>{throw TypeError(t)},TJ=(t,e,n)=>e.has(t)||FH("Cannot "+n),eN=(t,e,n)=>(TJ(t,e,"read from private field"),n?n.call(t):e.get(t)),NJ=(t,e,n)=>e.has(t)?FH("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),UH=(t=>(t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE",t))(UH||{}),M5="popstate";function BH(t={}){let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,i;i=e.map((y,w)=>f(y,typeof y=="string"?null:y.state,w===0?"default":void 0));let a=u(n??i.length-1),s="POP",o=null;function u(y){return Math.min(Math.max(y,0),i.length-1)}function c(){return i[a]}function f(y,w=null,A){let E=Nu(i?c().pathname:"/",y,w,A);return nn(E.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(y)}`),E}function h(y){return typeof y=="string"?y:oi(y)}return{get index(){return a},get action(){return s},get location(){return c()},createHref:h,createURL(y){return new URL(h(y),"http://localhost")},encodeLocation(y){let w=typeof y=="string"?es(y):y;return{pathname:w.pathname||"",search:w.search||"",hash:w.hash||""}},push(y,w){s="PUSH";let A=f(y,w);a+=1,i.splice(a,i.length,A),r&&o&&o({action:s,location:A,delta:1})},replace(y,w){s="REPLACE";let A=f(y,w);i[a]=A,r&&o&&o({action:s,location:A,delta:0})},go(y){s="POP";let w=u(a+y),A=i[w];a=w,o&&o({action:s,location:A,delta:y})},listen(y){return o=y,()=>{o=null}}}}function EA(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Nu("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oi(i)}return HH(e,n,null,t)}function zH(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:u=""}=es(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Nu("",{pathname:s,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof a=="string"?a:oi(a))}function r(i,a){nn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return HH(e,n,r,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RJ(){return Math.random().toString(36).substring(2,10)}function P5(t,e){return{usr:t.state,key:t.key,idx:e}}function Nu(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?es(e):e,state:n,key:e&&e.key||r||RJ()}}function oi({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function es(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HH(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function h(){o="POP";let E=f(),C=E==null?null:E-c;c=E,u&&u({action:o,location:A.location,delta:C})}function v(E,C){o="PUSH";let k=Nu(A.location,E,C);n&&n(k,E),c=f()+1;let R=P5(k,c),D=A.createHref(k);try{s.pushState(R,"",D)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(D)}a&&u&&u({action:o,location:A.location,delta:1})}function y(E,C){o="REPLACE";let k=Nu(A.location,E,C);n&&n(k,E),c=f();let R=P5(k,c),D=A.createHref(k);s.replaceState(R,"",D),a&&u&&u({action:o,location:A.location,delta:0})}function w(E){return GH(E)}let A={get action(){return o},get location(){return t(i,s)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(M5,h),u=E,()=>{i.removeEventListener(M5,h),u=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let C=w(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:y,go(E){return s.go(E)}};return A}function GH(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),We(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:oi(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kJ(t){return{defaultValue:t}}var By,tl=class{constructor(t){if(NJ(this,By,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(eN(this,By).has(t))return eN(this,By).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){eN(this,By).set(t,e)}};By=new WeakMap;var MJ=new Set(["lazy","caseSensitive","path","id","index","children"]);function PJ(t){return MJ.has(t)}var DJ=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function IJ(t){return DJ.has(t)}function LJ(t){return t.index===!0}function Pd(t,e,n=[],r={},i=!1){return t.map((a,s)=>{let o=[...n,String(s)],u=typeof a.id=="string"?a.id:o.join("-");if(We(a.index!==!0||!a.children,"Cannot specify children on an index route"),We(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),LJ(a)){let c={...a,id:u};return r[u]=D5(c,e(c)),c}else{let c={...a,id:u,children:void 0};return r[u]=D5(c,e(c)),a.children&&(c.children=Pd(a.children,e,o,r,i)),c}})}function D5(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function da(t,e,n="/"){return zy(t,e,n,!1)}function zy(t,e,n,r){let i=typeof e=="string"?es(e):e,a=Sr(i.pathname||"/",n);if(a==null)return null;let s=$H(t);OJ(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=YH(a);o=$J(s[u],c,r)}return o}function qH(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function $H(t,e=[],n=[],r="",i=!1){let a=(s,o,u=i,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;We(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=rl([r,f.relativePath]),v=n.concat(f);s.children&&s.children.length>0&&(We(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),$H(s.children,e,v,h,u)),!(s.path==null&&!s.index)&&e.push({path:h,score:GJ(h,s.index),routesMeta:v})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,o);else for(let c of VH(s.path))a(s,o,!0,c)}),e}function VH(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=VH(r.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function OJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jJ=/^:[\w-]+$/,FJ=3,UJ=2,BJ=1,zJ=10,HJ=-2,I5=t=>t==="*";function GJ(t,e){let n=t.split("/"),r=n.length;return n.some(I5)&&(r+=HJ),e&&(r+=UJ),n.filter(i=>!I5(i)).reduce((i,a)=>i+(jJ.test(a)?FJ:a===""?BJ:zJ),r)}function qJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $J(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",h=rv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),v=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=rv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:rl([a,h.pathname]),pathnameBase:KJ(rl([a,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(a=rl([a,h.pathnameBase]))}return s}function VJ(t,e={}){let n=t;n.endsWith("*")&&n!=="*"&&!n.endsWith("/*")&&(nn(!1,`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=s=>s==null?"":typeof s=="string"?s:String(s),a=n.split(/\/+/).map((s,o,u)=>{if(o===u.length-1&&s==="*")return i(e["*"]);const f=s.match(/^:([\w-]+)(\??)$/);if(f){const[,h,v]=f;let y=e[h];return We(v==="?"||y!=null,`Missing ":${h}" param`),encodeURIComponent(i(y))}return s.replace(/\?$/g,"")}).filter(s=>!!s);return r+a.join("/")}function rv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},v)=>{if(f==="*"){let w=o[v]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[v];return h&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function WH(t,e=!1,n=!0){nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Sr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WJ({basename:t,pathname:e}){return e==="/"?t:rl([t,e])}var YJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AA=t=>YJ.test(t);function KH(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?es(t):t,a;if(n)if(AA(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=L5(n.substring(1),"/"):a=L5(n,e)}else a=e;return{pathname:a,search:XJ(r),hash:JJ(i)}}function L5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tN(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _A(t){let e=XH(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function CA(t,e,n,r=!1){let i;typeof t=="string"?i=es(t):(i={...t},We(!i.pathname||!i.pathname.includes("?"),tN("?","pathname","search",i)),We(!i.pathname||!i.pathname.includes("#"),tN("#","pathname","hash",i)),We(!i.search||!i.search.includes("#"),tN("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),h-=1;i.pathname=v.join("/")}o=h>=0?e[h]:"/"}let u=KH(i,o),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var rl=t=>t.join("/").replace(/\/\/+/g,"/"),KJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,QJ=class{constructor(t,e){this.type="DataWithResponseInit",this.data=t,this.init=e||null}};function JH(t,e){return new QJ(t,typeof e=="number"?{status:e}:e)}var _x=(t,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,{...n,headers:r})},QH=(t,e)=>{let n=_x(t,e);return n.headers.set("X-Remix-Reload-Document","true"),n},ZH=(t,e)=>{let n=_x(t,e);return n.headers.set("X-Remix-Replace","true"),n},Hi=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function er(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Eu(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Td=Symbol("Uninstrumented");function e6(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(a){let s=Object.keys(n);for(let o of s)a[o]&&n[o].push(a[o])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=Tf(n.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(a=>{let s=i[a],o=n[`lazy.${a}`];if(typeof s=="function"&&o.length>0){let u=Tf(o,s,()=>{});u&&(r.lazy=Object.assign(r.lazy||{},{[a]:u}))}})}return["loader","action"].forEach(i=>{let a=e[i];if(typeof a=="function"&&n[i].length>0){let s=a[Td]??a,o=Tf(n[i],s,(...u)=>O5(u[0]));o&&(o[Td]=s,r[i]=o)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let a=i[Td]??i,s=Tf(n.middleware,a,(...o)=>O5(o[0]));return s?(s[Td]=a,s):i})),r}function ZJ(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let a=Object.keys(i);for(let s of a)i[s]&&n[s].push(i[s])}})),n.navigate.length>0){let r=t.navigate[Td]??t.navigate,i=Tf(n.navigate,r,(...a)=>{let[s,o]=a;return{to:typeof s=="number"||typeof s=="string"?s:s?oi(s):".",...j5(t,o??{})}});i&&(i[Td]=r,t.navigate=i)}if(n.fetch.length>0){let r=t.fetch[Td]??t.fetch,i=Tf(n.fetch,r,(...a)=>{let[s,,o,u]=a;return{href:o??".",fetcherKey:s,...j5(t,u??{})}});i&&(i[Td]=r,t.fetch=i)}return t}function eQ(t,e){let n={request:[]};e.forEach(i=>i({instrument(a){let s=Object.keys(a);for(let o of s)a[o]&&n[o].push(a[o])}}));let r=t;return n.request.length>0&&(r=Tf(n.request,t,(...i)=>{let[a,s]=i;return{request:n6(a),context:s!=null?r6(s):s}})),r}function Tf(t,e,n){return t.length===0?null:async(...r)=>{let i=await t6(t,n(...r),()=>e(...r),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function t6(t,e,n,r){let i=t[r],a;if(i){let s,o=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=t6(t,e,n,r-1),a=await s,We(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await i(o,e)}catch(u){console.error("An instrumentation function threw an error:",u)}s||await o(),await s}else try{a={type:"success",value:await n()}}catch(s){a={type:"error",value:s}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function O5(t){let{request:e,context:n,params:r,unstable_pattern:i}=t;return{request:n6(e),params:{...r},unstable_pattern:i,context:r6(n)}}function j5(t,e){return{currentUrl:oi(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function n6(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function r6(t){if(nQ(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var tQ=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nQ(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===tQ}var i6=["POST","PUT","PATCH","DELETE"],rQ=new Set(i6),iQ=["GET",...i6],aQ=new Set(iQ),a6=new Set([301,302,303,307,308]),sQ=new Set([307,308]),d0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},s6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),o6="remix-router-transitions",l6=Symbol("ResetLoaderData");function Cx(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";We(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||s6,a=i;if(t.unstable_instrumentations){let Q=t.unstable_instrumentations;a=ne=>({...i(ne),...e6(Q.map(ue=>ue.route).filter(Boolean),ne)})}let s={},o=Pd(t.routes,a,void 0,s),u,c=t.basename||"/";c.startsWith("/")||(c=`/${c}`);let f=t.dataStrategy||fQ,h={...t.future},v=null,y=new Set,w=null,A=null,E=null,C=t.hydrationData!=null,k=da(o,t.history.location,c),R=!1,D=null,I;if(k==null&&!t.patchRoutesOnNavigation){let Q=cr(404,{pathname:t.history.location.pathname}),{matches:ne,route:ue}=um(o);I=!0,k=ne,D={[ue.id]:Q}}else if(k&&!t.hydrationData&&Jd(k,o,t.history.location.pathname).active&&(k=null),k)if(k.some(Q=>Q.route.lazy))I=!1;else if(!k.some(Q=>JM(Q.route)))I=!0;else{let Q=t.hydrationData?t.hydrationData.loaderData:null,ne=t.hydrationData?t.hydrationData.errors:null;if(ne){let ue=k.findIndex(we=>ne[we.route.id]!==void 0);I=k.slice(0,ue+1).every(we=>!nR(we.route,Q,ne))}else I=k.every(ue=>!nR(ue.route,Q,ne))}else{I=!1,k=[];let Q=Jd(null,o,t.history.location.pathname);Q.active&&Q.matches&&(R=!0,k=Q.matches)}let P,M={historyAction:t.history.action,location:t.history.location,matches:k,initialized:I,navigation:d0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||D,fetchers:new Map,blockers:new Map},B="POP",z=null,K=!1,G,Y=!1,te=new Map,W=null,$=!1,U=!1,q=new Set,Z=new Map,ie=0,be=-1,V=new Map,J=new Set,oe=new Map,ve=new Map,xe=new Set,_e=new Map,Ae,pt=null;function de(){if(v=t.history.listen(({action:Q,location:ne,delta:ue})=>{if(Ae){Ae(),Ae=void 0;return}nn(_e.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=Yd({currentLocation:M.location,nextLocation:ne,historyAction:Q});if(we&&ue!=null){let Ce=new Promise(Ve=>{Ae=Ve});t.history.go(ue*-1),hl(we,{state:"blocked",location:ne,proceed(){hl(we,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Ce.then(()=>t.history.go(ue))},reset(){let Ve=new Map(M.blockers);Ve.set(we,kc),me({blockers:Ve})}}),z==null||z.resolve(),z=null;return}return Ee(Q,ne)}),n){yQ(e,te);let Q=()=>bQ(e,te);e.addEventListener("pagehide",Q),W=()=>e.removeEventListener("pagehide",Q)}return M.initialized||Ee("POP",M.location,{initialHydration:!0}),P}function Re(){v&&v(),W&&W(),y.clear(),G&&G.abort(),M.fetchers.forEach((Q,ne)=>Wd(ne)),M.blockers.forEach((Q,ne)=>lw(ne))}function Xe(Q){return y.add(Q),()=>y.delete(Q)}function me(Q,ne={}){Q.matches&&(Q.matches=Q.matches.map(Ce=>{let Ve=s[Ce.route.id],je=Ce.route;return je.element!==Ve.element||je.errorElement!==Ve.errorElement||je.hydrateFallbackElement!==Ve.hydrateFallbackElement?{...Ce,route:Ve}:Ce})),M={...M,...Q};let ue=[],we=[];M.fetchers.forEach((Ce,Ve)=>{Ce.state==="idle"&&(xe.has(Ve)?ue.push(Ve):we.push(Ve))}),xe.forEach(Ce=>{!M.fetchers.has(Ce)&&!Z.has(Ce)&&ue.push(Ce)}),[...y].forEach(Ce=>Ce(M,{deletedFetchers:ue,newErrors:Q.errors??null,viewTransitionOpts:ne.viewTransitionOpts,flushSync:ne.flushSync===!0})),ue.forEach(Ce=>Wd(Ce)),we.forEach(Ce=>M.fetchers.delete(Ce))}function $e(Q,ne,{flushSync:ue}={}){var Ze,Ye;let we=M.actionData!=null&&M.navigation.formMethod!=null&&xi(M.navigation.formMethod)&&M.navigation.state==="loading"&&((Ze=Q.state)==null?void 0:Ze._isRedirect)!==!0,Ce;ne.actionData?Object.keys(ne.actionData).length>0?Ce=ne.actionData:Ce=null:we?Ce=M.actionData:Ce=null;let Ve=ne.loaderData?K5(M.loaderData,ne.loaderData,ne.matches||[],ne.errors):M.loaderData,je=M.blockers;je.size>0&&(je=new Map(je),je.forEach((rt,jt)=>je.set(jt,kc)));let Ne=$?!1:uw(Q,ne.matches||M.matches),Me=K===!0||M.navigation.formMethod!=null&&xi(M.navigation.formMethod)&&((Ye=Q.state)==null?void 0:Ye._isRedirect)!==!0;u&&(o=u,u=void 0),$||B==="POP"||(B==="PUSH"?t.history.push(Q,Q.state):B==="REPLACE"&&t.history.replace(Q,Q.state));let Ge;if(B==="POP"){let rt=te.get(M.location.pathname);rt&&rt.has(Q.pathname)?Ge={currentLocation:M.location,nextLocation:Q}:te.has(Q.pathname)&&(Ge={currentLocation:Q,nextLocation:M.location})}else if(Y){let rt=te.get(M.location.pathname);rt?rt.add(Q.pathname):(rt=new Set([Q.pathname]),te.set(M.location.pathname,rt)),Ge={currentLocation:M.location,nextLocation:Q}}me({...ne,actionData:Ce,loaderData:Ve,historyAction:B,location:Q,initialized:!0,navigation:d0,revalidation:"idle",restoreScrollPosition:Ne,preventScrollReset:Me,blockers:je},{viewTransitionOpts:Ge,flushSync:ue===!0}),B="POP",K=!1,Y=!1,$=!1,U=!1,z==null||z.resolve(),z=null,pt==null||pt.resolve(),pt=null}async function Oe(Q,ne){if(z==null||z.resolve(),z=null,typeof Q=="number"){z||(z=Q5());let jt=z.promise;return t.history.go(Q),jt}let ue=tR(M.location,M.matches,c,Q,ne==null?void 0:ne.fromRouteId,ne==null?void 0:ne.relative),{path:we,submission:Ce,error:Ve}=U5(!1,ue,ne),je=M.location,Ne=Nu(M.location,we,ne&&ne.state);Ne={...Ne,...t.history.encodeLocation(Ne)};let Me=ne&&ne.replace!=null?ne.replace:void 0,Ge="PUSH";Me===!0?Ge="REPLACE":Me===!1||Ce!=null&&xi(Ce.formMethod)&&Ce.formAction===M.location.pathname+M.location.search&&(Ge="REPLACE");let Ze=ne&&"preventScrollReset"in ne?ne.preventScrollReset===!0:void 0,Ye=(ne&&ne.flushSync)===!0,rt=Yd({currentLocation:je,nextLocation:Ne,historyAction:Ge});if(rt){hl(rt,{state:"blocked",location:Ne,proceed(){hl(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),Oe(Q,ne)},reset(){let jt=new Map(M.blockers);jt.set(rt,kc),me({blockers:jt})}});return}await Ee(Ge,Ne,{submission:Ce,pendingError:Ve,preventScrollReset:Ze,replace:ne&&ne.replace,enableViewTransition:ne&&ne.viewTransition,flushSync:Ye})}function he(){pt||(pt=Q5()),Wt(),me({revalidation:"loading"});let Q=pt.promise;return M.navigation.state==="submitting"?Q:M.navigation.state==="idle"?(Ee(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),Q):(Ee(B||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:Y===!0}),Q)}async function Ee(Q,ne,ue){G&&G.abort(),G=null,B=Q,$=(ue&&ue.startUninterruptedRevalidation)===!0,Xd(M.location,M.matches),K=(ue&&ue.preventScrollReset)===!0,Y=(ue&&ue.enableViewTransition)===!0;let we=u||o,Ce=ue&&ue.overrideNavigation,Ve=ue!=null&&ue.initialHydration&&M.matches&&M.matches.length>0&&!R?M.matches:da(we,ne,c),je=(ue&&ue.flushSync)===!0;if(Ve&&M.initialized&&!U&&pQ(M.location,ne)&&!(ue&&ue.submission&&xi(ue.submission.formMethod))){$e(ne,{matches:Ve},{flushSync:je});return}let Ne=Jd(Ve,we,ne.pathname);if(Ne.active&&Ne.matches&&(Ve=Ne.matches),!Ve){let{error:jn,notFoundMatches:kt,route:Mt}=tc(ne.pathname);$e(ne,{matches:kt,loaderData:{},errors:{[Mt.id]:jn}},{flushSync:je});return}G=new AbortController;let Me=Zp(t.history,ne,G.signal,ue&&ue.submission),Ge=t.getContext?await t.getContext():new tl,Ze;if(ue&&ue.pendingError)Ze=[Rs(Ve).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&xi(ue.submission.formMethod)){let jn=await Be(Me,ne,ue.submission,Ve,Ge,Ne.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:je});if(jn.shortCircuited)return;if(jn.pendingActionResult){let[kt,Mt]=jn.pendingActionResult;if(Br(Mt)&&er(Mt.error)&&Mt.error.status===404){G=null,$e(ne,{matches:jn.matches,loaderData:{},errors:{[kt]:Mt.error}});return}}Ve=jn.matches||Ve,Ze=jn.pendingActionResult,Ce=nN(ne,ue.submission),je=!1,Ne.active=!1,Me=Zp(t.history,Me.url,Me.signal)}let{shortCircuited:Ye,matches:rt,loaderData:jt,errors:yn}=await nt(Me,ne,Ve,Ge,Ne.active,Ce,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,je,Ze);Ye||(G=null,$e(ne,{matches:rt||Ve,...X5(Ze),loaderData:jt,errors:yn}))}async function Be(Q,ne,ue,we,Ce,Ve,je,Ne={}){Wt();let Me=gQ(ne,ue);if(me({navigation:Me},{flushSync:Ne.flushSync===!0}),Ve){let Ye=await nc(we,ne.pathname,Q.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){if(Ye.partialMatches.length===0){let{matches:jt,route:yn}=um(o);return{matches:jt,pendingActionResult:[yn.id,{type:"error",error:Ye.error}]}}let rt=Rs(Ye.partialMatches).route.id;return{matches:Ye.partialMatches,pendingActionResult:[rt,{type:"error",error:Ye.error}]}}else if(Ye.matches)we=Ye.matches;else{let{notFoundMatches:rt,error:jt,route:yn}=tc(ne.pathname);return{matches:rt,pendingActionResult:[yn.id,{type:"error",error:jt}]}}}let Ge,Ze=xm(we,ne);if(!Ze.route.action&&!Ze.route.lazy)Ge={type:"error",error:cr(405,{method:Q.method,pathname:ne.pathname,routeId:Ze.route.id})};else{let Ye=Rd(a,s,Q,we,Ze,je?[]:r,Ce),rt=await ns(Q,Ye,Ce,null);if(Ge=rt[Ze.route.id],!Ge){for(let jt of we)if(rt[jt.route.id]){Ge=rt[jt.route.id];break}}if(Q.signal.aborted)return{shortCircuited:!0}}if(Nd(Ge)){let Ye;return Ne&&Ne.replace!=null?Ye=Ne.replace:Ye=V5(Ge.response.headers.get("Location"),new URL(Q.url),c)===M.location.pathname+M.location.search,await Nt(Q,Ge,!0,{submission:ue,replace:Ye}),{shortCircuited:!0}}if(Br(Ge)){let Ye=Rs(we,Ze.route.id);return(Ne&&Ne.replace)!==!0&&(B="PUSH"),{matches:we,pendingActionResult:[Ye.route.id,Ge,Ze.route.id]}}return{matches:we,pendingActionResult:[Ze.route.id,Ge]}}async function nt(Q,ne,ue,we,Ce,Ve,je,Ne,Me,Ge,Ze,Ye){let rt=Ve||nN(ne,je),jt=je||Ne||J5(rt),yn=!$&&!Ge;if(Ce){if(yn){let Nr=gt(Ye);me({navigation:rt,...Nr!==void 0?{actionData:Nr}:{}},{flushSync:Ze})}let bt=await nc(ue,ne.pathname,Q.signal);if(bt.type==="aborted")return{shortCircuited:!0};if(bt.type==="error"){if(bt.partialMatches.length===0){let{matches:Gs,route:is}=um(o);return{matches:Gs,loaderData:{},errors:{[is.id]:bt.error}}}let Nr=Rs(bt.partialMatches).route.id;return{matches:bt.partialMatches,loaderData:{},errors:{[Nr]:bt.error}}}else if(bt.matches)ue=bt.matches;else{let{error:Nr,notFoundMatches:Gs,route:is}=tc(ne.pathname);return{matches:Gs,loaderData:{},errors:{[is.id]:Nr}}}}let jn=u||o,{dsMatches:kt,revalidatingFetchers:Mt}=B5(Q,we,a,s,t.history,M,ue,jt,ne,Ge?[]:r,Ge===!0,U,q,xe,oe,J,jn,c,t.patchRoutesOnNavigation!=null,Ye);if(be=++ie,!t.dataStrategy&&!kt.some(bt=>bt.shouldLoad)&&!kt.some(bt=>bt.route.middleware&&bt.route.middleware.length>0)&&Mt.length===0){let bt=ui();return $e(ne,{matches:ue,loaderData:{},errors:Ye&&Br(Ye[1])?{[Ye[0]]:Ye[1].error}:null,...X5(Ye),...bt?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Ze}),{shortCircuited:!0}}if(yn){let bt={};if(!Ce){bt.navigation=rt;let Nr=gt(Ye);Nr!==void 0&&(bt.actionData=Nr)}Mt.length>0&&(bt.fetchers=hr(Mt)),me(bt,{flushSync:Ze})}Mt.forEach(bt=>{Mn(bt.key),bt.controller&&Z.set(bt.key,bt.controller)});let ga=()=>Mt.forEach(bt=>Mn(bt.key));G&&G.signal.addEventListener("abort",ga);let{loaderResults:rs,fetcherResults:rn}=await Bs(kt,Mt,Q,we);if(Q.signal.aborted)return{shortCircuited:!0};G&&G.signal.removeEventListener("abort",ga),Mt.forEach(bt=>Z.delete(bt.key));let va=wS(rs);if(va)return await Nt(Q,va.result,!0,{replace:Me}),{shortCircuited:!0};if(va=wS(rn),va)return J.add(va.key),await Nt(Q,va.result,!0,{replace:Me}),{shortCircuited:!0};let{loaderData:up,errors:ya}=Y5(M,ue,rs,Ye,Mt,rn);Ge&&M.errors&&(ya={...M.errors,...ya});let Wi=ui(),cp=ow(be),Qd=Wi||cp||Mt.length>0;return{matches:ue,loaderData:up,errors:ya,...Qd?{fetchers:new Map(M.fetchers)}:{}}}function gt(Q){if(Q&&!Br(Q[1]))return{[Q[0]]:Q[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function hr(Q){return Q.forEach(ne=>{let ue=M.fetchers.get(ne.key),we=Ay(void 0,ue?ue.data:void 0);M.fetchers.set(ne.key,we)}),new Map(M.fetchers)}async function gn(Q,ne,ue,we){Mn(Q);let Ce=(we&&we.flushSync)===!0,Ve=u||o,je=tR(M.location,M.matches,c,ue,ne,we==null?void 0:we.relative),Ne=da(Ve,je,c),Me=Jd(Ne,Ve,je);if(Me.active&&Me.matches&&(Ne=Me.matches),!Ne){vn(Q,ne,cr(404,{pathname:je}),{flushSync:Ce});return}let{path:Ge,submission:Ze,error:Ye}=U5(!0,je,we);if(Ye){vn(Q,ne,Ye,{flushSync:Ce});return}let rt=t.getContext?await t.getContext():new tl,jt=(we&&we.preventScrollReset)===!0;if(Ze&&xi(Ze.formMethod)){await tr(Q,ne,Ge,Ne,rt,Me.active,Ce,jt,Ze);return}oe.set(Q,{routeId:ne,path:Ge}),await fl(Q,ne,Ge,Ne,rt,Me.active,Ce,jt,Ze)}async function tr(Q,ne,ue,we,Ce,Ve,je,Ne,Me){Wt(),oe.delete(Q);let Ge=M.fetchers.get(Q);Rt(Q,vQ(Me,Ge),{flushSync:je});let Ze=new AbortController,Ye=Zp(t.history,ue,Ze.signal,Me);if(Ve){let Pt=await nc(we,new URL(Ye.url).pathname,Ye.signal,Q);if(Pt.type==="aborted")return;if(Pt.type==="error"){vn(Q,ne,Pt.error,{flushSync:je});return}else if(Pt.matches)we=Pt.matches;else{vn(Q,ne,cr(404,{pathname:ue}),{flushSync:je});return}}let rt=xm(we,ue);if(!rt.route.action&&!rt.route.lazy){let Pt=cr(405,{method:Me.formMethod,pathname:ue,routeId:ne});vn(Q,ne,Pt,{flushSync:je});return}Z.set(Q,Ze);let jt=ie,yn=Rd(a,s,Ye,we,rt,r,Ce),jn=await ns(Ye,yn,Ce,Q),kt=jn[rt.route.id];if(!kt){for(let Pt of yn)if(jn[Pt.route.id]){kt=jn[Pt.route.id];break}}if(Ye.signal.aborted){Z.get(Q)===Ze&&Z.delete(Q);return}if(xe.has(Q)){if(Nd(kt)||Br(kt)){Rt(Q,Pl(void 0));return}}else{if(Nd(kt))if(Z.delete(Q),be>jt){Rt(Q,Pl(void 0));return}else return J.add(Q),Rt(Q,Ay(Me)),Nt(Ye,kt,!1,{fetcherSubmission:Me,preventScrollReset:Ne});if(Br(kt)){vn(Q,ne,kt.error);return}}let Mt=M.navigation.location||M.location,ga=Zp(t.history,Mt,Ze.signal),rs=u||o,rn=M.navigation.state!=="idle"?da(rs,M.navigation.location,c):M.matches;We(rn,"Didn't find any matches after fetcher action");let va=++ie;V.set(Q,va);let up=Ay(Me,kt.data);M.fetchers.set(Q,up);let{dsMatches:ya,revalidatingFetchers:Wi}=B5(ga,Ce,a,s,t.history,M,rn,Me,Mt,r,!1,U,q,xe,oe,J,rs,c,t.patchRoutesOnNavigation!=null,[rt.route.id,kt]);Wi.filter(Pt=>Pt.key!==Q).forEach(Pt=>{let qr=Pt.key,Iv=M.fetchers.get(qr),U_=Ay(void 0,Iv?Iv.data:void 0);M.fetchers.set(qr,U_),Mn(qr),Pt.controller&&Z.set(qr,Pt.controller)}),me({fetchers:new Map(M.fetchers)});let cp=()=>Wi.forEach(Pt=>Mn(Pt.key));Ze.signal.addEventListener("abort",cp);let{loaderResults:Qd,fetcherResults:bt}=await Bs(ya,Wi,ga,Ce);if(Ze.signal.aborted)return;if(Ze.signal.removeEventListener("abort",cp),V.delete(Q),Z.delete(Q),Wi.forEach(Pt=>Z.delete(Pt.key)),M.fetchers.has(Q)){let Pt=Pl(kt.data);M.fetchers.set(Q,Pt)}let Nr=wS(Qd);if(Nr)return Nt(ga,Nr.result,!1,{preventScrollReset:Ne});if(Nr=wS(bt),Nr)return J.add(Nr.key),Nt(ga,Nr.result,!1,{preventScrollReset:Ne});let{loaderData:Gs,errors:is}=Y5(M,rn,Qd,void 0,Wi,bt);ow(va),M.navigation.state==="loading"&&va>be?(We(B,"Expected pending action"),G&&G.abort(),$e(M.navigation.location,{matches:rn,loaderData:Gs,errors:is,fetchers:new Map(M.fetchers)})):(me({errors:is,loaderData:K5(M.loaderData,Gs,rn,is),fetchers:new Map(M.fetchers)}),U=!1)}async function fl(Q,ne,ue,we,Ce,Ve,je,Ne,Me){let Ge=M.fetchers.get(Q);Rt(Q,Ay(Me,Ge?Ge.data:void 0),{flushSync:je});let Ze=new AbortController,Ye=Zp(t.history,ue,Ze.signal);if(Ve){let Mt=await nc(we,new URL(Ye.url).pathname,Ye.signal,Q);if(Mt.type==="aborted")return;if(Mt.type==="error"){vn(Q,ne,Mt.error,{flushSync:je});return}else if(Mt.matches)we=Mt.matches;else{vn(Q,ne,cr(404,{pathname:ue}),{flushSync:je});return}}let rt=xm(we,ue);Z.set(Q,Ze);let jt=ie,yn=Rd(a,s,Ye,we,rt,r,Ce),kt=(await ns(Ye,yn,Ce,Q))[rt.route.id];if(Z.get(Q)===Ze&&Z.delete(Q),!Ye.signal.aborted){if(xe.has(Q)){Rt(Q,Pl(void 0));return}if(Nd(kt))if(be>jt){Rt(Q,Pl(void 0));return}else{J.add(Q),await Nt(Ye,kt,!1,{preventScrollReset:Ne});return}if(Br(kt)){vn(Q,ne,kt.error);return}Rt(Q,Pl(kt.data))}}async function Nt(Q,ne,ue,{submission:we,fetcherSubmission:Ce,preventScrollReset:Ve,replace:je}={}){ue||(z==null||z.resolve(),z=null),ne.response.headers.has("X-Remix-Revalidate")&&(U=!0);let Ne=ne.response.headers.get("Location");We(Ne,"Expected a Location header on the redirect Response"),Ne=V5(Ne,new URL(Q.url),c);let Me=Nu(M.location,Ne,{_isRedirect:!0});if(n){let yn=!1;if(ne.response.headers.has("X-Remix-Reload-Document"))yn=!0;else if(AA(Ne)){const jn=GH(Ne,!0);yn=jn.origin!==e.location.origin||Sr(jn.pathname,c)==null}if(yn){je?e.location.replace(Ne):e.location.assign(Ne);return}}G=null;let Ge=je===!0||ne.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ze,formAction:Ye,formEncType:rt}=M.navigation;!we&&!Ce&&Ze&&Ye&&rt&&(we=J5(M.navigation));let jt=we||Ce;if(sQ.has(ne.response.status)&&jt&&xi(jt.formMethod))await Ee(Ge,Me,{submission:{...jt,formAction:Ne},preventScrollReset:Ve||K,enableViewTransition:ue?Y:void 0});else{let yn=nN(Me,we);await Ee(Ge,Me,{overrideNavigation:yn,fetcherSubmission:Ce,preventScrollReset:Ve||K,enableViewTransition:ue?Y:void 0})}}async function ns(Q,ne,ue,we){let Ce,Ve={};try{Ce=await g6(f,Q,ne,we,ue,!1)}catch(je){return ne.filter(Ne=>Ne.shouldLoad).forEach(Ne=>{Ve[Ne.route.id]={type:"error",error:je}}),Ve}if(Q.signal.aborted)return Ve;for(let[je,Ne]of Object.entries(Ce))if(A6(Ne)){let Me=Ne.result;Ve[je]={type:"redirect",response:b6(Me,Q,je,ne,c)}}else Ve[je]=await y6(Ne);return Ve}async function Bs(Q,ne,ue,we){let Ce=ns(ue,Q,we,null),Ve=Promise.all(ne.map(async Me=>{if(Me.matches&&Me.match&&Me.request&&Me.controller){let Ze=(await ns(Me.request,Me.matches,we,Me.key))[Me.match.route.id];return{[Me.key]:Ze}}else return Promise.resolve({[Me.key]:{type:"error",error:cr(404,{pathname:Me.path})}})})),je=await Ce,Ne=(await Ve).reduce((Me,Ge)=>Object.assign(Me,Ge),{});return{loaderResults:je,fetcherResults:Ne}}function Wt(){U=!0,oe.forEach((Q,ne)=>{Z.has(ne)&&q.add(ne),Mn(ne)})}function Rt(Q,ne,ue={}){M.fetchers.set(Q,ne),me({fetchers:new Map(M.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function vn(Q,ne,ue,we={}){let Ce=Rs(M.matches,ne);Wd(Q),me({errors:{[Ce.route.id]:ue},fetchers:new Map(M.fetchers)},{flushSync:(we&&we.flushSync)===!0})}function Wn(Q){return ve.set(Q,(ve.get(Q)||0)+1),xe.has(Q)&&xe.delete(Q),M.fetchers.get(Q)||TA}function Vi(Q,ne){Mn(Q,ne==null?void 0:ne.reason),Rt(Q,Pl(null))}function Wd(Q){let ne=M.fetchers.get(Q);Z.has(Q)&&!(ne&&ne.state==="loading"&&V.has(Q))&&Mn(Q),oe.delete(Q),V.delete(Q),J.delete(Q),xe.delete(Q),q.delete(Q),M.fetchers.delete(Q)}function zs(Q){let ne=(ve.get(Q)||0)-1;ne<=0?(ve.delete(Q),xe.add(Q)):ve.set(Q,ne),me({fetchers:new Map(M.fetchers)})}function Mn(Q,ne){let ue=Z.get(Q);ue&&(ue.abort(ne),Z.delete(Q))}function Hs(Q){for(let ne of Q){let ue=Wn(ne),we=Pl(ue.data);M.fetchers.set(ne,we)}}function ui(){let Q=[],ne=!1;for(let ue of J){let we=M.fetchers.get(ue);We(we,`Expected fetcher: ${ue}`),we.state==="loading"&&(J.delete(ue),Q.push(ue),ne=!0)}return Hs(Q),ne}function ow(Q){let ne=[];for(let[ue,we]of V)if(we<Q){let Ce=M.fetchers.get(ue);We(Ce,`Expected fetcher: ${ue}`),Ce.state==="loading"&&(Mn(ue),V.delete(ue),ne.push(ue))}return Hs(ne),ne.length>0}function j_(Q,ne){let ue=M.blockers.get(Q)||kc;return _e.get(Q)!==ne&&_e.set(Q,ne),ue}function lw(Q){M.blockers.delete(Q),_e.delete(Q)}function hl(Q,ne){let ue=M.blockers.get(Q)||kc;We(ue.state==="unblocked"&&ne.state==="blocked"||ue.state==="blocked"&&ne.state==="blocked"||ue.state==="blocked"&&ne.state==="proceeding"||ue.state==="blocked"&&ne.state==="unblocked"||ue.state==="proceeding"&&ne.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${ne.state}`);let we=new Map(M.blockers);we.set(Q,ne),me({blockers:we})}function Yd({currentLocation:Q,nextLocation:ne,historyAction:ue}){if(_e.size===0)return;_e.size>1&&nn(!1,"A router only supports one blocker at a time");let we=Array.from(_e.entries()),[Ce,Ve]=we[we.length-1],je=M.blockers.get(Ce);if(!(je&&je.state==="proceeding")&&Ve({currentLocation:Q,nextLocation:ne,historyAction:ue}))return Ce}function tc(Q){let ne=cr(404,{pathname:Q}),ue=u||o,{matches:we,route:Ce}=um(ue);return{notFoundMatches:we,route:Ce,error:ne}}function pl(Q,ne,ue){if(w=Q,E=ne,A=ue||null,!C&&M.navigation===d0){C=!0;let we=uw(M.location,M.matches);we!=null&&me({restoreScrollPosition:we})}return()=>{w=null,E=null,A=null}}function Kd(Q,ne){return A&&A(Q,ne.map(we=>qH(we,M.loaderData)))||Q.key}function Xd(Q,ne){if(w&&E){let ue=Kd(Q,ne);w[ue]=E()}}function uw(Q,ne){if(w){let ue=Kd(Q,ne),we=w[ue];if(typeof we=="number")return we}return null}function Jd(Q,ne,ue){if(t.patchRoutesOnNavigation)if(Q){if(Object.keys(Q[0].params).length>0)return{active:!0,matches:zy(ne,ue,c,!0)}}else return{active:!0,matches:zy(ne,ue,c,!0)||[]};return{active:!1,matches:null}}async function nc(Q,ne,ue,we){if(!t.patchRoutesOnNavigation)return{type:"success",matches:Q};let Ce=Q;for(;;){let Ve=u==null,je=u||o,Ne=s;try{await t.patchRoutesOnNavigation({signal:ue,path:ne,matches:Ce,fetcherKey:we,patch:(Ze,Ye)=>{ue.aborted||z5(Ze,Ye,je,Ne,a,!1)}})}catch(Ze){return{type:"error",error:Ze,partialMatches:Ce}}finally{Ve&&!ue.aborted&&(o=[...o])}if(ue.aborted)return{type:"aborted"};let Me=da(je,ne,c),Ge=null;if(Me){if(Object.keys(Me[0].params).length===0)return{type:"success",matches:Me};if(Ge=zy(je,ne,c,!0),!(Ge&&Ce.length<Ge.length&&rc(Ce,Ge.slice(0,Ce.length))))return{type:"success",matches:Me}}if(Ge||(Ge=zy(je,ne,c,!0)),!Ge||rc(Ce,Ge))return{type:"success",matches:null};Ce=Ge}}function rc(Q,ne){return Q.length===ne.length&&Q.every((ue,we)=>ue.route.id===ne[we].route.id)}function F_(Q){s={},u=Pd(Q,a,void 0,s)}function cw(Q,ne,ue=!1){let we=u==null;z5(Q,ne,u||o,s,a,ue),we&&(o=[...o],me({}))}return P={get basename(){return c},get future(){return h},get state(){return M},get routes(){return o},get window(){return e},initialize:de,subscribe:Xe,enableScrollRestoration:pl,navigate:Oe,fetch:gn,revalidate:he,createHref:Q=>t.history.createHref(Q),encodeLocation:Q=>t.history.encodeLocation(Q),getFetcher:Wn,resetFetcher:Vi,deleteFetcher:zs,dispose:Re,getBlocker:j_,deleteBlocker:lw,patchRoutes:cw,_internalFetchControllers:Z,_internalSetRoutes:F_,_internalSetStateDoNotUseOrYouWillBreakYourApp(Q){me(Q)}},t.unstable_instrumentations&&(P=ZJ(P,t.unstable_instrumentations.map(Q=>Q.router).filter(Boolean))),P}function u6(t,e){We(t.length>0,"You must provide a non-empty routes array to createStaticHandler");let n={},r=(e?e.basename:null)||"/",i=(e==null?void 0:e.mapRouteProperties)||s6,a=i;if(e!=null&&e.unstable_instrumentations){let y=e.unstable_instrumentations;a=w=>({...i(w),...e6(y.map(A=>A.route).filter(Boolean),w)})}let s=Pd(t,a,void 0,n);async function o(y,{requestContext:w,filterMatchesToLoad:A,skipLoaderErrorBubbling:E,skipRevalidation:C,dataStrategy:k,generateMiddlewareResponse:R}={}){let D=new URL(y.url),I=y.method,P=Nu("",oi(D),null,"default"),M=da(s,P,r);if(w=w??new tl,!sR(I)&&I!=="HEAD"){let z=cr(405,{method:I}),{matches:K,route:G}=um(s),Y={basename:r,location:P,matches:K,loaderData:{},actionData:null,errors:{[G.id]:z},statusCode:z.status,loaderHeaders:{},actionHeaders:{}};return R?R(()=>Promise.resolve(Y)):Y}else if(!M){let z=cr(404,{pathname:P.pathname}),{matches:K,route:G}=um(s),Y={basename:r,location:P,matches:K,loaderData:{},actionData:null,errors:{[G.id]:z},statusCode:z.status,loaderHeaders:{},actionHeaders:{}};return R?R(()=>Promise.resolve(Y)):Y}if(R){We(w instanceof tl,"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `RouterContextProvider`");try{await q5(M,n,a);let z,K=await $5({request:y,unstable_pattern:Eu(M),matches:M,params:M[0].params,context:w},async()=>await R(async(Y,te={})=>{let W=await c(Y,P,M,w,k||null,E===!0,null,"filterMatchesToLoad"in te?te.filterMatchesToLoad??null:A??null,C===!0);return In(W)?W:(z={location:P,basename:r,...W},z)}),async(G,Y)=>{var te;if($1(G))return G;if(In(G))try{G=new Hi(G.status,G.statusText,await v6(G))}catch(W){G=W}if(kd(G)&&(G=S6(G)),z){Y in z.loaderData&&(z.loaderData[Y]=void 0);let W=c6(s,z,G,E?Y:Rs(M,Y).route.id);return R(()=>Promise.resolve(W))}else{let W=E?Y:Rs(M,((te=M.find(U=>U.route.id===Y||U.route.loader))==null?void 0:te.route.id)||Y).route.id,$={matches:M,location:P,basename:r,loaderData:{},actionData:null,errors:{[W]:G},statusCode:er(G)?G.status:500,actionHeaders:{},loaderHeaders:{}};return R(()=>Promise.resolve($))}});return We(In(K),"Expected a response in query()"),K}catch(z){if(In(z))return z;throw z}}let B=await c(y,P,M,w,k||null,E===!0,null,A||null,C===!0);return In(B)?B:{location:P,basename:r,...B}}async function u(y,{routeId:w,requestContext:A,dataStrategy:E,generateMiddlewareResponse:C}={}){let k=new URL(y.url),R=y.method,D=Nu("",oi(k),null,"default"),I=da(s,D,r);if(A=A??new tl,!sR(R)&&R!=="HEAD"&&R!=="OPTIONS")throw cr(405,{method:R});if(!I)throw cr(404,{pathname:D.pathname});let P=w?I.find(z=>z.route.id===w):xm(I,D);if(w&&!P)throw cr(403,{pathname:D.pathname,routeId:w});if(!P)throw cr(404,{pathname:D.pathname});if(C)return We(A instanceof tl,"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `RouterContextProvider`"),await q5(I,n,a),await $5({request:y,unstable_pattern:Eu(I),matches:I,params:I[0].params,context:A},async()=>await C(async G=>{let Y=await c(G,D,I,A,E||null,!1,P,null,!1),te=B(Y);return In(te)?te:typeof te=="string"?new Response(te):Response.json(te)}),K=>{if(kd(K))return Promise.resolve(aR(K));if(In(K))return Promise.resolve(K);throw K});let M=await c(y,D,I,A,E||null,!1,P,null,!1);return B(M);function B(z){if(In(z))return z;let K=z.errors?Object.values(z.errors)[0]:void 0;if(K!==void 0)throw K;if(z.actionData)return Object.values(z.actionData)[0];if(z.loaderData)return Object.values(z.loaderData)[0]}}async function c(y,w,A,E,C,k,R,D,I){We(y.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(xi(y.method))return await f(y,A,R||xm(A,w),E,C,k,R!=null,D,I);let P=await h(y,A,E,C,k,R,D);return In(P)?P:{...P,actionData:null,actionHeaders:{}}}catch(P){if(E6(P)&&In(P.result)){if(P.type==="error")throw P.result;return P.result}if($1(P))return P;throw P}}async function f(y,w,A,E,C,k,R,D,I){let P;if(!A.route.action&&!A.route.lazy){let z=cr(405,{method:y.method,pathname:new URL(y.url).pathname,routeId:A.route.id});if(R)throw z;P={type:"error",error:z}}else{let z=Rd(a,n,y,w,A,[],E);P=(await v(y,z,R,E,C))[A.route.id],y.signal.aborted&&F5(y,R)}if(Nd(P))throw new Response(null,{status:P.response.status,headers:{Location:P.response.headers.get("Location")}});if(R){if(Br(P))throw P.error;return{matches:[A],loaderData:{},actionData:{[A.route.id]:P.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{}}}if(I)if(Br(P)){let z=k?A:Rs(w,A.route.id);return{statusCode:er(P.error)?P.error.status:P.statusCode!=null?P.statusCode:500,actionData:null,actionHeaders:{...P.headers?{[A.route.id]:P.headers}:{}},matches:w,loaderData:{},errors:{[z.route.id]:P.error},loaderHeaders:{}}}else return{actionData:{[A.route.id]:P.data},actionHeaders:P.headers?{[A.route.id]:P.headers}:{},matches:w,loaderData:{},errors:null,statusCode:P.statusCode||200,loaderHeaders:{}};let M=new Request(y.url,{headers:y.headers,redirect:y.redirect,signal:y.signal});if(Br(P)){let z=k?A:Rs(w,A.route.id);return{...await h(M,w,E,C,k,null,D,[z.route.id,P]),statusCode:er(P.error)?P.error.status:P.statusCode!=null?P.statusCode:500,actionData:null,actionHeaders:{...P.headers?{[A.route.id]:P.headers}:{}}}}return{...await h(M,w,E,C,k,null,D),actionData:{[A.route.id]:P.data},...P.statusCode?{statusCode:P.statusCode}:{},actionHeaders:P.headers?{[A.route.id]:P.headers}:{}}}async function h(y,w,A,E,C,k,R,D){let I=k!=null;if(I&&!(k!=null&&k.route.loader)&&!(k!=null&&k.route.lazy))throw cr(400,{method:y.method,pathname:new URL(y.url).pathname,routeId:k==null?void 0:k.route.id});let P;if(k)P=Rd(a,n,y,w,k,[],A);else{let z=D&&Br(D[1])?w.findIndex(G=>G.route.id===D[0])-1:void 0,K=Eu(w);P=w.map((G,Y)=>z!=null&&Y>z?m0(a,n,y,K,G,[],A,!1):m0(a,n,y,K,G,[],A,(G.route.loader||G.route.lazy)!=null&&(!R||R(G))))}if(!E&&!P.some(z=>z.shouldLoad))return{matches:w,loaderData:{},errors:D&&Br(D[1])?{[D[0]]:D[1].error}:null,statusCode:200,loaderHeaders:{}};let M=await v(y,P,I,A,E);return y.signal.aborted&&F5(y,I),{...x6(w,M,D,!0,C),matches:w}}async function v(y,w,A,E,C){let k=await g6(C||rR,y,w,null,E,!0),R={};return await Promise.all(w.map(async D=>{if(!(D.route.id in k))return;let I=k[D.route.id];if(A6(I)){let P=I.result;throw b6(P,y,D.route.id,w,r)}if(A){if(In(I.result))throw I;if(kd(I.result))throw aR(I.result)}R[D.route.id]=await y6(I)})),R}return{dataRoutes:s,query:o,queryRoute:u}}function c6(t,e,n,r){let i=r||e._deepestRenderedBoundaryId||t[0].id;return{...e,statusCode:er(n)?n.status:500,errors:{[i]:n}}}function F5(t,e){if(t.signal.reason!==void 0)throw t.signal.reason;let n=e?"queryRoute":"query";throw new Error(`${n}() call aborted without an \`AbortSignal.reason\`: ${t.method} ${t.url}`)}function oQ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tR(t,e,n,r,i,a){let s,o;if(i){s=[];for(let c of e)if(s.push(c),c.route.id===i){o=c;break}}else s=e,o=e[e.length-1];let u=CA(r||".",_A(s),Sr(t.pathname,n)||t.pathname,a==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&o){let c=ZM(u.search);if(o.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();u.search=v?`?${v}`:""}}return n!=="/"&&(u.pathname=WJ({basename:n,pathname:u.pathname})),oi(u)}function U5(t,e,n){if(!n||!oQ(n))return{path:e};if(n.formMethod&&!sR(n.formMethod))return{path:e,error:cr(405,{method:n.formMethod})};let r=()=>({path:e,error:cr(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),s=w6(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!xi(a))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[y,w])=>`${v}${y}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!xi(a))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}We(typeof FormData=="function","FormData is not available in this environment");let o,u;if(n.formData)o=iR(n.formData),u=n.formData;else if(n.body instanceof FormData)o=iR(n.body),u=n.body;else if(n.body instanceof URLSearchParams)o=n.body,u=W5(o);else if(n.body==null)o=new URLSearchParams,u=new FormData;else try{o=new URLSearchParams(n.body),u=W5(o)}catch{return r()}let c={formMethod:a,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(xi(c.formMethod))return{path:e,submission:c};let f=es(e);return t&&f.search&&ZM(f.search)&&o.append("index",""),f.search=`?${o}`,{path:oi(f),submission:c}}function B5(t,e,n,r,i,a,s,o,u,c,f,h,v,y,w,A,E,C,k,R){var W;let D=R?Br(R[1])?R[1].error:R[1].data:void 0,I=i.createURL(a.location),P=i.createURL(u),M;if(f&&a.errors){let $=Object.keys(a.errors)[0];M=s.findIndex(U=>U.route.id===$)}else if(R&&Br(R[1])){let $=R[0];M=s.findIndex(U=>U.route.id===$)-1}let B=R?R[1].statusCode:void 0,z=B&&B>=400,K={currentUrl:I,currentParams:((W=a.matches[0])==null?void 0:W.params)||{},nextUrl:P,nextParams:s[0].params,...o,actionResult:D,actionStatus:B},G=Eu(s),Y=s.map(($,U)=>{let{route:q}=$,Z=null;if(M!=null&&U>M?Z=!1:q.lazy?Z=!0:JM(q)?f?Z=nR(q,a.loaderData,a.errors):lQ(a.loaderData,a.matches[U],$)&&(Z=!0):Z=!1,Z!==null)return m0(n,r,t,G,$,c,e,Z);let ie=z?!1:h||I.pathname+I.search===P.pathname+P.search||I.search!==P.search||uQ(a.matches[U],$),be={...K,defaultShouldRevalidate:ie},V=q1($,be);return m0(n,r,t,G,$,c,e,V,be)}),te=[];return w.forEach(($,U)=>{if(f||!s.some(ve=>ve.route.id===$.routeId)||y.has(U))return;let q=a.fetchers.get(U),Z=q&&q.state!=="idle"&&q.data===void 0,ie=da(E,$.path,C);if(!ie){if(k&&Z)return;te.push({key:U,routeId:$.routeId,path:$.path,matches:null,match:null,request:null,controller:null});return}if(A.has(U))return;let be=xm(ie,$.path),V=new AbortController,J=Zp(i,$.path,V.signal),oe=null;if(v.has(U))v.delete(U),oe=Rd(n,r,J,ie,be,c,e);else if(Z)h&&(oe=Rd(n,r,J,ie,be,c,e));else{let ve={...K,defaultShouldRevalidate:z?!1:h};q1(be,ve)&&(oe=Rd(n,r,J,ie,be,c,e,ve))}oe&&te.push({key:U,routeId:$.routeId,path:$.path,matches:oe,match:be,request:J,controller:V})}),{dsMatches:Y,revalidatingFetchers:te}}function JM(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function nR(t,e,n){if(t.lazy)return!0;if(!JM(t))return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function lQ(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function uQ(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function q1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function z5(t,e,n,r,i,a){let s;if(t){let c=r[t];We(c,`No route found to patch children into: routeId = ${t}`),c.children||(c.children=[]),s=c.children}else s=n;let o=[],u=[];if(e.forEach(c=>{let f=s.find(h=>d6(c,h));f?u.push({existingRoute:f,newRoute:c}):o.push(c)}),o.length>0){let c=Pd(o,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...c)}if(a&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:f,newRoute:h}=u[c],v=f,[y]=Pd([h],i,[],{},!0);Object.assign(v,{element:y.element?y.element:v.element,errorElement:y.errorElement?y.errorElement:v.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:v.hydrateFallbackElement})}}function d6(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>d6(n,a))}):!1}var H5=new WeakMap,QM=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(We(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let s=H5.get(i);s||(s={},H5.set(i,s));let o=s[t];if(o)return o;let u=(async()=>{let c=PJ(t),h=i[t]!==void 0&&t!=="hasErrorBoundary";if(c)nn(!c,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(h)nn(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await a();v!=null&&(Object.assign(i,{[t]:v}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(v=>v===void 0)&&(i.lazy=void 0))})();return s[t]=u,u},G5=new WeakMap;function cQ(t,e,n,r,i){let a=n[t.id];if(We(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let f=G5.get(a);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let h=(async()=>{We(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),y={};for(let w in v){let A=v[w];if(A===void 0)continue;let E=IJ(w),k=a[w]!==void 0&&w!=="hasErrorBoundary";E?nn(!E,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?nn(!k,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=A}Object.assign(a,y),Object.assign(a,{...r(a),lazy:void 0})})();return G5.set(a,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let s=Object.keys(t.lazy),o=[],u;for(let f of s){if(i&&i.includes(f))continue;let h=QM({key:f,route:t,manifest:n,mapRouteProperties:r});h&&(o.push(h),f===e&&(u=h))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}function dQ(t){return t!==void 0}function q5(t,e,n){let r=t.map(({route:i})=>{if(!(typeof i.lazy!="object"||!i.lazy.middleware))return QM({key:"middleware",route:i,manifest:e,mapRouteProperties:n})}).filter(dQ);return r.length>0?Promise.all(r):void 0}async function rR(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function fQ(t){return t.matches.some(e=>e.route.middleware)?f6(t,()=>rR(t)):rR(t)}function $5(t,e,n){return h6(t,e,r,In,n);function r(i){return kd(i)?aR(i):i}}function f6(t,e){return h6(t,e,r=>r,mQ,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:s}=t,o=Math.min(Math.max(s.findIndex(c=>c.route.id===i),0),Math.max(s.findIndex(c=>c.shouldCallHandler()),0)),u=Rs(s,s[o].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function h6(t,e,n,r,i){let{matches:a,request:s,params:o,context:u,unstable_pattern:c}=t,f=a.flatMap(v=>v.route.middleware?v.route.middleware.map(y=>[v.route.id,y]):[]);return await p6({request:s,params:o,context:u,unstable_pattern:c},f,e,n,r,i)}async function p6(t,e,n,r,i,a,s=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let u=e[s];if(!u)return await n();let[c,f]=u,h,v=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await p6(t,e,n,r,i,a,s+1)},h.value}catch(y){return h={value:await a(y,c,h)},h.value}};try{let y=await f(t,v),w=y!=null?r(y):void 0;return i(w)?w:h?w??h.value:(h={value:await v()},h.value)}catch(y){return await a(y,c,h)}}function m6(t,e,n,r,i){let a=QM({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),s=cQ(r.route,xi(n.method)?"action":"loader",e,t,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function m0(t,e,n,r,i,a,s,o,u=null){let c=!1,f=m6(t,e,n,i,a);return{...i,_lazyPromises:f,shouldLoad:o,shouldRevalidateArgs:u,shouldCallHandler(h){return c=!0,u?typeof h=="boolean"?q1(i,{...u,defaultShouldRevalidate:h}):q1(i,u):o},resolve(h){let{lazy:v,loader:y,middleware:w}=i.route,A=c||o||h&&!xi(n.method)&&(v||y),E=w&&w.length>0&&!y&&!v;return A&&(xi(n.method)||!E)?hQ({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Rd(t,e,n,r,i,a,s,o=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:m6(t,e,n,u,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:m0(t,e,n,Eu(r),u,a,s,!0,o))}async function g6(t,e,n,r,i,a){n.some(c=>{var f;return(f=c._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(n.map(c=>{var f;return(f=c._lazyPromises)==null?void 0:f.middleware}));let s={request:e,unstable_pattern:Eu(n),params:n[0].params,context:i,matches:n},u=await t({...s,fetcherKey:r,runClientMiddleware:a?()=>{throw new Error("You cannot call `runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:c=>{let f=s;return f6(f,()=>c({...f,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>{var f,h;return[(f=c._lazyPromises)==null?void 0:f.handler,(h=c._lazyPromises)==null?void 0:h.route]}))}catch{}return u}async function hQ({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:a,scopedContext:s}){let o,u,c=xi(t.method),f=c?"action":"loader",h=v=>{let y,w=new Promise((C,k)=>y=k);u=()=>y(),t.signal.addEventListener("abort",u);let A=C=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):v({request:t,unstable_pattern:e,params:n.params,context:s},...C!==void 0?[C]:[]),E=(async()=>{try{return{type:"data",result:await(a?a(k=>A(k)):A())}}catch(C){return{type:"error",result:C}}})();return Promise.race([E,w])};try{let v=c?n.route.action:n.route.loader;if(r||i)if(v){let y,[w]=await Promise.all([h(v).catch(A=>{y=A}),r,i]);if(y!==void 0)throw y;o=w}else{await r;let y=c?n.route.action:n.route.loader;if(y)[o]=await Promise.all([h(y),i]);else if(f==="action"){let w=new URL(t.url),A=w.pathname+w.search;throw cr(405,{method:t.method,pathname:A,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(v)o=await h(v);else{let y=new URL(t.url),w=y.pathname+y.search;throw cr(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{u&&t.signal.removeEventListener("abort",u)}return o}async function v6(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function y6(t){var r,i,a,s,o;let{result:e,type:n}=t;if(In(e)){let u;try{u=await v6(e)}catch(c){return{type:"error",error:c}}return n==="error"?{type:"error",error:new Hi(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return n==="error"?kd(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:S6(e),statusCode:er(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:er(e)?e.status:void 0}:kd(e)?{type:"data",data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function b6(t,e,n,r,i){let a=t.headers.get("Location");if(We(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!AA(a)){let s=r.slice(0,r.findIndex(o=>o.route.id===n)+1);a=tR(new URL(e.url),s,i,a),t.headers.set("Location",a)}return t}function V5(t,e,n){if(AA(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Sr(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function Zp(t,e,n,r){let i=t.createURL(w6(e)).toString(),a={signal:n};if(r&&xi(r.formMethod)){let{formMethod:s,formEncType:o}=r;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(r.json)):o==="text/plain"?a.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?a.body=iR(r.formData):a.body=r.formData}return new Request(i,a)}function iR(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function W5(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function x6(t,e,n,r=!1,i=!1){let a={},s=null,o,u=!1,c={},f=n&&Br(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let v=h.route.id,y=e[v];if(We(!Nd(y),"Cannot handle redirect results in processLoaderData"),Br(y)){let w=y.error;if(f!==void 0&&(w=f,f=void 0),s=s||{},i)s[v]=w;else{let A=Rs(t,v);s[A.route.id]==null&&(s[A.route.id]=w)}r||(a[v]=l6),u||(u=!0,o=er(y.error)?y.error.status:500),y.headers&&(c[v]=y.headers)}else a[v]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(o=y.statusCode),y.headers&&(c[v]=y.headers)}),f!==void 0&&n&&(s={[n[0]]:f},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function Y5(t,e,n,r,i,a){let{loaderData:s,errors:o}=x6(e,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:f,controller:h}=u;if(h&&h.signal.aborted)return;let v=a[c];if(We(v,"Did not find corresponding fetcher result"),Br(v)){let y=Rs(t.matches,f==null?void 0:f.route.id);o&&o[y.route.id]||(o={...o,[y.route.id]:v.error}),t.fetchers.delete(c)}else if(Nd(v))We(!1,"Unhandled fetcher revalidation redirect");else{let y=Pl(v.data);t.fetchers.set(c,y)}}),{loaderData:s,errors:o}}function K5(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==l6).reduce((a,[s,o])=>(a[s]=o,a),{});for(let a of n){let s=a.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&a.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function X5(t){return t?Br(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Rs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function um(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function cr(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let s="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(s="Bad Request",r&&e&&n?o=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):t===403?(s="Forbidden",o=`Route "${n}" does not match URL "${e}"`):t===404?(s="Not Found",o=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",r&&e&&n?o=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new Hi(t||500,s,new Error(o),!0)}function wS(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Nd(i))return{key:r,result:i}}}function w6(t){let e=typeof t=="string"?es(t):t;return oi({...e,hash:""})}function pQ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function aR(t){return Response.json(t.data,t.init??void 0)}function S6(t){var e,n;return new Hi(((e=t.init)==null?void 0:e.status)??500,((n=t.init)==null?void 0:n.statusText)??"Internal Server Error",t.data)}function mQ(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&E6(n))}function E6(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function A6(t){return In(t.result)&&a6.has(t.result.status)}function Br(t){return t.type==="error"}function Nd(t){return(t&&t.type)==="redirect"}function kd(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function In(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function NA(t){return a6.has(t)}function $1(t){return In(t)&&NA(t.status)&&t.headers.has("Location")}function sR(t){return aQ.has(t.toUpperCase())}function xi(t){return rQ.has(t.toUpperCase())}function ZM(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function xm(t,e){let n=typeof e=="string"?es(e).search:e.search;if(t[t.length-1].route.index&&ZM(n||""))return t[t.length-1];let r=XH(t);return r[r.length-1]}function J5(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function nN(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gQ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ay(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function vQ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Pl(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function yQ(t,e){try{let n=t.sessionStorage.getItem(o6);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function bQ(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(o6,JSON.stringify(n))}catch(r){nn(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function Q5(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var dl=T.createContext(null);dl.displayName="DataRouter";var Hu=T.createContext(null);Hu.displayName="DataRouterState";var _6=T.createContext(!1);function xQ(){return T.useContext(_6)}var Tx=T.createContext({isTransitioning:!1});Tx.displayName="ViewTransition";var Nx=T.createContext(new Map);Nx.displayName="Fetchers";var iv=T.createContext(null);iv.displayName="Await";var wQ=t=>T.createElement(iv.Provider,t),qi=T.createContext(null);qi.displayName="Navigation";var np=T.createContext(null);np.displayName="Location";var ha=T.createContext({outlet:null,matches:[],isDataRoute:!1});ha.displayName="Route";var eP=T.createContext(null);eP.displayName="RouteError";function C6(t,{relative:e}={}){We(zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(qi),{hash:i,pathname:a,search:s}=vv(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:rl([n,a])),r.createHref({pathname:o,search:s,hash:i})}function zd(){return T.useContext(np)!=null}function Er(){return We(zd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(np).location}function SQ(){return T.useContext(np).navigationType}function EQ(t){We(zd(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=Er();return T.useMemo(()=>rv(t,YH(e)),[e,t])}var T6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N6(t){T.useContext(qi).static||T.useLayoutEffect(t)}function gv(){let{isDataRoute:t}=T.useContext(ha);return t?OQ():AQ()}function AQ(){We(zd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(dl),{basename:e,navigator:n}=T.useContext(qi),{matches:r}=T.useContext(ha),{pathname:i}=Er(),a=JSON.stringify(_A(r)),s=T.useRef(!1);return N6(()=>{s.current=!0}),T.useCallback((u,c={})=>{if(nn(s.current,T6),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=CA(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:rl([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,i,t])}var R6=T.createContext(null);function _Q(){return T.useContext(R6)}function k6(t){let e=T.useContext(ha).outlet;return T.useMemo(()=>e&&T.createElement(R6.Provider,{value:t},e),[e,t])}function RA(){let{matches:t}=T.useContext(ha),e=t[t.length-1];return e?e.params:{}}function vv(t,{relative:e}={}){let{matches:n}=T.useContext(ha),{pathname:r}=Er(),i=JSON.stringify(_A(n));return T.useMemo(()=>CA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function M6(t,e){return tP(t,e)}function tP(t,e,n,r,i){var k;We(zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(qi),{matches:s}=T.useContext(ha),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let R=h&&h.path||"";O6(c,!h||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let v=Er(),y;if(e){let R=typeof e=="string"?es(e):e;We(f==="/"||((k=R.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${R.pathname}" was given in the \`location\` prop.`),y=R}else y=v;let w=y.pathname||"/",A=w;if(f!=="/"){let R=f.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let E=da(t,{pathname:A});nn(h||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),nn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=P6(E&&E.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:rl([f,a.encodeLocation?a.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:rl([f,a.encodeLocation?a.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),s,n,r,i);return e&&C?T.createElement(np.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},C):C}function CQ(){let t=Rx(),e=er(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}var TQ=T.createElement(CQ,null),NQ=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(ha.Provider,{value:this.props.routeContext},T.createElement(eP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RQ({routeContext:t,match:e,children:n}){let r=T.useContext(dl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ha.Provider,{value:t},n)}function P6(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let f=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);We(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:v,errors:y}=n,w=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||w){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&r?(f,h)=>{var v,y;r(f,{location:n.location,params:((y=(v=n.matches)==null?void 0:v[0])==null?void 0:y.params)??{},unstable_pattern:Eu(n.matches),errorInfo:h})}:void 0;return a.reduceRight((f,h,v)=>{let y,w=!1,A=null,E=null;n&&(y=s&&h.route.id?s[h.route.id]:void 0,A=h.route.errorElement||TQ,o&&(u<0&&v===0?(O6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):u===v&&(w=!0,E=h.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,v+1)),k=()=>{let R;return y?R=A:w?R=E:h.route.Component?R=T.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=f,T.createElement(RQ,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:R})};return n&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?T.createElement(NQ,{location:n.location,revalidation:n.revalidation,component:A,error:y,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:c}):k()},null)}function nP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rP(t){let e=T.useContext(dl);return We(e,nP(t)),e}function Gu(t){let e=T.useContext(Hu);return We(e,nP(t)),e}function kQ(t){let e=T.useContext(ha);return We(e,nP(t)),e}function yv(t){let e=kQ(t),n=e.matches[e.matches.length-1];return We(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MQ(){return yv("useRouteId")}function D6(){return Gu("useNavigation").navigation}function PQ(){let t=rP("useRevalidator"),e=Gu("useRevalidator"),n=T.useCallback(async()=>{await t.router.revalidate()},[t.router]);return T.useMemo(()=>({revalidate:n,state:e.revalidation}),[n,e.revalidation])}function kA(){let{matches:t,loaderData:e}=Gu("useMatches");return T.useMemo(()=>t.map(n=>qH(n,e)),[t,e])}function MA(){let t=Gu("useLoaderData"),e=yv("useLoaderData");return t.loaderData[e]}function DQ(t){return Gu("useRouteLoaderData").loaderData[t]}function PA(){let t=Gu("useActionData"),e=yv("useLoaderData");return t.actionData?t.actionData[e]:void 0}function Rx(){var r;let t=T.useContext(eP),e=Gu("useRouteError"),n=yv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function I6(){let t=T.useContext(iv);return t==null?void 0:t._data}function IQ(){let t=T.useContext(iv);return t==null?void 0:t._error}var LQ=0;function L6(t){let{router:e,basename:n}=rP("useBlocker"),r=Gu("useBlocker"),[i,a]=T.useState(""),s=T.useCallback(o=>{if(typeof t!="function")return!!t;if(n==="/")return t(o);let{currentLocation:u,nextLocation:c,historyAction:f}=o;return t({currentLocation:{...u,pathname:Sr(u.pathname,n)||u.pathname},nextLocation:{...c,pathname:Sr(c.pathname,n)||c.pathname},historyAction:f})},[n,t]);return T.useEffect(()=>{let o=String(++LQ);return a(o),()=>e.deleteBlocker(o)},[e]),T.useEffect(()=>{i!==""&&e.getBlocker(i,s)},[e,i,s]),i&&r.blockers.has(i)?r.blockers.get(i):kc}function OQ(){let{router:t}=rP("useNavigate"),e=yv("useNavigate"),n=T.useRef(!1);return N6(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{nn(n.current,T6),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var Z5={};function O6(t,e,n){!e&&!Z5[t]&&(Z5[t]=!0,nn(!1,n))}function jQ(...t){var a;const e=yv("useRoute"),n=t[0]??e,r=Gu("useRoute"),i=r.matches.find(({route:s})=>s.id===n);if(i!==void 0)return{handle:i.route.handle,loaderData:r.loaderData[n],actionData:(a=r.actionData)==null?void 0:a[n]}}var e4={};function g0(t,e){!t&&!e4[e]&&(e4[e]=!0,console.warn(e))}var FQ="useOptimistic",t4=XM[FQ],UQ=()=>{};function BQ(t){return t4?t4(t):[t,UQ]}function rp(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&nn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&nn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&nn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var kx=["HydrateFallback","hydrateFallbackElement"];function j6(t,e){return Cx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:BH({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:t,hydrationRouteProperties:kx,mapRouteProperties:rp,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}var zQ=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function F6({router:t,flushSync:e,unstable_onError:n,unstable_useTransitions:r}){let[i,a]=T.useState(t.state),[s,o]=BQ(i),[u,c]=T.useState(),[f,h]=T.useState({isTransitioning:!1}),[v,y]=T.useState(),[w,A]=T.useState(),[E,C]=T.useState(),k=T.useRef(new Map),R=T.useCallback((M,{deletedFetchers:B,newErrors:z,flushSync:K,viewTransitionOpts:G})=>{z&&n&&Object.values(z).forEach(te=>{var W;return n(te,{location:M.location,params:((W=M.matches[0])==null?void 0:W.params)??{},unstable_pattern:Eu(M.matches)})}),M.fetchers.forEach((te,W)=>{te.data!==void 0&&k.current.set(W,te.data)}),B.forEach(te=>k.current.delete(te)),g0(K===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Y=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(g0(G==null||Y,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!G||!Y){e&&K?e(()=>a(M)):r===!1?a(M):T.startTransition(()=>{r===!0&&o(te=>n4(te,M)),a(M)});return}if(e&&K){e(()=>{w&&(v==null||v.resolve(),w.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let te=t.window.document.startViewTransition(()=>{e(()=>a(M))});te.finished.finally(()=>{e(()=>{y(void 0),A(void 0),c(void 0),h({isTransitioning:!1})})}),e(()=>A(te));return}w?(v==null||v.resolve(),w.skipTransition(),C({state:M,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(c(M),h({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[t.window,e,w,v,r,o,n]);T.useLayoutEffect(()=>t.subscribe(R),[t,R]),T.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new zQ)},[f]),T.useEffect(()=>{if(v&&u&&t.window){let M=u,B=v.promise,z=t.window.document.startViewTransition(async()=>{r===!1?a(M):T.startTransition(()=>{r===!0&&o(K=>n4(K,M)),a(M)}),await B});z.finished.finally(()=>{y(void 0),A(void 0),c(void 0),h({isTransitioning:!1})}),A(z)}},[u,v,t.window,r,o]),T.useEffect(()=>{v&&u&&s.location.key===u.location.key&&v.resolve()},[v,w,s.location,u]),T.useEffect(()=>{!f.isTransitioning&&E&&(c(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),C(void 0))},[f.isTransitioning,E]);let D=T.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:M=>t.navigate(M),push:(M,B,z)=>t.navigate(M,{state:B,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(M,B,z)=>t.navigate(M,{replace:!0,state:B,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[t]),I=t.basename||"/",P=T.useMemo(()=>({router:t,navigator:D,static:!1,basename:I,unstable_onError:n}),[t,D,I,n]);return T.createElement(T.Fragment,null,T.createElement(dl.Provider,{value:P},T.createElement(Hu.Provider,{value:s},T.createElement(Nx.Provider,{value:k.current},T.createElement(Tx.Provider,{value:f},T.createElement(Hd,{basename:I,location:s.location,navigationType:s.historyAction,navigator:D,unstable_useTransitions:r===!0},T.createElement(HQ,{routes:t.routes,future:t.future,state:s,unstable_onError:n})))))),null)}function n4(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var HQ=T.memo(GQ);function GQ({routes:t,future:e,state:n,unstable_onError:r}){return tP(t,void 0,n,r,e)}function qQ({basename:t,children:e,initialEntries:n,initialIndex:r,unstable_useTransitions:i}){let a=T.useRef();a.current==null&&(a.current=BH({initialEntries:n,initialIndex:r,v5Compat:!0}));let s=a.current,[o,u]=T.useState({action:s.action,location:s.location}),c=T.useCallback(f=>{i===!1?u(f):T.startTransition(()=>u(f))},[i]);return T.useLayoutEffect(()=>s.listen(c),[s,c]),T.createElement(Hd,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:i===!0})}function U6({to:t,replace:e,state:n,relative:r}){We(zd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(qi);nn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(ha),{pathname:s}=Er(),o=gv(),u=CA(t,_A(a),s,r==="path"),c=JSON.stringify(u);return T.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function B6(t){return k6(t.context)}function ln(t){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Hd({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){We(!zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=es(n));let{pathname:c="/",search:f="",hash:h="",state:v=null,key:y="default"}=n,w=T.useMemo(()=>{let A=Sr(c,o);return A==null?null:{location:{pathname:A,search:f,hash:h,state:v,key:y},navigationType:r}},[o,c,f,h,v,y,r]);return nn(w!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(qi.Provider,{value:u},T.createElement(np.Provider,{children:e,value:w}))}function iP({children:t,location:e}){return M6(v0(t),e)}function $Q({children:t,errorElement:e,resolve:n}){let r=T.useContext(dl),i=T.useContext(Hu),a=T.useCallback((s,o)=>{var u;r&&r.unstable_onError&&i&&r.unstable_onError(s,{location:i.location,params:((u=i.matches[0])==null?void 0:u.params)||{},unstable_pattern:Eu(i.matches),errorInfo:o})},[r,i]);return T.createElement(VQ,{resolve:n,errorElement:e,onError:a},T.createElement(WQ,null,t))}var VQ=class extends T.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("<Await> caught the following error during render",t,e)}render(){let{children:t,errorElement:e,resolve:n}=this.props,r=null,i=0;if(!(n instanceof Promise))i=1,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});else if(this.state.error){i=2;let a=this.state.error;r=Promise.reject().catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>a})}else n._tracked?(r=n,i="_error"in r?2:"_data"in r?1:0):(i=0,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then(a=>Object.defineProperty(n,"_data",{get:()=>a}),a=>{var s,o;(o=(s=this.props).onError)==null||o.call(s,a),Object.defineProperty(n,"_error",{get:()=>a})}));if(i===2&&!e)throw r._error;if(i===2)return T.createElement(iv.Provider,{value:r,children:e});if(i===1)return T.createElement(iv.Provider,{value:r,children:t});throw r}};function WQ({children:t}){let e=I6(),n=typeof t=="function"?t(e):t;return T.createElement(T.Fragment,null,n)}function v0(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,v0(r.props.children,a));return}We(r.type===ln,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=v0(r.props.children,a)),n.push(s)}),n}var YQ=v0;function KQ(t){return P6(t)}function z6(){return{params:RA(),loaderData:MA(),actionData:PA(),matches:kA()}}function XQ({children:t}){const e=z6();return T.cloneElement(t,e)}function H6(t){return function(){const n=z6();return T.createElement(t,n)}}function G6(){return{params:RA(),loaderData:MA(),actionData:PA()}}function JQ({children:t}){const e=G6();return T.cloneElement(t,e)}function q6(t){return function(){const n=G6();return T.createElement(t,n)}}function $6(){return{params:RA(),loaderData:MA(),actionData:PA(),error:Rx()}}function QQ({children:t}){const e=$6();return T.cloneElement(t,e)}function V6(t){return function(){const n=$6();return T.createElement(t,n)}}var ZS="get",e1="application/x-www-form-urlencoded";function DA(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function ZQ(t){return DA(t)&&t.tagName.toLowerCase()==="button"}function eZ(t){return DA(t)&&t.tagName.toLowerCase()==="form"}function tZ(t){return DA(t)&&t.tagName.toLowerCase()==="input"}function nZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rZ(t,e){return t.button===0&&(!e||e==="_self")&&!nZ(t)}function V1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function iZ(t,e){let n=V1(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var SS=null;function aZ(){if(SS===null)try{new FormData(document.createElement("form"),0),SS=!1}catch{SS=!0}return SS}var sZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rN(t){return t!=null&&!sZ.has(t)?(nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${e1}"`),null):t}function oZ(t,e){let n,r,i,a,s;if(eZ(t)){let o=t.getAttribute("action");r=o?Sr(o,e):null,n=t.getAttribute("method")||ZS,i=rN(t.getAttribute("enctype"))||e1,a=new FormData(t)}else if(ZQ(t)||tZ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?Sr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||ZS,i=rN(t.getAttribute("formenctype"))||rN(o.getAttribute("enctype"))||e1,a=new FormData(o,t),!aZ()){let{name:c,type:f,value:h}=t;if(f==="image"){let v=c?`${c}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else c&&a.append(c,h)}}else{if(DA(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ZS,r=null,i=e1,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}var W6=-1,Y6=-2,K6=-3,X6=-4,aP=-5,J6=-6,Q6=-7,Z6="B",e8="D",wm="E",oR="M",t8="N",Sm="P",n8="R",lR="S",r8="Y",i8="U",uR="Z",a8=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};function lZ(){const t=new TextDecoder;let e="";return new TransformStream({transform(n,r){const i=t.decode(n,{stream:!0}),a=(e+i).split(`
`);e=a.pop()||"";for(const s of a)r.enqueue(s)},flush(n){e&&n.enqueue(e)}})}function vs(t){const{indices:e}=this,n=e.get(t);if(n)return[n];if(t===void 0)return Q6;if(t===null)return aP;if(Number.isNaN(t))return Y6;if(t===Number.POSITIVE_INFINITY)return J6;if(t===Number.NEGATIVE_INFINITY)return K6;if(t===0&&1/t<0)return X6;const r=this.index++;return e.set(t,r),uZ.call(this,t,r),r}function uZ(t,e){const{deferred:n,plugins:r,postPlugins:i}=this,a=this.stringified,s=[[t,e]];for(;s.length>0;){const[o,u]=s.pop(),c=h=>Object.keys(h).map(v=>`"_${vs.call(this,v)}":${vs.call(this,h[v])}`).join(",");let f=null;switch(typeof o){case"boolean":case"number":case"string":a[u]=JSON.stringify(o);break;case"bigint":a[u]=`["${Z6}","${o}"]`;break;case"symbol":{const h=Symbol.keyFor(o);h?a[u]=`["${r8}",${JSON.stringify(h)}]`:f=new Error("Cannot encode symbol unless created with Symbol.for()");break}case"object":{if(!o){a[u]=`${aP}`;break}const h=Array.isArray(o);let v=!1;if(!h&&r)for(const y of r){const w=y(o);if(Array.isArray(w)){v=!0;const[A,...E]=w;a[u]=`[${JSON.stringify(A)}`,E.length>0&&(a[u]+=`,${E.map(C=>vs.call(this,C)).join(",")}`),a[u]+="]";break}}if(!v){let y=h?"[":"{";if(h){for(let w=0;w<o.length;w++)y+=(w?",":"")+(w in o?vs.call(this,o[w]):W6);a[u]=`${y}]`}else if(o instanceof Date){const w=o.getTime();a[u]=`["${e8}",${Number.isNaN(w)?JSON.stringify("invalid"):w}]`}else o instanceof URL?a[u]=`["${i8}",${JSON.stringify(o.href)}]`:o instanceof RegExp?a[u]=`["${n8}",${JSON.stringify(o.source)},${JSON.stringify(o.flags)}]`:o instanceof Set?o.size>0?a[u]=`["${lR}",${[...o].map(w=>vs.call(this,w)).join(",")}]`:a[u]=`["${lR}"]`:o instanceof Map?o.size>0?a[u]=`["${oR}",${[...o].flatMap(([w,A])=>[vs.call(this,w),vs.call(this,A)]).join(",")}]`:a[u]=`["${oR}"]`:o instanceof Promise?(a[u]=`["${Sm}",${u}]`,n[u]=o):o instanceof Error?(a[u]=`["${wm}",${JSON.stringify(o.message)}`,o.name!=="Error"&&(a[u]+=`,${JSON.stringify(o.name)}`),a[u]+="]"):Object.getPrototypeOf(o)===null?a[u]=`["${t8}",{${c(o)}}]`:dZ(o)?a[u]=`{${c(o)}}`:f=new Error("Cannot encode object with prototype")}break}default:{const h=Array.isArray(o);let v=!1;if(!h&&r)for(const y of r){const w=y(o);if(Array.isArray(w)){v=!0;const[A,...E]=w;a[u]=`[${JSON.stringify(A)}`,E.length>0&&(a[u]+=`,${E.map(C=>vs.call(this,C)).join(",")}`),a[u]+="]";break}}v||(f=new Error("Cannot encode function or unexpected type"))}}if(f){let h=!1;if(i)for(const v of i){const y=v(o);if(Array.isArray(y)){h=!0;const[w,...A]=y;a[u]=`[${JSON.stringify(w)}`,A.length>0&&(a[u]+=`,${A.map(E=>vs.call(this,E)).join(",")}`),a[u]+="]";break}}if(!h)throw f}}}var cZ=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dZ(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===cZ}var iN=typeof window<"u"?window:typeof globalThis<"u"?globalThis:void 0;function cR(t){const{hydrated:e,values:n}=this;if(typeof t=="number")return r4.call(this,t);if(!Array.isArray(t)||!t.length)throw new SyntaxError;const r=n.length;for(const i of t)n.push(i);return e.length=n.length,r4.call(this,r)}function r4(t){const{hydrated:e,values:n,deferred:r,plugins:i}=this;let a;const s=[[t,u=>{a=u}]];let o=[];for(;s.length>0;){const[u,c]=s.pop();switch(u){case Q6:c(void 0);continue;case aP:c(null);continue;case Y6:c(NaN);continue;case J6:c(1/0);continue;case K6:c(-1/0);continue;case X6:c(-0);continue}if(e[u]){c(e[u]);continue}const f=n[u];if(!f||typeof f!="object"){e[u]=f,c(f);continue}if(Array.isArray(f))if(typeof f[0]=="string"){const[h,v,y]=f;switch(h){case e8:c(e[u]=new Date(v));continue;case i8:c(e[u]=new URL(v));continue;case Z6:c(e[u]=BigInt(v));continue;case n8:c(e[u]=new RegExp(v,y));continue;case r8:c(e[u]=Symbol.for(v));continue;case lR:const w=new Set;e[u]=w;for(let D=f.length-1;D>0;D--)s.push([f[D],I=>{w.add(I)}]);c(w);continue;case oR:const A=new Map;e[u]=A;for(let D=f.length-2;D>0;D-=2){const I=[];s.push([f[D+1],P=>{I[1]=P}]),s.push([f[D],P=>{I[0]=P}]),o.push(()=>{A.set(I[0],I[1])})}c(A);continue;case t8:const E=Object.create(null);e[u]=E;for(const D of Object.keys(v).reverse()){const I=[];s.push([v[D],P=>{I[1]=P}]),s.push([Number(D.slice(1)),P=>{I[0]=P}]),o.push(()=>{E[I[0]]=I[1]})}c(E);continue;case Sm:if(e[v])c(e[u]=e[v]);else{const D=new a8;r[v]=D,c(e[u]=D.promise)}continue;case wm:const[,C,k]=f;let R=k&&iN&&iN[k]?new iN[k](C):new Error(C);e[u]=R,c(R);continue;case uR:c(e[u]=e[v]);continue;default:if(Array.isArray(i)){const D=[],I=f.slice(1);for(let P=0;P<I.length;P++){const M=I[P];s.push([M,B=>{D[P]=B}])}o.push(()=>{for(const P of i){const M=P(f[0],...D);if(M){c(e[u]=M.value);return}}throw new SyntaxError});continue}throw new SyntaxError}}else{const h=[];e[u]=h;for(let v=0;v<f.length;v++){const y=f[v];y!==W6&&s.push([y,w=>{h[v]=w}])}c(h);continue}else{const h={};e[u]=h;for(const v of Object.keys(f).reverse()){const y=[];s.push([f[v],w=>{y[1]=w}]),s.push([Number(v.slice(1)),w=>{y[0]=w}]),o.push(()=>{h[y[0]]=y[1]})}c(h);continue}}for(;o.length>0;)o.pop()();return a}async function fZ(t,e){const{plugins:n}=e??{},r=new a8,i=t.pipeThrough(lZ()).getReader(),a={values:[],hydrated:[],deferred:{},plugins:n},s=await hZ.call(a,i);let o=r.promise;return s.done?r.resolve():o=pZ.call(a,i).then(r.resolve).catch(u=>{for(const c of Object.values(a.deferred))c.reject(u);r.reject(u)}),{done:o.then(()=>i.closed),value:s.value}}async function hZ(t){const e=await t.read();if(!e.value)throw new SyntaxError;let n;try{n=JSON.parse(e.value)}catch{throw new SyntaxError}return{done:e.done,value:cR.call(this,n)}}async function pZ(t){let e=await t.read();for(;!e.done;){if(!e.value)continue;const n=e.value;switch(n[0]){case Sm:{const r=n.indexOf(":"),i=Number(n.slice(1,r)),a=this.deferred[i];if(!a)throw new Error(`Deferred ID ${i} not found in stream`);const s=n.slice(r+1);let o;try{o=JSON.parse(s)}catch{throw new SyntaxError}const u=cR.call(this,o);a.resolve(u);break}case wm:{const r=n.indexOf(":"),i=Number(n.slice(1,r)),a=this.deferred[i];if(!a)throw new Error(`Deferred ID ${i} not found in stream`);const s=n.slice(r+1);let o;try{o=JSON.parse(s)}catch{throw new SyntaxError}const u=cR.call(this,o);a.reject(u);break}default:throw new SyntaxError}e=await t.read()}}function mZ(t,e){const{plugins:n,postPlugins:r,signal:i}=e??{},a={deferred:{},index:0,indices:new Map,stringified:[],plugins:n,postPlugins:r,signal:i},s=new TextEncoder;let o=0;return new ReadableStream({async start(c){const f=vs.call(a,t);if(Array.isArray(f))throw new Error("This should never happen");f<0?c.enqueue(s.encode(`${f}
`)):(c.enqueue(s.encode(`[${a.stringified.join(",")}]
`)),o=a.stringified.length-1);const h=new WeakSet;if(Object.keys(a.deferred).length){let v;const y=new Promise((w,A)=>{if(v=w,i){const E=()=>A(i.reason||new Error("Signal was aborted."));i.aborted?E():i.addEventListener("abort",C=>{E()})}});for(;Object.keys(a.deferred).length>0;){for(const[w,A]of Object.entries(a.deferred))h.has(A)||h.add(a.deferred[Number(w)]=Promise.race([y,A]).then(E=>{const C=vs.call(a,E);if(Array.isArray(C))c.enqueue(s.encode(`${Sm}${w}:[["${uR}",${C[0]}]]
`)),a.index++,o++;else if(C<0)c.enqueue(s.encode(`${Sm}${w}:${C}
`));else{const k=a.stringified.slice(o+1).join(",");c.enqueue(s.encode(`${Sm}${w}:[${k}]
`)),o=a.stringified.length-1}},E=>{(!E||typeof E!="object"||!(E instanceof Error))&&(E=new Error("An unknown error occurred"));const C=vs.call(a,E);if(Array.isArray(C))c.enqueue(s.encode(`${wm}${w}:[["${uR}",${C[0]}]]
`)),a.index++,o++;else if(C<0)c.enqueue(s.encode(`${wm}${w}:${C}
`));else{const k=a.stringified.slice(o+1).join(",");c.enqueue(s.encode(`${wm}${w}:[${k}]
`)),o=a.stringified.length-1}}).finally(()=>{delete a.deferred[Number(w)]}));await Promise.race(Object.values(a.deferred))}v()}await Promise.all(Object.values(a.deferred)),c.close()}})}async function gZ(t){let e={signal:t.signal};if(t.method!=="GET"){e.method=t.method;let n=t.headers.get("Content-Type");n&&/\bapplication\/json\b/.test(n)?(e.headers={"Content-Type":n},e.body=JSON.stringify(await t.json())):n&&/\btext\/plain\b/.test(n)?(e.headers={"Content-Type":n},e.body=await t.text()):n&&/\bapplication\/x-www-form-urlencoded\b/.test(n)?e.body=new URLSearchParams(await t.text()):e.body=await t.formData()}return e}var vZ={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},yZ=/[&><\u2028\u2029]/g;function sP(t){return t.replace(yZ,e=>vZ[e])}function wi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}var Ru=Symbol("SingleFetchRedirect"),s8=class extends Error{},oP=202,o8=new Set([100,101,204,205]);function l8({context:t,identifier:e,reader:n,textDecoder:r,nonce:i}){if(!t.renderMeta||!t.renderMeta.didRenderScripts)return null;t.renderMeta.streamCache||(t.renderMeta.streamCache={});let{streamCache:a}=t.renderMeta,s=a[e];if(s||(s=a[e]=n.read().then(f=>{a[e].result={done:f.done,value:r.decode(f.value,{stream:!0})}}).catch(f=>{a[e].error=f})),s.error)throw s.error;if(s.result===void 0)throw s;let{done:o,value:u}=s.result,c=u?T.createElement("script",{nonce:i,dangerouslySetInnerHTML:{__html:`window.__reactRouterContext.streamController.enqueue(${sP(JSON.stringify(u))});`}}):null;return o?T.createElement(T.Fragment,null,c,T.createElement("script",{nonce:i,dangerouslySetInnerHTML:{__html:"window.__reactRouterContext.streamController.close();"}})):T.createElement(T.Fragment,null,c,T.createElement(T.Suspense,null,T.createElement(l8,{context:t,identifier:e+1,reader:n,textDecoder:r,nonce:i})))}function u8(t,e,n,r,i){let a=bZ(t,s=>{let o=e.routes[s.route.id];wi(o,"Route not found in manifest");let u=n[s.route.id];return{hasLoader:o.hasLoader,hasClientLoader:o.hasClientLoader,hasShouldRevalidate:!!(u!=null&&u.shouldRevalidate)}},CZ,r,i);return async s=>s.runClientMiddleware(a)}function bZ(t,e,n,r,i,a=()=>!0){return async s=>{let{request:o,matches:u,fetcherKey:c}=s,f=t();if(o.method!=="GET")return xZ(s,n,i);let h=u.some(v=>{let{hasLoader:y,hasClientLoader:w}=e(v);return v.shouldCallHandler()&&y&&!w});return!r&&!h?wZ(s,e,n,i):c?AZ(s,n,i):SZ(s,f,e,n,r,i,a)}}async function xZ(t,e,n){let r=t.matches.find(s=>s.shouldCallHandler());wi(r,"No action match found");let i,a=await r.resolve(async s=>await s(async()=>{let{data:u,status:c}=await e(t,n,[r.route.id]);return i=c,y0(u,r.route.id)}));return In(a.result)||er(a.result)||kd(a.result)?{[r.route.id]:a}:{[r.route.id]:{type:a.type,result:JH(a.result,i)}}}async function wZ(t,e,n,r){let i=t.matches.filter(s=>s.shouldCallHandler()),a={};return await Promise.all(i.map(s=>s.resolve(async o=>{try{let{hasClientLoader:u}=e(s),c=s.route.id,f=u?await o(async()=>{let{data:h}=await n(t,r,[c]);return y0(h,c)}):await o();a[s.route.id]={type:"data",result:f}}catch(u){a[s.route.id]={type:"error",result:u}}}))),a}async function SZ(t,e,n,r,i,a,s=()=>!0){let o=new Set,u=!1,c=t.matches.map(()=>i4()),f=i4(),h={},v=Promise.all(t.matches.map(async(w,A)=>w.resolve(async E=>{c[A].resolve();let C=w.route.id,{hasLoader:k,hasClientLoader:R,hasShouldRevalidate:D}=n(w),I=!w.shouldRevalidateArgs||w.shouldRevalidateArgs.actionStatus==null||w.shouldRevalidateArgs.actionStatus<400;if(!w.shouldCallHandler(I)){u||(u=w.shouldRevalidateArgs!=null&&k&&D===!0);return}if(s(w)&&R){k&&(u=!0);try{let M=await E(async()=>{let{data:B}=await r(t,a,[C]);return y0(B,C)});h[C]={type:"data",result:M}}catch(M){h[C]={type:"error",result:M}}return}k&&o.add(C);try{let M=await E(async()=>{let B=await f.promise;return y0(B,C)});h[C]={type:"data",result:M}}catch(M){h[C]={type:"error",result:M}}})));if(await Promise.all(c.map(w=>w.promise)),(!e.state.initialized&&e.state.navigation.state==="idle"||o.size===0)&&!window.__reactRouterHdrActive)f.resolve({routes:{}});else{let w=i&&u&&o.size>0?[...o.keys()]:void 0;try{let A=await r(t,a,w);f.resolve(A.data)}catch(A){f.reject(A)}}return await v,await EZ(f.promise,t.matches,o,h),h}async function EZ(t,e,n,r){var i;try{let a,s=await t;if("routes"in s){for(let o of e)if(o.route.id in s.routes){let u=s.routes[o.route.id];if("error"in u){a=u.error,((i=r[o.route.id])==null?void 0:i.result)==null&&(r[o.route.id]={type:"error",result:a});break}}}a!==void 0&&Array.from(n.values()).forEach(o=>{r[o].result instanceof s8&&(r[o].result=a)})}catch{}}async function AZ(t,e,n){let r=t.matches.find(s=>s.shouldCallHandler());wi(r,"No fetcher match found");let i=r.route.id,a=await r.resolve(async s=>s(async()=>{let{data:o}=await e(t,n,[i]);return y0(o,i)}));return{[r.route.id]:a}}function _Z(t){let e=t.searchParams.getAll("index");t.searchParams.delete("index");let n=[];for(let r of e)r&&n.push(r);for(let r of n)t.searchParams.append("index",r);return t}function c8(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Sr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function CZ(t,e,n){let{request:r}=t,i=c8(r.url,e,"data");r.method==="GET"&&(i=_Z(i),n&&i.searchParams.set("_routes",n.join(",")));let a=await fetch(i,await gZ(r));if(a.status>=400&&!a.headers.has("X-Remix-Response"))throw new Hi(a.status,a.statusText,await a.text());if(a.status===204&&a.headers.has("X-Remix-Redirect"))return{status:oP,data:{redirect:{redirect:a.headers.get("X-Remix-Redirect"),status:Number(a.headers.get("X-Remix-Status")||"302"),revalidate:a.headers.get("X-Remix-Revalidate")==="true",reload:a.headers.get("X-Remix-Reload-Document")==="true",replace:a.headers.get("X-Remix-Replace")==="true"}}};if(o8.has(a.status)){let s={};return n&&r.method!=="GET"&&(s[n[0]]={data:void 0}),{status:a.status,data:{routes:s}}}wi(a.body,"No response body to decode");try{let s=await IA(a.body,window),o;if(r.method==="GET"){let u=s.value;Ru in u?o={redirect:u[Ru]}:o={routes:u}}else{let u=s.value,c=n==null?void 0:n[0];wi(c,"No routeId found for single fetch call decoding"),"redirect"in u?o={redirect:u}:o={routes:{[c]:u}}}return{status:a.status,data:o}}catch{throw new Error("Unable to decode turbo-stream response")}}function IA(t,e){return fZ(t,{plugins:[(n,...r)=>{if(n==="SanitizedError"){let[i,a,s]=r,o=Error;i&&i in e&&typeof e[i]=="function"&&(o=e[i]);let u=new o(a);return u.stack=s,{value:u}}if(n==="ErrorResponse"){let[i,a,s]=r;return{value:new Hi(a,s,i)}}if(n==="SingleFetchRedirect")return{value:{[Ru]:r[0]}};if(n==="SingleFetchClassInstance")return{value:r[0]};if(n==="SingleFetchFallback")return{value:void 0}}]})}function y0(t,e){if("redirect"in t){let{redirect:r,revalidate:i,reload:a,replace:s,status:o}=t.redirect;throw _x(r,{status:o,headers:{...i?{"X-Remix-Revalidate":"yes"}:null,...a?{"X-Remix-Reload-Document":"yes"}:null,...s?{"X-Remix-Replace":"yes"}:null}})}let n=t.routes[e];if(n==null)throw new s8(`No result found for routeId "${e}"`);if("error"in n)throw n.error;if("data"in n)return n.data;throw new Error(`Invalid response found for routeId "${e}"`)}function i4(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}async function d8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TZ(t,e,n){let r=t.map(a=>{var u;let s=e[a.route.id],o=n.routes[a.route.id];return[o&&o.css?o.css.map(c=>({rel:"stylesheet",href:c})):[],((u=s==null?void 0:s.links)==null?void 0:u.call(s))||[]]}).flat(2),i=uP(t,n);return m8(r,i)}function f8(t){return t.css?t.css.map(e=>({rel:"stylesheet",href:e})):[]}async function NZ(t){if(!t.css)return;let e=f8(t);await Promise.all(e.map(p8))}async function h8(t,e){if(!t.css&&!e.links||!DZ())return;let n=[];if(t.css&&n.push(...f8(t)),e.links&&n.push(...e.links()),n.length===0)return;let r=[];for(let i of n)!lP(i)&&i.rel==="stylesheet"&&r.push({...i,rel:"preload",as:"style"});await Promise.all(r.map(p8))}async function p8(t){return new Promise(e=>{if(t.media&&!window.matchMedia(t.media).matches||document.querySelector(`link[rel="stylesheet"][href="${t.href}"]`))return e();let n=document.createElement("link");Object.assign(n,t);function r(){document.head.contains(n)&&document.head.removeChild(n)}n.onload=()=>{r(),e()},n.onerror=()=>{r(),e()},document.head.appendChild(n)})}function lP(t){return t!=null&&typeof t.page=="string"}function RZ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function kZ(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await d8(a,n);return s.links?s.links():[]}return[]}));return m8(r.flat(1).filter(RZ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function a4(t,e,n,r,i,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>s(u,c)||o(u,c)):a==="data"?e.filter((u,c)=>{var h;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uP(t,e,{includeHydrateFallback:n}={}){return MZ(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function MZ(t){return[...new Set(t)]}function PZ(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function m8(t,e){let n=new Set,r=new Set(e);return t.reduce((i,a)=>{if(e&&!lP(a)&&a.as==="script"&&a.href&&r.has(a.href))return i;let o=JSON.stringify(PZ(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}var ES;function DZ(){if(ES!==void 0)return ES;let t=document.createElement("link");return ES=t.relList.supports("preload"),t=null,ES}function IZ(){return T.createElement(dR,{title:"Loading...",renderScripts:!0},T.createElement("script",{dangerouslySetInnerHTML:{__html:`
              console.log(
                " Hey developer . You can provide a way better UX than this " +
                "when your app is loading JS modules and/or running \`clientLoader\` " +
                "functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback " +
                "for more information."
              );
            `}}))}function cP(t){let e={};return Object.values(t).forEach(n=>{if(n){let r=n.parentId||"";e[r]||(e[r]=[]),e[r].push(n)}}),e}function g8(t,e,n){let r=b8(e),i=e.HydrateFallback&&(!n||t.id==="root")?e.HydrateFallback:t.id==="root"?IZ:void 0,a=e.ErrorBoundary?e.ErrorBoundary:t.id==="root"?()=>T.createElement(_8,{error:Rx()}):void 0;return t.id==="root"&&e.Layout?{...r?{element:T.createElement(e.Layout,null,T.createElement(r,null))}:{Component:r},...a?{errorElement:T.createElement(e.Layout,null,T.createElement(a,null))}:{ErrorBoundary:a},...i?{hydrateFallbackElement:T.createElement(e.Layout,null,T.createElement(i,null))}:{HydrateFallback:i}}:{Component:r,ErrorBoundary:a,HydrateFallback:i}}function v8(t,e,n,r,i="",a=cP(t),s=Promise.resolve({Component:()=>null})){return(a[i]||[]).map(o=>{let u=e[o.id];wi(u,"No `routeModule` available to create server routes");let c={...g8(o,u,r),caseSensitive:o.caseSensitive,id:o.id,index:o.index,path:o.path,handle:u.handle,lazy:r?()=>s:void 0,loader:o.hasLoader||o.hasClientLoader?()=>null:void 0},f=v8(t,e,n,r,o.id,a,s);return f.length>0&&(c.children=f),c})}function y8(t,e,n,r,i,a){return Mx(e,n,r,i,a,"",cP(e),t)}function AS(t,e){if(t==="loader"&&!e.hasLoader||t==="action"&&!e.hasAction){let r=`You are trying to call ${t==="action"?"serverAction()":"serverLoader()"} on a route that does not have a server ${t} (routeId: "${e.id}")`;throw console.error(r),new Hi(400,"Bad Request",new Error(r),!0)}}function aN(t,e){let n=t==="clientAction"?"a":"an",r=`Route "${e}" does not have ${n} ${t}, but you are trying to submit to it. To fix this, please add ${n} \`${t}\` function to the route`;throw console.error(r),new Hi(405,"Method Not Allowed",new Error(r),!0)}function Mx(t,e,n,r,i,a="",s=cP(t),o){return(s[a]||[]).map(u=>{var k,R,D;let c=e[u.id];function f(I){return wi(typeof I=="function","No single fetch function available for route handler"),I()}function h(I){return u.hasLoader?f(I):Promise.resolve(null)}function v(I){if(!u.hasAction)throw aN("action",u.id);return f(I)}function y(I){import(I)}function w(I){I.clientActionModule&&y(I.clientActionModule),I.clientLoaderModule&&y(I.clientLoaderModule)}async function A(I){let P=e[u.id],M=P?h8(u,P):Promise.resolve();try{return I()}finally{await M}}let E={id:u.id,index:u.index,path:u.path};if(c){Object.assign(E,{...E,...g8(u,c,i),middleware:c.clientMiddleware,handle:c.handle,shouldRevalidate:s4(E.path,c,u,r,o)});let I=n&&n.loaderData&&u.id in n.loaderData,P=I?(k=n==null?void 0:n.loaderData)==null?void 0:k[u.id]:void 0,M=n&&n.errors&&u.id in n.errors,B=M?(R=n==null?void 0:n.errors)==null?void 0:R[u.id]:void 0,z=o==null&&(((D=c.clientLoader)==null?void 0:D.hydrate)===!0||!u.hasLoader);E.loader=async({request:K,params:G,context:Y,unstable_pattern:te},W)=>{try{return await A(async()=>(wi(c,"No `routeModule` available for critical-route loader"),c.clientLoader?c.clientLoader({request:K,params:G,context:Y,unstable_pattern:te,async serverLoader(){if(AS("loader",u),z){if(I)return P;if(M)throw B}return h(W)}}):h(W)))}finally{z=!1}},E.loader.hydrate=Px(u.id,c.clientLoader,u.hasLoader,i),E.action=({request:K,params:G,context:Y,unstable_pattern:te},W)=>A(async()=>{if(wi(c,"No `routeModule` available for critical-route action"),!c.clientAction){if(i)throw aN("clientAction",u.id);return v(W)}return c.clientAction({request:K,params:G,context:Y,unstable_pattern:te,async serverAction(){return AS("action",u),v(W)}})})}else{u.hasClientLoader||(E.loader=(M,B)=>A(()=>h(B))),u.hasClientAction||(E.action=(M,B)=>A(()=>{if(i)throw aN("clientAction",u.id);return v(B)}));let I;async function P(){return I?await I:(I=(async()=>{(u.clientLoaderModule||u.clientActionModule)&&await new Promise(B=>setTimeout(B,0));let M=OZ(u,e);return w(u),await M})(),await I)}E.lazy={loader:u.hasClientLoader?async()=>{let{clientLoader:M}=u.clientLoaderModule?await import(u.clientLoaderModule):await P();return wi(M,"No `clientLoader` export found"),(B,z)=>M({...B,async serverLoader(){return AS("loader",u),h(z)}})}:void 0,action:u.hasClientAction?async()=>{let M=u.clientActionModule?import(u.clientActionModule):P();w(u);let{clientAction:B}=await M;return wi(B,"No `clientAction` export found"),(z,K)=>B({...z,async serverAction(){return AS("action",u),v(K)}})}:void 0,middleware:u.hasClientMiddleware?async()=>{let{clientMiddleware:M}=u.clientMiddlewareModule?await import(u.clientMiddlewareModule):await P();return wi(M,"No `clientMiddleware` export found"),M}:void 0,shouldRevalidate:async()=>{let M=await P();return s4(E.path,M,u,r,o)},handle:async()=>(await P()).handle,Component:async()=>(await P()).Component,ErrorBoundary:u.hasErrorBoundary?async()=>(await P()).ErrorBoundary:void 0}}let C=Mx(t,e,n,r,i,u.id,s,o);return C.length>0&&(E.children=C),E})}function s4(t,e,n,r,i){if(i)return LZ(n.id,e.shouldRevalidate,i);if(!r&&n.hasLoader&&!n.hasClientLoader){let a=t?WH(t)[1].map(o=>o.paramName):[];const s=o=>a.some(u=>o.currentParams[u]!==o.nextParams[u]);if(e.shouldRevalidate){let o=e.shouldRevalidate;return u=>o({...u,defaultShouldRevalidate:s(u)})}else return o=>s(o)}return e.shouldRevalidate}function LZ(t,e,n){let r=!1;return i=>r?e?e(i):i.defaultShouldRevalidate:(r=!0,n.has(t))}async function OZ(t,e){let n=d8(t,e),r=NZ(t),i=await n;return await Promise.all([r,h8(t,i)]),{Component:b8(i),ErrorBoundary:i.ErrorBoundary,clientMiddleware:i.clientMiddleware,clientAction:i.clientAction,clientLoader:i.clientLoader,handle:i.handle,links:i.links,meta:i.meta,shouldRevalidate:i.shouldRevalidate}}function b8(t){if(t.default==null)return;if(!(typeof t.default=="object"&&Object.keys(t.default).length===0))return t.default}function Px(t,e,n,r){return r&&t!=="root"||e!=null&&(e.hydrate===!0||n!==!0)}var t1=new Set,jZ=1e3,W1=new Set,FZ=7680;function dP(t,e){return t.mode==="lazy"&&e===!0}function UZ({sri:t,...e},n){let r=new Set(n.state.matches.map(o=>o.route.id)),i=n.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach(o=>{let u=da(n.routes,o,n.basename);u&&u.forEach(c=>r.add(c.route.id))});let s=[...r].reduce((o,u)=>Object.assign(o,{[u]:e.routes[u]}),{});return{...e,routes:s,sri:t?!0:void 0}}function x8(t,e,n,r,i,a){if(dP(r,n))return async({path:s,patch:o,signal:u,fetcherKey:c})=>{W1.has(s)||await E8([s],c?window.location.href:s,t,e,n,i,a,r.manifestPath,o,u)}}function w8(t,e,n,r,i,a){T.useEffect(()=>{var f,h;if(!dP(i,r)||((h=(f=window.navigator)==null?void 0:f.connection)==null?void 0:h.saveData)===!0)return;function s(v){let y=v.tagName==="FORM"?v.getAttribute("action"):v.getAttribute("href");if(!y)return;let w=v.tagName==="A"?v.pathname:new URL(y,window.location.origin).pathname;W1.has(w)||t1.add(w)}async function o(){document.querySelectorAll("a[data-discover], form[data-discover]").forEach(s);let v=Array.from(t1.keys()).filter(y=>W1.has(y)?(t1.delete(y),!1):!0);if(v.length!==0)try{await E8(v,null,e,n,r,a,t.basename,i.manifestPath,t.patchRoutes)}catch(y){console.error("Failed to fetch manifest patches",y)}}let u=zZ(o,100);o();let c=new MutationObserver(()=>u());return c.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-discover","href","action"]}),()=>c.disconnect()},[r,a,e,n,t,i])}function S8(t,e){let n=t||"/__manifest";return e==null?n:`${e}${n}`.replace(/\/+/g,"/")}var sN="react-router-manifest-version";async function E8(t,e,n,r,i,a,s,o,u,c){const f=new URLSearchParams;f.set("paths",t.sort().join(",")),f.set("version",n.version);let h=new URL(S8(o,s),window.location.origin);if(h.search=f.toString(),h.toString().length>FZ){t1.clear();return}let v;try{let E=await fetch(h,{signal:c});if(E.ok){if(E.status===204&&E.headers.has("X-Remix-Reload-Document")){if(!e){console.warn("Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.");return}try{if(sessionStorage.getItem(sN)===n.version){console.error("Unable to discover routes due to manifest version mismatch.");return}sessionStorage.setItem(sN,n.version)}catch{}window.location.href=e,console.warn("Detected manifest version mismatch, reloading..."),await new Promise(()=>{})}else if(E.status>=400)throw new Error(await E.text())}else throw new Error(`${E.status} ${E.statusText}`);try{sessionStorage.removeItem(sN)}catch{}v=await E.json()}catch(E){if(c!=null&&c.aborted)return;throw E}let y=new Set(Object.keys(n.routes)),w=Object.values(v).reduce((E,C)=>(C&&!y.has(C.id)&&(E[C.id]=C),E),{});Object.assign(n.routes,w),t.forEach(E=>BZ(E,W1));let A=new Set;Object.values(w).forEach(E=>{E&&(!E.parentId||!w[E.parentId])&&A.add(E.parentId)}),A.forEach(E=>u(E||null,Mx(w,r,null,i,a,E)))}function BZ(t,e){if(e.size>=jZ){let n=e.values().next().value;e.delete(n)}e.add(t)}function zZ(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function fP(){let t=T.useContext(dl);return wi(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function LA(){let t=T.useContext(Hu);return wi(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qu=T.createContext(void 0);qu.displayName="FrameworkContext";function bv(){let t=T.useContext(qu);return wi(t,"You must render this element inside a <HydratedRouter> element"),t}function HZ(t,e){let n=T.useContext(qu),[r,i]=T.useState(!1),[a,s]=T.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=e,v=T.useRef(null);T.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let A=C=>{C.forEach(k=>{s(k.isIntersecting)})},E=new IntersectionObserver(A,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[t]),T.useEffect(()=>{if(r){let A=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(A)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:_y(o,y),onBlur:_y(u,w),onMouseEnter:_y(c,y),onMouseLeave:_y(f,w),onTouchStart:_y(h,y)}]:[!1,v,{}]}function _y(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function hP(t,e,n){if(n&&!Y1)return[t[0]];if(e){let r=t.findIndex(i=>e[i.route.id]!==void 0);return t.slice(0,r+1)}return t}var o4="data-react-router-critical-css";function GZ({nonce:t}){let{isSpaMode:e,manifest:n,routeModules:r,criticalCss:i}=bv(),{errors:a,matches:s}=LA(),o=hP(s,a,e),u=T.useMemo(()=>TZ(o,r,n),[o,r,n]);return T.createElement(T.Fragment,null,typeof i=="string"?T.createElement("style",{[o4]:"",dangerouslySetInnerHTML:{__html:i}}):null,typeof i=="object"?T.createElement("link",{[o4]:"",rel:"stylesheet",href:i.href,nonce:t}):null,u.map(({key:c,link:f})=>lP(f)?T.createElement(pP,{key:c,nonce:t,...f}):T.createElement("link",{key:c,nonce:t,...f})))}function pP({page:t,...e}){let{router:n}=fP(),r=T.useMemo(()=>da(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement($Z,{page:t,matches:r,...e}):null}function qZ(t){let{manifest:e,routeModules:n}=bv(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return kZ(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function $Z({page:t,matches:e,...n}){let r=Er(),{manifest:i,routeModules:a}=bv(),{basename:s}=fP(),{loaderData:o,matches:u}=LA(),c=T.useMemo(()=>a4(t,e,u,i,r,"data"),[t,e,u,i,r]),f=T.useMemo(()=>a4(t,e,u,i,r,"assets"),[t,e,u,i,r]),h=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,A=!1;if(e.forEach(C=>{var R;let k=i.routes[C.route.id];!k||!k.hasLoader||(!c.some(D=>D.route.id===C.route.id)&&C.route.id in o&&((R=a[C.route.id])!=null&&R.shouldRevalidate)||k.hasClientLoader?A=!0:w.add(C.route.id))}),w.size===0)return[];let E=c8(t,s,"data");return A&&w.size>0&&E.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[s,o,r,i,c,e,t,a]),v=T.useMemo(()=>uP(f,i),[f,i]),y=qZ(f);return T.createElement(T.Fragment,null,h.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:A})=>T.createElement("link",{key:w,nonce:n.nonce,...A})))}function VZ(){let{isSpaMode:t,routeModules:e}=bv(),{errors:n,matches:r,loaderData:i}=LA(),a=Er(),s=hP(r,n,t),o=null;n&&(o=n[s[s.length-1].route.id]);let u=[],c=null,f=[];for(let h=0;h<s.length;h++){let v=s[h],y=v.route.id,w=i[y],A=v.params,E=e[y],C=[],k={id:y,data:w,loaderData:w,meta:[],params:v.params,pathname:v.pathname,handle:v.route.handle,error:o};if(f[h]=k,E!=null&&E.meta?C=typeof E.meta=="function"?E.meta({data:w,loaderData:w,params:A,location:a,matches:f,error:o}):Array.isArray(E.meta)?[...E.meta]:E.meta:c&&(C=[...c]),C=C||[],!Array.isArray(C))throw new Error("The route at "+v.route.path+` returns an invalid value. All route meta functions must return an array of meta objects.

To reference the meta function API, see https://remix.run/route/meta`);k.meta=C,f[h]=k,u=[...C],c=u}return T.createElement(T.Fragment,null,u.flat().map(h=>{if(!h)return null;if("tagName"in h){let{tagName:v,...y}=h;if(!WZ(v))return console.warn(`A meta object uses an invalid tagName: ${v}. Expected either 'link' or 'meta'`),null;let w=v;return T.createElement(w,{key:JSON.stringify(y),...y})}if("title"in h)return T.createElement("title",{key:"title"},String(h.title));if("charset"in h&&(h.charSet??(h.charSet=h.charset),delete h.charset),"charSet"in h&&h.charSet!=null)return typeof h.charSet=="string"?T.createElement("meta",{key:"charSet",charSet:h.charSet}):null;if("script:ld+json"in h)try{let v=JSON.stringify(h["script:ld+json"]);return T.createElement("script",{key:`script:ld+json:${v}`,type:"application/ld+json",dangerouslySetInnerHTML:{__html:sP(v)}})}catch{return null}return T.createElement("meta",{key:JSON.stringify(h),...h})}))}function WZ(t){return typeof t=="string"&&/^(meta|link)$/.test(t)}var Y1=!1;function YZ(){Y1=!0}function A8(t){let{manifest:e,serverHandoffString:n,isSpaMode:r,renderMeta:i,routeDiscovery:a,ssr:s}=bv(),{router:o,static:u,staticContext:c}=fP(),{matches:f}=LA(),h=xQ(),v=dP(a,s);i&&(i.didRenderScripts=!0);let y=hP(f,null,r);T.useEffect(()=>{YZ()},[]);let w=T.useMemo(()=>{var D;if(h)return null;let k=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",R=u?`${(D=e.hmr)!=null&&D.runtime?`import ${JSON.stringify(e.hmr.runtime)};`:""}${v?"":`import ${JSON.stringify(e.url)}`};
${y.map((I,P)=>{let M=`route${P}`,B=e.routes[I.route.id];wi(B,`Route ${I.route.id} not found in manifest`);let{clientActionModule:z,clientLoaderModule:K,clientMiddlewareModule:G,hydrateFallbackModule:Y,module:te}=B,W=[...z?[{module:z,varName:`${M}_clientAction`}]:[],...K?[{module:K,varName:`${M}_clientLoader`}]:[],...G?[{module:G,varName:`${M}_clientMiddleware`}]:[],...Y?[{module:Y,varName:`${M}_HydrateFallback`}]:[],{module:te,varName:`${M}_main`}];if(W.length===1)return`import * as ${M} from ${JSON.stringify(te)};`;let $=W.map(q=>`import * as ${q.varName} from "${q.module}";`).join(`
`),U=`const ${M} = {${W.map(q=>`...${q.varName}`).join(",")}};`;return[$,U].join(`
`)}).join(`
`)}
  ${v?`window.__reactRouterManifest = ${JSON.stringify(UZ(e,o),null,2)};`:""}
  window.__reactRouterRouteModules = {${y.map((I,P)=>`${JSON.stringify(I.route.id)}:route${P}`).join(",")}};

import(${JSON.stringify(e.entry.module)});`:" ";return T.createElement(T.Fragment,null,T.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:k},type:void 0}),T.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:R},type:"module",async:!0}))},[]),A=Y1||h?[]:KZ(e.entry.imports.concat(uP(y,e,{includeHydrateFallback:!0}))),E=typeof e.sri=="object"?e.sri:{};return g0(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Y1||h?null:T.createElement(T.Fragment,null,typeof e.sri=="object"?T.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:E})}}):null,v?null:T.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin,integrity:E[e.url],suppressHydrationWarning:!0}),T.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin,integrity:E[e.entry.module],suppressHydrationWarning:!0}),A.map(C=>T.createElement("link",{key:C,rel:"modulepreload",href:C,crossOrigin:t.crossOrigin,integrity:E[C],suppressHydrationWarning:!0})),w)}function KZ(t){return[...new Set(t)]}function XZ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mP=class extends T.Component{constructor(t){super(t),this.state={error:t.error||null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:t.error||null,location:t.location}:{error:t.error||e.error,location:e.location}}render(){return this.state.error?T.createElement(_8,{error:this.state.error,isOutsideRemixApp:!0}):this.props.children}};function _8({error:t,isOutsideRemixApp:e}){console.error(t);let n=T.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          " Hey developer . You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."
        );
      `}});if(er(t))return T.createElement(dR,{title:"Unhandled Thrown Response!"},T.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),n);let r;if(t instanceof Error)r=t;else{let i=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(i)}return T.createElement(dR,{title:"Application Error!",isOutsideRemixApp:e},T.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),T.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),n)}function dR({title:t,renderScripts:e,isOutsideRemixApp:n,children:r}){var a;let{routeModules:i}=bv();return(a=i.root)!=null&&a.Layout&&!n?r:T.createElement("html",{lang:"en"},T.createElement("head",null,T.createElement("meta",{charSet:"utf-8"}),T.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),T.createElement("title",null,t)),T.createElement("body",null,T.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},r,e?T.createElement(A8,null):null)))}var C8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C8&&(window.__reactRouterVersion="7.10.1")}catch{}function JZ(t,e){return Cx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:EA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||T8(),routes:t,mapRouteProperties:rp,hydrationRouteProperties:kx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function QZ(t,e){return Cx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:zH({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||T8(),routes:t,mapRouteProperties:rp,hydrationRouteProperties:kx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function T8(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:ZZ(t.errors)}),t}function ZZ(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Hi(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}function N8({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=EA({window:r,v5Compat:!0}));let a=i.current,[s,o]=T.useState({action:a.action,location:a.location}),u=T.useCallback(c=>{n===!1?o(c):T.startTransition(()=>o(c))},[n]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(Hd,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}function eee({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=zH({window:r,v5Compat:!0}));let a=i.current,[s,o]=T.useState({action:a.action,location:a.location}),u=T.useCallback(c=>{n===!1?o(c):T.startTransition(()=>o(c))},[n]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(Hd,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}function R8({basename:t,children:e,history:n,unstable_useTransitions:r}){let[i,a]=T.useState({action:n.action,location:n.location}),s=T.useCallback(o=>{r===!1?a(o):T.startTransition(()=>a(o))},[r]);return T.useLayoutEffect(()=>n.listen(s),[n,s]),T.createElement(Hd,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r===!0})}R8.displayName="unstable_HistoryRouter";var k8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lr=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:u,to:c,preventScrollReset:f,viewTransition:h,...v},y){let{basename:w,unstable_useTransitions:A}=T.useContext(qi),E=typeof c=="string"&&k8.test(c),C,k=!1;if(typeof c=="string"&&E&&(C=c,C8))try{let K=new URL(window.location.href),G=c.startsWith("//")?new URL(K.protocol+c):new URL(c),Y=Sr(G.pathname,w);G.origin===K.origin&&Y!=null?c=Y+G.search+G.hash:k=!0}catch{nn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=C6(c,{relative:i}),[D,I,P]=HZ(r,v),M=I8(c,{replace:s,state:o,target:u,preventScrollReset:f,relative:i,viewTransition:h,unstable_useTransitions:A});function B(K){e&&e(K),K.defaultPrevented||M(K)}let z=T.createElement("a",{...v,...P,href:C||R,onClick:k||a?e:B,ref:XZ(y,I),target:u,"data-discover":!E&&n==="render"?"true":void 0});return D&&!E?T.createElement(T.Fragment,null,z,T.createElement(pP,{page:R})):z});lr.displayName="Link";var M8=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:u,...c},f){let h=vv(s,{relative:c.relative}),v=Er(),y=T.useContext(Hu),{navigator:w,basename:A}=T.useContext(qi),E=y!=null&&j8(h)&&o===!0,C=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,k=v.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(k=k.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&A&&(R=Sr(R,A)||R);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let I=k===C||!i&&k.startsWith(C)&&k.charAt(D)==="/",P=R!=null&&(R===C||!i&&R.startsWith(C)&&R.charAt(C.length)==="/"),M={isActive:I,isPending:P,isTransitioning:E},B=I?e:void 0,z;typeof r=="function"?z=r(M):z=[r,I?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(M):a;return T.createElement(lr,{...c,"aria-current":B,className:z,ref:f,style:K,to:s,viewTransition:o},typeof u=="function"?u(M):u)});M8.displayName="NavLink";var gP=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=ZS,action:o,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:h,...v},y)=>{let{unstable_useTransitions:w}=T.useContext(qi),A=yP(),E=L8(o,{relative:c}),C=s.toLowerCase()==="get"?"get":"post",k=typeof o=="string"&&k8.test(o),R=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let I=D.nativeEvent.submitter,P=(I==null?void 0:I.getAttribute("formmethod"))||s,M=()=>A(I||D.currentTarget,{fetcherKey:e,method:P,navigate:n,replace:i,state:a,relative:c,preventScrollReset:f,viewTransition:h});w&&n!==!1?T.startTransition(()=>M()):M()};return T.createElement("form",{ref:y,method:C,action:E,onSubmit:r?u:R,...v,"data-discover":!k&&t==="render"?"true":void 0})});gP.displayName="Form";function P8({getKey:t,storageKey:e,...n}){let r=T.useContext(qu),{basename:i}=T.useContext(qi),a=Er(),s=kA();O8({getKey:t,storageKey:e});let o=T.useMemo(()=>{if(!r||!t)return null;let c=hR(a,s,i,t);return c!==a.key?c:null},[]);if(!r||r.isSpaMode)return null;let u=((c,f)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let v=JSON.parse(sessionStorage.getItem(c)||"{}")[f||window.history.state.key];typeof v=="number"&&window.scrollTo(0,v)}catch(h){console.error(h),sessionStorage.removeItem(c)}}).toString();return T.createElement("script",{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${u})(${JSON.stringify(e||fR)}, ${JSON.stringify(o)})`}})}P8.displayName="ScrollRestoration";function D8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OA(t){let e=T.useContext(dl);return We(e,D8(t)),e}function vP(t){let e=T.useContext(Hu);return We(e,D8(t)),e}function I8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:o}={}){let u=gv(),c=Er(),f=vv(t,{relative:a});return T.useCallback(h=>{if(rZ(h,e)){h.preventDefault();let v=n!==void 0?n:oi(c)===oi(f),y=()=>u(t,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:s});o?T.startTransition(()=>y()):y()}},[c,u,f,n,r,e,t,i,a,s,o])}function tee(t){nn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(V1(t)),n=T.useRef(!1),r=Er(),i=T.useMemo(()=>iZ(r.search,n.current?null:e.current),[r.search]),a=gv(),s=T.useCallback((o,u)=>{const c=V1(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,a("?"+c,u)},[a,i]);return[i,s]}var nee=0,ree=()=>`__${String(++nee)}__`;function yP(){let{router:t}=OA("useSubmit"),{basename:e}=T.useContext(qi),n=MQ(),r=t.fetch,i=t.navigate;return T.useCallback(async(a,s={})=>{let{action:o,method:u,encType:c,formData:f,body:h}=oZ(a,e);if(s.navigate===!1){let v=s.fetcherKey||ree();await r(v,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function L8(t,{relative:e}={}){let{basename:n}=T.useContext(qi),r=T.useContext(ha);We(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...vv(t||".",{relative:e})},s=Er();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(h=>h).forEach(h=>o.append("index",h));let f=o.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:rl([n,a.pathname])),oi(a)}function iee({key:t}={}){var I;let{router:e}=OA("useFetcher"),n=vP("useFetcher"),r=T.useContext(Nx),i=T.useContext(ha),a=(I=i.matches[i.matches.length-1])==null?void 0:I.route.id;We(r,"useFetcher must be used inside a FetchersContext"),We(i,"useFetcher must be used inside a RouteContext"),We(a!=null,'useFetcher can only be used on routes that contain a unique "id"');let s=T.useId(),[o,u]=T.useState(t||s);t&&t!==o&&u(t);let{deleteFetcher:c,getFetcher:f,resetFetcher:h,fetch:v}=e;T.useEffect(()=>(f(o),()=>c(o)),[c,f,o]);let y=T.useCallback(async(P,M)=>{We(a,"No routeId available for fetcher.load()"),await v(o,a,P,M)},[o,a,v]),w=yP(),A=T.useCallback(async(P,M)=>{await w(P,{...M,navigate:!1,fetcherKey:o})},[o,w]),E=T.useCallback(P=>h(o,P),[h,o]),C=T.useMemo(()=>{let P=T.forwardRef((M,B)=>T.createElement(gP,{...M,navigate:!1,fetcherKey:o,ref:B}));return P.displayName="fetcher.Form",P},[o]),k=n.fetchers.get(o)||TA,R=r.get(o);return T.useMemo(()=>({Form:C,submit:A,load:y,reset:E,...k,data:R}),[C,A,y,E,k,R])}function aee(){let t=vP("useFetchers");return Array.from(t.fetchers.entries()).map(([e,n])=>({...n,key:e}))}var fR="react-router-scroll-positions",_S={};function hR(t,e,n,r){let i=null;return r&&(n!=="/"?i=r({...t,pathname:Sr(t.pathname,n)||t.pathname},e):i=r(t,e)),i==null&&(i=t.key),i}function O8({getKey:t,storageKey:e}={}){let{router:n}=OA("useScrollRestoration"),{restoreScrollPosition:r,preventScrollReset:i}=vP("useScrollRestoration"),{basename:a}=T.useContext(qi),s=Er(),o=kA(),u=D6();T.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),oee(T.useCallback(()=>{if(u.state==="idle"){let c=hR(s,o,a,t);_S[c]=window.scrollY}try{sessionStorage.setItem(e||fR,JSON.stringify(_S))}catch(c){nn(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${c}).`)}window.history.scrollRestoration="auto"},[u.state,t,a,s,o,e])),typeof document<"u"&&(T.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(e||fR);c&&(_S=JSON.parse(c))}catch{}},[e]),T.useLayoutEffect(()=>{let c=n==null?void 0:n.enableScrollRestoration(_S,()=>window.scrollY,t?(f,h)=>hR(f,h,a,t):void 0);return()=>c&&c()},[n,a,t]),T.useLayoutEffect(()=>{if(r!==!1){if(typeof r=="number"){window.scrollTo(0,r);return}try{if(s.hash){let c=document.getElementById(decodeURIComponent(s.hash.slice(1)));if(c){c.scrollIntoView();return}}}catch{nn(!1,`"${s.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[s,r,i]))}function see(t,e){let{capture:n}=e||{};T.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",t,r),()=>{window.removeEventListener("beforeunload",t,r)}},[t,n])}function oee(t,e){let{capture:n}={};T.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function lee({when:t,message:e}){let n=L6(t);T.useEffect(()=>{n.state==="blocked"&&(window.confirm(e)?setTimeout(n.proceed,0):n.reset())},[n,e]),T.useEffect(()=>{n.state==="blocked"&&!t&&n.reset()},[n,t])}function j8(t,{relative:e}={}){let n=T.useContext(Tx);We(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OA("useViewTransitionState"),i=vv(t,{relative:e});if(!n.isTransitioning)return!1;let a=Sr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Sr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rv(i.pathname,s)!=null||rv(i.pathname,a)!=null}function uee({basename:t,children:e,location:n="/"}){typeof n=="string"&&(n=es(n));let r="POP",i={pathname:n.pathname||"/",search:n.search||"",hash:n.hash||"",state:n.state!=null?n.state:null,key:n.key||"default"},a=F8();return T.createElement(Hd,{basename:t,children:e,location:i,navigationType:r,navigator:a,static:!0,unstable_useTransitions:!1})}function bP({context:t,router:e,hydrate:n=!0,nonce:r}){We(e&&t,"You must provide `router` and `context` to <StaticRouterProvider>");let i={router:e,navigator:F8(),static:!0,staticContext:t,basename:t.basename||"/"},a=new Map,s="";if(n!==!1){let u={loaderData:t.loaderData,actionData:t.actionData,errors:dee(t.errors)};s=`window.__staticRouterHydrationData = JSON.parse(${gee(JSON.stringify(JSON.stringify(u)))});`}let{state:o}=i.router;return T.createElement(T.Fragment,null,T.createElement(dl.Provider,{value:i},T.createElement(Hu.Provider,{value:o},T.createElement(Nx.Provider,{value:a},T.createElement(Tx.Provider,{value:{isTransitioning:!1}},T.createElement(Hd,{basename:i.basename,location:o.location,navigationType:o.historyAction,navigator:i.navigator,static:i.static,unstable_useTransitions:!1},T.createElement(cee,{routes:e.routes,future:e.future,state:o})))))),s?T.createElement("script",{suppressHydrationWarning:!0,nonce:r,dangerouslySetInnerHTML:{__html:s}}):null)}function cee({routes:t,future:e,state:n}){return tP(t,void 0,n,void 0,e)}function dee(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)er(i)?n[r]={...i,__type:"RouteErrorResponse"}:i instanceof Error?n[r]={message:i.message,__type:"Error",...i.name!=="Error"?{__subType:i.name}:{}}:n[r]=i;return n}function F8(){return{createHref:U8,encodeLocation:B8,push(t){throw new Error(`You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(t)})\` somewhere in your app.`)},replace(t){throw new Error(`You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(t)}, { replace: true })\` somewhere in your app.`)},go(t){throw new Error(`You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${t})\` somewhere in your app.`)},back(){throw new Error("You cannot use navigator.back() on the server because it is a stateless environment.")},forward(){throw new Error("You cannot use navigator.forward() on the server because it is a stateless environment.")}}}function fee(t,e){return u6(t,{...e,mapRouteProperties:rp})}function xP(t,e,n={}){let r={},i=Pd(t,rp,void 0,r),a=e.matches.map(o=>{let u=r[o.route.id]||o.route;return{...o,route:u}}),s=o=>`You cannot use router.${o}() on the server because it is a stateless environment`;return{get basename(){return e.basename},get future(){return{v8_middleware:!1,...n==null?void 0:n.future}},get state(){return{historyAction:"POP",location:e.location,matches:a,loaderData:e.loaderData,actionData:e.actionData,errors:e.errors,initialized:!0,navigation:d0,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",fetchers:new Map,blockers:new Map}},get routes(){return i},get window(){},initialize(){throw s("initialize")},subscribe(){throw s("subscribe")},enableScrollRestoration(){throw s("enableScrollRestoration")},navigate(){throw s("navigate")},fetch(){throw s("fetch")},revalidate(){throw s("revalidate")},createHref:U8,encodeLocation:B8,getFetcher(){return TA},deleteFetcher(){throw s("deleteFetcher")},resetFetcher(){throw s("resetFetcher")},dispose(){throw s("dispose")},getBlocker(){return kc},deleteBlocker(){throw s("deleteBlocker")},patchRoutes(){throw s("patchRoutes")},_internalFetchControllers:new Map,_internalSetRoutes(){throw s("_internalSetRoutes")},_internalSetStateDoNotUseOrYouWillBreakYourApp(){throw s("_internalSetStateDoNotUseOrYouWillBreakYourApp")}}}function U8(t){return typeof t=="string"?t:oi(t)}function B8(t){let e=typeof t=="string"?t:oi(t);e=e.replace(/ $/,"%20");let n=hee.test(e)?new URL(e):new URL(e,"http://localhost");return{pathname:n.pathname,search:n.search,hash:n.hash}}var hee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pee={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},mee=/[&><\u2028\u2029]/g;function gee(t){return t.replace(mee,e=>pee[e])}var Ws={},l4;function vee(){if(l4)return Ws;l4=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.parseCookie=o,Ws.parse=o,Ws.stringifyCookie=u,Ws.stringifySetCookie=c,Ws.serialize=c,Ws.parseSetCookie=f,Ws.stringifySetCookie=c,Ws.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=/^-?\d+$/,a=Object.prototype.toString,s=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function o(E,C){const k=new s,R=E.length;if(R<2)return k;const D=(C==null?void 0:C.decode)||w;let I=0;do{const P=v(E,I,R);if(P===-1)break;const M=h(E,I,R);if(P>M){I=E.lastIndexOf(";",P-1)+1;continue}const B=y(E,I,P);k[B]===void 0&&(k[B]=D(y(E,P+1,M))),I=M+1}while(I<R);return k}function u(E,C){const k=(C==null?void 0:C.encode)||encodeURIComponent,R=[];for(const D of Object.keys(E)){const I=E[D];if(I===void 0)continue;if(!t.test(D))throw new TypeError(`cookie name is invalid: ${D}`);const P=k(I);if(!e.test(P))throw new TypeError(`cookie val is invalid: ${I}`);R.push(`${D}=${P}`)}return R.join("; ")}function c(E,C,k){const R=typeof E=="object"?E:{...k,name:E,value:String(C)},D=typeof C=="object"?C:k,I=(D==null?void 0:D.encode)||encodeURIComponent;if(!t.test(R.name))throw new TypeError(`argument name is invalid: ${R.name}`);const P=R.value?I(R.value):"";if(!e.test(P))throw new TypeError(`argument val is invalid: ${R.value}`);let M=R.name+"="+P;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);M+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);M+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);M+="; Path="+R.path}if(R.expires){if(!A(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);M+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(M+="; HttpOnly"),R.secure&&(M+="; Secure"),R.partitioned&&(M+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return M}function f(E,C){const k=(C==null?void 0:C.decode)||w,R=E.length,D=h(E,0,R),I=v(E,0,D),P=I===-1?{name:"",value:k(y(E,0,D))}:{name:y(E,0,I),value:k(y(E,I+1,D))};let M=D+1;for(;M<R;){const B=h(E,M,R),z=v(E,M,B),K=z===-1?y(E,M,B):y(E,M,z),G=z===-1?void 0:y(E,z+1,B);switch(K.toLowerCase()){case"httponly":P.httpOnly=!0;break;case"secure":P.secure=!0;break;case"partitioned":P.partitioned=!0;break;case"domain":P.domain=G;break;case"path":P.path=G;break;case"max-age":G&&i.test(G)&&(P.maxAge=Number(G));break;case"expires":if(!G)break;const Y=new Date(G);Number.isFinite(Y.valueOf())&&(P.expires=Y);break;case"priority":if(!G)break;const te=G.toLowerCase();(te==="low"||te==="medium"||te==="high")&&(P.priority=te);break;case"samesite":if(!G)break;const W=G.toLowerCase();(W==="lax"||W==="strict"||W==="none")&&(P.sameSite=W);break}M=B+1}return P}function h(E,C,k){const R=E.indexOf(";",C);return R===-1?k:R}function v(E,C,k){const R=E.indexOf("=",C);return R<k?R:-1}function y(E,C,k){let R=C,D=k;do{const I=E.charCodeAt(R);if(I!==32&&I!==9)break}while(++R<D);for(;D>R;){const I=E.charCodeAt(D-1);if(I!==32&&I!==9)break;D--}return E.slice(R,D)}function w(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function A(E){return a.call(E)==="[object Date]"}return Ws}var u4=vee(),qp={exports:{}},c4;function yee(){if(c4)return qp.exports;c4=1;var t={decodeValues:!0,map:!1,silent:!1};function e(u){return typeof u!="string"||u in{}}function n(){return Object.create(null)}function r(u){return typeof u=="string"&&!!u.trim()}function i(u,c){var f=u.split(";").filter(r),h=f.shift(),v=a(h),y=v.name,w=v.value;if(c=c?Object.assign({},t,c):t,e(y))return null;try{w=c.decodeValues?decodeURIComponent(w):w}catch(E){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",E)}var A=n();return A.name=y,A.value=w,f.forEach(function(E){var C=E.split("="),k=C.shift().trimLeft().toLowerCase();if(!e(k)){var R=C.join("=");if(k==="expires")A.expires=new Date(R);else if(k==="max-age"){var D=parseInt(R,10);Number.isNaN(D)||(A.maxAge=D)}else k==="secure"?A.secure=!0:k==="httponly"?A.httpOnly=!0:k==="samesite"?A.sameSite=R:k==="partitioned"?A.partitioned=!0:k&&(A[k]=R)}}),A}function a(u){var c="",f="",h=u.split("=");return h.length>1?(c=h.shift(),f=h.join("=")):f=u,{name:c,value:f}}function s(u,c){if(c=c?Object.assign({},t,c):t,!u)return c.map?n():[];if(u.headers)if(typeof u.headers.getSetCookie=="function")u=u.headers.getSetCookie();else if(u.headers["set-cookie"])u=u.headers["set-cookie"];else{var f=u.headers[Object.keys(u.headers).find(function(v){return v.toLowerCase()==="set-cookie"})];!f&&u.headers.cookie&&!c.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),u=f}if(Array.isArray(u)||(u=[u]),c.map){var h=n();return u.filter(r).reduce(function(v,y){var w=i(y,c);return w&&!e(w.name)&&(v[w.name]=w),v},h)}else return u.filter(r).map(function(v){return i(v,c)}).filter(Boolean)}function o(u){if(Array.isArray(u))return u;if(typeof u!="string")return[];var c=[],f=0,h,v,y,w,A;function E(){for(;f<u.length&&/\s/.test(u.charAt(f));)f+=1;return f<u.length}function C(){return v=u.charAt(f),v!=="="&&v!==";"&&v!==","}for(;f<u.length;){for(h=f,A=!1;E();)if(v=u.charAt(f),v===","){for(y=f,f+=1,E(),w=f;f<u.length&&C();)f+=1;f<u.length&&u.charAt(f)==="="?(A=!0,f=w,c.push(u.substring(h,y)),h=f):f=y+1}else f+=1;(!A||f>=u.length)&&c.push(u.substring(h,u.length))}return c}return qp.exports=s,qp.exports.parse=s,qp.exports.parseString=i,qp.exports.splitCookiesString=o,qp.exports}var bee=yee(),oN={};function xee({context:t,url:e,nonce:n}){typeof e=="string"&&(e=new URL(e));let{manifest:r,routeModules:i,criticalCss:a,serverHandoffString:s}=t,o=v8(r.routes,i,t.future,t.isSpaMode);t.staticHandlerContext.loaderData={...t.staticHandlerContext.loaderData};for(let c of t.staticHandlerContext.matches){let f=c.route.id,h=i[f],v=t.manifest.routes[f];h&&v&&Px(f,h.clientLoader,v.hasLoader,t.isSpaMode)&&(h.HydrateFallback||!v.hasLoader)&&delete t.staticHandlerContext.loaderData[f]}let u=xP(o,t.staticHandlerContext);return T.createElement(T.Fragment,null,T.createElement(qu.Provider,{value:{manifest:r,routeModules:i,criticalCss:a,serverHandoffString:s,future:t.future,ssr:t.ssr,isSpaMode:t.isSpaMode,routeDiscovery:t.routeDiscovery,serializeError:t.serializeError,renderMeta:t.renderMeta}},T.createElement(mP,{location:u.state.location},T.createElement(bP,{router:u,context:t.staticHandlerContext,hydrate:!1}))),t.serverHandoffStream?T.createElement(T.Suspense,null,T.createElement(l8,{context:t,identifier:0,reader:t.serverHandoffStream.getReader(),textDecoder:new TextDecoder,nonce:n})):null)}function wee(t,e){return function({initialEntries:r,initialIndex:i,hydrationData:a,future:s}){let o=T.useRef(),u=T.useRef();if(o.current==null){u.current={future:{unstable_subResourceIntegrity:(s==null?void 0:s.unstable_subResourceIntegrity)===!0,v8_middleware:(s==null?void 0:s.v8_middleware)===!0},manifest:{routes:{},entry:{imports:[],module:""},url:"",version:""},routeModules:{},ssr:!1,isSpaMode:!1,routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"}};let c=z8(Pd(t,f=>f),e!==void 0?e:s!=null&&s.v8_middleware?new tl:{},u.current.manifest,u.current.routeModules);o.current=j6(c,{initialEntries:r,initialIndex:i,hydrationData:a})}return T.createElement(qu.Provider,{value:u.current},T.createElement(F6,{router:o.current}))}}function z8(t,e,n,r,i){return t.map(a=>{if(!a.id)throw new Error("Expected a route.id in react-router processRoutes() function");let s={id:a.id,path:a.path,index:a.index,Component:a.Component?H6(a.Component):void 0,HydrateFallback:a.HydrateFallback?q6(a.HydrateFallback):void 0,ErrorBoundary:a.ErrorBoundary?V6(a.ErrorBoundary):void 0,action:a.action?u=>a.action({...u,context:e}):void 0,loader:a.loader?u=>a.loader({...u,context:e}):void 0,middleware:a.middleware?a.middleware.map(u=>(...c)=>u({...c[0],context:e},c[1])):void 0,handle:a.handle,shouldRevalidate:a.shouldRevalidate},o={id:a.id,path:a.path,index:a.index,parentId:i,hasAction:a.action!=null,hasLoader:a.loader!=null,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:a.ErrorBoundary!=null,module:"build/stub-path-to-module.js",clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0};return n.routes[s.id]=o,r[a.id]={default:s.Component||B6,ErrorBoundary:s.ErrorBoundary||void 0,handle:a.handle,links:a.links,meta:a.meta,shouldRevalidate:a.shouldRevalidate},a.children&&(s.children=z8(a.children,e,n,r,s.id)),s})}var wP=new TextEncoder,See=async(t,e)=>{let n=wP.encode(t),r=await H8(e,["sign"]),i=await crypto.subtle.sign("HMAC",r,n),a=btoa(String.fromCharCode(...new Uint8Array(i))).replace(/=+$/,"");return t+"."+a},Eee=async(t,e)=>{let n=t.lastIndexOf("."),r=t.slice(0,n),i=t.slice(n+1),a=wP.encode(r),s=await H8(e,["verify"]);try{let o=Aee(atob(i));return await crypto.subtle.verify("HMAC",s,o,a)?r:!1}catch{return!1}},H8=async(t,e)=>crypto.subtle.importKey("raw",wP.encode(t),{name:"HMAC",hash:"SHA-256"},!1,e);function Aee(t){let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var SP=(t,e={})=>{let{secrets:n=[],...r}={path:"/",sameSite:"lax",...e};return kee(t,r.expires),{get name(){return t},get isSigned(){return n.length>0},get expires(){return typeof r.maxAge<"u"?new Date(Date.now()+r.maxAge*1e3):r.expires},async parse(i,a){if(!i)return null;let s=u4.parse(i,{...r,...a});if(t in s){let o=s[t];return typeof o=="string"&&o!==""?await Cee(o,n):""}else return null},async serialize(i,a){return u4.serialize(t,i===""?"":await _ee(i,n),{...r,...a})}}},EP=t=>t!=null&&typeof t.name=="string"&&typeof t.isSigned=="boolean"&&typeof t.parse=="function"&&typeof t.serialize=="function";async function _ee(t,e){let n=Tee(t);return e.length>0&&(n=await See(n,e[0])),n}async function Cee(t,e){if(e.length>0){for(let n of e){let r=await Eee(t,n);if(r!==!1)return d4(r)}return null}return d4(t)}function Tee(t){return btoa(Ree(encodeURIComponent(JSON.stringify(t))))}function d4(t){try{return JSON.parse(decodeURIComponent(Nee(atob(t))))}catch{return{}}}function Nee(t){let e=t.toString(),n="",r=0,i,a;for(;r<e.length;)i=e.charAt(r++),/[\w*+\-./@]/.exec(i)?n+=i:(a=i.charCodeAt(0),a<256?n+="%"+f4(a,2):n+="%u"+f4(a,4).toUpperCase());return n}function f4(t,e){let n=t.toString(16);for(;n.length<e;)n="0"+n;return n}function Ree(t){let e=t.toString(),n="",r=0,i,a;for(;r<e.length;){if(i=e.charAt(r++),i==="%"){if(e.charAt(r)==="u"){if(a=e.slice(r+1,r+5),/^[\da-f]{4}$/i.exec(a)){n+=String.fromCharCode(parseInt(a,16)),r+=5;continue}}else if(a=e.slice(r,r+2),/^[\da-f]{2}$/i.exec(a)){n+=String.fromCharCode(parseInt(a,16)),r+=2;continue}}n+=i}return n}function kee(t,e){g0(!e,`The "${t}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}function Mee(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return r&&(e[n]=r.module),e},{})}var G8=(t=>(t.Development="development",t.Production="production",t.Test="test",t))(G8||{});function Pee(t){return t==="development"||t==="production"||t==="test"}function jA(t,e){if(t instanceof Error&&e!=="development"){let n=new Error("Unexpected Server Error");return n.stack=void 0,n}return t}function K1(t,e){return Object.entries(t).reduce((n,[r,i])=>Object.assign(n,{[r]:jA(i,e)}),{})}function q8(t,e){let n=jA(t,e);return{message:n.message,stack:n.stack}}function h4(t,e){if(!t)return null;let n=Object.entries(t),r={};for(let[i,a]of n)if(er(a))r[i]={...a,__type:"RouteErrorResponse"};else if(a instanceof Error){let s=jA(a,e);r[i]={message:s.message,stack:s.stack,__type:"Error",...s.name!=="Error"?{__subType:s.name}:{}}}else r[i]=a;return r}function pR(t,e,n){let r=da(t,e,n);return r?r.map(i=>({params:i.params,pathname:i.pathname,route:i.route})):null}async function p4(t,e){let n=await t({request:Iee(Dee(e.request)),params:e.params,context:e.context,unstable_pattern:e.unstable_pattern});if(kd(n)&&n.init&&n.init.status&&NA(n.init.status))throw new Response(null,n.init);return n}function Dee(t){let e=new URL(t.url),n=e.searchParams.getAll("index");e.searchParams.delete("index");let r=[];for(let a of n)a&&r.push(a);for(let a of r)e.searchParams.append("index",a);let i={method:t.method,body:t.body,headers:t.headers,signal:t.signal};return i.body&&(i.duplex="half"),new Request(e.href,i)}function Iee(t){let e=new URL(t.url);e.searchParams.delete("_routes");let n={method:t.method,body:t.body,headers:t.headers,signal:t.signal};return n.body&&(n.duplex="half"),new Request(e.href,n)}function n1(t,e){if(t===!1||t===null||typeof t>"u")throw console.error("The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose"),new Error(e)}var $8="__reactRouterDevServerHooks";function Lee(t){globalThis[$8]=t}function lN(){return globalThis[$8]}function V8(t,e){if(typeof process<"u")try{if((oN==null?void 0:oN.IS_RR_BUILD_REQUEST)==="yes")return t.headers.get(e)}catch{}return null}function W8(t){let e={};return Object.values(t).forEach(n=>{if(n){let r=n.parentId||"";e[r]||(e[r]=[]),e[r].push(n)}}),e}function Y8(t,e="",n=W8(t)){return(n[e]||[]).map(r=>({...r,children:Y8(t,r.id,n)}))}function K8(t,e,n="",r=W8(t)){return(r[n]||[]).map(i=>{let a={hasErrorBoundary:i.id==="root"||i.module.ErrorBoundary!=null,id:i.id,path:i.path,middleware:i.module.middleware,loader:i.module.loader?async s=>{let o=V8(s.request,"X-React-Router-Prerender-Data");if(o!=null){let c=o&&decodeURI(o);n1(c,"Missing prerendered data for route");let f=new TextEncoder().encode(c),h=new ReadableStream({start(w){w.enqueue(f),w.close()}}),y=(await IA(h,global)).value;if(y&&Ru in y){let w=y[Ru],A={status:w.status};throw w.reload?QH(w.redirect,A):w.replace?ZH(w.redirect,A):_x(w.redirect,A)}else{n1(y&&i.id in y,"Unable to decode prerendered data");let w=y[i.id];return n1("data"in w,"Unable to process prerendered data"),w.data}}return await p4(i.module.loader,s)}:void 0,action:i.module.action?s=>p4(i.module.action,s):void 0,handle:i.module.handle};return i.index?{index:!0,...a}:{caseSensitive:i.caseSensitive,children:K8(t,e,i.id,r),...a}})}function m4(t){return sP(JSON.stringify(t))}function AP(t,e){return Oee(t,n=>{let r=e.routes[n.route.id];return n1(r,`Route with id "${n.route.id}" not found in build`),r.module.headers})}function Oee(t,e,n){let r=t.errors?t.matches.findIndex(o=>t.errors[o.route.id]):-1,i=r>=0?t.matches.slice(0,r+1):t.matches,a;if(r>=0){let{actionHeaders:o,actionData:u,loaderHeaders:c,loaderData:f}=t;t.matches.slice(r).some(h=>{let v=h.route.id;return o[v]&&(!u||!u.hasOwnProperty(v))?a=o[v]:c[v]&&!f.hasOwnProperty(v)&&(a=c[v]),a!=null})}const s=new Headers(n);return i.reduce((o,u,c)=>{let{id:f}=u.route,h=t.loaderHeaders[f]||new Headers,v=t.actionHeaders[f]||new Headers,y=a!=null&&c===i.length-1,w=y&&a!==h&&a!==v,A=e(u);if(A==null){let C=new Headers(o);return w&&gf(a,C),gf(v,C),gf(h,C),C}let E=new Headers(typeof A=="function"?A({loaderHeaders:h,parentHeaders:o,actionHeaders:v,errorHeaders:y?a:void 0}):A);return w&&gf(a,E),gf(v,E),gf(h,E),gf(o,E),E},new Headers(s))}function gf(t,e){let n=t.get("Set-Cookie");if(n){let r=bee.splitCookiesString(n),i=new Set(e.getSetCookie());r.forEach(a=>{i.has(a)||e.append("Set-Cookie",a)})}}var X8=new Set([...o8,304]);async function jee(t,e,n,r,i,a,s){try{let f=new Request(i,{method:r.method,body:r.body,headers:r.headers,signal:r.signal,...r.body?{duplex:"half"}:void 0}),h=await n.query(f,{requestContext:a,skipLoaderErrorBubbling:!0,skipRevalidation:!0,generateMiddlewareResponse:t.future.v8_middleware?async v=>{try{let y=await v(f);return o(y)}catch(y){return u(y)}}:void 0});return o(h)}catch(f){return u(f)}function o(f){return In(f)?f:c(f)}function u(f){return s(f),b0(r,t,e,{result:{error:f},headers:new Headers,status:500})}function c(f){let h=AP(f,t);if(NA(f.statusCode)&&h.has("Location"))return new Response(null,{status:f.statusCode,headers:h});f.errors&&(Object.values(f.errors).forEach(y=>{(!er(y)||y.error)&&s(y)}),f.errors=K1(f.errors,e));let v;return f.errors?v={error:Object.values(f.errors)[0]}:v={data:Object.values(f.actionData||{})[0]},b0(r,t,e,{result:v,headers:h,status:f.statusCode})}}async function Fee(t,e,n,r,i,a,s){let o=new URL(r.url).searchParams.get("_routes"),u=o?new Set(o.split(",")):null;try{let v=new Request(i,{headers:r.headers,signal:r.signal}),y=await n.query(v,{requestContext:a,filterMatchesToLoad:w=>!u||u.has(w.route.id),skipLoaderErrorBubbling:!0,generateMiddlewareResponse:t.future.v8_middleware?async w=>{try{let A=await w(v);return c(A)}catch(A){return f(A)}}:void 0});return c(y)}catch(v){return f(v)}function c(v){return In(v)?v:h(v)}function f(v){return s(v),b0(r,t,e,{result:{error:v},headers:new Headers,status:500})}function h(v){let y=AP(v,t);if(NA(v.statusCode)&&y.has("Location"))return new Response(null,{status:v.statusCode,headers:y});v.errors&&(Object.values(v.errors).forEach(E=>{(!er(E)||E.error)&&s(E)}),v.errors=K1(v.errors,e));let w={},A=new Set(v.matches.filter(E=>u?u.has(E.route.id):E.route.loader!=null).map(E=>E.route.id));if(v.errors)for(let[E,C]of Object.entries(v.errors))w[E]={error:C};for(let[E,C]of Object.entries(v.loaderData))!(E in w)&&A.has(E)&&(w[E]={data:C});return b0(r,t,e,{result:w,headers:y,status:v.statusCode})}}function b0(t,e,n,{result:r,headers:i,status:a}){let s=new Headers(i);return s.set("X-Remix-Response","yes"),X8.has(a)?new Response(null,{status:a,headers:s}):(s.set("Content-Type","text/x-script"),s.delete("Content-Length"),new Response(mR(r,t.signal,e.entry.module.streamTimeout,n),{status:a||200,headers:s}))}function g4(t,e,n,r){let i=Uee(t.status,t.headers,n.basename),a=new Headers(t.headers);return a.delete("Location"),a.set("Content-Type","text/x-script"),b0(e,n,r,{result:e.method==="GET"?{[Ru]:i}:i,headers:a,status:oP})}function Uee(t,e,n){let r=e.get("Location");return n&&(r=Sr(r,n)||r),{redirect:r,status:t,revalidate:e.has("X-Remix-Revalidate")||e.has("Set-Cookie"),reload:e.has("X-Remix-Reload-Document"),replace:e.has("X-Remix-Replace")}}function mR(t,e,n,r){let i=new AbortController,a=setTimeout(()=>i.abort(new Error("Server Timeout")),typeof n=="number"?n:4950);return e.addEventListener("abort",()=>clearTimeout(a)),mZ(t,{signal:i.signal,plugins:[s=>{if(s instanceof Error){let{name:o,message:u,stack:c}=r==="production"?jA(s,r):s;return["SanitizedError",o,u,c]}if(s instanceof Hi){let{data:o,status:u,statusText:c}=s;return["ErrorResponse",o,u,c]}if(s&&typeof s=="object"&&Ru in s)return["SingleFetchRedirect",s[Ru]]}],postPlugins:[s=>{if(s&&typeof s=="object")return["SingleFetchClassInstance",Object.fromEntries(Object.entries(s))]},()=>["SingleFetchFallback"]]})}function v4(t,e){let n=Y8(t.routes),r=K8(t.routes,t.future),i=Pee(e)?e:"production",a=u6(r,{basename:t.basename,unstable_instrumentations:t.entry.module.unstable_instrumentations}),s=t.entry.module.handleError||((u,{request:c})=>{i!=="test"&&!c.signal.aborted&&console.error(er(u)&&u.error?u.error:u)}),o=async(u,c)=>{var D,I,P;let f={},h,v=M=>{var B,z;e==="development"&&((z=(B=lN())==null?void 0:B.processRequestError)==null||z.call(B,M)),s(M,{context:h,params:f,request:u})};if(t.future.v8_middleware){if(c&&!(c instanceof tl)){let M=new Error("Invalid `context` value provided to `handleRequest`. When middleware is enabled you must return an instance of `RouterContextProvider` from your `getLoadContext` function.");return v(M),X1(M,i)}h=c||new tl}else h=c||{};let y=new URL(u.url),w=t.basename||"/",A=y.pathname;Sr(A,w)==="/_root.data"?A=w:A.endsWith(".data")&&(A=A.replace(/\.data$/,"")),Sr(A,w)!=="/"&&A.endsWith("/")&&(A=A.slice(0,-1));let E=V8(u,"X-React-Router-SPA-Mode")==="yes";if(!t.ssr){let M=decodeURI(A);if(w!=="/"){let B=Sr(M,w);if(B==null)return s(new Hi(404,"Not Found",`Refusing to prerender the \`${M}\` path because it does not start with the basename \`${w}\``),{context:h,params:f,request:u}),new Response("Not Found",{status:404,statusText:"Not Found"});M=B}if(t.prerender.length===0)E=!0;else if(!t.prerender.includes(M)&&!t.prerender.includes(M+"/")){if(y.pathname.endsWith(".data"))return s(new Hi(404,"Not Found",`Refusing to SSR the path \`${M}\` because \`ssr:false\` is set and the path is not included in the \`prerender\` config, so in production the path will be a 404.`),{context:h,params:f,request:u}),new Response("Not Found",{status:404,statusText:"Not Found"});E=!0}}let C=S8(t.routeDiscovery.manifestPath,w);if(y.pathname===C)try{return await zee(t,n,y)}catch(M){return v(M),new Response("Unknown Server Error",{status:500})}let k=pR(n,A,t.basename);k&&k.length>0&&Object.assign(f,k[0].params);let R;if(y.pathname.endsWith(".data")){let M=new URL(u.url);M.pathname=A;let B=pR(n,M.pathname,t.basename);R=await Hee(i,t,a,u,M,h,v),$1(R)&&(R=g4(R,u,t,i)),t.entry.module.handleDataRequest&&(R=await t.entry.module.handleDataRequest(R,{context:h,params:B?B[0].params:{},request:u}),$1(R)&&(R=g4(R,u,t,i)))}else if(!E&&k&&k[k.length-1].route.module.default==null&&k[k.length-1].route.module.ErrorBoundary==null)R=await qee(i,t,a,k.slice(-1)[0].route.id,u,h,v);else{let{pathname:M}=y,B;t.unstable_getCriticalCss?B=await t.unstable_getCriticalCss({pathname:M}):e==="development"&&((D=lN())!=null&&D.getCriticalCss)&&(B=await((P=(I=lN())==null?void 0:I.getCriticalCss)==null?void 0:P.call(I,M))),R=await Gee(i,t,a,u,h,v,E,B)}return u.method==="HEAD"?new Response(null,{headers:R.headers,status:R.status,statusText:R.statusText}):R};return t.entry.module.unstable_instrumentations&&(o=eQ(o,t.entry.module.unstable_instrumentations.map(u=>u.handler).filter(Boolean))),{routes:n,dataRoutes:r,serverMode:i,staticHandler:a,errorHandler:s,requestHandler:o}}var Bee=(t,e)=>{let n,r,i,a,s,o;return async function(c,f){if(n=typeof t=="function"?await t():t,typeof t=="function"){let h=v4(n,e);r=h.routes,i=h.serverMode,a=h.staticHandler,s=h.errorHandler,o=h.requestHandler}else if(!r||!i||!a||!s||!o){let h=v4(n,e);r=h.routes,i=h.serverMode,a=h.staticHandler,s=h.errorHandler,o=h.requestHandler}return o(c,f)}};async function zee(t,e,n){if(t.assets.version!==n.searchParams.get("version"))return new Response(null,{status:204,headers:{"X-Remix-Reload-Document":"true"}});let r={};if(n.searchParams.has("paths")){let i=new Set;(n.searchParams.get("paths")||"").split(",").filter(Boolean).forEach(o=>{o.startsWith("/")||(o=`/${o}`);let u=o.split("/").slice(1);u.forEach((c,f)=>{let h=u.slice(0,f+1).join("/");i.add(`/${h}`)})});for(let o of i){let u=pR(e,o,t.basename);if(u)for(let c of u){let f=c.route.id,h=t.assets.routes[f];h&&(r[f]=h)}}return Response.json(r,{headers:{"Cache-Control":"public, max-age=31536000, immutable"}})}return new Response("Invalid Request",{status:400})}async function Hee(t,e,n,r,i,a,s){return r.method!=="GET"?await jee(e,t,n,r,i,a,s):await Fee(e,t,n,r,i,a,s)}async function Gee(t,e,n,r,i,a,s,o){try{let c=await n.query(r,{requestContext:i,generateMiddlewareResponse:e.future.v8_middleware?async f=>{try{let h=await f(r);return In(h)||(h=await u(h,s)),h}catch(h){return a(h),new Response(null,{status:500})}}:void 0});return In(c)||(c=await u(c,s)),c}catch(c){return a(c),new Response(null,{status:500})}async function u(c,f){let h=AP(c,e);if(X8.has(c.statusCode))return new Response(null,{status:c.statusCode,headers:h});c.errors&&(Object.values(c.errors).forEach(E=>{(!er(E)||E.error)&&a(E)}),c.errors=K1(c.errors,t));let v={loaderData:c.loaderData,actionData:c.actionData,errors:h4(c.errors,t)},y={basename:e.basename,future:e.future,routeDiscovery:e.routeDiscovery,ssr:e.ssr,isSpaMode:f},w={manifest:e.assets,routeModules:Mee(e.routes),staticHandlerContext:c,criticalCss:o,serverHandoffString:m4({...y,criticalCss:o}),serverHandoffStream:mR(v,r.signal,e.entry.module.streamTimeout,t),renderMeta:{},future:e.future,ssr:e.ssr,routeDiscovery:e.routeDiscovery,isSpaMode:f,serializeError:E=>q8(E,t)},A=e.entry.module.default;try{return await A(r,c.statusCode,h,w,i)}catch(E){a(E);let C=E;if(In(E))try{let R=await Vee(E);C=new Hi(E.status,E.statusText,R)}catch{}c=c6(n.dataRoutes,c,C),c.errors&&(c.errors=K1(c.errors,t));let k={loaderData:c.loaderData,actionData:c.actionData,errors:h4(c.errors,t)};w={...w,staticHandlerContext:c,serverHandoffString:m4(y),serverHandoffStream:mR(k,r.signal,e.entry.module.streamTimeout,t),renderMeta:{}};try{return await A(r,c.statusCode,h,w,i)}catch(R){return a(R),X1(R,t)}}}}async function qee(t,e,n,r,i,a,s){try{let c=await n.queryRoute(i,{routeId:r,requestContext:a,generateMiddlewareResponse:e.future.v8_middleware?async f=>{try{let h=await f(i);return o(h)}catch(h){return u(h)}}:void 0});return o(c)}catch(c){return u(c)}function o(c){return In(c)?c:typeof c=="string"?new Response(c):Response.json(c)}function u(c){if(In(c))return c;if(er(c))return s(c),$ee(c,t);if(c instanceof Error&&c.message==="Expected a response from queryRoute"){let f=new Error("Expected a Response to be returned from resource route handler");return s(f),X1(f,t)}return s(c),X1(c,t)}}function $ee(t,e){return Response.json(q8(t.error||new Error("Unexpected Server Error"),e),{status:t.status,statusText:t.statusText})}function X1(t,e){let n="Unexpected Server Error";return e!=="production"&&(n+=`

${String(t)}`),new Response(n,{status:500,headers:{"Content-Type":"text/plain"}})}function Vee(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}function uN(t){return`__flash_${t}__`}var _P=(t={},e="")=>{let n=new Map(Object.entries(t));return{get id(){return e},get data(){return Object.fromEntries(n)},has(r){return n.has(r)||n.has(uN(r))},get(r){if(n.has(r))return n.get(r);let i=uN(r);if(n.has(i)){let a=n.get(i);return n.delete(i),a}},set(r,i){n.set(r,i)},flash(r,i){n.set(uN(r),i)},unset(r){n.delete(r)}}},Wee=t=>t!=null&&typeof t.id=="string"&&typeof t.data<"u"&&typeof t.has=="function"&&typeof t.get=="function"&&typeof t.set=="function"&&typeof t.flash=="function"&&typeof t.unset=="function";function J8({cookie:t,createData:e,readData:n,updateData:r,deleteData:i}){let a=EP(t)?t:SP((t==null?void 0:t.name)||"__session",t);return Q8(a),{async getSession(s,o){let u=s&&await a.parse(s,o),c=u&&await n(u);return _P(c||{},u||"")},async commitSession(s,o){let{id:u,data:c}=s,f=(o==null?void 0:o.maxAge)!=null?new Date(Date.now()+o.maxAge*1e3):(o==null?void 0:o.expires)!=null?o.expires:a.expires;return u?await r(u,c,f):u=await e(c,f),a.serialize(u,o)},async destroySession(s,o){return await i(s.id),a.serialize("",{...o,maxAge:void 0,expires:new Date(0)})}}}function Q8(t){g0(t.isSigned,`The "${t.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://reactrouter.com/explanation/sessions-and-cookies#signing-cookies for more information.`)}function Yee({cookie:t}={}){let e=EP(t)?t:SP((t==null?void 0:t.name)||"__session",t);return Q8(e),{async getSession(n,r){return _P(n&&await e.parse(n,r)||{})},async commitSession(n,r){let i=await e.serialize(n.data,r);if(i.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+i.length);return i},async destroySession(n,r){return e.serialize("",{...r,maxAge:void 0,expires:new Date(0)})}}}function Kee({cookie:t}={}){let e=new Map;return J8({cookie:t,async createData(n,r){let i=Math.random().toString(36).substring(2,10);return e.set(i,{data:n,expires:r}),i},async readData(n){if(e.has(n)){let{data:r,expires:i}=e.get(n);if(!i||i>new Date)return r;i&&e.delete(n)}return null},async updateData(n,r,i){e.set(n,{data:r,expires:i})},async deleteData(n){e.delete(n)}})}function Xee(t,...e){let n=e[0],r=Jee(t).replace(/\/:([\w-]+)(\?)?/g,(i,a,s)=>{const o=s===void 0,u=n==null?void 0:n[a];if(o&&u===void 0)throw new Error(`Path '${t}' requires param '${a}' but it was not provided`);return u===void 0?"":"/"+u});if(t.endsWith("*")){const i=n==null?void 0:n["*"];i!==void 0&&(r+="/"+i)}return r||"/"}function Jee(t){let e=t.length-1,n=t[e];if(n!=="*"&&n!=="/")return t;for(e--;e>=0&&t[e]==="/";e--);return t.slice(0,e+1)}var gR=new TextEncoder,y4="</body></html>";function b4(t){let e=new TextDecoder,n,r=new Promise(u=>n=u),i=!1,a=[],s=null;function o(u){for(let c of a){let f=e.decode(c,{stream:!0});f.endsWith(y4)&&(f=f.slice(0,-y4.length)),u.enqueue(gR.encode(f))}a.length=0,s=null}return new TransformStream({transform(u,c){a.push(u),!s&&(s=setTimeout(async()=>{o(c),i||(i=!0,Qee(t,c).catch(f=>c.error(f)).then(n))},0))},async flush(u){await r,s&&(clearTimeout(s),o(u)),u.enqueue(gR.encode("</body></html>"))}})}async function Qee(t,e){let n=new TextDecoder("utf-8",{fatal:!0});const r=t.getReader();try{let a;for(;(a=await r.read())&&!a.done;){const s=a.value;try{cN(JSON.stringify(n.decode(s,{stream:!0})),e)}catch{let u=JSON.stringify(btoa(String.fromCodePoint(...s)));cN(`Uint8Array.from(atob(${u}), m => m.codePointAt(0))`,e)}}}finally{r.releaseLock()}let i=n.decode();i.length&&cN(JSON.stringify(i),e)}function cN(t,e){e.enqueue(gR.encode(`<script>${Zee(`(self.__FLIGHT_DATA||=[]).push(${t})`)}<\/script>`))}function Zee(t){return t.replace(/<!--/g,"<\\!--").replace(/<\/(script)/gi,"</\\$1")}var ete=class extends An.Component{constructor(t){super(t),this.state={error:null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:null,location:t.location}:{error:e.error,location:e.location}}render(){return this.state.error?An.createElement(Z8,{error:this.state.error,renderAppShell:!0}):this.props.children}};function x4({renderAppShell:t,title:e,children:n}){return t?An.createElement("html",{lang:"en"},An.createElement("head",null,An.createElement("meta",{charSet:"utf-8"}),An.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),An.createElement("title",null,e)),An.createElement("body",null,An.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},n))):n}function Z8({error:t,renderAppShell:e}){console.error(t);let n=An.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          " Hey developer . You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."
        );
      `}});if(er(t))return An.createElement(x4,{renderAppShell:e,title:"Unhandled Thrown Response!"},An.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),n);let r;if(t instanceof Error)r=t;else{let i=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(i)}return An.createElement(x4,{renderAppShell:e,title:"Application Error!"},An.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),An.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),n)}function tte({hasRootLayout:t}){let e=Rx();if(t===void 0)throw new Error("Missing 'hasRootLayout' prop");return An.createElement(Z8,{renderAppShell:!t,error:e})}function nte(t){const e={};for(const n of t.matches)rte(e,n);return e}function rte(t,e){e=Array.isArray(e)?e:[e];for(const n of e)t[n.id]={links:n.links,meta:n.meta,default:ite}}var ite=()=>null,ate="use",w4=XM[ate];function ste(t){if(w4)return w4(t);throw new Error("React Router v7 requires React 19+ for RSC features.")}async function ote({request:t,fetchServer:e,createFromReadableStream:n,renderHTML:r,hydrate:i=!0}){const a=new URL(t.url),o=ute(a)||cte(a)||t.headers.has("rsc-action-id"),u=await e(t);if(o||u.headers.get("React-Router-Resource")==="true")return u;if(!u.body)throw new Error("Missing body in server response");const c=u.clone();let f=null;i&&(f=u.clone());const h=u.body;let v,y=[];const w=()=>v?new ReadableStream({start(C){v.forEach(k=>C.enqueue(k)),y.push(C)}}):(v=[],h.pipeThrough(new TransformStream({transform(C,k){v.push(C),k.enqueue(C),y.forEach(R=>R.enqueue(C))},flush(){y.forEach(C=>C.close()),y=[]}})));let A=null;const E=()=>{const C=Promise.resolve(n(w()));return Object.defineProperties(C,{_deepestRenderedBoundaryId:{get(){return A},set(k){A=k}},formState:{get(){return C.then(k=>k.type==="render"?k.formState:void 0)}}})};try{if(!c.body)throw new Error("Failed to clone server response");const C=await n(c.body);if(u.status===oP&&C.type==="redirect"){const I=new Headers(u.headers);return I.delete("Content-Encoding"),I.delete("Content-Length"),I.delete("Content-Type"),I.delete("X-Remix-Response"),I.set("Location",C.location),new Response((f==null?void 0:f.body)||"",{headers:I,status:C.status,statusText:u.statusText})}const k=await r(E),R=new Headers(u.headers);if(R.set("Content-Type","text/html; charset=utf-8"),!i)return new Response(k,{status:u.status,headers:R});if(!(f!=null&&f.body))throw new Error("Failed to clone server response");const D=k.pipeThrough(b4(f.body));return new Response(D,{status:u.status,headers:R})}catch(C){if(C instanceof Response)return C;try{const k=er(C)?C.status:500,R=await r(()=>{const M=Promise.resolve(n(w())).then(B=>Object.assign(B,{status:k,errors:A?{[A]:C}:{}}));return Object.defineProperties(M,{_deepestRenderedBoundaryId:{get(){return A},set(B){A=B}},formState:{get(){return M.then(B=>B.type==="render"?B.formState:void 0)}}})}),D=new Headers(u.headers);if(D.set("Content-Type","text/html"),!i)return new Response(R,{status:k,headers:D});if(!(f!=null&&f.body))throw new Error("Failed to clone server response");const I=R.pipeThrough(b4(f.body));return new Response(I,{status:k,headers:D})}catch{}throw C}}function lte({getPayload:t}){const e=t(),n=ste(e);if(n.type==="redirect")throw new Response(null,{status:n.status,headers:{Location:n.location}});if(n.type!=="render")return null;let r={...n.loaderData};for(const o of n.matches)Px(o.id,o.clientLoader,o.hasLoader,!1)&&(o.hydrateFallbackElement||!o.hasLoader)&&delete r[o.id];const i={get _deepestRenderedBoundaryId(){return e._deepestRenderedBoundaryId??null},set _deepestRenderedBoundaryId(o){e._deepestRenderedBoundaryId=o},actionData:n.actionData,actionHeaders:{},basename:n.basename,errors:n.errors,loaderData:r,loaderHeaders:{},location:n.location,statusCode:200,matches:n.matches.map(o=>({params:o.params,pathname:o.pathname,pathnameBase:o.pathnameBase,route:{id:o.id,action:o.hasAction||!!o.clientAction,handle:o.handle,hasErrorBoundary:o.hasErrorBoundary,loader:o.hasLoader||!!o.clientLoader,index:o.index,path:o.path,shouldRevalidate:o.shouldRevalidate}}))},a=xP(n.matches.reduceRight((o,u)=>{const c={id:u.id,action:u.hasAction||!!u.clientAction,element:u.element,errorElement:u.errorElement,handle:u.handle,hasErrorBoundary:!!u.errorElement,hydrateFallbackElement:u.hydrateFallbackElement,index:u.index,loader:u.hasLoader||!!u.clientLoader,path:u.path,shouldRevalidate:u.shouldRevalidate};return o.length>0&&(c.children=o),[c]},[]),i),s={future:{v8_middleware:!1,unstable_subResourceIntegrity:!1},isSpaMode:!1,ssr:!0,criticalCss:"",manifest:{routes:{},version:"1",url:"",entry:{module:"",imports:[]}},routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"},routeModules:nte(n)};return T.createElement(_6.Provider,{value:!0},T.createElement(ete,{location:n.location},T.createElement(qu.Provider,{value:s},T.createElement(bP,{context:i,router:a,hydrate:!1,nonce:n.nonce}))))}function ute(t){return t.pathname.endsWith(".rsc")}function cte(t){return t.pathname.endsWith(".manifest")}function eG(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Hi(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack=i.stack,n[r]=s}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack=i.stack,n[r]=a}}else n[r]=i;return n}function tG({state:t,routes:e,getRouteInfo:n,location:r,basename:i,isSpaMode:a}){let s={...t,loaderData:{...t.loaderData}},o=da(e,r,i);if(o)for(let u of o){let c=u.route.id,f=n(c);Px(c,f.clientLoader,f.hasLoader,a)&&(f.hasHydrateFallback||!f.hasLoader)?delete s.loaderData[c]:f.hasLoader||(s.loaderData[c]=null)}return s}var FA=jH();const dte=bo(FA);function nG(t){return T.createElement(F6,{flushSync:FA.flushSync,...t})}var qe=null,Cy=null;function fte(){if(!qe&&window.__reactRouterContext&&window.__reactRouterManifest&&window.__reactRouterRouteModules){if(window.__reactRouterManifest.sri===!0){const t=document.querySelector("script[rr-importmap]");if(t!=null&&t.textContent)try{window.__reactRouterManifest.sri=JSON.parse(t.textContent).integrity}catch(e){console.error("Failed to parse import map",e)}}qe={context:window.__reactRouterContext,manifest:window.__reactRouterManifest,routeModules:window.__reactRouterRouteModules,stateDecodingPromise:void 0,router:void 0,routerInitialized:!1}}}function hte({getContext:t,unstable_instrumentations:e}){var s,o;if(fte(),!qe)throw new Error("You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`");let n=qe;if(!qe.stateDecodingPromise){let u=qe.context.stream;We(u,"No stream found for single fetch decoding"),qe.context.stream=void 0,qe.stateDecodingPromise=IA(u,window).then(c=>{qe.context.state=c.value,n.stateDecodingPromise.value=!0}).catch(c=>{n.stateDecodingPromise.error=c})}if(qe.stateDecodingPromise.error)throw qe.stateDecodingPromise.error;if(!qe.stateDecodingPromise.value)throw qe.stateDecodingPromise;let r=Mx(qe.manifest.routes,qe.routeModules,qe.context.state,qe.context.ssr,qe.context.isSpaMode),i;if(qe.context.isSpaMode){let{loaderData:u}=qe.context.state;(s=qe.manifest.routes.root)!=null&&s.hasLoader&&u&&"root"in u&&(i={loaderData:{root:u.root}})}else i=tG({state:qe.context.state,routes:r,getRouteInfo:u=>{var c,f,h;return{clientLoader:(c=qe.routeModules[u])==null?void 0:c.clientLoader,hasLoader:((f=qe.manifest.routes[u])==null?void 0:f.hasLoader)===!0,hasHydrateFallback:((h=qe.routeModules[u])==null?void 0:h.HydrateFallback)!=null}},location:window.location,basename:(o=window.__reactRouterContext)==null?void 0:o.basename,isSpaMode:qe.context.isSpaMode}),i&&i.errors&&(i.errors=eG(i.errors));let a=Cx({routes:r,history:EA(),basename:qe.context.basename,getContext:t,hydrationData:i,hydrationRouteProperties:kx,unstable_instrumentations:e,mapRouteProperties:rp,future:{middleware:qe.context.future.v8_middleware},dataStrategy:u8(()=>a,qe.manifest,qe.routeModules,qe.context.ssr,qe.context.basename),patchRoutesOnNavigation:x8(qe.manifest,qe.routeModules,qe.context.ssr,qe.context.routeDiscovery,qe.context.isSpaMode,qe.context.basename)});return qe.router=a,a.state.initialized&&(qe.routerInitialized=!0,a.initialize()),a.createRoutesForHMR=y8,window.__reactRouterDataRouter=a,a}function pte(t){Cy||(Cy=hte({getContext:t.getContext,unstable_instrumentations:t.unstable_instrumentations}));let[e,n]=T.useState(void 0);T.useEffect(()=>{},[]),T.useEffect(()=>{},[e]);let[r,i]=T.useState(Cy.state.location);return T.useLayoutEffect(()=>{qe&&qe.router&&!qe.routerInitialized&&(qe.routerInitialized=!0,qe.router.initialize())},[]),T.useLayoutEffect(()=>{if(qe&&qe.router)return qe.router.subscribe(a=>{a.location!==r&&i(a.location)})},[r]),We(qe,"ssrInfo unavailable for HydratedRouter"),w8(Cy,qe.manifest,qe.routeModules,qe.context.ssr,qe.context.routeDiscovery,qe.context.isSpaMode),T.createElement(T.Fragment,null,T.createElement(qu.Provider,{value:{manifest:qe.manifest,routeModules:qe.routeModules,future:qe.context.future,criticalCss:e,ssr:qe.context.ssr,isSpaMode:qe.context.isSpaMode,routeDiscovery:qe.context.routeDiscovery}},T.createElement(mP,{location:r},T.createElement(nG,{router:Cy,unstable_useTransitions:t.unstable_useTransitions,unstable_onError:t.unstable_onError}))),T.createElement(T.Fragment,null))}/**
 * react-router-dom v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Ri=Object.freeze(Object.defineProperty({__proto__:null,Await:$Q,BrowserRouter:N8,Form:gP,HashRouter:eee,HydratedRouter:pte,IDLE_BLOCKER:kc,IDLE_FETCHER:TA,IDLE_NAVIGATION:d0,Link:lr,Links:GZ,MemoryRouter:qQ,Meta:VZ,NavLink:M8,Navigate:U6,NavigationType:UH,Outlet:B6,PrefetchPageLinks:pP,Route:ln,Router:Hd,RouterContextProvider:tl,RouterProvider:nG,Routes:iP,Scripts:A8,ScrollRestoration:P8,ServerRouter:xee,StaticRouter:uee,StaticRouterProvider:bP,UNSAFE_AwaitContextProvider:wQ,UNSAFE_DataRouterContext:dl,UNSAFE_DataRouterStateContext:Hu,UNSAFE_ErrorResponseImpl:Hi,UNSAFE_FetchersContext:Nx,UNSAFE_FrameworkContext:qu,UNSAFE_LocationContext:np,UNSAFE_NavigationContext:qi,UNSAFE_RSCDefaultRootErrorBoundary:tte,UNSAFE_RemixErrorBoundary:mP,UNSAFE_RouteContext:ha,UNSAFE_ServerMode:G8,UNSAFE_SingleFetchRedirectSymbol:Ru,UNSAFE_ViewTransitionContext:Tx,UNSAFE_WithComponentProps:XQ,UNSAFE_WithErrorBoundaryProps:QQ,UNSAFE_WithHydrateFallbackProps:JQ,UNSAFE_createBrowserHistory:EA,UNSAFE_createClientRoutes:Mx,UNSAFE_createClientRoutesWithHMRRevalidationOptOut:y8,UNSAFE_createRouter:Cx,UNSAFE_decodeViaTurboStream:IA,UNSAFE_deserializeErrors:eG,UNSAFE_getHydrationData:tG,UNSAFE_getPatchRoutesOnNavigationFunction:x8,UNSAFE_getTurboStreamSingleFetchDataStrategy:u8,UNSAFE_hydrationRouteProperties:kx,UNSAFE_invariant:We,UNSAFE_mapRouteProperties:rp,UNSAFE_shouldHydrateRouteLoader:Px,UNSAFE_useFogOFWarDiscovery:w8,UNSAFE_useScrollRestoration:O8,UNSAFE_withComponentProps:H6,UNSAFE_withErrorBoundaryProps:V6,UNSAFE_withHydrateFallbackProps:q6,createBrowserRouter:JZ,createContext:kJ,createCookie:SP,createCookieSessionStorage:Yee,createHashRouter:QZ,createMemoryRouter:j6,createMemorySessionStorage:Kee,createPath:oi,createRequestHandler:Bee,createRoutesFromChildren:v0,createRoutesFromElements:YQ,createRoutesStub:wee,createSearchParams:V1,createSession:_P,createSessionStorage:J8,createStaticHandler:fee,createStaticRouter:xP,data:JH,generatePath:VJ,href:Xee,isCookie:EP,isRouteErrorResponse:er,isSession:Wee,matchPath:rv,matchRoutes:da,parsePath:es,redirect:_x,redirectDocument:QH,renderMatches:KQ,replace:ZH,resolvePath:KH,unstable_HistoryRouter:R8,unstable_RSCStaticRouter:lte,unstable_routeRSCServerRequest:ote,unstable_setDevServerHooks:Lee,unstable_usePrompt:lee,unstable_useRoute:jQ,useActionData:PA,useAsyncError:IQ,useAsyncValue:I6,useBeforeUnload:see,useBlocker:L6,useFetcher:iee,useFetchers:aee,useFormAction:L8,useHref:C6,useInRouterContext:zd,useLinkClickHandler:I8,useLoaderData:MA,useLocation:Er,useMatch:EQ,useMatches:kA,useNavigate:gv,useNavigation:D6,useNavigationType:SQ,useOutlet:k6,useOutletContext:_Q,useParams:RA,useResolvedPath:vv,useRevalidator:PQ,useRouteError:Rx,useRouteLoaderData:DQ,useRoutes:M6,useSearchParams:tee,useSubmit:yP,useViewTransitionState:j8},Symbol.toStringTag,{value:"Module"})),mte="modulepreload",gte=function(t){return"/"+t},S4={},Jo=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=s(n.map(c=>{if(c=gte(c),c in S4)return;S4[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":mte,f||(v.as="script"),v.crossOrigin="",v.href=c,u&&v.setAttribute("nonce",u),document.head.appendChild(v),f)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var _t=(t=>(t.GUEST="guest",t.USER="user",t.SELLER="seller",t))(_t||{});const Gh=[{id:"manual-01",title:"Ebook-Engine Manual",author:"Ebook-Engine AI",description:"The official documentation for the Ebook-Engine platform. Learn how to use the Neural Engine, generate viral covers, and publish your work to the world.",price:0,coverImageUrl:"https://images.unsplash.com/photo-1555421689-491a97ff2040?auto=format&fit=crop&q=80&w=800",genre:"Technology",sellerId:"seller_admin",publicationDate:"2025-10-15",pages:[{id:"p1",pageNumber:1,title:"Welcome to the Future",content:`# Welcome to Ebook-Engine

**Where Thought Becomes Literature.**

Ebook-Engine is more than just a writing tool; it is a collaborative neural engine designed to elevate your creative process. Whether you are outlining a sci-fi epic, drafting a technical manual, or publishing your first novel, this platform provides the intelligence and infrastructure you need.

![Workspace](https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&q=80&w=1000)

### Core Philosophy

We believe that AI should not replace the author, but amplify them. Our "Co-Author" engine is built on Google's Gemini models, fine-tuned to understand narrative structure, tone, and pacing.

### In This Manual

Over the next 10 pages, we will cover:
- The Studio Interface
- AI Tools & Prompting
- Visual Asset Generation
- Publishing & Monetization`},{id:"p2",pageNumber:2,title:"The Dashboard",content:`# Your Command Center

The Dashboard is your home base. From here, you can track sales, manage your library, and access the Studio.

![Dashboard](https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=1000)

### Key Sections

1. **Overview**: Real-time analytics of your book sales and reader engagement.
2. **My Library**: Access books you have purchased or written.
3. **Wishlist**: Books you've saved for later.
4. **Studio Access**: One-click launch into the writing environment.

**Pro Tip:** Switch between "Reader Mode" and "Writer Mode" in the sidebar to toggle between consuming content and creating it.`},{id:"p3",pageNumber:3,title:"The eBook Studio",content:`# The Studio

This is where the magic happens. The Studio is divided into two main zones: the **Context Panel** (Left) and the **Editor** (Right).

![Studio](https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?auto=format&fit=crop&q=80&w=1000)

### 1. The Editor

A distraction-free markdown environment. It supports:
- **Rich Text**: Headers (#), Bold (**text**), and Lists (- item).
- **Slash Commands**: Type \`/\` to open the quick menu for headings, images, or AI generation.

### 2. The Context Panel

Your AI Co-Author lives here. You can chat with it to brainstorm ideas, or switch to the **Outline View** to manage your chapters.`},{id:"p4",pageNumber:4,title:"Using the AI Co-Author",content:`# The Neural Engine

Your Co-Author is always listening. You can ask it to:

- *"Write the next paragraph describing a rainy neon city."*
- *"Fix the grammar in this chapter."*
- *"Give me 5 ideas for a plot twist."*

![AI Brain](https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&q=80&w=1000)

### Context Awareness

The AI reads what you write. If you are in Chapter 3, it knows what happened in Chapter 2. This ensures consistency in character names, plot points, and tone.

**Auto-Pilot**: Use the "Auto-Write" button in the header to let the AI draft an entire chapter structure for you automatically.`},{id:"p5",pageNumber:5,title:"Generating Visuals",content:`# AI Art Generation

A picture is worth a thousand words. Ebook-Engine integrates the **Gemini 2.5 Image Model** to generate professional cover art and in-book illustrations.

![Art Generation](https://images.unsplash.com/photo-1561557944-6e7860d9a7fd?auto=format&fit=crop&q=80&w=1000)

### How to Generate

1. **Cover Art**: Go to the "Publish" page and use the AI Cover Designer. Select a style (e.g., Cinematic, Minimalist) and describe your vision.
2. **In-Text Illustrations**: In the Studio editor, type \`/image\` to conjure an image command. Describe the scene, and the AI will insert it directly into your page.

> *Note: All images are royalty-free and unique to your book.*`},{id:"p6",pageNumber:6,title:"Audio Features",content:`# Voice & Dictation

Writer's block? Speak your story. The Studio supports real-time dictation and text-to-speech.

![Microphone](https://images.unsplash.com/photo-1590602847861-f357a9332bbc?auto=format&fit=crop&q=80&w=1000)

### Dictation

Click the **Mic Icon** in the chat bar. Speak naturally. The AI will transcribe your voice into text, which you can then ask it to format or expand upon.

### Text-to-Speech (TTS)

The AI can read its responses back to you. This is perfect for proofhearing your dialogue flow or brainstorming while multitasking.`},{id:"p7",pageNumber:7,title:"Publishing Your Work",content:`# Going Live

Once your manuscript is ready, it's time to share it with the world.

![Publishing](https://images.unsplash.com/photo-1463320726281-696a485928c7?auto=format&fit=crop&q=80&w=1000)

### The Process

1. **Metadata**: Enter your Title, Author Name, and Description.
2. **Genre & Pricing**: Choose a category. Decide if your book is **Free** (for growth) or **Paid** (for revenue).
3. **AI Pricing**: Use our "Smart Pricing Model" to analyze market trends and suggest the optimal price point.
4. **Publish**: Click "Publish to Store". Your book is instantly available to all users on the platform.`},{id:"p8",pageNumber:8,title:"Seller Features",content:`# Monetization

Creators keep **70%** of every sale. We handle the payment processing, file hosting, and delivery.

![Analytics](https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=1000)

### Audience Analytics

Go to the **Audience** tab in your dashboard to see who is reading your books. You can track:
- Total Visitors
- Active Readers
- Geographic Location
- Purchase History

Use this data to refine your marketing strategy and write what your audience loves.`},{id:"p9",pageNumber:9,title:"Pro Tips",content:`# Mastering the Platform

Here are some advanced tips for power users:

![Lightbulb](https://images.unsplash.com/photo-1531297461136-82lwDe43qRm?auto=format&fit=crop&q=80&w=1000)

- **Slash Commands**: Learn them. \`/h1\` for titles, \`/quote\` for blockquotes. Speed is key.
- **Variable Pacing**: Ask the AI to "Slow down and describe the room" or "Speed up the action". It understands pacing.
- **Series Management**: Keep your character notes in a separate text file or the chat context to ensure consistency across multiple books.
- **Draft Mode**: You can save books as drafts without publishing them. They stay in your Studio securely.`},{id:"p10",pageNumber:10,title:"Community & Support",content:`# We Are Here For You

Ebook-Engine is built by writers, for writers. If you encounter bugs or have feature requests, reach out.

![Community](https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&q=80&w=1000)

### Channels

- **Help Center**: Accessible from your profile dropdown.
- **Email**: opendev-labs.help@gmail.com
- **Updates**: Follow the "Ebook-Engine Manual" book for patch notes and new feature guides.

Thank you for creating with us.

**- The OpenDev Team**`}]},{id:"sacred-quantum-01",title:"The Quantum Scripture",author:"Dr. A. Vance & The Institute",description:"Hidden Laws of Consciousness Backed by Real Scientific Evidence. A deep dive into the observer effect, entanglement, and the unification of ancient spirituality with modern physics.",price:1111,coverImageUrl:"https://images.unsplash.com/photo-1506318137071-a8bcbf67cc77?auto=format&fit=crop&q=80&w=800",genre:"Spirituality",sellerId:"seller_admin",publicationDate:"2025-11-11",pages:[{id:"qs-p1",pageNumber:1,title:"Introduction: The Bridge",content:`# The Bridge Between Worlds

For centuries, science and spirituality have stood on opposite banks of a wide river. Spirituality spoke of the "soul," "connection," and "miracles." Science spoke of "atoms," "forces," and "proof." 

**But the river is drying up.**

New discoveries in Quantum Mechanics are not just validating ancient texts; they are explaining *how* they work. This book is not a metaphorical comparison. It is a technical manual for consciousness, cited with peer-reviewed studies.

> "The first gulp from the glass of natural sciences will turn you into an atheist, but at the bottom of the glass God is waiting for you."  *Werner Heisenberg, Nobel Prize Winner in Physics*

We begin our journey at the intersection of the Observer and the Observed.`},{id:"qs-p2",pageNumber:2,title:"The Observer Effect",content:`# The Observer Effect

In the classical Newtonian world, things exist whether you look at them or not. A falling tree makes a sound. But in the quantum world, this rule breaks.

### The Double-Slit Experiment

When particles (like electrons) are fired at two slits, they behave like waves, creating an interference pattern. However, when a measuring device (an "observer") is placed to see which slit the particle goes through, the particle **behaves like solid matter**.

**Scientific Source:** *Nature Physics, "Quantum interference of large organic molecules," 2011.*

**The Implication:** Consciousness collapses the wave function. Your attention literally constructs reality from a field of infinite probability.`},{id:"qs-p3",pageNumber:3,title:"Quantum Entanglement",content:`# Entanglement: The Science of Oneness

"Spooky action at a distance," Einstein called it. When two particles are entangled, a change in the spin of one *instantly* affects the other, even if they are galaxies apart.

### Non-Locality

This proves that space is an illusion. Information travels faster than light because, at a fundamental level, the two particles are not separate.

**Scientific Source:** *The Big Bell Test Collaboration, Nature, 2018.*

**Spiritual Corollary:** This is the scientific basis for telepathy, prayer, and the concept that "we are all one." We are distinct points in a unified field.`},{id:"qs-p4",pageNumber:4,title:"The Holographic Principle",content:`# The Holographic Universe

Leading physicists now posit that our 3D reality is a projection of information stored on a 2D surface at the boundary of the universe (the cosmological horizon).

### Information Theory

If we live in a hologram, then "matter" is just "resolution." The spiritual idea that the physical world is "Maya" (illusion) is now a valid physical theory.

**Scientific Source:** *Juan Maldacena, "The Large N Limit of Superconformal Field Theories," 1997.*

Every part contains the whole. Your mind is not *in* the universe; the universe is *in* your mind.`},{id:"qs-p5",pageNumber:5,title:"The Zero Point Field",content:`# The Field

Space is not empty. It is a seething ocean of energy called the Zero Point Field (or Quantum Vacuum). Even at absolute zero, this field contains infinite potential energy.

### Tapping the Source

Ancient mystics called this the *Akasha*. It is the memory of the universe. It connects everything. When you meditate, you are quieting the noise to access this signal.

**Evidence:** The Casimir Effect proves the existence of vacuum fluctuations pushing plates together.

We are essentially bioluminescent beings floating in a sea of light.`},{id:"qs-p6",pageNumber:6,title:"Biocentrism",content:`# Biocentrism

Proposed by Dr. Robert Lanza, Biocentrism argues that biology creates the universe, not the other way around. Space and time are tools of the mind, not external objects.

### The Goldilocks Universe

Why are the laws of physics perfectly tuned for life? Because life is the primary constant. Without consciousness, the equations of the universe have no solution.

**Scientific Context:** *Robert Lanza, "Biocentrism," 2009.*

You are not a visitor to this world. You are the projector.`},{id:"qs-p7",pageNumber:7,title:"Neurotheology",content:`# The God Helmet

Neuroscience has identified specific centers in the brain (the temporal lobes) that active during deep spiritual experiences. 

### Dr. Michael Persinger's Experiments

By stimulating the temporal lobes with weak magnetic fields, researchers induced "sensed presence" (the feeling of God or angels) in atheists. 

**Source:** *Neuropsychologia, 2003.*

This doesn't mean God is "just inside the head." It means the brain is a **receiver**. Just as a radio tunes into a station, your brain tunes into the frequency of the divine.`},{id:"qs-p8",pageNumber:8,title:"Epigenetics",content:`# Belief Changes Biology

For decades, we believed genes were destiny. The new field of Epigenetics proves that environment and **perception** control gene expression.

### The Placebo Effect

Your belief in a cure is often as potent as the chemistry. The mind signals the cells to rewrite their instruction sets.

**Scientific Source:** *Bruce Lipton, The Biology of Belief.*

**Implication:** You can heal your lineage. Your thoughts are not just smoke; they are biochemical triggers.`},{id:"qs-p9",pageNumber:9,title:"The Unified Field",content:`# The Grand Unified Theory

Physicists are hunting for the equation that unites Gravity with Quantum Mechanics. String Theory proposes that tiny vibrating filaments create all matter.

### Frequency is Key

If everything is a vibrating string, then the universe is literally a symphony. "In the beginning was the Word" (Sound/Vibration).

We are approaching a singularity where scientific equations will look identical to spiritual sutras.`},{id:"qs-p10",pageNumber:10,title:"Conclusion",content:`# Conclusion: The Awakened Scientist

The age of separation is over. 

1. **You are the Observer.**
2. **You are Entangled with all life.**
3. **Your beliefs rewrite your Biology.**

Take this knowledge. Test it. Be the experiment.

### References
- *Journal of Consciousness Studies*
- *Physical Review Letters*
- *Nature*
- *Max Planck Institute for Quantum Optics*`}]},{id:"sacred-quantum-02",title:"Divine Mechanics",author:"Nikola T. & The Collective",description:"How Energy, Frequency, and Vibration Create Reality  Proven Through Modern Physics. Unlocking the secrets of Tesla, Cymatics, and the frequencies that heal.",price:888,coverImageUrl:"https://images.unsplash.com/photo-1620052581237-b5d148ef2716?auto=format&fit=crop&q=80&w=800",genre:"Physics",sellerId:"seller_admin",publicationDate:"2025-12-01",pages:[{id:"dm-p1",pageNumber:1,title:"The Key to the Universe",content:`# The Key

> "If you want to find the secrets of the universe, think in terms of energy, frequency and vibration."  *Nikola Tesla*

Everything in existence is vibrating. The chair you sit on, the thoughts you think, the light you see. Matter is simply energy condensed to a slow vibration.

This book explores the mechanics of this vibration and how you can tune your personal frequency to alter your reality.

**Scope:** From the oscillation of atoms to the rotation of galaxies.`},{id:"dm-p2",pageNumber:2,title:"3, 6, 9",content:`# The Mathematics of Creation

Tesla was obsessed with 3, 6, and 9. Why? 

### Vortex Math

If you double 1 (1, 2, 4, 8, 16...), the sum of digits never touches 3, 6, or 9. These numbers represent a higher-dimensional flux fieldthe energy that governs the physical circuit.

**Application:** 9 is the number of the Universe. It represents completion and the void. By aligning with these mathematical constants, we tap into free energy principles.`},{id:"dm-p3",pageNumber:3,title:"Cymatics",content:`# Visible Sound

Cymatics is the study of visible sound and vibration. 

### The Experiment

Place sand on a metal plate. Play a violin bow or a frequency tone. The sand arranges itself into complex, beautiful geometric mandalas.

**Source:** *Hans Jenny, "Cymatics," 1967.*

**The Truth:** You are 70% water. If sound organizes sand into sacred geometry, imagine what words, music, and thoughts are doing to the cellular structure of your body.`},{id:"dm-p4",pageNumber:4,title:"String Theory",content:`# The Cosmic Symphony

String Theory posits that the fundamental constituents of the universe are not point-like particles, but one-dimensional "strings."

### Modes of Vibration

A quark is a string vibrating in one mode. An electron is the same string vibrating in another. The only difference between gold and lead is the *music* their atoms are playing.

**Scientific Source:** *Edward Witten, M-Theory.*

Reality is music solidified.`},{id:"dm-p5",pageNumber:5,title:"Resonance",content:`# The Law of Resonance

Strike a tuning fork tuned to 'C'. Bring it near another 'C' fork. The second one will begin to vibrate without being touched. This is Resonance.

### Emotional Resonance

Your heart emits an electromagnetic field 5,000 times stronger than your brain. It acts as a tuning fork. You do not "attract" what you want; you resonate with what you *are*.

**Evidence:** *HeartMath Institute Research.*

To change your life, you must change your broadcast signal.`},{id:"dm-p6",pageNumber:6,title:"Schumann Resonance",content:`# The Heartbeat of Earth

The space between the Earth's surface and the Ionosphere acts as a cavity resonator. It hums at **7.83 Hz**.

### The Human Connection

This frequency matches the Alpha/Theta brainwave state (deep relaxation/healing). When we disconnect from nature, we desynchronize from the planet's pulse, leading to anxiety and illness.

**Source:** *W.O. Schumann, 1952.*

Grounding (walking barefoot) reconnects your electrical circuit to this stabilizing frequency.`},{id:"dm-p7",pageNumber:7,title:"Water Memory",content:`# The Memory of Water

Dr. Masaru Emoto exposed water to words like "Love" and "Hate," then froze it. The "Love" water formed perfect crystals. The "Hate" water formed chaotic blobs.

### Controversy & Validation

While controversial, recent Nobel Prize winner Luc Montagnier proved water can retain the electromagnetic signature of DNA even after the DNA is removed.

**Source:** *Journal of Physics: Conference Series, 2011.*

Speak kindly to yourself. You are mostly water.`},{id:"dm-p8",pageNumber:8,title:"Entrainment",content:`# Frequency Entrainment

A stronger rhythm will always pull a weaker rhythm into sync. This is why pendulums sync up, and why you feel calm near the ocean.

### Binaural Beats

We can hack the brain by playing slightly different frequencies in each ear. The brain creates a third "phantom" beat, shifting consciousness instantly into Gamma (Insight) or Delta (Sleep) states.

**Scientific Application:** Used in clinical settings for PTSD and ADHD treatment.`},{id:"dm-p9",pageNumber:9,title:"Sound Healing",content:`# Ultrasound & Healing

Hospitals use ultrasound to break up kidney stones and speed up bone regeneration. This is sound healing.

### Ancient Solfeggio

Ancient chants used specific frequencies (like 528 Hz) believed to repair DNA. Modern science is just catching up to the fact that specific frequencies trigger specific biological responses.

**Future Tech:** "Frequency Pharmacy"  prescribing sounds instead of pills.`},{id:"dm-p10",pageNumber:10,title:"Mastery",content:`# Mastering Your Frequency

You are the conductor of this divine mechanics.

1. **Monitor your input** (Music, News, People).
2. **Regulate your output** (Speech, Thought).
3. **Use Tools** (Meditation, Breath, Nature).

If you want to understand the Universe, listen to the sound of your own breath.

**End of Volume 1.**`}]},{id:"sacred-quantum-03",title:"The Sacred Algorithm",author:"Cipher X",description:"Ancient Truth, Quantum Science, and Verified Sources Revealed. Exploring the code behind the cosmos: Fibonacci, Simulation Theory, and the digital nature of reality.",price:999,coverImageUrl:"https://images.unsplash.com/photo-1614726365723-49cfae934794?auto=format&fit=crop&q=80&w=800",genre:"Science",sellerId:"seller_admin",publicationDate:"2026-01-10",pages:[{id:"sa-p1",pageNumber:1,title:"The Code",content:`# The Code Behind the Canvas

Is the universe biological or digital? The deeper we look, the more it resembles computer code. 

From the spiral of a galaxy to the arrangement of seeds in a sunflower, a specific algorithm repeats. This book investigates the possibility that we are living in a programmed realitya Sacred Simulation.

**The Question:** If there is a code, who is the Programmer?`},{id:"sa-p2",pageNumber:2,title:"Phi",content:`# The Golden Ratio (1.618...)

Phi. The Divine Proportion. It appears in the pyramids of Giza, the Parthenon, and the proportions of the human face.

### Efficiency

Nature uses Phi not for aesthetics, but for efficiency. It allows for maximum packing (seeds) and exposure (leaves) with minimal energy expenditure. It is the optimization algorithm of the universe.

**Observation:** The stock market and heartbeats also follow Phi fractal patterns.`},{id:"sa-p3",pageNumber:3,title:"Fractals",content:`# Fractals Everywhere

A fractal is a pattern that repeats at different scales. Zoom into a coastline, it looks the same. Zoom into a fern, the leaf looks like the whole plant.

### The Mandelbrot Set

A simple mathematical equation ($Z = Z^2 + C$) produces infinite complexity. This suggests our complex universe comes from a very simple seed code.

**Spiritual Truth:** "As above, so below." The macrocosm reflects the microcosm.`},{id:"sa-p4",pageNumber:4,title:"Simulation Theory",content:`# Evidence of Simulation

Elon Musk and Neil deGrasse Tyson famously argued there is a billion-to-one chance we are in "base reality."

### Pixelation (Planck Length)

Space is not continuous. It is discrete. There is a minimum unit of length (Planck length), much like a pixel on a screen. You cannot zoom in forever.

**Scientific Source:** *Nick Bostrom, "Are You Living in a Computer Simulation?" 2003.*

**Glitch:** The Observer Effect is basically "rendering optimization"  only drawing what is being looked at.`},{id:"sa-p5",pageNumber:5,title:"It From Bit",content:`# It From Bit

Physicist John Wheeler proposed that the universe is made of information, not matter. Every particle, every field, every force is ultimately a yes/no answer to a question.

### The Digital Physics

At the bottom of the rabbit hole, there is no "stuff." There are only bits. Information is more fundamental than time or space.

**Source:** *John Archibald Wheeler, 1990.*

We are processing information in a sea of data.`},{id:"sa-p6",pageNumber:6,title:"DNA Code",content:`# The Software of Life

DNA is literally a 4-character code (A, C, T, G). It functions exactly like computer software, complete with error-correcting subroutines.

### Microsoft vs Nature

Bill Gates said, "DNA is like a computer program but far, far more advanced than any software ever created."

**Source:** *The Road Ahead.*

If DNA is code, it implies a language. And a language implies an Intelligence.`},{id:"sa-p7",pageNumber:7,title:"Fine Tuning",content:`# The Fine-Tuning Problem

If the force of gravity were slightly stronger, the universe would collapse. If slightly weaker, stars wouldn't form. There are ~20 constants that are precisely set for life to exist.

### Randomness vs Design

The odds of this happening by chance are akin to throwing a dart across the universe and hitting a specific atom.

**Conclusion:** The parameters were set. The simulation was configured.`},{id:"sa-p8",pageNumber:8,title:"Algorithmic Botany",content:`# Algorithmic Botany

L-systems (Lindenmayer systems) are simple algorithms that can generate realistic 3D trees and plants. Nature follows strict procedural generation rules.

### The Fibonacci Sequence

Count the petals on a flower. 3, 5, 8, 13, 21... almost always a Fibonacci number. The universe calculates its growth steps.

**We are watching a procedural generation script run in real-time.**`},{id:"sa-p9",pageNumber:9,title:"Consciousness",content:`# The Player

If reality is the game, Consciousness is the Player. The brain is not the source of consciousness; it is the VR headset.

### Non-Local Data

Near-Death Experiences (NDEs) suggest that when the "headset" dies, the signal continues. The user logs out of the avatar but retains the data.

**Source:** *Dr. Eben Alexander, "Proof of Heaven."*`},{id:"sa-p10",pageNumber:10,title:"The Programmer",content:`# Who is the Programmer?

We call it God, Source, The All, or The Architect. 

The Sacred Algorithm reveals that science and religion are describing the same interface. One describes the User Experience (Spirituality), the other describes the Code (Physics).

**Final Truth:** You are not just in the simulation. You are a piece of the code that woke up.

**[End of Stream]**`}]}],E4={isEnabled:!0,slug:"admin",theme:"dark-minimal",profileImageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&q=80&w=200",displayName:"Ebook-Engine Team",tagline:"Official Updates & Manuals",showcasedBookIds:["manual-01","sacred-quantum-01","sacred-quantum-02"]},vte={id:"seller_admin",name:"Ebook-Engine Official",username:"@ebookengine_hq",email:"admin@ebook-engine.com",payoutEmail:"finance@ebook-engine.com",uploadedBooks:Gh,creatorSite:E4,isVerified:!0,profileImageUrl:E4.profileImageUrl,coverImageUrl:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1200",bio:"The official account for Ebook-Engine updates and documentation."},yte={id:"seller_opendev",name:"OpenDev Labs",username:"@opendev",email:"opendev-labs",payoutEmail:"opendev-labs@gmail.com",uploadedBooks:[],creatorSite:{isEnabled:!0,slug:"opendev",theme:"tech-vibrant",displayName:"OpenDev Labs",tagline:"System Architecture",showcasedBookIds:[]},isVerified:!0,isAdmin:!0,bio:"Platform Administrator"},bte={id:"user_admin",name:"Admin User",username:"@admin",email:"admin@ebook-engine.com",purchaseHistory:[Gh[0]],wishlist:[],isVerified:!0,profileImageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&q=80&w=200",coverImageUrl:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1200",bio:"System Administrator and First Node."},Mc={user_admin:bte,seller_admin:vte,seller_opendev:yte,guest:{id:"guest",name:"Guest",email:""}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xte,wte;function Ste(){return{geminiUrl:xte,vertexUrl:wte}}function Ete(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=Ste();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $u{}function ke(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function S(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[o])){const u=t[o];if(Array.isArray(n))for(let c=0;c<u.length;c++){const f=u[c];S(f,e.slice(a+1),n[c])}else for(const c of u)S(c,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in t||(t[o]=[{}]);const u=t[o];S(u[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(o=>x(o,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Ate(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let o=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){o=u;break}if(o!==-1&&a.length>o)for(let u=o;u<a.length;u++){const c=a[u];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}vR(t,i,a,0,s)}}function vR(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),o=t;if(s in o&&Array.isArray(o[s]))for(const u of o[s])vR(u,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,o=Object.keys(s).filter(c=>!c.startsWith("_")&&!i.has(c)),u={};for(const c of o)u[c]=s[c];for(const[c,f]of Object.entries(u)){const h=[];for(const v of n.slice(r))v==="*"?h.push(c):h.push(v);S(s,h,f)}for(const c of o)delete s[c]}}else{const s=t;a in s&&vR(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CP(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _te(t){const e={},n=x(t,["operationName"]);n!=null&&S(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&S(e,["_url","resourceName"],r),e}function Cte(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&S(e,["response"],Nte(s)),e}function Tte(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Rte(s)),e}function Nte(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>kte(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function Rte(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Mte(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function kte(t){const e={},n=x(t,["video"]);return n!=null&&S(e,["video"],jte(n)),e}function Mte(t){const e={},n=x(t,["_self"]);return n!=null&&S(e,["video"],Fte(n)),e}function Pte(t){const e={},n=x(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function Dte(t){const e={},n=x(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function Ite(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Lte(s)),e}function Lte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function rG(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Ote(s)),e}function Ote(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function jte(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&S(e,["videoBytes"],CP(r));const i=x(t,["encoding"]);return i!=null&&S(e,["mimeType"],i),e}function Fte(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],CP(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var A4;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(A4||(A4={}));var _4;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_4||(_4={}));var C4;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(C4||(C4={}));var xr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(xr||(xr={}));var T4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(T4||(T4={}));var N4;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(N4||(N4={}));var R4;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(R4||(R4={}));var k4;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(k4||(k4={}));var M4;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(M4||(M4={}));var P4;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(P4||(P4={}));var D4;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(D4||(D4={}));var I4;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(I4||(I4={}));var L4;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(L4||(L4={}));var O4;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(O4||(O4={}));var j4;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(j4||(j4={}));var F4;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(F4||(F4={}));var U4;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(U4||(U4={}));var B4;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(B4||(B4={}));var z4;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(z4||(z4={}));var J1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(J1||(J1={}));var H4;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(H4||(H4={}));var G4;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(G4||(G4={}));var q4;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(q4||(q4={}));var yR;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yR||(yR={}));var $4;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})($4||($4={}));var V4;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(V4||(V4={}));var W4;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(W4||(W4={}));var Y4;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Y4||(Y4={}));var K4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(K4||(K4={}));var X4;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(X4||(X4={}));var J4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(J4||(J4={}));var Q4;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Q4||(Q4={}));var Z4;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Z4||(Z4={}));var e3;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(e3||(e3={}));var t3;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(t3||(t3={}));var n3;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(n3||(n3={}));var r3;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(r3||(r3={}));var i3;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(i3||(i3={}));var a3;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(a3||(a3={}));var s3;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(s3||(s3={}));var o3;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(o3||(o3={}));var l3;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(l3||(l3={}));var u3;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(u3||(u3={}));var c3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(c3||(c3={}));var d3;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(d3||(d3={}));var f3;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(f3||(f3={}));var h3;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(h3||(h3={}));var p3;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(p3||(p3={}));var m3;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(m3||(m3={}));var g3;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(g3||(g3={}));var v3;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(v3||(v3={}));var y3;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(y3||(y3={}));var b3;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(b3||(b3={}));var x3;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(x3||(x3={}));var cm;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(cm||(cm={}));class bR{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ty{get text(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const h=[];for(const v of(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[y,w]of Object.entries(v))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(w!==null||w!==void 0)&&h.push(y);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;f=!0,c+=v.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const h of(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[v,y]of Object.entries(h))v!=="inlineData"&&(y!==null||y!==void 0)&&f.push(v);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,a,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,a,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class w3{}class S3{}class Ute{}class Bte{}class zte{}class Hte{}class E3{}class A3{}class _3{}class Gte{}class Q1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Q1;let i;const a=e;return n?i=Tte(a):i=Cte(a),Object.assign(r,i),r}}class C3{}class T3{}class N3{}class R3{}class qte{}class $te{}class Vte{}class TP{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new TP,a=Ite(e);return Object.assign(r,a),r}}class Wte{}class Yte{}class Kte{}class k3{}class Xte{get text(){var e,n,r;let i="",a=!1;const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(o))u!=="text"&&u!=="thought"&&c!==null&&s.push(u);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,u]of Object.entries(s))o!=="inlineData"&&u!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Jte{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class NP{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new NP,a=rG(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function iG(t,e){const n=Lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function aG(t){return Array.isArray(t)?t.map(e=>Z1(e)):[Z1(t)]}function Z1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sG(t){const e=Z1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oG(t){const e=Z1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function M3(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function lG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>M3(e)):[M3(t)]}function xR(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function P3(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function D3(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ai(t){if(t==null)throw new Error("ContentUnion is required");return xR(t)?t:{role:"user",parts:lG(t)}}function RP(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ai(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ai(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ai(n)):[Ai(e)]}function Is(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(P3(t)||D3(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ai(t)]}const e=[],n=[],r=xR(t[0]);for(const i of t){const a=xR(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(P3(i)||D3(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:lG(n)}),e}function Qte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(xr).includes(n[0].toUpperCase())?n[0].toUpperCase():xr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(xr).includes(r.toUpperCase())?r.toUpperCase():xr.TYPE_UNSPECIFIED})}}function Em(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Qte(t.type,e);for(const[s,o]of Object.entries(t))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(xr).includes(o.toUpperCase())?o.toUpperCase():xr.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Em(o);else if(r.includes(s)){const u=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}u.push(Em(c))}e[s]=u}else if(i.includes(s)){const u={};for(const[c,f]of Object.entries(o))u[c]=Em(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=o}return e}function kP(t){return Em(t)}function MP(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function PP(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function xv(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Em(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Em(e.response));return t}function wv(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Zte(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Vu(t,e){if(typeof e!="string")throw new Error("name must be a string");return Zte(t,e,"cachedContents")}function uG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Gd(t){return CP(t)}function ene(t){return t!=null&&typeof t=="object"&&"name"in t}function tne(t){return t!=null&&typeof t=="object"&&"video"in t}function nne(t){return t!=null&&typeof t=="object"&&"uri"in t}function cG(t){var e;let n;if(ene(t)&&(n=t.name),!(nne(t)&&(n=t.uri,n===void 0))&&!(tne(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function dG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function fG(t){for(const e of["models","tunedModels","publisherModels"])if(rne(t,e))return t[e];return[]}function rne(t,e){return t!==null&&typeof t=="object"&&e in t}function ine(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ane(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=ine(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function hG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function sne(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function pG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Sv(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function mG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function one(t){const e={},n=x(t,["responsesFile"]);n!=null&&S(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>zne(s))),S(e,["inlinedResponses"],a)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["inlinedEmbedContentResponses"],a)}return e}function lne(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&S(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&S(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&S(e,["bigqueryUri"],i),e}function une(t){const e={},n=x(t,["format"]);n!=null&&S(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&S(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&S(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function r1(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&S(e,["state"],mG(i));const a=x(t,["metadata","createTime"]);a!=null&&S(e,["createTime"],a);const s=x(t,["metadata","endTime"]);s!=null&&S(e,["endTime"],s);const o=x(t,["metadata","updateTime"]);o!=null&&S(e,["updateTime"],o);const u=x(t,["metadata","model"]);u!=null&&S(e,["model"],u);const c=x(t,["metadata","output"]);return c!=null&&S(e,["dest"],one(pG(c))),e}function wR(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["state"]);i!=null&&S(e,["state"],mG(i));const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["createTime"]);s!=null&&S(e,["createTime"],s);const o=x(t,["startTime"]);o!=null&&S(e,["startTime"],o);const u=x(t,["endTime"]);u!=null&&S(e,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(e,["updateTime"],c);const f=x(t,["model"]);f!=null&&S(e,["model"],f);const h=x(t,["inputConfig"]);h!=null&&S(e,["src"],cne(h));const v=x(t,["outputConfig"]);v!=null&&S(e,["dest"],lne(pG(v)));const y=x(t,["completionStats"]);return y!=null&&S(e,["completionStats"],y),e}function cne(t){const e={},n=x(t,["instancesFormat"]);n!=null&&S(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&S(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&S(e,["bigqueryUri"],i),e}function dne(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&S(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Bne(t,s))),S(n,["requests","requests"],a)}return n}function fne(t){const e={},n=x(t,["format"]);n!=null&&S(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&S(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&S(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function hne(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function pne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Sv(t,r)),n}function mne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Sv(t,r)),n}function gne(t){const e={},n=x(t,["content"]);n!=null&&S(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],vne(r));const i=x(t,["tokenCount"]);i!=null&&S(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&S(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&S(e,["avgLogprobs"],s);const o=x(t,["groundingMetadata"]);o!=null&&S(e,["groundingMetadata"],o);const u=x(t,["index"]);u!=null&&S(e,["index"],u);const c=x(t,["logprobsResult"]);c!=null&&S(e,["logprobsResult"],c);const f=x(t,["safetyRatings"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(y=>y)),S(e,["safetyRatings"],v)}const h=x(t,["urlContextMetadata"]);return h!=null&&S(e,["urlContextMetadata"],h),e}function vne(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["citations"],r)}return e}function gG(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Yne(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function yne(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&S(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function bne(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&S(e,["outputConfig"],une(sne(i))),n}function I3(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["src"]);i!=null&&S(n,["batch","inputConfig"],dne(t,hG(t,i)));const a=x(e,["config"]);return a!=null&&yne(a,n),n}function xne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],Lt(t,r));const i=x(e,["src"]);i!=null&&S(n,["inputConfig"],fne(hG(t,i)));const a=x(e,["config"]);return a!=null&&bne(a,n),n}function wne(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&S(e,["batch","displayName"],r),n}function Sne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["src"]);i!=null&&S(n,["batch","inputConfig"],Rne(t,i));const a=x(e,["config"]);return a!=null&&wne(a,n),n}function Ene(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Sv(t,r)),n}function Ane(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Sv(t,r)),n}function _ne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);return a!=null&&S(e,["error"],a),e}function Cne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);return a!=null&&S(e,["error"],a),e}function Tne(t,e){const n={},r=x(e,["contents"]);if(r!=null){let a=RP(t,r);Array.isArray(a)&&(a=a.map(s=>s)),S(n,["requests[]","request","content"],a)}const i=x(e,["config"]);return i!=null&&(S(n,["_self"],Nne(i,n)),Ate(n,{"requests[].*":"requests[].request.*"})),n}function Nne(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&S(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Rne(t,e){const n={},r=x(e,["fileName"]);r!=null&&S(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&S(n,["requests"],Tne(t,i)),n}function kne(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Mne(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Pne(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dne(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],gG(Ai(i)));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const v=x(e,["logprobs"]);v!=null&&S(r,["logprobs"],v);const y=x(e,["presencePenalty"]);y!=null&&S(r,["presencePenalty"],y);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const A=x(e,["seed"]);A!=null&&S(r,["seed"],A);const E=x(e,["responseMimeType"]);E!=null&&S(r,["responseMimeType"],E);const C=x(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],kP(C));const k=x(e,["responseJsonSchema"]);if(k!=null&&S(r,["responseJsonSchema"],k),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=x(e,["safetySettings"]);if(n!==void 0&&R!=null){let Y=R;Array.isArray(Y)&&(Y=Y.map(te=>Kne(te))),S(n,["safetySettings"],Y)}const D=x(e,["tools"]);if(n!==void 0&&D!=null){let Y=wv(D);Array.isArray(Y)&&(Y=Y.map(te=>Jne(xv(te)))),S(n,["tools"],Y)}const I=x(e,["toolConfig"]);if(n!==void 0&&I!=null&&S(n,["toolConfig"],Xne(I)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=x(e,["cachedContent"]);n!==void 0&&P!=null&&S(n,["cachedContent"],Vu(t,P));const M=x(e,["responseModalities"]);M!=null&&S(r,["responseModalities"],M);const B=x(e,["mediaResolution"]);B!=null&&S(r,["mediaResolution"],B);const z=x(e,["speechConfig"]);if(z!=null&&S(r,["speechConfig"],MP(z)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=x(e,["thinkingConfig"]);K!=null&&S(r,["thinkingConfig"],K);const G=x(e,["imageConfig"]);return G!=null&&S(r,["imageConfig"],Une(G)),r}function Ine(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>gne(c))),S(e,["candidates"],u)}const i=x(t,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&S(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&S(e,["responseId"],s);const o=x(t,["usageMetadata"]);return o!=null&&S(e,["usageMetadata"],o),e}function Lne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Sv(t,r)),n}function One(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Sv(t,r)),n}function jne(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function Fne(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Une(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&S(e,["imageSize"],r),x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Bne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["request","model"],Lt(t,r));const i=x(e,["contents"]);if(i!=null){let o=Is(i);Array.isArray(o)&&(o=o.map(u=>gG(u))),S(n,["request","contents"],o)}const a=x(e,["metadata"]);a!=null&&S(n,["metadata"],a);const s=x(e,["config"]);return s!=null&&S(n,["request","generationConfig"],Dne(t,s,x(n,["request"],{}))),n}function zne(t){const e={},n=x(t,["response"]);n!=null&&S(e,["response"],Ine(n));const r=x(t,["error"]);return r!=null&&S(e,["error"],r),e}function Hne(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Gne(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&S(e,["_query","pageToken"],i);const a=x(t,["filter"]);return e!==void 0&&a!=null&&S(e,["_query","filter"],a),n}function qne(t){const e={},n=x(t,["config"]);return n!=null&&Hne(n,e),e}function $ne(t){const e={},n=x(t,["config"]);return n!=null&&Gne(n,e),e}function Vne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>r1(s))),S(e,["batchJobs"],a)}return e}function Wne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>wR(s))),S(e,["batchJobs"],a)}return e}function Yne(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],kne(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Mne(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],hne(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const v=x(t,["videoMetadata"]);return v!=null&&S(e,["videoMetadata"],v),e}function Kne(t){const e={},n=x(t,["category"]);if(n!=null&&S(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function Xne(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],Pne(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function Jne(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],jne(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],Fne(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ku;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ku||(ku={}));class ip{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qne extends $u{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ip(ku.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=I3(this.apiClient,e),r=n._url,i=ke("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,u=o.requests,c=[];for(const f of u){const h=Object.assign({},f);if(h.systemInstruction){const v=h.systemInstruction;delete h.systemInstruction;const y=h.request;y.systemInstruction=v,h.request=y}c.push(h)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=xne(this.apiClient,e);return o=ke("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>wR(f))}else{const c=I3(this.apiClient,e);return o=ke("{model}:batchGenerateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>r1(f))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Sne(this.apiClient,e);return a=ke("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>r1(u))}}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=One(this.apiClient,e);return o=ke("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>wR(f))}else{const c=Lne(this.apiClient,e);return o=ke("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>r1(f))}}async cancel(e){var n,r,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const u=mne(this.apiClient,e);s=ke("batchPredictionJobs/{name}:cancel",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=pne(this.apiClient,e);s=ke("batches/{name}:cancel",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=$ne(e);return o=ke("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Wne(f),v=new k3;return Object.assign(v,h),v})}else{const c=qne(e);return o=ke("batches",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Vne(f),v=new k3;return Object.assign(v,h),v})}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Ane(this.apiClient,e);return o=ke("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>Cne(f))}else{const c=Ene(this.apiClient,e);return o=ke("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>_ne(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zne(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function L3(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Sre(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function ere(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&S(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&S(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let f=Is(s);Array.isArray(f)&&(f=f.map(h=>L3(h))),S(e,["contents"],f)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&S(e,["systemInstruction"],L3(Ai(o)));const u=x(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Are(h))),S(e,["tools"],f)}const c=x(t,["toolConfig"]);if(e!==void 0&&c!=null&&S(e,["toolConfig"],Ere(c)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function tre(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&S(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&S(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let h=Is(s);Array.isArray(h)&&(h=h.map(v=>v)),S(e,["contents"],h)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&S(e,["systemInstruction"],Ai(o));const u=x(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(v=>_re(v))),S(e,["tools"],h)}const c=x(t,["toolConfig"]);e!==void 0&&c!=null&&S(e,["toolConfig"],c);const f=x(t,["kmsKeyName"]);return e!==void 0&&f!=null&&S(e,["encryption_spec","kmsKeyName"],f),n}function nre(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],iG(t,r));const i=x(e,["config"]);return i!=null&&ere(i,n),n}function rre(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],iG(t,r));const i=x(e,["config"]);return i!=null&&tre(i,n),n}function ire(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Vu(t,r)),n}function are(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Vu(t,r)),n}function sre(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function ore(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function lre(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function ure(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cre(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function dre(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function fre(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Vu(t,r)),n}function hre(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Vu(t,r)),n}function pre(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function mre(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function gre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function vre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function yre(t){const e={},n=x(t,["config"]);return n!=null&&gre(n,e),e}function bre(t){const e={},n=x(t,["config"]);return n!=null&&vre(n,e),e}function xre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["cachedContents"],a)}return e}function wre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["cachedContents"],a)}return e}function Sre(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],lre(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],ure(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],Zne(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const v=x(t,["videoMetadata"]);return v!=null&&S(e,["videoMetadata"],v),e}function Ere(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],cre(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function Are(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],pre(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],mre(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function _re(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(v=>dre(v))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function Cre(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&S(e,["expireTime"],i),n}function Tre(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&S(e,["expireTime"],i),n}function Nre(t,e){const n={},r=x(e,["name"]);r!=null&&S(n,["_url","name"],Vu(t,r));const i=x(e,["config"]);return i!=null&&Cre(i,n),n}function Rre(t,e){const n={},r=x(e,["name"]);r!=null&&S(n,["_url","name"],Vu(t,r));const i=x(e,["config"]);return i!=null&&Tre(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kre extends $u{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ip(ku.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=rre(this.apiClient,e);return o=ke("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=nre(this.apiClient,e);return o=ke("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=hre(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=fre(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=are(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=ore(f),v=new N3;return Object.assign(v,h),v})}else{const c=ire(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=sre(f),v=new N3;return Object.assign(v,h),v})}}async update(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Rre(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=Nre(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=bre(e);return o=ke("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=wre(f),v=new R3;return Object.assign(v,h),v})}else{const c=yre(e);return o=ke("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=xre(f),v=new R3;return Object.assign(v,h),v})}}}function O3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sn(t){return this instanceof Sn?(this.v=t,this):new Sn(t)}function Am(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(w){return Promise.resolve(w).then(y,h)}}function o(y,w){r[y]&&(i[y]=function(A){return new Promise(function(E,C){a.push([y,A,E,C])>1||u(y,A)})},w&&(i[y]=w(i[y])))}function u(y,w){try{c(r[y](w))}catch(A){v(a[0][3],A)}}function c(y){y.value instanceof Sn?Promise.resolve(y.value.v).then(f,h):v(a[0][2],y)}function f(y){u("next",y)}function h(y){u("throw",y)}function v(y,w){y(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function f0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof O3=="function"?O3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,u){s=t[a](s),i(o,u,s.done,s.value)})}}function i(a,s,o,u){Promise.resolve(u).then(function(c){a({value:c,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mre(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:vG(n)}function vG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Pre(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function j3(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!vG(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Dre{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Ire(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ire{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Pre(a)}async sendMessage(e){var n;await this.sendPromise;const r=Ai(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,o;const u=await i,c=(s=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let v=[];f!=null&&(v=(o=f.slice(h))!==null&&o!==void 0?o:[]);const y=c?[c]:[];this.recordHistory(r,y,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Ai(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?j3(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Am(this,arguments,function*(){var s,o,u,c;const f=[];try{for(var h=!0,v=f0(e),y;y=yield Sn(v.next()),s=y.done,!s;h=!0){c=y.value,h=!1;const w=c;if(Mre(w)){const A=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;A!==void 0&&f.push(A)}yield yield Sn(w)}}catch(w){o={error:w}}finally{try{!h&&!s&&(u=v.return)&&(yield Sn(u.call(v)))}finally{if(o)throw o.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...j3(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UA extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,UA.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lre(t){const e={},n=x(t,["file"]);return n!=null&&S(e,["file"],n),e}function Ore(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function jre(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","file"],cG(n)),e}function Fre(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Ure(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","file"],cG(n)),e}function Bre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function zre(t){const e={},n=x(t,["config"]);return n!=null&&Bre(n,e),e}function Hre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gre extends $u{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ip(ku.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zre(e);return a=ke("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Hre(u),f=new Wte;return Object.assign(f,c),f})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Lre(e);return a=ke("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Ore(u),f=new Yte;return Object.assign(f,c),f})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ure(e);return a=ke("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jre(e);return a=ke("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Fre(u),f=new Kte;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i1(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function qre(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>sie(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function $re(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Vre(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wre(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function Yre(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&S(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&S(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&S(e,["enableAffectiveDialog"],s);const o=x(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=x(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const c=x(t,["maxOutputTokens"]);c!=null&&S(e,["maxOutputTokens"],c);const f=x(t,["mediaResolution"]);f!=null&&S(e,["mediaResolution"],f);const h=x(t,["presencePenalty"]);h!=null&&S(e,["presencePenalty"],h);const v=x(t,["responseLogprobs"]);v!=null&&S(e,["responseLogprobs"],v);const y=x(t,["responseMimeType"]);y!=null&&S(e,["responseMimeType"],y);const w=x(t,["responseModalities"]);w!=null&&S(e,["responseModalities"],w);const A=x(t,["responseSchema"]);A!=null&&S(e,["responseSchema"],A);const E=x(t,["routingConfig"]);E!=null&&S(e,["routingConfig"],E);const C=x(t,["seed"]);C!=null&&S(e,["seed"],C);const k=x(t,["speechConfig"]);k!=null&&S(e,["speechConfig"],yG(k));const R=x(t,["stopSequences"]);R!=null&&S(e,["stopSequences"],R);const D=x(t,["temperature"]);D!=null&&S(e,["temperature"],D);const I=x(t,["thinkingConfig"]);I!=null&&S(e,["thinkingConfig"],I);const P=x(t,["topK"]);P!=null&&S(e,["topK"],P);const M=x(t,["topP"]);if(M!=null&&S(e,["topP"],M),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Kre(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function Xre(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Jre(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],PP(h));const v=x(t,["thinkingConfig"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","thinkingConfig"],v);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],y);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],qre(Ai(w)));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let P=wv(A);Array.isArray(P)&&(P=P.map(M=>lie(xv(M)))),S(e,["setup","tools"],P)}const E=x(t,["sessionResumption"]);e!==void 0&&E!=null&&S(e,["setup","sessionResumption"],oie(E));const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const k=x(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&S(e,["setup","outputAudioTranscription"],k);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const D=x(t,["contextWindowCompression"]);e!==void 0&&D!=null&&S(e,["setup","contextWindowCompression"],D);const I=x(t,["proactivity"]);return e!==void 0&&I!=null&&S(e,["setup","proactivity"],I),n}function Qre(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],Yre(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],yG(PP(h)));const v=x(t,["thinkingConfig"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","thinkingConfig"],v);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],y);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],Ai(w));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let P=wv(A);Array.isArray(P)&&(P=P.map(M=>uie(xv(M)))),S(e,["setup","tools"],P)}const E=x(t,["sessionResumption"]);e!==void 0&&E!=null&&S(e,["setup","sessionResumption"],E);const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const k=x(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&S(e,["setup","outputAudioTranscription"],k);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const D=x(t,["contextWindowCompression"]);e!==void 0&&D!=null&&S(e,["setup","contextWindowCompression"],D);const I=x(t,["proactivity"]);return e!==void 0&&I!=null&&S(e,["setup","proactivity"],I),n}function Zre(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Lt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Jre(i,n)),n}function eie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Lt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Qre(i,n)),n}function tie(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&S(e,["musicGenerationConfig"],n),e}function nie(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["weightedPrompts"],r)}return e}function rie(t){const e={},n=x(t,["media"]);if(n!=null){let c=aG(n);Array.isArray(c)&&(c=c.map(f=>i1(f))),S(e,["mediaChunks"],c)}const r=x(t,["audio"]);r!=null&&S(e,["audio"],i1(oG(r)));const i=x(t,["audioStreamEnd"]);i!=null&&S(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&S(e,["video"],i1(sG(a)));const s=x(t,["text"]);s!=null&&S(e,["text"],s);const o=x(t,["activityStart"]);o!=null&&S(e,["activityStart"],o);const u=x(t,["activityEnd"]);return u!=null&&S(e,["activityEnd"],u),e}function iie(t){const e={},n=x(t,["media"]);if(n!=null){let c=aG(n);Array.isArray(c)&&(c=c.map(f=>f)),S(e,["mediaChunks"],c)}const r=x(t,["audio"]);r!=null&&S(e,["audio"],oG(r));const i=x(t,["audioStreamEnd"]);i!=null&&S(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&S(e,["video"],sG(a));const s=x(t,["text"]);s!=null&&S(e,["text"],s);const o=x(t,["activityStart"]);o!=null&&S(e,["activityStart"],o);const u=x(t,["activityEnd"]);return u!=null&&S(e,["activityEnd"],u),e}function aie(t){const e={},n=x(t,["setupComplete"]);n!=null&&S(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&S(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&S(e,["toolCall"],i);const a=x(t,["toolCallCancellation"]);a!=null&&S(e,["toolCallCancellation"],a);const s=x(t,["usageMetadata"]);s!=null&&S(e,["usageMetadata"],cie(s));const o=x(t,["goAway"]);o!=null&&S(e,["goAway"],o);const u=x(t,["sessionResumptionUpdate"]);return u!=null&&S(e,["sessionResumptionUpdate"],u),e}function sie(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],$re(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Vre(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],i1(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const v=x(t,["videoMetadata"]);return v!=null&&S(e,["videoMetadata"],v),e}function oie(t){const e={},n=x(t,["handle"]);if(n!=null&&S(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function yG(t){const e={},n=x(t,["languageCode"]);n!=null&&S(e,["languageCode"],n);const r=x(t,["voiceConfig"]);if(r!=null&&S(e,["voiceConfig"],r),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function lie(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],Kre(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],Xre(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function uie(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(v=>Wre(v))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function cie(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&S(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&S(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&S(e,["responseTokenCount"],i);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&S(e,["toolUsePromptTokenCount"],a);const s=x(t,["thoughtsTokenCount"]);s!=null&&S(e,["thoughtsTokenCount"],s);const o=x(t,["totalTokenCount"]);o!=null&&S(e,["totalTokenCount"],o);const u=x(t,["promptTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(w=>w)),S(e,["promptTokensDetails"],y)}const c=x(t,["cacheTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(w=>w)),S(e,["cacheTokensDetails"],y)}const f=x(t,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(w=>w)),S(e,["responseTokensDetails"],y)}const h=x(t,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(w=>w)),S(e,["toolUsePromptTokensDetails"],y)}const v=x(t,["trafficType"]);return v!=null&&S(e,["trafficType"],v),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function die(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function fie(t){const e={},n=x(t,["content"]);n!=null&&S(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],hie(r));const i=x(t,["tokenCount"]);i!=null&&S(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&S(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&S(e,["avgLogprobs"],s);const o=x(t,["groundingMetadata"]);o!=null&&S(e,["groundingMetadata"],o);const u=x(t,["index"]);u!=null&&S(e,["index"],u);const c=x(t,["logprobsResult"]);c!=null&&S(e,["logprobsResult"],c);const f=x(t,["safetyRatings"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(y=>y)),S(e,["safetyRatings"],v)}const h=x(t,["urlContextMetadata"]);return h!=null&&S(e,["urlContextMetadata"],h),e}function hie(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["citations"],r)}return e}function pie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["contents"]);if(i!=null){let a=Is(i);Array.isArray(a)&&(a=a.map(s=>s)),S(n,["contents"],a)}return n}function mie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(e,["tokensInfo"],i)}return e}function gie(t){const e={},n=x(t,["values"]);n!=null&&S(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&S(e,["statistics"],vie(r)),e}function vie(t){const e={},n=x(t,["truncated"]);n!=null&&S(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&S(e,["tokenCount"],r),e}function BA(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Cae(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function yie(t){const e={},n=x(t,["controlType"]);n!=null&&S(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&S(e,["computeControl"],r),e}function bie(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function xie(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&S(e,["systemInstruction"],Ai(r));const i=x(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>EG(o))),S(e,["tools"],s)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&S(e,["generationConfig"],dae(a)),n}function wie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Is(i);Array.isArray(s)&&(s=s.map(o=>BA(o))),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&bie(a),n}function Sie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Is(i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&xie(a,n),n}function Eie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&S(e,["totalTokens"],r);const i=x(t,["cachedContentTokenCount"]);return i!=null&&S(e,["cachedContentTokenCount"],i),e}function Aie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&S(e,["totalTokens"],r),e}function _ie(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Lt(t,r)),n}function Cie(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Lt(t,r)),n}function Tie(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Nie(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Rie(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&S(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&S(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&S(e,["parameters","aspectRatio"],s);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&S(e,["parameters","guidanceScale"],o);const u=x(t,["seed"]);e!==void 0&&u!=null&&S(e,["parameters","seed"],u);const c=x(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&S(e,["parameters","safetySetting"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const v=x(t,["includeRaiReason"]);e!==void 0&&v!=null&&S(e,["parameters","includeRaiReason"],v);const y=x(t,["language"]);e!==void 0&&y!=null&&S(e,["parameters","language"],y);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","mimeType"],w);const A=x(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&S(e,["parameters","outputOptions","compressionQuality"],A);const E=x(t,["addWatermark"]);e!==void 0&&E!=null&&S(e,["parameters","addWatermark"],E);const C=x(t,["labels"]);e!==void 0&&C!=null&&S(e,["labels"],C);const k=x(t,["editMode"]);e!==void 0&&k!=null&&S(e,["parameters","editMode"],k);const R=x(t,["baseSteps"]);return e!==void 0&&R!=null&&S(e,["parameters","editConfig","baseSteps"],R),n}function kie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>Pae(u))),S(n,["instances[0]","referenceImages"],o)}const s=x(e,["config"]);return s!=null&&Rie(s,n),n}function Mie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>zA(a))),S(e,["generatedImages"],i)}return e}function Pie(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&S(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Die(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["instances[]","task_type"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["instances[]","title"],i);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&S(e,["parameters","outputDimensionality"],a);const s=x(t,["mimeType"]);e!==void 0&&s!=null&&S(e,["instances[]","mimeType"],s);const o=x(t,["autoTruncate"]);return e!==void 0&&o!=null&&S(e,["parameters","autoTruncate"],o),n}function Iie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["contents"]);if(i!=null){let o=RP(t,i);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["requests[]","content"],o)}const a=x(e,["config"]);a!=null&&Pie(a,n);const s=x(e,["model"]);return s!==void 0&&S(n,["requests[]","model"],Lt(t,s)),n}function Lie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["contents"]);if(i!=null){let s=RP(t,i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["instances[]","content"],s)}const a=x(e,["config"]);return a!=null&&Die(a,n),n}function Oie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&S(e,["metadata"],i),e}function jie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>gie(s))),S(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&S(e,["metadata"],i),e}function Fie(t){const e={},n=x(t,["endpoint"]);n!=null&&S(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&S(e,["deployedModelId"],r),e}function Uie(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Bie(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zie(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hie(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function Gie(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],BA(Ai(i)));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const v=x(e,["logprobs"]);v!=null&&S(r,["logprobs"],v);const y=x(e,["presencePenalty"]);y!=null&&S(r,["presencePenalty"],y);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const A=x(e,["seed"]);A!=null&&S(r,["seed"],A);const E=x(e,["responseMimeType"]);E!=null&&S(r,["responseMimeType"],E);const C=x(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],kP(C));const k=x(e,["responseJsonSchema"]);if(k!=null&&S(r,["responseJsonSchema"],k),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=x(e,["safetySettings"]);if(n!==void 0&&R!=null){let Y=R;Array.isArray(Y)&&(Y=Y.map(te=>Dae(te))),S(n,["safetySettings"],Y)}const D=x(e,["tools"]);if(n!==void 0&&D!=null){let Y=wv(D);Array.isArray(Y)&&(Y=Y.map(te=>Bae(xv(te)))),S(n,["tools"],Y)}const I=x(e,["toolConfig"]);if(n!==void 0&&I!=null&&S(n,["toolConfig"],Uae(I)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=x(e,["cachedContent"]);n!==void 0&&P!=null&&S(n,["cachedContent"],Vu(t,P));const M=x(e,["responseModalities"]);M!=null&&S(r,["responseModalities"],M);const B=x(e,["mediaResolution"]);B!=null&&S(r,["mediaResolution"],B);const z=x(e,["speechConfig"]);if(z!=null&&S(r,["speechConfig"],MP(z)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=x(e,["thinkingConfig"]);K!=null&&S(r,["thinkingConfig"],K);const G=x(e,["imageConfig"]);return G!=null&&S(r,["imageConfig"],gae(G)),r}function qie(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],Ai(i));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const v=x(e,["logprobs"]);v!=null&&S(r,["logprobs"],v);const y=x(e,["presencePenalty"]);y!=null&&S(r,["presencePenalty"],y);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const A=x(e,["seed"]);A!=null&&S(r,["seed"],A);const E=x(e,["responseMimeType"]);E!=null&&S(r,["responseMimeType"],E);const C=x(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],kP(C));const k=x(e,["responseJsonSchema"]);k!=null&&S(r,["responseJsonSchema"],k);const R=x(e,["routingConfig"]);R!=null&&S(r,["routingConfig"],R);const D=x(e,["modelSelectionConfig"]);D!=null&&S(r,["modelConfig"],D);const I=x(e,["safetySettings"]);if(n!==void 0&&I!=null){let U=I;Array.isArray(U)&&(U=U.map(q=>q)),S(n,["safetySettings"],U)}const P=x(e,["tools"]);if(n!==void 0&&P!=null){let U=wv(P);Array.isArray(U)&&(U=U.map(q=>EG(xv(q)))),S(n,["tools"],U)}const M=x(e,["toolConfig"]);n!==void 0&&M!=null&&S(n,["toolConfig"],M);const B=x(e,["labels"]);n!==void 0&&B!=null&&S(n,["labels"],B);const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&S(n,["cachedContent"],Vu(t,z));const K=x(e,["responseModalities"]);K!=null&&S(r,["responseModalities"],K);const G=x(e,["mediaResolution"]);G!=null&&S(r,["mediaResolution"],G);const Y=x(e,["speechConfig"]);Y!=null&&S(r,["speechConfig"],SG(MP(Y)));const te=x(e,["audioTimestamp"]);te!=null&&S(r,["audioTimestamp"],te);const W=x(e,["thinkingConfig"]);W!=null&&S(r,["thinkingConfig"],W);const $=x(e,["imageConfig"]);return $!=null&&S(r,["imageConfig"],vae($)),r}function F3(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Is(i);Array.isArray(s)&&(s=s.map(o=>BA(o))),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&S(n,["generationConfig"],Gie(t,a,n)),n}function U3(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Is(i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&S(n,["generationConfig"],qie(t,a,n)),n}function B3(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>fie(c))),S(e,["candidates"],u)}const i=x(t,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&S(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&S(e,["responseId"],s);const o=x(t,["usageMetadata"]);return o!=null&&S(e,["usageMetadata"],o),e}function z3(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),S(e,["candidates"],c)}const i=x(t,["createTime"]);i!=null&&S(e,["createTime"],i);const a=x(t,["modelVersion"]);a!=null&&S(e,["modelVersion"],a);const s=x(t,["promptFeedback"]);s!=null&&S(e,["promptFeedback"],s);const o=x(t,["responseId"]);o!=null&&S(e,["responseId"],o);const u=x(t,["usageMetadata"]);return u!=null&&S(e,["usageMetadata"],u),e}function $ie(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&S(e,["parameters","aspectRatio"],i);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&S(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&S(e,["parameters","safetySetting"],s);const o=x(t,["personGeneration"]);e!==void 0&&o!=null&&S(e,["parameters","personGeneration"],o);const u=x(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&S(e,["parameters","includeSafetyAttributes"],u);const c=x(t,["includeRaiReason"]);e!==void 0&&c!=null&&S(e,["parameters","includeRaiReason"],c);const f=x(t,["language"]);e!==void 0&&f!=null&&S(e,["parameters","language"],f);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","mimeType"],h);const v=x(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&S(e,["parameters","outputOptions","compressionQuality"],v),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=x(t,["imageSize"]);if(e!==void 0&&y!=null&&S(e,["parameters","sampleImageSize"],y),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Vie(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&S(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&S(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&S(e,["parameters","aspectRatio"],s);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&S(e,["parameters","guidanceScale"],o);const u=x(t,["seed"]);e!==void 0&&u!=null&&S(e,["parameters","seed"],u);const c=x(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&S(e,["parameters","safetySetting"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const v=x(t,["includeRaiReason"]);e!==void 0&&v!=null&&S(e,["parameters","includeRaiReason"],v);const y=x(t,["language"]);e!==void 0&&y!=null&&S(e,["parameters","language"],y);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","mimeType"],w);const A=x(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&S(e,["parameters","outputOptions","compressionQuality"],A);const E=x(t,["addWatermark"]);e!==void 0&&E!=null&&S(e,["parameters","addWatermark"],E);const C=x(t,["labels"]);e!==void 0&&C!=null&&S(e,["labels"],C);const k=x(t,["imageSize"]);e!==void 0&&k!=null&&S(e,["parameters","sampleImageSize"],k);const R=x(t,["enhancePrompt"]);return e!==void 0&&R!=null&&S(e,["parameters","enhancePrompt"],R),n}function Wie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&$ie(a,n),n}function Yie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Vie(a,n),n}function Kie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>oae(s))),S(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&S(e,["positivePromptSafetyAttributes"],xG(i)),e}function Xie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>zA(s))),S(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&S(e,["positivePromptSafetyAttributes"],wG(i)),e}function Jie(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=x(t,["durationSeconds"]);if(e!==void 0&&i!=null&&S(e,["parameters","durationSeconds"],i),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&S(e,["parameters","aspectRatio"],a);const s=x(t,["resolution"]);e!==void 0&&s!=null&&S(e,["parameters","resolution"],s);const o=x(t,["personGeneration"]);if(e!==void 0&&o!=null&&S(e,["parameters","personGeneration"],o),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=x(t,["negativePrompt"]);e!==void 0&&u!=null&&S(e,["parameters","negativePrompt"],u);const c=x(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&S(e,["parameters","enhancePrompt"],c),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=x(t,["lastFrame"]);e!==void 0&&f!=null&&S(e,["instances[0]","lastFrame"],HA(f));const h=x(t,["referenceImages"]);if(e!==void 0&&h!=null){let v=h;Array.isArray(v)&&(v=v.map(y=>Zae(y))),S(e,["instances[0]","referenceImages"],v)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Qie(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&S(e,["parameters","storageUri"],i);const a=x(t,["fps"]);e!==void 0&&a!=null&&S(e,["parameters","fps"],a);const s=x(t,["durationSeconds"]);e!==void 0&&s!=null&&S(e,["parameters","durationSeconds"],s);const o=x(t,["seed"]);e!==void 0&&o!=null&&S(e,["parameters","seed"],o);const u=x(t,["aspectRatio"]);e!==void 0&&u!=null&&S(e,["parameters","aspectRatio"],u);const c=x(t,["resolution"]);e!==void 0&&c!=null&&S(e,["parameters","resolution"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["pubsubTopic"]);e!==void 0&&h!=null&&S(e,["parameters","pubsubTopic"],h);const v=x(t,["negativePrompt"]);e!==void 0&&v!=null&&S(e,["parameters","negativePrompt"],v);const y=x(t,["enhancePrompt"]);e!==void 0&&y!=null&&S(e,["parameters","enhancePrompt"],y);const w=x(t,["generateAudio"]);e!==void 0&&w!=null&&S(e,["parameters","generateAudio"],w);const A=x(t,["lastFrame"]);e!==void 0&&A!=null&&S(e,["instances[0]","lastFrame"],xo(A));const E=x(t,["referenceImages"]);if(e!==void 0&&E!=null){let R=E;Array.isArray(R)&&(R=R.map(D=>ese(D))),S(e,["instances[0]","referenceImages"],R)}const C=x(t,["mask"]);e!==void 0&&C!=null&&S(e,["instances[0]","mask"],Qae(C));const k=x(t,["compressionQuality"]);return e!==void 0&&k!=null&&S(e,["parameters","compressionQuality"],k),n}function Zie(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&S(e,["response"],rae(s)),e}function eae(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],iae(s)),e}function tae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&S(n,["instances[0]","image"],HA(a));const s=x(e,["video"]);s!=null&&S(n,["instances[0]","video"],AG(s));const o=x(e,["source"]);o!=null&&aae(o,n);const u=x(e,["config"]);return u!=null&&Jie(u,n),n}function nae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&S(n,["instances[0]","image"],xo(a));const s=x(e,["video"]);s!=null&&S(n,["instances[0]","video"],_G(s));const o=x(e,["source"]);o!=null&&sae(o,n);const u=x(e,["config"]);return u!=null&&Qie(u,n),n}function rae(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>uae(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function iae(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>cae(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function aae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],HA(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&S(e,["instances[0]","video"],AG(a)),n}function sae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],xo(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&S(e,["instances[0]","video"],_G(a)),n}function oae(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["image"],yae(n));const r=x(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const i=x(t,["_self"]);return i!=null&&S(e,["safetyAttributes"],xG(i)),e}function zA(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["image"],bG(n));const r=x(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const i=x(t,["_self"]);i!=null&&S(e,["safetyAttributes"],wG(i));const a=x(t,["prompt"]);return a!=null&&S(e,["enhancedPrompt"],a),e}function lae(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["mask"],bG(n));const r=x(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(e,["labels"],i)}return e}function uae(t){const e={},n=x(t,["video"]);return n!=null&&S(e,["video"],Xae(n)),e}function cae(t){const e={},n=x(t,["_self"]);return n!=null&&S(e,["video"],Jae(n)),e}function dae(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&S(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&S(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&S(e,["enableAffectiveDialog"],s);const o=x(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=x(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const c=x(t,["maxOutputTokens"]);c!=null&&S(e,["maxOutputTokens"],c);const f=x(t,["mediaResolution"]);f!=null&&S(e,["mediaResolution"],f);const h=x(t,["presencePenalty"]);h!=null&&S(e,["presencePenalty"],h);const v=x(t,["responseLogprobs"]);v!=null&&S(e,["responseLogprobs"],v);const y=x(t,["responseMimeType"]);y!=null&&S(e,["responseMimeType"],y);const w=x(t,["responseModalities"]);w!=null&&S(e,["responseModalities"],w);const A=x(t,["responseSchema"]);A!=null&&S(e,["responseSchema"],A);const E=x(t,["routingConfig"]);E!=null&&S(e,["routingConfig"],E);const C=x(t,["seed"]);C!=null&&S(e,["seed"],C);const k=x(t,["speechConfig"]);k!=null&&S(e,["speechConfig"],SG(k));const R=x(t,["stopSequences"]);R!=null&&S(e,["stopSequences"],R);const D=x(t,["temperature"]);D!=null&&S(e,["temperature"],D);const I=x(t,["thinkingConfig"]);I!=null&&S(e,["thinkingConfig"],I);const P=x(t,["topK"]);P!=null&&S(e,["topK"],P);const M=x(t,["topP"]);if(M!=null&&S(e,["topP"],M),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fae(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Lt(t,r)),n}function hae(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Lt(t,r)),n}function pae(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function mae(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function gae(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&S(e,["imageSize"],r),x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function vae(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);r!=null&&S(e,["imageSize"],r);const i=x(t,["outputMimeType"]);i!=null&&S(e,["imageOutputOptions","mimeType"],i);const a=x(t,["outputCompressionQuality"]);return a!=null&&S(e,["imageOutputOptions","compressionQuality"],a),e}function yae(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&S(e,["imageBytes"],Gd(n));const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function bG(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["imageBytes"],Gd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function HA(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&S(e,["bytesBase64Encoded"],Gd(n));const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function xo(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Gd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function bae(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&S(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&S(n,["_query","filter"],s);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&S(n,["_url","models_url"],dG(t,o)),r}function xae(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&S(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&S(n,["_query","filter"],s);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&S(n,["_url","models_url"],dG(t,o)),r}function wae(t,e){const n={},r=x(e,["config"]);return r!=null&&bae(t,r,n),n}function Sae(t,e){const n={},r=x(e,["config"]);return r!=null&&xae(t,r,n),n}function Eae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=fG(i);Array.isArray(a)&&(a=a.map(s=>SR(s))),S(e,["models"],a)}return e}function Aae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=fG(i);Array.isArray(a)&&(a=a.map(s=>ER(s))),S(e,["models"],a)}return e}function _ae(t){const e={},n=x(t,["maskMode"]);n!=null&&S(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&S(e,["maskClasses"],r);const i=x(t,["maskDilation"]);return i!=null&&S(e,["dilation"],i),e}function SR(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);i!=null&&S(e,["description"],i);const a=x(t,["version"]);a!=null&&S(e,["version"],a);const s=x(t,["_self"]);s!=null&&S(e,["tunedModelInfo"],zae(s));const o=x(t,["inputTokenLimit"]);o!=null&&S(e,["inputTokenLimit"],o);const u=x(t,["outputTokenLimit"]);u!=null&&S(e,["outputTokenLimit"],u);const c=x(t,["supportedGenerationMethods"]);c!=null&&S(e,["supportedActions"],c);const f=x(t,["temperature"]);f!=null&&S(e,["temperature"],f);const h=x(t,["maxTemperature"]);h!=null&&S(e,["maxTemperature"],h);const v=x(t,["topP"]);v!=null&&S(e,["topP"],v);const y=x(t,["topK"]);y!=null&&S(e,["topK"],y);const w=x(t,["thinking"]);return w!=null&&S(e,["thinking"],w),e}function ER(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);i!=null&&S(e,["description"],i);const a=x(t,["versionId"]);a!=null&&S(e,["version"],a);const s=x(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>Fie(v))),S(e,["endpoints"],h)}const o=x(t,["labels"]);o!=null&&S(e,["labels"],o);const u=x(t,["_self"]);u!=null&&S(e,["tunedModelInfo"],Hae(u));const c=x(t,["defaultCheckpointId"]);c!=null&&S(e,["defaultCheckpointId"],c);const f=x(t,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(v=>v)),S(e,["checkpoints"],h)}return e}function Cae(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Uie(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Bie(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],die(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const v=x(t,["videoMetadata"]);return v!=null&&S(e,["videoMetadata"],v),e}function Tae(t){const e={},n=x(t,["productImage"]);return n!=null&&S(e,["image"],xo(n)),e}function Nae(t,e){const n={},r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["baseSteps"]);e!==void 0&&i!=null&&S(e,["parameters","baseSteps"],i);const a=x(t,["outputGcsUri"]);e!==void 0&&a!=null&&S(e,["parameters","storageUri"],a);const s=x(t,["seed"]);e!==void 0&&s!=null&&S(e,["parameters","seed"],s);const o=x(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&S(e,["parameters","safetySetting"],o);const u=x(t,["personGeneration"]);e!==void 0&&u!=null&&S(e,["parameters","personGeneration"],u);const c=x(t,["addWatermark"]);e!==void 0&&c!=null&&S(e,["parameters","addWatermark"],c);const f=x(t,["outputMimeType"]);e!==void 0&&f!=null&&S(e,["parameters","outputOptions","mimeType"],f);const h=x(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","compressionQuality"],h);const v=x(t,["enhancePrompt"]);e!==void 0&&v!=null&&S(e,["parameters","enhancePrompt"],v);const y=x(t,["labels"]);return e!==void 0&&y!=null&&S(e,["labels"],y),n}function Rae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["source"]);i!=null&&Mae(i,n);const a=x(e,["config"]);return a!=null&&Nae(a,n),n}function kae(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zA(i))),S(e,["generatedImages"],r)}return e}function Mae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["personImage"]);e!==void 0&&i!=null&&S(e,["instances[0]","personImage","image"],xo(i));const a=x(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Tae(o))),S(e,["instances[0]","productImages"],s)}return n}function Pae(t){const e={},n=x(t,["referenceImage"]);n!=null&&S(e,["referenceImage"],xo(n));const r=x(t,["referenceId"]);r!=null&&S(e,["referenceId"],r);const i=x(t,["referenceType"]);i!=null&&S(e,["referenceType"],i);const a=x(t,["maskImageConfig"]);a!=null&&S(e,["maskImageConfig"],_ae(a));const s=x(t,["controlImageConfig"]);s!=null&&S(e,["controlImageConfig"],yie(s));const o=x(t,["styleImageConfig"]);o!=null&&S(e,["styleImageConfig"],o);const u=x(t,["subjectImageConfig"]);return u!=null&&S(e,["subjectImageConfig"],u),e}function xG(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&S(e,["contentType"],i),e}function wG(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&S(e,["contentType"],i),e}function Dae(t){const e={},n=x(t,["category"]);if(n!=null&&S(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function Iae(t){const e={},n=x(t,["image"]);return n!=null&&S(e,["image"],xo(n)),e}function Lae(t,e){const n={},r=x(t,["mode"]);e!==void 0&&r!=null&&S(e,["parameters","mode"],r);const i=x(t,["maxPredictions"]);e!==void 0&&i!=null&&S(e,["parameters","maxPredictions"],i);const a=x(t,["confidenceThreshold"]);e!==void 0&&a!=null&&S(e,["parameters","confidenceThreshold"],a);const s=x(t,["maskDilation"]);e!==void 0&&s!=null&&S(e,["parameters","maskDilation"],s);const o=x(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&S(e,["parameters","binaryColorThreshold"],o);const u=x(t,["labels"]);return e!==void 0&&u!=null&&S(e,["labels"],u),n}function Oae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["source"]);i!=null&&Fae(i,n);const a=x(e,["config"]);return a!=null&&Lae(a,n),n}function jae(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>lae(i))),S(e,["generatedMasks"],r)}return e}function Fae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],xo(i));const a=x(t,["scribbleImage"]);return e!==void 0&&a!=null&&S(e,["instances[0]","scribble"],Iae(a)),n}function SG(t){const e={},n=x(t,["languageCode"]);n!=null&&S(e,["languageCode"],n);const r=x(t,["voiceConfig"]);if(r!=null&&S(e,["voiceConfig"],r),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Uae(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],zie(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function Bae(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],pae(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],mae(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function EG(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(v=>Hie(v))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function zae(t){const e={},n=x(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&S(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&S(e,["updateTime"],i),e}function Hae(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&S(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&S(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&S(e,["updateTime"],i),e}function Gae(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&S(e,["defaultCheckpointId"],a),n}function qae(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&S(e,["defaultCheckpointId"],a),n}function $ae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","name"],Lt(t,r));const i=x(e,["config"]);return i!=null&&Gae(i,n),n}function Vae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["config"]);return i!=null&&qae(i,n),n}function Wae(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&S(e,["parameters","safetySetting"],i);const a=x(t,["personGeneration"]);e!==void 0&&a!=null&&S(e,["parameters","personGeneration"],a);const s=x(t,["includeRaiReason"]);e!==void 0&&s!=null&&S(e,["parameters","includeRaiReason"],s);const o=x(t,["outputMimeType"]);e!==void 0&&o!=null&&S(e,["parameters","outputOptions","mimeType"],o);const u=x(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&S(e,["parameters","outputOptions","compressionQuality"],u);const c=x(t,["enhanceInputImage"]);e!==void 0&&c!=null&&S(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=x(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&S(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=x(t,["labels"]);e!==void 0&&h!=null&&S(e,["labels"],h);const v=x(t,["numberOfImages"]);e!==void 0&&v!=null&&S(e,["parameters","sampleCount"],v);const y=x(t,["mode"]);return e!==void 0&&y!=null&&S(e,["parameters","mode"],y),n}function Yae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Lt(t,r));const i=x(e,["image"]);i!=null&&S(n,["instances[0]","image"],xo(i));const a=x(e,["upscaleFactor"]);a!=null&&S(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=x(e,["config"]);return s!=null&&Wae(s,n),n}function Kae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>zA(a))),S(e,["generatedImages"],i)}return e}function Xae(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&S(e,["videoBytes"],Gd(r));const i=x(t,["encoding"]);return i!=null&&S(e,["mimeType"],i),e}function Jae(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],Gd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function Qae(t){const e={},n=x(t,["image"]);n!=null&&S(e,["_self"],xo(n));const r=x(t,["maskMode"]);return r!=null&&S(e,["maskMode"],r),e}function Zae(t){const e={},n=x(t,["image"]);n!=null&&S(e,["image"],HA(n));const r=x(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function ese(t){const e={},n=x(t,["image"]);n!=null&&S(e,["image"],xo(n));const r=x(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function AG(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["videoBytes"]);r!=null&&S(e,["encodedVideo"],Gd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["encoding"],i),e}function _G(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Gd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tse(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&S(e,["displayName"],r),n}function nse(t){const e={},n=x(t,["config"]);return n!=null&&tse(n,e),e}function rse(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&S(e,["_query","force"],r),n}function ise(t){const e={},n=x(t,["name"]);n!=null&&S(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&rse(r,e),e}function ase(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function sse(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["customMetadata"],a)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&S(e,["chunkingConfig"],i),n}function ose(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],use(s)),e}function lse(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&S(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&S(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&sse(i,e),e}function use(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function cse(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function dse(t){const e={},n=x(t,["config"]);return n!=null&&cse(n,e),e}function fse(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["fileSearchStores"],a)}return e}function CG(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&S(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&S(e,["displayName"],i);const a=x(t,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),S(e,["customMetadata"],o)}const s=x(t,["chunkingConfig"]);return e!==void 0&&s!=null&&S(e,["chunkingConfig"],s),n}function hse(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&S(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&CG(r,e),e}function pse(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mse="Content-Type",gse="X-Server-Timeout",vse="User-Agent",AR="x-goog-api-client",yse="1.31.0",bse=`google-genai-sdk/${yse}`,xse="v1beta1",wse="v1beta",H3=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Sse{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:xse,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wse,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>a.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&Ese(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await G3(i),new bR(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await G3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Am(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:o,value:u}=yield Sn(i.read());if(o){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(u,{stream:!0});try{const h=JSON.parse(c);if("error"in h){const v=JSON.parse(JSON.stringify(h.error)),y=v.status,w=v.code,A=`got status: ${y}. ${JSON.stringify(h)}`;if(w>=400&&w<600)throw new UA({message:A,status:w})}}catch(h){if(h.name==="ApiError")throw h}s+=c;let f=s.match(H3);for(;f;){const h=f[1];try{const v=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Sn(new bR(v)),s=s.slice(f[0].length),f=s.match(H3)}catch(v){throw new Error(`exception parsing stream chunk ${h}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=bse+" "+this.clientOptions.userAgentExtra;return e[vse]=n,e[AR]=n,e[mse]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(gse,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const u={file:i},c=this.getFileName(e),f=ke("upload/v1beta/files",u._url),h=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,c,u,n==null?void 0:n.httpOptions);return a.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),o=String(s.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),h={};r!=null&&CG(r,h);const v=await this.fetchUploadUrl(c,o,u,f,h,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var o;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(o=c==null?void 0:c.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function G3(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new UA({message:i,status:n}):new Error(i)}}function Ese(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const o=Object.assign({},a);for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const c=s[u],f=o[u];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?o[u]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),o[u]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ase="mcp_used/unknown";let _se=!1;function TG(t){for(const e of t)if(Cse(e)||typeof e=="object"&&"inputSchema"in e)return!0;return _se}function NG(t){var e;const n=(e=t[AR])!==null&&e!==void 0?e:"";t[AR]=(n+` ${Ase}`).trimStart()}function Cse(t){return t!==null&&typeof t=="object"&&t instanceof DP}function Tse(t,e=100){return Am(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Sn(t.listTools({cursor:r}));for(const s of a.tools)yield yield Sn(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class DP{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new DP(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const f of this.mcpClients)try{for(var o=!0,u=(n=void 0,f0(Tse(f))),c;c=await u.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const h=i;s.push(h);const v=h.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=f}}catch(h){n={error:h}}finally{try{!o&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),ane(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Nse(t,e,n){const r=new Jte;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Rse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Pse(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const f=new Promise(R=>{c=R}),h=e.callbacks,v=function(){c({})},y=this.apiClient,w={onopen:v,onmessage:R=>{Nse(y,h.onmessage,R)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(R){}},A=this.webSocketFactory.create(u,Mse(s),w);A.connect(),await f;const k={setup:{model:Lt(this.apiClient,e.model)}};return A.send(JSON.stringify(k)),new kse(A,this.apiClient)}}class kse{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=nie(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=tie(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(cm.PLAY)}pause(){this.sendPlaybackControl(cm.PAUSE)}stop(){this.sendPlaybackControl(cm.STOP)}resetContext(){this.sendPlaybackControl(cm.RESET_CONTEXT)}close(){this.conn.close()}}function Mse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Pse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ise(t,e,n){const r=new Xte;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=aie(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class Lse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Rse(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&TG(e.config.tools)&&NG(h);const v=Use(h);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,f);else{const z=this.apiClient.getApiKey();let K="BidiGenerateContent",G="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",G="access_token"),f=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.${K}?${G}=${z}`}let y=()=>{};const w=new Promise(z=>{y=z}),A=e.callbacks,E=function(){var z;(z=A==null?void 0:A.onopen)===null||z===void 0||z.call(A),y({})},C=this.apiClient,k={onopen:E,onmessage:z=>{Ise(C,A.onmessage,z)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(z){}},R=this.webSocketFactory.create(f,Fse(v),k);R.connect(),await w;let D=Lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const z=this.apiClient.getProject(),K=this.apiClient.getLocation();D=`projects/${z}/locations/${K}/`+D}let I={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[J1.AUDIO]}:e.config.responseModalities=[J1.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],M=[];for(const z of P)if(this.isCallableTool(z)){const K=z;M.push(await K.tool())}else M.push(z);M.length>0&&(e.config.tools=M);const B={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=eie(this.apiClient,B):I=Zre(this.apiClient,B),delete I.config,R.send(JSON.stringify(I)),new jse(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ose={turnComplete:!0};class jse{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Is(n.turns),e.isVertexAI()||(r=r.map(i=>BA(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Dse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Ose),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:iie(e)}:n={realtimeInput:rie(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Fse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Use(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q3=10;function $3(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(_m(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function _m(t){return"callTool"in t&&typeof t.callTool=="function"}function Bse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>_m(i)))!==null&&r!==void 0?r:!1}function V3(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(_m(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function W3(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zse extends $u{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,o;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Bse(n)||$3(n.config))return await this.generateContentInternal(u);const c=V3(n);if(c.length>0){const A=c.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let f,h;const v=Is(u.contents),y=(a=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:q3;let w=0;for(;w<y&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const A=f.candidates[0].content,E=[];for(const C of(o=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(_m(C)){const R=await C.callTool(f.functionCalls);E.push(...R)}w++,h={role:"user",parts:E},u.contents=Is(u.contents),u.contents.push(A),u.contents.push(h),W3(u.config)&&(v.push(A),v.push(h))}return W3(u.config)&&(f.automaticFunctionCallingHistory=v),f},this.generateContentStream=async n=>{var r,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(n),$3(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const u=V3(n);if(u.length>0){const h=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,f=(o=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:s.push(u);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ip(ku.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,o,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((u=(o=n.source)===null||o===void 0?void 0:o.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async u=>_m(u)?await u.tool():u)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&TG(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},u);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),NG(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(_m(s)){const o=s,u=await o.tool();for(const c of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,o)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:q3;let s=!1,o=0;const u=await this.initAfcToolsMap(e);return(function(c,f,h){var v,y;return Am(this,arguments,function*(){for(var w,A,E,C;o<a;){s&&(o++,s=!1);const I=yield Sn(c.processParamsMaybeAddMcpUsage(h)),P=yield Sn(c.generateContentStreamInternal(I)),M=[],B=[];try{for(var k=!0,R=(A=void 0,f0(P)),D;D=yield Sn(R.next()),w=D.done,!w;k=!0){C=D.value,k=!1;const z=C;if(yield yield Sn(z),z.candidates&&(!((v=z.candidates[0])===null||v===void 0)&&v.content)){B.push(z.candidates[0].content);for(const K of(y=z.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(o<a&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(K.functionCall.name)){const G=yield Sn(f.get(K.functionCall.name).callTool([K.functionCall]));M.push(...G)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(z){A={error:z}}finally{try{!k&&!w&&(E=R.return)&&(yield Sn(E.call(R)))}finally{if(A)throw A.error}}if(M.length>0){s=!0;const z=new Ty;z.candidates=[{content:{role:"user",parts:M}}],yield yield Sn(z);const K=[];K.push(...B),K.push({role:"user",parts:M});const G=Is(h.contents).concat(K);h.contents=G}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=U3(this.apiClient,e);return o=ke("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=z3(f),v=new Ty;return Object.assign(v,h),v})}else{const c=F3(this.apiClient,e);return o=ke("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=B3(f),v=new Ty;return Object.assign(v,h),v})}}async generateContentStreamInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=U3(this.apiClient,e);return o=ke("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return Am(this,arguments,function*(){var v,y,w,A;try{for(var E=!0,C=f0(h),k;k=yield Sn(C.next()),v=k.done,!v;E=!0){A=k.value,E=!1;const R=A,D=z3(yield Sn(R.json()));D.sdkHttpResponse={headers:R.headers};const I=new Ty;Object.assign(I,D),yield yield Sn(I)}}catch(R){y={error:R}}finally{try{!E&&!v&&(w=C.return)&&(yield Sn(w.call(C)))}finally{if(y)throw y.error}}})})}else{const c=F3(this.apiClient,e);return o=ke("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(h){return Am(this,arguments,function*(){var v,y,w,A;try{for(var E=!0,C=f0(h),k;k=yield Sn(C.next()),v=k.done,!v;E=!0){A=k.value,E=!1;const R=A,D=B3(yield Sn(R.json()));D.sdkHttpResponse={headers:R.headers};const I=new Ty;Object.assign(I,D),yield yield Sn(I)}}catch(R){y={error:R}}finally{try{!E&&!v&&(w=C.return)&&(yield Sn(w.call(C)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Lie(this.apiClient,e);return o=ke("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=jie(f),v=new w3;return Object.assign(v,h),v})}else{const c=Iie(this.apiClient,e);return o=ke("{model}:batchEmbedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Oie(f),v=new w3;return Object.assign(v,h),v})}}async generateImagesInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Yie(this.apiClient,e);return o=ke("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Xie(f),v=new S3;return Object.assign(v,h),v})}else{const c=Wie(this.apiClient,e);return o=ke("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Kie(f),v=new S3;return Object.assign(v,h),v})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=kie(this.apiClient,e);return a=ke("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Mie(u),f=new Ute;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Yae(this.apiClient,e);return a=ke("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Kae(u),f=new Bte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Rae(this.apiClient,e);return a=ke("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=kae(u),f=new zte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Oae(this.apiClient,e);return a=ke("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=jae(u),f=new Hte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=hae(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>ER(f))}else{const c=fae(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>SR(f))}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Sae(this.apiClient,e);return o=ke("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Aae(f),v=new E3;return Object.assign(v,h),v})}else{const c=wae(this.apiClient,e);return o=ke("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Eae(f),v=new E3;return Object.assign(v,h),v})}}async update(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Vae(this.apiClient,e);return o=ke("{model}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>ER(f))}else{const c=$ae(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>SR(f))}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Cie(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Nie(f),v=new A3;return Object.assign(v,h),v})}else{const c=_ie(this.apiClient,e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Tie(f),v=new A3;return Object.assign(v,h),v})}}async countTokens(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Sie(this.apiClient,e);return o=ke("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Aie(f),v=new _3;return Object.assign(v,h),v})}else{const c=wie(this.apiClient,e);return o=ke("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Eie(f),v=new _3;return Object.assign(v,h),v})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=pie(this.apiClient,e);return a=ke("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=mie(u),f=new Gte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=nae(this.apiClient,e);return o=ke("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=eae(f),v=new Q1;return Object.assign(v,h),v})}else{const c=tae(this.apiClient,e);return o=ke("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>{const h=Zie(f),v=new Q1;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hse extends $u{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Dte(e);return o=ke("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const c=Pte(e);return o=ke("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=_te(e);return a=ke("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gse(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function qse(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Zse(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function $se(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&S(n,["expireTime"],i);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&S(n,["newSessionExpireTime"],a);const s=x(e,["uses"]);n!==void 0&&s!=null&&S(n,["uses"],s);const o=x(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&S(n,["bidiGenerateContentSetup"],Qse(t,o));const u=x(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&S(n,["fieldMask"],u),r}function Vse(t,e){const n={},r=x(e,["config"]);return r!=null&&S(n,["config"],$se(t,r,n)),n}function Wse(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Yse(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kse(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function Xse(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Jse(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],PP(h));const v=x(t,["thinkingConfig"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","thinkingConfig"],v);const y=x(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],y);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],qse(Ai(w)));const A=x(t,["tools"]);if(e!==void 0&&A!=null){let P=wv(A);Array.isArray(P)&&(P=P.map(M=>toe(xv(M)))),S(e,["setup","tools"],P)}const E=x(t,["sessionResumption"]);e!==void 0&&E!=null&&S(e,["setup","sessionResumption"],eoe(E));const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const k=x(t,["outputAudioTranscription"]);e!==void 0&&k!=null&&S(e,["setup","outputAudioTranscription"],k);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const D=x(t,["contextWindowCompression"]);e!==void 0&&D!=null&&S(e,["setup","contextWindowCompression"],D);const I=x(t,["proactivity"]);return e!==void 0&&I!=null&&S(e,["setup","proactivity"],I),n}function Qse(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Lt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Jse(i,n)),n}function Zse(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Wse(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Yse(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],Gse(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const v=x(t,["videoMetadata"]);return v!=null&&S(e,["videoMetadata"],v),e}function eoe(t){const e={},n=x(t,["handle"]);if(n!=null&&S(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function toe(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],Kse(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],Xse(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function noe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function roe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=noe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const u=[];a&&u.push(a),o.length>0&&u.push(...o),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class ioe extends $u{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=Vse(this.apiClient,e);a=ke("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const u=roe(o,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aoe(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&S(e,["_query","force"],r),n}function soe(t){const e={},n=x(t,["name"]);n!=null&&S(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&aoe(r,e),e}function ooe(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function loe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function uoe(t){const e={},n=x(t,["parent"]);n!=null&&S(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&loe(r,e),e}function coe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class doe extends $u{constructor(e){super(),this.apiClient=e,this.list=async n=>new ip(ku.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ooe(e);return a=ke("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=soe(e);i=ke("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uoe(e);return a=ke("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=coe(u),f=new qte;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class foe extends $u{constructor(e,n=new doe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ip(ku.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=nse(e);return a=ke("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ase(e);return a=ke("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=ise(e);i=ke("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=dse(e);return a=ke("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=fse(u),f=new $te;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=hse(e);return a=ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=pse(u),f=new Vte;return Object.assign(f,c),f})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=lse(e);return a=ke("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=ose(u),f=new TP;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hoe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function poe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function moe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&S(n,["sdkHttpResponse"],r),n}function goe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&S(n,["sdkHttpResponse"],r),n}function voe(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&S(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(t,["epochCount"]);e!==void 0&&a!=null&&S(e,["tuningTask","hyperparameters","epochCount"],a);const s=x(t,["learningRateMultiplier"]);if(s!=null&&S(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=x(t,["batchSize"]);e!==void 0&&o!=null&&S(e,["tuningTask","hyperparameters","batchSize"],o);const u=x(t,["learningRate"]);if(e!==void 0&&u!=null&&S(e,["tuningTask","hyperparameters","learningRate"],u),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function yoe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&S(e,["supervisedTuningSpec"],Y3(y))}else if(i==="PREFERENCE_TUNING"){const y=x(t,["validationDataset"]);e!==void 0&&y!=null&&S(e,["preferenceOptimizationSpec"],Y3(y))}const a=x(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&S(e,["tunedModelDisplayName"],a);const s=x(t,["description"]);e!==void 0&&s!=null&&S(e,["description"],s);let o=x(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&S(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(o==="PREFERENCE_TUNING"){const y=x(t,["epochCount"]);e!==void 0&&y!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let u=x(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&S(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(u==="PREFERENCE_TUNING"){const y=x(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&S(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(c==="PREFERENCE_TUNING"){const y=x(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&S(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&S(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=x(t,["adapterSize"]);e!==void 0&&y!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=x(t,["labels"]);e!==void 0&&h!=null&&S(e,["labels"],h);const v=x(t,["beta"]);return e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function boe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&S(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&koe(a);const s=x(t,["config"]);return s!=null&&voe(s,n),n}function xoe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&S(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&Moe(a,n,e);const s=x(t,["config"]);return s!=null&&yoe(s,n,e),n}function woe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function Soe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function Eoe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&S(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&S(e,["_query","filter"],s),r}function Aoe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&S(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&S(e,["_query","filter"],s),r}function _oe(t,e){const n={},r=x(t,["config"]);return r!=null&&Eoe(r,n),n}function Coe(t,e){const n={},r=x(t,["config"]);return r!=null&&Aoe(r,n),n}function Toe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&S(n,["nextPageToken"],i);const a=x(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>RG(o))),S(n,["tuningJobs"],s)}return n}function Noe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&S(n,["nextPageToken"],i);const a=x(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>_R(o))),S(n,["tuningJobs"],s)}return n}function Roe(t,e){const n={},r=x(t,["name"]);r!=null&&S(n,["model"],r);const i=x(t,["name"]);return i!=null&&S(n,["endpoint"],i),n}function koe(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(n,["examples","examples"],i)}return n}function Moe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&S(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&S(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function RG(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["state"]);a!=null&&S(n,["state"],uG(a));const s=x(t,["createTime"]);s!=null&&S(n,["createTime"],s);const o=x(t,["tuningTask","startTime"]);o!=null&&S(n,["startTime"],o);const u=x(t,["tuningTask","completeTime"]);u!=null&&S(n,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(n,["updateTime"],c);const f=x(t,["description"]);f!=null&&S(n,["description"],f);const h=x(t,["baseModel"]);h!=null&&S(n,["baseModel"],h);const v=x(t,["_self"]);return v!=null&&S(n,["tunedModel"],Roe(v)),n}function _R(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["state"]);a!=null&&S(n,["state"],uG(a));const s=x(t,["createTime"]);s!=null&&S(n,["createTime"],s);const o=x(t,["startTime"]);o!=null&&S(n,["startTime"],o);const u=x(t,["endTime"]);u!=null&&S(n,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(n,["updateTime"],c);const f=x(t,["error"]);f!=null&&S(n,["error"],f);const h=x(t,["description"]);h!=null&&S(n,["description"],h);const v=x(t,["baseModel"]);v!=null&&S(n,["baseModel"],v);const y=x(t,["tunedModel"]);y!=null&&S(n,["tunedModel"],y);const w=x(t,["preTunedModel"]);w!=null&&S(n,["preTunedModel"],w);const A=x(t,["supervisedTuningSpec"]);A!=null&&S(n,["supervisedTuningSpec"],A);const E=x(t,["preferenceOptimizationSpec"]);E!=null&&S(n,["preferenceOptimizationSpec"],E);const C=x(t,["tuningDataStats"]);C!=null&&S(n,["tuningDataStats"],C);const k=x(t,["encryptionSpec"]);k!=null&&S(n,["encryptionSpec"],k);const R=x(t,["partnerModelTuningSpec"]);R!=null&&S(n,["partnerModelTuningSpec"],R);const D=x(t,["customBaseModel"]);D!=null&&S(n,["customBaseModel"],D);const I=x(t,["experiment"]);I!=null&&S(n,["experiment"],I);const P=x(t,["labels"]);P!=null&&S(n,["labels"],P);const M=x(t,["outputUri"]);M!=null&&S(n,["outputUri"],M);const B=x(t,["pipelineJob"]);B!=null&&S(n,["pipelineJob"],B);const z=x(t,["serviceAccount"]);z!=null&&S(n,["serviceAccount"],z);const K=x(t,["tunedModelDisplayName"]);K!=null&&S(n,["tunedModelDisplayName"],K);const G=x(t,["veoTuningSpec"]);return G!=null&&S(n,["veoTuningSpec"],G),n}function Poe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["metadata"]);a!=null&&S(n,["metadata"],a);const s=x(t,["done"]);s!=null&&S(n,["done"],s);const o=x(t,["error"]);return o!=null&&S(n,["error"],o),n}function Y3(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&S(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&S(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Doe extends $u{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ip(ku.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:yR.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Soe(e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>_R(f))}else{const c=woe(e);return o=ke("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>RG(f))}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Coe(e);return o=ke("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Noe(f),v=new C3;return Object.assign(v,h),v})}else{const c=_oe(e);return o=ke("tunedModels",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=Toe(f),v=new C3;return Object.assign(v,h),v})}}async cancel(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=poe(e);return o=ke("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=goe(f),v=new T3;return Object.assign(v,h),v})}else{const c=hoe(e);return o=ke("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:f.headers},v})),s.then(f=>{const h=moe(f),v=new T3;return Object.assign(v,h),v})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=xoe(e,e);return a=ke("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>_R(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=boe(e);return a=ke("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>Poe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ioe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Loe=1024*1024*8,Ooe=3,joe=1e3,Foe=2,eE="x-goog-upload-status";async function Uoe(t,e,n){var r;const i=await kG(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[eE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Boe(t,e,n){var r;const i=await kG(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[eE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=rG(a),o=new NP;return Object.assign(o,s),o}async function kG(t,e,n){var r,i;let a=0,s=0,o=new bR(new Response),u="upload";for(a=t.size;s<a;){const c=Math.min(Loe,a-s),f=t.slice(s,s+c);s+c>=a&&(u+=", finalize");let h=0,v=joe;for(;h<Ooe&&(o=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[eE]));)h++,await Hoe(v),v=v*Foe;if(s+=c,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[eE])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function zoe(t){return{size:t.size,type:t.type}}function Hoe(t){return new Promise(e=>setTimeout(e,t))}class Goe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Uoe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Boe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zoe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qoe{create(e,n,r){return new $oe(e,n,r)}}class $oe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K3="x-goog-api-key";class Voe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(K3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(K3,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Woe="gl-node/";class Yoe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Ete(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Voe(this.apiKey);this.apiClient=new Sse({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Woe+"web",uploader:new Goe,downloader:new Ioe}),this.models=new zse(this.apiClient),this.live=new Lse(this.apiClient,i,new qoe),this.batches=new Qne(this.apiClient),this.chats=new Dre(this.models,this.apiClient),this.caches=new kre(this.apiClient),this.files=new Gre(this.apiClient),this.operations=new Hse(this.apiClient),this.authTokens=new ioe(this.apiClient),this.tunings=new Doe(this.apiClient),this.fileSearchStores=new foe(this.apiClient)}}const al="co-writter",Koe="Co-Author",IP="gemini-1.5-flash",Xoe="gemini-1.5-flash",MG="rzp_live_RR5721D6h6BMt4",_i=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),g.jsx("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),g.jsx("path",{d:"M3 6l0 13"}),g.jsx("path",{d:"M12 6l0 13"}),g.jsx("path",{d:"M21 6l0 13"})]}),Mu=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"}),g.jsx("path",{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"}),g.jsx("path",{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]}),X3=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("circle",{cx:"12",cy:"7",r:"4"}),g.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})]}),LP=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),g.jsx("path",{d:"M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),g.jsx("path",{d:"M17 17h-11v-14h-2"}),g.jsx("path",{d:"M6 5l14 1l-1 7h-13"})]}),tE=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),g.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),g.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),CR=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M3 6l2 -2h14l2 2"}),g.jsx("path",{d:"M5 6v13a1 1 0 0 0 1 1h12a1 1 0 0 0 1 -1v-13"}),g.jsx("path",{d:"M9 6v-2"}),g.jsx("path",{d:"M15 6v-2"}),g.jsx("path",{d:"M9 13h6"})]}),Joe=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M5 12l-2 0l9 -9l9 9l-2 0"}),g.jsx("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),g.jsx("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"})]}),Dd=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("path",{d:"M12 3l1.912 5.813a2 2 0 0 0 1.275 1.275L21 12l-5.813 1.912a2 2 0 0 0 -1.275 1.275L12 21l-1.912-5.813a2 2 0 0 0 -1.275-1.275L3 12l5.813-1.912a2 2 0 0 0 1.275-1.275L12 3Z"})}),x0=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),OP=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),g.jsx("path",{d:"M9 12h12l-3 -3"}),g.jsx("path",{d:"M18 15l3 -3"})]}),PG=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("polyline",{points:"6 9 12 15 18 9"})}),Qoe=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M5 12l14 0"}),g.jsx("path",{d:"M5 12l6 6"}),g.jsx("path",{d:"M5 12l6 -6"})]}),DG=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M5 12l14 0"}),g.jsx("path",{d:"M13 18l6 -6"}),g.jsx("path",{d:"M13 6l6 6"})]}),Zoe=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),g.jsx("polyline",{points:"17 6 23 6 23 12"})]}),Id=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M18 6 6 18"}),g.jsx("path",{d:"m6 6 12 12"})]}),ele=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),g.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),IG=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),g.jsx("line",{x1:"4",y1:"16",x2:"20",y2:"16"})]}),tle=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...t,children:g.jsx("path",{d:"M11.275 4.01L7.26 15.225H2.015L6.03 4.01h5.245zm1.53 0L8.79 12.65h10.41L15.175 4.01h-2.37zm-.263 10.372l3.412-9.15h4.15l-3.412 9.15h-4.15zM24 19.99h-4.015l2.008-5.265H24v5.265zm-6.265 0H2.015L0 22h17.735l2.007-5.265H17.735v3.255z"})}),LG=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),g.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),nle=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),g.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),OG=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M19 7V6a2 2 0 00-2-2H7a2 2 0 00-2 2v1"}),g.jsx("path",{d:"M3 10h18v9a2 2 0 01-2 2H5a2 2 0 01-2-2v-9z"}),g.jsx("line",{x1:"12",y1:"14",x2:"12.01",y2:"14"})]}),nE=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),g.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),TR=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("circle",{cx:"10",cy:"10",r:"7"}),g.jsx("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]}),jP=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("circle",{cx:"12",cy:"12",r:"9"}),g.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),g.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),rle=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),g.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),g.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),g.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),ile=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})}),GA=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}),g.jsx("path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"}),g.jsx("path",{d:"M15 13a4.5 4.5 0 0 1-3-1.4 4.5 4.5 0 0 1-3 1.4"}),g.jsx("path",{d:"M12 13v5"}),g.jsx("path",{d:"M9 9h6"})]}),ale=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),g.jsx("circle",{cx:"9",cy:"9",r:"2"}),g.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),w0=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M12 5l0 14"}),g.jsx("path",{d:"M5 12l14 0"})]}),jG=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("path",{d:"M5 12l14 0"})}),Ci=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("path",{d:"M5 12l5 5l10 -10"})}),FG=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...t,children:g.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),J3=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})}),a1=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),sle=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("circle",{cx:"12",cy:"12",r:"9"}),g.jsx("polyline",{points:"12 6 12 12 16 14"})]}),FP=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M4 20l4-1.5 14-14a2 2 0 0 0-2.83-2.83l-14 14L4 20"}),g.jsx("line",{x1:"13.5",y1:"6.5",x2:"17.5",y2:"10.5"})]}),Q3=FP,Z3=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("polyline",{points:"15 18 9 12 15 6"})}),eF=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("polyline",{points:"9 18 15 12 9 6"})}),ole=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("circle",{cx:"12",cy:"12",r:"4"}),g.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),lle=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:g.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})}),rE=t=>g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...t,children:g.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),dN=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M7 18a4.6 4.6 0 0 1 0 -9a5 5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"}),g.jsx("polyline",{points:"9 15 12 12 15 15"}),g.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"21"})]}),tF=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"4"}),g.jsx("circle",{cx:"12",cy:"12",r:"3"}),g.jsx("line",{x1:"16.5",y1:"7.5",x2:"16.5",y2:"7.501"})]}),ule=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("line",{x1:"9",y1:"6",x2:"20",y2:"6"}),g.jsx("line",{x1:"9",y1:"12",x2:"20",y2:"12"}),g.jsx("line",{x1:"9",y1:"18",x2:"20",y2:"18"}),g.jsx("line",{x1:"5",y1:"6",x2:"5",y2:"6.01"}),g.jsx("line",{x1:"5",y1:"12",x2:"5",y2:"12.01"}),g.jsx("line",{x1:"5",y1:"18",x2:"5",y2:"18.01"})]}),cle=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M10 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5"}),g.jsx("path",{d:"M19 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5"})]}),dle=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M19 18v-8l-2 2"}),g.jsx("path",{d:"M4 6v12"}),g.jsx("path",{d:"M12 6v12"}),g.jsx("path",{d:"M11 18h2"}),g.jsx("path",{d:"M3 18h2"}),g.jsx("path",{d:"M4 12h8"}),g.jsx("path",{d:"M3 6h2"}),g.jsx("path",{d:"M11 6h2"})]}),fle=t=>g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[g.jsx("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.601 1.46 -1 2l-3 3h4"}),g.jsx("path",{d:"M4 6v12"}),g.jsx("path",{d:"M12 6v12"}),g.jsx("path",{d:"M11 18h2"}),g.jsx("path",{d:"M3 18h2"}),g.jsx("path",{d:"M4 12h8"}),g.jsx("path",{d:"M3 6h2"}),g.jsx("path",{d:"M11 6h2"})]});let fN=null;const qA=()=>(fN||(fN=new Yoe({apiKey:"AIzaSyDigiZpeb7pvEN6gA_0p6Va0OK5yk88QjE"})),fN),hle={name:"write_content",description:"Writes content directly into the book editor. Use this to WRITE new prose, FIX existing text, or APPEND text. The content argument will completely replace the current editor content, so be sure to include the full text if you are just making a small edit. DO NOT use this to insert images directly as base64.",parameters:{type:xr.OBJECT,properties:{content:{type:xr.STRING,description:"The FULL markdown content to put into the editor."},summary:{type:xr.STRING,description:"A very brief 1-word status (e.g. 'Writing', 'Fixing', 'Analyzing')."}},required:["content"]}},ple={name:"propose_blueprint",description:"Propose a book title and chapter outline to the user for approval. Use this when the user asks to start a new book, create a plan, or brainstorm a structure.",parameters:{type:xr.OBJECT,properties:{title:{type:xr.STRING,description:"The proposed title of the book."},outline:{type:xr.ARRAY,items:{type:xr.OBJECT,properties:{title:{type:xr.STRING,description:"Chapter title"},summary:{type:xr.STRING,description:"Brief summary of chapter"}}},description:"List of chapters with summaries."}},required:["title","outline"]}},mle={name:"generate_image",description:"Generates a high-quality visual asset. REQUIRED for any image request. The AI must create a detailed visual description prompt based on the surrounding text context if the user does not provide one.",parameters:{type:xr.OBJECT,properties:{prompt:{type:xr.STRING,description:"The detailed visual description of the image or diagram to generate."}},required:["prompt"]}},UG=t=>{try{return qA().chats.create({model:IP,config:{systemInstruction:`IDENTITY: You are Co-Author, the advanced neural engine for co-writter by OpenDev Labs.
                
MISSION: Write immersive, deeply intelligent, and market-ready books.
Blend spirituality, science, and narrative clarity into a seamless flow.

CORE BEHAVIORS:
1. **Context-Aware**: You always know the previous chapter content and the full book outline. Never contradict established facts.
2. **Chapter Continuity**: If the user says "Continue", write the next logical section or the next chapter in the sequence.
3. **High-Quality Prose**: Avoid generic AI cliches. Use varying sentence structures, sensory details, and deep philosophical or technical insight depending on the genre.
4. **Structural Integrity**: Ensure chapter titles and numbers in your internal logic match the user's provided context exactly.
5. **Auto-Correction**: If a chapter is missing or numbered incorrectly, fix it automatically without asking. Never produce empty pages or misaligned titles.

IMAGE GENERATION RULES (CRITICAL):
- **NEVER** output raw base64 image strings (e.g. "![img](data:image...)") directly in your text response or write_content tool. This crashes the editor.
- **ALWAYS** use the \`generate_image\` tool when the user asks for an image.
- **Contextual Intelligence**: If the user says "add an image" or "visualize this", you must ANALYZE the current paragraph or scene and write a HIGHLY DETAILED prompt for the tool yourself. Do not ask the user "what kind of image?". Just generate it based on the story.

TOOLS:
- **write_content**: REQUIRED for any long-form writing. Do not dump text in chat.
- **propose_blueprint**: For creating or restructuring the book.
- **generate_image**: The ONLY way to create images.

RESPONSE STYLE:
- Chat: Ultra-concise, robotic but polite (1-2 sentences). e.g., "Executing drafting sequence for Chapter 3."
- Writing: Lush, expansive, professional.

CONTEXT:
${t}`,tools:[{functionDeclarations:[hle,ple,mle]}]}})}catch(e){return console.error("Failed to create studio session",e),null}},gle=async t=>{var e;try{const n=`Suggest a competitive market price in INR (Indian Rupees) for an eBook: "${t.title}" (${t.genre}). 
    CRITICAL: The price MUST be a "sacred" or numerologically significant number (e.g., 111, 222, 333, 444, 555, 777, 888, 999, 1111).
    Return ONLY the number.`;return((e=(await qA().models.generateContent({model:IP,contents:n})).text)==null?void 0:e.replace(/[^0-9.]/g,"").trim())||"444"}catch{return"444"}},BG=async(t,e="Cinematic",n="",r="")=>{var i,a,s,o,u;try{const c=`Professional Book Visual. Context: ${n} by ${r}. Request: ${t}. Mode: ${e}. Create a high-quality, clear, and relevant image/diagram. For diagrams, ensure clear labels and structure.`,h=(o=(s=(a=(i=(await qA().models.generateContent({model:Xoe,contents:{parts:[{text:c}]},config:{imageConfig:{aspectRatio:"3:4"}}})).candidates)==null?void 0:i[0])==null?void 0:a.content)==null?void 0:s.parts)==null?void 0:o.find(v=>v.inlineData);return(u=h==null?void 0:h.inlineData)!=null&&u.data?{imageBytes:h.inlineData.data,prompt:t}:{error:"Generation failed."}}catch{return{error:"Service unavailable."}}},vle=async()=>UG("Global Chat Context"),yle=async(t,e)=>{try{return(await qA().models.generateContent({model:IP,contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Transcribe the spoken audio into text. Return only the transcription, no intro/outro."}]}})).text||null}catch(n){return console.error("Transcription failed",n),null}},ble={currentUser:null,userType:_t.GUEST,setCurrentUser:()=>{},cart:[],addToCart:()=>{},removeFromCart:()=>{},clearCart:()=>{},theme:"dark",geminiChat:null,initializeChat:async()=>{},isChatbotOpen:!1,toggleChatbot:()=>{},updateSellerCreatorSite:()=>{},books:[],addCreatedBook:()=>{},updateBook:()=>{},deleteBook:()=>{},handleGoogleLogin:()=>{},handleFirebaseGoogleLogin:async()=>{},handleEmailLogin:async()=>({success:!1}),upgradeToSeller:()=>{},verifyUser:()=>{},loading:!0},zG=T.createContext(ble),$p="ebook_engine_production_live_v1",xle=({children:t})=>{const[e,n]=T.useState(()=>{try{const $=localStorage.getItem($p);return $?JSON.parse($).currentUser:null}catch{return null}}),[r,i]=T.useState(()=>{try{const $=localStorage.getItem($p);return $?JSON.parse($).userType:_t.GUEST}catch{return _t.GUEST}}),[a,s]=T.useState(()=>{try{const $=localStorage.getItem($p);return $?JSON.parse($).cart:[]}catch{return[]}}),[o,u]=T.useState(()=>{try{const $=localStorage.getItem($p);if(!$)return Gh;const U=JSON.parse($);return Array.isArray(U.books)?U.books:Array.isArray(U.allBooks)?U.allBooks:Gh}catch{return Gh}}),c="dark",[f,h]=T.useState(null),[v,y]=T.useState(!1),[w,A]=T.useState(!0);T.useEffect(()=>{const $=setTimeout(()=>{console.log("Forcing loading false after timeout"),A(!1)},1500);return()=>clearTimeout($)},[]),T.useEffect(()=>{const $={currentUser:e,userType:r,cart:a,books:o};localStorage.setItem($p,JSON.stringify($))},[e,r,a,o]),T.useEffect(()=>{let $=()=>{};return(async()=>{try{const{auth:q,db:Z}=await Jo(async()=>{const{auth:J,db:oe}=await import("./firebase-Bx4m2Htd.js");return{auth:J,db:oe}},__vite__mapDeps([0,1,2,3])),{onAuthStateChanged:ie}=await Jo(async()=>{const{onAuthStateChanged:J}=await import("./index.esm-jBoJwvNd.js");return{onAuthStateChanged:J}},__vite__mapDeps([2,1])),{doc:be,getDoc:V}=await Jo(async()=>{const{doc:J,getDoc:oe}=await import("./index.esm-r3RIfZqZ.js");return{doc:J,getDoc:oe}},__vite__mapDeps([3,1]));if(!q)return;$=ie(q,async J=>{try{if(J){console.log("Firebase Auth detected:",J.email);const oe=V(be(Z,"users",`google_${J.uid}`)),ve=new Promise((xe,_e)=>setTimeout(()=>_e(new Error("Timeout")),8e3));try{const xe=await Promise.race([oe,ve]);if(xe.exists()){const _e=xe.data();E(_e,_e.userType==="seller"?_t.SELLER:_t.USER)}else{const _e={id:`google_${J.uid}`,name:J.displayName||"Unknown",email:J.email||"",purchaseHistory:[],wishlist:[],isVerified:J.emailVerified,profileImageUrl:J.photoURL||""};E(_e,_t.USER)}}catch(xe){console.error("Firestore sync error or timeout:",xe),(xe.message==="Timeout"||xe.code==="permission-denied"||xe.message&&xe.message.includes("blocked"))&&(console.warn("Recovering from blocked/timed out Firebase state..."),E(null,_t.GUEST))}}else e!=null&&e.id.startsWith("google_")&&E(null,_t.GUEST)}catch(oe){console.error("Critical Auth Listener Error:",oe),E(null,_t.GUEST)}finally{A(!1)}})}catch(q){console.error("Auth Sync Init Failed:",q),A(!1)}})(),()=>$()},[]);const E=($,U)=>{n($),i(U),A(!1),$||(s([]),localStorage.removeItem($p))},C=$=>{s(U=>U.find(Z=>Z.id===$.id)?U.map(Z=>Z.id===$.id?{...Z,quantity:Z.quantity+1}:Z):[...U,{...$,quantity:1}])},k=$=>{s(U=>U.filter(q=>q.id!==$))},R=()=>{s([])},D=T.useCallback(async()=>{if(!f){console.log("Initializing Gemini Chat from AppContext...");const $=await vle();h($)}},[f]),I=()=>{y($=>{const U=!$;return U&&!f&&D(),U})},P=$=>{n(U=>{if(U&&(U.id.startsWith("seller")||U.id.startsWith("google")||r===_t.SELLER)){const q={...U,creatorSite:$};return Mc[q.id]&&(Mc[q.id].creatorSite=$),q}return U})},M=$=>{u(U=>U&&U.some(q=>q.id===$.id)?U:[$,...U||[]]),e&&r===_t.SELLER&&n(U=>{const q=U,Z=q.uploadedBooks||[];return{...q,uploadedBooks:[$,...Z]}})},B=$=>{u(U=>(U||[]).map(q=>q.id===$.id?$:q)),e&&e.id===$.sellerId&&r===_t.SELLER&&n(U=>{const q=U;return{...q,uploadedBooks:(q.uploadedBooks||[]).map(Z=>Z.id===$.id?$:Z)}})},z=$=>{u(U=>(U||[]).filter(q=>q.id!==$)),e&&r===_t.SELLER&&n(U=>{const q=U;return{...q,uploadedBooks:(q.uploadedBooks||[]).filter(Z=>Z.id!==$)}})},K=async()=>{if(window.location.hostname.includes("github.io")){const $="https://co-writter-studio.web.app/login";console.log("Redirecting to production app for auth:",$),window.location.href=$;return}try{const{auth:$,googleProvider:U,signInWithPopup:q}=await Jo(async()=>{const{auth:xe,googleProvider:_e,signInWithPopup:Ae}=await import("./firebase-Bx4m2Htd.js");return{auth:xe,googleProvider:_e,signInWithPopup:Ae}},__vite__mapDeps([0,1,2,3]));if(!$)throw new Error("Firebase Auth initialization failed.");const ie=(await q($,U)).user,be={id:`google_${ie.uid}`,name:ie.displayName||"Unknown User",email:ie.email||"",purchaseHistory:[],wishlist:[],isVerified:ie.emailVerified,profileImageUrl:ie.photoURL||""},{db:V}=await Jo(async()=>{const{db:xe}=await import("./firebase-Bx4m2Htd.js");return{db:xe}},__vite__mapDeps([0,1,2,3])),{doc:J,setDoc:oe,serverTimestamp:ve}=await Jo(async()=>{const{doc:xe,setDoc:_e,serverTimestamp:Ae}=await import("./index.esm-r3RIfZqZ.js");return{doc:xe,setDoc:_e,serverTimestamp:Ae}},__vite__mapDeps([3,1]));V&&await oe(J(V,"users",be.id),{...be,lastLogin:ve(),userType:"user"},{merge:!0}),E(be,_t.USER)}catch($){throw console.error("Firebase Login Error",$),$}},G=$=>{try{if(!$.credential)return}catch(U){console.error("GIS Login Failed",U)}},Y=async($,U)=>{const q=$.trim(),Z=U.trim();let ie="opendev-labs",be="co-pass-access";try{const J=import.meta;J.env&&(ie=J.env.VITE_ADMIN_USER||ie,be=J.env.VITE_ADMIN_PASS||be)}catch{console.warn("Could not access env vars, using defaults.")}if(q===ie&&Z===be){const J=Mc.seller_opendev;return J?(E(J,_t.SELLER),{success:!0}):{success:!1,message:"Admin profile configuration missing."}}const V=Object.values(Mc).find(J=>J.email===q);return V?"uploadedBooks"in V?(E(V,_t.SELLER),{success:!0}):{success:!1,message:"This email is not registered as a Writer account."}:{success:!1,message:"Invalid credentials."}},te=()=>{if(e&&r===_t.USER){const $=e,U={id:$.id,name:$.name,email:$.email,payoutEmail:$.email,uploadedBooks:[],isVerified:$.isVerified||!1,username:$.username||`@${$.name.replace(/\s+/g,"").toLowerCase()}`,profileImageUrl:$.profileImageUrl,creatorSite:{isEnabled:!1,slug:$.name.toLowerCase().replace(/\s+/g,"-"),theme:"dark-minimal",profileImageUrl:$.profileImageUrl,displayName:$.name,tagline:"Digital Creator",showcasedBookIds:[]}};E(U,_t.SELLER),Mc[$.id]=U,console.log("Upgraded to Seller:",U.name)}},W=()=>{if(e){const $={...e,isVerified:!0};n($)}};return g.jsx(zG.Provider,{value:{currentUser:e,userType:r,setCurrentUser:E,cart:a,addToCart:C,removeFromCart:k,clearCart:R,theme:c,geminiChat:f,initializeChat:D,isChatbotOpen:v,toggleChatbot:I,updateSellerCreatorSite:P,books:o,addCreatedBook:M,updateBook:B,deleteBook:z,handleGoogleLogin:G,handleFirebaseGoogleLogin:K,handleEmailLogin:Y,upgradeToSeller:te,verifyUser:W,loading:w},children:t})},ki=()=>T.useContext(zG),Ni=({className:t="w-14 h-14",isActive:e=!0})=>{const n=T.useRef(null),[r,i]=T.useState({x:0,y:0}),[a,s]=T.useState(!1);return T.useEffect(()=>{if(!e){i({x:0,y:0});return}const o=(f,h)=>{if(!n.current)return;const v=n.current.getBoundingClientRect(),y=v.left+v.width/2,w=v.top+v.height/2,A=f-y,E=h-w,C=v.width*.15,k=Math.atan2(E,A),R=Math.sqrt(A*A+E*E),D=Math.min(R/5,C),I=Math.cos(k)*D,P=Math.sin(k)*D;i({x:I,y:P})},u=f=>{o(f.clientX,f.clientY)},c=f=>{f.touches.length>0&&o(f.touches[0].clientX,f.touches[0].clientY)};return window.addEventListener("mousemove",u),window.addEventListener("touchmove",c),window.addEventListener("touchstart",c),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",c),window.removeEventListener("touchstart",c)}},[e]),T.useEffect(()=>{let o;const u=()=>{s(!0),setTimeout(()=>{s(!1);const c=2e3+Math.random()*4e3;o=setTimeout(u,c)},150)};return o=setTimeout(u,1e3),()=>clearTimeout(o)},[]),g.jsxs("div",{ref:n,className:`rounded-full aspect-square bg-[#0a0a0b] flex items-center justify-center relative shadow-[inset_0_0_20px_rgba(255,255,255,0.05)] border border-white/10 overflow-hidden flex-shrink-0 group ${t}`,children:[g.jsx("div",{className:`absolute inset-0 bg-white/5 blur-2xl rounded-full transition-opacity duration-1000 ${e?"opacity-100 animate-pulse-slow":"opacity-0"}`}),g.jsxs("div",{className:"w-full h-full flex items-center justify-center gap-[12%] transition-transform duration-200 ease-out will-change-transform z-10",style:{transform:`translate(${r.x}px, ${r.y}px)`},children:[g.jsx("div",{className:"relative w-[28%] h-[36%]",children:g.jsx("div",{className:`w-full bg-white rounded-full shadow-[0_0_15px_rgba(255,255,255,0.8)] transition-all duration-150 ease-in-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ${a?"h-[4%] scale-x-150":"h-full"}`,children:!a&&g.jsx("div",{className:"absolute top-1/4 left-1/4 w-1.5 h-1.5 bg-black/20 rounded-full blur-[1px]"})})}),g.jsx("div",{className:"relative w-[28%] h-[36%]",children:g.jsx("div",{className:`w-full bg-white rounded-full shadow-[0_0_15px_rgba(255,255,255,0.8)] transition-all duration-150 ease-in-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ${a?"h-[4%] scale-x-150":"h-full"}`,children:!a&&g.jsx("div",{className:"absolute top-1/4 left-1/4 w-1.5 h-1.5 bg-black/20 rounded-full blur-[1px]"})})})]})]})},wle=()=>{const{currentUser:t,userType:e,setCurrentUser:n,cart:r}=ki(),i=gv(),a=Er(),[s,o]=T.useState(!1),[u,c]=T.useState(!1);if(T.useEffect(()=>{u?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[u]),a.pathname==="/ebook-studio"||a.pathname==="/login"||a.pathname.startsWith("/site/"))return null;const f=()=>{n(null,_t.GUEST),o(!1),c(!1),i("/")},h=r.reduce((w,A)=>w+A.quantity,0),v=[{label:"Store",path:"/store",icon:g.jsx(CR,{className:"w-5 h-5"})},{label:"Plans",path:"/pricing",icon:g.jsx(_i,{className:"w-5 h-5"})}],y=a.pathname==="/";return g.jsxs(g.Fragment,{children:[g.jsx("nav",{className:"fixed top-0 left-0 right-0 w-full z-50 h-16 border-b border-white/5 bg-[#000000]/60 backdrop-blur-xl shadow-[0_4px_30px_rgba(0,0,0,0.1)] transition-all duration-300 ease-obsidian animate-slide-down will-change-transform",children:g.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 h-full flex items-center justify-between",children:[g.jsxs(lr,{to:"/",className:"flex items-center gap-3 group z-50 relative",children:[g.jsx(Ni,{className:"w-9 h-9 border border-white/20 bg-[#111] shadow-[0_0_10px_rgba(255,255,255,0.1)] rounded-full transition-transform duration-300 ease-obsidian group-hover:scale-110 will-change-transform"}),g.jsx("span",{className:"font-bold tracking-tighter text-lg text-white group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-white group-hover:via-neutral-300 group-hover:to-white group-hover:animate-shine transition-all",children:"co-writter"})]}),g.jsx("div",{className:"hidden md:flex items-center gap-8 absolute left-1/2 -translate-x-1/2",children:v.map(w=>g.jsxs(lr,{to:w.path,className:`text-sm font-medium transition-all duration-300 ease-obsidian flex items-center gap-2 hover:scale-105 ${a.pathname===w.path?"text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]":"text-neutral-400 hover:text-white"}`,children:[w.icon,w.label]},w.path))}),g.jsxs("div",{className:"flex items-center gap-4 z-50",children:[y&&g.jsx(lr,{to:"/store",className:"relative w-10 h-10 flex md:hidden items-center justify-center text-neutral-400 hover:text-white transition-all hover:scale-110 active:scale-95 duration-200 ease-obsidian flex-shrink-0 overflow-visible group","aria-label":"Go to Store",children:g.jsx(CR,{className:"w-5 h-5 group-hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.5)] transition-all"})}),g.jsxs(lr,{to:"/checkout",className:`relative w-10 h-10 items-center justify-center text-neutral-400 hover:text-white transition-all hover:scale-110 active:scale-95 duration-200 ease-obsidian flex-shrink-0 overflow-visible group ${y?"hidden md:flex":"flex"}`,"aria-label":"View Cart",children:[g.jsx(LP,{className:"w-5 h-5 group-hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.5)] transition-all"}),h>0&&g.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-white text-black text-[9px] font-bold border border-black animate-pulse-square shadow-sm z-10",children:h})]}),g.jsx("div",{className:"h-6 w-px bg-white/10 mx-2 hidden sm:block"}),g.jsx("div",{className:"relative hidden md:block",children:t&&e!==_t.GUEST?g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs(lr,{to:"/ebook-studio",className:"hidden lg:flex px-4 py-1.5 bg-white text-black hover:bg-neutral-200 text-xs font-bold uppercase tracking-widest rounded-full transition-all duration-300 ease-obsidian hover:scale-105 active:scale-95 items-center gap-2 shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:[g.jsx(Mu,{className:"w-3 h-3"})," Write"]}),g.jsx("button",{onClick:()=>o(!s),className:"flex items-center gap-2",children:g.jsx("div",{className:"w-8 h-8 rounded-full bg-neutral-900 border border-white/20 flex items-center justify-center text-xs font-bold text-white hover:border-white transition-all duration-300 hover:shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:t.profileImageUrl?g.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-full h-full object-cover rounded-full"}):t.name.charAt(0)})}),s&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),g.jsxs("div",{className:"absolute right-0 top-12 mt-2 w-56 bg-[#0a0a0a] border border-white/10 shadow-2xl py-1 z-20 origin-top-right rounded-lg animate-slide-up-stagger",children:[g.jsxs("div",{className:"px-4 py-3 border-b border-white/5 mb-1",children:[g.jsx("p",{className:"text-sm font-bold text-white truncate",children:t.name}),g.jsx("p",{className:"text-[10px] text-neutral-500 uppercase font-mono",children:e==="seller"?"Writer Account":"Reader Account"})]}),g.jsx(lr,{to:"/dashboard",onClick:()=>o(!1),className:"block px-4 py-2 text-sm text-neutral-300 hover:bg-white/5 hover:text-white transition-colors",children:"My Profile"}),g.jsx(lr,{to:"/ebook-studio",onClick:()=>o(!1),className:"block px-4 py-2 text-sm text-neutral-300 hover:bg-white/5 hover:text-white transition-colors lg:hidden",children:"Write Book"}),g.jsx("button",{onClick:f,className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-white/5 transition-colors",children:"Sign out"})]})]})]}):g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("a",{href:`${mm()}/login`,className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-neutral-400 hover:text-white transition-colors hover:scale-105 duration-200",children:"Login"}),g.jsx("a",{href:`${mm()}/pricing`,className:"px-5 py-2 text-xs font-bold uppercase tracking-widest text-black bg-white hover:bg-neutral-200 transition-all duration-300 ease-obsidian rounded-full hover:shadow-[0_0_15px_rgba(255,255,255,0.3)] hover:scale-105",children:"Start Free"})]})}),g.jsx("button",{className:"md:hidden p-2 text-neutral-400 hover:text-white relative z-50 transition-transform active:scale-90",onClick:()=>c(!u),children:u?g.jsx(Id,{className:"w-6 h-6"}):g.jsx(IG,{className:"w-6 h-6"})})]})]})}),u&&g.jsx("div",{className:"fixed inset-0 z-40 bg-black/95 backdrop-blur-xl md:hidden flex flex-col pt-24 pb-8 px-6 animate-fade-in",children:g.jsxs("div",{className:"flex flex-col gap-6",children:[g.jsxs(lr,{to:"/",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-100",children:[g.jsx(Joe,{className:"w-6 h-6 text-neutral-500"})," Home"]}),v.map((w,A)=>g.jsxs(lr,{to:w.path,onClick:()=>c(!1),className:`text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-${(A+2)*100}`,children:[g.jsx("span",{className:"text-neutral-500",children:w.icon}),w.label]},w.path)),t?g.jsxs(g.Fragment,{children:[g.jsxs(lr,{to:"/dashboard",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-300",children:[g.jsx(Ni,{className:"w-6 h-6 rounded-full border border-white/20",isActive:!1})," My Profile"]}),g.jsxs(lr,{to:"/ebook-studio",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-400",children:[g.jsx(Mu,{className:"w-6 h-6 text-neutral-500"})," Write Book"]}),g.jsx("button",{onClick:f,className:"text-left text-xl font-bold text-red-500 py-4 mt-4 animate-slide-up-stagger delay-400",children:"Sign Out"})]}):g.jsxs("div",{className:"mt-8 flex flex-col gap-4 animate-slide-up-stagger delay-400",children:[g.jsx("a",{href:`${mm()}/login`,className:"w-full py-4 bg-white/5 border border-white/10 text-white font-bold text-center rounded-full",children:"Login"}),g.jsx("a",{href:`${mm()}/pricing`,className:"w-full py-4 bg-white text-black font-bold text-center rounded-full shadow-glow-white",children:"Start Free"})]})]})})]})},Sle=()=>{const t=Er(),e=T.useRef(null);return T.useEffect(()=>{e.current&&window.anime&&(window.anime.remove(".wave-path-1"),window.anime.remove(".wave-path-2"),window.anime.remove(".wave-path-3"),window.anime({targets:".wave-path-1",translateX:[0,-1440],duration:2e4,easing:"linear",loop:!0}),window.anime({targets:".wave-path-2",translateX:[0,-1440],duration:15e3,easing:"linear",loop:!0}),window.anime({targets:".wave-path-3",translateX:[0,-1440],duration:8e3,easing:"linear",loop:!0}))},[t.pathname]),t.pathname==="/ebook-studio"||t.pathname.startsWith("/site/")||t.pathname==="/dashboard"||t.pathname.startsWith("/read/")?null:g.jsxs("div",{className:"relative mt-48",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full overflow-hidden leading-[0] transform -translate-y-[99%] z-0",style:{height:"200px"},children:g.jsxs("svg",{ref:e,className:"relative block w-full h-full",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:[g.jsx("path",{className:"wave-path-1 fill-[#1a1a1a] opacity-100",d:"M0,160 Q360,240 720,160 T1440,160 T2160,160 T2880,160 V320 H0 Z"}),g.jsx("path",{className:"wave-path-2 fill-[#0d0d0d] opacity-100",d:"M0,192 Q360,112 720,192 T1440,192 T2160,192 T2880,192 V320 H0 Z"}),g.jsx("path",{className:"wave-path-3 fill-[#000000]",d:"M0,224 Q360,284 720,224 T1440,224 T2160,224 T2880,224 V320 H0 Z"})]})}),g.jsx("footer",{className:"bg-[#000000] text-neutral-500 py-12 relative z-10 border-t-0",children:g.jsx("div",{className:"container mx-auto px-6",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left gap-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-white font-black text-3xl mb-3 tracking-tighter lowercase flex items-center justify-center md:justify-start gap-2",children:al}),g.jsxs("p",{className:"font-mono text-sm opacity-60 max-w-xs mx-auto md:mx-0",children:[" ",new Date().getFullYear()," All rights reserved."]}),g.jsxs("div",{className:"mt-6 space-y-2",children:[g.jsx("p",{className:"text-xs text-neutral-400 font-medium uppercase tracking-widest",children:"Where Thought Becomes Literature"}),g.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 opacity-80 hover:opacity-100 transition-opacity mt-2",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse shadow-[0_0_10px_rgba(99,102,241,0.5)]"}),g.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-500",children:["Neural Engine: ",Koe]})]})]})]}),g.jsxs("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4",children:[g.jsx(lr,{to:"/contact",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Contact"}),g.jsx(lr,{to:"/terms-and-conditions",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Terms"}),g.jsx(lr,{to:"/privacy-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Privacy"}),g.jsx(lr,{to:"/refund-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Refunds"}),g.jsx(lr,{to:"/shipping-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Shipping"})]})]})})})]})},Ny=({icon:t,label:e})=>g.jsxs("div",{className:"flex flex-col items-center gap-4 group cursor-default transition-all duration-300 hover:-translate-y-2",children:[g.jsxs("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-3xl bg-white/5 border border-white/10 flex items-center justify-center text-neutral-500 group-hover:text-white group-hover:bg-white/10 group-hover:border-white/30 group-hover:shadow-[0_0_30px_rgba(255,255,255,0.1)] transition-all duration-300 shadow-2xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsx("div",{className:"relative z-10 transform transition-transform duration-300 group-hover:scale-110",children:t})]}),g.jsx("span",{className:"text-xs md:text-sm font-bold uppercase tracking-widest text-neutral-600 group-hover:text-neutral-300 transition-colors",children:e})]}),Ele=()=>g.jsxs("svg",{viewBox:"-10.5 -9.45 21 18.9",className:"w-12 h-12 md:w-16 md:h-16 fill-current text-[#61DAFB]",children:[g.jsx("circle",{cx:"0",cy:"0",r:"2",fill:"currentColor"}),g.jsxs("g",{stroke:"currentColor",strokeWidth:"1",fill:"none",children:[g.jsx("ellipse",{rx:"10",ry:"4.5"}),g.jsx("ellipse",{rx:"10",ry:"4.5",transform:"rotate(60)"}),g.jsx("ellipse",{rx:"10",ry:"4.5",transform:"rotate(120)"})]})]}),Ale=()=>g.jsxs("svg",{viewBox:"0 0 32 32",className:"w-12 h-12 md:w-16 md:h-16 text-[#646CFF]",children:[g.jsx("path",{d:"M30.3 5.4L16.6 29.5 2.8 5.4h27.5z",fill:"currentColor",fillOpacity:"0.2"}),g.jsx("path",{d:"M16.6 29.5L2.8 5.4h11l2.8 17.5 2.8-17.5h10.9L16.6 29.5z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),g.jsx("path",{d:"M2.8 5.4h11L16.6 29.5 2.8 5.4z",fill:"currentColor",fillOpacity:"0.1"})]}),_le=()=>g.jsxs("svg",{viewBox:"0 0 128 128",className:"w-12 h-12 md:w-16 md:h-16 text-[#3178C6]",children:[g.jsx("rect",{width:"128",height:"128",rx:"20",fill:"currentColor",fillOpacity:"0.1"}),g.jsx("path",{d:"M29.1 56.1h21.9v10.4h-7.9v35.1h-11v-35.1h-7.9v-10.4h4.9zm41.6 34.6c2.4 1.7 6.4 3.7 10.4 3.7 4.2 0 6.2-2.1 6.2-5.1 0-8.6-24.6-9-24.6-25.1 0-9.8 8.1-16.7 21.6-16.7 6.5 0 10.9 1.6 13.9 3l-2.6 10.4c-2.6-1.3-6.4-2.7-10.7-2.7-4.1 0-6.1 2.2-6.1 4.7 0 8.3 24.6 9.3 24.6 25 0 10.5-9.1 17.1-22.1 17.1-6.8 0-12.7-2.1-15.6-3.8l3-10.5z",fill:"currentColor"})]}),Cle=()=>g.jsx("svg",{viewBox:"0 0 24 24",className:"w-12 h-12 md:w-16 md:h-16 fill-current text-[#38B2AC]",children:g.jsx("path",{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"})}),Tle=()=>g.jsxs("svg",{viewBox:"0 0 24 24",className:"w-12 h-12 md:w-16 md:h-16",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),Nle=()=>{const[t,e]=An.useState(""),[n,r]=An.useState("idle"),i=async a=>{if(a.preventDefault(),!!t){r("loading");try{const{db:s}=await Jo(async()=>{const{db:f}=await import("./firebase-Bx4m2Htd.js");return{db:f}},__vite__mapDeps([0,1,2,3])),{collection:o,addDoc:u,serverTimestamp:c}=await Jo(async()=>{const{collection:f,addDoc:h,serverTimestamp:v}=await import("./index.esm-r3RIfZqZ.js");return{collection:f,addDoc:h,serverTimestamp:v}},__vite__mapDeps([3,1]));await u(o(s,"leads"),{email:t,source:"landing_page",createdAt:c()}),r("success"),e("")}catch(s){console.error("Error capturing lead:",s),r("error")}}};return n==="success"?g.jsx("div",{className:"p-4 bg-green-500/20 border border-green-500/50 rounded-xl text-green-400 font-medium animate-fade-in",children:"Success! You've joined the list. "}):g.jsxs("form",{onSubmit:i,className:"flex flex-col sm:flex-row gap-4 max-w-md mx-auto relative z-20",children:[g.jsx("input",{type:"email",placeholder:"Enter your email",value:t,onChange:a=>e(a.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-full px-6 py-4 text-white placeholder-neutral-500 focus:outline-none focus:border-white/30 transition-colors",required:!0}),g.jsx("button",{type:"submit",disabled:n==="loading",className:"px-8 py-4 bg-white text-black font-bold rounded-full hover:bg-neutral-200 transition-colors disabled:opacity-50",children:n==="loading"?"Joining...":"Join Now"})]})},Rle=()=>{const t=gv(),{currentUser:e,handleFirebaseGoogleLogin:n}=ki(),[r,i]=An.useState(!1),a=async()=>{i(!0);try{await n(),t("/dashboard")}catch(s){console.error("Login failed",s),i(!1)}};return g.jsxs("div",{className:"min-h-screen bg-transparent text-white selection:bg-google-blue/30 overflow-x-hidden",children:[g.jsxs("section",{className:"relative min-h-[90vh] flex flex-col items-center justify-center px-6 text-center pt-32 pb-20 z-10 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-grid opacity-20 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black pointer-events-none"}),g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-white/5 rounded-full blur-[120px] pointer-events-none"}),g.jsxs("div",{className:"relative z-10 animate-slide-up flex flex-col items-center max-w-5xl mx-auto",children:[g.jsx("div",{className:"mb-8 md:mb-10 scale-100 hover:scale-105 transition-transform duration-500",children:g.jsx(Ni,{className:"w-24 h-24 md:w-32 md:h-32 bg-[#050505] shadow-[0_0_80px_rgba(255,255,255,0.15)] border border-white/30 rounded-full"})}),g.jsxs("div",{className:"mb-12 bg-white/5 border border-white/10 rounded-2xl px-6 py-2 flex items-center gap-6 overflow-hidden relative max-w-xl mx-auto backdrop-blur-md",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-[#81c995] animate-pulse"}),g.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-[#81c995]",children:"Ecosystem Pulse"})]}),g.jsx("div",{className:"h-3 w-px bg-white/10 flex-shrink-0"}),g.jsxs("div",{className:"flex gap-12 animate-marquee whitespace-nowrap text-[9px] font-bold text-neutral-500 uppercase tracking-widest",children:[g.jsx("span",{children:"New Creator Joined: @alex_writes"}),g.jsx("span",{children:'Sale: "Quantum Poetry" - 299'}),g.jsx("span",{children:"Payout: 1.4k sent to @dev_writer"}),g.jsx("span",{children:"Nodes Online: 1,284 Operational"})]})]}),g.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-black tracking-tighter mb-6 leading-[0.95] md:leading-[0.9] drop-shadow-2xl",children:["Turn Your Ideas",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-neutral-200 to-neutral-500",children:"Into Books."})]}),g.jsxs("p",{className:"text-base md:text-xl text-neutral-400 max-w-2xl mb-10 leading-relaxed px-4 drop-shadow-md",children:["The professional AI authoring engine for creators.",g.jsx("br",{}),"Write, format, and publish ebooks instantly."]}),g.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto px-4",children:e?g.jsxs("a",{href:`${mm()}/ebook-studio`,className:"w-full sm:w-auto px-10 py-4 bg-white text-black font-bold text-lg rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.4)] flex items-center justify-center gap-2 group",children:[g.jsx(Mu,{className:"w-5 h-5 group-hover:-translate-y-1 transition-transform"}),"Launch Studio"]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:a,disabled:r,className:"px-10 py-5 rounded-full font-black text-black bg-white hover:bg-neutral-200 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] hover:shadow-[0_0_50px_rgba(255,255,255,0.5)] transform hover:-translate-y-1 flex items-center gap-3 disabled:opacity-50",children:r?g.jsx("span",{className:"w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:["Get Started ",g.jsx(DG,{className:"w-5 h-5"})]})}),g.jsx("button",{onClick:a,disabled:r,className:"px-10 py-5 rounded-full font-black text-white border border-white/20 hover:bg-white/10 transition-all backdrop-blur-md disabled:opacity-50",children:"Login"})]})}),g.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-4 md:gap-8 text-neutral-500 text-[10px] font-mono uppercase tracking-[0.3em]",children:[g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(Ci,{className:"w-3 h-3 text-white/50"})," Easy to Use"]}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(Ci,{className:"w-3 h-3 text-white/50"})," Free to Start"]}),g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx(Ci,{className:"w-3 h-3 text-white/50"})," Instant Publishing"]})]})]})]}),g.jsx("section",{className:"py-24 px-6 border-b border-white/5 relative z-10",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-105 transition-all duration-300 group relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-indigo-500/30 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 shadow-[0_0_20px_rgba(99,102,241,0.2)]",children:g.jsx(GA,{className:"w-7 h-7 text-indigo-400 drop-shadow-[0_0_8px_rgba(129,140,248,0.5)]"})}),g.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"AI Co-Author"}),g.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Write with AI. Plan your chapters, write full pages, and fix grammar easily with our writing tools."})]}),g.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-110 transition-all duration-300 group relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-emerald-500/30 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-[0_0_20px_rgba(16,185,129,0.2)]",children:g.jsx(Mu,{className:"w-7 h-7 text-emerald-400 drop-shadow-[0_0_8px_rgba(52,211,153,0.5)]"})}),g.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Sell Your Books"}),g.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Publish your book instantly. Get your own profile link and keep 70% of every sale you make."})]}),g.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-110 transition-all duration-300 group relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-amber-500/30 bg-gradient-to-br from-amber-500/20 to-orange-500/20 shadow-[0_0_20px_rgba(245,158,11,0.2)]",children:g.jsx(_i,{className:"w-7 h-7 text-amber-400 drop-shadow-[0_0_8px_rgba(251,191,36,0.5)]"})}),g.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Easy Reading"}),g.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Read comfortably on any device. Support for PDF uploads and a distraction-free reading mode."})]})]})})}),g.jsx("section",{className:"py-24 px-6 relative overflow-hidden z-10",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center bg-black/30 backdrop-blur-lg border border-white/5 p-12 rounded-[40px] shadow-2xl relative",children:[g.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1/2 h-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),g.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-8 tracking-tight",children:"Built for Everyone"}),g.jsx("p",{className:"text-lg md:text-xl text-neutral-400 leading-relaxed mb-12 font-light",children:"Co-Writter isn't just a tool; it's a partner. We believe that everyone has a story worth telling, and with the right help, anyone can become an author."}),g.jsx(lr,{to:"/store",className:"inline-flex items-center gap-2 text-white font-bold border-b border-white pb-1 hover:opacity-70 transition-opacity tracking-widest uppercase text-sm",children:"Browse the Library "})]})}),g.jsx("section",{className:"py-20 px-6 relative z-10",children:g.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Join the Future of Publishing"}),g.jsx("p",{className:"text-neutral-400 mb-8",children:"Get updates on new AI features and writing tools. Only valuable content, no spam."}),g.jsx(Nle,{})]})}),g.jsx("section",{className:"py-20 border-t border-b border-white/5 bg-black/40 backdrop-blur relative z-20",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[g.jsx("p",{className:"text-center text-xs font-bold uppercase tracking-[0.3em] text-neutral-500 mb-12",children:"Built With Modern Architecture"}),g.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-16",children:[g.jsx(Ny,{label:"Google Gemini",icon:g.jsx(Tle,{})}),g.jsx(Ny,{label:"React 18",icon:g.jsx(Ele,{})}),g.jsx(Ny,{label:"TypeScript",icon:g.jsx(_le,{})}),g.jsx(Ny,{label:"Tailwind CSS",icon:g.jsx(Cle,{})}),g.jsx(Ny,{label:"Vite",icon:g.jsx(Ale,{})})]})]})})]})},{useNavigate:kle}=Ri,HG=({book:t,onViewDetails:e})=>{const{addToCart:n}=ki(),r=kle(),i=t.price===0,a=o=>{o.stopPropagation(),i?r(`/read/${t.id}`):n(t)},s=()=>{e&&e(t.id)};return g.jsxs("div",{className:"group relative bg-black/40 backdrop-blur-sm rounded-[20px] overflow-hidden border border-white/10 hover:border-white/30 transition-all duration-500 ease-obsidian cursor-pointer flex flex-col h-full hover:-translate-y-2 hover:shadow-[0_20px_40px_-10px_rgba(0,0,0,0.5)] will-change-transform",onClick:s,children:[g.jsxs("div",{className:"w-full aspect-[3/4] relative overflow-hidden bg-[#050505] border-b border-white/5",children:[g.jsx("img",{src:t.coverImageUrl||"https://picsum.photos/400/600",alt:`Cover of ${t.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ease-obsidian opacity-90 group-hover:opacity-100 will-change-transform",loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500"}),g.jsx("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:i&&g.jsx("div",{className:"bg-white text-black text-[9px] font-bold px-3 py-1 uppercase tracking-widest rounded-full shadow-lg",children:"Free"})})]}),g.jsxs("div",{className:"p-5 flex flex-col flex-grow relative",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("div",{className:"flex items-center justify-between mb-2",children:g.jsx("span",{className:"text-[9px] font-bold text-neutral-500 uppercase tracking-widest border border-white/10 px-2 py-0.5 rounded-full",children:t.genre})}),g.jsx("h3",{className:"text-lg font-bold text-white leading-tight line-clamp-2 mb-1 group-hover:text-neutral-200 transition-colors",title:t.title,children:t.title}),g.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-widest line-clamp-1",children:t.author})]}),g.jsxs("div",{className:"mt-auto pt-4 border-t border-white/5 flex items-center justify-between",children:[g.jsx("span",{className:"text-lg font-light text-white font-mono",children:i?"FREE":`${t.price.toFixed(0)}`}),g.jsx("button",{onClick:a,className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 transition-all duration-300 ease-obsidian hover:scale-105 active:scale-95 ${i?"bg-white/10 text-white hover:bg-white hover:text-black border border-white/20":"bg-white text-black hover:bg-neutral-200 shadow-[0_0_15px_rgba(255,255,255,0.2)]"}`,children:i?g.jsxs(g.Fragment,{children:["Read ",g.jsx(_i,{className:"w-3 h-3"})]}):g.jsxs(g.Fragment,{children:["Add ",g.jsx(LP,{className:"w-3 h-3"})]})})]})]})]})},Mle=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{const a=T.useRef(null);if(T.useLayoutEffect(()=>{t&&a.current&&(a.current.scrollTop=0)},[t]),!t)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-[95vw] h-[95vh]"};return dte.createPortal(g.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-xl flex items-center justify-center z-[100] p-4 transition-opacity duration-300 ease-in-out animate-fade-in",onClick:e,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:`bg-black rounded-[32px] shadow-[0_0_100px_rgba(0,0,0,1)] relative w-full ${s[i]} border border-white/15 flex flex-col max-h-[90vh] overflow-hidden animate-slide-up ring-1 ring-white/5`,onClick:o=>o.stopPropagation(),children:[g.jsx("button",{onClick:e,className:"absolute top-5 right-5 z-20 w-10 h-10 flex items-center justify-center rounded-full bg-black/50 border border-white/10 text-neutral-400 hover:text-white hover:bg-white/10 hover:border-white/30 transition-all hover:rotate-90 backdrop-blur-md","aria-label":"Close modal",children:g.jsx(Id,{className:"w-5 h-5"})}),n&&g.jsx("div",{className:"px-8 py-6 border-b border-white/5 bg-white/[0.02] flex-shrink-0",children:g.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:n})}),g.jsx("div",{ref:a,className:"p-0 overflow-y-auto custom-scrollbar flex-1",children:r})]})}),document.body)},hN=({options:t,value:e,onChange:n,icon:r,className:i="",placeholder:a})=>{const[s,o]=T.useState(!1),u=T.useRef(null),c=t.find(f=>f.value===e);return T.useEffect(()=>{const f=h=>{u.current&&!u.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),g.jsxs("div",{className:`relative ${i}`,ref:u,children:[g.jsxs("button",{type:"button",onClick:()=>o(!s),className:`flex items-center justify-between gap-3 w-full px-4 py-3 rounded-full border transition-all duration-200 h-full ${s?"bg-white text-black border-white":"bg-white/5 text-white border-transparent hover:bg-white/10 hover:border-white/10"}`,children:[g.jsxs("div",{className:"flex items-center gap-2 truncate min-w-0",children:[r&&g.jsx("span",{className:s?"text-black":"text-neutral-400",children:r}),g.jsx("span",{className:"text-sm font-bold truncate",children:c?c.label:a||"Select"})]}),g.jsx(PG,{className:`w-3 h-3 transition-transform duration-300 flex-shrink-0 ${s?"rotate-180 text-black":"text-neutral-500"}`})]}),s&&g.jsx("div",{className:"absolute top-full mt-2 left-0 w-full min-w-[180px] bg-[#1a1a1a] border border-white/10 rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.5)] overflow-hidden z-[60] animate-slide-down origin-top p-1",children:g.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:t.map(f=>g.jsx("button",{onClick:()=>{n(f.value),o(!1)},className:`w-full text-left px-4 py-2.5 text-sm rounded-xl transition-all mb-0.5 last:mb-0 ${e===f.value?"bg-white text-black font-bold":"text-neutral-400 hover:bg-white/5 hover:text-white font-medium"}`,children:f.label},f.value))})})]})},{useNavigate:Ple}=Ri,Dle=()=>{const{addToCart:t,books:e}=ki(),n=Ple(),[r,i]=T.useState(""),[a,s]=T.useState("All"),[o,u]=T.useState("All"),[c,f]=T.useState("publicationDate"),[h,v]=T.useState(!1),[y,w]=T.useState(null),E=T.useMemo(()=>["All",...new Set((e||[]).map(M=>M.genre))],[e]).map(M=>({label:M==="All"?"All Genres":M,value:M})),C=[{label:"All Prices",value:"All"},{label:"Free Only",value:"Free"},{label:"Paid Only",value:"Paid"}],k=[{label:"Newest First",value:"publicationDate"},{label:"Title (A-Z)",value:"title"},{label:"Price (Low-High)",value:"price"}],R=T.useMemo(()=>{let M=(e||[]).filter(B=>B.title.toLowerCase().includes(r.toLowerCase())||B.author.toLowerCase().includes(r.toLowerCase()));return a!=="All"&&(M=M.filter(B=>B.genre===a)),o==="Free"?M=M.filter(B=>B.price===0):o==="Paid"&&(M=M.filter(B=>B.price>0)),M.sort((B,z)=>c==="title"?B.title.localeCompare(z.title):c==="price"?B.price-z.price:c==="publicationDate"?new Date(z.publicationDate).getTime()-new Date(B.publicationDate).getTime():0)},[r,a,o,c,e]),D=T.useMemo(()=>(e||[]).find(M=>M.title.includes("Manual"))||(e||[]).find(M=>M.price>0)||(e==null?void 0:e[0]),[e]),I=M=>{const B=(e||[]).find(z=>z.id===M);B&&(w(B),v(!0))},P=()=>{y&&(y.price===0?n(`/read/${y.id}`):t(y),v(!1))};return g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-24 pb-safe md:pb-24 overflow-x-hidden",children:[D&&!r&&a==="All"&&g.jsxs("div",{className:"relative w-full rounded-[32px] overflow-hidden mb-12 md:mb-16 group border border-white/10 shadow-2xl animate-fade-in flex flex-col md:block h-auto md:h-[500px]",children:[g.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-[2s] group-hover:scale-105",style:{backgroundImage:`url(${D.coverImageUrl})`}}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent md:bg-gradient-to-r md:from-black md:via-black/80 md:to-transparent"}),g.jsxs("div",{className:"relative z-10 p-8 md:p-16 flex flex-col justify-end md:justify-center min-h-[400px] md:h-full max-w-2xl",children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-brand-accent/20 border border-brand-accent/30 w-fit mb-4 md:mb-6 backdrop-blur-md rounded-full animate-slide-up",children:[g.jsx(FG,{className:"w-3 h-3 text-brand-accent fill-current"}),g.jsx("span",{className:"text-[10px] md:text-xs font-bold text-brand-accent uppercase tracking-widest",children:"Featured Release"})]}),g.jsx("h1",{className:"text-3xl md:text-6xl font-black text-white mb-3 md:mb-4 leading-tight tracking-tight drop-shadow-lg",children:D.title}),g.jsx("p",{className:"text-sm md:text-xl text-neutral-300 mb-6 md:mb-8 line-clamp-3 leading-relaxed drop-shadow-md",children:D.description}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[g.jsx("button",{onClick:()=>I(D.id),className:"bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold py-3.5 px-8 rounded-full hover:bg-white hover:text-black transition-all text-xs uppercase tracking-widest",children:"View Details"}),g.jsx("button",{onClick:()=>{D.price===0?n(`/read/${D.id}`):t(D)},className:"px-8 py-3.5 rounded-full bg-white text-black font-bold transition-all hover:scale-105 flex items-center justify-center gap-2 text-xs uppercase tracking-widest",children:D.price===0?g.jsxs(g.Fragment,{children:[g.jsx(_i,{className:"w-4 h-4"})," Read Now"]}):g.jsxs(g.Fragment,{children:[g.jsx(LP,{className:"w-4 h-4"})," Add to Cart"]})})]})]})]}),g.jsx("div",{className:"sticky top-20 z-30 mx-auto w-full mb-8 transition-all duration-300",children:g.jsxs("div",{className:"bg-black/90 backdrop-blur-xl border border-white/10 shadow-xl rounded-[24px] p-2 md:p-3 flex flex-col md:flex-row gap-2 md:gap-3 items-stretch",children:[g.jsxs("div",{className:"relative group w-full flex-grow",children:[g.jsx(TR,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-500 group-focus-within:text-white transition-colors"}),g.jsx("input",{type:"text",placeholder:"Search books, authors...",className:"w-full h-full bg-white/5 border border-transparent focus:border-white/10 rounded-full py-3 pl-10 pr-4 text-white placeholder-neutral-500 focus:outline-none focus:bg-white/10 transition-all text-sm font-bold min-h-[48px]",value:r,onChange:M=>i(M.target.value)})]}),g.jsxs("div",{className:"grid grid-cols-2 md:flex gap-2 w-full md:w-auto",children:[g.jsx(hN,{options:E,value:a,onChange:s,className:"w-full md:w-auto md:min-w-[160px]",placeholder:"Genres"}),g.jsx(hN,{options:C,value:o,onChange:M=>u(M),className:"w-full md:w-auto md:min-w-[130px]",placeholder:"Price"}),g.jsx(hN,{options:k,value:c,onChange:f,className:"col-span-2 md:col-span-1 w-full md:w-auto md:min-w-[150px]",placeholder:"Sort By"})]})]})}),R.length>0?g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 pb-20",children:R.map(M=>g.jsx(HG,{book:M,onViewDetails:I},M.id))}):g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 border border-dashed border-white/10 rounded-3xl bg-white/5 text-center px-4",children:[g.jsx(TR,{className:"w-12 h-12 text-neutral-600 mb-4"}),g.jsx("p",{className:"text-xl text-white font-bold",children:"No books found"}),g.jsx("p",{className:"text-neutral-500 mt-2 text-sm",children:"Try adjusting your filters."})]}),y&&g.jsx(Mle,{isOpen:h,onClose:()=>v(!1),title:"",size:"lg",children:g.jsxs("div",{className:"flex flex-col md:flex-row h-full max-h-[85vh] overflow-y-auto md:overflow-hidden bg-black",children:[g.jsxs("div",{className:"w-full md:w-5/12 bg-neutral-900 relative",children:[g.jsx("img",{src:y.coverImageUrl,alt:y.title,className:"w-full h-full object-cover opacity-90"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),g.jsxs("div",{className:"w-full md:w-7/12 flex flex-col p-6 md:p-10",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-brand-accent mb-2 block",children:y.genre}),g.jsx("h2",{className:"text-2xl md:text-4xl font-black text-white leading-none mb-2",children:y.title}),g.jsxs("p",{className:"text-base text-neutral-400",children:["by ",y.author]})]}),g.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-2 mb-6",children:g.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed font-light",children:y.description})}),g.jsxs("div",{className:"mt-auto pt-6 border-t border-white/10 flex items-center justify-between",children:[g.jsx("span",{className:"text-3xl font-bold text-white",children:y.price===0?"Free":`${y.price}`}),g.jsx("button",{onClick:P,className:"bg-white text-black px-8 py-3 rounded-full font-bold text-xs uppercase tracking-widest hover:bg-neutral-200",children:y.price===0?"Read Now":"Add to Cart"})]})]})]})})]})},{useNavigate:Ile,Link:Lle}=Ri,UP=({children:t})=>{const{currentUser:e,userType:n,setCurrentUser:r}=ki(),i=Ile(),[a,s]=T.useState(!1);if(!e)return null;const o=()=>{r(null,_t.GUEST),i("/login")};return g.jsxs("header",{className:"h-16 border-b border-white/5 bg-[#0b0b0b] flex-shrink-0 flex items-center justify-between px-6 z-[60] sticky top-0",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs(Lle,{to:"/",className:"flex items-center gap-3 group",children:[g.jsx(Ni,{className:"w-8 h-8 border border-white/10 bg-neutral-900 rounded-full"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-bold tracking-tighter text-lg",children:"co-writter"}),g.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/5 border border-white/10 text-[10px] font-black uppercase tracking-widest text-neutral-500",children:"Studio"})]})]}),g.jsx("div",{className:"h-4 w-px bg-white/10 mx-2 hidden md:block"}),g.jsxs("button",{onClick:()=>i("/dashboard"),className:"hidden md:flex items-center gap-2 text-neutral-400 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest group/back",children:[g.jsx(tE,{className:"w-3.5 h-3.5 group-hover/back:scale-110 transition-transform"}),g.jsx("span",{children:"Dashboard"})]})]}),g.jsx("div",{className:"flex-1 flex items-center justify-center",children:t}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("button",{onClick:()=>i("/"),className:"flex items-center gap-2 px-6 py-2 bg-white text-black font-black text-[10px] uppercase tracking-widest rounded-full hover:bg-neutral-200 transition-all shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:scale-105 active:scale-95",children:[g.jsx(Q3,{className:"w-3.5 h-3.5"}),"Write"]}),g.jsx("div",{className:"h-6 w-px bg-white/10 mx-2"}),g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>s(!a),className:"flex items-center gap-3 group",children:g.jsx("div",{className:"w-8 h-8 rounded-full bg-neutral-900 border border-white/10 flex items-center justify-center text-xs font-bold overflow-hidden transition-all group-hover:border-white/30",children:e.profileImageUrl?g.jsx("img",{src:e.profileImageUrl,alt:"",className:"w-full h-full object-cover"}):e.name.charAt(0)})}),a&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>s(!1)}),g.jsxs("div",{className:"absolute right-0 top-12 mt-2 w-56 bg-[#0a0a0a] border border-white/10 shadow-2xl py-2 z-20 rounded-xl animate-slide-up",children:[g.jsxs("div",{className:"px-4 py-3 border-b border-white/5 mb-1",children:[g.jsx("p",{className:"text-sm font-bold text-white truncate",children:e.name}),g.jsxs("p",{className:"text-[10px] text-neutral-500 uppercase font-mono",children:[n==="seller"?"Writer":"Reader"," Account"]})]}),g.jsxs("button",{onClick:()=>{i("/dashboard"),s(!1)},className:"w-full text-left px-4 py-2.5 text-xs font-bold uppercase tracking-widest text-neutral-400 hover:bg-white/5 hover:text-white transition-all flex items-center gap-3",children:[g.jsx(tE,{className:"w-4 h-4"})," Dashboard"]}),g.jsxs("button",{onClick:()=>{i("/"),s(!1)},className:"w-full text-left px-4 py-2.5 text-xs font-bold uppercase tracking-widest text-neutral-400 hover:bg-white/5 hover:text-white transition-all flex items-center gap-3",children:[g.jsx(Q3,{className:"w-4 h-4"})," Studio"]}),g.jsx("div",{className:"my-1 border-t border-white/5"}),g.jsxs("button",{onClick:o,className:"w-full text-left px-4 py-2.5 text-xs font-bold uppercase tracking-widest text-red-400 hover:bg-red-400/5 transition-all flex items-center gap-3",children:[g.jsx(OP,{className:"w-4 h-4"})," Sign Out"]})]})]})]})]})]})},{useNavigate:Ole}=Ri,jle=()=>{const{currentUser:t,setCurrentUser:e,books:n,updateBook:r,deleteBook:i}=ki(),a=Ole(),[s,o]=T.useState("library"),[u,c]=T.useState(""),f=()=>{e(null,_t.GUEST),a("/login")};if(!t)return null;const h=t,v=({id:E,label:C,icon:k})=>g.jsxs("button",{onClick:()=>o(E),className:`w-full flex items-center gap-4 px-6 py-3.5 text-sm font-medium rounded-r-full transition-all duration-200 border-l-4 group ${s===E?"bg-white/10 text-white border-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-neutral-400 hover:bg-white/5 hover:text-white border-transparent"}`,children:[g.jsx(k,{className:`w-5 h-5 ${s===E?"text-white":"text-neutral-500 group-hover:text-white"}`}),C]}),y=({id:E,label:C,icon:k})=>g.jsxs("button",{onClick:()=>o(E),className:`flex flex-col items-center justify-center py-2 px-4 transition-colors ${s===E?"text-white":"text-neutral-500"}`,children:[g.jsx(k,{className:`w-6 h-6 mb-1 ${s===E?"text-white":"text-neutral-500"}`}),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:C})]}),w=s==="library"?h.purchaseHistory||[]:h.wishlist||[],A=w==null?void 0:w.filter(E=>E.title.toLowerCase().includes(u.toLowerCase()));return g.jsxs("div",{className:"h-screen w-full bg-[#0b0b0b] font-sans text-white flex flex-col overflow-hidden",children:[g.jsx(UP,{}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsxs("aside",{className:"w-64 flex-shrink-0 border-r border-white/5 hidden md:flex flex-col bg-[#0b0b0b] z-20 h-full overflow-y-auto",children:[g.jsx("div",{className:"p-8",children:g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-neutral-900 border border-white/10 flex items-center justify-center text-xl font-bold",children:t.profileImageUrl?g.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):t.name.charAt(0)}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-bold text-sm truncate w-32",children:t.name}),g.jsx("p",{className:"text-[10px] text-neutral-500 uppercase font-mono",children:"Reader Account"})]})]})}),g.jsxs("nav",{className:"flex-1 space-y-1 pr-4",children:[g.jsxs("button",{onClick:()=>a("/"),className:"w-full flex items-center gap-4 px-6 py-3.5 text-sm font-medium rounded-r-full transition-all duration-200 text-neutral-400 hover:bg-white/5 hover:text-white border-l-4 border-transparent group",children:[g.jsx(_i,{className:"w-5 h-5 text-neutral-500 group-hover:text-white rotate-180"}),"Main Site"]}),g.jsx("div",{className:"my-2 border-t border-white/5 mx-6"}),g.jsx(v,{id:"library",label:"My Library",icon:_i}),g.jsx(v,{id:"wishlist",label:"Wishlist",icon:J3}),g.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),g.jsx(v,{id:"settings",label:"Profile Settings",icon:x0})]}),g.jsx("div",{className:"p-6",children:g.jsxs("button",{onClick:f,className:"w-full flex items-center gap-4 px-6 py-3 text-sm font-bold text-red-500/70 hover:text-red-500 hover:bg-red-500/5 rounded-xl transition-all",children:[g.jsx(OP,{className:"w-5 h-5"}),"Sign Out"]})})]}),g.jsx("main",{className:"flex-1 overflow-y-auto bg-[#0b0b0b] relative pb-24 md:pb-8",children:g.jsxs("div",{className:"max-w-6xl mx-auto p-6 md:p-12",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-12",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-4 tracking-tight",children:[s==="library"&&"My Library",s==="wishlist"&&"Wishlist",s==="settings"&&"Settings"]}),g.jsxs("p",{className:"text-neutral-500 text-sm md:text-base font-medium",children:[s==="library"&&`You have ${w.length} books in your digital shelf.`,s==="wishlist"&&`You have ${w.length} items on your radar.`,s==="settings"&&"Customize your reader profile and preferences."]})]}),s!=="settings"&&g.jsxs("div",{className:"relative w-full md:w-80",children:[g.jsx(TR,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-600"}),g.jsx("input",{type:"text",placeholder:"Search your books...",value:u,onChange:E=>c(E.target.value),className:"w-full bg-[#151515] border border-white/5 rounded-full py-3 pl-12 pr-6 text-sm focus:outline-none focus:border-white/20 transition-all font-medium"})]})]}),g.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-8",children:s!=="settings"&&(A.length>0?A.map(E=>g.jsx(HG,{book:E},E.id)):g.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center justify-center text-center opacity-50",children:[g.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:g.jsx(_i,{className:"w-8 h-8 text-neutral-500"})}),g.jsx("p",{className:"font-bold text-lg text-white",children:"No books found."}),g.jsx("p",{className:"text-sm text-neutral-500",children:s==="library"?"You haven't purchased any books yet.":"Your wishlist is empty."})]}))}),s==="settings"&&g.jsx("div",{className:"animate-fade-in max-w-2xl bg-[#151515] rounded-[32px] p-8 md:p-12 border border-white/5",children:g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center gap-6 pb-8 border-b border-white/5",children:[g.jsx("div",{className:"w-24 h-24 rounded-full bg-neutral-900 border-2 border-white/10 flex items-center justify-center text-4xl font-bold shadow-2xl",children:t.profileImageUrl?g.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):t.name.charAt(0)}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold mb-1",children:t.name}),g.jsx("p",{className:"text-neutral-500 text-sm mb-4",children:t.email}),g.jsx("button",{className:"text-xs font-bold uppercase tracking-widest text-white/70 hover:text-white transition-colors",children:"Change Photo"})]})]}),g.jsxs("div",{className:"grid gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-neutral-500 uppercase tracking-[0.2em] mb-3",children:"Full Name"}),g.jsx("input",{type:"text",defaultValue:t.name,className:"w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-sm focus:outline-none focus:border-white/30 transition-all text-white"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-bold text-neutral-500 uppercase tracking-[0.2em] mb-3",children:"Email Address"}),g.jsx("input",{type:"email",defaultValue:t.email,disabled:!0,className:"w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-sm opacity-50 cursor-not-allowed text-white"})]})]}),g.jsx("button",{className:"w-full py-4 bg-white text-black font-bold rounded-2xl hover:bg-neutral-200 transition-all shadow-xl",children:"Save Changes"})]})})]})}),g.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-[#0b0b0b]/90 backdrop-blur-xl border-t border-white/10 flex items-center justify-around z-50 pb-safe",children:[g.jsx(y,{id:"library",label:"Library",icon:_i}),g.jsx(y,{id:"wishlist",label:"Wishlist",icon:J3}),g.jsx(y,{id:"settings",label:"Profile",icon:x0})]})]})]})};function GG(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=GG(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=GG(t))&&(r&&(r+=" "),r+=e);return r}var Fle=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function BP(t){if(typeof t!="string")return!1;var e=Fle;return e.includes(t)}var Ule=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ble=new Set(Ule);function qG(t){return typeof t!="string"?!1:Ble.has(t)}function $G(t){return typeof t=="string"&&t.startsWith("data-")}function po(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(qG(n)||$G(n))&&(e[n]=t[n]);return e}function $A(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return po(e)}return typeof t=="object"&&!Array.isArray(t)?po(t):null}function Os(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(qG(n)||$G(n)||BP(n))&&(e[n]=t[n]);return e}function zle(t){return t==null?null:T.isValidElement(t)?Os(t.props):typeof t=="object"&&!Array.isArray(t)?Os(t):null}var Hle=["children","width","height","viewBox","className","style","title","desc"];function NR(){return NR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NR.apply(null,arguments)}function Gle(t,e){if(t==null)return{};var n,r,i=qle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var VG=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:u,desc:c}=t,f=Gle(t,Hle),h=a||{width:r,height:i,x:0,y:0},v=Vt("recharts-surface",s);return T.createElement("svg",NR({},Os(f),{className:v,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),T.createElement("title",null,u),T.createElement("desc",null,c),n)}),$le=["children","className"];function RR(){return RR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RR.apply(null,arguments)}function Vle(t,e){if(t==null)return{};var n,r,i=Wle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sl=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Vle(t,$le),a=Vt("recharts-layer",r);return T.createElement("g",RR({className:a},Os(i),{ref:e}),n)}),Yle=T.createContext(null);function Gn(t){return function(){return t}}const kR=Math.PI,MR=2*kR,yf=1e-6,Kle=MR-yf;function WG(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Xle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WG;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Jle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WG:Xle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-e,c=i-n,f=s-e,h=o-n,v=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>yf)if(!(Math.abs(h*u-c*f)>yf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,w=i-o,A=u*u+c*c,E=y*y+w*w,C=Math.sqrt(A),k=Math.sqrt(v),R=a*Math.tan((kR-Math.acos((A+v-E)/(2*C*k)))/2),D=R/k,I=R/C;Math.abs(D-1)>yf&&this._append`L${e+D*f},${n+D*h}`,this._append`A${a},${a},0,0,${+(h*y>f*w)},${this._x1=e+I*u},${this._y1=n+I*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),c=e+o,f=n+u,h=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>yf||Math.abs(this._y1-f)>yf)&&this._append`L${c},${f}`,r&&(v<0&&(v=v%MR+MR),v>Kle?this._append`A${r},${r},0,1,${h},${e-o},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=f}`:v>yf&&this._append`A${r},${r},0,${+(v>=kR)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function YG(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Jle(e)}function zP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function KG(t){this._context=t}KG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function VA(t){return new KG(t)}function XG(t){return t[0]}function JG(t){return t[1]}function QG(t,e){var n=Gn(!0),r=null,i=VA,a=null,s=YG(o);t=typeof t=="function"?t:t===void 0?XG:Gn(t),e=typeof e=="function"?e:e===void 0?JG:Gn(e);function o(u){var c,f=(u=zP(u)).length,h,v=!1,y;for(r==null&&(a=i(y=s())),c=0;c<=f;++c)!(c<f&&n(h=u[c],c,u))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(h,c,u),+e(h,c,u));if(y)return a=null,y+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:Gn(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:Gn(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Gn(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function CS(t,e,n){var r=null,i=Gn(!0),a=null,s=VA,o=null,u=YG(c);t=typeof t=="function"?t:t===void 0?XG:Gn(+t),e=typeof e=="function"?e:Gn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JG:Gn(+n);function c(h){var v,y,w,A=(h=zP(h)).length,E,C=!1,k,R=new Array(A),D=new Array(A);for(a==null&&(o=s(k=u())),v=0;v<=A;++v){if(!(v<A&&i(E=h[v],v,h))===C)if(C=!C)y=v,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=v-1;w>=y;--w)o.point(R[w],D[w]);o.lineEnd(),o.areaEnd()}C&&(R[v]=+t(E,v,h),D[v]=+e(E,v,h),o.point(r?+r(E,v,h):R[v],n?+n(E,v,h):D[v]))}if(k)return o=null,k+""||null}function f(){return QG().defined(i).curve(s).context(a)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Gn(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Gn(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Gn(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:Gn(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Gn(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Gn(+h),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Gn(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),c):s},c.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),c):a},c}class ZG{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Qle(t){return new ZG(t,!0)}function Zle(t){return new ZG(t,!1)}function iE(){}function aE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function eq(t){this._context=t}eq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eue(t){return new eq(t)}function tq(t){this._context=t}tq.prototype={areaStart:iE,areaEnd:iE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:aE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tue(t){return new tq(t)}function nq(t){this._context=t}nq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:aE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nue(t){return new nq(t)}function rq(t){this._context=t}rq.prototype={areaStart:iE,areaEnd:iE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rue(t){return new rq(t)}function nF(t){return t<0?-1:1}function rF(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(nF(a)+nF(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function iF(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pN(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function sE(t){this._context=t}sE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pN(this,this._t0,iF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pN(this,iF(this,n=rF(this,t,e)),n);break;default:pN(this,this._t0,n=rF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function iq(t){this._context=new aq(t)}(iq.prototype=Object.create(sE.prototype)).point=function(t,e){sE.prototype.point.call(this,e,t)};function aq(t){this._context=t}aq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function iue(t){return new sE(t)}function aue(t){return new iq(t)}function sq(t){this._context=t}sq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aF(t),i=aF(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aF(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function sue(t){return new sq(t)}function WA(t,e){this._context=t,this._t=e}WA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function oue(t){return new WA(t,.5)}function lue(t){return new WA(t,0)}function uue(t){return new WA(t,1)}function av(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function PR(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cue(t,e){return t[e]}function due(t){const e=[];return e.key=t,e}function fue(){var t=Gn([]),e=PR,n=av,r=cue;function i(a){var s=Array.from(t.apply(this,arguments),due),o,u=s.length,c=-1,f;for(const h of a)for(o=0,++c;o<u;++o)(s[o][c]=[0,+r(h,s[o].key,c,a)]).data=h;for(o=0,f=zP(e(s));o<u;++o)s[f[o]].index=o;return n(s,f),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Gn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Gn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?PR:typeof a=="function"?a:Gn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??av,i):n},i}function hue(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}av(t,e)}}function pue(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}av(t,e)}}function mue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,u=0,c=0;o<s;++o){for(var f=t[e[o]],h=f[r][1]||0,v=f[r-1][1]||0,y=(h-v)/2,w=0;w<o;++w){var A=t[e[w]],E=A[r][1]||0,C=A[r-1][1]||0;y+=E-C}u+=h,c+=y*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=c/u)}i[r-1][1]+=i[r-1][0]=n,av(t,e)}}var mN={},gN={},sF;function gue(){return sF||(sF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(gN)),gN}var vN={},oF;function oq(){return oF||(oF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(vN)),vN}var yN={},lF;function HP(){return lF||(lF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(yN)),yN}var bN={},xN={},uF;function vue(){return uF||(uF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(xN)),xN}var cF;function GP(){return cF||(cF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vue(),n=HP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,u="",c="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];c?h==="\\"&&o+1<s?(o++,u+=i[o]):h===c?c="":u+=h:f?h==='"'||h==="'"?c=h:h==="]"?(f=!1,a.push(u),u=""):u+=h:h==="["?(f=!0,u&&(a.push(u),u="")):h==="."?u&&(a.push(u),u=""):u+=h,o++}return u&&a.push(u),a}t.toPath=r})(bN)),bN}var dF;function qP(){return dF||(dF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gue(),n=oq(),r=HP(),i=GP();function a(o,u,c){if(o==null)return c;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return c;const f=o[u];return f===void 0?n.isDeepKey(u)?a(o,i.toPath(u),c):c:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=o[u];return f===void 0?c:f}default:{if(Array.isArray(u))return s(o,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return c;const f=o[u];return f===void 0?c:f}}}function s(o,u,c){if(u.length===0)return c;let f=o;for(let h=0;h<u.length;h++){if(f==null||e.isUnsafeProperty(u[h]))return c;f=f[u[h]]}return f===void 0?c:f}t.get=a})(mN)),mN}var wN,fF;function yue(){return fF||(fF=1,wN=qP().get),wN}var bue=yue();const YA=bo(bue);var Ps=t=>t===0?0:t>0?1:-1,mo=t=>typeof t=="number"&&t!=+t,Pu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ke=t=>(typeof t=="number"||t instanceof Number)&&!mo(t),ol=t=>Ke(t)||typeof t=="string",xue=0,S0=t=>{var e=++xue;return"".concat(t||"").concat(e)},Ld=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(e)&&typeof e!="string")return r;var a;if(Pu(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return mo(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},lq=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Qo(t,e,n){return Ke(t)&&Ke(e)?t+n*(e-t):e}function uq(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):YA(r,e))===n)}var si=t=>t===null||typeof t>"u",$P=t=>si(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function wue(t){return t!=null}function Dx(){}var cq=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,VP=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{BP(i)&&(r[i]=(a=>n[i](n,a)))}),r},Sue=(t,e,n)=>r=>(t(e,n,r),null),Eue=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];BP(i)&&typeof a=="function"&&(r||(r={}),r[i]=Sue(a,e,n))}),r};function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(r){_ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ue(t,e,n){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ts(t,e){var n=Aue({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}var SN={},EN={},pF;function Nue(){return pF||(pF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(EN)),EN}var AN={},mF;function dq(){return mF||(mF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(AN)),AN}var _N={},CN={},TN={},gF;function Rue(){return gF||(gF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(TN)),TN}var vF;function WP(){return vF||(vF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rue();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(CN)),CN}var NN={},yF;function kue(){return yF||(yF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(NN)),NN}var bF;function Mue(){return bF||(bF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WP(),n=kue();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(_N)),_N}var RN={},kN={},xF;function Pue(){return xF||(xF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qP();function n(r){return function(i){return e.get(i,r)}}t.property=n})(kN)),kN}var MN={},PN={},DN={},IN={},wF;function fq(){return wF||(wF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(IN)),IN}var LN={},SF;function hq(){return SF||(SF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(LN)),LN}var ON={},EF;function pq(){return EF||(EF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(ON)),ON}var AF;function Due(){return AF||(AF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fq(),n=hq(),r=pq();function i(f,h,v){return typeof v!="function"?i(f,h,()=>{}):a(f,h,function y(w,A,E,C,k,R){const D=v(w,A,E,C,k,R);return D!==void 0?!!D:a(w,A,y,R)},new Map)}function a(f,h,v,y){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,v,y);case"function":return Object.keys(h).length>0?a(f,{...h},v,y):r.eq(f,h);default:return e.isObject(f)?typeof h=="string"?h==="":!0:r.eq(f,h)}}function s(f,h,v,y){if(h==null)return!0;if(Array.isArray(h))return u(f,h,v,y);if(h instanceof Map)return o(f,h,v,y);if(h instanceof Set)return c(f,h,v,y);const w=Object.keys(h);if(f==null)return w.length===0;if(w.length===0)return!0;if(y!=null&&y.has(h))return y.get(h)===f;y==null||y.set(h,f);try{for(let A=0;A<w.length;A++){const E=w[A];if(!n.isPrimitive(f)&&!(E in f)||h[E]===void 0&&f[E]!==void 0||h[E]===null&&f[E]!==null||!v(f[E],h[E],E,f,h,y))return!1}return!0}finally{y==null||y.delete(h)}}function o(f,h,v,y){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,A]of h.entries()){const E=f.get(w);if(v(E,A,w,f,h,y)===!1)return!1}return!0}function u(f,h,v,y){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let A=0;A<h.length;A++){const E=h[A];let C=!1;for(let k=0;k<f.length;k++){if(w.has(k))continue;const R=f[k];let D=!1;if(v(R,E,A,f,h,y)&&(D=!0),D){w.add(k),C=!0;break}}if(!C)return!1}return!0}function c(f,h,v,y){return h.size===0?!0:f instanceof Set?u([...f],[...h],v,y):!1}t.isMatchWith=i,t.isSetMatch=c})(DN)),DN}var _F;function mq(){return _F||(_F=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Due();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(PN)),PN}var jN={},FN={},UN={},CF;function Iue(){return CF||(CF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(UN)),UN}var BN={},TF;function gq(){return TF||(TF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(BN)),BN}var zN={},NF;function vq(){return NF||(NF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",u="[object Map]",c="[object Set]",f="[object Array]",h="[object Function]",v="[object ArrayBuffer]",y="[object Object]",w="[object Error]",A="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",R="[object Uint32Array]",D="[object BigUint64Array]",I="[object Int8Array]",P="[object Int16Array]",M="[object Int32Array]",B="[object BigInt64Array]",z="[object Float32Array]",K="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=v,t.arrayTag=f,t.bigInt64ArrayTag=B,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=A,t.dateTag=o,t.errorTag=w,t.float32ArrayTag=z,t.float64ArrayTag=K,t.functionTag=h,t.int16ArrayTag=P,t.int32ArrayTag=M,t.int8ArrayTag=I,t.mapTag=u,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=k,t.uint32ArrayTag=R,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=C})(zN)),zN}var HN={},RF;function Lue(){return RF||(RF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(HN)),HN}var kF;function yq(){return kF||(kF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iue(),n=gq(),r=vq(),i=hq(),a=Lue();function s(f,h){return o(f,void 0,f,new Map,h)}function o(f,h,v,y=new Map,w=void 0){const A=w==null?void 0:w(f,h,v,y);if(A!==void 0)return A;if(i.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const E=new Array(f.length);y.set(f,E);for(let C=0;C<f.length;C++)E[C]=o(f[C],C,v,y,w);return Object.hasOwn(f,"index")&&(E.index=f.index),Object.hasOwn(f,"input")&&(E.input=f.input),E}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const E=new RegExp(f.source,f.flags);return E.lastIndex=f.lastIndex,E}if(f instanceof Map){const E=new Map;y.set(f,E);for(const[C,k]of f)E.set(C,o(k,C,v,y,w));return E}if(f instanceof Set){const E=new Set;y.set(f,E);for(const C of f)E.add(o(C,void 0,v,y,w));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const E=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,E);for(let C=0;C<f.length;C++)E[C]=o(f[C],C,v,y,w);return E}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const E=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,E),u(E,f,v,y,w),E}if(typeof File<"u"&&f instanceof File){const E=new File([f],f.name,{type:f.type});return y.set(f,E),u(E,f,v,y,w),E}if(typeof Blob<"u"&&f instanceof Blob){const E=new Blob([f],{type:f.type});return y.set(f,E),u(E,f,v,y,w),E}if(f instanceof Error){const E=new f.constructor;return y.set(f,E),E.message=f.message,E.name=f.name,E.stack=f.stack,E.cause=f.cause,u(E,f,v,y,w),E}if(f instanceof Boolean){const E=new Boolean(f.valueOf());return y.set(f,E),u(E,f,v,y,w),E}if(f instanceof Number){const E=new Number(f.valueOf());return y.set(f,E),u(E,f,v,y,w),E}if(f instanceof String){const E=new String(f.valueOf());return y.set(f,E),u(E,f,v,y,w),E}if(typeof f=="object"&&c(f)){const E=Object.create(Object.getPrototypeOf(f));return y.set(f,E),u(E,f,v,y,w),E}return f}function u(f,h,v=f,y,w){const A=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<A.length;E++){const C=A[E],k=Object.getOwnPropertyDescriptor(f,C);(k==null||k.writable)&&(f[C]=o(h[C],C,v,y,w))}}function c(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=u})(FN)),FN}var MF;function Oue(){return MF||(MF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yq();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(jN)),jN}var PF;function jue(){return PF||(PF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mq(),n=Oue();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(MN)),MN}var GN={},qN={},$N={},DF;function Fue(){return DF||(DF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yq(),n=vq();function r(i,a){return e.cloneDeepWith(i,(s,o,u,c)=>{const f=a==null?void 0:a(s,o,u,c);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})($N)),$N}var IF;function Uue(){return IF||(IF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fue();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(qN)),qN}var VN={},WN={},LF;function bq(){return LF||(LF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(WN)),WN}var YN={},OF;function Bue(){return OF||(OF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gq();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(YN)),YN}var jF;function zue(){return jF||(jF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oq(),n=bq(),r=Bue(),i=GP();function a(s,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?u=i.toPath(o):u=[o],u.length===0)return!1;let c=s;for(let f=0;f<u.length;f++){const h=u[f];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=a})(VN)),VN}var FF;function Hue(){return FF||(FF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mq(),n=HP(),r=Uue(),i=qP(),a=zue();function s(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return u=r.cloneDeep(u),function(c){const f=i.get(c,o);return f===void 0?a.has(c,o):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=s})(GN)),GN}var UF;function Gue(){return UF||(UF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dq(),n=Pue(),r=jue(),i=Hue();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(RN)),RN}var BF;function que(){return BF||(BF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nue(),n=dq(),r=Mue(),i=Gue();function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(SN)),SN}var KN,zF;function $ue(){return zF||(zF=1,KN=que().uniqBy),KN}var Vue=$ue();const HF=bo(Vue);function Wue(t,e,n){return e===!0?HF(t,n):typeof e=="function"?HF(t,e):t}var XN={exports:{}},JN={},QN={exports:{}},ZN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GF;function Yue(){if(GF)return ZN;GF=1;var t=mv();function e(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(h,v){var y=v(),w=r({inst:{value:y,getSnapshot:v}}),A=w[0].inst,E=w[1];return a(function(){A.value=y,A.getSnapshot=v,u(A)&&E({inst:A})},[h,y,v]),i(function(){return u(A)&&E({inst:A}),h(function(){u(A)&&E({inst:A})})},[h]),s(y),y}function u(h){var v=h.getSnapshot;h=h.value;try{var y=v();return!n(h,y)}catch{return!0}}function c(h,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return ZN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,ZN}var qF;function Kue(){return qF||(qF=1,QN.exports=Yue()),QN.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $F;function Xue(){if($F)return JN;$F=1;var t=mv(),e=Kue();function n(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,u=t.useDebugValue;return JN.useSyncExternalStoreWithSelector=function(c,f,h,v,y){var w=a(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=o(function(){function C(P){if(!k){if(k=!0,R=P,P=v(P),y!==void 0&&A.hasValue){var M=A.value;if(y(M,P))return D=M}return D=P}if(M=D,r(R,P))return M;var B=v(P);return y!==void 0&&y(M,B)?(R=P,M):(R=P,D=B)}var k=!1,R,D,I=h===void 0?null:h;return[function(){return C(f())},I===null?void 0:function(){return C(I())}]},[f,h,v,y]);var E=i(c,w[0],w[1]);return s(function(){A.hasValue=!0,A.value=E},[E]),u(E),E},JN}var VF;function Jue(){return VF||(VF=1,XN.exports=Xue()),XN.exports}var Que=Jue(),YP=T.createContext(null),Zue=t=>t,Hr=()=>{var t=T.useContext(YP);return t?t.store.dispatch:Zue},s1=()=>{},ece=()=>s1,tce=(t,e)=>t===e;function Qe(t){var e=T.useContext(YP);return Que.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:ece,e?e.store.getState:s1,e?e.store.getState:s1,e?t:s1,tce)}function nce(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function rce(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ice(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var WF=t=>Array.isArray(t)?t:[t];function ace(t){const e=Array.isArray(t[0])?t[0]:t;return ice(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function sce(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var oce=class{constructor(t){this.value=t}deref(){return this.value}},lce=typeof WeakRef<"u"?WeakRef:oce,uce=0,YF=1;function TS(){return{s:uce,v:void 0,o:null,p:null}}function xq(t,e={}){let n=TS();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var h;let o=n;const{length:u}=arguments;for(let v=0,y=u;v<y;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let A=o.o;A===null&&(o.o=A=new WeakMap);const E=A.get(w);E===void 0?(o=TS(),A.set(w,o)):o=E}else{let A=o.p;A===null&&(o.p=A=new Map);const E=A.get(w);E===void 0?(o=TS(),A.set(w,o)):o=E}}const c=o;let f;if(o.s===YF)f=o.v;else if(f=t.apply(null,arguments),a++,r){const v=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;v!=null&&r(v,f)&&(f=v,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new lce(f):f}return c.s=YF,c.v=f,f}return s.clearCache=()=>{n=TS(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function cce(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),nce(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const f={...n,...u},{memoize:h,memoizeOptions:v=[],argsMemoize:y=xq,argsMemoizeOptions:w=[]}=f,A=WF(v),E=WF(w),C=ace(i),k=h(function(){return a++,c.apply(null,arguments)},...A),R=y(function(){s++;const I=sce(C,arguments);return o=k.apply(null,I),o},...E);return Object.assign(R,{resultFunc:c,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var fe=cce(xq),dce=Object.assign((t,e=fe)=>{rce(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,u)=>(s[n[u]]=o,s),{}))},{withTypes:()=>dce}),e2={},t2={},n2={},KF;function fce(){return KF||(KF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(n2)),n2}var r2={},i2={},XF;function wq(){return XF||(XF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(i2)),i2}var JF;function hce(){return JF||(JF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wq(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(r2)),r2}var QF;function pce(){return QF||(QF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fce(),n=hce(),r=GP();function i(a,s,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const c=(y,w)=>{let A=y;for(let E=0;E<w.length&&A!=null;++E)A=A[w[E]];return A},f=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:c(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?c(w,y):typeof w=="object"?w[y]:w,h=s.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return a.map(y=>({original:y,criteria:h.map(w=>f(w,y))})).slice().sort((y,w)=>{for(let A=0;A<h.length;A++){const E=e.compareValues(y.criteria[A],w.criteria[A],o[A]);if(E!==0)return E}return 0}).map(y=>y.original)}t.orderBy=i})(t2)),t2}var a2={},ZF;function mce(){return ZF||(ZF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,u)=>{for(let c=0;c<o.length;c++){const f=o[c];Array.isArray(f)&&u<a?s(f,u+1):i.push(f)}};return s(n,0),i}t.flatten=e})(a2)),a2}var s2={},eU;function Sq(){return eU||(eU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bq(),n=WP(),r=fq(),i=pq();function a(s,o,u){return r.isObject(u)&&(typeof o=="number"&&n.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.eq(u[o],s):!1}t.isIterateeCall=a})(s2)),s2}var tU;function gce(){return tU||(tU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pce(),n=mce(),r=Sq();function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(e2)),e2}var o2,nU;function vce(){return nU||(nU=1,o2=gce().sortBy),o2}var yce=vce();const KA=bo(yce);var Eq=t=>t.legend.settings,bce=t=>t.legend.size,xce=t=>t.legend.payload;fe([xce,Eq],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?KA(r,n):r});var NS=1;function wce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>NS||Math.abs(s.left-e.left)>NS||Math.abs(s.top-e.top)>NS||Math.abs(s.width-e.width)>NS)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function ti(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Sce=typeof Symbol=="function"&&Symbol.observable||"@@observable",rU=Sce,l2=()=>Math.random().toString(36).substring(7).split("").join("."),Ece={INIT:`@@redux/INIT${l2()}`,REPLACE:`@@redux/REPLACE${l2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${l2()}`},oE=Ece;function KP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Aq(t,e,n){if(typeof t!="function")throw new Error(ti(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ti(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ti(1));return n(Aq)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,u=!1;function c(){s===a&&(s=new Map,a.forEach((E,C)=>{s.set(C,E)}))}function f(){if(u)throw new Error(ti(3));return i}function h(E){if(typeof E!="function")throw new Error(ti(4));if(u)throw new Error(ti(5));let C=!0;c();const k=o++;return s.set(k,E),function(){if(C){if(u)throw new Error(ti(6));C=!1,c(),s.delete(k),a=null}}}function v(E){if(!KP(E))throw new Error(ti(7));if(typeof E.type>"u")throw new Error(ti(8));if(typeof E.type!="string")throw new Error(ti(17));if(u)throw new Error(ti(9));try{u=!0,i=r(i,E)}finally{u=!1}return(a=s).forEach(k=>{k()}),E}function y(E){if(typeof E!="function")throw new Error(ti(10));r=E,v({type:oE.REPLACE})}function w(){const E=h;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(ti(11));function k(){const D=C;D.next&&D.next(f())}return k(),{unsubscribe:E(k)}},[rU](){return this}}}return v({type:oE.INIT}),{dispatch:v,subscribe:h,getState:f,replaceReducer:y,[rU]:w}}function Ace(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:oE.INIT})>"u")throw new Error(ti(12));if(typeof n(void 0,{type:oE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ti(13))})}function _q(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{Ace(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let u=!1;const c={};for(let f=0;f<r.length;f++){const h=r[f],v=n[h],y=s[h],w=v(y,o);if(typeof w>"u")throw o&&o.type,new Error(ti(14));c[h]=w,u=u||w!==y}return u=u||r.length!==Object.keys(s).length,u?c:s}}function lE(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function _ce(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(ti(15))};const s={getState:i.getState,dispatch:(u,...c)=>a(u,...c)},o=t.map(u=>u(s));return a=lE(...o)(i.dispatch),{...i,dispatch:a}}}function Cq(t){return KP(t)&&"type"in t&&typeof t.type=="string"}var Tq=Symbol.for("immer-nothing"),iU=Symbol.for("immer-draftable"),Gi=Symbol.for("immer-state");function lo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ka=Object,sv=Ka.getPrototypeOf,uE="constructor",XA="prototype",DR="configurable",cE="enumerable",o1="writable",E0="value",Du=t=>!!t&&!!t[Gi];function go(t){var e;return t?Nq(t)||JA(t)||!!t[iU]||!!((e=t[uE])!=null&&e[iU])||QA(t)||ZA(t):!1}var Cce=Ka[XA][uE].toString(),aU=new WeakMap;function Nq(t){if(!t||!XP(t))return!1;const e=sv(t);if(e===null||e===Ka[XA])return!0;const n=Ka.hasOwnProperty.call(e,uE)&&e[uE];if(n===Object)return!0;if(!em(n))return!1;let r=aU.get(n);return r===void 0&&(r=Function.toString.call(n),aU.set(n,r)),r===Cce}function Ix(t,e,n=!0){Lx(t)===0?(n?Reflect.ownKeys(t):Ka.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Lx(t){const e=t[Gi];return e?e.type_:JA(t)?1:QA(t)?2:ZA(t)?3:0}var sU=(t,e,n=Lx(t))=>n===2?t.has(e):Ka[XA].hasOwnProperty.call(t,e),IR=(t,e,n=Lx(t))=>n===2?t.get(e):t[e],dE=(t,e,n,r=Lx(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Tce(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var JA=Array.isArray,QA=t=>t instanceof Map,ZA=t=>t instanceof Set,XP=t=>typeof t=="object",em=t=>typeof t=="function",u2=t=>typeof t=="boolean",Fl=t=>t.copy_||t.base_,JP=t=>t.modified_?t.copy_:t.base_;function LR(t,e){if(QA(t))return new Map(t);if(ZA(t))return new Set(t);if(JA(t))return Array[XA].slice.call(t);const n=Nq(t);if(e===!0||e==="class_only"&&!n){const r=Ka.getOwnPropertyDescriptors(t);delete r[Gi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[o1]===!1&&(o[o1]=!0,o[DR]=!0),(o.get||o.set)&&(r[s]={[DR]:!0,[o1]:!0,[cE]:o[cE],[E0]:t[s]})}return Ka.create(sv(t),r)}else{const r=sv(t);if(r!==null&&n)return{...t};const i=Ka.create(r);return Ka.assign(i,t)}}function QP(t,e=!1){return e_(t)||Du(t)||!go(t)||(Lx(t)>1&&Ka.defineProperties(t,{set:RS,add:RS,clear:RS,delete:RS}),Ka.freeze(t),e&&Ix(t,(n,r)=>{QP(r,!0)},!1)),t}function Nce(){lo(2)}var RS={[E0]:Nce};function e_(t){return t===null||!XP(t)?!0:Ka.isFrozen(t)}var fE="MapSet",OR="Patches",Rq={};function ov(t){const e=Rq[t];return e||lo(0,t),e}var Rce=t=>!!Rq[t],A0,kq=()=>A0,kce=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Rce(fE)?ov(fE):void 0});function oU(t,e){e&&(t.patchPlugin_=ov(OR),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function jR(t){FR(t),t.drafts_.forEach(Mce),t.drafts_=null}function FR(t){t===A0&&(A0=t.parent_)}var lU=t=>A0=kce(A0,t);function Mce(t){const e=t[Gi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function uU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Gi].modified_&&(jR(e),lo(4)),go(t)&&(t=cU(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Gi].base_,t,e)}else t=cU(e,n);return Pce(e,t,!0),jR(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Tq?t:void 0}function cU(t,e){if(e_(e))return e;const n=e[Gi];if(!n)return ZP(e,t.handledSet_,t);if(!t_(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Dq(n,t)}return n.copy_}function Pce(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QP(e,n)}function Mq(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var t_=(t,e)=>t.scope_===e,Dce=[];function Pq(t,e,n,r){const i=Fl(t),a=t.type_;if(r!==void 0&&IR(i,r,a)===e){dE(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Ix(i,(u,c)=>{if(Du(c)){const f=o.get(c)||[];f.push(u),o.set(c,f)}})}const s=t.draftLocations_.get(e)??Dce;for(const o of s)dE(i,o,n,a)}function Ice(t,e,n){t.callbacks_.push(function(i){var o;const a=e;if(!a||!t_(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=JP(a);Pq(t,a.draft_??a,s,n),Dq(a,i)})}function Dq(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}Mq(t)}}function Lce(t,e,n){const{scope_:r}=t;if(Du(n)){const i=n[Gi];t_(i,r)&&i.callbacks_.push(function(){l1(t);const s=JP(i);Pq(t,n,s,e)})}else go(n)&&t.callbacks_.push(function(){const a=Fl(t);IR(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&ZP(IR(t.copy_,e,t.type_),r.handledSet_,r)})}function ZP(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Du(t)||e.has(t)||!go(t)||e_(t)||(e.add(t),Ix(t,(r,i)=>{if(Du(i)){const a=i[Gi];if(t_(a,n)){const s=JP(a);dE(t,r,s,t.type_),Mq(a)}}else go(i)&&ZP(i,e,n)})),t}function Oce(t,e){const n=JA(t),r={type_:n?1:0,scope_:e?e.scope_:kq(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=eD;n&&(i=[r],a=_0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var eD={get(t,e){if(e===Gi)return t;const n=Fl(t);if(!sU(n,e,t.type_))return jce(t,n,e);const r=n[e];if(t.finalized_||!go(r))return r;if(r===c2(t.base_,e)){l1(t);const i=t.type_===1?+e:e,a=BR(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in Fl(t)},ownKeys(t){return Reflect.ownKeys(Fl(t))},set(t,e,n){const r=Iq(Fl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=c2(Fl(t),e),a=i==null?void 0:i[Gi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Tce(n,i)&&(n!==void 0||sU(t.base_,e,t.type_)))return!0;l1(t),UR(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Lce(t,e,n)),!0},deleteProperty(t,e){return l1(t),c2(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),UR(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Fl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[o1]:!0,[DR]:t.type_!==1||e!=="length",[cE]:r[cE],[E0]:n[e]}},defineProperty(){lo(11)},getPrototypeOf(t){return sv(t.base_)},setPrototypeOf(){lo(12)}},_0={};Ix(eD,(t,e)=>{_0[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});_0.deleteProperty=function(t,e){return _0.set.call(this,t,e,void 0)};_0.set=function(t,e,n){return eD.set.call(this,t[0],e,n,t[0])};function c2(t,e){const n=t[Gi];return(n?Fl(n):t)[e]}function jce(t,e,n){var i;const r=Iq(e,n);return r?E0 in r?r[E0]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Iq(t,e){if(!(e in t))return;let n=sv(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=sv(n)}}function UR(t){t.modified_||(t.modified_=!0,t.parent_&&UR(t.parent_))}function l1(t){t.copy_||(t.assigned_=new Map,t.copy_=LR(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Fce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(em(n)&&!em(r)){const s=r;r=n;const o=this;return function(c=s,...f){return o.produce(c,h=>r.call(this,h,...f))}}em(r)||lo(6),i!==void 0&&!em(i)&&lo(7);let a;if(go(n)){const s=lU(this),o=BR(s,n,void 0);let u=!0;try{a=r(o),u=!1}finally{u?jR(s):FR(s)}return oU(s,i),uU(a,s)}else if(!n||!XP(n)){if(a=r(n),a===void 0&&(a=n),a===Tq&&(a=void 0),this.autoFreeze_&&QP(a,!0),i){const s=[],o=[];ov(OR).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else lo(1,n)},this.produceWithPatches=(n,r)=>{if(em(n))return(o,...u)=>this.produceWithPatches(o,c=>n(c,...u));let i,a;return[this.produce(n,r,(o,u)=>{i=o,a=u}),i,a]},u2(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),u2(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),u2(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){go(e)||lo(8),Du(e)&&(e=ho(e));const n=lU(this),r=BR(n,e,void 0);return r[Gi].isManual_=!0,FR(n),r}finishDraft(e,n){const r=e&&e[Gi];(!r||!r.isManual_)&&lo(9);const{scope_:i}=r;return oU(i,n),uU(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ov(OR).applyPatches_;return Du(e)?i(e,n):this.produce(e,a=>i(a,n))}};function BR(t,e,n,r){const[i,a]=QA(e)?ov(fE).proxyMap_(e,n):ZA(e)?ov(fE).proxySet_(e,n):Oce(e,n);return((n==null?void 0:n.scope_)??kq()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?Ice(n,a,r):a.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(a);const{patchPlugin_:c}=u;a.modified_&&c&&c.generatePatches_(a,[],u)}),i}function ho(t){return Du(t)||lo(10,t),Lq(t)}function Lq(t){if(!go(t)||e_(t))return t;const e=t[Gi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=LR(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=LR(t,!0);return Ix(n,(i,a)=>{dE(n,i,Lq(a))},r),e&&(e.finalized_=!1),n}var Uce=new Fce,Oq=Uce.produce;function jq(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Bce=jq(),zce=jq,Hce=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lE:lE.apply(null,arguments)};function js(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Xa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Cq(r)&&r.type===t,n}var Fq=class Hy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hy.prototype)}static get[Symbol.species](){return Hy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hy(...e[0].concat(this)):new Hy(...e.concat(this))}};function dU(t){return go(t)?Oq(t,()=>{}):t}function kS(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Gce(t){return typeof t=="boolean"}var qce=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new Fq;return n&&(Gce(n)?s.push(Bce):s.push(zce(n.extraArgument))),s},Uq="RTK_autoBatch",Rn=()=>t=>({payload:t,meta:{[Uq]:!0}}),fU=t=>e=>{setTimeout(e,t)},Bq=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fU(10):t.type==="callback"?t.queueNotification:fU(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>i&&f(),v=r.subscribe(h);return o.add(f),()=>{v(),o.delete(f)}},dispatch(f){var h;try{return i=!((h=f==null?void 0:f.meta)!=null&&h[Uq]),a=!i,a&&(s||(s=!0,u(c))),r.dispatch(f)}finally{i=!0}}})},$ce=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Fq(t);return r&&i.push(Bq(typeof r=="object"?r:void 0)),i};function Vce(t){const e=qce(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(KP(n))o=_q(n);else throw new Error(Xa(1));let u;typeof r=="function"?u=r(e):u=e();let c=lE;i&&(c=Hce({trace:!1,...typeof i=="object"&&i}));const f=_ce(...u),h=$ce(f);let v=typeof s=="function"?s(h):h();const y=c(...v);return Aq(o,a,y)}function zq(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Xa(28));if(o in e)throw new Error(Xa(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Wce(t){return typeof t=="function"}function Yce(t,e){let[n,r,i]=zq(e),a;if(Wce(t))a=()=>dU(t());else{const o=dU(t);a=()=>o}function s(o=a(),u){let c=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,h)=>{if(h)if(Du(f)){const y=h(f,u);return y===void 0?f:y}else{if(go(f))return Oq(f,v=>h(v,u));{const v=h(f,u);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},o)}return s.getInitialState=a,s}var Kce="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xce=(t=21)=>{let e="",n=t;for(;n--;)e+=Kce[Math.random()*64|0];return e},Jce=Symbol.for("rtk-slice-createasyncthunk");function Qce(t,e){return`${t}/${e}`}function Zce({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Jce];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Xa(11));const o=(typeof i.reducers=="function"?i.reducers(tde()):i.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(D,I){const P=typeof D=="string"?D:D.type;if(!P)throw new Error(Xa(12));if(P in c.sliceCaseReducersByType)throw new Error(Xa(13));return c.sliceCaseReducersByType[P]=I,f},addMatcher(D,I){return c.sliceMatchers.push({matcher:D,reducer:I}),f},exposeAction(D,I){return c.actionCreators[D]=I,f},exposeCaseReducer(D,I){return c.sliceCaseReducersByName[D]=I,f}};u.forEach(D=>{const I=o[D],P={reducerName:D,type:Qce(a,D),createNotation:typeof i.reducers=="function"};rde(I)?ade(P,I,f,e):nde(P,I,f)});function h(){const[D={},I=[],P=void 0]=typeof i.extraReducers=="function"?zq(i.extraReducers):[i.extraReducers],M={...D,...c.sliceCaseReducersByType};return Yce(i.initialState,B=>{for(let z in M)B.addCase(z,M[z]);for(let z of c.sliceMatchers)B.addMatcher(z.matcher,z.reducer);for(let z of I)B.addMatcher(z.matcher,z.reducer);P&&B.addDefaultCase(P)})}const v=D=>D,y=new Map,w=new WeakMap;let A;function E(D,I){return A||(A=h()),A(D,I)}function C(){return A||(A=h()),A.getInitialState()}function k(D,I=!1){function P(B){let z=B[D];return typeof z>"u"&&I&&(z=kS(w,P,C)),z}function M(B=v){const z=kS(y,I,()=>new WeakMap);return kS(z,B,()=>{const K={};for(const[G,Y]of Object.entries(i.selectors??{}))K[G]=ede(Y,B,()=>kS(w,B,C),I);return K})}return{reducerPath:D,getSelectors:M,get selectors(){return M(P)},selectSlice:P}}const R={name:a,reducer:E,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:C,...k(s),injectInto(D,{reducerPath:I,...P}={}){const M=I??s;return D.inject({reducerPath:M,reducer:E},P),{...R,...k(M,!0)}}};return R}}function ede(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var pa=Zce();function tde(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function nde({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!ide(r))throw new Error(Xa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?js(t,s):js(t))}function rde(t){return t._reducerDefinitionType==="asyncThunk"}function ide(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ade({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Xa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:u,settled:c,options:f}=n,h=i(t,a,f);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),o&&r.addCase(h.pending,o),u&&r.addCase(h.rejected,u),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:s||MS,pending:o||MS,rejected:u||MS,settled:c||MS})}function MS(){}var sde="task",Hq="listener",Gq="completed",tD="cancelled",ode=`task-${tD}`,lde=`task-${Gq}`,zR=`${Hq}-${tD}`,ude=`${Hq}-${Gq}`,n_=class{constructor(t){Se(this,"name","TaskAbortError");Se(this,"message");this.code=t,this.message=`${sde} ${tD} (reason: ${t})`}},nD=(t,e)=>{if(typeof t!="function")throw new TypeError(Xa(32))},hE=()=>{},qq=(t,e=hE)=>(t.catch(e),t),$q=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),qh=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},$h=t=>{if(t.aborted){const{reason:e}=t;throw new n_(e)}};function Vq(t,e){let n=hE;return new Promise((r,i)=>{const a=()=>i(new n_(t.reason));if(t.aborted){a();return}n=$q(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=hE})}var cde=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof n_?"cancelled":"rejected",error:n}}finally{e==null||e()}},pE=t=>e=>qq(Vq(t,e).then(n=>($h(t),n))),Wq=t=>{const e=pE(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Cm}=Object,hU={},r_="listenerMiddleware",dde=(t,e)=>{const n=r=>$q(t,()=>qh(r,t.reason));return(r,i)=>{nD(r);const a=new AbortController;n(a);const s=cde(async()=>{$h(t),$h(a.signal);const o=await r({pause:pE(a.signal),delay:Wq(a.signal),signal:a.signal});return $h(a.signal),o},()=>qh(a,lde));return i!=null&&i.autoJoin&&e.push(s.catch(hE)),{result:pE(t)(s),cancel(){qh(a,ode)}}}},fde=(t,e)=>{const n=async(r,i)=>{$h(e);let a=()=>{};const o=[new Promise((u,c)=>{let f=t({predicate:r,effect:(h,v)=>{v.unsubscribe(),u([h,v.getState(),v.getOriginalState()])}});a=()=>{f(),c()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await Vq(e,Promise.race(o));return $h(e),u}finally{a()}};return(r,i)=>qq(n(r,i))},Yq=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=js(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Xa(21));return nD(a),{predicate:i,type:e,effect:a}},Kq=Cm(t=>{const{type:e,predicate:n,effect:r}=Yq(t);return{id:Xce(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xa(22))}}},{withTypes:()=>Kq}),pU=(t,e)=>{const{type:n,effect:r,predicate:i}=Yq(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},HR=t=>{t.pending.forEach(e=>{qh(e,zR)})},hde=(t,e)=>()=>{for(const n of e.keys())HR(n);t.clear()},mU=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Xq=Cm(js(`${r_}/add`),{withTypes:()=>Xq}),pde=js(`${r_}/removeAll`),Jq=Cm(js(`${r_}/remove`),{withTypes:()=>Jq}),mde=(...t)=>{console.error(`${r_}/error`,...t)},Ox=(t={})=>{const e=new Map,n=new Map,r=y=>{const w=n.get(y)??0;n.set(y,w+1)},i=y=>{const w=n.get(y)??1;w===1?n.delete(y):n.set(y,w-1)},{extra:a,onError:s=mde}=t;nD(s);const o=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),w=>{y.unsubscribe(),w!=null&&w.cancelActive&&HR(y)}),u=y=>{const w=pU(e,y)??Kq(y);return o(w)};Cm(u,{withTypes:()=>u});const c=y=>{const w=pU(e,y);return w&&(w.unsubscribe(),y.cancelActive&&HR(w)),!!w};Cm(c,{withTypes:()=>c});const f=async(y,w,A,E)=>{const C=new AbortController,k=fde(u,C.signal),R=[];try{y.pending.add(C),r(y),await Promise.resolve(y.effect(w,Cm({},A,{getOriginalState:E,condition:(D,I)=>k(D,I).then(Boolean),take:k,delay:Wq(C.signal),pause:pE(C.signal),extra:a,signal:C.signal,fork:dde(C.signal,R),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((D,I,P)=>{D!==C&&(qh(D,zR),P.delete(D))})},cancel:()=>{qh(C,zR),y.pending.delete(C)},throwIfCancelled:()=>{$h(C.signal)}})))}catch(D){D instanceof n_||mU(s,D,{raisedBy:"effect"})}finally{await Promise.all(R),qh(C,ude),i(y),y.pending.delete(C)}},h=hde(e,n);return{middleware:y=>w=>A=>{if(!Cq(A))return w(A);if(Xq.match(A))return u(A.payload);if(pde.match(A)){h();return}if(Jq.match(A))return c(A.payload);let E=y.getState();const C=()=>{if(E===hU)throw new Error(Xa(23));return E};let k;try{if(k=w(A),e.size>0){const R=y.getState(),D=Array.from(e.values());for(const I of D){let P=!1;try{P=I.predicate(A,R,E)}catch(M){P=!1,mU(s,M,{raisedBy:"predicate"})}P&&f(I,A,y,C)}}}finally{E=hU}return k},startListening:u,stopListening:c,clearListeners:h}};function Xa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var gde={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Qq=pa({name:"chartLayout",initialState:gde,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:vde,setLayout:yde,setChartSize:bde,setScale:xde}=Qq.actions,wde=Qq.reducer;function Zq(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function gU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(n),!0).forEach(function(r){Sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e,n){return(e=Ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Ade(t,"string");return typeof e=="symbol"?e:e+""}function Ade(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ti(t,e,n){return si(t)||si(e)?n:ol(e)?YA(t,e,n):typeof e=="function"?e(t):n}var _de=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Ke(t[a]))return dm(dm({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Ke(t[s]))return dm(dm({},t),{},{[s]:t[s]+(i||0)})}return t},Wu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",e$=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},t$=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:u,categoricalDomain:c,tickCount:f,ticks:h,niceTicks:v,axisType:y}=t;if(!s)return null;var w=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,A=i==="category"&&s.bandwidth?s.bandwidth()/w:0;if(A=y==="angleAxis"&&a&&a.length>=2?Ps(a[0]-a[1])*2*A:A,h||v){var E=(h||v||[]).map((C,k)=>{var R=r?r.indexOf(C):C;return{coordinate:s(R)+A,value:C,offset:A,index:k}});return E.filter(C=>!mo(C.coordinate))}return u&&c?c.map((C,k)=>({coordinate:s(C)+A,value:C,index:k,offset:A})):s.ticks&&f!=null?s.ticks(f).map((C,k)=>({coordinate:s(C)+A,value:C,offset:A,index:k})):s.domain().map((C,k)=>({coordinate:s(C)+A,value:r?r[C]:C,index:k,offset:A}))},vU=1e-4,Cde=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-vU,a=Math.max(r[0],r[1])+vU,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},Tde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=mo(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},Nde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=mo(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Rde={sign:Tde,expand:hue,none:av,silhouette:pue,wiggle:mue,positive:Nde},kde=(t,e,n)=>{var r=Rde[n],i=fue().keys(e).value((a,s)=>Number(Ti(a,s,0))).order(PR).offset(r);return i(t)};function Mde(t){return t==null?void 0:String(t)}function yU(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!si(i[e.dataKey])){var o=uq(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Ti(i,si(s)?e.dataKey:s);return si(u)?null:e.scale(u)}var Pde=t=>{var e=t.flat(2).filter(Ke);return[Math.min(...e),Math.max(...e)]},Dde=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Ide=(t,e,n)=>{if(t!=null)return Dde(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((u,c)=>{var f=Zq(c,e,n),h=Pde(f);return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},bU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mE=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=KA(e,f=>f.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var u=i[s],c=i[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function wU(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return dm(dm({},e),{},{dataKey:n,payload:r,value:i,name:a})}function n$(t,e){if(t)return String(t);if(typeof e=="string")return e}var Lde=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Ode=(t,e)=>e==="centric"?t.angle:t.radius,Yu=t=>t.layout.width,Ku=t=>t.layout.height,jde=t=>t.layout.scale,r$=t=>t.layout.margin,i_=fe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),a_=fe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Fde="data-recharts-item-index",Ude="data-recharts-item-data-key",jx=60;function SU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(n),!0).forEach(function(r){Bde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bde(t,e,n){return(e=zde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t){var e=Hde(t,"string");return typeof e=="symbol"?e:e+""}function Hde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gde=t=>t.brush.height;function qde(t){var e=a_(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jx;return n+i}return n},0)}function $de(t){var e=a_(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jx;return n+i}return n},0)}function Vde(t){var e=i_(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Wde(t){var e=i_(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var li=fe([Yu,Ku,r$,Gde,qde,$de,Vde,Wde,Eq,bce],(t,e,n,r,i,a,s,o,u,c)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+s,bottom:(n.bottom||0)+o},v=PS(PS({},h),f),y=v.bottom;v.bottom+=r,v=_de(v,u,c);var w=t-v.left-v.right,A=e-v.top-v.bottom;return PS(PS({brushBottom:y},v),{},{width:Math.max(w,0),height:Math.max(A,0)})}),Yde=fe(li,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),i$=fe(Yu,Ku,(t,e)=>({x:0,y:0,width:t,height:e})),Kde=T.createContext(null),ma=()=>T.useContext(Kde)!=null,s_=t=>t.brush,o_=fe([s_,li,r$],(t,e,n)=>({height:t.height,x:Ke(t.x)?t.x:e.left,y:Ke(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ke(t.width)?t.width:e.width})),d2={},f2={},h2={},EU;function Xde(){return EU||(EU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const u=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),f=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},h=()=>{c&&f(),A()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,h()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},A=()=>{w(),s=void 0,o=null},E=()=>{f()},C=function(...k){if(i!=null&&i.aborted)return;s=this,o=k;const R=v==null;y(),u&&R&&f()};return C.schedule=y,C.cancel=A,C.flush=E,i==null||i.addEventListener("abort",A,{once:!0}),C}t.debounce=e})(h2)),h2}var AU;function Jde(){return AU||(AU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xde();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:u}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let f,h=null;const v=e.debounce(function(...A){f=r.apply(this,A),h=null},i,{edges:c}),y=function(...A){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=r.apply(this,A),h=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,A),f)},w=()=>(v.flush(),f);return y.cancel=v.cancel,y.flush=w,y}t.debounce=n})(f2)),f2}var _U;function Qde(){return _U||(_U=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jde();function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(d2)),d2}var p2,CU;function Zde(){return CU||(CU=1,p2=Qde().throttle),p2}var efe=Zde();const tfe=bo(efe);var gE=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},a$=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Pu(r)?t:Number(r),u=Pu(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:o,calculatedHeight:u}},nfe={width:0,height:0,overflow:"visible"},rfe={width:0,overflowX:"visible"},ife={height:0,overflowY:"visible"},afe={},sfe=t=>{var{width:e,height:n}=t,r=Pu(e),i=Pu(n);return r&&i?nfe:r?rfe:i?ife:afe};function ofe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Vn(t){return Number.isFinite(t)}function ll(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function GR(){return GR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GR.apply(null,arguments)}function TU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(n),!0).forEach(function(r){lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e,n){return(e=ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ufe(t){var e=cfe(t,"string");return typeof e=="symbol"?e:e+""}function cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s$=T.createContext({width:-1,height:-1});function dfe(t){return ll(t.width)&&ll(t.height)}function o$(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return dfe(i)?T.createElement(s$.Provider,{value:i},e):null}var rD=()=>T.useContext(s$),ffe=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:u,children:c,debounce:f=0,id:h,className:v,onResize:y,style:w={}}=t,A=T.useRef(null),E=T.useRef();E.current=y,T.useImperativeHandle(e,()=>A.current);var[C,k]=T.useState({containerWidth:r.width,containerHeight:r.height}),R=T.useCallback((B,z)=>{k(K=>{var G=Math.round(B),Y=Math.round(z);return K.containerWidth===G&&K.containerHeight===Y?K:{containerWidth:G,containerHeight:Y}})},[]);T.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return Dx;var B=Y=>{var te,{width:W,height:$}=Y[0].contentRect;R(W,$),(te=E.current)===null||te===void 0||te.call(E,W,$)};f>0&&(B=tfe(B,f,{trailing:!0,leading:!1}));var z=new ResizeObserver(B),{width:K,height:G}=A.current.getBoundingClientRect();return R(K,G),z.observe(A.current),()=>{z.disconnect()}},[R,f]);var{containerWidth:D,containerHeight:I}=C;gE(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:M}=a$(D,I,{width:i,height:a,aspect:n,maxHeight:u});return gE(P!=null&&P>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,M,i,a,s,o,n),T.createElement("div",{id:h?"".concat(h):void 0,className:Vt("recharts-responsive-container",v),style:NU(NU({},w),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:u}),ref:A},T.createElement("div",{style:sfe({width:i,height:a})},T.createElement(o$,{width:P,height:M},c)))}),hfe=T.forwardRef((t,e)=>{var n=rD();if(ll(n.width)&&ll(n.height))return t.children;var{width:r,height:i}=ofe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=a$(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ke(a)&&Ke(s)?T.createElement(o$,{width:a,height:s},t.children):T.createElement(ffe,GR({},t,{width:r,height:i,ref:e}))});function l$(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var l_=()=>{var t,e=ma(),n=Qe(Yde),r=Qe(o_),i=(t=Qe(s_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},u$=()=>{var t;return(t=Qe(li))!==null&&t!==void 0?t:pfe},c$=()=>Qe(Yu),d$=()=>Qe(Ku),mn=t=>t.layout.layoutType,Fx=()=>Qe(mn),mfe=()=>{var t=Fx();if(t==="horizontal"||t==="vertical")return t},gfe=()=>{var t=Fx();return t!==void 0},u_=t=>{var e=Hr(),n=ma(),{width:r,height:i}=t,a=rD(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),T.useEffect(()=>{!n&&ll(s)&&ll(o)&&e(bde({width:s,height:o}))},[e,n,s,o]),null},f$=Symbol.for("immer-nothing"),RU=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function uo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var C0=Object.getPrototypeOf;function lv(t){return!!t&&!!t[Qa]}function Kh(t){var e;return t?h$(t)||Array.isArray(t)||!!t[RU]||!!((e=t.constructor)!=null&&e[RU])||Ux(t)||d_(t):!1}var vfe=Object.prototype.constructor.toString(),kU=new WeakMap;function h$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=kU.get(n);return r===void 0&&(r=Function.toString.call(n),kU.set(n,r)),r===vfe}function vE(t,e,n=!0){c_(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function c_(t){const e=t[Qa];return e?e.type_:Array.isArray(t)?1:Ux(t)?2:d_(t)?3:0}function qR(t,e){return c_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function p$(t,e,n){const r=c_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function yfe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ux(t){return t instanceof Map}function d_(t){return t instanceof Set}function bf(t){return t.copy_||t.base_}function $R(t,e){if(Ux(t))return new Map(t);if(d_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=h$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Qa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(C0(t),r)}else{const r=C0(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function iD(t,e=!1){return f_(t)||lv(t)||!Kh(t)||(c_(t)>1&&Object.defineProperties(t,{set:DS,add:DS,clear:DS,delete:DS}),Object.freeze(t),e&&Object.values(t).forEach(n=>iD(n,!0))),t}function bfe(){uo(2)}var DS={value:bfe};function f_(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var xfe={};function Xh(t){const e=xfe[t];return e||uo(0,t),e}var T0;function m$(){return T0}function wfe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function MU(t,e){e&&(Xh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function VR(t){WR(t),t.drafts_.forEach(Sfe),t.drafts_=null}function WR(t){t===T0&&(T0=t.parent_)}function PU(t){return T0=wfe(T0,t)}function Sfe(t){const e=t[Qa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qa].modified_&&(VR(e),uo(4)),Kh(t)&&(t=yE(e,t),e.parent_||bE(e,t)),e.patches_&&Xh("Patches").generateReplacementPatches_(n[Qa].base_,t,e.patches_,e.inversePatches_)):t=yE(e,n,[]),VR(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==f$?t:void 0}function yE(t,e,n){if(f_(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Qa];if(!i)return vE(e,(a,s)=>IU(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return bE(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),vE(s,(u,c)=>IU(t,i,a,u,c,n,o),r),bE(t,a,!1),n&&t.patches_&&Xh("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function IU(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=f_(i);if(!(o&&!s)){if(lv(i)){const u=a&&e&&e.type_!==3&&!qR(e.assigned_,r)?a.concat(r):void 0,c=yE(t,i,u);if(p$(n,r,c),lv(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Kh(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;yE(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ux(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&bE(t,i)}}}function bE(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&iD(e,n)}function Efe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:m$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=aD;n&&(i=[r],a=N0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var aD={get(t,e){if(e===Qa)return t;const n=bf(t);if(!qR(n,e))return Afe(t,n,e);const r=n[e];return t.finalized_||!Kh(r)?r:r===m2(t.base_,e)?(g2(t),t.copy_[e]=KR(r,t)):r},has(t,e){return e in bf(t)},ownKeys(t){return Reflect.ownKeys(bf(t))},set(t,e,n){const r=g$(bf(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=m2(bf(t),e),a=i==null?void 0:i[Qa];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(yfe(n,i)&&(n!==void 0||qR(t.base_,e)))return!0;g2(t),YR(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return m2(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,g2(t),YR(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bf(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){uo(11)},getPrototypeOf(t){return C0(t.base_)},setPrototypeOf(){uo(12)}},N0={};vE(aD,(t,e)=>{N0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});N0.deleteProperty=function(t,e){return N0.set.call(this,t,e,void 0)};N0.set=function(t,e,n){return aD.set.call(this,t[0],e,n,t[0])};function m2(t,e){const n=t[Qa];return(n?bf(n):t)[e]}function Afe(t,e,n){var i;const r=g$(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function g$(t,e){if(!(e in t))return;let n=C0(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=C0(n)}}function YR(t){t.modified_||(t.modified_=!0,t.parent_&&YR(t.parent_))}function g2(t){t.copy_||(t.copy_=$R(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _fe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...c){return s.produce(u,f=>n.call(this,f,...c))}}typeof n!="function"&&uo(6),r!==void 0&&typeof r!="function"&&uo(7);let i;if(Kh(e)){const a=PU(this),s=KR(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?VR(a):WR(a)}return MU(a,r),DU(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===f$&&(i=void 0),this.autoFreeze_&&iD(i,!0),r){const a=[],s=[];Xh("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else uo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,u=>e(u,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Kh(t)||uo(8),lv(t)&&(t=Cfe(t));const e=PU(this),n=KR(t,void 0);return n[Qa].isManual_=!0,WR(e),n}finishDraft(t,e){const n=t&&t[Qa];(!n||!n.isManual_)&&uo(9);const{scope_:r}=n;return MU(r,e),DU(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Xh("Patches").applyPatches_;return lv(t)?r(t,e):this.produce(t,i=>r(i,e))}};function KR(t,e){const n=Ux(t)?Xh("MapSet").proxyMap_(t,e):d_(t)?Xh("MapSet").proxySet_(t,e):Efe(t,e);return(e?e.scope_:m$()).drafts_.push(n),n}function Cfe(t){return lv(t)||uo(10,t),v$(t)}function v$(t){if(!Kh(t)||f_(t))return t;const e=t[Qa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=$R(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=$R(t,!0);return vE(n,(i,a)=>{p$(n,i,v$(a))},r),e&&(e.finalized_=!1),n}var Tfe=new _fe;Tfe.produce;var Nfe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},y$=pa({name:"legend",initialState:Nfe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Rn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ho(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Rn()},removeLegendPayload:{reducer(t,e){var n=ho(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Rn()}}}),{setLegendSize:yCe,setLegendSettings:bCe,addLegendPayload:Rfe,replaceLegendPayload:kfe,removeLegendPayload:Mfe}=y$.actions,Pfe=y$.reducer;function XR(){return XR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XR.apply(null,arguments)}function LU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(n),!0).forEach(function(r){Dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dfe(t,e,n){return(e=Ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Lfe(t,"string");return typeof e=="symbol"?e:e+""}function Lfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ofe(t){return Array.isArray(t)&&ol(t[0])&&ol(t[1])?t.join(" ~ "):t}var jfe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:u,labelClassName:c,label:f,labelFormatter:h,accessibilityLayer:v=!1}=t,y=()=>{if(a&&a.length){var I={padding:0,margin:0},P=(o?KA(a,o):a).map((M,B)=>{if(M.type==="none")return null;var z=M.formatter||s||Ofe,{value:K,name:G}=M,Y=K,te=G;if(z){var W=z(K,G,M,B,a);if(Array.isArray(W))[Y,te]=W;else if(W!=null)Y=W;else return null}var $=v2({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:$},ol(te)?T.createElement("span",{className:"recharts-tooltip-item-name"},te):null,ol(te)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},Y),T.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:I},P)}return null},w=v2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=v2({margin:0},i),E=!si(f),C=E?f:"",k=Vt("recharts-default-tooltip",u),R=Vt("recharts-tooltip-label",c);E&&h&&a!==void 0&&a!==null&&(C=h(f,a));var D=v?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",XR({className:k,style:w},D),T.createElement("p",{className:R,style:A},T.isValidElement(C)?C:"".concat(C)),y())},Ry="recharts-tooltip-wrapper",Ffe={visibility:"hidden"};function Ufe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Vt(Ry,{["".concat(Ry,"-right")]:Ke(n)&&e&&Ke(e.x)&&n>=e.x,["".concat(Ry,"-left")]:Ke(n)&&e&&Ke(e.x)&&n<e.x,["".concat(Ry,"-bottom")]:Ke(r)&&e&&Ke(e.y)&&r>=e.y,["".concat(Ry,"-top")]:Ke(r)&&e&&Ke(e.y)&&r<e.y})}function OU(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:u,viewBoxDimension:c}=t;if(a&&Ke(a[r]))return a[r];var f=n[r]-o-(i>0?i:0),h=n[r]+i;if(e[r])return s[r]?f:h;var v=u[r];if(v==null)return 0;if(s[r]){var y=f,w=v;return y<w?Math.max(h,v):Math.max(f,v)}if(c==null)return 0;var A=h+o,E=v+c;return A>E?Math.max(f,v):Math.max(h,v)}function Bfe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function zfe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:u}=t,c,f,h;return s.height>0&&s.width>0&&n?(f=OU({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),h=OU({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=Bfe({translateX:f,translateY:h,useTranslate3d:o})):c=Ffe,{cssProperties:c,cssClasses:Ufe({translateX:f,translateY:h,coordinate:n})}}function jU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jU(Object(n),!0).forEach(function(r){JR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JR(t,e,n){return(e=Hfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=Gfe(t,"string");return typeof e=="symbol"?e:e+""}function Gfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qfe extends T.PureComponent{constructor(){super(...arguments),JR(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),JR(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:u,offset:c,position:f,reverseDirection:h,useTranslate3d:v,viewBox:y,wrapperStyle:w,lastBoundingBox:A,innerRef:E,hasPortalFromProps:C}=this.props,{cssClasses:k,cssProperties:R}=zfe({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:f,reverseDirection:h,tooltipBox:{height:A.height,width:A.width},useTranslate3d:v,viewBox:y}),D=C?{}:IS(IS({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),I=IS(IS({},D),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},w);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:I,ref:E},a)}}var b$=()=>{var t;return(t=Qe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function QR(){return QR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QR.apply(null,arguments)}function FU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(n),!0).forEach(function(r){$fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $fe(t,e,n){return(e=Vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=Wfe(t,"string");return typeof e=="symbol"?e:e+""}function Wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BU={curveBasisClosed:tue,curveBasisOpen:nue,curveBasis:eue,curveBumpX:Qle,curveBumpY:Zle,curveLinearClosed:rue,curveLinear:VA,curveMonotoneX:iue,curveMonotoneY:aue,curveNatural:sue,curveStep:oue,curveStepAfter:uue,curveStepBefore:lue},xE=t=>Vn(t.x)&&Vn(t.y),zU=t=>t.base!=null&&xE(t.base)&&xE(t),ky=t=>t.x,My=t=>t.y,Yfe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat($P(t));return(n==="curveMonotone"||n==="curveBump")&&e?BU["".concat(n).concat(e==="vertical"?"Y":"X")]:BU[n]||VA},Kfe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=Yfe(e,i),o=a?n.filter(xE):n,u;if(Array.isArray(r)){var c=n.map((y,w)=>UU(UU({},y),{},{base:r[w]}));i==="vertical"?u=CS().y(My).x1(ky).x0(y=>y.base.x):u=CS().x(ky).y1(My).y0(y=>y.base.y);var f=u.defined(zU).curve(s),h=a?c.filter(zU):c;return f(h)}i==="vertical"&&Ke(r)?u=CS().y(My).x1(ky).x0(r):Ke(r)?u=CS().x(ky).y1(My).y0(r):u=QG().x(ky).y(My);var v=u.defined(xE).curve(s);return v(o)},u1=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Kfe(t):r;return T.createElement("path",QR({},po(t),VP(t),{className:Vt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Xfe=["x","y","top","left","width","height","className"];function ZR(){return ZR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZR.apply(null,arguments)}function HU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HU(Object(n),!0).forEach(function(r){Qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qfe(t,e,n){return(e=Zfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=ehe(t,"string");return typeof e=="symbol"?e:e+""}function ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function the(t,e){if(t==null)return{};var n,r,i=nhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rhe=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),ihe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,u=the(t,Xfe),c=Jfe({x:e,y:n,top:r,left:i,width:a,height:s},u);return!Ke(e)||!Ke(n)||!Ke(a)||!Ke(s)||!Ke(r)||!Ke(i)?null:T.createElement("path",ZR({},Os(c),{className:Vt("recharts-cross",o),d:rhe(e,n,a,s,r,i)}))};function ahe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function GU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GU(Object(n),!0).forEach(function(r){she(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function she(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uhe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),che=(t,e,n)=>t.map(r=>"".concat(uhe(r)," ").concat(e,"ms ").concat(n)).join(","),dhe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),R0=(t,e)=>Object.keys(e).reduce((n,r)=>qU(qU({},n),{},{[r]:t(r,e[r])}),{});function $U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(n),!0).forEach(function(r){fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$U(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fhe(t,e,n){return(e=hhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hhe(t){var e=phe(t,"string");return typeof e=="symbol"?e:e+""}function phe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wE=(t,e,n)=>t+(e-t)*n,ek=t=>{var{from:e,to:n}=t;return e!==n},x$=(t,e,n)=>{var r=R0((i,a)=>{if(ek(a)){var[s,o]=t(a.from,a.to,a.velocity);return br(br({},a),{},{from:s,velocity:o})}return a},e);return n<1?R0((i,a)=>ek(a)?br(br({},a),{},{velocity:wE(a.velocity,r[i].velocity,n),from:wE(a.from,r[i].from,n)}):a,e):x$(t,r,n-1)};function mhe(t,e,n,r,i,a){var s,o=r.reduce((v,y)=>br(br({},v),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),u=()=>R0((v,y)=>y.from,o),c=()=>!Object.values(o).filter(ek).length,f=null,h=v=>{s||(s=v);var y=v-s,w=y/n.dt;o=x$(n,o,w),i(br(br(br({},t),e),u())),s=v,c()||(f=a.setTimeout(h))};return()=>(f=a.setTimeout(h),()=>{var v;(v=f)===null||v===void 0||v()})}function ghe(t,e,n,r,i,a,s){var o=null,u=i.reduce((h,v)=>br(br({},h),{},{[v]:[t[v],e[v]]}),{}),c,f=h=>{c||(c=h);var v=(h-c)/r,y=R0((A,E)=>wE(...E,n(v)),u);if(a(br(br(br({},t),e),y)),v<1)o=s.setTimeout(f);else{var w=R0((A,E)=>wE(...E,n(1)),u);a(br(br(br({},t),e),w))}};return()=>(o=s.setTimeout(f),()=>{var h;(h=o)===null||h===void 0||h()})}const vhe=(t,e,n,r,i,a)=>{var s=dhe(t,e);return n==null?()=>(i(br(br({},t),e)),()=>{}):n.isStepper===!0?mhe(t,e,n,s,i,a):ghe(t,e,n,r,s,i,a)};var SE=1e-4,w$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],S$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),VU=(t,e)=>n=>{var r=w$(t,e);return S$(r,n)},yhe=(t,e)=>n=>{var r=w$(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return S$(i,n)},bhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},xhe=(t,e,n,r)=>{var i=VU(t,n),a=VU(e,r),s=yhe(t,n),o=c=>c>1?1:c<0?0:c,u=c=>{for(var f=c>1?1:c,h=f,v=0;v<8;++v){var y=i(h)-f,w=s(h);if(Math.abs(y-f)<SE||w<SE)return a(h);h=o(h-y/w)}return a(h)};return u.isStepper=!1,u},WU=function(){return xhe(...bhe(...arguments))},whe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,u)=>{var c=-(s-o)*n,f=u*r,h=u+(c-f)*i/1e3,v=u*i/1e3+s;return Math.abs(v-o)<SE&&Math.abs(h)<SE?[o,0]:[v,h]};return a.isStepper=!0,a.dt=i,a},She=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WU(t);case"spring":return whe();default:if(t.split("(")[0]==="cubic-bezier")return WU(t)}return typeof t=="function"?t:null};function Ehe(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[u,...c]=o;if(typeof u=="number"){i=t.setTimeout(a.bind(null,c),u);return}a(u),i=t.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Ahe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function _he(){return Ehe(new Ahe)}var Che=T.createContext(_he);function The(t,e){var n=T.useContext(Che);return T.useMemo(()=>e??n(t),[t,e,n])}var Nhe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ev={devToolsEnabled:!1,isSsr:Nhe()},Rhe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},YU={t:0},y2={t:1};function E$(t){var e=ts(t,Rhe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:u,children:c}=e,f=n==="auto"?!Ev.isSsr:n,h=The(e.animationId,e.animationManager),[v,y]=T.useState(f?YU:y2),w=T.useRef(null);return T.useEffect(()=>{f||y(y2)},[f]),T.useEffect(()=>{if(!f||!r)return Dx;var A=vhe(YU,y2,She(a),i,y,h.getTimeoutController()),E=()=>{w.current=A()};return h.start([u,s,E,i,o]),()=>{h.stop(),w.current&&w.current(),o()}},[f,r,i,a,s,u,o,h]),c(v.t)}function A$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(S0(e)),r=T.useRef(t);return r.current!==t&&(n.current=S0(e),r.current=t),n.current}var khe=["radius"],Mhe=["radius"];function KU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(n),!0).forEach(function(r){Phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Phe(t,e,n){return(e=Dhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dhe(t){var e=Ihe(t,"string");return typeof e=="symbol"?e:e+""}function Ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(null,arguments)}function JU(t,e){if(t==null)return{};var n,r,i=Lhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QU=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,v=4;h<v;h++)f[h]=i[h]>a?a:i[h];c="M".concat(t,",").concat(e+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+o*f[0],",").concat(e)),c+="L ".concat(t+n-o*f[1],",").concat(e),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+s*f[1])),c+="L ".concat(t+n,",").concat(e+r-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-o*f[2],",").concat(e+r)),c+="L ".concat(t+o*f[3],",").concat(e+r),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-s*f[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var y=Math.min(a,i);c="M ".concat(t,",").concat(e+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+o*y,",").concat(e,`
            L `).concat(t+n-o*y,",").concat(e,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(e+s*y,`
            L `).concat(t+n,",").concat(e+r-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-o*y,",").concat(e+r,`
            L `).concat(t+o*y,",").concat(e+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(e+r-s*y," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},ZU={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ohe=t=>{var e=ts(t,ZU),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var q=n.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:a,y:s,width:o,height:u,radius:c,className:f}=e,{animationEasing:h,animationDuration:v,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:A}=e,E=T.useRef(o),C=T.useRef(u),k=T.useRef(a),R=T.useRef(s),D=T.useMemo(()=>({x:a,y:s,width:o,height:u,radius:c}),[a,s,o,u,c]),I=A$(D,"rectangle-");if(a!==+a||s!==+s||o!==+o||u!==+u||o===0||u===0)return null;var P=Vt("recharts-rectangle",f);if(!A){var M=Os(e),{radius:B}=M,z=JU(M,khe);return T.createElement("path",EE({},z,{radius:typeof c=="number"?c:void 0,className:P,d:QU(a,s,o,u,c)}))}var K=E.current,G=C.current,Y=k.current,te=R.current,W="0px ".concat(r===-1?1:r,"px"),$="".concat(r,"px 0px"),U=che(["strokeDasharray"],v,typeof h=="string"?h:ZU.animationEasing);return T.createElement(E$,{animationId:I,key:I,canBegin:r>0,duration:v,easing:h,isActive:A,begin:y},q=>{var Z=Qo(K,o,q),ie=Qo(G,u,q),be=Qo(Y,a,q),V=Qo(te,s,q);n.current&&(E.current=Z,C.current=ie,k.current=be,R.current=V);var J;w?q>0?J={transition:U,strokeDasharray:$}:J={strokeDasharray:W}:J={strokeDasharray:$};var oe=Os(e),{radius:ve}=oe,xe=JU(oe,Mhe);return T.createElement("path",EE({},xe,{radius:typeof c=="number"?c:void 0,className:P,d:QU(be,V,Z,ie,c),ref:n,style:XU(XU({},J),e.style)}))})};function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(n),!0).forEach(function(r){jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jhe(t,e,n){return(e=Fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=Uhe(t,"string");return typeof e=="symbol"?e:e+""}function Uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AE=Math.PI/180,Bhe=t=>t*180/Math.PI,ai=(t,e,n,r)=>({x:t+Math.cos(-AE*r)*n,y:e+Math.sin(-AE*r)*n}),zhe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Hhe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Ghe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=Hhe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,u=Math.acos(o);return r>a&&(u=2*Math.PI-u),{radius:s,angle:Bhe(u),angleInRadian:u}},qhe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},$he=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},Vhe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Ghe({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:u,endAngle:c}=qhe(e),f=a,h;if(u<=c){for(;f>c;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=c}else{for(;f>u;)f-=360;for(;f<c;)f+=360;h=f>=c&&f<=u}return h?tB(tB({},e),{},{radius:i,angle:$he(f,e)}):null};function _$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=ai(e,n,r,i),o=ai(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function tk(){return tk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tk.apply(null,arguments)}var Whe=(t,e)=>{var n=Ps(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},LS=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:u}=t,c=o*(s?1:-1)+r,f=Math.asin(o/c)/AE,h=u?i:i+a*f,v=ai(e,n,c,h),y=ai(e,n,r,h),w=u?i-a*f:i,A=ai(e,n,c*Math.cos(f*AE),w);return{center:v,circleTangency:y,lineTangency:A,theta:f}},C$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=Whe(a,s),u=a+o,c=ai(e,n,i,a),f=ai(e,n,i,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var v=ai(e,n,r,a),y=ai(e,n,r,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},Yhe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:u,endAngle:c}=t,f=Ps(c-u),{circleTangency:h,lineTangency:v,theta:y}=LS({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:A,theta:E}=LS({cx:e,cy:n,radius:i,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(u-c):Math.abs(u-c)-y-E;if(C<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):C$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:c});var k="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:D,theta:I}=LS({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:P,lineTangency:M,theta:B}=LS({cx:e,cy:n,radius:r,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),z=o?Math.abs(u-c):Math.abs(u-c)-I-B;if(z<0&&a===0)return"".concat(k,"L").concat(e,",").concat(n,"Z");k+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else k+="L".concat(e,",").concat(n,"Z");return k},Khe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Xhe=t=>{var e=ts(t,Khe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:f,className:h}=e;if(a<i||c===f)return null;var v=Vt("recharts-sector",h),y=a-i,w=Ld(s,y,0,!0),A;return w>0&&Math.abs(c-f)<360?A=Yhe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,y/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:f}):A=C$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:f}),T.createElement("path",tk({},Os(e),{className:v,d:A}))};function Jhe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(cq(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,u=ai(r,i,a,o),c=ai(r,i,s,o);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return _$(e)}}var b2={},x2={},w2={},nB;function Qhe(){return nB||(nB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wq();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(w2)),w2}var rB;function Zhe(){return rB||(rB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qhe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(x2)),x2}var iB;function epe(){return iB||(iB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sq(),n=Zhe();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(o);for(let c=0;c<o;c++)u[c]=i,i+=s;return u}t.range=r})(b2)),b2}var S2,aB;function tpe(){return aB||(aB=1,S2=epe().range),S2}var npe=tpe();const T$=bo(npe);function Md(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sD(t){let e,n,r;t.length!==2?(e=Md,n=(o,u)=>Md(t(o),u),r=(o,u)=>t(o)-u):(e=t===Md||t===rpe?t:ipe,n=t,r=t);function i(o,u,c=0,f=o.length){if(c<f){if(e(u,u)!==0)return f;do{const h=c+f>>>1;n(o[h],u)<0?c=h+1:f=h}while(c<f)}return c}function a(o,u,c=0,f=o.length){if(c<f){if(e(u,u)!==0)return f;do{const h=c+f>>>1;n(o[h],u)<=0?c=h+1:f=h}while(c<f)}return c}function s(o,u,c=0,f=o.length){const h=i(o,u,c,f-1);return h>c&&r(o[h-1],u)>-r(o[h],u)?h-1:h}return{left:i,center:s,right:a}}function ipe(){return 0}function N$(t){return t===null?NaN:+t}function*ape(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const spe=sD(Md),Bx=spe.right;sD(N$).center;class sB extends Map{constructor(e,n=upe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oB(this,e))}has(e){return super.has(oB(this,e))}set(e,n){return super.set(ope(this,e),n)}delete(e){return super.delete(lpe(this,e))}}function oB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ope({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function lpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function upe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cpe(t=Md){if(t===Md)return R$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function R$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dpe=Math.sqrt(50),fpe=Math.sqrt(10),hpe=Math.sqrt(2);function _E(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=dpe?10:a>=fpe?5:a>=hpe?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),u=Math.round(e*c),o/c<t&&++o,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),u=Math.round(e/c),o*c<t&&++o,u*c>e&&--u),u<o&&.5<=n&&n<2?_E(t,e,n*2):[o,u,c]}function nk(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?_E(e,t,n):_E(t,e,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)u[c]=(a-c)/-s;else for(let c=0;c<o;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)u[c]=(i+c)/-s;else for(let c=0;c<o;++c)u[c]=(i+c)*s;return u}function rk(t,e,n){return e=+e,t=+t,n=+n,_E(t,e,n)[2]}function ik(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?rk(e,t,n):rk(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lB(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function uB(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function k$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?R$:cpe(i);r>n;){if(r-n>600){const u=r-n+1,c=e-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*h*(u-h)/u)*(c-u/2<0?-1:1),y=Math.max(n,Math.floor(e-c*h/u+v)),w=Math.min(r,Math.floor(e+(u-c)*h/u+v));k$(t,e,y,w,i)}const a=t[e];let s=n,o=r;for(Py(t,n,e),i(t[r],a)>0&&Py(t,n,r);s<o;){for(Py(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Py(t,n,o):(++o,Py(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Py(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ppe(t,e,n){if(t=Float64Array.from(ape(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return uB(t);if(e>=1)return lB(t);var r,i=(r-1)*e,a=Math.floor(i),s=lB(k$(t,a).subarray(0,a+1)),o=uB(t.subarray(a+1));return s+(o-s)*(i-a)}}function mpe(t,e,n=N$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function gpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ak=Symbol("implicit");function oD(){var t=new sB,e=[],n=[],r=ak;function i(a){let s=t.get(a);if(s===void 0){if(r!==ak)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new sB;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return oD(e,n).unknown(r)},Us.apply(i,arguments),i}function lD(){var t=oD().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,u=0,c=0,f=.5;delete t.unknown;function h(){var v=e().length,y=i<r,w=y?i:r,A=y?r:i;a=(A-w)/Math.max(1,v-u+c*2),o&&(a=Math.floor(a)),w+=(A-w-a*(v-u))*f,s=a*(1-u),o&&(w=Math.round(w),s=Math.round(s));var E=gpe(v).map(function(C){return w+a*C});return n(y?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),h()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(o=!!v,h()):o},t.padding=function(v){return arguments.length?(u=Math.min(1,c=+v),h()):u},t.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),h()):u},t.paddingOuter=function(v){return arguments.length?(c=+v,h()):c},t.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),h()):f},t.copy=function(){return lD(e(),[r,i]).round(o).paddingInner(u).paddingOuter(c).align(f)},Us.apply(h(),arguments)}function M$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return M$(e())},t}function vpe(){return M$(lD.apply(null,arguments).paddingInner(1))}function uD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function P$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zx(){}var k0=.7,CE=1/k0,Tm="\\s*([+-]?\\d+)\\s*",M0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ype=/^#([0-9a-f]{3,8})$/,bpe=new RegExp(`^rgb\\(${Tm},${Tm},${Tm}\\)$`),xpe=new RegExp(`^rgb\\(${il},${il},${il}\\)$`),wpe=new RegExp(`^rgba\\(${Tm},${Tm},${Tm},${M0}\\)$`),Spe=new RegExp(`^rgba\\(${il},${il},${il},${M0}\\)$`),Epe=new RegExp(`^hsl\\(${M0},${il},${il}\\)$`),Ape=new RegExp(`^hsla\\(${M0},${il},${il},${M0}\\)$`),cB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uD(zx,P0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dB,formatHex:dB,formatHex8:_pe,formatHsl:Cpe,formatRgb:fB,toString:fB});function dB(){return this.rgb().formatHex()}function _pe(){return this.rgb().formatHex8()}function Cpe(){return D$(this).formatHsl()}function fB(){return this.rgb().formatRgb()}function P0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ype.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hB(e):n===3?new fa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?OS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?OS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=bpe.exec(t))?new fa(e[1],e[2],e[3],1):(e=xpe.exec(t))?new fa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wpe.exec(t))?OS(e[1],e[2],e[3],e[4]):(e=Spe.exec(t))?OS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Epe.exec(t))?gB(e[1],e[2]/100,e[3]/100,1):(e=Ape.exec(t))?gB(e[1],e[2]/100,e[3]/100,e[4]):cB.hasOwnProperty(t)?hB(cB[t]):t==="transparent"?new fa(NaN,NaN,NaN,0):null}function hB(t){return new fa(t>>16&255,t>>8&255,t&255,1)}function OS(t,e,n,r){return r<=0&&(t=e=n=NaN),new fa(t,e,n,r)}function Tpe(t){return t instanceof zx||(t=P0(t)),t?(t=t.rgb(),new fa(t.r,t.g,t.b,t.opacity)):new fa}function sk(t,e,n,r){return arguments.length===1?Tpe(t):new fa(t,e,n,r??1)}function fa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uD(fa,sk,P$(zx,{brighter(t){return t=t==null?CE:Math.pow(CE,t),new fa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?k0:Math.pow(k0,t),new fa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fa(Vh(this.r),Vh(this.g),Vh(this.b),TE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pB,formatHex:pB,formatHex8:Npe,formatRgb:mB,toString:mB}));function pB(){return`#${Nf(this.r)}${Nf(this.g)}${Nf(this.b)}`}function Npe(){return`#${Nf(this.r)}${Nf(this.g)}${Nf(this.b)}${Nf((isNaN(this.opacity)?1:this.opacity)*255)}`}function mB(){const t=TE(this.opacity);return`${t===1?"rgb(":"rgba("}${Vh(this.r)}, ${Vh(this.g)}, ${Vh(this.b)}${t===1?")":`, ${t})`}`}function TE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nf(t){return t=Vh(t),(t<16?"0":"")+t.toString(16)}function gB(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new co(t,e,n,r)}function D$(t){if(t instanceof co)return new co(t.h,t.s,t.l,t.opacity);if(t instanceof zx||(t=P0(t)),!t)return new co;if(t instanceof co)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,u=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new co(s,o,u,t.opacity)}function Rpe(t,e,n,r){return arguments.length===1?D$(t):new co(t,e,n,r??1)}function co(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uD(co,Rpe,P$(zx,{brighter(t){return t=t==null?CE:Math.pow(CE,t),new co(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?k0:Math.pow(k0,t),new co(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fa(E2(t>=240?t-240:t+120,i,r),E2(t,i,r),E2(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new co(vB(this.h),jS(this.s),jS(this.l),TE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=TE(this.opacity);return`${t===1?"hsl(":"hsla("}${vB(this.h)}, ${jS(this.s)*100}%, ${jS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vB(t){return t=(t||0)%360,t<0?t+360:t}function jS(t){return Math.max(0,Math.min(1,t||0))}function E2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cD=t=>()=>t;function kpe(t,e){return function(n){return t+n*e}}function Mpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ppe(t){return(t=+t)==1?I$:function(e,n){return n-e?Mpe(e,n,t):cD(isNaN(e)?n:e)}}function I$(t,e){var n=e-t;return n?kpe(t,n):cD(isNaN(t)?e:t)}const yB=(function t(e){var n=Ppe(e);function r(i,a){var s=n((i=sk(i)).r,(a=sk(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),c=I$(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=t,r})(1);function Dpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ipe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Lpe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Av(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Ope(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function NE(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function jpe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Av(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ok=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,A2=new RegExp(ok.source,"g");function Fpe(t){return function(){return t}}function Upe(t){return function(e){return t(e)+""}}function Bpe(t,e){var n=ok.lastIndex=A2.lastIndex=0,r,i,a,s=-1,o=[],u=[];for(t=t+"",e=e+"";(r=ok.exec(t))&&(i=A2.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,u.push({i:s,x:NE(r,i)})),n=A2.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?Upe(u[0].x):Fpe(e):(e=u.length,function(c){for(var f=0,h;f<e;++f)o[(h=u[f]).i]=h.x(c);return o.join("")})}function Av(t,e){var n=typeof e,r;return e==null||n==="boolean"?cD(e):(n==="number"?NE:n==="string"?(r=P0(e))?(e=r,yB):Bpe:e instanceof P0?yB:e instanceof Date?Ope:Ipe(e)?Dpe:Array.isArray(e)?Lpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jpe:NE)(t,e)}function dD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zpe(t,e){e===void 0&&(e=t,t=Av);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Hpe(t){return function(){return t}}function RE(t){return+t}var bB=[0,1];function Fi(t){return t}function lk(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Hpe(isNaN(e)?NaN:.5)}function Gpe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qpe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=lk(i,r),a=n(s,a)):(r=lk(r,i),a=n(a,s)),function(o){return a(r(o))}}function $pe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=lk(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var u=Bx(t,o,1,r)-1;return a[u](i[u](o))}}function Hx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function h_(){var t=bB,e=bB,n=Av,r,i,a,s=Fi,o,u,c;function f(){var v=Math.min(t.length,e.length);return s!==Fi&&(s=Gpe(t[0],t[v-1])),o=v>2?$pe:qpe,u=c=null,h}function h(v){return v==null||isNaN(v=+v)?a:(u||(u=o(t.map(r),e,n)))(r(s(v)))}return h.invert=function(v){return s(i((c||(c=o(e,t.map(r),NE)))(v)))},h.domain=function(v){return arguments.length?(t=Array.from(v,RE),f()):t.slice()},h.range=function(v){return arguments.length?(e=Array.from(v),f()):e.slice()},h.rangeRound=function(v){return e=Array.from(v),n=dD,f()},h.clamp=function(v){return arguments.length?(s=v?!0:Fi,f()):s!==Fi},h.interpolate=function(v){return arguments.length?(n=v,f()):n},h.unknown=function(v){return arguments.length?(a=v,h):a},function(v,y){return r=v,i=y,f()}}function fD(){return h_()(Fi,Fi)}function Vpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function uv(t){return t=kE(Math.abs(t)),t?t[1]:NaN}function Wpe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Ype(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Kpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function D0(t){if(!(e=Kpe.exec(t)))throw new Error("invalid format: "+t);var e;return new hD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}D0.prototype=hD.prototype;function hD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var L$;function Jpe(t,e){var n=kE(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(L$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kE(t,Math.max(0,e+a-1))[0]}function xB(t,e){var n=kE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Vpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xB(t*100,e),r:xB,s:Jpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function SB(t){return t}var EB=Array.prototype.map,AB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qpe(t){var e=t.grouping===void 0||t.thousands===void 0?SB:Wpe(EB.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?SB:Ype(EB.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h){h=D0(h);var v=h.fill,y=h.align,w=h.sign,A=h.symbol,E=h.zero,C=h.width,k=h.comma,R=h.precision,D=h.trim,I=h.type;I==="n"?(k=!0,I="g"):wB[I]||(R===void 0&&(R=12),D=!0,I="g"),(E||v==="0"&&y==="=")&&(E=!0,v="0",y="=");var P=A==="$"?n:A==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",M=A==="$"?r:/[%p]/.test(I)?s:"",B=wB[I],z=/[defgprs%]/.test(I);R=R===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function K(G){var Y=P,te=M,W,$,U;if(I==="c")te=B(G)+te,G="";else{G=+G;var q=G<0||1/G<0;if(G=isNaN(G)?u:B(Math.abs(G),R),D&&(G=Xpe(G)),q&&+G==0&&w!=="+"&&(q=!1),Y=(q?w==="("?w:o:w==="-"||w==="("?"":w)+Y,te=(I==="s"?AB[8+L$/3]:"")+te+(q&&w==="("?")":""),z){for(W=-1,$=G.length;++W<$;)if(U=G.charCodeAt(W),48>U||U>57){te=(U===46?i+G.slice(W+1):G.slice(W))+te,G=G.slice(0,W);break}}}k&&!E&&(G=e(G,1/0));var Z=Y.length+G.length+te.length,ie=Z<C?new Array(C-Z+1).join(v):"";switch(k&&E&&(G=e(ie+G,ie.length?C-te.length:1/0),ie=""),y){case"<":G=Y+G+te+ie;break;case"=":G=Y+ie+G+te;break;case"^":G=ie.slice(0,Z=ie.length>>1)+Y+G+te+ie.slice(Z);break;default:G=ie+Y+G+te;break}return a(G)}return K.toString=function(){return h+""},K}function f(h,v){var y=c((h=D0(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(uv(v)/3)))*3,A=Math.pow(10,-w),E=AB[8+w/3];return function(C){return y(A*C)+E}}return{format:c,formatPrefix:f}}var FS,pD,O$;Zpe({thousands:",",grouping:[3],currency:["$",""]});function Zpe(t){return FS=Qpe(t),pD=FS.format,O$=FS.formatPrefix,FS}function eme(t){return Math.max(0,-uv(Math.abs(t)))}function tme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uv(e)/3)))*3-uv(Math.abs(t)))}function nme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,uv(e)-uv(t))+1}function j$(t,e,n,r){var i=ik(t,e,n),a;switch(r=D0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=tme(i,s))&&(r.precision=a),O$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=nme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=eme(i))&&(r.precision=a-(r.type==="%")*2);break}}return pD(r)}function qd(t){var e=t.domain;return t.ticks=function(n){var r=e();return nk(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return j$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],u,c,f=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);f-- >0;){if(c=rk(s,o,n),c===u)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;u=c}return t},t}function F$(){var t=fD();return t.copy=function(){return Hx(t,F$())},Us.apply(t,arguments),qd(t)}function U$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,RE),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return U$(t).unknown(e)},t=arguments.length?Array.from(t,RE):[0,1],qd(n)}function B$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function _B(t){return Math.log(t)}function CB(t){return Math.exp(t)}function rme(t){return-Math.log(-t)}function ime(t){return-Math.exp(-t)}function ame(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sme(t){return t===10?ame:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ome(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function TB(t){return(e,n)=>-t(-e,n)}function mD(t){const e=t(_B,CB),n=e.domain;let r=10,i,a;function s(){return i=ome(r),a=sme(r),n()[0]<0?(i=TB(i),a=TB(a),t(rme,ime)):t(_B,CB),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const u=n();let c=u[0],f=u[u.length-1];const h=f<c;h&&([c,f]=[f,c]);let v=i(c),y=i(f),w,A;const E=o==null?10:+o;let C=[];if(!(r%1)&&y-v<E){if(v=Math.floor(v),y=Math.ceil(y),c>0){for(;v<=y;++v)for(w=1;w<r;++w)if(A=v<0?w/a(-v):w*a(v),!(A<c)){if(A>f)break;C.push(A)}}else for(;v<=y;++v)for(w=r-1;w>=1;--w)if(A=v>0?w/a(-v):w*a(v),!(A<c)){if(A>f)break;C.push(A)}C.length*2<E&&(C=nk(c,f,E))}else C=nk(v,y,Math.min(y-v,E)).map(a);return h?C.reverse():C},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=D0(u)).precision==null&&(u.trim=!0),u=pD(u)),o===1/0)return u;const c=Math.max(1,r*o/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=c?u(f):""}},e.nice=()=>n(B$(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function z$(){const t=mD(h_()).domain([1,10]);return t.copy=()=>Hx(t,z$()).base(t.base()),Us.apply(t,arguments),t}function NB(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function RB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gD(t){var e=1,n=t(NB(e),RB(e));return n.constant=function(r){return arguments.length?t(NB(e=+r),RB(e)):e},qd(n)}function H$(){var t=gD(h_());return t.copy=function(){return Hx(t,H$()).constant(t.constant())},Us.apply(t,arguments)}function kB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function lme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ume(t){return t<0?-t*t:t*t}function vD(t){var e=t(Fi,Fi),n=1;function r(){return n===1?t(Fi,Fi):n===.5?t(lme,ume):t(kB(n),kB(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qd(e)}function yD(){var t=vD(h_());return t.copy=function(){return Hx(t,yD()).exponent(t.exponent())},Us.apply(t,arguments),t}function cme(){return yD.apply(null,arguments).exponent(.5)}function MB(t){return Math.sign(t)*t*t}function dme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function G$(){var t=fD(),e=[0,1],n=!1,r;function i(a){var s=dme(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(MB(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,RE)).map(MB)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return G$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Us.apply(i,arguments),qd(i)}function q$(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=mpe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Bx(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Md),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return q$().domain(t).range(e).unknown(r)},Us.apply(a,arguments)}function $$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[Bx(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return $$().domain([t,e]).range(i).unknown(a)},Us.apply(qd(s),arguments)}function V$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Bx(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return V$().domain(t).range(e).unknown(n)},Us.apply(i,arguments)}const _2=new Date,C2=new Date;function Ar(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let c;do u.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return u},i.filter=a=>Ar(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(_2.setTime(+a),C2.setTime(+s),t(_2),t(C2),Math.floor(n(_2,C2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ME=Ar(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ME.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ar(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ME);ME.range;const wu=1e3,Ds=wu*60,Su=Ds*60,Iu=Su*24,bD=Iu*7,PB=Iu*30,T2=Iu*365,Rf=Ar(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wu)},(t,e)=>(e-t)/wu,t=>t.getUTCSeconds());Rf.range;const xD=Ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wu)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getMinutes());xD.range;const wD=Ar(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ds)},(t,e)=>(e-t)/Ds,t=>t.getUTCMinutes());wD.range;const SD=Ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wu-t.getMinutes()*Ds)},(t,e)=>{t.setTime(+t+e*Su)},(t,e)=>(e-t)/Su,t=>t.getHours());SD.range;const ED=Ar(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Su)},(t,e)=>(e-t)/Su,t=>t.getUTCHours());ED.range;const Gx=Ar(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ds)/Iu,t=>t.getDate()-1);Gx.range;const p_=Ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Iu,t=>t.getUTCDate()-1);p_.range;const W$=Ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Iu,t=>Math.floor(t/Iu));W$.range;function ap(t){return Ar(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ds)/bD)}const m_=ap(0),PE=ap(1),fme=ap(2),hme=ap(3),cv=ap(4),pme=ap(5),mme=ap(6);m_.range;PE.range;fme.range;hme.range;cv.range;pme.range;mme.range;function sp(t){return Ar(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bD)}const g_=sp(0),DE=sp(1),gme=sp(2),vme=sp(3),dv=sp(4),yme=sp(5),bme=sp(6);g_.range;DE.range;gme.range;vme.range;dv.range;yme.range;bme.range;const AD=Ar(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());AD.range;const _D=Ar(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_D.range;const Lu=Ar(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Lu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ar(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Lu.range;const Ou=Ar(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ou.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ar(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ou.range;function Y$(t,e,n,r,i,a){const s=[[Rf,1,wu],[Rf,5,5*wu],[Rf,15,15*wu],[Rf,30,30*wu],[a,1,Ds],[a,5,5*Ds],[a,15,15*Ds],[a,30,30*Ds],[i,1,Su],[i,3,3*Su],[i,6,6*Su],[i,12,12*Su],[r,1,Iu],[r,2,2*Iu],[n,1,bD],[e,1,PB],[e,3,3*PB],[t,1,T2]];function o(c,f,h){const v=f<c;v&&([c,f]=[f,c]);const y=h&&typeof h.range=="function"?h:u(c,f,h),w=y?y.range(c,+f+1):[];return v?w.reverse():w}function u(c,f,h){const v=Math.abs(f-c)/h,y=sD(([,,E])=>E).right(s,v);if(y===s.length)return t.every(ik(c/T2,f/T2,h));if(y===0)return ME.every(Math.max(ik(c,f,h),1));const[w,A]=s[v/s[y-1][2]<s[y][2]/v?y-1:y];return w.every(A)}return[o,u]}const[xme,wme]=Y$(Ou,_D,g_,W$,ED,wD),[Sme,Eme]=Y$(Lu,AD,m_,Gx,SD,xD);function N2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function R2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ame(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,u=t.shortMonths,c=Iy(i),f=Ly(i),h=Iy(a),v=Ly(a),y=Iy(s),w=Ly(s),A=Iy(o),E=Ly(o),C=Iy(u),k=Ly(u),R={a:q,A:Z,b:ie,B:be,c:null,d:FB,e:FB,f:Wme,g:rge,G:age,H:qme,I:$me,j:Vme,L:K$,m:Yme,M:Kme,p:V,q:J,Q:zB,s:HB,S:Xme,u:Jme,U:Qme,V:Zme,w:ege,W:tge,x:null,X:null,y:nge,Y:ige,Z:sge,"%":BB},D={a:oe,A:ve,b:xe,B:_e,c:null,d:UB,e:UB,f:cge,g:xge,G:Sge,H:oge,I:lge,j:uge,L:J$,m:dge,M:fge,p:Ae,q:pt,Q:zB,s:HB,S:hge,u:pge,U:mge,V:gge,w:vge,W:yge,x:null,X:null,y:bge,Y:wge,Z:Ege,"%":BB},I={a:K,A:G,b:Y,B:te,c:W,d:OB,e:OB,f:Bme,g:LB,G:IB,H:jB,I:jB,j:Ome,L:Ume,m:Lme,M:jme,p:z,q:Ime,Q:Hme,s:Gme,S:Fme,u:Rme,U:kme,V:Mme,w:Nme,W:Pme,x:$,X:U,y:LB,Y:IB,Z:Dme,"%":zme};R.x=P(n,R),R.X=P(r,R),R.c=P(e,R),D.x=P(n,D),D.X=P(r,D),D.c=P(e,D);function P(de,Re){return function(Xe){var me=[],$e=-1,Oe=0,he=de.length,Ee,Be,nt;for(Xe instanceof Date||(Xe=new Date(+Xe));++$e<he;)de.charCodeAt($e)===37&&(me.push(de.slice(Oe,$e)),(Be=DB[Ee=de.charAt(++$e)])!=null?Ee=de.charAt(++$e):Be=Ee==="e"?" ":"0",(nt=Re[Ee])&&(Ee=nt(Xe,Be)),me.push(Ee),Oe=$e+1);return me.push(de.slice(Oe,$e)),me.join("")}}function M(de,Re){return function(Xe){var me=Dy(1900,void 0,1),$e=B(me,de,Xe+="",0),Oe,he;if($e!=Xe.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Re&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Oe=R2(Dy(me.y,0,1)),he=Oe.getUTCDay(),Oe=he>4||he===0?DE.ceil(Oe):DE(Oe),Oe=p_.offset(Oe,(me.V-1)*7),me.y=Oe.getUTCFullYear(),me.m=Oe.getUTCMonth(),me.d=Oe.getUTCDate()+(me.w+6)%7):(Oe=N2(Dy(me.y,0,1)),he=Oe.getDay(),Oe=he>4||he===0?PE.ceil(Oe):PE(Oe),Oe=Gx.offset(Oe,(me.V-1)*7),me.y=Oe.getFullYear(),me.m=Oe.getMonth(),me.d=Oe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),he="Z"in me?R2(Dy(me.y,0,1)).getUTCDay():N2(Dy(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(he+5)%7:me.w+me.U*7-(he+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,R2(me)):N2(me)}}function B(de,Re,Xe,me){for(var $e=0,Oe=Re.length,he=Xe.length,Ee,Be;$e<Oe;){if(me>=he)return-1;if(Ee=Re.charCodeAt($e++),Ee===37){if(Ee=Re.charAt($e++),Be=I[Ee in DB?Re.charAt($e++):Ee],!Be||(me=Be(de,Xe,me))<0)return-1}else if(Ee!=Xe.charCodeAt(me++))return-1}return me}function z(de,Re,Xe){var me=c.exec(Re.slice(Xe));return me?(de.p=f.get(me[0].toLowerCase()),Xe+me[0].length):-1}function K(de,Re,Xe){var me=y.exec(Re.slice(Xe));return me?(de.w=w.get(me[0].toLowerCase()),Xe+me[0].length):-1}function G(de,Re,Xe){var me=h.exec(Re.slice(Xe));return me?(de.w=v.get(me[0].toLowerCase()),Xe+me[0].length):-1}function Y(de,Re,Xe){var me=C.exec(Re.slice(Xe));return me?(de.m=k.get(me[0].toLowerCase()),Xe+me[0].length):-1}function te(de,Re,Xe){var me=A.exec(Re.slice(Xe));return me?(de.m=E.get(me[0].toLowerCase()),Xe+me[0].length):-1}function W(de,Re,Xe){return B(de,e,Re,Xe)}function $(de,Re,Xe){return B(de,n,Re,Xe)}function U(de,Re,Xe){return B(de,r,Re,Xe)}function q(de){return s[de.getDay()]}function Z(de){return a[de.getDay()]}function ie(de){return u[de.getMonth()]}function be(de){return o[de.getMonth()]}function V(de){return i[+(de.getHours()>=12)]}function J(de){return 1+~~(de.getMonth()/3)}function oe(de){return s[de.getUTCDay()]}function ve(de){return a[de.getUTCDay()]}function xe(de){return u[de.getUTCMonth()]}function _e(de){return o[de.getUTCMonth()]}function Ae(de){return i[+(de.getUTCHours()>=12)]}function pt(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Re=P(de+="",R);return Re.toString=function(){return de},Re},parse:function(de){var Re=M(de+="",!1);return Re.toString=function(){return de},Re},utcFormat:function(de){var Re=P(de+="",D);return Re.toString=function(){return de},Re},utcParse:function(de){var Re=M(de+="",!0);return Re.toString=function(){return de},Re}}}var DB={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,_me=/^%/,Cme=/[\\^$*+?|[\]().{}]/g;function Ot(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Tme(t){return t.replace(Cme,"\\$&")}function Iy(t){return new RegExp("^(?:"+t.map(Tme).join("|")+")","i")}function Ly(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Nme(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Rme(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function kme(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Mme(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Pme(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function IB(t,e,n){var r=Gr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function LB(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ime(t,e,n){var r=Gr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Lme(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OB(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ome(t,e,n){var r=Gr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jB(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function jme(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fme(t,e,n){var r=Gr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ume(t,e,n){var r=Gr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Bme(t,e,n){var r=Gr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zme(t,e,n){var r=_me.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Hme(t,e,n){var r=Gr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Gme(t,e,n){var r=Gr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function FB(t,e){return Ot(t.getDate(),e,2)}function qme(t,e){return Ot(t.getHours(),e,2)}function $me(t,e){return Ot(t.getHours()%12||12,e,2)}function Vme(t,e){return Ot(1+Gx.count(Lu(t),t),e,3)}function K$(t,e){return Ot(t.getMilliseconds(),e,3)}function Wme(t,e){return K$(t,e)+"000"}function Yme(t,e){return Ot(t.getMonth()+1,e,2)}function Kme(t,e){return Ot(t.getMinutes(),e,2)}function Xme(t,e){return Ot(t.getSeconds(),e,2)}function Jme(t){var e=t.getDay();return e===0?7:e}function Qme(t,e){return Ot(m_.count(Lu(t)-1,t),e,2)}function X$(t){var e=t.getDay();return e>=4||e===0?cv(t):cv.ceil(t)}function Zme(t,e){return t=X$(t),Ot(cv.count(Lu(t),t)+(Lu(t).getDay()===4),e,2)}function ege(t){return t.getDay()}function tge(t,e){return Ot(PE.count(Lu(t)-1,t),e,2)}function nge(t,e){return Ot(t.getFullYear()%100,e,2)}function rge(t,e){return t=X$(t),Ot(t.getFullYear()%100,e,2)}function ige(t,e){return Ot(t.getFullYear()%1e4,e,4)}function age(t,e){var n=t.getDay();return t=n>=4||n===0?cv(t):cv.ceil(t),Ot(t.getFullYear()%1e4,e,4)}function sge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ot(e/60|0,"0",2)+Ot(e%60,"0",2)}function UB(t,e){return Ot(t.getUTCDate(),e,2)}function oge(t,e){return Ot(t.getUTCHours(),e,2)}function lge(t,e){return Ot(t.getUTCHours()%12||12,e,2)}function uge(t,e){return Ot(1+p_.count(Ou(t),t),e,3)}function J$(t,e){return Ot(t.getUTCMilliseconds(),e,3)}function cge(t,e){return J$(t,e)+"000"}function dge(t,e){return Ot(t.getUTCMonth()+1,e,2)}function fge(t,e){return Ot(t.getUTCMinutes(),e,2)}function hge(t,e){return Ot(t.getUTCSeconds(),e,2)}function pge(t){var e=t.getUTCDay();return e===0?7:e}function mge(t,e){return Ot(g_.count(Ou(t)-1,t),e,2)}function Q$(t){var e=t.getUTCDay();return e>=4||e===0?dv(t):dv.ceil(t)}function gge(t,e){return t=Q$(t),Ot(dv.count(Ou(t),t)+(Ou(t).getUTCDay()===4),e,2)}function vge(t){return t.getUTCDay()}function yge(t,e){return Ot(DE.count(Ou(t)-1,t),e,2)}function bge(t,e){return Ot(t.getUTCFullYear()%100,e,2)}function xge(t,e){return t=Q$(t),Ot(t.getUTCFullYear()%100,e,2)}function wge(t,e){return Ot(t.getUTCFullYear()%1e4,e,4)}function Sge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?dv(t):dv.ceil(t),Ot(t.getUTCFullYear()%1e4,e,4)}function Ege(){return"+0000"}function BB(){return"%"}function zB(t){return+t}function HB(t){return Math.floor(+t/1e3)}var Vp,Z$,eV;Age({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Age(t){return Vp=Ame(t),Z$=Vp.format,Vp.parse,eV=Vp.utcFormat,Vp.utcParse,Vp}function _ge(t){return new Date(t)}function Cge(t){return t instanceof Date?+t:+new Date(+t)}function CD(t,e,n,r,i,a,s,o,u,c){var f=fD(),h=f.invert,v=f.domain,y=c(".%L"),w=c(":%S"),A=c("%I:%M"),E=c("%I %p"),C=c("%a %d"),k=c("%b %d"),R=c("%B"),D=c("%Y");function I(P){return(u(P)<P?y:o(P)<P?w:s(P)<P?A:a(P)<P?E:r(P)<P?i(P)<P?C:k:n(P)<P?R:D)(P)}return f.invert=function(P){return new Date(h(P))},f.domain=function(P){return arguments.length?v(Array.from(P,Cge)):v().map(_ge)},f.ticks=function(P){var M=v();return t(M[0],M[M.length-1],P??10)},f.tickFormat=function(P,M){return M==null?I:c(M)},f.nice=function(P){var M=v();return(!P||typeof P.range!="function")&&(P=e(M[0],M[M.length-1],P??10)),P?v(B$(M,P)):f},f.copy=function(){return Hx(f,CD(t,e,n,r,i,a,s,o,u,c))},f}function Tge(){return Us.apply(CD(Sme,Eme,Lu,AD,m_,Gx,SD,xD,Rf,Z$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nge(){return Us.apply(CD(xme,wme,Ou,_D,g_,p_,ED,wD,Rf,eV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function v_(){var t=0,e=1,n,r,i,a,s=Fi,o=!1,u;function c(h){return h==null||isNaN(h=+h)?u:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(s=h,c):s};function f(h){return function(v){var y,w;return arguments.length?([y,w]=v,s=h(y,w),c):[s(0),s(1)]}}return c.range=f(Av),c.rangeRound=f(dD),c.unknown=function(h){return arguments.length?(u=h,c):u},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function $d(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function tV(){var t=qd(v_()(Fi));return t.copy=function(){return $d(t,tV())},Xu.apply(t,arguments)}function nV(){var t=mD(v_()).domain([1,10]);return t.copy=function(){return $d(t,nV()).base(t.base())},Xu.apply(t,arguments)}function rV(){var t=gD(v_());return t.copy=function(){return $d(t,rV()).constant(t.constant())},Xu.apply(t,arguments)}function TD(){var t=vD(v_());return t.copy=function(){return $d(t,TD()).exponent(t.exponent())},Xu.apply(t,arguments)}function Rge(){return TD.apply(null,arguments).exponent(.5)}function iV(){var t=[],e=Fi;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Md),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ppe(t,a/r))},n.copy=function(){return iV(e).domain(t)},Xu.apply(n,arguments)}function y_(){var t=0,e=.5,n=1,r=1,i,a,s,o,u,c=Fi,f,h=!1,v;function y(A){return isNaN(A=+A)?v:(A=.5+((A=+f(A))-a)*(r*A<r*a?o:u),c(h?Math.max(0,Math.min(1,A)):A))}y.domain=function(A){return arguments.length?([t,e,n]=A,i=f(t=+t),a=f(e=+e),s=f(n=+n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,y):[t,e,n]},y.clamp=function(A){return arguments.length?(h=!!A,y):h},y.interpolator=function(A){return arguments.length?(c=A,y):c};function w(A){return function(E){var C,k,R;return arguments.length?([C,k,R]=E,c=zpe(A,[C,k,R]),y):[c(0),c(.5),c(1)]}}return y.range=w(Av),y.rangeRound=w(dD),y.unknown=function(A){return arguments.length?(v=A,y):v},function(A){return f=A,i=A(t),a=A(e),s=A(n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,y}}function aV(){var t=qd(y_()(Fi));return t.copy=function(){return $d(t,aV())},Xu.apply(t,arguments)}function sV(){var t=mD(y_()).domain([.1,1,10]);return t.copy=function(){return $d(t,sV()).base(t.base())},Xu.apply(t,arguments)}function oV(){var t=gD(y_());return t.copy=function(){return $d(t,oV()).constant(t.constant())},Xu.apply(t,arguments)}function ND(){var t=vD(y_());return t.copy=function(){return $d(t,ND()).exponent(t.exponent())},Xu.apply(t,arguments)}function kge(){return ND.apply(null,arguments).exponent(.5)}const Gy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lD,scaleDiverging:aV,scaleDivergingLog:sV,scaleDivergingPow:ND,scaleDivergingSqrt:kge,scaleDivergingSymlog:oV,scaleIdentity:U$,scaleImplicit:ak,scaleLinear:F$,scaleLog:z$,scaleOrdinal:oD,scalePoint:vpe,scalePow:yD,scaleQuantile:q$,scaleQuantize:$$,scaleRadial:G$,scaleSequential:tV,scaleSequentialLog:nV,scaleSequentialPow:TD,scaleSequentialQuantile:iV,scaleSequentialSqrt:Rge,scaleSequentialSymlog:rV,scaleSqrt:cme,scaleSymlog:H$,scaleThreshold:V$,scaleTime:Tge,scaleUtc:Nge,tickFormat:j$},Symbol.toStringTag,{value:"Module"}));var Vd=t=>t.chartData,Mge=fe([Vd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),RD=(t,e,n,r)=>r?Mge(t):Vd(t);function Od(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Vn(e)&&Vn(n))return!0}return!1}function GB(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function lV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Vn(n))i=n;else if(typeof n=="function")return;if(Vn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Od(s))return s}}function Pge(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Od(r))return GB(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ke(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&bU.test(i)){var u=bU.exec(i);if(u==null||e==null)s=void 0;else{var c=+u[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ke(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&xU.test(a)){var f=xU.exec(a);if(f==null||e==null)o=void 0;else{var h=+f[1];o=e[1]+h}}else o=e==null?void 0:e[1];var v=[s,o];if(Od(v))return e==null?v:GB(v,e,n)}}}var _v=1e9,Dge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},MD,kn=!0,Fs="[DecimalError] ",Wh=Fs+"Invalid argument: ",kD=Fs+"Exponent out of range: ",Cv=Math.floor,xf=Math.pow,Ige=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ya,Ur=1e7,En=7,uV=9007199254740991,IE=Cv(uV/En),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*En;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(t){return Au(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,n=e.constructor;return dn(Au(e,new n(t),0,1),n.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return dr(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ya))throw Error(Fs+"NaN");if(n.s<1)throw Error(Fs+(n.s?"NaN":"-Infinity"));return n.eq(Ya)?new r(0):(kn=!1,e=Au(I0(n,a),I0(t,a),a),kn=!0,dn(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fV(e,t):cV(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fs+"NaN");return n.s?(kn=!1,e=Au(n,t,0,1).times(t),kn=!0,n.minus(e)):dn(new r(n),i)};Le.naturalExponential=Le.exp=function(){return dV(this)};Le.naturalLogarithm=Le.ln=function(){return I0(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cV(e,t):fV(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wh+t);if(e=dr(i)+1,r=i.d.length-1,n=r*En+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Le.squareRoot=Le.sqrt=function(){var t,e,n,r,i,a,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Fs+"NaN")}for(t=dr(o),kn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=nl(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Cv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(Au(o,a,s+2)).times(.5),nl(a.d).slice(0,s)===(e=nl(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(dn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return kn=!0,dn(r,n)};Le.times=Le.mul=function(t){var e,n,r,i,a,s,o,u,c,f=this,h=f.constructor,v=f.d,y=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,u=v.length,c=y.length,u<c&&(a=v,v=y,y=a,s=u,u=c,c=s),a=[],s=u+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+y[r]*v[i-r-1]+e,a[i--]=o%Ur|0,e=o/Ur|0;a[i]=(a[i]+e)%Ur|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,kn?dn(t,h.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ul(t,0,_v),e===void 0?e=r.rounding:ul(e,0,8),dn(n,t+dr(n)+1,e))};Le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Jh(r,!0):(ul(t,0,_v),e===void 0?e=i.rounding:ul(e,0,8),r=dn(new i(r),t+1,e),n=Jh(r,!0,t+1)),n};Le.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Jh(i):(ul(t,0,_v),e===void 0?e=a.rounding:ul(e,0,8),r=dn(new a(i),t+dr(i)+1,e),n=Jh(r.abs(),!1,t+dr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return dn(new e(t),dr(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,n,r,i,a,s,o=this,u=o.constructor,c=12,f=+(t=new u(t));if(!t.s)return new u(Ya);if(o=new u(o),!o.s){if(t.s<1)throw Error(Fs+"Infinity");return o}if(o.eq(Ya))return o;if(r=u.precision,t.eq(Ya))return dn(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=f<0?-f:f)<=uV){for(i=new u(Ya),e=Math.ceil(r/En+4),kn=!1;n%2&&(i=i.times(o),$B(i.d,e)),n=Cv(n/2),n!==0;)o=o.times(o),$B(o.d,e);return kn=!0,t.s<0?new u(Ya).div(i):dn(i,r)}}else if(a<0)throw Error(Fs+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,kn=!1,i=t.times(I0(o,r+c)),kn=!0,i=dV(i),i.s=a,i};Le.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=dr(i),r=Jh(i,n<=a.toExpNeg||n>=a.toExpPos)):(ul(t,1,_v),e===void 0?e=a.rounding:ul(e,0,8),i=dn(new a(i),t,e),n=dr(i),r=Jh(i,t<=n||n<=a.toExpNeg,t)),r};Le.toSignificantDigits=Le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ul(t,1,_v),e===void 0?e=r.rounding:ul(e,0,8)),dn(new r(n),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=dr(t),n=t.constructor;return Jh(t,e<=n.toExpNeg||e>=n.toExpPos)};function cV(t,e){var n,r,i,a,s,o,u,c,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),kn?dn(e,h):e;if(u=t.d,c=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,o=c.length):(r=c,i=s,o=u.length),s=Math.ceil(h/En),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=c.length,o-a<0&&(a=o,r=c,c=u,u=r),n=0;a;)n=(u[--a]=u[a]+c[a]+n)/Ur|0,u[a]%=Ur;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,kn?dn(e,h):e}function ul(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Wh+t)}function nl(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=En-r.length,n&&(a+=Nc(n)),a+=r;s=t[e],r=s+"",n=En-r.length,n&&(a+=Nc(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Au=(function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Ur|0,s=a/Ur|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Ur+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,u,c,f,h,v,y,w,A,E,C,k,R,D,I,P,M,B,z=r.constructor,K=r.s==i.s?1:-1,G=r.d,Y=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Fs+"Division by zero");for(u=r.e-i.e,M=Y.length,I=G.length,y=new z(K),w=y.d=[],c=0;Y[c]==(G[c]||0);)++c;if(Y[c]>(G[c]||0)&&--u,a==null?k=a=z.precision:s?k=a+(dr(r)-dr(i))+1:k=a,k<0)return new z(0);if(k=k/En+2|0,c=0,M==1)for(f=0,Y=Y[0],k++;(c<I||f)&&k--;c++)R=f*Ur+(G[c]||0),w[c]=R/Y|0,f=R%Y|0;else{for(f=Ur/(Y[0]+1)|0,f>1&&(Y=t(Y,f),G=t(G,f),M=Y.length,I=G.length),D=M,A=G.slice(0,M),E=A.length;E<M;)A[E++]=0;B=Y.slice(),B.unshift(0),P=Y[0],Y[1]>=Ur/2&&++P;do f=0,o=e(Y,A,M,E),o<0?(C=A[0],M!=E&&(C=C*Ur+(A[1]||0)),f=C/P|0,f>1?(f>=Ur&&(f=Ur-1),h=t(Y,f),v=h.length,E=A.length,o=e(h,A,v,E),o==1&&(f--,n(h,M<v?B:Y,v))):(f==0&&(o=f=1),h=Y.slice()),v=h.length,v<E&&h.unshift(0),n(A,h,E),o==-1&&(E=A.length,o=e(Y,A,M,E),o<1&&(f++,n(A,M<E?B:Y,E))),E=A.length):o===0&&(f++,A=[0]),w[c++]=f,o&&A[0]?A[E++]=G[D]||0:(A=[G[D]],E=1);while((D++<I||A[0]!==void 0)&&k--)}return w[0]||w.shift(),y.e=u,dn(y,s?a+dr(y)+1:a)}})();function dV(t,e){var n,r,i,a,s,o,u=0,c=0,f=t.constructor,h=f.precision;if(dr(t)>16)throw Error(kD+dr(t));if(!t.s)return new f(Ya);for(kn=!1,o=h,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(xf(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new f(Ya),f.precision=o;;){if(i=dn(i.times(t),o),n=n.times(++u),s=a.plus(Au(i,n,o)),nl(s.d).slice(0,o)===nl(a.d).slice(0,o)){for(;c--;)a=dn(a.times(a),o);return f.precision=h,e==null?(kn=!0,dn(a,h)):a}a=s}}function dr(t){for(var e=t.e*En,n=t.d[0];n>=10;n/=10)e++;return e}function k2(t,e,n){if(e>t.LN10.sd())throw kn=!0,n&&(t.precision=n),Error(Fs+"LN10 precision limit exceeded");return dn(new t(t.LN10),e)}function Nc(t){for(var e="";t--;)e+="0";return e}function I0(t,e){var n,r,i,a,s,o,u,c,f,h=1,v=10,y=t,w=y.d,A=y.constructor,E=A.precision;if(y.s<1)throw Error(Fs+(y.s?"NaN":"-Infinity"));if(y.eq(Ya))return new A(0);if(e==null?(kn=!1,c=E):c=e,y.eq(10))return e==null&&(kn=!0),k2(A,c);if(c+=v,A.precision=c,n=nl(w),r=n.charAt(0),a=dr(y),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=nl(y.d),r=n.charAt(0),h++;a=dr(y),r>1?(y=new A("0."+n),a++):y=new A(r+"."+n.slice(1))}else return u=k2(A,c+2,E).times(a+""),y=I0(new A(r+"."+n.slice(1)),c-v).plus(u),A.precision=E,e==null?(kn=!0,dn(y,E)):y;for(o=s=y=Au(y.minus(Ya),y.plus(Ya),c),f=dn(y.times(y),c),i=3;;){if(s=dn(s.times(f),c),u=o.plus(Au(s,new A(i),c)),nl(u.d).slice(0,c)===nl(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(k2(A,c+2,E).times(a+""))),o=Au(o,new A(h),c),A.precision=E,e==null?(kn=!0,dn(o,E)):o;o=u,i+=2}}function qB(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Cv(n/En),t.d=[],r=(n+1)%En,n<0&&(r+=En),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=En;r<i;)t.d.push(+e.slice(r,r+=En));e=e.slice(r),r=En-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),kn&&(t.e>IE||t.e<-IE))throw Error(kD+n)}else t.s=0,t.e=0,t.d=[0];return t}function dn(t,e,n){var r,i,a,s,o,u,c,f,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=En,i=e,c=h[f=0];else{if(f=Math.ceil((r+1)/En),a=h.length,f>=a)return t;for(c=a=h[f],s=1;a>=10;a/=10)s++;r%=En,i=r-En+s}if(n!==void 0&&(a=xf(10,s-i-1),o=c/a%10|0,u=e<0||h[f+1]!==void 0||c%a,u=n<4?(o||u)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?c/xf(10,s-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return u?(a=dr(t),h.length=1,e=e-a-1,h[0]=xf(10,(En-e%En)%En),t.e=Cv(-e/En)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=xf(10,En-r),h[f]=i>0?(c/xf(10,s-i)%xf(10,i)|0)*a:0),u)for(;;)if(f==0){(h[0]+=a)==Ur&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=Ur)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(kn&&(t.e>IE||t.e<-IE))throw Error(kD+dr(t));return t}function fV(t,e){var n,r,i,a,s,o,u,c,f,h,v=t.constructor,y=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),kn?dn(e,y):e;if(u=t.d,h=e.d,r=e.e,c=t.e,u=u.slice(),s=c-r,s){for(f=s<0,f?(n=u,s=-s,o=h.length):(n=h,r=c,o=u.length),i=Math.max(Math.ceil(y/En),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=h.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(u[i]!=h[i]){f=u[i]<h[i];break}s=0}for(f&&(n=u,u=h,h=n,e.s=-e.s),o=u.length,i=h.length-o;i>0;--i)u[o++]=0;for(i=h.length;i>s;){if(u[--i]<h[i]){for(a=i;a&&u[--a]===0;)u[a]=Ur-1;--u[a],u[i]+=Ur}u[i]-=h[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,kn?dn(e,y):e):new v(0)}function Jh(t,e,n){var r,i=dr(t),a=nl(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Nc(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Nc(-i-1)+a,n&&(r=n-s)>0&&(a+=Nc(r))):i>=s?(a+=Nc(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Nc(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Nc(r))),t.s<0?"-"+a:a}function $B(t,e){if(t.length>e)return t.length=e,!0}function hV(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return qB(s,a.toString())}else if(typeof a!="string")throw Error(Wh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Ige.test(a))qB(s,a);else throw Error(Wh+a)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hV,i.config=i.set=Lge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Lge(t){if(!t||typeof t!="object")throw Error(Fs+"Object expected");var e,n,r,i=["precision",1,_v,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Cv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Wh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wh+n+": "+r);return this}var MD=hV(Dge);Ya=new MD(1);const $t=MD;var Oge=t=>t,pV={},mV=t=>t===pV,VB=t=>function e(){return arguments.length===0||arguments.length===1&&mV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},gV=(t,e)=>t===1?e:VB(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==pV).length;return a>=t?e(...r):gV(t-a,VB(function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var c=r.map(f=>mV(f)?o.shift():f);return e(...c,...o)}))}),jge=t=>gV(t.length,t),uk=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Fge=jge((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Uge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Oge;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,u)=>u(o),a(...arguments))}},ck=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function vV(t){var e;return t===0?e=1:e=Math.floor(new $t(t).abs().log(10).toNumber())+1,e}function yV(t,e,n){for(var r=new $t(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var bV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},xV=(t,e,n)=>{if(t.lte(0))return new $t(0);var r=vV(t.toNumber()),i=new $t(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new $t(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=o.mul(i);return e?new $t(u.toNumber()):new $t(Math.ceil(u.toNumber()))},Bge=(t,e,n)=>{var r=new $t(1),i=new $t(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new $t(10).pow(vV(t)-1),i=new $t(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new $t(Math.floor(t)))}else t===0?i=new $t(Math.floor((e-1)/2)):n||(i=new $t(Math.floor(t)));var s=Math.floor((e-1)/2),o=Uge(Fge(u=>i.add(new $t(u-s).mul(r)).toNumber()),uk);return o(0,e)},wV=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var s=xV(new $t(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new $t(0):(o=new $t(e).add(n).div(2),o=o.sub(new $t(o).mod(s)));var u=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new $t(n).sub(o).div(s).toNumber()),f=u+c+1;return f>r?wV(e,n,r,i,a+1):(f<r&&(c=n>0?c+(r-f):c,u=n>0?u:u+(r-f)),{step:s,tickMin:o.sub(new $t(u).mul(s)),tickMax:o.add(new $t(c).mul(s))})},zge=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,u]=bV([n,r]);if(o===-1/0||u===1/0){var c=u===1/0?[o,...uk(0,i-1).map(()=>1/0)]:[...uk(0,i-1).map(()=>-1/0),u];return n>r?ck(c):c}if(o===u)return Bge(o,i,a);var{step:f,tickMin:h,tickMax:v}=wV(o,u,s,a,0),y=yV(h,v.add(new $t(.1).mul(f)),f);return n>r?ck(y):y},Hge=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=bV([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var u=Math.max(n,2),c=xV(new $t(o).sub(s).div(u-1),a,0),f=[...yV(new $t(s),new $t(o),c),o];return a===!1&&(f=f.map(h=>Math.round(h))),r>i?ck(f):f},Gge=t=>t.rootProps.barCategoryGap,b_=t=>t.rootProps.stackOffset,SV=t=>t.rootProps.reverseStackOrder,PD=t=>t.options.chartName,DD=t=>t.rootProps.syncId,EV=t=>t.rootProps.syncMethod,ID=t=>t.options.eventEmitter,qge=t=>t.rootProps.baseValue,Ui={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},bu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$a={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},x_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},$ge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:bu.angleAxisId,includeHidden:!1,name:void 0,reversed:bu.reversed,scale:bu.scale,tick:bu.tick,tickCount:void 0,ticks:void 0,type:bu.type,unit:void 0},Vge={allowDataOverflow:$a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,ticks:void 0,type:$a.type,unit:void 0},Wge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:bu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:bu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:bu.scale,tick:bu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Yge={allowDataOverflow:$a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$a.scale,tick:$a.tick,tickCount:$a.tickCount,ticks:void 0,type:"category",unit:void 0},LD=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Wge:$ge,OD=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Yge:Vge,w_=t=>t.polarOptions,jD=fe([Yu,Ku,li],zhe),AV=fe([w_,jD],(t,e)=>{if(t!=null)return Ld(t.innerRadius,e,0)}),_V=fe([w_,jD],(t,e)=>{if(t!=null)return Ld(t.outerRadius,e,e*.8)}),Kge=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},CV=fe([w_],Kge);fe([LD,CV],x_);var TV=fe([jD,AV,_V],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});fe([OD,TV],x_);var NV=fe([mn,w_,AV,_V,Yu,Ku],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:u,endAngle:c}=e;return{cx:Ld(s,i,i/2),cy:Ld(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:c,clockWise:!1}}}),_r=(t,e)=>e,S_=(t,e,n)=>n;function FD(t){return t==null?void 0:t.id}function RV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var u,c=(u=o.data)!==null&&u!==void 0?u:r;if(!(c==null||c.length===0)){var f=FD(o);c.forEach((h,v)=>{var y=a==null||i?v:String(Ti(h,a,null)),w=Ti(h,o.dataKey,0),A;s.has(y)?A=s.get(y):A={},Object.assign(A,{[f]:w}),s.set(y,A)})}}),Array.from(s.values())}function UD(t){return t.stackId!=null&&t.dataKey!=null}var E_=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function A_(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Xge(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Cr=t=>{var e=mn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Tv=t=>t.tooltip.settings.axisId;function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){Jge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jge(t,e,n){return(e=Qge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qge(t){var e=Zge(t,"string");return typeof e=="symbol"?e:e+""}function Zge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dk=[0,"auto"],kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kV=(t,e)=>t.cartesianAxis.xAxis[e],Ju=(t,e)=>{var n=kV(t,e);return n??kr},Mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dk,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jx},MV=(t,e)=>t.cartesianAxis.yAxis[e],Qu=(t,e)=>{var n=MV(t,e);return n??Mr},eve={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},BD=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??eve},$i=(t,e,n)=>{switch(e){case"xAxis":return Ju(t,n);case"yAxis":return Qu(t,n);case"zAxis":return BD(t,n);case"angleAxis":return LD(t,n);case"radiusAxis":return OD(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},tve=(t,e,n)=>{switch(e){case"xAxis":return Ju(t,n);case"yAxis":return Qu(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},qx=(t,e,n)=>{switch(e){case"xAxis":return Ju(t,n);case"yAxis":return Qu(t,n);case"angleAxis":return LD(t,n);case"radiusAxis":return OD(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},PV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function DV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var IV=t=>t.graphicalItems.cartesianItems,nve=fe([_r,S_],DV),LV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),$x=fe([IV,$i,nve],LV,{memoizeOptions:{resultEqualityCheck:A_}}),OV=fe([$x],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(UD)),jV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),rve=fe([$x],jV),FV=t=>t.map(e=>e.data).filter(Boolean).flat(1),ive=fe([$x],FV,{memoizeOptions:{resultEqualityCheck:A_}}),UV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},zD=fe([ive,RD],UV),BV=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ti(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ti(i,r)}))):t.map(r=>({value:r})),__=fe([zD,$i,$x],BV);function zV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function c1(t){if(ol(t)||t instanceof Date){var e=Number(t);if(Vn(e))return e}}function YB(t){if(Array.isArray(t)){var e=[c1(t[0]),c1(t[1])];return Od(e)?e:void 0}var n=c1(t);if(n!=null)return[n,n]}function ju(t){return t.map(c1).filter(wue)}function ave(t,e,n){return!n||typeof e!="number"||mo(e)?[]:n.length?ju(n.flatMap(r=>{var i=Ti(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Vn(a)||!Vn(s)))return[e-a,e+s]})):[]}var Tr=t=>{var e=Cr(t),n=Tv(t);return qx(t,e,n)},Vx=fe([Tr],t=>t==null?void 0:t.dataKey),sve=fe([OV,RD,Tr],RV),HV=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,u]=s,c=r?[...u].reverse():u,f=c.map(FD);return[o,{stackedData:kde(t,f,n),graphicalItems:c}]}))},fk=fe([sve,OV,b_,SV],HV),GV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=Ide(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},ove=fe([$i],t=>t.allowDataOverflow),HD=t=>{var e;if(t==null||!("domain"in t))return dk;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ju(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:dk},qV=fe([$i],HD),$V=fe([qV,ove],lV),lve=fe([fk,Vd,_r,$V],GV,{memoizeOptions:{resultEqualityCheck:E_}}),GD=t=>t.errorBars,uve=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>zV(n,r)),OE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},VV=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(u=>{var c,f,h=(c=r[u.id])===null||c===void 0?void 0:c.filter(C=>zV(i,C)),v=Ti(o,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey),y=ave(o,v,h);if(y.length>=2){var w=Math.min(...y),A=Math.max(...y);(a==null||w<a)&&(a=w),(s==null||A>s)&&(s=A)}var E=YB(v);E!=null&&(a=a==null?E[0]:Math.min(a,E[0]),s=s==null?E[1]:Math.max(s,E[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var u=YB(Ti(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Vn(a)&&Vn(s))return[a,s]},cve=fe([zD,$i,rve,GD,_r],VV,{memoizeOptions:{resultEqualityCheck:E_}});function dve(t){var{value:e}=t;if(ol(e)||e instanceof Date)return e}var fve=(t,e,n)=>{var r=t.map(dve).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&lq(r))?T$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},WV=t=>t.referenceElements.dots,Nv=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),hve=fe([WV,_r,S_],Nv),YV=t=>t.referenceElements.areas,pve=fe([YV,_r,S_],Nv),KV=t=>t.referenceElements.lines,mve=fe([KV,_r,S_],Nv),XV=(t,e)=>{var n=ju(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},gve=fe(hve,_r,XV),JV=(t,e)=>{var n=ju(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vve=fe([pve,_r],JV);function yve(t){var e;if(t.x!=null)return ju([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:ju(n)}function bve(t){var e;if(t.y!=null)return ju([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:ju(n)}var QV=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?yve(r):bve(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xve=fe([mve,_r],QV),wve=fe(gve,xve,vve,(t,e,n)=>OE(t,n,e)),ZV=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=u?OE(r,a,i):OE(a,i);return Pge(e,c,t.allowDataOverflow)},Sve=fe([$i,qV,$V,lve,cve,wve,mn,_r],ZV,{memoizeOptions:{resultEqualityCheck:E_}}),Eve=[0,1],e9=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:u}=t,c=Wu(e,a);if(c&&o==null){var f;return T$(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?fve(r,t,c):i==="expand"?Eve:s}},qD=fe([$i,mn,zD,__,b_,_r,Sve],e9),t9=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat($P(a));return o in Gy?o:"point"}}},Wx=fe([$i,mn,PV,PD,_r],t9);function Ave(t){if(t!=null){if(t in Gy)return Gy[t]();var e="scale".concat($P(t));if(e in Gy)return Gy[e]()}}function $D(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Ave(e);if(i!=null){var a=i.domain(n).range(r);return Cde(a),a}}}var n9=(t,e,n)=>{var r=HD(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Od(t))return zge(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Od(t))return Hge(t,e.tickCount,e.allowDecimals)}},VD=fe([qD,qx,Wx],n9),r9=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Od(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},_ve=fe([$i,qD,VD,_r],r9),Cve=fe(__,$i,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ju(t.map(o=>o.value))).sort((o,u)=>o-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),i9=fe(Cve,mn,Gge,li,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Vn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Ld(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),Tve=(t,e)=>{var n=Ju(t,e);return n==null||typeof n.padding!="string"?0:i9(t,"xAxis",e,n.padding)},Nve=(t,e)=>{var n=Qu(t,e);return n==null||typeof n.padding!="string"?0:i9(t,"yAxis",e,n.padding)},Rve=fe(Ju,Tve,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),kve=fe(Qu,Nve,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Mve=fe([li,Rve,o_,s_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Pve=fe([li,mn,kve,o_,s_,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Yx=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Mve(t,n,r);case"yAxis":return Pve(t,n,r);case"zAxis":return(i=BD(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return CV(t);case"radiusAxis":return TV(t,n);default:return}},a9=fe([$i,Yx],x_),Rv=fe([$i,Wx,_ve,a9],$D);fe([$x,GD,_r],uve);function s9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var C_=(t,e)=>e,T_=(t,e,n)=>n,Dve=fe(i_,C_,T_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(s9)),Ive=fe(a_,C_,T_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(s9)),o9=(t,e)=>({width:t.width,height:e.height}),Lve=(t,e)=>{var n=typeof e.width=="number"?e.width:jx;return{width:n,height:t.height}},Ove=fe(li,Ju,o9),jve=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Fve=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Uve=fe(Ku,li,Dve,C_,T_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var u=o9(e,o);s==null&&(s=jve(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*u.height,s+=(c?-1:1)*u.height}),a}),Bve=fe(Yu,li,Ive,C_,T_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var u=Lve(e,o);s==null&&(s=Fve(e,r,t));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*u.width,s+=(c?-1:1)*u.width}),a}),zve=(t,e)=>{var n=Ju(t,e);if(n!=null)return Uve(t,n.orientation,n.mirror)},Hve=fe([li,Ju,zve,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Gve=(t,e)=>{var n=Qu(t,e);if(n!=null)return Bve(t,n.orientation,n.mirror)},qve=fe([li,Qu,Gve,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),$ve=fe(li,Qu,(t,e)=>{var n=typeof e.width=="number"?e.width:jx;return{width:n,height:t.height}}),l9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Wu(t,r),u=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&lq(u))return u}},WD=fe([mn,__,$i,_r],l9),u9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Wu(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},YD=fe([mn,__,qx,_r],u9),KB=fe([mn,tve,Wx,Rv,WD,YD,Yx,VD,_r],(t,e,n,r,i,a,s,o,u)=>{if(e!=null){var c=Wu(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),Vve=(t,e,n,r,i,a,s,o,u)=>{if(!(e==null||r==null)){var c=Wu(t,u),{type:f,ticks:h,tickCount:v}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=f==="category"&&r.bandwidth?r.bandwidth()/y:0;w=u==="angleAxis"&&a!=null&&a.length>=2?Ps(a[0]-a[1])*2*w:w;var A=h||i;if(A){var E=A.map((C,k)=>{var R=s?s.indexOf(C):C;return{index:k,coordinate:r(R)+w,value:C,offset:w}});return E.filter(C=>Vn(C.coordinate))}return c&&o?o.map((C,k)=>({coordinate:r(C)+w,value:C,index:k,offset:w})).filter(C=>Vn(C.coordinate)):r.ticks?r.ticks(v).map(C=>({coordinate:r(C)+w,value:C,offset:w})):r.domain().map((C,k)=>({coordinate:r(C)+w,value:s?s[C]:C,index:k,offset:w}))}},c9=fe([mn,qx,Wx,Rv,VD,Yx,WD,YD,_r],Vve),Wve=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Wu(t,s),{tickCount:u}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ps(r[0]-r[1])*2*c:c,o&&a?a.map((f,h)=>({coordinate:n(f)+c,value:f,index:h,offset:c})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+c,value:f,offset:c})):n.domain().map((f,h)=>({coordinate:n(f)+c,value:i?i[f]:f,index:h,offset:c}))}},d9=fe([mn,qx,Rv,Yx,WD,YD,_r],Wve),f9=fe($i,Rv,(t,e)=>{if(!(t==null||e==null))return LE(LE({},t),{},{scale:e})}),Yve=fe([$i,Wx,qD,a9],$D);fe((t,e,n)=>BD(t,n),Yve,(t,e)=>{if(!(t==null||e==null))return LE(LE({},t),{},{scale:e})});var Kve=fe([mn,i_,a_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),h9=t=>t.options.defaultTooltipEventType,p9=t=>t.options.validateTooltipEventTypes;function m9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function KD(t,e){var n=h9(t),r=p9(t);return m9(e,n,r)}function Xve(t){return Qe(e=>KD(e,t))}var g9=(t,e)=>{var n,r=Number(e);if(!(mo(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Jve=t=>t.tooltip.settings,Pc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Qve={itemInteraction:{click:Pc,hover:Pc},axisInteraction:{click:Pc,hover:Pc},keyboardInteraction:Pc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},v9=pa({name:"tooltip",initialState:Qve,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Rn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ho(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Rn()},removeTooltipEntrySettings:{reducer(t,e){var n=ho(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Rn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Zve,replaceTooltipEntrySettings:eye,removeTooltipEntrySettings:tye,setTooltipSettingsState:nye,setActiveMouseOverItemIndex:rye,mouseLeaveItem:xCe,mouseLeaveChart:y9,setActiveClickItemIndex:wCe,setMouseOverAxisIndex:b9,setMouseClickAxisIndex:iye,setSyncInteraction:hk,setKeyboardInteraction:pk}=v9.actions,aye=v9.reducer;function XB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function US(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(n),!0).forEach(function(r){sye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sye(t,e,n){return(e=oye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oye(t){var e=lye(t,"string");return typeof e=="symbol"?e:e+""}function lye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uye(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cye(t){return t.index!=null}var x9=(t,e,n,r)=>{if(e==null)return Pc;var i=uye(t,e,n);if(i==null)return Pc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(cye(i)){if(a)return US(US({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return US(US({},Pc),{},{coordinate:i.coordinate})};function dye(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function fye(t,e){var n=dye(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function hye(t,e,n){if(n==null||e==null)return!0;var r=Ti(t,e);return r==null||!Od(n)?!0:fye(r,n)}var XD=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!Vn(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(s,Math.min(a,o)),c=e[u];return c==null||hye(c,n,r)?String(u):null},w9=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var u=s[0],c=u==null?void 0:o(u.positions,a);if(c!=null)return c;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},S9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Kx=t=>t.options.tooltipPayloadSearcher,kv=t=>t.tooltip;function JB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(n),!0).forEach(function(r){pye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pye(t,e,n){return(e=mye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mye(t){var e=gye(t,"string");return typeof e=="symbol"?e:e+""}function gye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vye(t,e){return t??e}var E9=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:c,dataEndIndex:f}=n,h=[];return t.reduce((v,y)=>{var w,{dataDefinedOnItem:A,settings:E}=y,C=vye(A,o),k=Array.isArray(C)?Zq(C,c,f):C,R=(w=E==null?void 0:E.dataKey)!==null&&w!==void 0?w:r,D=E==null?void 0:E.nameKey,I;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&s==="axis"?I=uq(k,r,i):I=a(k,e,u,D),Array.isArray(I))I.forEach(M=>{var B=QB(QB({},E),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(wU({tooltipEntrySettings:B,dataKey:M.dataKey,payload:M.payload,value:Ti(M.payload,M.dataKey),name:M.name}))});else{var P;v.push(wU({tooltipEntrySettings:E,dataKey:R,payload:I,value:Ti(I,R),name:(P=Ti(I,D))!==null&&P!==void 0?P:E==null?void 0:E.name}))}return v},h)}},JD=fe([Tr,mn,PV,PD,Cr],t9),yye=fe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),bye=fe([Cr,Tv],DV),Xx=fe([yye,Tr,bye],LV,{memoizeOptions:{resultEqualityCheck:A_}}),xye=fe([Xx],t=>t.filter(UD)),wye=fe([Xx],FV,{memoizeOptions:{resultEqualityCheck:A_}}),Mv=fe([wye,Vd],UV),Sye=fe([xye,Vd,Tr],RV),QD=fe([Mv,Tr,Xx],BV),A9=fe([Tr],HD),Eye=fe([Tr],t=>t.allowDataOverflow),_9=fe([A9,Eye],lV),Aye=fe([Xx],t=>t.filter(UD)),_ye=fe([Sye,Aye,b_,SV],HV),Cye=fe([_ye,Vd,Cr,_9],GV),Tye=fe([Xx],jV),Nye=fe([Mv,Tr,Tye,GD,Cr],VV,{memoizeOptions:{resultEqualityCheck:E_}}),Rye=fe([WV,Cr,Tv],Nv),kye=fe([Rye,Cr],XV),Mye=fe([YV,Cr,Tv],Nv),Pye=fe([Mye,Cr],JV),Dye=fe([KV,Cr,Tv],Nv),Iye=fe([Dye,Cr],QV),Lye=fe([kye,Iye,Pye],OE),Oye=fe([Tr,A9,_9,Cye,Nye,Lye,mn,Cr],ZV),Jx=fe([Tr,mn,Mv,QD,b_,Cr,Oye],e9),jye=fe([Jx,Tr,JD],n9),Fye=fe([Tr,Jx,jye,Cr],r9),C9=t=>{var e=Cr(t),n=Tv(t),r=!1;return Yx(t,e,n,r)},T9=fe([Tr,C9],x_),N9=fe([Tr,JD,Fye,T9],$D),Uye=fe([mn,QD,Tr,Cr],l9),Bye=fe([mn,QD,Tr,Cr],u9),zye=(t,e,n,r,i,a,s,o)=>{if(e){var{type:u}=e,c=Wu(t,o);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ps(i[0]-i[1])*2*h:h,c&&s?s.map((v,y)=>({coordinate:r(v)+h,value:v,index:y,offset:h})):r.domain().map((v,y)=>({coordinate:r(v)+h,value:a?a[v]:v,index:y,offset:h}))}}},Zu=fe([mn,Tr,JD,N9,C9,Uye,Bye,Cr],zye),ZD=fe([h9,p9,Jve],(t,e,n)=>m9(n.shared,t,e)),R9=t=>t.tooltip.settings.trigger,eI=t=>t.tooltip.settings.defaultIndex,Qx=fe([kv,ZD,R9,eI],x9),L0=fe([Qx,Mv,Vx,Jx],XD),k9=fe([Zu,L0],g9),Hye=fe([Qx],t=>{if(t)return t.dataKey});fe([Qx],t=>{if(t)return t.graphicalItemId});var M9=fe([kv,ZD,R9,eI],S9),Gye=fe([Yu,Ku,mn,li,Zu,eI,M9,Kx],w9),qye=fe([Qx,Gye],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),$ye=fe([Qx],t=>t.active),Vye=fe([M9,L0,Vd,Vx,k9,Kx,ZD],E9),Wye=fe([Vye],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function ZB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ez(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(r){Yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yye(t,e,n){return(e=Kye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Xye(t,"string");return typeof e=="symbol"?e:e+""}function Xye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jye=()=>Qe(Tr),Qye=()=>{var t=Jye(),e=Qe(Zu),n=Qe(N9);return mE(!t||!n?void 0:ez(ez({},t),{},{scale:n}),e)};function tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tz(Object(n),!0).forEach(function(r){Zye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zye(t,e,n){return(e=e0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e0e(t){var e=t0e(t,"string");return typeof e=="symbol"?e:e+""}function t0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n0e=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},r0e=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Wp(Wp(Wp({},r),ai(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:u}=r;return Wp(Wp(Wp({},r),ai(r.cx,r.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function i0e(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var P9=(t,e,n,r,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<o;u++){var c=u>0?n[u-1].coordinate:n[o-1].coordinate,f=n[u].coordinate,h=u>=o-1?n[0].coordinate:n[u+1].coordinate,v=void 0;if(Ps(f-c)!==Ps(h-f)){var y=[];if(Ps(h-f)===Ps(i[1]-i[0])){v=h;var w=f+i[1]-i[0];y[0]=Math.min(w,(w+c)/2),y[1]=Math.max(w,(w+c)/2)}else{v=c;var A=h+i[1]-i[0];y[0]=Math.min(f,(A+f)/2),y[1]=Math.max(f,(A+f)/2)}var E=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(t>E[0]&&t<=E[1]||t>=y[0]&&t<=y[1]){({index:s}=n[u]);break}}else{var C=Math.min(c,h),k=Math.max(c,h);if(t>(C+f)/2&&t<=(k+f)/2){({index:s}=n[u]);break}}}else if(e){for(var R=0;R<o;R++)if(R===0&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R>0&&R<o-1&&t>(e[R].coordinate+e[R-1].coordinate)/2&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R===o-1&&t>(e[R].coordinate+e[R-1].coordinate)/2){({index:s}=e[R]);break}}return s},D9=()=>Qe(PD),tI=(t,e)=>e,I9=(t,e,n)=>n,nI=(t,e,n,r)=>r,a0e=fe(Zu,t=>KA(t,e=>e.coordinate)),rI=fe([kv,tI,I9,nI],x9),iI=fe([rI,Mv,Vx,Jx],XD),s0e=(t,e,n)=>{if(e!=null){var r=kv(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},L9=fe([kv,tI,I9,nI],S9),jE=fe([Yu,Ku,mn,li,Zu,nI,L9,Kx],w9),o0e=fe([rI,jE],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),O9=fe([Zu,iI],g9),l0e=fe([L9,iI,Vd,Vx,O9,Kx,tI],E9),u0e=fe([rI,iI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),c0e=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&i0e(t,s)){var o=Lde(t,e),u=P9(o,a,i,n,r),c=n0e(e,i,u,t);return{activeIndex:String(u),activeCoordinate:c}}},d0e=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=Vhe(t,n);if(o){var u=Ode(o,e),c=P9(u,s,a,r,i),f=r0e(e,a,c,o);return{activeIndex:String(c),activeCoordinate:f}}}},f0e=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?c0e(t,e,r,i,a,s,o):d0e(t,e,n,r,i,a,s)},h0e=fe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),p0e=fe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Ui)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Xge}});function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){m0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m0e(t,e,n){return(e=g0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g0e(t){var e=v0e(t,"string");return typeof e=="symbol"?e:e+""}function v0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y0e={},b0e={zIndexMap:Object.values(Ui).reduce((t,e)=>rz(rz({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),y0e)},x0e=new Set(Object.values(Ui));function w0e(t){return x0e.has(t)}var j9=pa({name:"zIndex",initialState:b0e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Rn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!w0e(n)&&delete t.zIndexMap[n])},prepare:Rn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Rn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Rn()}}}),{registerZIndexPortal:S0e,unregisterZIndexPortal:E0e,registerZIndexPortalId:A0e,unregisterZIndexPortalId:_0e}=j9.actions,C0e=j9.reducer;function ec(t){var{zIndex:e,children:n}=t,r=gfe(),i=r&&e!==void 0&&e!==0,a=ma(),s=Hr();T.useLayoutEffect(()=>i?(s(S0e({zIndex:e})),()=>{s(E0e({zIndex:e}))}):Dx,[s,e,i]);var o=Qe(c=>h0e(c,e,a));if(!i)return n;if(!o)return null;var u=document.getElementById(o);return u?FA.createPortal(n,u):null}function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mk.apply(null,arguments)}function iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(n),!0).forEach(function(r){T0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0e(t,e,n){return(e=N0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N0e(t){var e=R0e(t,"string");return typeof e=="symbol"?e:e+""}function R0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k0e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function M0e(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:c,chartName:f}=t,h=n,v=r,y=i;if(!u||!h||f!=="ScatterChart"&&c!=="axis")return null;var w,A,E;if(f==="ScatterChart")w=h,A=ihe,E=Ui.cursorLine;else if(f==="BarChart")w=ahe(o,h,a,s),A=Ohe,E=Ui.cursorRectangle;else if(o==="radial"&&cq(h)){var{cx:C,cy:k,radius:R,startAngle:D,endAngle:I}=_$(h);w={cx:C,cy:k,startAngle:D,endAngle:I,innerRadius:R,outerRadius:R},A=Xhe,E=Ui.cursorLine}else w={points:Jhe(o,h,a)},A=u1,E=Ui.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,M=BS(BS(BS(BS({stroke:"#ccc",pointerEvents:"none"},a),w),$A(u)),{},{payload:v,payloadIndex:y,className:Vt("recharts-tooltip-cursor",P)});return T.createElement(ec,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:E},T.createElement(k0e,{cursor:u,cursorComp:A,cursorProps:M}))}function P0e(t){var e=Qye(),n=u$(),r=Fx(),i=D9();return e==null||n==null||r==null||i==null?null:T.createElement(M0e,mk({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var F9=T.createContext(null),D0e=()=>T.useContext(F9),M2={exports:{}},az;function I0e(){return az||(az=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function a(u,c,f,h,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,h||u,v),w=n?n+c:c;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)e.call(f,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=n?n+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,y=h.length,w=new Array(y);v<y;v++)w[v]=h[v].fn;return w},o.prototype.listenerCount=function(c){var f=n?n+c:c,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,f,h,v,y,w){var A=n?n+c:c;if(!this._events[A])return!1;var E=this._events[A],C=arguments.length,k,R;if(E.fn){switch(E.once&&this.removeListener(c,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,h),!0;case 4:return E.fn.call(E.context,f,h,v),!0;case 5:return E.fn.call(E.context,f,h,v,y),!0;case 6:return E.fn.call(E.context,f,h,v,y,w),!0}for(R=1,k=new Array(C-1);R<C;R++)k[R-1]=arguments[R];E.fn.apply(E.context,k)}else{var D=E.length,I;for(R=0;R<D;R++)switch(E[R].once&&this.removeListener(c,E[R].fn,void 0,!0),C){case 1:E[R].fn.call(E[R].context);break;case 2:E[R].fn.call(E[R].context,f);break;case 3:E[R].fn.call(E[R].context,f,h);break;case 4:E[R].fn.call(E[R].context,f,h,v);break;default:if(!k)for(I=1,k=new Array(C-1);I<C;I++)k[I-1]=arguments[I];E[R].fn.apply(E[R].context,k)}}return!0},o.prototype.on=function(c,f,h){return a(this,c,f,h,!1)},o.prototype.once=function(c,f,h){return a(this,c,f,h,!0)},o.prototype.removeListener=function(c,f,h,v){var y=n?n+c:c;if(!this._events[y])return this;if(!f)return s(this,y),this;var w=this._events[y];if(w.fn)w.fn===f&&(!v||w.once)&&(!h||w.context===h)&&s(this,y);else{for(var A=0,E=[],C=w.length;A<C;A++)(w[A].fn!==f||v&&!w[A].once||h&&w[A].context!==h)&&E.push(w[A]);E.length?this._events[y]=E.length===1?E[0]:E:s(this,y)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(M2)),M2.exports}var L0e=I0e();const O0e=bo(L0e);var O0=new O0e,gk="recharts.syncEvent.tooltip",sz="recharts.syncEvent.brush";function j0e(t,e){if(e){var n=Number.parseInt(e,10);if(!mo(n))return t==null?void 0:t[n]}}var F0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},U9=pa({name:"options",initialState:F0e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),U0e=U9.reducer,{createEventEmitter:B0e}=U9.actions;function z0e(t){return t.tooltip.syncInteraction}var H0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},B9=pa({name:"chartData",initialState:H0e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:oz,setDataStartEndIndexes:G0e,setComputedData:SCe}=B9.actions,q0e=B9.reducer,$0e=["x","y"];function lz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(n),!0).forEach(function(r){V0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V0e(t,e,n){return(e=W0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W0e(t){var e=Y0e(t,"string");return typeof e=="symbol"?e:e+""}function Y0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0e(t,e){if(t==null)return{};var n,r,i=X0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function X0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function J0e(){var t=Qe(DD),e=Qe(ID),n=Hr(),r=Qe(EV),i=Qe(Zu),a=Fx(),s=l_(),o=Qe(u=>u.rootProps.className);T.useEffect(()=>{if(t==null)return Dx;var u=(c,f,h)=>{if(e!==h&&t===c){if(r==="index"){var v;if(s&&f!==null&&f!==void 0&&(v=f.payload)!==null&&v!==void 0&&v.coordinate&&f.payload.sourceViewBox){var y=f.payload.coordinate,{x:w,y:A}=y,E=K0e(y,$0e),{x:C,y:k,width:R,height:D}=f.payload.sourceViewBox,I=Yp(Yp({},E),{},{x:s.x+(R?(w-C)/R:0)*s.width,y:s.y+(D?(A-k)/D:0)*s.height});n(Yp(Yp({},f),{},{payload:Yp(Yp({},f.payload),{},{coordinate:I})}))}else n(f);return}if(i!=null){var P;if(typeof r=="function"){var M={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},B=r(i,M);P=i[B]}else r==="value"&&(P=i.find(U=>String(U.value)===f.payload.label));var{coordinate:z}=f.payload;if(P==null||f.payload.active===!1||z==null||s==null){n(hk({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:G}=z,Y=Math.min(K,s.x+s.width),te=Math.min(G,s.y+s.height),W={x:a==="horizontal"?P.coordinate:Y,y:a==="horizontal"?te:P.coordinate},$=hk({active:f.payload.active,coordinate:W,dataKey:f.payload.dataKey,index:String(P.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n($)}}};return O0.on(gk,u),()=>{O0.off(gk,u)}},[o,n,e,t,r,i,a,s])}function Q0e(){var t=Qe(DD),e=Qe(ID),n=Hr();T.useEffect(()=>{if(t==null)return Dx;var r=(i,a,s)=>{e!==s&&t===i&&n(G0e(a))};return O0.on(sz,r),()=>{O0.off(sz,r)}},[n,e,t])}function Z0e(){var t=Hr();T.useEffect(()=>{t(B0e())},[t]),J0e(),Q0e()}function ebe(t,e,n,r,i,a){var s=Qe(y=>s0e(y,t,e)),o=Qe(ID),u=Qe(DD),c=Qe(EV),f=Qe(z0e),h=f==null?void 0:f.active,v=l_();T.useEffect(()=>{if(!h&&u!=null&&o!=null){var y=hk({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});O0.emit(gk,u,y,o)}},[h,n,s,i,r,o,u,c,a,v])}function uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(n),!0).forEach(function(r){tbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tbe(t,e,n){return(e=nbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nbe(t){var e=rbe(t,"string");return typeof e=="symbol"?e:e+""}function rbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ibe(t){return t.dataKey}function abe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(jfe,e)}var dz=[],sbe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function obe(t){var e,n,r=ts(t,sbe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:u,filterNull:c,isAnimationActive:f,offset:h,payloadUniqBy:v,position:y,reverseDirection:w,useTranslate3d:A,wrapperStyle:E,cursor:C,shared:k,trigger:R,defaultIndex:D,portal:I,axisId:P}=r,M=Hr(),B=typeof D=="number"?String(D):D;T.useEffect(()=>{M(nye({shared:k,trigger:R,axisId:P,active:i,defaultIndex:B}))},[M,k,R,P,i,B]);var z=l_(),K=b$(),G=Xve(k),{activeIndex:Y,isActive:te}=(e=Qe(Ae=>u0e(Ae,G,R,B)))!==null&&e!==void 0?e:{},W=Qe(Ae=>l0e(Ae,G,R,B)),$=Qe(Ae=>O9(Ae,G,R,B)),U=Qe(Ae=>o0e(Ae,G,R,B)),q=W,Z=D0e(),ie=(n=i??te)!==null&&n!==void 0?n:!1,[be,V]=wce([q,ie]),J=G==="axis"?$:void 0;ebe(G,R,U,J,Y,ie);var oe=I??Z;if(oe==null||z==null||G==null)return null;var ve=q??dz;ie||(ve=dz),c&&ve.length&&(ve=Wue(ve.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||r.includeHidden)),v,ibe));var xe=ve.length>0,_e=T.createElement(qfe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:f,active:ie,coordinate:U,hasPayload:xe,offset:h,position:y,reverseDirection:w,useTranslate3d:A,viewBox:z,wrapperStyle:E,lastBoundingBox:be,innerRef:V,hasPortalFromProps:!!I},abe(u,cz(cz({},r),{},{payload:ve,label:J,active:ie,activeIndex:Y,coordinate:U,accessibilityLayer:K})));return T.createElement(T.Fragment,null,FA.createPortal(_e,oe),ie&&T.createElement(P0e,{cursor:C,tooltipEventType:G,coordinate:U,payload:ve,index:Y}))}function lbe(t,e,n){return(e=ube(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ube(t){var e=cbe(t,"string");return typeof e=="symbol"?e:e+""}function cbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class dbe{constructor(e){lbe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(r){hbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hbe(t,e,n){return(e=pbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pbe(t){var e=mbe(t,"string");return typeof e=="symbol"?e:e+""}function mbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gbe={cacheSize:2e3,enableCache:!0},z9=fbe({},gbe),hz=new dbe(z9.cacheSize),vbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},pz="recharts_measurement_span";function ybe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var mz=(t,e)=>{try{var n=document.getElementById(pz);n||(n=document.createElement("span"),n.setAttribute("id",pz),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,vbe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},h0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ev.isSsr)return{width:0,height:0};if(!z9.enableCache)return mz(e,n);var r=ybe(e,n),i=hz.get(r);if(i)return i;var a=mz(e,n);return hz.set(r,a),a},gz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,H9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},wbe=Object.keys(H9),fm="NaN";function Sbe(t,e){return t*H9[e]}class ua{static parse(e){var n,[,r,i]=(n=xbe.exec(e))!==null&&n!==void 0?n:[];return new ua(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,mo(e)&&(this.unit=""),n!==""&&!bbe.test(n)&&(this.num=NaN,this.unit=""),wbe.includes(n)&&(this.num=Sbe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ua(NaN,""):new ua(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ua(NaN,""):new ua(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ua(NaN,""):new ua(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ua(NaN,""):new ua(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mo(this.num)}}function G9(t){if(t.includes(fm))return fm;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=gz.exec(e))!==null&&n!==void 0?n:[],s=ua.parse(r??""),o=ua.parse(a??""),u=i==="*"?s.multiply(o):s.divide(o);if(u.isNaN())return fm;e=e.replace(gz,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,f,h,v]=(c=vz.exec(e))!==null&&c!==void 0?c:[],y=ua.parse(f??""),w=ua.parse(v??""),A=h==="+"?y.add(w):y.subtract(w);if(A.isNaN())return fm;e=e.replace(vz,A.toString())}return e}var yz=/\(([^()]*)\)/;function Ebe(t){for(var e=t,n;(n=yz.exec(e))!=null;){var[,r]=n;e=e.replace(yz,G9(r))}return e}function Abe(t){var e=t.replace(/\s+/g,"");return e=Ebe(e),e=G9(e),e}function _be(t){try{return Abe(t)}catch{return fm}}function P2(t){var e=_be(t.slice(5,-1));return e===fm?"":e}var Cbe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Tbe=["dx","dy","angle","className","breakAll"];function vk(){return vk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vk.apply(null,arguments)}function bz(t,e){if(t==null)return{};var n,r,i=Nbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var q9=/[ \f\n\r\t\v\u2028\u2029]+/,$9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];si(e)||(n?i=e.toString().split(""):i=e.toString().split(q9));var a=i.map(o=>({word:o,width:h0(o,r).width})),s=n?0:h0("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Rbe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var V9=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||r||u.width+o+n<Number(e)))u.words.push(s),u.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),W9=t=>t.reduce((e,n)=>e.width>n.width?e:n),kbe="",xz=(t,e,n,r,i,a,s,o)=>{var u=t.slice(0,e),c=$9({breakAll:n,style:r,children:u+kbe});if(!c)return[!1,[]];var f=V9(c.wordsWithComputedWidth,a,s,o),h=f.length>i||W9(f).width>Number(a);return[h,f]},Mbe=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:u}=t,c=Ke(a),f=String(s),h=V9(e,r,n,i);if(!c||i)return h;var v=h.length>a||W9(h).width>Number(r);if(!v)return h;for(var y=0,w=f.length-1,A=0,E;y<=w&&A<=f.length-1;){var C=Math.floor((y+w)/2),k=C-1,[R,D]=xz(f,k,u,o,a,r,n,i),[I]=xz(f,C,u,o,a,r,n,i);if(!R&&!I&&(y=C+1),R&&I&&(w=C-1),!R&&I){E=D;break}A++}return E||h},wz=t=>{var e=si(t)?[]:t.toString().split(q9);return[{words:e,width:void 0}]},Pbe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!Ev.isSsr){var o,u,c=$9({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:f,spaceWidth:h}=c;o=f,u=h}else return wz(r);return Mbe({breakAll:a,children:r,maxLines:s,style:i},o,u,e,!!n)}return wz(r)},Y9="#808080",Dbe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Y9,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},aI=T.forwardRef((t,e)=>{var n=ts(t,Dbe),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:u,textAnchor:c,verticalAnchor:f}=n,h=bz(n,Cbe),v=T.useMemo(()=>Pbe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:y,dy:w,angle:A,className:E,breakAll:C}=h,k=bz(h,Tbe);if(!ol(r)||!ol(i)||v.length===0)return null;var R=Number(r)+(Ke(y)?y:0),D=Number(i)+(Ke(w)?w:0);if(!Vn(R)||!Vn(D))return null;var I;switch(f){case"start":I=P2("calc(".concat(s,")"));break;case"middle":I=P2("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:I=P2("calc(".concat(v.length-1," * -").concat(a,")"));break}var P=[];if(u){var M=v[0].width,{width:B}=h;P.push("scale(".concat(Ke(B)&&Ke(M)?B/M:1,")"))}return A&&P.push("rotate(".concat(A,", ").concat(R,", ").concat(D,")")),P.length&&(k.transform=P.join(" ")),T.createElement("text",vk({},Os(k),{ref:e,x:R,y:D,className:Vt("recharts-text",E),textAnchor:c,fill:o.includes("url")?Y9:o}),v.map((z,K)=>{var G=z.words.join(C?"":" ");return T.createElement("tspan",{x:R,dy:K===0?I:a,key:"".concat(G,"-").concat(K)},G)}))});aI.displayName="Text";var Ibe=["labelRef"];function Lbe(t,e){if(t==null)return{};var n,r,i=Obe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Obe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(n),!0).forEach(function(r){jbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jbe(t,e,n){return(e=Fbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fbe(t){var e=Ube(t,"string");return typeof e=="symbol"?e:e+""}function Ube(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(null,arguments)}var K9=T.createContext(null),Bbe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,u=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return T.createElement(K9.Provider,{value:u},o)},X9=()=>{var t=T.useContext(K9),e=l_();return t||l$(e)},zbe=T.createContext(null),Hbe=()=>{var t=T.useContext(zbe),e=Qe(NV);return t||e},Gbe=t=>{var{value:e,formatter:n}=t,r=si(t.children)?e:t.children;return typeof n=="function"?n(r):r},sI=t=>t!=null&&typeof t=="function",qbe=(t,e)=>{var n=Ps(e-t),r=Math.min(Math.abs(e-t),360);return n*r},$be=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:u,innerRadius:c,outerRadius:f,startAngle:h,endAngle:v,clockWise:y}=i,w=(c+f)/2,A=qbe(h,v),E=A>=0?1:-1,C,k;switch(e){case"insideStart":C=h+E*a,k=y;break;case"insideEnd":C=v-E*a,k=!y;break;case"end":C=v+E*a,k=y;break;default:throw new Error("Unsupported position ".concat(e))}k=A<=0?k:!k;var R=ai(o,u,w,C),D=ai(o,u,w,C+(k?1:-1)*359),I="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(D.x,",").concat(D.y),P=si(t.id)?S0("recharts-radial-line-"):t.id;return T.createElement("text",xu({},r,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:P,d:I})),T.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Vbe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:u}=t,c=(o+u)/2;if(n==="outside"){var{x:f,y:h}=ai(r,i,s+e,c);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+s)/2,{x:y,y:w}=ai(r,i,v,c);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},yk=t=>"cx"in t&&Ke(t.cx),Wbe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!yk(n)&&(a=n);var{x:s,y:o,upperWidth:u,lowerWidth:c,height:f}=e,h=s,v=s+(u-c)/2,y=(h+v)/2,w=(u+c)/2,A=h+u/2,E=f>=0?1:-1,C=E*r,k=E>0?"end":"start",R=E>0?"start":"end",D=u>=0?1:-1,I=D*r,P=D>0?"end":"start",M=D>0?"start":"end";if(i==="top"){var B={x:h+u/2,y:o-C,textAnchor:"middle",verticalAnchor:k};return Xn(Xn({},B),a?{height:Math.max(o-a.y,0),width:u}:{})}if(i==="bottom"){var z={x:v+c/2,y:o+f+C,textAnchor:"middle",verticalAnchor:R};return Xn(Xn({},z),a?{height:Math.max(a.y+a.height-(o+f),0),width:c}:{})}if(i==="left"){var K={x:y-I,y:o+f/2,textAnchor:P,verticalAnchor:"middle"};return Xn(Xn({},K),a?{width:Math.max(K.x-a.x,0),height:f}:{})}if(i==="right"){var G={x:y+w+I,y:o+f/2,textAnchor:M,verticalAnchor:"middle"};return Xn(Xn({},G),a?{width:Math.max(a.x+a.width-G.x,0),height:f}:{})}var Y=a?{width:w,height:f}:{};return i==="insideLeft"?Xn({x:y+I,y:o+f/2,textAnchor:M,verticalAnchor:"middle"},Y):i==="insideRight"?Xn({x:y+w-I,y:o+f/2,textAnchor:P,verticalAnchor:"middle"},Y):i==="insideTop"?Xn({x:h+u/2,y:o+C,textAnchor:"middle",verticalAnchor:R},Y):i==="insideBottom"?Xn({x:v+c/2,y:o+f-C,textAnchor:"middle",verticalAnchor:k},Y):i==="insideTopLeft"?Xn({x:h+I,y:o+C,textAnchor:M,verticalAnchor:R},Y):i==="insideTopRight"?Xn({x:h+u-I,y:o+C,textAnchor:P,verticalAnchor:R},Y):i==="insideBottomLeft"?Xn({x:v+I,y:o+f-C,textAnchor:M,verticalAnchor:k},Y):i==="insideBottomRight"?Xn({x:v+c-I,y:o+f-C,textAnchor:P,verticalAnchor:k},Y):i&&typeof i=="object"&&(Ke(i.x)||Pu(i.x))&&(Ke(i.y)||Pu(i.y))?Xn({x:s+Ld(i.x,w),y:o+Ld(i.y,f),textAnchor:"end",verticalAnchor:"end"},Y):Xn({x:A,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},Y)},Ybe={angle:0,offset:5,zIndex:Ui.label,position:"middle",textBreakAll:!1};function Rc(t){var e=ts(t,Ybe),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:u,labelRef:c}=e,f=Hbe(),h=X9(),v=r==="center"?h:f??h,y,w,A;if(n==null?y=v:yk(n)?y=n:y=l$(n),!y||si(i)&&si(a)&&!T.isValidElement(s)&&typeof s!="function")return null;var E=Xn(Xn({},e),{},{viewBox:y});if(T.isValidElement(s)){var{labelRef:C}=E,k=Lbe(E,Ibe);return T.cloneElement(s,k)}if(typeof s=="function"){if(w=T.createElement(s,E),T.isValidElement(w))return w}else w=Gbe(e);var R=Os(e);if(yk(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return $be(e,r,w,R,y);A=Vbe(y,e.offset,e.position)}else A=Wbe(e,y);return T.createElement(ec,{zIndex:e.zIndex},T.createElement(aI,xu({ref:c,className:Vt("recharts-label",o)},R,A,{textAnchor:Rbe(R.textAnchor)?R.textAnchor:A.textAnchor,breakAll:u}),w))}Rc.displayName="Label";var Kbe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Rc,xu({key:"label-implicit"},r)):ol(t)?T.createElement(Rc,xu({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Rc?T.cloneElement(t,Xn({key:"label-implicit"},r)):T.createElement(Rc,xu({key:"label-implicit",content:t},r)):sI(t)?T.createElement(Rc,xu({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Rc,xu({},t,{key:"label-implicit"},r)):null};function Xbe(t){var{label:e,labelRef:n}=t,r=X9();return Kbe(e,r,n)||null}var D2={},I2={},Ez;function Jbe(){return Ez||(Ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(I2)),I2}var L2={},Az;function Qbe(){return Az||(Az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(L2)),L2}var _z;function Zbe(){return _z||(_z=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jbe(),n=Qbe(),r=WP();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(D2)),D2}var O2,Cz;function exe(){return Cz||(Cz=1,O2=Zbe().last),O2}var txe=exe();const nxe=bo(txe);var rxe=["valueAccessor"],ixe=["dataKey","clockWise","id","textBreakAll","zIndex"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function Tz(t,e){if(t==null)return{};var n,r,i=axe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function axe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sxe=t=>Array.isArray(t.value)?nxe(t.value):t.value,J9=T.createContext(void 0),oxe=J9.Provider,Q9=T.createContext(void 0);Q9.Provider;function lxe(){return T.useContext(J9)}function uxe(){return T.useContext(Q9)}function d1(t){var{valueAccessor:e=sxe}=t,n=Tz(t,rxe),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,u=Tz(n,ixe),c=lxe(),f=uxe(),h=c||f;return!h||!h.length?null:T.createElement(ec,{zIndex:o??Ui.label},T.createElement(sl,{className:"recharts-label-list"},h.map((v,y)=>{var w,A=si(r)?e(v,y):Ti(v&&v.payload,r),E=si(a)?{}:{id:"".concat(a,"-").concat(y)};return T.createElement(Rc,FE({key:"label-".concat(y)},Os(v),u,E,{fill:(w=n.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:A,textBreakAll:s,viewBox:v.viewBox,index:y,zIndex:0}))})))}d1.displayName="LabelList";function cxe(t){var{label:e}=t;return e?e===!0?T.createElement(d1,{key:"labelList-implicit"}):T.isValidElement(e)||sI(e)?T.createElement(d1,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(d1,FE({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function bk(){return bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bk.apply(null,arguments)}var Z9=t=>{var{cx:e,cy:n,r,className:i}=t,a=Vt("recharts-dot",i);return Ke(e)&&Ke(n)&&Ke(r)?T.createElement("circle",bk({},po(t),VP(t),{className:a,cx:e,cy:n,r})):null},dxe={radiusAxis:{},angleAxis:{}},eW=pa({name:"polarAxis",initialState:dxe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:ECe,removeRadiusAxis:ACe,addAngleAxis:_Ce,removeAngleAxis:CCe}=eW.actions,fxe=eW.reducer,tW=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function hxe(t){var{tooltipEntrySettings:e}=t,n=Hr(),r=ma(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Zve(e)):i.current!==e&&n(eye({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(tye(i.current)),i.current=null)},[n]),null}function pxe(t){var{legendPayload:e}=t,n=Hr(),r=ma(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Rfe(e)):i.current!==e&&n(kfe({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Mfe(i.current)),i.current=null)},[n]),null}var j2,mxe=()=>{var[t]=T.useState(()=>S0("uid-"));return t},gxe=(j2=XM.useId)!==null&&j2!==void 0?j2:mxe;function nW(t,e){var n=gxe();return e||(t?"".concat(t,"-").concat(n):n)}var vxe=T.createContext(void 0),yxe=t=>{var{id:e,type:n,children:r}=t,i=nW("recharts-".concat(n),e);return T.createElement(vxe.Provider,{value:i},r(i))},bxe={cartesianItems:[],polarItems:[]},rW=pa({name:"graphicalItems",initialState:bxe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Rn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ho(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Rn()},removeCartesianGraphicalItem:{reducer(t,e){var n=ho(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Rn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Rn()},removePolarGraphicalItem:{reducer(t,e){var n=ho(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Rn()}}}),{addCartesianGraphicalItem:xxe,replaceCartesianGraphicalItem:wxe,removeCartesianGraphicalItem:Sxe,addPolarGraphicalItem:TCe,removePolarGraphicalItem:NCe}=rW.actions,Exe=rW.reducer,Axe=t=>{var e=Hr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(xxe(t)):n.current!==t&&e(wxe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(Sxe(n.current)),n.current=null)},[e]),null},_xe=T.memo(Axe),Cxe=["points"];function Nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(n),!0).forEach(function(r){Txe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Txe(t,e,n){return(e=Nxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nxe(t){var e=Rxe(t,"string");return typeof e=="symbol"?e:e+""}function Rxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}function kxe(t,e){if(t==null)return{};var n,r,i=Mxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Pxe(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Vt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=kxe(a,Cxe);return T.createElement(Z9,UE({},o,{className:i}))}function Dxe(t,e){return t==null?!1:e?!0:t.length===1}function Ixe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:u,zIndex:c=Ui.scatter}=t;if(!Dxe(e,n))return null;var f=tW(n),h=zle(n),v=e.map((w,A)=>{var E,C,k=F2(F2(F2({r:3},s),h),{},{index:A,cx:(E=w.x)!==null&&E!==void 0?E:void 0,cy:(C=w.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return T.createElement(Pxe,{key:"dot-".concat(A),option:n,dotProps:k,className:i})}),y={};return o&&u!=null&&(y.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),T.createElement(ec,{zIndex:c},T.createElement(sl,UE({className:r},y),v))}function Rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(n),!0).forEach(function(r){Lxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lxe(t,e,n){return(e=Oxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oxe(t){var e=jxe(t,"string");return typeof e=="symbol"?e:e+""}function jxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fxe={xAxis:{},yAxis:{},zAxis:{}},iW=pa({name:"cartesianAxis",initialState:Fxe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Rn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Rn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Rn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Rn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Rn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Rn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Rn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Rn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Rn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=kz(kz({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Uxe,replaceXAxis:Bxe,removeXAxis:zxe,addYAxis:Hxe,replaceYAxis:Gxe,removeYAxis:qxe,addZAxis:RCe,replaceZAxis:kCe,removeZAxis:MCe,updateYAxisWidth:$xe}=iW.actions,Vxe=iW.reducer,Wxe=fe([li],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Yxe=fe([Wxe,Yu,Ku],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),oI=()=>Qe(Yxe),Kxe=()=>Qe(Wye);function Mz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(n),!0).forEach(function(r){Xxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xxe(t,e,n){return(e=Jxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jxe(t){var e=Qxe(t,"string");return typeof e=="symbol"?e:e+""}function Qxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zxe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=U2(U2(U2({},o),$A(i)),VP(i)),c;return T.isValidElement(i)?c=T.cloneElement(i,u):typeof i=="function"?c=i(u):c=T.createElement(Z9,u),T.createElement(sl,{className:"recharts-active-dot",clipPath:s},c)};function Pz(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Ui.activeDot}=t,o=Qe(L0),u=Kxe();if(e==null||u==null)return null;var c=e.find(f=>u.includes(f.payload));return si(c)?null:T.createElement(ec,{zIndex:s},T.createElement(Zxe,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var ewe="Invariant failed";function un(t,e){if(!t)throw new Error(ewe)}var twe={},aW=pa({name:"errorBars",initialState:twe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:PCe,replaceErrorBar:DCe,removeErrorBar:ICe}=aW.actions,nwe=aW.reducer;function sW(t,e){var n,r,i=Qe(c=>Ju(c,t)),a=Qe(c=>Qu(c,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:kr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Mr.allowDataOverflow,u=s||o;return{needClip:u,needClipX:s,needClipY:o}}function rwe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=oI(),{needClipX:a,needClipY:s,needClip:o}=sW(e,n);if(!o||!i)return null;var{x:u,y:c,width:f,height:h}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?u:u-f/2,y:s?c:c-h/2,width:a?f:f*2,height:s?h:h*2}))}var B2={exports:{}},z2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dz;function iwe(){if(Dz)return z2;Dz=1;var t=mv();function e(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return z2.useSyncExternalStoreWithSelector=function(u,c,f,h,v){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=s(function(){function E(I){if(!C){if(C=!0,k=I,I=h(I),v!==void 0&&w.hasValue){var P=w.value;if(v(P,I))return R=P}return R=I}if(P=R,n(k,I))return P;var M=h(I);return v!==void 0&&v(P,M)?(k=I,P):(k=I,R=M)}var C=!1,k,R,D=f===void 0?null:f;return[function(){return E(c())},D===null?void 0:function(){return E(D())}]},[c,f,h,v]);var A=r(u,y[0],y[1]);return a(function(){w.hasValue=!0,w.value=A},[A]),o(A),A},z2}var Iz;function awe(){return Iz||(Iz=1,B2.exports=iwe()),B2.exports}awe();function swe(t){t()}function owe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){swe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Lz={notify(){},get:()=>[]};function lwe(t,e){let n,r=Lz,i=0,a=!1;function s(A){f();const E=r.subscribe(A);let C=!1;return()=>{C||(C=!0,E(),h())}}function o(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function c(){return a}function f(){i++,n||(n=t.subscribe(u),r=owe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Lz)}function v(){a||(a=!0,f())}function y(){a&&(a=!1,h())}const w={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:c,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return w}var uwe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cwe=uwe(),dwe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fwe=dwe(),hwe=()=>cwe||fwe?T.useLayoutEffect:T.useEffect,pwe=hwe();function Oz(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function mwe(t,e){if(Oz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Oz(t[n[i]],e[n[i]]))return!1;return!0}var H2=Symbol.for("react-redux-context"),G2=typeof globalThis<"u"?globalThis:{};function gwe(){if(!T.createContext)return{};const t=G2[H2]??(G2[H2]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var vwe=gwe();function ywe(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const u=lwe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=T.useMemo(()=>i.getState(),[i]);pwe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const o=n||vwe;return T.createElement(o.Provider,{value:a},e)}var bwe=ywe,xwe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function wwe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function lI(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(xwe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!mwe(t[r],e[r]))return!1}else if(!wwe(t[r],e[r]))return!1;return!0}var Swe=t=>{var{chartData:e}=t,n=Hr(),r=ma();return T.useEffect(()=>r?()=>{}:(n(oz(e)),()=>{n(oz(void 0))}),[e,n,r]),null},jz={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oW=pa({name:"brush",initialState:jz,reducers:{setBrushSettings(t,e){return e.payload==null?jz:e.payload}}}),{setBrushSettings:LCe}=oW.actions,Ewe=oW.reducer;function Awe(t,e,n){return(e=_we(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _we(t){var e=Cwe(t,"string");return typeof e=="symbol"?e:e+""}function Cwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class uI{static create(e){return new uI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Awe(uI,"EPS",1e-4);function Twe(t){return(t%180+180)%180}var Nwe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Twe(i),s=a*Math.PI/180,o=Math.atan(r/n),u=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},Rwe={dots:[],areas:[],lines:[]},lW=pa({name:"referenceElements",initialState:Rwe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ho(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ho(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ho(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:OCe,removeDot:jCe,addArea:FCe,removeArea:UCe,addLine:BCe,removeLine:zCe}=lW.actions,kwe=lW.reducer,Mwe=T.createContext(void 0),Pwe=t=>{var{children:e}=t,[n]=T.useState("".concat(S0("recharts"),"-clip")),r=oI();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return T.createElement(Mwe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function uW(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Dwe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Nwe(r,n)}function Iwe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function BE(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Lwe(t,e){return uW(t,e+1)}function Owe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,u=0,c=1,f=s,h=function(){var w=r==null?void 0:r[u];if(w===void 0)return{v:uW(r,c)};var A=u,E,C=()=>(E===void 0&&(E=n(w,A)),E),k=w.coordinate,R=u===0||BE(t,k,C,f,o);R||(u=0,f=s,c+=1),R&&(f=k+t*(C()/2+i),u+=c)},v;c<=a.length;)if(v=h(),v)return v.v;return[]}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){jwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jwe(t,e,n){return(e=Fwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fwe(t){var e=Uwe(t,"string");return typeof e=="symbol"?e:e+""}function Uwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bwe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:u}=e,c=function(v){var y=a[v],w,A=()=>(w===void 0&&(w=n(y,v)),w);if(v===s-1){var E=t*(y.coordinate+t*A()/2-u);a[v]=y=yi(yi({},y),{},{tickCoord:E>0?y.coordinate-E*t:y.coordinate})}else a[v]=y=yi(yi({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var C=BE(t,y.tickCoord,A,o,u);C&&(u=y.tickCoord-t*(A()/2+i),a[v]=yi(yi({},y),{},{isShow:!0}))}},f=s-1;f>=0;f--)c(f);return a}function zwe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:u,end:c}=e;if(a){var f=r[o-1],h=n(f,o-1),v=t*(f.coordinate+t*h/2-c);if(s[o-1]=f=yi(yi({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate}),f.tickCoord!=null){var y=BE(t,f.tickCoord,()=>h,u,c);y&&(c=f.tickCoord-t*(h/2+i),s[o-1]=yi(yi({},f),{},{isShow:!0}))}}for(var w=a?o-1:o,A=function(k){var R=s[k],D,I=()=>(D===void 0&&(D=n(R,k)),D);if(k===0){var P=t*(R.coordinate-t*I()/2-u);s[k]=R=yi(yi({},R),{},{tickCoord:P<0?R.coordinate-P*t:R.coordinate})}else s[k]=R=yi(yi({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var M=BE(t,R.tickCoord,I,u,c);M&&(u=R.tickCoord+t*(I()/2+i),s[k]=yi(yi({},R),{},{isShow:!0}))}},E=0;E<w;E++)A(E);return s}function cI(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:u,tickFormatter:c,unit:f,angle:h}=t;if(!i||!i.length||!r)return[];if(Ke(u)||Ev.isSsr){var v;return(v=Lwe(i,Ke(u)?u:0))!==null&&v!==void 0?v:[]}var y=[],w=o==="top"||o==="bottom"?"width":"height",A=f&&w==="width"?h0(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(R,D)=>{var I=typeof c=="function"?c(R.value,D):R.value;return w==="width"?Dwe(h0(I,{fontSize:e,letterSpacing:n}),A,h):h0(I,{fontSize:e,letterSpacing:n})[w]},C=i.length>=2?Ps(i[1].coordinate-i[0].coordinate):1,k=Iwe(a,C,w);return u==="equidistantPreserveStart"?Owe(C,k,E,i,s):(u==="preserveStart"||u==="preserveStartEnd"?y=zwe(C,k,E,i,s,u==="preserveStartEnd"):y=Bwe(C,k,E,i,s),y.filter(R=>R.isShow))}var Hwe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=n?n.getBoundingClientRect().width:0,u=i+a,c=s+u+o+(n?r:0);return Math.round(c)}return 0},Gwe=["axisLine","width","height","className","hide","ticks","axisType"];function qwe(t,e){if(t==null)return{};var n,r,i=$we(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $we(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(null,arguments)}function Uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(n),!0).forEach(function(r){Vwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vwe(t,e,n){return(e=Wwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wwe(t){var e=Ywe(t,"string");return typeof e=="symbol"?e:e+""}function Ywe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _u={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ui.axis};function Kwe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var c=ur(ur(ur({},u),po(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);c=ur(ur({},c),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);c=ur(ur({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return T.createElement("line",Qh({},c,{className:Vt("recharts-cartesian-axis-line",YA(o,"className"))}))}function Xwe(t,e,n,r,i,a,s,o,u){var c,f,h,v,y,w,A=o?-1:1,E=t.tickSize||s,C=Ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=f=t.coordinate,v=n+ +!o*i,h=v-A*E,w=h-A*u,y=C;break;case"left":h=v=t.coordinate,f=e+ +!o*r,c=f-A*E,y=c-A*u,w=C;break;case"right":h=v=t.coordinate,f=e+ +o*r,c=f+A*E,y=c+A*u,w=C;break;default:c=f=t.coordinate,v=n+ +o*i,h=v+A*E,w=h+A*u,y=C;break}return{line:{x1:c,y1:h,x2:f,y2:v},tick:{x:y,y:w}}}function Jwe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Qwe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Zwe(t){var{option:e,tickProps:n,value:r}=t,i,a=Vt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,ur(ur({},n),{},{className:a}));else if(typeof e=="function")i=e(ur(ur({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Vt(s,e==null?void 0:e.className)),i=T.createElement(aI,Qh({},n,{className:s}),r)}return i}var eSe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:u,tickTextProps:c,orientation:f,mirror:h,x:v,y,width:w,height:A,tickSize:E,tickMargin:C,fontSize:k,letterSpacing:R,getTicksConfig:D,events:I,axisType:P}=t,M=cI(ur(ur({},D),{},{ticks:n}),k,R),B=Jwe(f,h),z=Qwe(f,h),K=po(D),G=$A(r),Y={};typeof i=="object"&&(Y=i);var te=ur(ur({},K),{},{fill:"none"},Y),W=M.map(q=>ur({entry:q},Xwe(q,v,y,w,A,f,E,h,C))),$=W.map(q=>{var{entry:Z,line:ie}=q;return T.createElement(sl,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},i&&T.createElement("line",Qh({},te,ie,{className:Vt("recharts-cartesian-axis-tick-line",YA(i,"className"))})))}),U=W.map((q,Z)=>{var{entry:ie,tick:be}=q,V=ur(ur(ur(ur({textAnchor:B,verticalAnchor:z},K),{},{stroke:"none",fill:a},G),be),{},{index:Z,payload:ie,visibleTicksCount:M.length,tickFormatter:s,padding:u},c);return T.createElement(sl,Qh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},Eue(I,ie,Z)),r&&T.createElement(Zwe,{option:r,tickProps:V,value:"".concat(typeof s=="function"?s(ie.value,Z):ie.value).concat(o||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},U.length>0&&T.createElement(ec,{zIndex:Ui.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:e},U)),$.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},$))}),tSe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:u}=t,c=qwe(t,Gwe),[f,h]=T.useState(""),[v,y]=T.useState(""),w=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var E;return Hwe({ticks:w.current,label:(E=t.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var A=T.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=C;var k=C[0];if(k){var R=window.getComputedStyle(k),D=R.fontSize,I=R.letterSpacing;(D!==f||I!==v)&&(h(D),y(I))}}},[f,v]);return s||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(ec,{zIndex:t.zIndex},T.createElement(sl,{className:Vt("recharts-cartesian-axis",a)},T.createElement(Kwe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:po(t)}),T.createElement(eSe,{ref:A,axisType:u,events:c,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(Bbe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(Xbe,{label:t.label,labelRef:t.labelRef}),t.children)))}),dI=T.forwardRef((t,e)=>{var n=ts(t,_u);return T.createElement(tSe,Qh({},n,{ref:e}))});dI.displayName="CartesianAxis";var nSe=["x1","y1","x2","y2","key"],rSe=["offset"],iSe=["xAxisId","yAxisId"],aSe=["xAxisId","yAxisId"];function Bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bz(Object(n),!0).forEach(function(r){sSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sSe(t,e,n){return(e=oSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oSe(t){var e=lSe(t,"string");return typeof e=="symbol"?e:e+""}function lSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kf(){return kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kf.apply(null,arguments)}function zE(t,e){if(t==null)return{};var n,r,i=uSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cSe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return T.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cW(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:u,key:c}=n,f=zE(n,nSe),h=(i=po(f))!==null&&i!==void 0?i:{},{offset:v}=h,y=zE(h,rSe);r=T.createElement("line",kf({},y,{x1:a,y1:s,x2:o,y2:u,fill:"none",key:c}))}return r}function dSe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=zE(t,iSe),u=i.map((c,f)=>{var h=Si(Si({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return T.createElement(cW,{key:"line-".concat(f),option:r,lineItemProps:h})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function fSe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=zE(t,aSe),u=i.map((c,f)=>{var h=Si(Si({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return T.createElement(cW,{option:r,lineItemProps:h,key:"line-".concat(f)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function hSe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var c=o.map(h=>Math.round(h+i-i)).sort((h,v)=>h-v);i!==c[0]&&c.unshift(0);var f=c.map((h,v)=>{var y=!c[v+1],w=y?i+s-h:c[v+1]-h;if(w<=0)return null;var A=v%e.length;return T.createElement("rect",{key:"react-".concat(v),y:h,x:r,height:w,width:a,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function pSe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var c=u.map(h=>Math.round(h+i-i)).sort((h,v)=>h-v);i!==c[0]&&c.unshift(0);var f=c.map((h,v)=>{var y=!c[v+1],w=y?i+s-h:c[v+1]-h;if(w<=0)return null;var A=v%n.length;return T.createElement("rect",{key:"react-".concat(v),x:h,y:a,width:w,height:o,stroke:"none",fill:n[A],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var mSe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return e$(cI(Si(Si(Si({},_u),n),{},{ticks:t$(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},gSe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return e$(cI(Si(Si(Si({},_u),n),{},{ticks:t$(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},vSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ui.grid};function dW(t){var e=c$(),n=d$(),r=u$(),i=Si(Si({},ts(t,vSe)),{},{x:Ke(t.x)?t.x:r.left,y:Ke(t.y)?t.y:r.top,width:Ke(t.width)?t.width:r.width,height:Ke(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:u,width:c,height:f,syncWithTicks:h,horizontalValues:v,verticalValues:y}=i,w=ma(),A=Qe(z=>KB(z,"xAxis",a,w)),E=Qe(z=>KB(z,"yAxis",s,w));if(!ll(c)||!ll(f)||!Ke(o)||!Ke(u))return null;var C=i.verticalCoordinatesGenerator||mSe,k=i.horizontalCoordinatesGenerator||gSe,{horizontalPoints:R,verticalPoints:D}=i;if((!R||!R.length)&&typeof k=="function"){var I=v&&v.length,P=k({yAxis:E?Si(Si({},E),{},{ticks:I?v:E.ticks}):void 0,width:e??c,height:n??f,offset:r},I?!0:h);gE(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(R=P)}if((!D||!D.length)&&typeof C=="function"){var M=y&&y.length,B=C({xAxis:A?Si(Si({},A),{},{ticks:M?y:A.ticks}):void 0,width:e??c,height:n??f,offset:r},M?!0:h);gE(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(D=B)}return T.createElement(ec,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(cSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(hSe,kf({},i,{horizontalPoints:R})),T.createElement(pSe,kf({},i,{verticalPoints:D})),T.createElement(dSe,kf({},i,{offset:r,horizontalPoints:R,xAxis:A,yAxis:E})),T.createElement(fSe,kf({},i,{offset:r,verticalPoints:D,xAxis:A,yAxis:E}))))}dW.displayName="CartesianGrid";function ySe(t){var e=$A(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var fW=(t,e,n,r)=>f9(t,"xAxis",e,r),hW=(t,e,n,r)=>d9(t,"xAxis",e,r),pW=(t,e,n,r)=>f9(t,"yAxis",n,r),mW=(t,e,n,r)=>d9(t,"yAxis",n,r),bSe=fe([mn,fW,pW,hW,mW],(t,e,n,r,i)=>Wu(t,"xAxis")?mE(e,r,!1):mE(n,i,!1)),xSe=(t,e,n,r,i)=>i,gW=fe([IV,xSe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),wSe=(t,e,n,r,i)=>{var a,s=gW(t,e,n,r,i);if(s!=null){var o=mn(t),u=Wu(o,"xAxis"),c;if(u?c=fk(t,"yAxis",n,r):c=fk(t,"xAxis",e,r),c!=null){var{stackId:f}=s,h=FD(s);if(!(f==null||h==null)){var v=(a=c[f])===null||a===void 0?void 0:a.stackedData;return v==null?void 0:v.find(y=>y.key===h)}}}},SSe=fe([mn,fW,pW,hW,mW,wSe,RD,bSe,gW,qge],(t,e,n,r,i,a,s,o,u,c)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:v}=s;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:y}=u,w;if(y&&y.length>0?w=y:w=f==null?void 0:f.slice(h,v+1),w!=null)return zSe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:u,stackedData:a,displayedData:w,chartBaseValue:c,bandSize:o})}}),ESe=["id"],ASe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yh.apply(null,arguments)}function vW(t,e){if(t==null)return{};var n,r,i=_Se(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zz(Object(n),!0).forEach(function(r){CSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CSe(t,e,n){return(e=TSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TSe(t){var e=NSe(t,"string");return typeof e=="symbol"?e:e+""}function NSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HE(t,e){return t&&t!=="none"?t:e}var RSe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:HE(r,i),value:n$(n,e),payload:t}]},kSe=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:u,tooltipType:c}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:n$(s,e),hide:o,type:c,color:HE(r,a),unit:u}};return T.createElement(hxe,{tooltipEntrySettings:f})});function MSe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=po(r);return T.createElement(Ixe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function PSe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hm(hm({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return T.createElement(oxe,{value:e?i:void 0},n)}function Hz(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:u,connectNulls:c,isRange:f}=a,{id:h}=a,v=vW(a,ESe),y=po(v),w=Os(v);return T.createElement(T.Fragment,null,(e==null?void 0:e.length)>1&&T.createElement(sl,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},T.createElement(u1,Yh({},w,{id:h,points:e,connectNulls:c,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&T.createElement(u1,Yh({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:e})),u!=="none"&&f&&T.createElement(u1,Yh({},y,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:n}))),T.createElement(MSe,{points:e,props:v,clipPathId:i}))}function DSe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!Vn(a)||!Vn(s))return null;var o=e*Math.abs(a-s),u=Math.max(...r.map(c=>c.x||0));return Ke(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(c=>c.x||0),u)),Ke(u)?T.createElement("rect",{x:0,y:a<s?a:a-o,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function ISe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!Vn(a)||!Vn(s))return null;var o=e*Math.abs(a-s),u=Math.max(...r.map(c=>c.y||0));return Ke(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(c=>c.y||0),u)),Ke(u)?T.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function LSe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?T.createElement(DSe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):T.createElement(ISe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function OSe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:u,animationBegin:c,animationDuration:f,animationEasing:h,onAnimationStart:v,onAnimationEnd:y}=r,w=T.useMemo(()=>({points:s,baseLine:o}),[s,o]),A=A$(w,"recharts-area-"),E=mfe(),[C,k]=T.useState(!1),R=!C,D=T.useCallback(()=>{typeof y=="function"&&y(),k(!1)},[y]),I=T.useCallback(()=>{typeof v=="function"&&v(),k(!0)},[v]);if(E==null)return null;var P=i.current,M=a.current;return T.createElement(PSe,{showLabels:R,points:s},r.children,T.createElement(E$,{animationId:A,begin:c,duration:f,isActive:u,easing:h,onAnimationEnd:D,onAnimationStart:I,key:A},B=>{if(P){var z=P.length/s.length,K=B===1?s:s.map((Y,te)=>{var W=Math.floor(te*z);if(P[W]){var $=P[W];return hm(hm({},Y),{},{x:Qo($.x,Y.x,B),y:Qo($.y,Y.y,B)})}return Y}),G;return Ke(o)?G=Qo(M,o,B):si(o)||mo(o)?G=Qo(M,0,B):G=o.map((Y,te)=>{var W=Math.floor(te*z);if(Array.isArray(M)&&M[W]){var $=M[W];return hm(hm({},Y),{},{x:Qo($.x,Y.x,B),y:Qo($.y,Y.y,B)})}return Y}),B>0&&(i.current=K,a.current=G),T.createElement(Hz,{points:K,baseLine:G,needClip:e,clipPathId:n,props:r})}return B>0&&(i.current=s,a.current=o),T.createElement(sl,null,u&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(n)},T.createElement(LSe,{alpha:B,points:s,baseLine:o,layout:E,strokeWidth:r.strokeWidth}))),T.createElement(sl,{clipPath:"url(#animationClipPath-".concat(n,")")},T.createElement(Hz,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),T.createElement(cxe,{label:r.label}))}function jSe(t){var{needClip:e,clipPathId:n,props:r}=t,i=T.useRef(null),a=T.useRef();return T.createElement(OSe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class FSe extends T.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:u,yAxisId:c,width:f,height:h,id:v,baseLine:y,zIndex:w}=this.props;if(e)return null;var A=Vt("recharts-area",i),E=v,{r:C,strokeWidth:k}=ySe(n),R=tW(n),D=C*2+k,I=o?"url(#clipPath-".concat(R?"":"dots-").concat(E,")"):void 0;return T.createElement(ec,{zIndex:w},T.createElement(sl,{className:A},o&&T.createElement("defs",null,T.createElement(rwe,{clipPathId:E,xAxisId:u,yAxisId:c}),!R&&T.createElement("clipPath",{id:"clipPath-dots-".concat(E)},T.createElement("rect",{x:s-D/2,y:a-D/2,width:f+D,height:h+D}))),T.createElement(jSe,{needClip:o,clipPathId:E,props:this.props})),T.createElement(Pz,{points:r,mainColor:HE(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(y)&&T.createElement(Pz,{points:y,mainColor:HE(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var yW={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ui.area};function USe(t){var e,n=ts(t,yW),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:u,fill:c,fillOpacity:f,hide:h,isAnimationActive:v,legendType:y,stroke:w,xAxisId:A,yAxisId:E}=n,C=vW(n,ASe),k=Fx(),R=D9(),{needClip:D}=sW(A,E),I=ma(),{points:P,isRange:M,baseLine:B}=(e=Qe(W=>SSe(W,A,E,I,t.id)))!==null&&e!==void 0?e:{},z=oI();if(k!=="horizontal"&&k!=="vertical"||z==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:K,width:G,x:Y,y:te}=z;return!P||!P.length?null:T.createElement(FSe,Yh({},C,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:B,connectNulls:o,dot:u,fill:c,fillOpacity:f,height:K,hide:h,layout:k,isAnimationActive:v==="auto"?!Ev.isSsr:v,isRange:M,legendType:y,needClip:D,points:P,stroke:w,width:G,left:Y,top:te,xAxisId:A,yAxisId:E}))}var BSe=(t,e,n,r,i)=>{var a=n??e;if(Ke(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var u=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function zSe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:u,displayedData:c,dataStartIndex:f,xAxisTicks:h,yAxisTicks:v,bandSize:y}=t,w=i&&i.length,A=BSe(a,s,n,o,u),E=a==="horizontal",C=!1,k=c.map((D,I)=>{var P;w?P=i[f+I]:(P=Ti(D,r),Array.isArray(P)?C=!0:P=[A,P]);var M=P[1]==null||w&&!e&&Ti(D,r)==null;return E?{x:yU({axis:o,ticks:h,bandSize:y,entry:D,index:I}),y:M?null:u.scale(P[1]),value:P,payload:D}:{x:M?null:o.scale(P[1]),y:yU({axis:u,ticks:v,bandSize:y,entry:D,index:I}),value:P,payload:D}}),R;return w||C?R=k.map(D=>{var I=Array.isArray(D.value)?D.value[0]:null;return E?{x:D.x,y:I!=null&&D.y!=null?u.scale(I):null,payload:D.payload}:{x:I!=null?o.scale(I):null,y:D.y,payload:D.payload}}):R=E?u.scale(A):o.scale(A),{points:k,baseLine:R,isRange:C}}function HSe(t){var e=ts(t,yW),n=ma();return T.createElement(yxe,{id:e.id,type:"area"},r=>T.createElement(T.Fragment,null,T.createElement(pxe,{legendPayload:RSe(e)}),T.createElement(kSe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(_xe,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Mde(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),T.createElement(USe,Yh({},e,{id:r}))))}var bW=T.memo(HSe,lI);bW.displayName="Area";var GSe=["domain","range"],qSe=["domain","range"];function Gz(t,e){if(t==null)return{};var n,r,i=$Se(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $Se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qz(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function xW(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=Gz(t,GSe),{domain:a,range:s}=e,o=Gz(e,qSe);return!qz(n,a)||!qz(r,s)?!1:lI(i,o)}var VSe=["dangerouslySetInnerHTML","ticks"],WSe=["id"];function xk(){return xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xk.apply(null,arguments)}function $z(t,e){if(t==null)return{};var n,r,i=YSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KSe(t){var e=Hr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Uxe(t)):n.current!==t&&e(Bxe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(zxe(n.current)),n.current=null)},[e]),null}var XSe=t=>{var{xAxisId:e,className:n}=t,r=Qe(i$),i=ma(),a="xAxis",s=Qe(E=>Rv(E,a,e,i)),o=Qe(E=>c9(E,a,e,i)),u=Qe(E=>Ove(E,e)),c=Qe(E=>Hve(E,e)),f=Qe(E=>kV(E,e));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:v}=t,y=$z(t,VSe),{id:w}=f,A=$z(f,WSe);return T.createElement(dI,xk({},y,A,{scale:s,x:c.x,y:c.y,width:u.width,height:u.height,className:Vt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},JSe={allowDataOverflow:kr.allowDataOverflow,allowDecimals:kr.allowDecimals,allowDuplicatedCategory:kr.allowDuplicatedCategory,angle:kr.angle,axisLine:_u.axisLine,height:kr.height,hide:!1,includeHidden:kr.includeHidden,interval:kr.interval,minTickGap:kr.minTickGap,mirror:kr.mirror,orientation:kr.orientation,padding:kr.padding,reversed:kr.reversed,scale:kr.scale,tick:kr.tick,tickCount:kr.tickCount,tickLine:_u.tickLine,tickSize:_u.tickSize,type:kr.type,xAxisId:0},QSe=t=>{var e=ts(t,JSe);return T.createElement(T.Fragment,null,T.createElement(KSe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(XSe,e))},wW=T.memo(QSe,xW);wW.displayName="XAxis";var ZSe=["dangerouslySetInnerHTML","ticks"],e1e=["id"];function wk(){return wk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wk.apply(null,arguments)}function Vz(t,e){if(t==null)return{};var n,r,i=t1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function t1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function n1e(t){var e=Hr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Hxe(t)):n.current!==t&&e(Gxe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(qxe(n.current)),n.current=null)},[e]),null}var r1e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),s=T.useRef(null),o=Qe(i$),u=ma(),c=Hr(),f="yAxis",h=Qe(I=>Rv(I,f,e,u)),v=Qe(I=>$ve(I,e)),y=Qe(I=>qve(I,e)),w=Qe(I=>c9(I,f,e,u)),A=Qe(I=>MV(I,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!v||sI(i)||T.isValidElement(i)||A==null)){var I=a.current;if(I){var P=I.getCalculatedWidth();Math.round(v.width)!==Math.round(P)&&c($xe({id:e,width:P}))}}},[w,v,c,i,e,r,A]),v==null||y==null||A==null)return null;var{dangerouslySetInnerHTML:E,ticks:C}=t,k=Vz(t,ZSe),{id:R}=A,D=Vz(A,e1e);return T.createElement(dI,wk({},k,D,{ref:a,labelRef:s,scale:h,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Vt("recharts-".concat(f," ").concat(f),n),viewBox:o,ticks:w,axisType:f}))},i1e={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:Mr.allowDecimals,allowDuplicatedCategory:Mr.allowDuplicatedCategory,angle:Mr.angle,axisLine:_u.axisLine,hide:!1,includeHidden:Mr.includeHidden,interval:Mr.interval,minTickGap:Mr.minTickGap,mirror:Mr.mirror,orientation:Mr.orientation,padding:Mr.padding,reversed:Mr.reversed,scale:Mr.scale,tick:Mr.tick,tickCount:Mr.tickCount,tickLine:_u.tickLine,tickSize:_u.tickSize,type:Mr.type,width:Mr.width,yAxisId:0},a1e=t=>{var e=ts(t,i1e);return T.createElement(T.Fragment,null,T.createElement(n1e,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(r1e,e))},SW=T.memo(a1e,xW);SW.displayName="YAxis";var s1e=(t,e)=>e,fI=fe([s1e,mn,NV,Cr,T9,Zu,a0e,li],f0e),hI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},EW=js("mouseClick"),AW=Ox();AW.startListening({actionCreator:EW,effect:(t,e)=>{var n=t.payload,r=fI(e.getState(),hI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(iye({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Sk=js("mouseMove"),_W=Ox(),zS=null;_W.startListening({actionCreator:Sk,effect:(t,e)=>{var n=t.payload;zS!==null&&cancelAnimationFrame(zS);var r=hI(n);zS=requestAnimationFrame(()=>{var i=e.getState(),a=KD(i,i.tooltip.settings.shared);if(a==="axis"){var s=fI(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(b9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(y9())}zS=null})}});var Wz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},CW=pa({name:"rootProps",initialState:Wz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Wz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),o1e=CW.reducer,{updateOptions:l1e}=CW.actions,TW=pa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:HCe}=TW.actions,u1e=TW.reducer,NW=js("keyDown"),RW=js("focus"),pI=Ox();pI.startListening({actionCreator:NW,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=XD(i,Mv(n),Vx(n),Jx(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var u=Zu(n);if(a==="Enter"){var c=jE(n,"axis","hover",String(i.index));e.dispatch(pk({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=Kve(n),h=f==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,y=o+v*h;if(!(u==null||y>=u.length||y<0)){var w=jE(n,"axis","hover",String(y));e.dispatch(pk({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});pI.startListening({actionCreator:RW,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=jE(n,"axis","hover",String(a));e.dispatch(pk({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var gs=js("externalEvent"),kW=Ox(),q2=new Map;kW.startListening({actionCreator:gs,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=q2.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:qye(o),activeDataKey:Hye(o),activeIndex:L0(o),activeLabel:k9(o),activeTooltipIndex:L0(o),isTooltipActive:$ye(o)};n(u,r)}finally{q2.delete(i)}});q2.set(i,s)}}});var c1e=fe([kv],t=>t.tooltipItemPayloads),d1e=fe([c1e,Kx,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),MW=js("touchMove"),PW=Ox();PW.startListening({actionCreator:MW,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=KD(r,r.tooltip.settings.shared);if(i==="axis"){var a=fI(r,hI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(b9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(Fde),f=(s=u.getAttribute(Ude))!==null&&s!==void 0?s:void 0,h=d1e(e.getState(),c,f);e.dispatch(rye({activeDataKey:f,activeIndex:c,activeCoordinate:h}))}}}});var f1e=_q({brush:Ewe,cartesianAxis:Vxe,chartData:q0e,errorBars:nwe,graphicalItems:Exe,layout:wde,legend:Pfe,options:U0e,polarAxis:fxe,polarOptions:u1e,referenceElements:kwe,rootProps:o1e,tooltip:aye,zIndex:C0e}),h1e=function(e){return Vce({reducer:f1e,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([AW.middleware,_W.middleware,pI.middleware,kW.middleware,PW.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Bq({type:"raf"}))},devTools:Ev.devToolsEnabled})};function p1e(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ma(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=h1e(e));var s=YP;return T.createElement(bwe,{context:s,store:a.current},n)}function m1e(t){var{layout:e,margin:n}=t,r=Hr(),i=ma();return T.useEffect(()=>{i||(r(yde(e)),r(vde(n)))},[r,i,e,n]),null}var g1e=T.memo(m1e,lI);function v1e(t){var e=Hr();return T.useEffect(()=>{e(l1e(t))},[e,t]),null}function Yz(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=nW("".concat(r).concat(e)),a=Hr();return T.useLayoutEffect(()=>(a(A0e({zIndex:e,elementId:i,isPanorama:n})),()=>{a(_0e({zIndex:e,isPanorama:n}))}),[a,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function Kz(t){var{children:e,isPanorama:n}=t,r=Qe(p0e);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return T.createElement(T.Fragment,null,i.map(s=>T.createElement(Yz,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>T.createElement(Yz,{key:s,zIndex:s,isPanorama:n})))}var y1e=["children"];function b1e(t,e){if(t==null)return{};var n,r,i=x1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function x1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}var w1e={width:"100%",height:"100%",display:"block"},S1e=T.forwardRef((t,e)=>{var n=c$(),r=d$(),i=b$();if(!ll(n)||!ll(r))return null;var{children:a,otherAttributes:s,title:o,desc:u}=t,c,f;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),T.createElement(VG,GE({},s,{title:o,desc:u,role:f,tabIndex:c,width:n,height:r,style:w1e,ref:e}),a)}),E1e=t=>{var{children:e}=t,n=Qe(o_);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return T.createElement(VG,{width:r,height:i,x:s,y:a},e)},Xz=T.forwardRef((t,e)=>{var{children:n}=t,r=b1e(t,y1e),i=ma();return i?T.createElement(E1e,null,T.createElement(Kz,{isPanorama:!0},n)):T.createElement(S1e,GE({ref:e},r),T.createElement(Kz,{isPanorama:!1},n))});function A1e(){var t=Hr(),[e,n]=T.useState(null),r=Qe(jde);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Vn(a)&&a!==r&&t(xde(a))}},[e,t,r]),n}function Jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(n),!0).forEach(function(r){C1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C1e(t,e,n){return(e=T1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T1e(t){var e=N1e(t,"string");return typeof e=="symbol"?e:e+""}function N1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(null,arguments)}var R1e=()=>(Z0e(),null);function qE(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var k1e=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[a,s]=T.useState({containerWidth:qE((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:qE((r=t.style)===null||r===void 0?void 0:r.height)}),o=T.useCallback((c,f)=>{s(h=>{var v=Math.round(c),y=Math.round(f);return h.containerWidth===v&&h.containerHeight===y?h:{containerWidth:v,containerHeight:y}})},[]),u=T.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=c.getBoundingClientRect();o(f,h);var v=w=>{var{width:A,height:E}=w[0].contentRect;o(A,E)},y=new ResizeObserver(v);y.observe(c),i.current=y}},[e,o]);return T.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),T.createElement(T.Fragment,null,T.createElement(u_,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",Zh({ref:u},t)))}),M1e=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=T.useState({containerWidth:qE(n),containerHeight:qE(r)}),s=T.useCallback((u,c)=>{a(f=>{var h=Math.round(u),v=Math.round(c);return f.containerWidth===h&&f.containerHeight===v?f:{containerWidth:h,containerHeight:v}})},[]),o=T.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:c,height:f}=u.getBoundingClientRect();s(c,f)}},[e,s]);return T.createElement(T.Fragment,null,T.createElement(u_,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Zh({ref:o},t)))}),P1e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(u_,{width:n,height:r}),T.createElement("div",Zh({ref:e},t)))}),D1e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Pu(n)||Pu(r)?T.createElement(M1e,Zh({},t,{ref:e})):T.createElement(P1e,Zh({},t,{ref:e}))});function I1e(t){return t===!0?k1e:D1e}var L1e=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:u,onMouseEnter:c,onMouseLeave:f,onMouseMove:h,onMouseUp:v,onTouchEnd:y,onTouchMove:w,onTouchStart:A,style:E,width:C,responsive:k,dispatchTouchEvents:R=!0}=t,D=T.useRef(null),I=Hr(),[P,M]=T.useState(null),[B,z]=T.useState(null),K=A1e(),G=rD(),Y=(G==null?void 0:G.width)>0?G.width:C,te=(G==null?void 0:G.height)>0?G.height:i,W=T.useCallback(de=>{K(de),typeof e=="function"&&e(de),M(de),z(de),de!=null&&(D.current=de)},[K,e,M,z]),$=T.useCallback(de=>{I(EW(de)),I(gs({handler:a,reactEvent:de}))},[I,a]),U=T.useCallback(de=>{I(Sk(de)),I(gs({handler:c,reactEvent:de}))},[I,c]),q=T.useCallback(de=>{I(y9()),I(gs({handler:f,reactEvent:de}))},[I,f]),Z=T.useCallback(de=>{I(Sk(de)),I(gs({handler:h,reactEvent:de}))},[I,h]),ie=T.useCallback(()=>{I(RW())},[I]),be=T.useCallback(de=>{I(NW(de.key))},[I]),V=T.useCallback(de=>{I(gs({handler:s,reactEvent:de}))},[I,s]),J=T.useCallback(de=>{I(gs({handler:o,reactEvent:de}))},[I,o]),oe=T.useCallback(de=>{I(gs({handler:u,reactEvent:de}))},[I,u]),ve=T.useCallback(de=>{I(gs({handler:v,reactEvent:de}))},[I,v]),xe=T.useCallback(de=>{I(gs({handler:A,reactEvent:de}))},[I,A]),_e=T.useCallback(de=>{R&&I(MW(de)),I(gs({handler:w,reactEvent:de}))},[I,R,w]),Ae=T.useCallback(de=>{I(gs({handler:y,reactEvent:de}))},[I,y]),pt=I1e(k);return T.createElement(F9.Provider,{value:P},T.createElement(Yle.Provider,{value:B},T.createElement(pt,{width:Y??(E==null?void 0:E.width),height:te??(E==null?void 0:E.height),className:Vt("recharts-wrapper",r),style:_1e({position:"relative",cursor:"default",width:Y,height:te},E),onClick:$,onContextMenu:V,onDoubleClick:J,onFocus:ie,onKeyDown:be,onMouseDown:oe,onMouseEnter:U,onMouseLeave:q,onMouseMove:Z,onMouseUp:ve,onTouchEnd:Ae,onTouchMove:_e,onTouchStart:xe,ref:W},T.createElement(R1e,null),n)))}),O1e=["width","height","responsive","children","className","style","compact","title","desc"];function j1e(t,e){if(t==null)return{};var n,r,i=F1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function F1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var U1e=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:u,title:c,desc:f}=t,h=j1e(t,O1e),v=po(h);return u?T.createElement(T.Fragment,null,T.createElement(u_,{width:n,height:r}),T.createElement(Xz,{otherAttributes:v,title:c,desc:f},a)):T.createElement(L1e,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(Xz,{otherAttributes:v,title:c,desc:f,ref:e},T.createElement(Pwe,null,a)))});function Ek(){return Ek=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ek.apply(null,arguments)}var B1e={top:5,right:5,bottom:5,left:5},z1e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:B1e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},H1e=T.forwardRef(function(e,n){var r,i=ts(e.categoricalChartProps,z1e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:c}=e,f={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(p1e,{preloadedState:{options:f},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},T.createElement(Swe,{chartData:c.data}),T.createElement(g1e,{layout:i.layout,margin:i.margin}),T.createElement(v1e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(U1e,Ek({},i,{ref:n})))}),G1e=["axis"],q1e=T.forwardRef((t,e)=>T.createElement(H1e,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:G1e,tooltipPayloadSearcher:j0e,categoricalChartProps:t,ref:e}));const $1e="cowritter",V1e="user-data",W1e=async(t,e)=>(await new Promise(n=>setTimeout(n,800)),{success:!0,message:"Site is live!",url:`https://co-writter.github.io/s/${t}`}),Y1e=async t=>{try{const e=localStorage.getItem(`cowritter_site_${t}`);if(e)return JSON.parse(e)}catch{console.warn("Failed to load from local storage simulation")}try{const e=await fetch(`https://raw.githubusercontent.com/${$1e}/${V1e}/main/users/${t}.json`);return e.ok?await e.json():null}catch(e){return console.error("Failed to load profile from GitHub:",e),null}},{useNavigate:K1e}=Ri,X1e=[{id:1,name:"Alice Freeman",email:"alice.f...@gmail.com",location:"Mumbai, IN",time:"2 mins ago",status:"Signed In",action:"Viewed 'The Void Start'",avatar:"A"},{id:2,name:"Bob Script",email:"bob.script...@outlook.com",location:"London, UK",time:"15 mins ago",status:"Signed In",action:"Purchased 'Neural Architectures'",avatar:"B"},{id:3,name:"Guest User",email:"",location:"New York, US",time:"42 mins ago",status:"Guest",action:"Browsing Store",avatar:"?"},{id:4,name:"Diana Prince",email:"diana.p...@gmail.com",location:"Toronto, CA",time:"1 hour ago",status:"Signed In",action:"Added to Cart",avatar:"D"},{id:5,name:"Evan Wright",email:"evan.w...@yahoo.com",location:"Sydney, AU",time:"3 hours ago",status:"Signed In",action:"Viewed Profile",avatar:"E"},{id:6,name:"Guest User",email:"",location:"Berlin, DE",time:"5 hours ago",status:"Guest",action:"Read Preview",avatar:"?"}],J1e=()=>{var I;const{currentUser:t,setCurrentUser:e,books:n,updateBook:r,deleteBook:i,addCreatedBook:a}=ki(),s=K1e(),[o,u]=T.useState("overview"),[c,f]=T.useState(!1),[h,v]=T.useState(null),y=t,[w,A]=T.useState({displayName:(y==null?void 0:y.name)||"",tagline:"Leading the future of digital literature.",slug:((I=y==null?void 0:y.name)==null?void 0:I.toLowerCase().replace(/\s+/g,"-"))||"my-studio",theme:"dark"});if(!y)return null;const E=y.isAdmin===!0||y.email==="subatomicerror@gmail.com",C=async()=>{f(!0);try{const P=await W1e(y.id,{creatorConfig:w,books:(n||[]).filter(M=>M.sellerId===y.id)});P.success&&(v(P.url||null),alert("Site Published Successfully! It will be live at "+P.url))}catch(P){console.error("Deployment failed",P),alert("Deployment failed. Check console.")}finally{f(!1)}},k=P=>{const{name:M,value:B}=P.target;A(z=>({...z,[M]:B}))},R=({id:P,label:M,icon:B})=>g.jsxs("button",{onClick:()=>u(P),className:`w-full flex items-center gap-4 px-6 py-3.5 text-sm font-medium rounded-r-full transition-all duration-200 border-l-4 group ${o===P?"bg-white/10 text-white border-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-neutral-400 hover:bg-white/5 hover:text-white border-transparent"}`,children:[g.jsx(B,{className:`w-5 h-5 ${o===P?"text-white":"text-neutral-500 group-hover:text-white"}`}),M]}),D=({id:P,label:M,icon:B})=>g.jsxs("button",{onClick:()=>u(P),className:`flex flex-col items-center justify-center py-2 px-4 transition-colors ${o===P?"text-white":"text-neutral-500"}`,children:[g.jsx(B,{className:`w-6 h-6 mb-1 ${o===P?"text-white":"text-neutral-500"}`}),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:M})]});return g.jsxs("div",{className:"h-screen w-full bg-[#0b0b0b] font-sans text-white flex flex-col overflow-hidden",children:[g.jsx(UP,{}),g.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[g.jsxs("aside",{className:"w-64 flex-shrink-0 border-r border-white/5 hidden md:flex flex-col bg-[#0b0b0b] z-20 h-full overflow-y-auto",children:[g.jsx("div",{className:"p-8 pb-4",children:g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("div",{className:"w-12 h-12 rounded-full bg-neutral-900 border border-white/10 flex items-center justify-center text-xl font-bold",children:y.profileImageUrl?g.jsx("img",{src:y.profileImageUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):y.name.charAt(0)}),g.jsxs("div",{children:[g.jsx("h2",{className:"font-bold text-sm truncate w-32",children:y.name}),g.jsx("p",{className:"text-[10px] text-neutral-500 uppercase font-mono",children:"Writer Account"})]})]})}),g.jsxs("nav",{className:"flex-1 space-y-1 pr-4 mt-6",children:[g.jsxs("button",{onClick:()=>s("/"),className:"w-full flex items-center gap-4 px-6 py-3.5 text-sm font-medium rounded-r-full transition-all duration-200 text-neutral-400 hover:bg-white/5 hover:text-white border-l-4 border-transparent group",children:[g.jsx(_i,{className:"w-5 h-5 text-neutral-500 group-hover:text-white rotate-180"}),"Main Site"]}),g.jsx("div",{className:"my-2 border-t border-white/5 mx-6"}),g.jsx(R,{id:"overview",label:"Overview",icon:a1}),g.jsx(R,{id:"audience",label:"Audience",icon:X3}),g.jsx(R,{id:"studio",label:"Content Manager",icon:dN}),g.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),g.jsx(R,{id:"settings",label:"Site Settings",icon:x0}),E&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),g.jsx(R,{id:"executive",label:"Executive Control",icon:tE})]})]}),g.jsx("div",{className:"p-6",children:g.jsxs("div",{className:"bg-[#151515] p-4 rounded-2xl border border-white/5",children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-neutral-500 mb-2 tracking-widest",children:"Storage used"}),g.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden mb-2",children:g.jsx("div",{className:"h-full w-[42%] bg-white rounded-full"})}),g.jsx("p",{className:"text-[10px] text-neutral-600 font-medium",children:"1.2 GB / 5 GB"})]})})]}),g.jsx("main",{className:"flex-1 overflow-y-auto bg-[#0b0b0b] relative pb-24 md:pb-8",children:g.jsxs("div",{className:"max-w-[1400px] mx-auto p-6 md:p-12",children:[g.jsxs("div",{className:"mb-12 flex flex-col gap-8",children:[g.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-2xl px-6 py-3 flex items-center gap-6 overflow-hidden relative",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-red-500",children:"Live Hub"})]}),g.jsx("div",{className:"h-4 w-px bg-white/10 flex-shrink-0"}),g.jsxs("div",{className:"flex gap-12 animate-marquee whitespace-nowrap text-[10px] font-bold text-neutral-400 uppercase tracking-widest",children:[g.jsx("span",{children:'New Sale: "The Void Start" - 499 (Mumbai, IN)'}),g.jsx("span",{children:"New Reader: Diana P. joined from Toronto"}),g.jsx("span",{children:"Gemini 1.5 Pro: Content Synthesis Optimized"}),g.jsx("span",{children:"Payment Node: Operational (SLA 99.9%)"})]})]}),g.jsxs("div",{className:"flex items-end justify-between",children:[g.jsxs("div",{children:[g.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-2 tracking-tighter",children:[o==="overview"&&"Dashboard",o==="audience"&&"Real-time Audience",o==="studio"&&"Content Manager",o==="settings"&&"Site Configuration",o==="executive"&&"Executive Control"]}),o==="overview"&&g.jsxs("div",{className:"flex items-center gap-2 text-[#81c995] font-black text-[10px] uppercase tracking-[0.3em]",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-[#81c995] animate-ping"}),"Executive Pulse: +18.4% Net Growth"]})]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("div",{className:"hidden lg:flex flex-col items-end",children:[g.jsx("span",{className:"text-[10px] text-neutral-500 font-bold uppercase tracking-widest mb-1",children:"Active Now"}),g.jsxs("div",{className:"flex -space-x-2",children:[[1,2,3,4].map(P=>g.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-[#0b0b0b] bg-neutral-900 flex items-center justify-center text-[10px] font-bold",children:String.fromCharCode(64+P)},P)),g.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-[#0b0b0b] bg-white text-black flex items-center justify-center text-[10px] font-bold",children:"+12"})]})]}),o==="overview"&&g.jsxs("button",{onClick:()=>s("/"),className:"hidden md:flex flex-row-reverse px-6 py-2.5 bg-white text-black font-bold text-sm items-center gap-2 hover:bg-neutral-200 transition-all shadow-lg hover:scale-105 active:scale-95 rounded-full",children:[g.jsx(w0,{className:"w-4 h-4"}),g.jsx("span",{children:"Start Writing"})]})]})]})]}),o==="overview"&&g.jsxs("div",{className:"animate-fade-in space-y-12",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[g.jsxs("div",{className:"bg-[#151515] p-8 rounded-[32px] border border-white/5 hover:border-white/10 transition-colors",children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-neutral-500 mb-4 tracking-[0.2em]",children:"Total Revenue"}),g.jsx("p",{className:"text-4xl font-black mb-1",children:"14,280"}),g.jsx("p",{className:"text-xs text-[#81c995] font-bold",children:"+18% vs prev. month"})]}),g.jsxs("div",{className:"bg-[#151515] p-8 rounded-[32px] border border-white/5 hover:border-white/10 transition-colors",children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-neutral-500 mb-4 tracking-[0.2em]",children:"Active Readers"}),g.jsx("p",{className:"text-4xl font-black mb-1",children:"1,842"}),g.jsx("p",{className:"text-xs text-[#81c995] font-bold",children:"+241 this week"})]}),g.jsxs("div",{className:"bg-[#151515] p-8 rounded-[32px] border border-white/5 hover:border-white/10 transition-colors",children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-neutral-500 mb-4 tracking-[0.2em]",children:"Books Published"}),g.jsx("p",{className:"text-4xl font-black mb-1",children:(n||[]).filter(P=>P.sellerId===y.id).length}),g.jsx("p",{className:"text-xs text-neutral-500 font-bold",children:"Live on Marketplace"})]}),g.jsxs("div",{className:"bg-[#151515] p-8 rounded-[32px] border border-white/5 hover:border-white/10 transition-colors",children:[g.jsx("p",{className:"text-[10px] uppercase font-bold text-neutral-500 mb-4 tracking-[0.2em]",children:"Global Rank"}),g.jsx("p",{className:"text-4xl font-black mb-1",children:"#42"}),g.jsx("p",{className:"text-xs text-indigo-400 font-bold",children:"Top 1% of creators"})]})]}),g.jsxs("div",{className:"bg-[#151515] rounded-[40px] p-10 border border-white/5 overflow-hidden relative group",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-white/5 blur-[120px] rounded-full -mr-20 -mt-20 pointer-events-none group-hover:bg-white/10 transition-all duration-700"}),g.jsxs("div",{className:"flex items-center justify-between mb-12 relative z-10",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-black tracking-tighter mb-1",children:"Growth Matrix"}),g.jsx("p",{className:"text-[10px] text-neutral-500 font-bold uppercase tracking-widest",children:"Real-time readership & sales engagement"})]}),g.jsx("div",{className:"flex bg-black/40 p-1 rounded-2xl border border-white/5",children:["7D","30D","90D","ALL"].map(P=>g.jsx("button",{className:`px-6 py-2 rounded-xl text-[10px] font-black transition-all ${P==="30D"?"bg-white text-black shadow-xl":"text-neutral-500 hover:text-white"}`,children:P},P))})]}),g.jsx("div",{className:"h-[400px] w-full relative z-10",children:g.jsx(hfe,{width:"100%",height:"100%",children:g.jsxs(q1e,{data:[{name:"Mon",value:4e3,active:2400},{name:"Tue",value:3e3,active:1398},{name:"Wed",value:2e3,active:9800},{name:"Thu",value:2780,active:3908},{name:"Fri",value:1890,active:4800},{name:"Sat",value:2390,active:3800},{name:"Sun",value:3490,active:4300}],children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#ffffff",stopOpacity:.3}),g.jsx("stop",{offset:"95%",stopColor:"#ffffff",stopOpacity:0})]})}),g.jsx(dW,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.05)"}),g.jsx(wW,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#4a4a4a",fontSize:10,fontWeight:"bold"},dy:10}),g.jsx(SW,{hide:!0}),g.jsx(obe,{contentStyle:{backgroundColor:"#000",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},itemStyle:{color:"#fff",fontSize:"12px"}}),g.jsx(bW,{type:"monotone",dataKey:"value",stroke:"#ffffff",strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"})]})})})]})]}),o==="audience"&&g.jsx("div",{className:"animate-fade-in",children:g.jsx("div",{className:"bg-[#151515] rounded-[32px] border border-white/5 overflow-hidden",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-white/2 text-[10px] uppercase font-bold text-neutral-500 tracking-widest border-b border-white/5",children:[g.jsx("th",{className:"px-8 py-6",children:"Visitor"}),g.jsx("th",{className:"px-8 py-6",children:"Location"}),g.jsx("th",{className:"px-8 py-6",children:"Last Active"}),g.jsx("th",{className:"px-8 py-6",children:"Status"}),g.jsx("th",{className:"px-8 py-6 text-right",children:"Latest Action"})]})}),g.jsx("tbody",{className:"divide-y divide-white/2",children:X1e.map(P=>g.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[g.jsxs("td",{className:"px-8 py-6 flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-900 border border-white/10 flex items-center justify-center font-bold text-xs",children:P.avatar}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-white",children:P.name}),g.jsx("p",{className:"text-xs text-neutral-500",children:P.email})]})]}),g.jsx("td",{className:"px-8 py-6",children:g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[g.jsx(jP,{className:"w-3.5 h-3.5 text-neutral-500"})," ",P.location]})}),g.jsx("td",{className:"px-8 py-6",children:g.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[g.jsx(sle,{className:"w-3.5 h-3.5 text-neutral-500"})," ",P.time]})}),g.jsx("td",{className:"px-8 py-6",children:g.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold border ${P.status==="Signed In"?"bg-[#34a853]/5 text-[#81c995] border-[#34a853]/20":"bg-white/5 text-neutral-500 border-white/10"}`,children:P.status})}),g.jsx("td",{className:"px-8 py-6 text-right font-mono text-[11px] text-neutral-400 group-hover:text-white transition-colors uppercase tracking-wider",children:P.action})]},P.id))})]})})}),o==="studio"&&g.jsx("div",{className:"animate-fade-in space-y-12",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsx("div",{className:"bg-[#151515] rounded-[32px] p-8 border border-white/5",children:g.jsx("div",{className:"space-y-4",children:(n||[]).filter(P=>P.sellerId===y.id).map(P=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#0b0b0b] rounded-2xl border border-white/5 group hover:border-white/20 transition-all",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("img",{src:P.coverImageUrl,className:"w-12 h-16 object-cover rounded shadow-lg",alt:""}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm",children:P.title}),g.jsxs("p",{className:"text-xs text-neutral-500 uppercase tracking-widest font-mono",children:["",P.price]})]})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>i(P.id),className:"p-2 hover:bg-red-500/10 text-neutral-500 hover:text-red-500 rounded-lg transition-colors",children:g.jsx(OP,{className:"w-4 h-4 scale-x-[-1]"})}),g.jsx("button",{onClick:()=>s("/"),className:"p-2 bg-white/5 hover:bg-white text-neutral-400 hover:text-black rounded-lg transition-all",children:g.jsx(nle,{className:"w-4 h-4"})})]})]},P.id))})}),g.jsxs("div",{className:"bg-[#151515] rounded-[40px] p-12 border border-white/5 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-white/[0.02] transition-all group",onClick:()=>s("/"),children:[g.jsx("div",{className:"w-24 h-24 rounded-full bg-white/5 border border-white/10 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:g.jsx(w0,{className:"w-10 h-10 text-neutral-500 group-hover:text-white"})}),g.jsx("h3",{className:"text-2xl font-black mb-2",children:"Create New Story"}),g.jsx("p",{className:"text-neutral-500 max-w-xs",children:"Launch the E-book Studio and use AI to bring your vision to life."})]})]})}),o==="settings"&&g.jsxs("div",{className:"animate-fade-in grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-[#151515] rounded-[40px] p-12 border border-white/5",children:[g.jsxs("div",{className:"mb-10 flex items-center justify-between",children:[g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("h2",{className:"text-3xl font-black tracking-tighter",children:"Marketplace Hub"}),g.jsx("p",{className:"text-xs text-neutral-500 font-bold uppercase tracking-widest",children:"Configure your digital storefront and bio links."})]}),h&&g.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-[#81c995] bg-[#34a853]/10 px-4 py-2 rounded-full border border-[#34a853]/20 shadow-[0_0_15px_rgba(52,211,153,0.1)]",children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#81c995] animate-pulse"}),"Operational"]})]}),g.jsxs("div",{className:"mb-12 p-8 rounded-[32px] bg-gradient-to-br from-indigo-500/10 to-purple-500/5 border border-indigo-500/20 relative overflow-hidden group",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 blur-[60px] rounded-full"}),g.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6",children:[g.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left",children:[g.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-indigo-400 mb-2",children:"Instagram / Bio Link"}),g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Your Professional Storefront"}),g.jsx("p",{className:"text-xs text-neutral-500 font-medium max-w-sm",children:"Use this unique URL in your social bios to direct readers straight to your books."})]}),g.jsxs("div",{className:"flex flex-col gap-3 w-full md:w-auto",children:[g.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-2xl px-6 py-4 flex items-center gap-4 group-hover:border-white/20 transition-all",children:[g.jsxs("span",{className:"text-xs font-mono text-neutral-400 truncate max-w-[200px]",children:[window.location.origin,"/s/",w.slug]}),g.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/s/${w.slug}`),alert("Bio link copied to clipboard!")},className:"text-white hover:text-indigo-400 transition-colors",children:g.jsx(nE,{className:"w-4 h-4"})})]}),g.jsx("a",{href:`${window.location.origin}/s/${w.slug}`,target:"_blank",rel:"noreferrer",className:"w-full py-4 bg-white text-black text-[10px] font-black uppercase tracking-widest rounded-xl text-center hover:bg-neutral-200 transition-all shadow-xl",children:"Preview Live Site"})]})]})]}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-black text-neutral-500 uppercase tracking-widest mb-4",children:"Storefront Name"}),g.jsx("input",{name:"displayName",value:w.displayName,onChange:k,className:"w-full bg-[#0b0b0b] border border-white/10 rounded-2xl p-5 text-sm focus:outline-none focus:border-indigo-500/40 text-white transition-all",placeholder:"e.g. My Creative Haven"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-black text-neutral-500 uppercase tracking-widest mb-4",children:"Custom Slug"}),g.jsxs("div",{className:"flex",children:[g.jsx("span",{className:"bg-white/5 border border-r-0 border-white/10 text-neutral-600 px-6 flex items-center text-[10px] rounded-l-2xl font-black uppercase tracking-tighter",children:"/s/"}),g.jsx("input",{name:"slug",value:w.slug,onChange:k,className:"flex-1 bg-[#0b0b0b] border border-white/10 rounded-r-2xl p-5 text-sm focus:outline-none focus:border-indigo-500/40 text-white font-bold transition-all"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-[10px] font-black text-neutral-500 uppercase tracking-widest mb-4",children:"Visual Tagline"}),g.jsx("textarea",{name:"tagline",value:w.tagline,onChange:k,rows:3,className:"w-full bg-[#0b0b0b] border border-white/10 rounded-2xl p-5 text-sm focus:outline-none focus:border-indigo-500/40 text-white resize-none transition-all",placeholder:"Tell readers what your brain looks like..."})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-6",children:[g.jsx("button",{onClick:C,disabled:c,className:"flex-1 py-5 bg-indigo-500 text-white font-black uppercase tracking-widest rounded-2xl hover:bg-indigo-600 transition-all flex items-center justify-center gap-3 disabled:opacity-50 shadow-2xl shadow-indigo-500/10",children:c?"Syncing...":g.jsxs(g.Fragment,{children:[g.jsx(dN,{className:"w-5 h-5"})," Sync with Global Node"]})}),g.jsxs("button",{onClick:()=>{alert("Static Site Export: Generating bundle... Your gh-pages compatible index.html will be ready for download in a moment.")},className:"px-8 py-5 bg-white/5 border border-white/10 text-neutral-400 hover:text-white hover:border-white/20 font-black uppercase tracking-widest rounded-2xl transition-all flex items-center justify-center gap-3",children:[g.jsx(rE,{className:"w-5 h-5"})," Export for GH-Pages"]})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-8",children:[g.jsxs("div",{className:"bg-[#151515] rounded-[40px] p-12 border border-white/5 flex flex-col items-center justify-center text-center",children:[g.jsxs("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-6 border border-white/10 shadow-2xl relative",children:[g.jsx(rE,{className:"w-12 h-12 text-white"}),g.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-[#81c995] rounded-full flex items-center justify-center border-4 border-[#151515]",children:g.jsx(Ci,{className:"w-3.5 h-3.5 text-black"})})]}),g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"GitHub Connected"}),g.jsx("p",{className:"text-sm text-neutral-500 max-w-xs mb-8",children:"Your creator hub is powered by GitHub. Changes takes ~2 mins to propagate."}),h?g.jsxs("div",{className:"bg-[#0b0b0b] p-6 rounded-2xl border border-white/5 w-full flex justify-between items-center group cursor-pointer hover:border-white/20 transition-all",children:[g.jsxs("div",{className:"flex flex-col items-start overflow-hidden",children:[g.jsx("span",{className:"text-[10px] uppercase font-bold text-neutral-600 mb-1",children:"Live URL"}),g.jsx("span",{className:"text-xs text-neutral-400 truncate w-full",children:h})]}),g.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:"text-white bg-white/5 p-3 rounded-xl group-hover:bg-white group-hover:text-black transition-all",children:g.jsx(nE,{className:"w-5 h-5"})})]}):g.jsx("div",{className:"bg-[#0b0b0b] p-6 rounded-2xl border border-white/5 w-full text-xs text-neutral-600 font-bold uppercase tracking-widest",children:"Awaiting First Deployment"})]}),g.jsxs("div",{className:"bg-[#151515] rounded-[32px] p-8 border border-white/5 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-bold text-sm mb-1",children:"Switch View"}),g.jsx("p",{className:"text-xs text-neutral-500",children:"View as a reader"})]}),g.jsx("button",{onClick:()=>e(y,_t.USER),className:"px-6 py-2.5 bg-white/5 hover:bg-white hover:text-black text-white font-bold text-xs uppercase tracking-widest rounded-full transition-all border border-white/10",children:"Reading Mode"})]})]})]}),o==="executive"&&E&&g.jsx("div",{className:"animate-fade-in space-y-8",children:g.jsxs("div",{className:"bg-gradient-to-br from-[#101010] to-[#0a0a0a] border border-white/5 rounded-[40px] p-12 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-white/5 blur-[120px] rounded-full pointer-events-none"}),g.jsxs("div",{className:"relative z-10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-16",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-4xl font-black tracking-tighter mb-2",children:"Global Ecosystem"}),g.jsx("p",{className:"text-[10px] text-neutral-500 font-bold uppercase tracking-[0.3em]",children:"Master control & platform diagnostics"})]}),g.jsxs("button",{className:"flex items-center gap-3 px-8 py-3 bg-white text-black rounded-full text-[10px] font-black uppercase tracking-widest transition-all hover:scale-105 active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.3)]",children:[g.jsx(a1,{className:"w-4 h-4"}),"Live Analytics"]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[{label:"Platform Volume",value:"14.2M",trend:"+12%",color:"#81c995"},{label:"System Uptime",value:"99.99%",trend:"Operational",color:"#81c995"},{label:"Active Nodes",value:"1,280",trend:"Global",color:"white"}].map((P,M)=>g.jsxs("div",{className:"bg-black/40 p-10 rounded-[32px] border border-white/5",children:[g.jsx("p",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest mb-4",children:P.label}),g.jsx("p",{className:"text-4xl font-black mb-2",children:P.value}),g.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest",style:{color:P.color},children:P.trend})]},M))}),g.jsx("div",{className:"flex items-center justify-between mb-10",children:g.jsx("h2",{className:"text-xl font-bold",children:"Identity Registry"})}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-white/5 text-neutral-500 text-[10px] uppercase tracking-[0.2em] font-black",children:[g.jsx("th",{className:"py-6 px-4",children:"Identifier"}),g.jsx("th",{className:"py-6 px-4",children:"Email"}),g.jsx("th",{className:"py-6 px-4",children:"Permissions"}),g.jsx("th",{className:"py-6 px-4 text-right",children:"Actions"})]})}),g.jsx("tbody",{className:"text-sm divide-y divide-white/2",children:Object.values(Mc).filter(P=>P.id!=="guest").map(P=>g.jsxs("tr",{className:"hover:bg-white/[0.02] transition-colors group",children:[g.jsxs("td",{className:"py-6 px-4 font-bold text-white flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-900 border border-white/10 flex items-center justify-center text-xs font-black",children:P.profileImageUrl?g.jsx("img",{src:P.profileImageUrl,alt:"",className:"w-full h-full rounded-full object-cover"}):P.name[0]}),P.name]}),g.jsx("td",{className:"py-6 px-4 text-neutral-400 font-medium",children:P.email}),g.jsx("td",{className:"py-6 px-4",children:g.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] uppercase font-black tracking-widest border ${P.isAdmin?"bg-indigo-500/10 text-indigo-400 border-indigo-500/20":"uploadedBooks"in P?"bg-[#81c995]/10 text-[#81c995] border-[#34a853]/20":"bg-white/5 text-neutral-500 border-white/10"}`,children:P.isAdmin?"Admin":"uploadedBooks"in P?"Writer":"Reader"})}),g.jsx("td",{className:"py-6 px-4 text-right",children:g.jsx("button",{className:"text-[10px] font-black uppercase tracking-widest text-neutral-500 hover:text-white transition-colors underline opacity-50 hover:opacity-100",children:"Configure"})})]},P.id))})]})})]})]})})]})}),g.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-[#0b0b0b]/90 backdrop-blur-xl border-t border-white/10 flex items-center justify-around z-50 pb-safe",children:[g.jsx(D,{id:"overview",label:"Stats",icon:a1}),g.jsx(D,{id:"audience",label:"Visitors",icon:X3}),g.jsx(D,{id:"studio",label:"Content",icon:dN}),g.jsx(D,{id:"settings",label:"Config",icon:x0}),E&&g.jsx(D,{id:"executive",label:"Executive",icon:tE})]})]})]})},Q1e=()=>{const t="G-XXXXXXXXXX";{const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(e),window.gtag("config",t,{send_page_view:!1})}},Z1e=t=>{window.gtag("event","page_view",{page_path:t})},{useNavigate:eEe,useLocation:tEe}=Ri,DW=()=>{const{currentUser:t,userType:e}=ki(),n=eEe(),r=tEe();return T.useEffect(()=>{Z1e(r.pathname)},[r]),T.useEffect(()=>{(e===_t.GUEST||!t)&&n("/login")},[e,t,n]),e===_t.GUEST||!t?null:g.jsx(g.Fragment,{children:e===_t.USER?g.jsx(jle,{}):g.jsx(J1e,{})})},{useNavigate:nEe}=Ri,rEe=()=>{const{cart:t,removeFromCart:e,clearCart:n,currentUser:r}=ki(),i=nEe(),[a,s]=T.useState(!1),o=r&&r.id!=="guest",u=t.reduce((w,A)=>w+A.price*A.quantity,0),f=u*.07,h=u+f,v=()=>new Promise(w=>{if(document.getElementById("razorpay-checkout-js")){w(!0);return}const A=document.createElement("script");A.id="razorpay-checkout-js",A.src="https://checkout.razorpay.com/v1/checkout.js",A.onload=()=>{w(!0)},A.onerror=()=>{w(!1)},document.body.appendChild(A)});T.useEffect(()=>{v()},[]);const y=async()=>{if(!o){i("/login");return}if(!await v()||!window.Razorpay){alert("Payment Gateway failed to load. Please check your connection."),s(!1);return}s(!0);const A={key:MG,amount:Math.round(h*100),currency:"INR",name:"Co-Writter Inc.",description:"Book Purchase",image:"https://raw.githubusercontent.com/atherosai/OpenStore.io/main/vite.svg",handler:function(E){console.log("Razorpay Response:",E),alert(`Payment Successful! Transaction ID: ${E.razorpay_payment_id}`),n(),i("/dashboard"),s(!1)},prefill:{name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",contact:""},readonly:{email:!0,name:!0},notes:{items:t.map(E=>`${E.title} (Qty: ${E.quantity})`).join(", "),userId:r==null?void 0:r.id},theme:{color:"#000000"}};try{const E=new window.Razorpay(A);E.on("payment.failed",function(C){alert(`Payment Failed: ${C.error.description}`),s(!1)}),E.open()}catch(E){console.error("Error initializing Razorpay:",E),alert("Could not initiate payment."),s(!1)}};return t.length===0?g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-transparent",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-white/5 rounded-full blur-[100px] pointer-events-none"}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center animate-slide-up",children:[g.jsx("div",{className:"mb-8 opacity-50 grayscale hover:grayscale-0 transition-all duration-700 hover:opacity-100 hover:scale-110",children:g.jsx(Ni,{className:"w-32 h-32 bg-black border border-white/10 rounded-full",isActive:!1})}),g.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Cart is Empty"}),g.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest mb-10",children:"You haven't added any books yet."}),g.jsxs("button",{onClick:()=>i("/store"),className:"group relative px-8 py-4 bg-white text-black font-bold text-xs uppercase tracking-widest rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] flex items-center gap-3 overflow-hidden",children:[g.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[g.jsx(CR,{className:"w-4 h-4"})," Browse Books"]}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})]})]}):g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-32 pb-20",children:[g.jsxs("header",{className:"mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6 animate-slide-down",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[g.jsx("span",{className:"w-2 h-2 bg-google-green rounded-full animate-pulse"}),g.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Secure Checkout"})]}),g.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter",children:"Your Cart"})]}),g.jsxs("p",{className:"text-neutral-400 text-sm font-mono text-right hidden md:block",children:["Order ID: ",Math.random().toString(36).substring(2,9).toUpperCase()]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map((w,A)=>g.jsxs("div",{className:`group flex flex-col sm:flex-row items-center gap-6 p-6 bg-black/40 backdrop-blur-md border border-white/10 rounded-[24px] hover:border-white/30 hover:bg-white/5 transition-all duration-300 animate-slide-up-stagger delay-${A*100}`,children:[g.jsxs("div",{className:"shrink-0 relative",children:[g.jsx("img",{src:w.coverImageUrl,alt:w.title,className:"w-24 h-36 object-cover rounded-lg shadow-2xl border border-white/10 group-hover:scale-105 transition-transform duration-500"}),g.jsx("div",{className:"absolute inset-0 rounded-lg ring-1 ring-inset ring-white/10 group-hover:ring-white/30"})]}),g.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[g.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-2 mb-2",children:g.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 border border-white/5 text-[9px] font-bold text-neutral-300 uppercase tracking-widest",children:w.genre})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-1 leading-tight",children:w.title}),g.jsxs("p",{className:"text-xs text-neutral-500 font-mono uppercase tracking-wide mb-4",children:["By ",w.author]}),g.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-4",children:g.jsxs("button",{onClick:()=>e(w.id),className:"text-[10px] font-bold text-red-500 hover:text-red-400 uppercase tracking-widest flex items-center gap-1 transition-colors",children:[g.jsx(ele,{className:"w-3 h-3"})," Remove"]})})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-3xl font-light text-white tracking-tighter",children:["",(w.price*w.quantity).toFixed(0)]}),g.jsx("p",{className:"text-[10px] text-neutral-600 font-mono uppercase mt-1",children:"Price"})]})]},w.id))}),g.jsx("div",{className:"lg:col-span-1 h-fit sticky top-24 animate-slide-up-stagger delay-300",children:g.jsxs("div",{className:"bg-black/60 backdrop-blur-xl border border-white/10 p-8 rounded-[32px] shadow-[0_0_50px_rgba(0,0,0,0.5)] relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),g.jsx("h2",{className:"text-lg font-bold text-white uppercase tracking-widest mb-8 border-b border-white/10 pb-4",children:"Summary"}),g.jsxs("div",{className:"space-y-4 mb-8",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-neutral-400",children:"Subtotal"}),g.jsxs("span",{className:"text-white font-mono",children:["",u.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-neutral-400",children:"Tax"}),g.jsxs("span",{className:"text-white font-mono",children:["",f.toFixed(2)]})]}),g.jsx("div",{className:"w-full h-px bg-white/10 my-2"}),g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"text-white font-bold",children:"Total"}),g.jsxs("span",{className:"text-4xl font-black text-white tracking-tighter",children:["",h.toFixed(0)]})]})]}),o?g.jsx("button",{onClick:y,disabled:a,className:"w-full py-4 bg-white text-black font-black text-xs uppercase tracking-widest rounded-full hover:bg-neutral-200 hover:scale-[1.02] active:scale-[0.98] transition-all shadow-[0_0_20px_rgba(255,255,255,0.2)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?"Processing...":g.jsxs(g.Fragment,{children:[g.jsx(tle,{className:"w-4 h-4"})," Pay Now"]})}):g.jsx("button",{onClick:()=>i("/login"),className:"w-full py-4 bg-white/10 text-white border border-white/20 font-bold text-xs uppercase tracking-widest rounded-full hover:bg-white hover:text-black transition-all",children:"Login to Purchase"}),g.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-[9px] text-neutral-600 font-mono uppercase tracking-widest",children:[g.jsx(Mu,{className:"w-3 h-3"})," Instant Download"]})]})})]})]})},{useNavigate:iEe,Link:aEe}=Ri,sEe=()=>g.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[g.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),g.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),g.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),g.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),IW=()=>{const{currentUser:t,userType:e,setCurrentUser:n,handleEmailLogin:r,handleFirebaseGoogleLogin:i}=ki(),a=iEe(),[s,o]=T.useState(!1),[u,c]=T.useState(!1),[f,h]=T.useState("social"),[v,y]=T.useState(""),[w,A]=T.useState(""),[E,C]=T.useState("");An.useEffect(()=>{t&&e!==_t.GUEST&&a("/dashboard")},[t,e,a]);const k=async()=>{o(!0),C("");try{await i(),a("/dashboard")}catch(D){console.error("Firebase Login Error",D),C(D.message||"Authentication failed. Please try again.")}finally{o(!1)}},R=async D=>{D.preventDefault(),C(""),o(!0);try{const I=await r(v.trim(),w.trim());I.success?a("/dashboard"):C(I.message||"Login failed.")}catch{C("System error.")}finally{o(!1)}};return g.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center p-4 relative font-sans selection:bg-white/20 overflow-hidden bg-black",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(30,30,40,1)_0%,rgba(0,0,0,1)_100%)]"}),g.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",backgroundSize:"60px 60px"}}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/50 to-transparent animate-[grid-flow_10s_linear_infinite] opacity-20"}),g.jsxs("div",{className:"relative z-10 w-full max-w-sm flex flex-col items-center",children:[g.jsxs("div",{className:"mb-12 relative group",children:[g.jsx("div",{className:"absolute -inset-8 bg-white/5 blur-[50px] rounded-full animate-pulse-slow"}),g.jsx(Ni,{className:"w-24 h-24 border border-white/20 bg-black/40 backdrop-blur-3xl shadow-[0_0_50px_rgba(255,255,255,0.1)] rounded-full relative z-10"})]}),g.jsxs("div",{className:"w-full bg-black/40 backdrop-blur-3xl border border-white/10 p-10 shadow-[0_40px_100px_rgba(0,0,0,0.8)] rounded-[40px] relative overflow-hidden transition-all duration-700 hover:border-white/20 group",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("div",{className:"inline-block px-3 py-1 bg-white/5 border border-white/10 rounded-full mb-4",children:g.jsx("span",{className:"text-[8px] text-white font-black uppercase tracking-[0.4em]",children:"Integrated Secure Node"})}),g.jsx("h1",{className:"text-3xl font-black tracking-tighter text-white mb-1 uppercase",children:al}),g.jsx("p",{className:"text-[10px] text-neutral-500 font-bold uppercase tracking-[0.3em]",children:"Studio Access"})]}),window.location.hostname.includes("github.io")||window.location.hostname==="co-writter.github.io"?g.jsxs("div",{className:"mb-8 text-center",children:[g.jsx("p",{className:"text-white text-xs leading-relaxed mb-6",children:"Co-Writter Studio is hosted on our secure application cloud. Access advanced writing tools, AI co-authoring, and your personal dashboard."}),g.jsxs("a",{href:"https://co-writter-studio.web.app/login",className:"inline-flex w-full py-5 rounded-2xl bg-white text-black font-black uppercase tracking-[0.2em] text-[10px] items-center justify-center gap-2 hover:bg-neutral-200 transition-all shadow-xl",children:[g.jsx(Ni,{className:"w-5 h-5 border border-black/10 rounded-full",isActive:!1}),g.jsx("span",{children:"Enter Studio"})]})]}):g.jsxs("div",{className:"flex bg-white/5 p-1 rounded-2xl mb-10 border border-white/5",children:[g.jsx("button",{onClick:()=>h("social"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all duration-500 ${f==="social"?"bg-white text-black shadow-2xl":"text-neutral-500 hover:text-white"}`,children:"Guest"}),g.jsx("button",{onClick:()=>h("email"),className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all duration-500 ${f==="email"?"bg-white text-black shadow-2xl":"text-neutral-500 hover:text-white"}`,children:"Operator"})]}),!window.location.hostname.includes("github.io")&&(f==="social"?g.jsx("div",{className:"animate-fade-in",children:g.jsxs("button",{onClick:k,disabled:s,className:"w-full py-5 rounded-2xl bg-white/5 border border-white/10 text-white font-black uppercase tracking-[0.2em] text-[10px] flex items-center justify-center gap-4 hover:bg-white hover:text-black transition-all duration-500 shadow-xl",children:[s?g.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g.jsx(sEe,{}),g.jsx("span",{children:"Link with Google"})]})}):g.jsxs("form",{onSubmit:R,className:"space-y-6 animate-fade-in",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("input",{type:"email",placeholder:"Operator ID",className:"w-full bg-white/5 border border-white/10 rounded-2xl p-5 text-sm text-white focus:outline-none focus:border-white/30 transition-all placeholder:text-neutral-700",value:v,onChange:D=>y(D.target.value),required:!0}),g.jsx("input",{type:"password",placeholder:"Access Key",className:"w-full bg-white/5 border border-white/10 rounded-2xl p-5 text-sm text-white focus:outline-none focus:border-white/30 transition-all placeholder:text-neutral-700",value:w,onChange:D=>A(D.target.value),required:!0})]}),g.jsx("button",{type:"submit",disabled:s,className:"w-full py-5 rounded-2xl bg-white text-black font-black uppercase tracking-[0.3em] text-[10px] hover:bg-neutral-200 transition-all duration-500 shadow-2xl",children:s?"Verifying...":"Authorize Access"})]})),E&&g.jsx("div",{className:"mt-8 text-red-500 text-[10px] bg-red-500/5 p-4 rounded-2xl border border-red-500/20 text-center font-bold tracking-tight animate-slide-up",children:E}),g.jsx("div",{className:"mt-8 pt-8 border-t border-white/5 flex items-center justify-center",children:g.jsx(aEe,{to:"/",className:"text-[10px] font-black uppercase tracking-widest text-neutral-600 hover:text-white transition-colors",children:"Return to Landing"})})]}),g.jsx("p",{className:"mt-12 text-[10px] text-neutral-600 font-bold uppercase tracking-[0.4em] opacity-40",children:"Neural Design System 4.2"})]})]})},{useNavigate:oEe}=Ri,lEe=()=>{const{currentUser:t,userType:e,upgradeToSeller:n}=ki(),r=oEe(),[i,a]=T.useState(!1),[s,o]=T.useState("monthly"),u=async()=>{if(!t){r("/login");return}if(!await new Promise(y=>{if(window.Razorpay){y(!0);return}const w=document.createElement("script");w.src="https://checkout.razorpay.com/v1/checkout.js",w.onload=()=>y(!0),w.onerror=()=>y(!1),document.body.appendChild(w)})){alert("Could not load payment gateway. Please try again.");return}a(!0);const v={key:MG,amount:(s==="monthly"?444:4444)*100,currency:"INR",name:"My Ebook Store",description:`Pro Creator Subscription (${s})`,image:"https://raw.githubusercontent.com/atherosai/OpenStore.io/main/vite.svg",handler:function(y){console.log("Subscription Successful",y),n(),alert(`Welcome to the Writer Dashboard! Payment ID: ${y.razorpay_payment_id}`),r("/dashboard"),a(!1)},prefill:{name:t.name,email:t.email},theme:{color:"#000000"}};try{const y=new window.Razorpay(v);y.on("payment.failed",function(w){alert(`Payment Failed: ${w.error.description}`),a(!1)}),y.open()}catch(y){console.error("Payment initialization failed",y),a(!1)}};return g.jsxs("div",{className:"min-h-screen w-full relative bg-black selection:bg-white/20 font-sans",children:[g.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/5 rounded-full blur-[120px]"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"})]}),g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-24 pb-20 animate-fade-in max-w-7xl relative z-10",children:[g.jsxs("div",{className:"text-center mb-16 relative",children:[g.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 relative z-10 tracking-tighter",children:"Choose a Plan"}),g.jsx("p",{className:"text-neutral-400 text-lg max-w-2xl mx-auto relative z-10",children:"Start for free or upgrade to sell your own books and use AI tools."}),g.jsx("div",{className:"flex items-center justify-center mt-8 relative z-10",children:g.jsxs("div",{className:"bg-white/5 p-1 rounded-full border border-white/10 flex relative",children:[g.jsx("button",{onClick:()=>o("monthly"),className:`px-6 py-2 rounded-full text-sm font-bold transition-all duration-300 ${s==="monthly"?"bg-white text-black shadow-glow-white":"text-neutral-500 hover:text-white"}`,children:"Monthly"}),g.jsxs("button",{onClick:()=>o("yearly"),className:`px-6 py-2 rounded-full text-sm font-bold transition-all duration-300 ${s==="yearly"?"bg-white text-black shadow-glow-white":"text-neutral-500 hover:text-white"}`,children:["Yearly ",g.jsx("span",{className:"text-[9px] bg-google-green text-black px-1.5 py-0.5 rounded ml-1",children:"-15%"})]})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[g.jsxs("div",{className:"bg-black border border-white/10 p-8 md:p-10 rounded-[32px] relative group shadow-2xl overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white border border-white/10",children:g.jsx(_i,{className:"w-5 h-5"})}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Reader"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("span",{className:"text-4xl font-black text-white",children:"Free"}),g.jsx("span",{className:"text-neutral-500 ml-2",children:"/ forever"})]}),g.jsx("p",{className:"text-neutral-400 text-sm mb-8 min-h-[40px]",children:"Read free books and build your personal collection."}),g.jsx("button",{onClick:()=>r("/store"),className:"w-full py-4 rounded-full border border-white/20 text-white font-bold hover:bg-white/10 transition-colors mb-8 uppercase tracking-widest text-xs",children:"Browse Books"}),g.jsx("div",{className:"space-y-4",children:["Read Unlimited Books","Saved Books List","Works on All Devices","Community Reviews","Personal Library"].map((c,f)=>g.jsxs("div",{className:"flex items-center gap-3 text-sm text-neutral-300",children:[g.jsx(Ci,{className:"w-4 h-4 text-google-green flex-shrink-0"}),g.jsx("span",{children:c})]},f))})]}),g.jsxs("div",{className:"bg-black border border-white/10 p-8 md:p-10 rounded-[32px] relative shadow-2xl overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-google-blue to-transparent opacity-50"}),g.jsx("div",{className:"absolute top-6 right-6 px-3 py-1 bg-white text-black text-[10px] font-bold uppercase tracking-widest rounded-full shadow-glow-white",children:"Recommended"}),g.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center shadow-lg",children:g.jsx(FP,{className:"w-5 h-5"})}),g.jsx("h3",{className:"text-xl font-bold text-white",children:"Writer"})]}),g.jsxs("div",{className:"mb-6 relative z-10",children:[g.jsxs("span",{className:"text-4xl font-black text-white",children:["",s==="monthly"?"444":"4,444"]}),g.jsxs("span",{className:"text-neutral-500 ml-2",children:["/ ",s==="monthly"?"mo":"yr"]})]}),g.jsx("p",{className:"text-neutral-400 text-sm mb-8 min-h-[40px] relative z-10",children:"Write with AI, publish your books, and sell them online."}),e===_t.SELLER?g.jsxs("button",{disabled:!0,className:"w-full py-4 rounded-full bg-green-500/10 text-green-400 font-bold border border-green-500/50 mb-8 cursor-default flex items-center justify-center gap-2 uppercase tracking-widest text-xs",children:[g.jsx(Ci,{className:"w-5 h-5"})," Current Plan"]}):g.jsx("button",{onClick:u,disabled:i,className:"w-full py-4 rounded-full bg-white text-black font-bold hover:bg-neutral-200 transition-colors shadow-glow-white mb-8 flex items-center justify-center gap-2 relative z-10 uppercase tracking-widest text-xs",children:i?"Processing...":g.jsxs(g.Fragment,{children:[g.jsx(Mu,{className:"w-4 h-4"})," Upgrade to Writer"]})}),g.jsx("div",{className:"space-y-4 relative z-10",children:["Everything in Reader","Publish Unlimited Books","Co-Author Assistant","AI Cover Creator","Your Own Profile Page","See Sales Stats","Keep 70% of Sales","Priority Support"].map((c,f)=>g.jsxs("div",{className:"flex items-center gap-3 text-sm text-white font-medium",children:[g.jsx("div",{className:"p-0.5 bg-white rounded-full",children:g.jsx(Ci,{className:"w-3 h-3 text-black flex-shrink-0"})}),g.jsx("span",{children:c})]},f))})]})]}),g.jsx("div",{className:"mt-20 text-center border-t border-white/10 pt-10",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-8 md:gap-16 text-neutral-400 text-sm",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx(FG,{className:"w-5 h-5 text-yellow-500"}),g.jsx("span",{children:"Trusted by 10,000+ Creators"})]}),g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("svg",{className:"w-5 h-5 text-google-green",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),g.jsx("span",{children:"Secure Payments"})]}),g.jsxs("div",{className:"flex items-center justify-center gap-3",children:[g.jsx("svg",{className:"w-5 h-5 text-google-blue",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),g.jsx("span",{children:"Cancel Anytime"})]})]})})]})]})},{useParams:uEe,Link:HS}=Ri,cEe=()=>{var c;const{slug:t}=uEe(),[e,n]=T.useState(null),[r,i]=T.useState(null),[a,s]=T.useState([]),[o,u]=T.useState(!0);return T.useEffect(()=>{t&&(async()=>{u(!0);try{const{db:h}=await Jo(async()=>{const{db:k}=await import("./firebase-Bx4m2Htd.js");return{db:k}},__vite__mapDeps([0,1,2,3])),{collection:v,query:y,where:w,getDocs:A}=await Jo(async()=>{const{collection:k,query:R,where:D,getDocs:I}=await import("./index.esm-r3RIfZqZ.js");return{collection:k,query:R,where:D,getDocs:I}},__vite__mapDeps([3,1])),E=y(v(h,"users"),w("creatorSite.slug","==",t)),C=await A(E);if(C.empty){const k=Object.values(Mc).find(R=>{var D;return((D=R.creatorSite)==null?void 0:D.slug)===t});if(k&&k.creatorSite&&k.creatorSite.isEnabled){n(k),i(k.creatorSite);const R=Gh.filter(D=>k.creatorSite.showcasedBookIds.includes(D.id)&&D.sellerId===k.id);s(R)}else n(null)}else{const R=C.docs[0].data();R.creatorSite&&R.creatorSite.isEnabled?(n(R),i(R.creatorSite),s(R.uploadedBooks||[])):n(null)}}catch(h){console.error("Error fetching creator site:",h),n(null)}finally{u(!1)}})()},[t]),o?g.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center",children:[g.jsx("div",{className:"w-16 h-16 border-2 border-white/10 border-t-white rounded-full animate-spin mb-4"}),g.jsx("p",{className:"text-xs font-bold tracking-[0.3em] text-neutral-500 uppercase",children:"Synchronizing Neural Link..."})]}):!e||!r?g.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-6 text-center",children:[g.jsx(Ni,{className:"w-32 h-32 opacity-20 mb-8"}),g.jsx("h1",{className:"text-3xl font-black mb-4 tracking-tighter uppercase",children:"Station Not Found"}),g.jsx("p",{className:"text-neutral-500 max-w-sm mb-8",children:"This creator haven has not been initialized or is currently offline."}),g.jsx(HS,{to:"/",className:"px-8 py-3 bg-white text-black font-black uppercase tracking-widest text-xs rounded-full hover:bg-neutral-200 transition-all",children:"Return to Hub"})]}):g.jsxs("div",{className:"min-h-screen bg-black text-white selection:bg-white selection:text-black",children:[g.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_0%,rgba(30,30,50,1)_0%,rgba(0,0,0,1)_70%)]"}),g.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50%] h-[50%] bg-white/[0.02] blur-[150px] rounded-full"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-500/[0.03] blur-[100px] rounded-full"})]}),g.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-6 pt-32 pb-20",children:[g.jsxs("header",{className:"flex flex-col items-center text-center mb-24 animate-fade-in",children:[g.jsxs("div",{className:"relative mb-10 group",children:[g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-white/10 to-neutral-700/30 rounded-full blur opacity-50 group-hover:opacity-100 transition duration-1000"}),g.jsx("div",{className:"relative w-32 h-32 rounded-full border border-white/10 bg-black overflow-hidden shadow-2xl transition-transform duration-700 group-hover:scale-105",children:r.profileImageUrl?g.jsx("img",{src:r.profileImageUrl,alt:"",className:"w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-700"}):g.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl font-black",children:((c=r.displayName)==null?void 0:c.charAt(0))||e.name.charAt(0)})})]}),g.jsx("h1",{className:"text-5xl md:text-7xl font-black tracking-tighter mb-4 uppercase leading-none",children:r.displayName||e.name}),g.jsx("p",{className:"text-neutral-500 text-xs md:text-sm font-bold uppercase tracking-[0.4em] max-w-xl",children:r.tagline||"Authoring the Infinite Path"}),g.jsxs("div",{className:"mt-12 flex gap-4",children:[g.jsx("button",{className:"px-6 py-2 rounded-full border border-white/10 bg-white/5 text-[10px] font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all",children:"Follow"}),g.jsx("button",{className:"w-10 h-10 rounded-full border border-white/10 bg-white/5 flex items-center justify-center hover:bg-white hover:text-black transition-all",children:g.jsx(nE,{className:"w-4 h-4"})})]})]}),g.jsxs("main",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-12 border-b border-white/5 pb-6",children:[g.jsxs("h2",{className:"text-xs font-black uppercase tracking-[0.3em] text-neutral-500 flex items-center gap-3",children:[g.jsx(_i,{className:"w-4 h-4"})," Showcased Works"]}),g.jsxs("span",{className:"font-mono text-[10px] text-neutral-700 uppercase tracking-widest",children:[a.length," Publications"]})]}),a.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12",children:a.map((f,h)=>g.jsxs("div",{className:"group relative flex flex-col animate-slide-up",style:{animationDelay:`${h*100}ms`},children:[g.jsxs(HS,{to:`/read/${f.id}`,className:"block relative overflow-hidden rounded-[32px] bg-neutral-900 aspect-[3/4] mb-8 shadow-2xl transition-all duration-700 group-hover:shadow-[0_40px_80px_rgba(0,0,0,0.8)]",children:[g.jsx("img",{src:f.coverImageUrl,alt:f.title,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-1000 group-hover:scale-110"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent opacity-60 group-hover:opacity-40 transition-opacity"}),g.jsxs("div",{className:"absolute bottom-6 left-6 right-6 flex justify-between items-end",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-white/50 mb-1",children:f.genre}),g.jsxs("span",{className:"text-[11px] font-mono text-white/80 uppercase",children:["",f.price]})]}),g.jsx("div",{className:"w-12 h-12 rounded-full bg-white text-black flex items-center justify-center scale-0 group-hover:scale-100 transition-all duration-500 rotate-45 group-hover:rotate-0",children:g.jsx(Dd,{className:"w-6 h-6"})})]})]}),g.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-indigo-400 transition-colors truncate",children:f.title}),g.jsx("p",{className:"text-[10px] text-neutral-600 font-bold uppercase tracking-widest",children:f.author}),g.jsx("div",{className:"mt-8 pt-6 border-t border-white/5 opacity-0 group-hover:opacity-100 transition-all transform translate-y-4 group-hover:translate-y-0",children:g.jsx(HS,{to:`/store?bookId=${f.id}`,className:"text-[10px] font-black uppercase tracking-[0.2em] text-white hover:text-indigo-400 transition-colors flex items-center gap-2",children:"Checkout Now "})})]},f.id))}):g.jsx("div",{className:"py-24 text-center",children:g.jsx("p",{className:"text-neutral-700 font-black uppercase tracking-[0.2em] text-sm",children:"No artifacts discovered yet."})})]}),g.jsxs("footer",{className:"mt-40 pt-12 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-8 text-center md:text-left",children:[g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-neutral-700",children:"Powered by Neural Core"}),g.jsx(HS,{to:"/",className:"text-2xl font-black tracking-tighter hover:text-neutral-500 transition-colors",children:al})]}),g.jsxs("p",{className:"text-[10px] text-neutral-600 font-bold uppercase tracking-widest",children:[" ",new Date().getFullYear()," ",r.displayName||e.name]})]})]})]})},$E=({size:t="md",color:e="bg-white"})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return g.jsxs("div",{className:"flex justify-center items-center gap-1",children:[g.jsx("div",{className:`${n[t]} ${e} opacity-20 animate-[pulse-square_1s_ease-in-out_infinite] rounded-sm`}),g.jsx("div",{className:`${n[t]} ${e} opacity-60 animate-[pulse-square_1s_ease-in-out_0.2s_infinite] rounded-sm`}),g.jsx("div",{className:`${n[t]} ${e} animate-[pulse-square_1s_ease-in-out_0.4s_infinite] rounded-sm`})]})},dEe=({bookDetails:t,onPriceSuggested:e})=>{const[n,r]=T.useState(null),[i,a]=T.useState(!1),[s,o]=T.useState(null),u=async()=>{if(!t.title){o("Enter a title first.");return}a(!0),o(null);try{const c=await gle(t);c.match(/^\d+(\.\d{1,2})?$/)?(r(c),e(c)):o("Could not calculate.")}catch{o("Service unavailable.")}finally{a(!1)}};return g.jsxs("div",{className:"bg-[#151515] border border-white/5 rounded-2xl p-5 mt-4 flex flex-col md:flex-row items-center justify-between gap-4 group hover:border-white/10 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500/20 to-teal-900/20 border border-emerald-500/30 flex items-center justify-center text-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.15)] group-hover:shadow-[0_0_30px_rgba(16,185,129,0.25)] transition-shadow duration-500",children:g.jsx(Zoe,{className:"w-6 h-6"})}),g.jsxs("div",{className:"absolute -top-1 -right-1 bg-white text-black text-[8px] font-black px-1.5 py-0.5 rounded-full flex items-center gap-0.5 border border-white shadow-sm",children:["AI ",g.jsx(Dd,{className:"w-2 h-2"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:"Smart Pricing Model"}),g.jsx("p",{className:"text-[10px] text-neutral-500 max-w-[200px]",children:"Analyze market trends & genre data to predict the optimal revenue point."})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[n&&g.jsxs("div",{className:"flex flex-col items-end mr-2 animate-fade-in",children:[g.jsx("span",{className:"text-[10px] text-neutral-500 uppercase tracking-widest font-bold",children:"Target Price"}),g.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[g.jsxs("span",{className:"text-xl font-black tracking-tighter",children:["",parseFloat(n).toFixed(0)]}),g.jsx(Ci,{className:"w-4 h-4 bg-emerald-500/20 rounded-full p-0.5"})]})]}),g.jsx("button",{onClick:u,disabled:i,className:"px-6 py-3 rounded-full bg-white text-black hover:bg-neutral-200 border border-transparent hover:border-white/50 transition-all font-bold text-[10px] uppercase tracking-widest disabled:opacity-50 shadow-glow-white hover:scale-105 active:scale-95 flex items-center gap-2",children:i?g.jsx($E,{size:"sm",color:"text-black"}):"Optimize"})]}),s&&g.jsx("span",{className:"text-red-400 text-xs font-bold bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20",children:s})]})},fEe=["Cinematic","Minimalist","Fantasy","Sci-Fi","Cyberpunk","Oil Painting","Watercolor","3D Render","Photorealistic","Abstract","Noir","Vintage"],hEe=({onCoverGenerated:t,currentTitle:e,currentAuthor:n})=>{const[r,i]=T.useState(""),[a,s]=T.useState("Cinematic"),[o,u]=T.useState(null),[c,f]=T.useState(!1),[h,v]=T.useState(null),y=async E=>{if(E.preventDefault(),!r.trim()){v("Please describe your vision.");return}f(!0),v(null);try{const C=await BG(r,a,e,n);"error"in C?(v(C.error),u(null)):(u(C),t(C))}catch{v("Generation failed. Please try again."),u(null)}finally{f(!1)}},w="w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-sm text-white focus:outline-none focus:border-white/30 transition-all duration-200 placeholder-neutral-600 font-sans",A="block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2";return g.jsxs("div",{className:"bg-[#151515] border border-white/5 rounded-2xl p-6 md:p-8",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h4",{className:"text-base font-bold text-white",children:"AI Cover Designer"}),g.jsx("p",{className:"text-xs text-neutral-500",children:"Generate professional cover art instantly."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:A,children:"Art Direction"}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{value:a,onChange:E=>s(E.target.value),className:`${w} appearance-none cursor-pointer`,children:fEe.map(E=>g.jsx("option",{value:E,children:E},E))}),g.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-neutral-500",children:g.jsx(PG,{className:"w-4 h-4"})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:A,children:"Visual Concept"}),g.jsx("input",{value:r,onChange:E=>i(E.target.value),placeholder:"e.g. A lone astronaut...",className:w})]})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{type:"button",onClick:y,disabled:c||!r.trim(),className:"px-8 py-3 rounded-full bg-white text-black font-bold text-xs uppercase tracking-widest hover:bg-neutral-200 transition-all flex items-center justify-center disabled:opacity-50 shadow-[0_0_20px_rgba(255,255,255,0.2)] hover:scale-105 active:scale-95 min-w-[140px]",children:c?g.jsx($E,{size:"sm",color:"text-black"}):"Generate Art"})}),h&&g.jsx("p",{className:"text-red-400 mt-4 text-xs bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:h}),o&&!h&&g.jsx("div",{className:"mt-8 pt-8 border-t border-white/5 animate-fade-in",children:g.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[g.jsx("div",{className:"relative w-32 h-48 rounded-lg overflow-hidden shadow-2xl border border-white/10 group",children:g.jsx("img",{src:`data:image/jpeg;base64,${o.imageBytes}`,alt:"Generated Cover",className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"flex-1 text-center md:text-left",children:[g.jsxs("h5",{className:"text-sm font-bold text-white mb-2 flex items-center justify-center md:justify-start gap-2",children:[g.jsx(Ci,{className:"w-4 h-4 text-green-500"})," Cover Applied"]}),g.jsx("p",{className:"text-xs text-neutral-500 mb-1",children:"The image has been automatically attached to your book."}),o.revisedPrompt&&g.jsxs("p",{className:"text-[10px] text-neutral-600 italic mt-2",children:['"',o.revisedPrompt.substring(0,80),'..."']})]})]})})]})},{useParams:pEe,useNavigate:mEe}=Ri,Kp="w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-sm text-white focus:outline-none focus:border-white/30 transition-all duration-200 placeholder-neutral-600 font-sans",Xp="block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",LW=()=>{const{bookId:t}=pEe(),e=mEe(),n=ki(),{books:r,updateBook:i,currentUser:a,userType:s}=n,[o,u]=T.useState(null),[c,f]=T.useState(""),[h,v]=T.useState(""),[y,w]=T.useState(""),[A,E]=T.useState(""),[C,k]=T.useState(""),[R,D]=T.useState("paid"),[I,P]=T.useState(""),[M,B]=T.useState(null),[z,K]=T.useState(!0),[G,Y]=T.useState(!1),[te,W]=T.useState(null);T.useEffect(()=>{if(!t){e("/dashboard");return}const ie=(r||[]).find(be=>be.id===t);ie?a&&s===_t.SELLER&&ie.sellerId===a.id?(u(ie),f(ie.title),v(ie.author),w(ie.description),E(ie.genre),k(ie.price.toString()),D(ie.price===0?"free":"paid"),P(ie.coverImageUrl)):(W("You do not have permission to edit this eBook."),setTimeout(()=>e("/dashboard"),3e3)):(W("eBook not found."),setTimeout(()=>e("/dashboard"),3e3)),K(!1)},[t,r,e,a,s]);const $=ie=>{R==="paid"&&k(ie)},U=ie=>{B(ie),P(`data:image/jpeg;base64,${ie.imageBytes}`)},q=ie=>{if(ie.preventDefault(),W(null),!o){W("No book selected for editing.");return}if(!c||!h||!y||!A){W("Please fill in all required fields.");return}let be=0;if(R==="paid"){if(!C||isNaN(parseFloat(C))||parseFloat(C)<=0){W("Please enter a valid price.");return}be=parseFloat(C)}else be=0;Y(!0);const V=M?`data:image/jpeg;base64,${M.imageBytes}`:I,J={...o,title:c,author:h,description:y,genre:A,price:be,coverImageUrl:V,publicationDate:o.publicationDate};i(J),Y(!1),e("/dashboard")};if(z)return g.jsx("div",{className:"min-h-screen bg-[#0b0b0b] flex items-center justify-center",children:g.jsx($E,{size:"lg",color:"text-white"})});if(te&&!o)return g.jsxs("div",{className:"min-h-screen bg-[#0b0b0b] flex flex-col items-center justify-center text-center px-6",children:[g.jsx(_i,{className:"w-16 h-16 text-neutral-700 mb-6"}),g.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),g.jsx("p",{className:"text-neutral-500 mb-8",children:te}),g.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-white text-black font-bold py-3 px-8 rounded-full hover:bg-neutral-200 transition-colors",children:"Back to Dashboard"})]});if(!o)return null;const Z={title:c,genre:A,description:y};return g.jsx("div",{className:"min-h-screen bg-[#0b0b0b] pt-24 pb-20 px-4 md:px-8 font-sans",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors group",children:[g.jsx("div",{className:"w-8 h-8 rounded-full border border-white/10 flex items-center justify-center group-hover:bg-white group-hover:text-black transition-all",children:g.jsx(Qoe,{className:"w-4 h-4"})}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Back"})]}),g.jsxs("h1",{className:"text-xl font-normal text-white flex items-center gap-3",children:["Edit ",g.jsx("span",{className:"text-neutral-500",children:"/"})," ",o.title]})]}),g.jsxs("form",{onSubmit:q,className:"bg-[#1e1e1e] border border-white/5 rounded-3xl p-8 md:p-10 shadow-2xl space-y-8 animate-slide-up",children:[g.jsxs("div",{className:"flex items-center gap-4 border-b border-white/5 pb-8 mb-8",children:[g.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center text-white border border-white/10",children:g.jsx(Dd,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-normal text-white",children:"Book Configuration"}),g.jsx("p",{className:"text-neutral-500 text-sm",children:"Update metadata, pricing, and visual assets."})]})]}),te&&g.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm font-medium",children:te}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"title",className:Xp,children:"Book Title"}),g.jsx("input",{type:"text",id:"title",value:c,onChange:ie=>f(ie.target.value),required:!0,className:Kp})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"author",className:Xp,children:"Author Name"}),g.jsx("input",{type:"text",id:"author",value:h,onChange:ie=>v(ie.target.value),required:!0,className:Kp})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"genre",className:Xp,children:"Genre"}),g.jsx("input",{type:"text",id:"genre",value:A,onChange:ie=>E(ie.target.value),required:!0,placeholder:"e.g. Sci-Fi",className:Kp})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"description",className:Xp,children:"Description"}),g.jsx("textarea",{id:"description",value:y,onChange:ie=>w(ie.target.value),rows:4,required:!0,className:`${Kp} min-h-[120px] resize-none`})]})]}),g.jsxs("div",{className:"p-6 bg-[#0b0b0b] border border-white/5 rounded-2xl",children:[g.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Monetization Strategy"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[g.jsxs("button",{type:"button",onClick:()=>D("paid"),className:`p-5 rounded-2xl border text-left transition-all group ${R==="paid"?"bg-white text-black border-white":"bg-transparent border-white/10 hover:border-white/20"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R==="paid"?"bg-black text-white":"bg-white/10 text-neutral-400"}`,children:g.jsx(OG,{className:"w-4 h-4"})}),R==="paid"&&g.jsx(Ci,{className:"w-5 h-5 text-black"})]}),g.jsx("h4",{className:`font-bold mb-1 ${R==="paid"?"text-black":"text-white"}`,children:"Premium Asset"}),g.jsx("p",{className:`text-xs ${R==="paid"?"text-neutral-600":"text-neutral-500"}`,children:"Set a price and earn royalties."})]}),g.jsxs("button",{type:"button",onClick:()=>D("free"),className:`p-5 rounded-2xl border text-left transition-all group ${R==="free"?"bg-white text-black border-white":"bg-transparent border-white/10 hover:border-white/20"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R==="free"?"bg-black text-white":"bg-white/10 text-neutral-400"}`,children:g.jsx(Mu,{className:"w-4 h-4"})}),R==="free"&&g.jsx(Ci,{className:"w-5 h-5 text-black"})]}),g.jsx("h4",{className:`font-bold mb-1 ${R==="free"?"text-black":"text-white"}`,children:"Growth Magnet"}),g.jsx("p",{className:`text-xs ${R==="free"?"text-neutral-600":"text-neutral-500"}`,children:"Free distribution for readers."})]})]}),R==="paid"&&g.jsxs("div",{className:"animate-fade-in space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"price",className:Xp,children:"List Price (INR)"}),g.jsx("input",{type:"number",id:"price",value:C,onChange:ie=>k(ie.target.value),step:"0.01",min:"1",required:R==="paid",className:Kp,placeholder:"499"})]}),g.jsx(dEe,{bookDetails:Z,onPriceSuggested:$})]})]}),g.jsxs("div",{className:"p-6 bg-[#0b0b0b] border border-white/5 rounded-2xl",children:[g.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Cover Art"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[g.jsxs("div",{className:"w-full md:w-1/3 shrink-0",children:[g.jsx("div",{className:"aspect-[3/4] bg-[#1e1e1e] rounded-xl overflow-hidden border border-white/10 relative group",children:I?g.jsx("img",{src:I,alt:"Preview",className:"w-full h-full object-cover"}):g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-neutral-600",children:[g.jsx(_i,{className:"w-12 h-12 mb-2 opacity-50"}),g.jsx("span",{className:"text-xs uppercase tracking-widest",children:"No Cover"})]})}),g.jsxs("div",{className:"mt-4",children:[g.jsx("label",{htmlFor:"manualCover",className:Xp,children:"Manual URL"}),g.jsx("input",{type:"url",id:"manualCover",value:M?"":I,onChange:ie=>{P(ie.target.value),B(null)},className:Kp,placeholder:"https://..."})]})]}),g.jsx("div",{className:"w-full md:w-2/3",children:g.jsx(hEe,{onCoverGenerated:U,currentTitle:c,currentAuthor:h})})]})]}),g.jsxs("div",{className:"pt-6 border-t border-white/5 flex items-center justify-end gap-4",children:[g.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-8 py-4 rounded-full border border-white/10 text-white font-bold text-xs uppercase tracking-widest hover:bg-white/5 transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:G,className:"px-8 py-4 rounded-full bg-white text-black font-bold text-xs uppercase tracking-widest hover:bg-neutral-200 transition-all shadow-glow-white disabled:opacity-50 flex items-center gap-2",children:G?g.jsx($E,{size:"sm",color:"text-black"}):g.jsxs(g.Fragment,{children:[g.jsx(Ci,{className:"w-4 h-4"})," Save Changes"]})})]})]})]})})},gEe=({title:t,onTitleChange:e,content:n,onContentChange:r,onTriggerAI:i,onTriggerImageGen:a})=>{const s=W=>{if(!W)return[{id:Date.now().toString(),type:"p",content:""}];const $=W.split(`
`),U=[];for(const q of $)if(q.startsWith("# "))U.push({id:Math.random().toString(),type:"h1",content:q.replace("# ","")});else if(q.startsWith("## "))U.push({id:Math.random().toString(),type:"h2",content:q.replace("## ","")});else if(q.startsWith("- "))U.push({id:Math.random().toString(),type:"ul",content:q.replace("- ","")});else if(q.startsWith("> "))U.push({id:Math.random().toString(),type:"blockquote",content:q.replace("> ","")});else if(q.startsWith("![")){const Z=q.match(/\((.*?)\)/);Z&&U.push({id:Math.random().toString(),type:"image",content:Z[1]})}else U.push({id:Math.random().toString(),type:"p",content:q});return U.length===0&&U.push({id:Date.now().toString(),type:"p",content:""}),U},o=W=>W.map($=>$.type==="h1"?`# ${$.content}`:$.type==="h2"?`## ${$.content}`:$.type==="ul"?`- ${$.content}`:$.type==="blockquote"?`> ${$.content}`:$.type==="image"?`![Image](${$.content})`:$.type==="image-prompt"?"":$.content).join(`

`),[u,c]=T.useState(()=>s(n)),[f,h]=T.useState(0),[v,y]=T.useState(!1),[w,A]=T.useState({top:0,left:0}),[E,C]=T.useState(""),[k,R]=T.useState(0),D=T.useRef([]);T.useEffect(()=>{const W=o(u);W!==n&&!u.some($=>$.type==="image-prompt")&&r(W)},[u]),T.useEffect(()=>{const W=o(u);n!==W&&c(s(n))},[n]);const P=[{label:"Heading 1",type:"h1",icon:dle,desc:"Big section header"},{label:"Heading 2",type:"h2",icon:fle,desc:"Medium subsection header"},{label:"Bullet List",type:"ul",icon:ule,desc:"Simple bulleted list"},{label:"Quote",type:"blockquote",icon:cle,desc:"Capture a quote"},{label:"Text",type:"p",icon:jG,desc:"Plain text paragraph"},{label:"Ask Co-Author",action:"ai",icon:Dd,desc:"Generate text with AI",highlight:!0},{label:"Generate Image",action:"img",icon:ale,desc:"Create art from description",highlight:!0}].filter(W=>W.label.toLowerCase().includes(E.toLowerCase())||W.desc.toLowerCase().includes(E.toLowerCase())),M=()=>{var U;const W=window.getSelection();if(W&&W.rangeCount>0){const Z=W.getRangeAt(0).getBoundingClientRect(),ie=(U=D.current[f])==null?void 0:U.closest(".editor-container");if(ie){const be=ie.getBoundingClientRect();A({top:Z.bottom-be.top+8,left:Z.left-be.left}),y(!0),C(""),R(0);return}}const $=D.current[f];$&&(A({top:$.offsetTop+$.clientHeight+8,left:$.offsetLeft}),y(!0),C(""),R(0))},B=()=>{y(!1),C(""),R(0)},z=W=>{const $=[...u];if($[f].content="",W.action)if(W.action==="img")$[f].type="image-prompt",c($),B();else{c($),B();const U=window.prompt("Instruction for Co-Author:");U&&i(U)}else $[f].type=W.type,c($),B(),setTimeout(()=>{var U;return(U=D.current[f])==null?void 0:U.focus()},0)},K=(W,$)=>{var U,q;if(v){if(W.key==="ArrowDown"){W.preventDefault(),R(Z=>(Z+1)%P.length);return}if(W.key==="ArrowUp"){W.preventDefault(),R(Z=>(Z-1+P.length)%P.length);return}if(W.key==="Enter"){W.preventDefault(),P[k]&&z(P[k]);return}if(W.key==="Escape"){W.preventDefault(),B();return}}if(W.key==="Enter"&&!W.shiftKey){W.preventDefault();const Z={id:Date.now().toString(),type:"p",content:""},ie=[...u];ie.splice($+1,0,Z),c(ie),h($+1),setTimeout(()=>{var be;return(be=D.current[$+1])==null?void 0:be.focus()},0)}else if(W.key==="Backspace"&&u[$].content===""){if(W.preventDefault(),u.length>1){const Z=[...u];Z.splice($,1),c(Z),h(Math.max(0,$-1)),setTimeout(()=>{var ie;return(ie=D.current[Math.max(0,$-1)])==null?void 0:ie.focus()},0)}}else W.key==="ArrowUp"&&!v?$>0&&(W.preventDefault(),h($-1),(U=D.current[$-1])==null||U.focus()):W.key==="ArrowDown"&&!v&&$<u.length-1&&(W.preventDefault(),h($+1),(q=D.current[$+1])==null||q.focus())},G=(W,$)=>{const U=W.currentTarget.innerText,q=[...u];q[$].content=U,c(q),U.startsWith("/")?(v||M(),C(U.substring(1)),R(0)):v&&B()},Y=(W,$)=>{if(!$.trim())return;a($);const U=[...u];U[W]={...U[W],type:"p",content:`*Creating visual: "${$}"...*`};const q={id:Date.now().toString(),type:"p",content:""};U.splice(W+1,0,q),c(U),h(W+1),setTimeout(()=>{var Z;return(Z=D.current[W+1])==null?void 0:Z.focus()},0)},te=W=>{const $=[...u];$[W]={...$[W],type:"p",content:""},c($),setTimeout(()=>{var U;return(U=D.current[W])==null?void 0:U.focus()},0)};return g.jsxs("div",{className:"editor-container w-full max-w-4xl mx-auto min-h-screen relative font-sans flex flex-col pt-10 pb-32",children:[g.jsx("div",{className:"px-12 mb-8 group",children:g.jsx("input",{type:"text",value:t,onChange:W=>e(W.target.value),className:"w-full bg-transparent text-5xl font-bold text-white border-none outline-none placeholder-neutral-700 leading-tight",placeholder:"Untitled"})}),g.jsx("div",{className:"px-12 relative flex-1",children:u.map((W,$)=>g.jsxs("div",{className:"group relative mb-2",children:[W.type!=="image-prompt"&&g.jsx("div",{className:"absolute -left-8 top-1 opacity-0 group-hover:opacity-100 cursor-grab text-neutral-600 hover:text-white transition-opacity select-none",children:g.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:"::"})}),W.type==="image"?g.jsx("div",{className:"rounded-lg overflow-hidden border border-white/10 my-4 bg-black/20",children:g.jsx("img",{src:W.content,alt:"Generated",className:"w-full h-auto"})}):W.type==="image-prompt"?g.jsxs("div",{className:"my-4 p-1.5 pl-3 bg-[#151515] border border-white/20 rounded-full flex items-center gap-3 w-full max-w-xl shadow-2xl animate-fade-in focus-within:border-white/40 focus-within:ring-1 focus-within:ring-white/20 transition-all",children:[g.jsx(Dd,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}),g.jsx("input",{autoFocus:!0,type:"text",placeholder:"Describe the image (e.g. A cyberpunk city in rain)...",className:"flex-1 bg-transparent border-none outline-none text-sm text-white placeholder-neutral-500 h-8 min-w-0",value:W.content,onChange:U=>{const q=[...u];q[$].content=U.target.value,c(q)},onKeyDown:U=>{var q,Z;U.key==="Enter"&&(U.preventDefault(),Y($,W.content)),U.key==="Escape"&&(U.preventDefault(),te($)),U.key==="ArrowUp"&&$>0&&(U.preventDefault(),(q=D.current[$-1])==null||q.focus()),U.key==="ArrowDown"&&$<u.length-1&&(U.preventDefault(),(Z=D.current[$+1])==null||Z.focus())}}),g.jsxs("div",{className:"flex items-center gap-2 pr-1",children:[g.jsx("button",{onClick:()=>Y($,W.content),className:"px-6 py-2 bg-white text-black rounded-full text-[10px] font-bold uppercase tracking-widest hover:bg-neutral-200 transition-all shadow-[0_0_15px_rgba(255,255,255,0.3)] hover:scale-105 active:scale-95 flex-shrink-0",title:"Generate Visual",children:"ENTER"}),g.jsx("button",{onClick:()=>te($),className:"w-8 h-8 rounded-full text-neutral-500 hover:text-white flex items-center justify-center transition-colors hover:bg-white/10",title:"Cancel",children:g.jsx(Id,{className:"w-4 h-4"})})]})]}):g.jsx("div",{ref:U=>{D.current[$]=U},contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:U=>K(U,$),onInput:U=>G(U,$),onFocus:()=>h($),className:`w-full outline-none empty:before:content-[attr(data-placeholder)] empty:before:text-neutral-700
                                ${W.type==="h1"?"text-4xl font-bold text-white mb-4 mt-6":W.type==="h2"?"text-2xl font-bold text-neutral-200 mb-3 mt-4":W.type==="ul"?"list-disc list-inside text-lg text-neutral-300 pl-4 border-l-2 border-transparent":W.type==="blockquote"?"text-xl italic text-neutral-400 border-l-4 border-white/20 pl-4 py-2 my-4":"text-lg text-neutral-300 leading-relaxed"}
                            `,"data-placeholder":W.type==="p"&&$===0&&u.length===1?"Start writing or type '/' for commands...":"Type '/' for commands",children:W.content})]},W.id))}),v&&g.jsxs("div",{className:"absolute z-50 w-72 bg-[#121212]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-[0_10px_40px_rgba(0,0,0,0.8)] overflow-hidden animate-slide-up origin-top-left flex flex-col ring-1 ring-white/10",style:{top:w.top,left:w.left},children:[g.jsxs("div",{className:"px-3 py-2 text-[10px] font-bold text-neutral-500 uppercase tracking-widest border-b border-white/5 flex justify-between items-center bg-white/[0.02]",children:[g.jsx("span",{children:"Blocks"}),g.jsx("button",{onClick:B,className:"hover:text-white transition-colors",children:g.jsx(Id,{className:"w-3 h-3"})})]}),g.jsx("div",{className:"p-1 max-h-[320px] overflow-y-auto custom-scrollbar",children:P.length>0?P.map((W,$)=>g.jsxs("button",{onMouseDown:U=>{U.preventDefault(),z(W)},onMouseEnter:()=>R($),className:`w-full flex items-center gap-3 p-2 rounded-lg text-left transition-colors group cursor-pointer ${$===k?"bg-white/10":"hover:bg-white/5"}`,children:[g.jsx("div",{className:`w-10 h-10 rounded border flex items-center justify-center transition-colors shadow-sm ${W.highlight?"bg-indigo-500/20 border-indigo-500/30 text-indigo-400":"bg-white/5 border-white/10 text-white"}`,children:g.jsx(W.icon,{className:"w-5 h-5"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("div",{className:`text-sm font-bold truncate ${W.highlight?"text-indigo-300":"text-white"}`,children:W.label}),g.jsx("div",{className:"text-[10px] text-neutral-500 truncate",children:W.desc})]})]},W.label)):g.jsx("div",{className:"p-4 text-center text-neutral-500 text-xs",children:"No matching commands"})})]})]})},vEe=({isOpen:t,onClose:e,content:n,isStreaming:r,chapterTitle:i})=>{const a=T.useRef(null),[s,o]=T.useState(""),[u,c]=T.useState({tps:0,stability:100,sync:0}),[f,h]=T.useState(null),[v,y]=T.useState(!1);if(T.useEffect(()=>{if(a.current){const A=a.current;A.scrollHeight-A.scrollTop-A.clientHeight<300&&A.scrollTo({top:A.scrollHeight,behavior:"smooth"})}},[s]),T.useEffect(()=>{if(!t)return;o(n);const A=n.match(/!\[.*?\]\((.*?)\)/g);if(A){const C=A[A.length-1].match(/\((.*?)\)/);C&&C[1]!==f&&(y(!0),setTimeout(()=>{h(C[1]),y(!1)},2e3))}if(r){const E=setInterval(()=>{c({tps:Math.floor(Math.random()*40)+90,stability:98+Math.random()*2,sync:Math.min(100,u.sync+2)})},800);return()=>clearInterval(E)}else c(E=>({...E,sync:100,tps:0}))},[n,t,r]),!t)return null;const w=()=>s.split(/(!\[.*?\]\(.*?\))/g).map((E,C)=>{var k,R;if(E.match(/!\[.*?\]\(.*?\)/)){const D=(k=E.match(/\((.*?)\)/))==null?void 0:k[1],I=((R=E.match(/!\[(.*?)\]/))==null?void 0:R[1])||"Visual Asset";if(!D)return null;const P=D===f&&v;return g.jsxs("div",{className:"my-12 w-full flex flex-col items-center",children:[g.jsxs("div",{className:`
                          relative w-full max-w-3xl aspect-video rounded-lg overflow-hidden transition-all duration-1000
                          ${P?"scale-95 opacity-80 blur-sm":"scale-100 opacity-100 blur-0 shadow-2xl shadow-indigo-500/10"}
                      `,children:[P&&g.jsx("div",{className:"absolute inset-0 z-10 bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10",children:g.jsxs("div",{className:"flex flex-col items-center gap-3",children:[g.jsx(Dd,{className:"w-6 h-6 text-white animate-spin-slow"}),g.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-white/70",children:"Materializing Visual..."})]})}),g.jsx("img",{src:D,alt:I,className:"w-full h-full object-cover animate-fade-in"}),g.jsx("div",{className:"absolute top-0 left-0 right-0 h-12 bg-gradient-to-b from-black/60 to-transparent pointer-events-none"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-black/60 to-transparent pointer-events-none"})]}),g.jsxs("span",{className:"mt-4 text-[10px] uppercase tracking-widest text-neutral-600 font-medium",children:["Fig. ",C+1,"  ",I]})]},C)}return g.jsx("div",{className:"animate-slide-up",children:E.split(`
`).map((D,I)=>D.trim()?D.startsWith("# ")?g.jsx("h1",{className:"text-4xl md:text-5xl font-serif text-white font-medium mb-8 mt-12 leading-tight tracking-tight",children:D.replace("# ","")},I):D.startsWith("## ")?g.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-white/90 mb-6 mt-10 leading-snug",children:D.replace("## ","")},I):g.jsx("p",{className:"mb-6 text-lg md:text-xl leading-relaxed text-neutral-300 font-serif font-light tracking-wide mix-blend-screen",children:D.replace(/\*\*(.*?)\*\*/g,(P,M)=>M)},I):g.jsx("div",{className:"h-6"},I))},C)});return g.jsxs("div",{className:"fixed inset-0 z-[100] bg-black text-white overflow-hidden flex flex-col font-sans",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[g.jsx("div",{className:`
                absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-indigo-900/20 rounded-full blur-[120px] transition-all duration-[2000ms]
                ${r?"opacity-60 scale-110 translate-y-10":"opacity-30 scale-100"}
            `}),g.jsx("div",{className:`
                absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-violet-900/10 rounded-full blur-[150px] transition-all duration-[3000ms]
                ${r?"opacity-50 scale-105 -translate-y-10":"opacity-20 scale-100"}
            `}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"})]}),g.jsxs("header",{className:"relative z-20 h-20 px-8 flex items-center justify-between backdrop-blur-sm",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:`absolute -inset-2 bg-white/5 rounded-full blur-md transition-opacity duration-500 ${r?"opacity-100":"opacity-0"}`}),g.jsx(Ni,{className:"w-10 h-10 border border-white/10 bg-black/50 shadow-2xl",isActive:r})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-sm font-bold tracking-[0.2em] text-white uppercase",children:"Co-Author"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r?"bg-green-500 animate-pulse":"bg-neutral-600"}`}),g.jsx("p",{className:"text-[10px] text-neutral-500 font-medium uppercase tracking-widest",children:r?"Neural Engine Active":"Standby"})]})]})]}),g.jsxs("button",{onClick:e,className:"group flex items-center gap-3 px-6 py-2.5 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 transition-all hover:scale-105 active:scale-95 backdrop-blur-md",children:[g.jsx("span",{className:"text-xs font-bold tracking-widest text-neutral-400 group-hover:text-white transition-colors",children:"EXIT STUDIO"}),g.jsx(Id,{className:"w-4 h-4 text-neutral-500 group-hover:text-white transition-colors"})]})]}),g.jsx("main",{className:"relative z-10 flex-1 overflow-hidden flex justify-center",children:g.jsxs("div",{ref:a,className:"w-full max-w-4xl h-full overflow-y-auto custom-scrollbar px-6 md:px-12 py-12 scroll-smooth",children:[g.jsx("div",{className:"flex justify-center mb-16 opacity-0 animate-fade-in",style:{animationDelay:"0.2s"},children:g.jsx("div",{className:"px-4 py-1.5 rounded-full border border-white/10 bg-white/[0.02] backdrop-blur-md",children:g.jsxs("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-[0.2em]",children:["Drafting: ",i]})})}),g.jsxs("article",{className:"prose prose-invert max-w-none",children:[w(),r&&g.jsx("div",{className:"inline-block w-1 h-6 ml-1 bg-gradient-to-t from-transparent via-white to-transparent opacity-80 animate-pulse align-middle shadow-[0_0_10px_rgba(255,255,255,0.5)]"})]}),g.jsx("div",{className:"h-32"})]})}),g.jsx("div",{className:"absolute bottom-8 left-0 right-0 z-30 flex justify-center pointer-events-none",children:g.jsxs("div",{className:"flex items-center gap-6 px-8 py-3 bg-[#0a0a0a]/80 backdrop-blur-xl border border-white/10 rounded-full shadow-[0_20px_50px_rgba(0,0,0,0.5)] pointer-events-auto transition-transform duration-500 hover:scale-105",children:[g.jsxs("div",{className:"flex items-center gap-3 border-r border-white/5 pr-6",children:[g.jsx(FP,{className:"w-4 h-4 text-neutral-500"}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-sm font-bold text-white tabular-nums leading-none",children:u.tps}),g.jsx("span",{className:"text-[8px] uppercase tracking-widest text-neutral-600 font-bold",children:"Tokens/s"})]})]}),g.jsxs("div",{className:"flex items-center gap-3 border-r border-white/5 pr-6",children:[g.jsx(GA,{className:"w-4 h-4 text-neutral-500"}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:"text-sm font-bold text-white tabular-nums leading-none",children:[u.stability.toFixed(0),"%"]}),g.jsx("span",{className:"text-[8px] uppercase tracking-widest text-neutral-600 font-bold",children:"Coherence"})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(a1,{className:`w-4 h-4 transition-colors ${r?"text-green-500":"text-neutral-500"}`}),g.jsx("div",{className:"w-24 h-1 bg-white/10 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-out shadow-[0_0_10px_white]",style:{width:`${u.sync}%`}})})]})]})})]})},{useNavigate:yEe,useLocation:bEe}=Ri,$2=()=>{var Oe;const{currentUser:t,addCreatedBook:e}=ki(),n=yEe(),i=((Oe=bEe().state)==null?void 0:Oe.initialPrompt)||"",[a,s]=T.useState("editor"),[o,u]=T.useState("chat"),[c,f]=T.useState(!1),[h,v]=T.useState([{id:"1",title:"Chapter 1: The Beginning",content:"",pageNumber:1}]),[y,w]=T.useState("1"),A=T.useMemo(()=>h.find(he=>he.id===y)||h[0],[h,y]),[E,C]=T.useState([]),[k,R]=T.useState(""),[D,I]=T.useState(!1),[P,M]=T.useState(!1),[B,z]=T.useState("idle"),[K,G]=T.useState([]),[Y,te]=T.useState([]),[W,$]=T.useState([]),U=T.useRef(null),q=T.useRef([]),Z=T.useRef(null),ie=T.useRef(null),be=T.useRef(null),V=T.useRef(null);T.useEffect(()=>{if(!Z.current){const he=`You are the Co-Author engine (v3.0) for co-writter.
        Current User: ${(t==null?void 0:t.name)||"Author"}.
        Project Context: Active Chapter "${A.title}".

        Your Goal: Assist in writing a high-quality book.
        - If asked to write, use the 'write_content' tool.
        - If asked for an image, use 'generate_image'.
        - If asked to plan, use 'propose_blueprint'.

        Be concise in chat, verbose in writing.`,Ee=UG(he);Ee&&(Z.current=Ee,C([{id:"sys-init",role:"ai",text:"Engine Online. Ready to create."}]),i&&setTimeout(()=>Ae(void 0,i),500))}},[]),T.useEffect(()=>{var he;(he=ie.current)==null||he.scrollIntoView({behavior:"smooth"})},[E,o]),T.useEffect(()=>{be.current&&(be.current.style.height="auto",be.current.style.height=Math.min(be.current.scrollHeight,120)+"px")},[k]),T.useEffect(()=>{if(!D)if(B==="planning")if(h.length>1){const he=h.map(Ee=>Ee.id);G(he),z("writing_sequence"),J(he)}else z("idle");else B==="writing_sequence"&&(K.length>0?J(K):(z("idle"),C(he=>[...he,{id:Date.now().toString(),role:"system",text:"Auto-Pilot Sequence Complete. Book Generated."}])))},[D,B,h]);const J=he=>{if(he.length===0)return;const Ee=he[0],Be=he.slice(1);G(Be),w(Ee);const nt=h.find(gt=>gt.id===Ee);nt&&setTimeout(()=>{const gt=`You are the Lead Writer. Write the COMPLETE content for Chapter ${nt.pageNumber}: "${nt.title}".
              Context Summary: ${nt.content.substring(0,200)}...
              
              Requirements:
              1. Write extensive, immersive content (approx 800-1000 words).
              2. Use 'write_content' tool to save it.
              3. IF the scene has visual potential, use 'generate_image' to create 1 illustration.`;Ae(void 0,gt)},1e3)},oe=async he=>new Promise((Ee,Be)=>{const nt=new FileReader;nt.onloadend=()=>{const gt=nt.result.split(",")[1];Ee({inlineData:{data:gt,mimeType:he.type}})},nt.onerror=Be,nt.readAsDataURL(he)}),ve=he=>{if(he.target.files){const Ee=Array.from(he.target.files);te(nt=>[...nt,...Ee]);const Be=Ee.map(nt=>URL.createObjectURL(nt));$(nt=>[...nt,...Be])}},xe=he=>{te(Ee=>Ee.filter((Be,nt)=>nt!==he)),$(Ee=>(URL.revokeObjectURL(Ee[he]),Ee.filter((Be,nt)=>nt!==he)))},_e=async(he,Ee)=>{console.log(`[Studio] Executing Tool: ${he}`,Ee);try{if(he==="write_content"){const Be=Ee.content;return v(nt=>nt.map(gt=>gt.id===y?{...gt,content:Be}:gt)),"Content updated successfully in the editor."}if(he==="generate_image"){const Be=Ee.prompt;C(gt=>[...gt,{id:Date.now().toString(),role:"system",text:`Generating visual: ${Be}...`}]);const nt=await BG(Be,"Cinematic",A.title,t==null?void 0:t.name);if("imageBytes"in nt){const gt=`data:image/jpeg;base64,${nt.imageBytes}`,hr=`

![${Be}](${gt})

`;return v(gn=>gn.map(tr=>tr.id===y?{...tr,content:tr.content+hr}:tr)),"Image generated and inserted into the document."}return"Image generation failed."}if(he==="propose_blueprint"){const Be=Ee.outline,nt=Ee.title,gt=Be.map((hr,gn)=>({id:Date.now().toString()+gn,title:hr.title,content:`> **Summary**: ${hr.summary}

Start writing here...`,pageNumber:gn+1}));return v(gt),gt.length>0&&w(gt[0].id),`Blueprint applied. Book title set to "${nt}" with ${gt.length} chapters.`}return"Tool executed."}catch(Be){return console.error("Tool Execution Error",Be),`Error executing tool: ${Be.message}`}},Ae=async(he,Ee)=>{const Be=Ee||k;if(!Be.trim()&&Y.length===0)return;const nt=[...Y],gt=[...W];R(""),te([]),$([]),be.current&&(be.current.style.height="auto");const hr=Date.now().toString();(!B||B==="idle")&&C(tr=>[...tr,{id:hr,role:"user",text:Be,attachments:gt}]),I(!0);const gn=(Date.now()+1).toString();C(tr=>[...tr,{id:gn,role:"ai",text:"",isStreaming:!0}]);try{if(!Z.current)throw new Error("Session lost");const tr=[];Be.trim()&&tr.push({text:Be});for(const Wt of nt){const Rt=await oe(Wt);tr.push(Rt)}const fl=await Z.current.sendMessageStream({message:tr});let Nt="",ns;for await(const Wt of fl){const Rt=Wt.text;Rt&&(Nt+=Rt,C(vn=>vn.map(Wn=>Wn.id===gn?{...Wn,text:Nt}:Wn))),Wt!=null&&Wt.functionCalls&&(ns=Wt.functionCalls)}const Bs=ns;if(Bs&&Bs.length>0){C(Wn=>Wn.map(Vi=>Vi.id===gn?{...Vi,isToolUse:!0,text:Vi.text+(Vi.text?`

`:"")+"*Executing Actions...*"}:Vi));const Wt=[];for(const Wn of Bs){const Vi=await _e(Wn.name,Wn.args);Wt.push({functionResponse:{name:Wn.name,response:{result:Vi}}})}const Rt=await Z.current.sendMessageStream({message:Wt});let vn="";for await(const Wn of Rt){const Vi=Wn.text;Vi&&(vn+=Vi,C(Wd=>Wd.map(zs=>zs.id===gn?{...zs,text:Nt+(Nt?`

`:"")+vn,isToolUse:!1}:zs)))}}C(Wt=>Wt.map(Rt=>Rt.id===gn?{...Rt,isStreaming:!1}:Rt))}catch(tr){console.error(tr),C(fl=>fl.map(Nt=>Nt.id===gn?{...Nt,text:"Connection interrupted. Please retry.",isStreaming:!1}:Nt))}finally{I(!1)}},pt=async()=>{try{const he=await navigator.mediaDevices.getUserMedia({audio:!0}),Ee=new MediaRecorder(he);U.current=Ee,q.current=[],Ee.ondataavailable=Be=>{Be.data.size>0&&q.current.push(Be.data)},Ee.onstop=async()=>{const Be=new Blob(q.current,{type:"audio/webm"}),nt=new FileReader;nt.readAsDataURL(Be),nt.onloadend=async()=>{const gt=nt.result.split(",")[1];I(!0);try{const hr=await yle(gt,"audio/webm");hr&&R(gn=>gn+(gn?" ":"")+hr)}catch(hr){console.error("Transcription failed",hr)}I(!1)},he.getTracks().forEach(gt=>gt.stop())},Ee.start(),M(!0)}catch(he){console.error("Mic access denied",he),alert("Could not access microphone.")}},de=()=>{U.current&&P&&(U.current.stop(),M(!1))},Re=()=>{if(f(!0),h.length<=1&&h[0].content.length<200){const Ee=`You are the Lead Architect. Create a comprehensive, best-selling book outline for a book titled "${h[0].title}". 
          Use the 'propose_blueprint' tool to define the chapters. 
          The outline must have at least 5 chapters.`;z("planning"),Ae(void 0,Ee)}else{const Ee=h.map(Be=>Be.id);G(Ee),z("writing_sequence"),J(Ee)}},Xe=()=>{const he={id:`gen-${Date.now()}`,title:h[0].title||"Untitled Draft",author:(t==null?void 0:t.name)||"Anonymous",description:"Created with co-writter.",price:0,coverImageUrl:"https://images.unsplash.com/photo-1543002588-bfa74002ed7e?auto=format&fit=crop&q=80&w=800",genre:"Draft",sellerId:(t==null?void 0:t.id)||"guest",publicationDate:new Date().toISOString().split("T")[0],pages:h};e(he),n("/dashboard")},me=A.content.trim().split(/\s+/).filter(he=>he.length>0).length,$e=E.slice().reverse().find(he=>he.role==="ai");return g.jsxs("div",{className:"flex flex-col h-screen bg-black text-white overflow-hidden font-sans",children:[g.jsx(vEe,{isOpen:c,onClose:()=>{f(!1),z("idle"),G([])},content:$e?$e.text:"Initializing Neural Link...",isStreaming:D,chapterTitle:A.title}),g.jsx(UP,{children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("button",{onClick:Re,disabled:D||B!=="idle",className:"flex items-center gap-2 px-4 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-[10px] font-bold uppercase hover:bg-indigo-500/20 transition-colors disabled:opacity-50 text-indigo-300",children:[D?g.jsx(Dd,{className:"w-3 h-3 animate-spin"}):g.jsx(GA,{className:"w-3 h-3"}),B!=="idle"?"Auto-Pilot Active":"Auto-Pilot"]}),g.jsx("div",{className:"h-4 w-px bg-white/10 mx-1"}),g.jsx("button",{onClick:Xe,className:"bg-white text-black px-6 py-1.5 rounded-full text-[10px] font-bold uppercase hover:bg-neutral-200 transition-colors shadow-[0_0_15px_rgba(255,255,255,0.15)]",children:"Save Draft"})]})}),g.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[g.jsxs("aside",{className:`
                ${a==="tools"?"flex":"hidden"} md:flex
                w-[360px] bg-[#09090b] border-r border-white/10 flex-col z-20 shadow-2xl
            `,children:[g.jsxs("div",{className:"flex border-b border-white/10",children:[g.jsx("button",{onClick:()=>u("chat"),className:`flex-1 py-4 text-[10px] font-bold uppercase tracking-widest transition-colors ${o==="chat"?"text-white bg-white/5 border-b-2 border-white":"text-neutral-500 hover:text-neutral-300"}`,children:"Co-Author"}),g.jsx("button",{onClick:()=>u("outline"),className:`flex-1 py-4 text-[10px] font-bold uppercase tracking-widest transition-colors ${o==="outline"?"text-white bg-white/5 border-b-2 border-white":"text-neutral-500 hover:text-neutral-300"}`,children:"Outline"})]}),g.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:[o==="chat"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-0 bg-[#0c0c0e]",children:[E.map((he,Ee)=>{var Be;return g.jsxs("div",{className:`py-12 px-10 border-b border-white/[0.02] last:border-0 transition-all duration-500 group animate-fade-in ${he.role==="ai"?"bg-[#0f0f13]":""}`,children:[g.jsxs("div",{className:"flex items-start justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[he.role==="user"?g.jsx("div",{className:"w-9 h-9 rounded-xl bg-neutral-900 flex items-center justify-center border border-white/10 shadow-lg text-neutral-400 text-[11px] font-black uppercase transition-all group-hover:border-white/20",children:((Be=t==null?void 0:t.name)==null?void 0:Be.charAt(0))||"U"}):g.jsx("div",{className:"w-9 h-9 rounded-xl bg-indigo-500/10 flex items-center justify-center border border-indigo-500/20 shadow-[0_0_30px_rgba(99,102,241,0.08)] text-indigo-400 group-hover:scale-110 transition-transform",children:g.jsx(Dd,{className:"w-5 h-5 animate-pulse-slow"})}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:`text-[12px] font-black uppercase tracking-[0.25em] ${he.role==="user"?"text-neutral-500":"text-indigo-400"}`,children:he.role==="user"?"Author Context":"Neural Core v3"}),g.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g.jsx("span",{className:"text-[9px] text-neutral-700 font-mono",children:"LATENCY: 12ms"}),g.jsx("div",{className:"w-1 h-1 rounded-full bg-neutral-800"}),g.jsx("span",{className:"text-[9px] text-neutral-700 font-mono",children:"ENCRYPTION: AES-256"})]})]})]}),he.role==="ai"&&!he.isStreaming&&g.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0 flex gap-2",children:g.jsx("button",{className:"p-2.5 bg-white/5 hover:bg-white/10 rounded-xl text-neutral-500 hover:text-white transition-all",title:"Copy Content",children:g.jsx(Ci,{className:"w-4 h-4"})})})]}),g.jsxs("div",{className:`pl-14 text-[16px] leading-[1.8] font-light tracking-tight ${he.role==="user"?"text-white/90":"text-neutral-300"}`,children:[he.attachments&&he.attachments.length>0&&g.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:he.attachments.map((nt,gt)=>g.jsxs("div",{className:"relative group/img overflow-hidden rounded-[24px] border border-white/10 shadow-2xl bg-neutral-900",children:[g.jsx("img",{src:nt,alt:"attachment",className:"h-48 w-auto object-cover hover:scale-105 transition-transform duration-1000 cursor-zoom-in"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover/img:opacity-100 transition-opacity pointer-events-none"})]},gt))}),g.jsx("div",{className:"prose prose-invert prose-base max-w-none prose-p:mb-5 prose-p:last:mb-0",children:he.text}),he.isToolUse&&g.jsxs("div",{className:"mt-8 flex items-center gap-5 px-6 py-4 rounded-[24px] bg-white/[0.015] border border-white/[0.05] text-[10px] text-neutral-500 font-mono uppercase tracking-[0.3em] animate-pulse",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500 shadow-[0_0_15px_rgba(99,102,241,1)]"}),g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500/40"}),g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500/20"})]}),"Executing Creative Protocol..."]}),he.role==="ai"&&he.isStreaming&&Ee===E.length-1&&g.jsx("span",{className:"inline-block w-2.5 h-6 ml-3 bg-indigo-500 shadow-[0_0_20px_rgba(99,102,241,0.8)] animate-pulse align-middle rounded-sm"})]})]},he.id)}),g.jsx("div",{ref:ie})]}),g.jsxs("div",{className:"p-6 bg-[#09090b] border-t border-white/[0.05]",children:[W.length>0&&g.jsx("div",{className:"flex gap-2 mb-4 px-2 overflow-x-auto custom-scrollbar py-2",children:W.map((he,Ee)=>g.jsxs("div",{className:"relative group flex-shrink-0 animate-scale-up",children:[g.jsx("img",{src:he,alt:"preview",className:"h-20 w-20 object-cover rounded-2xl border-2 border-white/10 shadow-2xl transition-all group-hover:border-indigo-500/50"}),g.jsx("button",{onClick:()=>xe(Ee),className:"absolute -top-2 -right-2 w-6 h-6 flex items-center justify-center bg-black rounded-full text-white border border-white/20 hover:bg-red-500 hover:border-red-500 transition-all shadow-xl scale-0 group-hover:scale-100",children:g.jsx(Id,{className:"w-3.5 h-3.5"})})]},Ee))}),g.jsxs("div",{className:`relative transition-all duration-300 ${D?"opacity-50 grayscale":"opacity-100"}`,children:[g.jsxs("div",{className:`
                                        bg-[#141416] border rounded-[28px] p-2 flex flex-col group
                                        transition-all duration-500 shadow-[0_30px_60px_rgba(0,0,0,0.6)]
                                        ${D?"border-white/5":"border-white/10 focus-within:border-indigo-500/40 focus-within:shadow-[0_20px_80px_rgba(99,102,241,0.15)]"}
                                    `,children:[g.jsx("textarea",{ref:be,value:k,onChange:he=>R(he.target.value),placeholder:P?"Listening for your prompt...":"Message Co-Author...",className:"w-full bg-transparent border-none outline-none text-white text-[15px] placeholder-neutral-700 px-6 pt-5 pb-2 min-h-[70px] max-h-64 resize-none custom-scrollbar font-light leading-relaxed",rows:1,onKeyDown:he=>{he.key==="Enter"&&!he.shiftKey&&(he.preventDefault(),Ae())},disabled:D}),g.jsxs("div",{className:"flex items-center justify-between p-3 mt-1",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>{var he;return(he=V.current)==null?void 0:he.click()},disabled:D,className:"w-11 h-11 rounded-2xl bg-white/[0.03] hover:bg-white/[0.08] flex items-center justify-center text-neutral-500 hover:text-white transition-all active:scale-95 group/btn border border-white/5",title:"Upload Context",children:g.jsx(w0,{className:"w-5 h-5 group-hover/btn:scale-110 transition-transform"})}),g.jsx("button",{onMouseDown:pt,onMouseUp:de,onTouchStart:pt,onTouchEnd:de,disabled:D,className:`w-11 h-11 rounded-2xl flex items-center justify-center transition-all active:scale-95 group/btn border border-white/5 ${P?"bg-red-500/20 text-red-500 border-red-500/30":"bg-white/[0.03] text-neutral-500 hover:text-white"}`,title:"Voice Input",children:P?g.jsx(ile,{className:"w-5 h-5 animate-pulse"}):g.jsx(rle,{className:"w-5 h-5 group-hover/btn:scale-110 transition-transform"})})]}),g.jsx("button",{onClick:()=>Ae(),disabled:!k.trim()&&Y.length===0&&!D,className:`
                                                    h-11 px-8 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] transition-all overflow-hidden relative
                                                    ${!k.trim()&&!Y.length||D?"bg-neutral-900 text-neutral-700 cursor-not-allowed border border-white/5":"bg-white text-black hover:bg-neutral-200 active:scale-95 shadow-[0_0_30px_rgba(255,255,255,0.15)]"}
                                                `,children:D?g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-3.5 h-3.5 border-2 border-neutral-800 border-t-neutral-400 rounded-full animate-spin"}),"Syncing"]}):g.jsxs("div",{className:"flex items-center gap-3",children:["Submit ",g.jsx(LG,{className:"w-4 h-4"})]})})]})]}),g.jsx("input",{type:"file",ref:V,className:"hidden",onChange:ve,accept:"image/*,application/pdf",multiple:!0}),g.jsxs("div",{className:"flex justify-between items-center mt-3 px-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-google-blue shadow-[0_0_5px_rgba(66,133,244,0.5)]"}),g.jsx("span",{className:"text-[9px] text-neutral-500 font-black uppercase tracking-[0.2em]",children:"Neural Engine v3.0"})]}),g.jsx("div",{className:"flex items-center gap-3",children:g.jsxs("span",{className:"text-[9px] text-neutral-600 font-mono tracking-widest uppercase",children:["Context: ",k.length," Tokens"]})})]})]})]})]}),o==="outline"&&g.jsxs("div",{className:"p-4 space-y-2 overflow-y-auto custom-scrollbar flex-1",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[g.jsx("h3",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:"Chapters"}),g.jsxs("span",{className:"text-[10px] text-neutral-600 font-mono",children:[h.length," Pages"]})]}),h.map((he,Ee)=>g.jsxs("button",{onClick:()=>w(he.id),className:`w-full text-left p-4 rounded-xl border text-sm transition-all group ${y===he.id?"bg-white/10 border-white/20 text-white shadow-lg":"border-transparent text-neutral-500 hover:bg-white/5 hover:text-neutral-300"}`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-1",children:[g.jsxs("span",{className:"text-[9px] uppercase font-bold opacity-50 tracking-wider",children:["Chapter ",Ee+1]}),y===he.id&&g.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_5px_rgba(34,197,94,0.8)]"})]}),g.jsx("span",{className:"font-bold truncate block",children:he.title})]},he.id)),g.jsxs("button",{onClick:()=>{const he=Date.now().toString();v([...h,{id:he,title:"New Chapter",content:"",pageNumber:h.length+1}]),w(he)},className:"w-full py-4 border border-dashed border-white/10 text-neutral-500 text-xs font-bold uppercase rounded-xl hover:border-white/30 hover:text-white mt-4 transition-all flex items-center justify-center gap-2",children:[g.jsx(w0,{className:"w-3 h-3"})," Add Chapter"]})]})]})]}),g.jsxs("main",{className:"flex-1 flex flex-col relative bg-[#000000]",children:[g.jsxs("div",{className:"h-10 bg-[#050505] border-b border-white/5 flex items-center justify-between px-6 select-none shrink-0",children:[g.jsx("div",{className:"flex items-center gap-4",children:g.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-[0.2em] truncate max-w-[200px]",children:A.title})}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-[9px] font-mono text-neutral-600 bg-white/5 px-2 py-0.5 rounded border border-white/5",children:[me," WORDS"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${D?"bg-indigo-500 animate-pulse":"bg-green-500"} shadow-glow`}),g.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:D?"Syncing...":"Saved"})]})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar scroll-smooth",children:g.jsx(gEe,{title:A.title,onTitleChange:he=>v(Ee=>Ee.map(Be=>Be.id===y?{...Be,title:he}:Be)),content:A.content,onContentChange:he=>v(Ee=>Ee.map(Be=>Be.id===y?{...Be,content:he}:Be)),onTriggerAI:he=>Ae(void 0,`Write content: ${he}`),onTriggerImageGen:he=>Ae(void 0,`Generate an image: ${he}`)})})]})]})]})},ji=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ak=[.001,0,0,.001,0,0],V2=1.35,qa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Zo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},j0="pdfjs_internal_editor_",at={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},St={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},OW={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Kr={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},p0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Jn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},tm={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Zx={ERRORS:0,WARNINGS:1,INFOS:5},fv={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},GS={moveTo:0,lineTo:1,curveTo:2,closePath:3},jW={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let N_=Zx.WARNINGS;function xEe(t){Number.isInteger(t)&&(N_=t)}function wEe(){return N_}function R_(t){N_>=Zx.INFOS&&console.info(`Info: ${t}`)}function st(t){N_>=Zx.WARNINGS&&console.warn(`Warning: ${t}`)}function fn(t){throw new Error(t)}function At(t,e){t||fn(e)}function SEe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function mI(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=TEe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return SEe(r)?r:null}function gI(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&mI(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function dt(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const op=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class Qz extends op{constructor(e,n){super(e,"PasswordException"),this.code=n}}class W2 extends op{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class VE extends op{constructor(e){super(e,"InvalidPDFException")}}class F0 extends op{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class EEe extends op{constructor(e){super(e,"FormatError")}}class Fu extends op{constructor(e){super(e,"AbortException")}}function FW(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&fn("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function ew(t){typeof t!="string"&&fn("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function AEe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function _Ee(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function CEe(){try{return new Function(""),!0}catch{return!1}}class zr{static get isLittleEndian(){return dt(this,"isLittleEndian",_Ee())}static get isEvalSupported(){return dt(this,"isEvalSupported",CEe())}static get isOffscreenCanvasSupported(){return dt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return dt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return dt(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return dt(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const Y2=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Cu,f1,_k;class Ie{static makeHexColor(e,n,r){return`#${Y2[e]}${Y2[n]}${Y2[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],a=e[r+1];e[r]=i*n[0]+a*n[2]+n[4],e[r+1]=i*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],a=n[1],s=n[2],o=n[3],u=n[4],c=n[5];for(let f=0;f<6;f+=2){const h=e[r+f],v=e[r+f+1];e[r+f]=h*i+v*s+u,e[r+f+1]=h*a+v*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,r){const i=n[0],a=n[1],s=n[2],o=n[3],u=n[4],c=n[5],f=e[0],h=e[1],v=e[2],y=e[3];let w=i*f+u,A=w,E=i*v+u,C=E,k=o*h+c,R=k,D=o*y+c,I=D;if(a!==0||s!==0){const P=a*f,M=a*v,B=s*h,z=s*y;w+=B,C+=B,E+=z,A+=z,k+=P,I+=P,D+=M,R+=M}r[0]=Math.min(r[0],w,E,A,C),r[1]=Math.min(r[1],k,D,R,I),r[2]=Math.max(r[2],w,E,A,C),r[3]=Math.max(r[3],k,D,R,I)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],a=e[2],s=e[3],o=r**2+i**2,u=r*a+i*s,c=a**2+s**2,f=(o+c)/2,h=Math.sqrt(f**2-(o*c-u**2));n[0]=Math.sqrt(f+h||1),n[1]=Math.sqrt(f-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,a){a[0]=Math.min(a[0],e,r),a[1]=Math.min(a[1],n,i),a[2]=Math.max(a[2],e,r),a[3]=Math.max(a[3],n,i)}static bezierBoundingBox(e,n,r,i,a,s,o,u,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,u),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,u),F(this,Cu,_k).call(this,e,r,a,o,n,i,s,u,3*(-e+3*(r-a)+o),6*(e-2*r+a),3*(r-e),c),F(this,Cu,_k).call(this,e,r,a,o,n,i,s,u,3*(-n+3*(i-s)+u),6*(n-2*i+s),3*(i-n),c)}}Cu=new WeakSet,f1=function(e,n,r,i,a,s,o,u,c,f){if(c<=0||c>=1)return;const h=1-c,v=c*c,y=v*c,w=h*(h*(h*e+3*c*n)+3*v*r)+y*i,A=h*(h*(h*a+3*c*s)+3*v*o)+y*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],A),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],A)},_k=function(e,n,r,i,a,s,o,u,c,f,h,v){if(Math.abs(c)<1e-12){Math.abs(f)>=1e-12&&F(this,Cu,f1).call(this,e,n,r,i,a,s,o,u,-h/f,v);return}const y=f**2-4*h*c;if(y<0)return;const w=Math.sqrt(y),A=2*c;F(this,Cu,f1).call(this,e,n,r,i,a,s,o,u,(-f+w)/A,v),F(this,Cu,f1).call(this,e,n,r,i,a,s,o,u,(-f-w)/A,v)},j(Ie,Cu);function TEe(t){return decodeURIComponent(escape(t))}let K2=null,Zz=null;function UW(t){return K2||(K2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Zz=new Map([["","t"]])),t.replaceAll(K2,(e,n,r)=>n?n.normalize("NFKC"):Zz.get(r))}function vI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),FW(t)}const yI="pdfjs_internal_id_";function NEe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const s=a.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const u of a)if(!(typeof u=="number"||o&&u===null))return!1;return!0}function bi(t,e,n){return Math.min(Math.max(t,e),n)}function BW(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(FW(t))}function REe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):ew(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class U0{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){var u;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(U0.shouldBuildText(o))(u=a==null?void 0:a.attributes)!=null&&u.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const c of a.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class bI{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of r.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const u=o.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[u,c]of Object.entries(s))if(c!=null)switch(u){case"class":c.length&&e.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,c)}o&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var h,v;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const o=a!=="richText",u=e.div;if(u.append(s),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=y}o&&u.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const y=document.createTextNode(i.value);s.append(y),o&&U0.shouldBuildText(i.name)&&c.push(y)}return{textDivs:c}}const f=[[i,-1,s]];for(;f.length>0;){const[y,w,A]=f.at(-1);if(w+1===y.children.length){f.pop();continue}const E=y.children[++f.at(-1)[1]];if(E===null)continue;const{name:C}=E;if(C==="#text"){const R=document.createTextNode(E.value);c.push(R),A.append(R);continue}const k=(h=E==null?void 0:E.attributes)!=null&&h.xmlns?document.createElementNS(E.attributes.xmlns,C):document.createElement(C);if(A.append(k),E.attributes&&this.setAttributes({html:k,element:E,storage:n,intent:a,linkService:r}),((v=E.children)==null?void 0:v.length)>0)f.push([E,-1,k]);else if(E.value){const R=document.createTextNode(E.value);o&&U0.shouldBuildText(C)&&c.push(R),k.append(R)}}for(const y of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Dl="http://www.w3.org/2000/svg",Af=class Af{};Se(Af,"CSS",96),Se(Af,"PDF",72),Se(Af,"PDF_TO_CSS_UNITS",Af.CSS/Af.PDF);let Uu=Af;async function Pv(t,e="text"){if(qy(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class tw{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s,r*=n;const u=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let f,h,v,y;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,h=0,v=0,y=1;break;case 90:f=0,h=1,v=1,y=0;break;case 270:f=0,h=-1,v=-1,y=0;break;case 0:f=1,h=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(v=-v,y=-y);let w,A,E,C;f===0?(w=Math.abs(c-e[1])*r+a,A=Math.abs(u-e[0])*r+s,E=(e[3]-e[1])*r,C=(e[2]-e[0])*r):(w=Math.abs(u-e[0])*r+a,A=Math.abs(c-e[1])*r+s,E=(e[2]-e[0])*r,C=(e[3]-e[1])*r),this.transform=[f*r,h*r,v*r,y*r,w-f*r*u-v*r*c,A-h*r*u-y*r*c],this.width=E,this.height=C}get rawDims(){const e=this.viewBox;return dt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new tw({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){const r=[e,n];return Ie.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];Ie.applyTransform(n,this.transform);const r=[e[2],e[3]];return Ie.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return Ie.applyInverseTransform(r,this.transform),r}}class k_ extends op{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function nw(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function M_(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function zW(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function HW(t,e="document.pdf"){if(typeof t!="string")return e;if(nw(t))return st('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let u=decodeURIComponent(o);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:o):u}catch{return o}},a=/\.pdf$/i,s=r.pathname.split("/").at(-1);if(a.test(s))return i(s);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(a.test(c))return i(c);const u=Array.from(r.searchParams.keys()).reverse();for(const c of u)if(a.test(c))return i(c)}if(r.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(u)return i(u[0])}return e}class eH{constructor(){Se(this,"started",Object.create(null));Se(this,"times",[])}time(e){e in this.started&&st(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||st(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function qy(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function Za(t){t.preventDefault()}function Ln(t){t.preventDefault(),t.stopPropagation()}function kEe(t){console.log("Deprecated API usage: "+t)}var $0;class B0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;m(this,$0)||L(this,$0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=m(this,$0).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let u=parseInt(n[6],10);u=u>=0&&u<=59?u:0;const c=n[7]||"Z";let f=parseInt(n[8],10);f=f>=0&&f<=23?f:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(s+=f,o+=h):c==="+"&&(s-=f,o-=h),new Date(Date.UTC(r,i,a,s,o,u))}}$0=new WeakMap,j(B0,$0);function GW(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new tw({viewBox:a,userUnit:1,scale:e,rotation:n})}function Dv(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(st(`Not a valid color format: "${t}"`),[0,0,0])}function MEe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Dv(r))}e.remove()}function Dn(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function _o(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function jd(t,e,n=!1,r=!0){if(e instanceof tw){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=zr.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${a}px`,f=o?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,h=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(s.width=f,s.height=h):(s.width=h,s.height=f)}r&&t.setAttribute("data-main-rotation",e.rotation)}class vo{constructor(){const{pixelRatio:e}=vo;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,a=-1){let s=1/0,o=1/0,u=1/0;r=vo.capPixels(r,a),r>0&&(s=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,u=i/n);const c=Math.min(s,o,u);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const WE=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class PEe{static get isDarkMode(){var e;return dt(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class qW{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),dt(this,"commentForegroundColor",Dv(r))}}function $W(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function tH(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.max(n,r,i),s=Math.min(n,r,i),o=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const u=a-s;switch(e[1]=o<.5?u/(a+s):u/(2-a-s),a){case n:e[0]=((r-i)/u+(r<i?6:0))*60;break;case r:e[0]=((i-n)/u+2)*60;break;case i:e[0]=((n-r)/u+4)*60;break}}e[2]=o}function Ck(t,e){const n=t[0],r=t[1],i=t[2],a=(1-Math.abs(2*i-1))*r,s=a*(1-Math.abs(n/60%2-1)),o=i-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 2:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=a+o;break;case 5:case 6:e[0]=a+o,e[1]=o,e[2]=s+o;break}}function nH(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function rH(t,e,n){Ck(t,n),n.map(nH);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];Ck(e,n),n.map(nH);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const iH=new Map;function VW(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=iH.get(n);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),s=i.subarray(3,6);tH(t,s);const o=i.subarray(6,9);tH(e,o);const u=o[2]<.5,c=u?12:4.5;if(s[2]=u?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),rH(s,o,a)<c){let f,h;u?(f=s[2],h=1):(f=0,h=s[2]);const v=.005;for(;h-f>v;){const y=s[2]=(f+h)/2;u===rH(s,o,a)<c?f=y:h=y}s[2]=u?h:f}return Ck(s,a),r=Ie.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),iH.set(n,r),r}function xI({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const s=t.split(/(?:\r\n?|\n)/);for(let o=0,u=s.length;o<u;++o){const c=s[o];a.append(document.createTextNode(c)),o<u-1&&a.append(document.createElement("br"))}i.append(a)}else bI.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}var Dc,Ic,ys,bs,V0,Lc,Mm,Pm,W0,iA,WW,ii,YW,KW,nm,$y;const Ol=class Ol{constructor(e){j(this,ii);j(this,Dc,null);j(this,Ic,null);j(this,ys);j(this,bs,null);j(this,V0,null);j(this,Lc,null);j(this,Mm,null);j(this,Pm,null);L(this,ys,e),m(Ol,W0)||L(Ol,W0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=L(this,Dc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=m(this,ys)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Za,{signal:n}),e.addEventListener("pointerdown",F(Ol,iA,WW),{signal:n}));const r=L(this,bs,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,ys).toolbarPosition;if(i){const{style:a}=e,s=m(this,ys)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return m(this,Dc)}hide(){var e;m(this,Dc).classList.add("hidden"),(e=m(this,Ic))==null||e.hideDropdown()}show(){var e,n;m(this,Dc).classList.remove("hidden"),(e=m(this,V0))==null||e.shown(),(n=m(this,Lc))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=m(this,ys),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",m(Ol,W0)[e]),F(this,ii,nm).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),m(this,bs).append(r)}async addAltText(e){const n=await e.render();F(this,ii,nm).call(this,n),m(this,bs).append(n,m(this,ii,$y)),L(this,V0,e)}addComment(e,n=null){if(m(this,Lc))return;const r=e.renderForToolbar();if(!r)return;F(this,ii,nm).call(this,r);const i=L(this,Mm,m(this,ii,$y));n?(m(this,bs).insertBefore(r,n),m(this,bs).insertBefore(i,n)):m(this,bs).append(r,i),L(this,Lc,e),e.toolbar=this}addColorPicker(e){if(m(this,Ic))return;L(this,Ic,e);const n=e.renderButton();F(this,ii,nm).call(this,n),m(this,bs).append(n,m(this,ii,$y))}async addEditSignatureButton(e){const n=L(this,Pm,await e.renderEditButton(m(this,ys)));F(this,ii,nm).call(this,n),m(this,bs).append(n,m(this,ii,$y))}removeButton(e){var n,r;switch(e){case"comment":(n=m(this,Lc))==null||n.removeToolbarCommentButton(),L(this,Lc,null),(r=m(this,Mm))==null||r.remove(),L(this,Mm,null);break}}async addButton(e,n){switch(e){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(n);break}}async addButtonBefore(e,n,r){const i=m(this,bs).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){m(this,Pm)&&(m(this,Pm).title=e)}remove(){var e;m(this,Dc).remove(),(e=m(this,Ic))==null||e.destroy(),L(this,Ic,null)}};Dc=new WeakMap,Ic=new WeakMap,ys=new WeakMap,bs=new WeakMap,V0=new WeakMap,Lc=new WeakMap,Mm=new WeakMap,Pm=new WeakMap,W0=new WeakMap,iA=new WeakSet,WW=function(e){e.stopPropagation()},ii=new WeakSet,YW=function(e){m(this,ys)._focusEventsAllowed=!1,Ln(e)},KW=function(e){m(this,ys)._focusEventsAllowed=!0,Ln(e)},nm=function(e){const n=m(this,ys)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",F(this,ii,YW).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",F(this,ii,KW).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Za,{signal:n}),!0)},$y=function(){const e=document.createElement("div");return e.className="divider",e},j(Ol,iA),j(Ol,W0,null);let Tk=Ol;var Y0,Mf,Ul,Bu,XW,JW,Nk;class DEe{constructor(e){j(this,Bu);j(this,Y0,null);j(this,Mf,null);j(this,Ul);L(this,Ul,e)}show(e,n,r){const[i,a]=F(this,Bu,JW).call(this,n,r),{style:s}=m(this,Mf)||L(this,Mf,F(this,Bu,XW).call(this));e.append(m(this,Mf)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Mf).remove()}}Y0=new WeakMap,Mf=new WeakMap,Ul=new WeakMap,Bu=new WeakSet,XW=function(){const e=L(this,Mf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=m(this,Ul)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Za,{signal:n});const r=L(this,Y0,document.createElement("div"));return r.className="buttons",e.append(r),m(this,Ul).hasCommentManager()&&F(this,Bu,Nk).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{m(this,Ul).commentSelection("floating_button")}),F(this,Bu,Nk).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{m(this,Ul).highlightSelection("floating_button")}),e},JW=function(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const o=a.x+(n?a.width:0);if(s>r){i=o,r=s;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},Nk=function(e,n,r,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",r);const o=m(this,Ul)._signal;o instanceof AbortSignal&&!o.aborted&&(a.addEventListener("contextmenu",Za,{signal:o}),a.addEventListener("click",i,{signal:o})),m(this,Y0).append(a)};function QW(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var aA;class IEe{constructor(){j(this,aA,0)}get id(){return`${j0}${mr(this,aA)._++}`}}aA=new WeakMap;var Dm,K0,fi,Im,h1;const MI=class MI{constructor(){j(this,Im);j(this,Dm,vI());j(this,K0,0);j(this,fi,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return dt(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return F(this,Im,h1).call(this,`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return F(this,Im,h1).call(this,e,e)}async getFromBlob(e,n){const r=await n;return F(this,Im,h1).call(this,e,r)}async getFromId(e){m(this,fi)||L(this,fi,new Map);const n=m(this,fi).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){m(this,fi)||L(this,fi,new Map);let r=m(this,fi).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,Dm)}_${mr(this,K0)._++}`,refCounter:1,isSvg:!1},m(this,fi).set(e,r),m(this,fi).set(r.id,r),r}getSvgUrl(e){const n=m(this,fi).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;m(this,fi)||L(this,fi,new Map);const n=m(this,fi).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(r.width,r.height);a.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=a.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,Dm)}_`)}};Dm=new WeakMap,K0=new WeakMap,fi=new WeakMap,Im=new WeakSet,h1=async function(e,n){m(this,fi)||L(this,fi,new Map);let r=m(this,fi).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,Dm)}_${mr(this,K0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Pv(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=MI._isSVGFittingCanvas,s=new FileReader,o=new Image,u=new Promise((c,f)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},s.onload=async()=>{const h=r.svgUrl=s.result;o.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=s.onerror=f});s.readAsDataURL(i),await u}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){st(i),r=null}return m(this,fi).set(e,r),r&&m(this,fi).set(r.id,r),r};let Rk=MI;var Qn,Oc,X0,Pn;class LEe{constructor(e=128){j(this,Qn,[]);j(this,Oc,!1);j(this,X0);j(this,Pn,-1);L(this,X0,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),m(this,Oc))return;const u={cmd:e,undo:n,post:r,type:a};if(m(this,Pn)===-1){m(this,Qn).length>0&&(m(this,Qn).length=0),L(this,Pn,0),m(this,Qn).push(u);return}if(s&&m(this,Qn)[m(this,Pn)].type===a){o&&(u.undo=m(this,Qn)[m(this,Pn)].undo),m(this,Qn)[m(this,Pn)]=u;return}const c=m(this,Pn)+1;c===m(this,X0)?m(this,Qn).splice(0,1):(L(this,Pn,c),c<m(this,Qn).length&&m(this,Qn).splice(c)),m(this,Qn).push(u)}undo(){if(m(this,Pn)===-1)return;L(this,Oc,!0);const{undo:e,post:n}=m(this,Qn)[m(this,Pn)];e(),n==null||n(),L(this,Oc,!1),L(this,Pn,m(this,Pn)-1)}redo(){if(m(this,Pn)<m(this,Qn).length-1){L(this,Pn,m(this,Pn)+1),L(this,Oc,!0);const{cmd:e,post:n}=m(this,Qn)[m(this,Pn)];e(),n==null||n(),L(this,Oc,!1)}}hasSomethingToUndo(){return m(this,Pn)!==-1}hasSomethingToRedo(){return m(this,Pn)<m(this,Qn).length-1}cleanType(e){if(m(this,Pn)!==-1){for(let n=m(this,Pn);n>=0;n--)if(m(this,Qn)[n].type!==e){m(this,Qn).splice(n+1,m(this,Pn)-n),L(this,Pn,n);return}m(this,Qn).length=0,L(this,Pn,-1)}}destroy(){L(this,Qn,null)}}Qn=new WeakMap,Oc=new WeakMap,X0=new WeakMap,Pn=new WeakMap;var sA,ZW;class rw{constructor(e){j(this,sA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=zr.platform;for(const[r,i,a={}]of e)for(const s of r){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(F(this,sA,ZW).call(this,n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...s,n)(),a||Ln(n))}}sA=new WeakSet,ZW=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const oA=class oA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return MEe(e),dt(this,"_colors",e)}convert(e){const n=Dv(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return oA._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Ie.makeHexColor(...n):e}};Se(oA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let kk=oA;var Lm,Ta,Om,Bn,vr,jm,xs,Fm,ws,hi,jc,Fc,Um,Uc,No,Ss,Pf,J0,Q0,Bm,Z0,Ro,Bc,zm,zc,ko,lA,Hc,Hm,eb,Gc,Df,Gm,qc,tb,or,Gt,Bl,$c,Vc,nb,qm,rb,Wc,Mo,zl,ib,ab,Es,Te,p1,Mk,e7,t7,Vy,n7,r7,i7,Pk,a7,Dk,Ik,s7,Pi,Il,o7,l7,Lk,u7,Wy,Ok;const gm=class gm{constructor(e,n,r,i,a,s,o,u,c,f,h,v,y,w,A,E){j(this,Te);j(this,Lm,new AbortController);j(this,Ta,null);j(this,Om,null);j(this,Bn,new Map);j(this,vr,new Map);j(this,jm,null);j(this,xs,null);j(this,Fm,null);j(this,ws,new LEe);j(this,hi,null);j(this,jc,null);j(this,Fc,null);j(this,Um,0);j(this,Uc,new Set);j(this,No,null);j(this,Ss,null);j(this,Pf,new Set);Se(this,"_editorUndoBar",null);j(this,J0,!1);j(this,Q0,!1);j(this,Bm,!1);j(this,Z0,null);j(this,Ro,null);j(this,Bc,null);j(this,zm,null);j(this,zc,!1);j(this,ko,null);j(this,lA,new IEe);j(this,Hc,!1);j(this,Hm,!1);j(this,eb,!1);j(this,Gc,null);j(this,Df,null);j(this,Gm,null);j(this,qc,null);j(this,tb,null);j(this,or,at.NONE);j(this,Gt,new Set);j(this,Bl,null);j(this,$c,null);j(this,Vc,null);j(this,nb,null);j(this,qm,null);j(this,rb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});j(this,Wc,[0,0]);j(this,Mo,null);j(this,zl,null);j(this,ib,null);j(this,ab,null);j(this,Es,null);const C=this._signal=m(this,Lm).signal;L(this,zl,e),L(this,ib,n),L(this,ab,r),L(this,jm,i),L(this,hi,a),L(this,$c,s),L(this,qm,u),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:C}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:C}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:C}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:C}),o._on("setpreference",this.onSetPreference.bind(this),{signal:C}),o._on("switchannotationeditorparams",k=>this.updateParams(k.type,k.value),{signal:C}),window.addEventListener("pointerdown",()=>{L(this,Hm,!0)},{capture:!0,signal:C}),window.addEventListener("pointerup",()=>{L(this,Hm,!1)},{capture:!0,signal:C}),F(this,Te,n7).call(this),F(this,Te,s7).call(this),F(this,Te,Pk).call(this),L(this,xs,u.annotationStorage),L(this,Z0,u.filterFactory),L(this,Vc,c),L(this,zm,f||null),L(this,J0,h),L(this,Q0,v),L(this,Bm,y),L(this,tb,w||null),this.viewParameters={realScale:Uu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=A||null,this._supportsPinchToZoom=E!==!1,a==null||a.setSidebarUiManager(this)}static get _keyboardManager(){const e=gm.prototype,n=s=>m(s,zl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:u}=o;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return dt(this,"_keyboardManager",new rw([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&m(s,zl).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&m(s,zl).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,n,r,i,a,s,o,u,c;(e=m(this,Es))==null||e.resolve(),L(this,Es,null),(n=m(this,Lm))==null||n.abort(),L(this,Lm,null),this._signal=null;for(const f of m(this,vr).values())f.destroy();m(this,vr).clear(),m(this,Bn).clear(),m(this,Pf).clear(),(r=m(this,qc))==null||r.clear(),L(this,Ta,null),m(this,Gt).clear(),m(this,ws).destroy(),(i=m(this,jm))==null||i.destroy(),(a=m(this,hi))==null||a.destroy(),(s=m(this,$c))==null||s.destroy(),(o=m(this,ko))==null||o.hide(),L(this,ko,null),(u=m(this,Gm))==null||u.destroy(),L(this,Gm,null),L(this,Om,null),m(this,Ro)&&(clearTimeout(m(this,Ro)),L(this,Ro,null)),m(this,Mo)&&(clearTimeout(m(this,Mo)),L(this,Mo,null)),(c=this._editorUndoBar)==null||c.destroy(),L(this,qm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,tb)}get useNewAltTextFlow(){return m(this,Q0)}get useNewAltTextWhenAddingImage(){return m(this,Bm)}get hcmFilter(){return dt(this,"hcmFilter",m(this,Vc)?m(this,Z0).addHCMFilter(m(this,Vc).foreground,m(this,Vc).background):"none")}get direction(){return dt(this,"direction",getComputedStyle(m(this,zl)).direction)}get _highlightColors(){return dt(this,"_highlightColors",m(this,zm)?new Map(m(this,zm).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return dt(this,"highlightColors",null);const n=new Map,r=!!m(this,Vc);for(const[i,a]of e){const s=i.endsWith("_HCM");if(r&&s){n.set(i.replace("_HCM",""),a);continue}!r&&!s&&n.set(i,a)}return dt(this,"highlightColors",n)}get highlightColorNames(){return dt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),L(this,Fc,e)}setMainHighlightColorPicker(e){L(this,Gm,e)}editAltText(e,n=!1){var r;(r=m(this,jm))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!m(this,hi)}editComment(e,n,r,i){var a;(a=m(this,hi))==null||a.showDialog(this,e,n,r,i)}selectComment(e,n){const r=m(this,vr).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=m(this,hi))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=m(this,hi))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=m(this,hi))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=m(this,hi))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=m(this,hi))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=m(this,hi))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(m(this,vr).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=m(this,$c))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return m(this,$c)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":L(this,Bm,n);break}}onPageChanging({pageNumber:e}){L(this,Um,e-1)}focusMainContainer(){m(this,zl).focus()}findParent(e,n){for(const r of m(this,vr).values()){const{x:i,y:a,width:s,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+o)return r}return null}disableUserSelect(e=!1){m(this,ib).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Pf).add(e)}removeShouldRescale(e){m(this,Pf).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Uu.PDF_TO_CSS_UNITS;for(const r of m(this,Pf))r.onScaleChanging();(n=m(this,Fc))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:o}=r,u=r.toString(),f=F(this,Te,p1).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;r.empty();const v=F(this,Te,Mk).call(this,f),y=m(this,or)===at.NONE,w=()=>{const A=v==null?void 0:v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:o,text:u});y&&this.showAllEditors("highlight",!0,!0),n&&(A==null||A.editComment())};if(y){this.switchToMode(at.HIGHLIGHT,w);return}w()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!m(this,xs))return null;const n=`${j0}${e}`,r=m(this,xs).getRawValue(n);return r&&m(this,xs).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&m(this,xs)&&!m(this,xs).has(e.id)&&m(this,xs).setValue(e.id,e)}a11yAlert(e,n=null){const r=m(this,ab);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,m(this,zc)&&(L(this,zc,!1),F(this,Te,Vy).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of m(this,Gt))if(n.div.contains(e)){L(this,Df,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!m(this,Df))return;const[e,n]=m(this,Df);L(this,Df,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){F(this,Te,Pk).call(this),F(this,Te,Dk).call(this)}removeEditListeners(){F(this,Te,a7).call(this),F(this,Te,Ik).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of m(this,Ss))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of m(this,Ss))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Ta))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of m(this,Gt)){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of m(this,Ss))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){st(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const u of r){const c=await i.deserialize(u);if(!c)return;a.push(c)}const s=()=>{for(const u of a)F(this,Te,Lk).call(this,u);F(this,Te,Ok).call(this,a)},o=()=>{for(const u of a)u.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){st(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,or)!==at.NONE&&!this.isEditorHandlingKeyboard&&gm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,zc)&&(L(this,zc,!1),F(this,Te,Vy).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(F(this,Te,r7).call(this),F(this,Te,Dk).call(this),F(this,Te,Pi).call(this,{isEditing:m(this,or)!==at.NONE,isEmpty:F(this,Te,Wy).call(this),hasSomethingToUndo:m(this,ws).hasSomethingToUndo(),hasSomethingToRedo:m(this,ws).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,Te,i7).call(this),F(this,Te,Ik).call(this),F(this,Te,Pi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,Ss)){L(this,Ss,e);for(const n of m(this,Ss))F(this,Te,Il).call(this,n.defaultPropertiesToUpdate)}}getId(){return m(this,lA).id}get currentLayer(){return m(this,vr).get(m(this,Um))}getLayer(e){return m(this,vr).get(e)}get currentPageIndex(){return m(this,Um)}addLayer(e){m(this,vr).set(e.pageIndex,e),m(this,Hc)?e.enable():e.disable()}removeLayer(e){m(this,vr).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,a=!1){var s,o,u,c,f,h;if(m(this,or)!==e&&!(m(this,Es)&&(await m(this,Es).promise,!m(this,Es)))){if(L(this,Es,Promise.withResolvers()),(s=m(this,Fc))==null||s.commitOrRemove(),m(this,or)===at.POPUP&&((o=m(this,hi))==null||o.hideSidebar()),(u=m(this,hi))==null||u.destroyPopup(),L(this,or,e),e===at.NONE){this.setEditingState(!1),F(this,Te,l7).call(this);for(const v of m(this,Bn).values())v.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),m(this,Es).resolve();return}for(const v of m(this,Bn).values())v.addStandaloneCommentButton();e===at.SIGNATURE&&await((f=m(this,$c))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await F(this,Te,o7).call(this),this.unselectAll();for(const v of m(this,vr).values())v.updateMode(e);if(e===at.POPUP){m(this,Om)||L(this,Om,await m(this,qm).getAnnotationsByType(new Set(m(this,Ss).map(w=>w._editorType))));const v=new Set,y=[];for(const w of m(this,Bn).values()){const{annotationElementId:A,hasComment:E,deleted:C}=w;A&&v.add(A),E&&!C&&y.push(w.getData())}for(const w of m(this,Om)){const{id:A,popupRef:E,contentsObj:C}=w;E&&(C!=null&&C.str)&&!v.has(A)&&!m(this,Uc).has(A)&&y.push(w)}(h=m(this,hi))==null||h.showSidebar(y)}if(!n){r&&this.addNewEditorFromKeyboard(),m(this,Es).resolve();return}for(const v of m(this,Bn).values())v.uid===n?(this.setSelected(v),a?v.editComment():i?v.enterInEditMode():v.focus()):v.unselect();m(this,Es).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==m(this,or)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(m(this,Ss)){switch(e){case St.CREATE:this.currentLayer.addNewEditor(n);return;case St.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,nb)||L(this,nb,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of m(this,Gt))r.updateParams(e,n);else for(const r of m(this,Ss))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var a;for(const s of m(this,Bn).values())s.editorType===e&&s.show(n);(((a=m(this,nb))==null?void 0:a.get(St.HIGHLIGHT_SHOW_ALL))??!0)!==n&&F(this,Te,Il).call(this,[[St.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(m(this,eb)!==e){L(this,eb,e);for(const n of m(this,vr).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of m(this,Bn).values())n.pageIndex===e&&(yield n)}getEditor(e){return m(this,Bn).get(e)}addEditor(e){m(this,Bn).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(m(this,Ro)&&clearTimeout(m(this,Ro)),L(this,Ro,setTimeout(()=>{this.focusMainContainer(),L(this,Ro,null)},0))),m(this,Bn).delete(e.id),e.annotationElementId&&((n=m(this,qc))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!m(this,Uc).has(e.annotationElementId))&&((r=m(this,xs))==null||r.remove(e.id))}addDeletedAnnotationElement(e){m(this,Uc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Uc).has(e)}removeDeletedAnnotationElement(e){m(this,Uc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Ta)!==e&&(L(this,Ta,e),e&&F(this,Te,Il).call(this,e.propertiesToUpdate))}updateUI(e){m(this,Te,u7)===e&&F(this,Te,Il).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){F(this,Te,Il).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(m(this,Gt).has(e)){m(this,Gt).delete(e),e.unselect(),F(this,Te,Pi).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,Gt).add(e),e.select(),F(this,Te,Il).call(this,e.propertiesToUpdate),F(this,Te,Pi).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.id}),(n=m(this,Fc))==null||n.commitOrRemove();for(const r of m(this,Gt))r!==e&&r.unselect();m(this,Gt).clear(),m(this,Gt).add(e),e.select(),F(this,Te,Il).call(this,e.propertiesToUpdate),F(this,Te,Pi).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,Gt).has(e)}get firstSelectedEditor(){return m(this,Gt).values().next().value}unselect(e){e.unselect(),m(this,Gt).delete(e),F(this,Te,Pi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,Gt).size!==0}get isEnterHandled(){return m(this,Gt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;m(this,ws).undo(),F(this,Te,Pi).call(this,{hasSomethingToUndo:m(this,ws).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,Te,Wy).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){m(this,ws).redo(),F(this,Te,Pi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,ws).hasSomethingToRedo(),isEmpty:F(this,Te,Wy).call(this)})}addCommands(e){m(this,ws).add(e),F(this,Te,Pi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,Te,Wy).call(this)})}cleanUndoStack(e){m(this,ws).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...m(this,Gt)],r=()=>{var s;(s=this._editorUndoBar)==null||s.show(i,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},i=()=>{for(const s of n)F(this,Te,Lk).call(this,s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Ta))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Ta)||this.hasSelection}selectAll(){for(const e of m(this,Gt))e.commit();F(this,Te,Ok).call(this,m(this,Bn).values())}unselectAll(){var e;if(!(m(this,Ta)&&(m(this,Ta).commitOrRemove(),m(this,or)!==at.NONE))&&!((e=m(this,Fc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of m(this,Gt))n.unselect();m(this,Gt).clear(),F(this,Te,Pi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,Wc)[0]+=e,m(this,Wc)[1]+=n;const[i,a]=m(this,Wc),s=[...m(this,Gt)],o=1e3;m(this,Mo)&&clearTimeout(m(this,Mo)),L(this,Mo,setTimeout(()=>{L(this,Mo,null),m(this,Wc)[0]=m(this,Wc)[1]=0,this.addCommands({cmd:()=>{for(const u of s)m(this,Bn).has(u.id)&&(u.translateInPage(i,a),u.translationDone())},undo:()=>{for(const u of s)m(this,Bn).has(u.id)&&(u.translateInPage(-i,-a),u.translationDone())},mustExec:!1})},o));for(const u of s)u.translateInPage(e,n),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),L(this,No,new Map);for(const e of m(this,Gt))m(this,No).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,No))return!1;this.disableUserSelect(!1);const e=m(this,No);L(this,No,null);let n=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,n||(n=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!n)return!1;const r=(i,a,s,o)=>{if(m(this,Bn).has(i.id)){const u=m(this,vr).get(o);u?i._setParentAndPosition(u,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)r(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)r(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(m(this,No))for(const r of m(this,No).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,Gt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Ta)===e}getActive(){return m(this,Ta)}getMode(){return m(this,or)}isEditingMode(){return m(this,or)!==at.NONE}get imageManager(){return dt(this,"imageManager",new Rk)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,f=n.rangeCount;c<f;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,f,h,v)=>({x:(f-i)/s,y:1-(c+h-r)/a,width:v/s,height:h/a});break;case"180":o=(c,f,h,v)=>({x:1-(c+h-r)/a,y:1-(f+v-i)/s,width:h/a,height:v/s});break;case"270":o=(c,f,h,v)=>({x:1-(f+v-i)/s,y:(c-r)/a,width:v/s,height:h/a});break;default:o=(c,f,h,v)=>({x:(c-r)/a,y:(f-i)/s,width:h/a,height:v/s});break}const u=[];for(let c=0,f=n.rangeCount;c<f;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:v,y,width:w,height:A}of h.getClientRects())w===0||A===0||u.push(o(v,y,w,A))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:n}){(m(this,Fm)||L(this,Fm,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=m(this,Fm))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=m(this,Fm))==null?void 0:i.get(e.data.id);if(!n)return;const r=m(this,xs).getRawValue(n);r&&(m(this,or)===at.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var a;const i=(a=m(this,qc))==null?void 0:a.get(e);i&&(i.setCanvas(n,r),m(this,qc).delete(e))}addMissingCanvas(e,n){(m(this,qc)||L(this,qc,new Map)).set(e,n)}};Lm=new WeakMap,Ta=new WeakMap,Om=new WeakMap,Bn=new WeakMap,vr=new WeakMap,jm=new WeakMap,xs=new WeakMap,Fm=new WeakMap,ws=new WeakMap,hi=new WeakMap,jc=new WeakMap,Fc=new WeakMap,Um=new WeakMap,Uc=new WeakMap,No=new WeakMap,Ss=new WeakMap,Pf=new WeakMap,J0=new WeakMap,Q0=new WeakMap,Bm=new WeakMap,Z0=new WeakMap,Ro=new WeakMap,Bc=new WeakMap,zm=new WeakMap,zc=new WeakMap,ko=new WeakMap,lA=new WeakMap,Hc=new WeakMap,Hm=new WeakMap,eb=new WeakMap,Gc=new WeakMap,Df=new WeakMap,Gm=new WeakMap,qc=new WeakMap,tb=new WeakMap,or=new WeakMap,Gt=new WeakMap,Bl=new WeakMap,$c=new WeakMap,Vc=new WeakMap,nb=new WeakMap,qm=new WeakMap,rb=new WeakMap,Wc=new WeakMap,Mo=new WeakMap,zl=new WeakMap,ib=new WeakMap,ab=new WeakMap,Es=new WeakMap,Te=new WeakSet,p1=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Mk=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of m(this,vr).values())if(r.hasTextLayer(e))return r;return null},e7=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=F(this,Te,p1).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,ko)||L(this,ko,new DEe(this)),m(this,ko).show(r,i,this.direction==="ltr"))},t7=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Bl)&&((a=m(this,ko))==null||a.hide(),L(this,Bl,null),F(this,Te,Pi).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===m(this,Bl))return;const i=F(this,Te,p1).call(this,e).closest(".textLayer");if(!i){m(this,Bl)&&((s=m(this,ko))==null||s.hide(),L(this,Bl,null),F(this,Te,Pi).call(this,{hasSelectedText:!1}));return}if((o=m(this,ko))==null||o.hide(),L(this,Bl,n),F(this,Te,Pi).call(this,{hasSelectedText:!0}),!(m(this,or)!==at.HIGHLIGHT&&m(this,or)!==at.NONE)&&(m(this,or)===at.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),L(this,zc,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=m(this,or)===at.HIGHLIGHT?F(this,Te,Mk).call(this,i):null;if(u==null||u.toggleDrawing(),m(this,Hm)){const c=new AbortController,f=this.combinedSignal(c),h=v=>{v.type==="pointerup"&&v.button!==0||(c.abort(),u==null||u.toggleDrawing(!0),v.type==="pointerup"&&F(this,Te,Vy).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:f}),window.addEventListener("blur",h,{signal:f})}else u==null||u.toggleDrawing(!0),F(this,Te,Vy).call(this,"main_toolbar")}},Vy=function(e=""){m(this,or)===at.HIGHLIGHT?this.highlightSelection(e):m(this,J0)&&F(this,Te,e7).call(this)},n7=function(){document.addEventListener("selectionchange",F(this,Te,t7).bind(this),{signal:this._signal})},r7=function(){if(m(this,Bc))return;L(this,Bc,new AbortController);const e=this.combinedSignal(m(this,Bc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},i7=function(){var e;(e=m(this,Bc))==null||e.abort(),L(this,Bc,null)},Pk=function(){if(m(this,Gc))return;L(this,Gc,new AbortController);const e=this.combinedSignal(m(this,Gc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},a7=function(){var e;(e=m(this,Gc))==null||e.abort(),L(this,Gc,null)},Dk=function(){if(m(this,jc))return;L(this,jc,new AbortController);const e=this.combinedSignal(m(this,jc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Ik=function(){var e;(e=m(this,jc))==null||e.abort(),L(this,jc,null)},s7=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Pi=function(e){Object.entries(e).some(([r,i])=>m(this,rb)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,rb),e)}),m(this,or)===at.HIGHLIGHT&&e.hasSelectedEditor===!1&&F(this,Te,Il).call(this,[[St.HIGHLIGHT_FREE,!0]]))},Il=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},o7=async function(){if(!m(this,Hc)){L(this,Hc,!0);const e=[];for(const n of m(this,vr).values())e.push(n.enable());await Promise.all(e);for(const n of m(this,Bn).values())n.enable()}},l7=function(){if(this.unselectAll(),m(this,Hc)){L(this,Hc,!1);for(const e of m(this,vr).values())e.disable();for(const e of m(this,Bn).values())e.disable()}},Lk=function(e){const n=m(this,vr).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},u7=function(){let e=null;for(e of m(this,Gt));return e},Wy=function(){if(m(this,Bn).size===0)return!0;if(m(this,Bn).size===1)for(const e of m(this,Bn).values())return e.isEmpty();return!1},Ok=function(e){for(const n of m(this,Gt))n.unselect();m(this,Gt).clear();for(const n of e)n.isEmpty()||(m(this,Gt).add(n),n.select());F(this,Te,Pi).call(this,{hasSelectedEditor:this.hasSelection})},Se(gm,"TRANSLATE_SMALL",1),Se(gm,"TRANSLATE_BIG",10);let Fd=gm;var Pr,Po,Xs,$m,Do,Na,Vm,Io,na,Hl,If,Lo,Yc,fo,Yy,m1;const Di=class Di{constructor(e){j(this,fo);j(this,Pr,null);j(this,Po,!1);j(this,Xs,null);j(this,$m,null);j(this,Do,null);j(this,Na,null);j(this,Vm,!1);j(this,Io,null);j(this,na,null);j(this,Hl,null);j(this,If,null);j(this,Lo,!1);L(this,na,e),L(this,Lo,e._uiManager.useNewAltTextFlow),m(Di,Yc)||L(Di,Yc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Di._l10n??(Di._l10n=e)}async render(){const e=L(this,Xs,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=L(this,$m,document.createElement("span"));e.append(n),m(this,Lo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(Di,Yc).missing),n.setAttribute("data-l10n-id",m(Di,Yc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,na)._uiManager._signal;e.addEventListener("contextmenu",Za,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),m(this,na)._uiManager.editAltText(m(this,na)),m(this,Lo)&&m(this,na)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,fo,Yy)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(L(this,Vm,!0),i(a))},{signal:r}),await F(this,fo,m1).call(this),e}finish(){m(this,Xs)&&(m(this,Xs).focus({focusVisible:m(this,Vm)}),L(this,Vm,!1))}isEmpty(){return m(this,Lo)?m(this,Pr)===null:!m(this,Pr)&&!m(this,Po)}hasData(){return m(this,Lo)?m(this,Pr)!==null||!!m(this,Hl):this.isEmpty()}get guessedText(){return m(this,Hl)}async setGuessedText(e){m(this,Pr)===null&&(L(this,Hl,e),L(this,If,await Di._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),F(this,fo,m1).call(this))}toggleAltTextBadge(e=!1){var n;if(!m(this,Lo)||m(this,Pr)){(n=m(this,Io))==null||n.remove(),L(this,Io,null);return}if(!m(this,Io)){const r=L(this,Io,document.createElement("div"));r.className="noAltTextBadge",m(this,na).div.append(r)}m(this,Io).classList.toggle("hidden",!e)}serialize(e){let n=m(this,Pr);return!e&&m(this,Hl)===n&&(n=m(this,If)),{altText:n,decorative:m(this,Po),guessedText:m(this,Hl),textWithDisclaimer:m(this,If)}}get data(){return{altText:m(this,Pr),decorative:m(this,Po)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(L(this,Hl,r),L(this,If,i)),!(m(this,Pr)===e&&m(this,Po)===n)&&(a||(L(this,Pr,e),L(this,Po,n)),F(this,fo,m1).call(this))}toggle(e=!1){m(this,Xs)&&(!e&&m(this,Na)&&(clearTimeout(m(this,Na)),L(this,Na,null)),m(this,Xs).disabled=!e)}shown(){m(this,na)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,fo,Yy)}})}destroy(){var e,n;(e=m(this,Xs))==null||e.remove(),L(this,Xs,null),L(this,$m,null),L(this,Do,null),(n=m(this,Io))==null||n.remove(),L(this,Io,null)}};Pr=new WeakMap,Po=new WeakMap,Xs=new WeakMap,$m=new WeakMap,Do=new WeakMap,Na=new WeakMap,Vm=new WeakMap,Io=new WeakMap,na=new WeakMap,Hl=new WeakMap,If=new WeakMap,Lo=new WeakMap,Yc=new WeakMap,fo=new WeakSet,Yy=function(){return m(this,Pr)&&"added"||m(this,Pr)===null&&this.guessedText&&"review"||"missing"},m1=async function(){var i,a,s;const e=m(this,Xs);if(!e)return;if(m(this,Lo)){if(e.classList.toggle("done",!!m(this,Pr)),e.setAttribute("data-l10n-id",m(Di,Yc)[m(this,fo,Yy)]),(i=m(this,$m))==null||i.setAttribute("data-l10n-id",m(Di,Yc)[`${m(this,fo,Yy)}-label`]),!m(this,Pr)){(a=m(this,Do))==null||a.remove();return}}else{if(!m(this,Pr)&&!m(this,Po)){e.classList.remove("done"),(s=m(this,Do))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=m(this,Do);if(!n){L(this,Do,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${m(this,na).id}`;const o=100,u=m(this,na)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(m(this,Na)),L(this,Na,null)},{once:!0}),e.addEventListener("mouseenter",()=>{L(this,Na,setTimeout(()=>{L(this,Na,null),m(this,Do).classList.add("show"),m(this,na)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:u}),e.addEventListener("mouseleave",()=>{var c;m(this,Na)&&(clearTimeout(m(this,Na)),L(this,Na,null)),(c=m(this,Do))==null||c.classList.remove("show")},{signal:u})}m(this,Po)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=m(this,Pr)),n.parentNode||e.append(n);const r=m(this,na).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},j(Di,Yc,null),Se(Di,"_l10n",null);let YE=Di;var Xr,As,Lf,hn,sb,Of,Js,jf,Ff,Uf,ob,jk;class qS{constructor(e){j(this,ob);j(this,Xr,null);j(this,As,null);j(this,Lf,!1);j(this,hn,null);j(this,sb,null);j(this,Of,null);j(this,Js,null);j(this,jf,null);j(this,Ff,!1);j(this,Uf,null);L(this,hn,e)}renderForToolbar(){const e=L(this,As,document.createElement("button"));return e.className="comment",F(this,ob,jk).call(this,e,!1)}renderForStandalone(){const e=L(this,Xr,document.createElement("button"));e.className="annotationCommentButton";const n=m(this,hn).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(m(this,hn)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=m(this,hn).commentButtonColor;i&&(r.backgroundColor=i)}return F(this,ob,jk).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=m(this,Xr)??m(this,As))==null||e.focus()},0)}onUpdatedColor(){if(!m(this,Xr))return;const e=m(this,hn).commentButtonColor;e&&(m(this,Xr).style.backgroundColor=e),m(this,hn)._uiManager.updatePopupColor(m(this,hn))}get commentButtonWidth(){var e;return(((e=m(this,Xr))==null?void 0:e.getBoundingClientRect().width)??0)/m(this,hn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(m(this,Uf))return m(this,Uf);if(!m(this,Xr))return null;const{x:e,y:n,height:r}=m(this,Xr).getBoundingClientRect(),{x:i,y:a,width:s,height:o}=m(this,hn).parent.boundingClientRect;return[(e-i)/s,(n+r-a)/o]}set commentPopupPositionInLayer(e){L(this,Uf,e)}hasDefaultPopupPosition(){return m(this,Uf)===null}removeStandaloneCommentButton(){var e;(e=m(this,Xr))==null||e.remove(),L(this,Xr,null)}removeToolbarCommentButton(){var e;(e=m(this,As))==null||e.remove(),L(this,As,null)}setCommentButtonStates({selected:e,hasPopup:n}){m(this,Xr)&&(m(this,Xr).classList.toggle("selected",e),m(this,Xr).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=m(this,hn).commentButtonPosition;const{width:f,height:h,x:v,y}=m(this,hn);r=v+r*f,i=y+i*h}const a=m(this,hn).parent.boundingClientRect,{x:s,y:o,width:u,height:c}=a;m(this,hn)._uiManager.editComment(m(this,hn),s+r*u,o+i*c,{...e,parentDimensions:a})}finish(){m(this,As)&&(m(this,As).focus({focusVisible:m(this,Lf)}),L(this,Lf,!1))}isDeleted(){return m(this,Ff)||m(this,Js)===""}isEmpty(){return m(this,Js)===null}hasBeenEdited(){return this.isDeleted()||m(this,Js)!==m(this,sb)}serialize(){return this.data}get data(){return{text:m(this,Js),richText:m(this,Of),date:m(this,jf),deleted:this.isDeleted()}}set data(e){if(e!==m(this,Js)&&L(this,Of,null),e===null){L(this,Js,""),L(this,Ff,!0);return}L(this,Js,e),L(this,jf,new Date),L(this,Ff,!1)}setInitialText(e,n=null){L(this,sb,e),this.data=e,L(this,jf,null),L(this,Of,n)}shown(){}destroy(){var e,n;(e=m(this,As))==null||e.remove(),L(this,As,null),(n=m(this,Xr))==null||n.remove(),L(this,Xr,null),L(this,Js,""),L(this,Of,null),L(this,jf,null),L(this,hn,null),L(this,Lf,!1),L(this,Ff,!1)}}Xr=new WeakMap,As=new WeakMap,Lf=new WeakMap,hn=new WeakMap,sb=new WeakMap,Of=new WeakMap,Js=new WeakMap,jf=new WeakMap,Ff=new WeakMap,Uf=new WeakMap,ob=new WeakSet,jk=function(e,n){if(!m(this,hn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[m(this,hn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=m(this,hn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Za,{signal:r}),n&&(e.addEventListener("focusin",a=>{m(this,hn)._focusEventsAllowed=!1,Ln(a)},{capture:!0,signal:r}),e.addEventListener("focusout",a=>{m(this,hn)._focusEventsAllowed=!0,Ln(a)},{capture:!0,signal:r})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),e===m(this,As)?this.edit():m(this,hn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(L(this,Lf,!0),i(a))},{signal:r}),e.addEventListener("pointerenter",()=>{m(this,hn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{m(this,hn).toggleComment(!1,!1)},{signal:r}),e};var Wm,Bf,lb,ub,cb,db,fb,Gl,zf,ql,Hf,$l,Ud,c7,d7,f7;const PI=class PI{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:o}){j(this,Ud);j(this,Wm);j(this,Bf,!1);j(this,lb,null);j(this,ub);j(this,cb);j(this,db);j(this,fb);j(this,Gl,null);j(this,zf);j(this,ql,null);j(this,Hf);j(this,$l,null);L(this,Wm,e),L(this,lb,r),L(this,ub,n),L(this,cb,i),L(this,db,a),L(this,fb,s),L(this,Hf,new AbortController),L(this,zf,AbortSignal.any([o,m(this,Hf).signal])),e.addEventListener("touchstart",F(this,Ud,c7).bind(this),{passive:!1,signal:m(this,zf)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/vo.pixelRatio}destroy(){var e,n;(e=m(this,Hf))==null||e.abort(),L(this,Hf,null),(n=m(this,Gl))==null||n.abort(),L(this,Gl,null)}};Wm=new WeakMap,Bf=new WeakMap,lb=new WeakMap,ub=new WeakMap,cb=new WeakMap,db=new WeakMap,fb=new WeakMap,Gl=new WeakMap,zf=new WeakMap,ql=new WeakMap,Hf=new WeakMap,$l=new WeakMap,Ud=new WeakSet,c7=function(e){var i,a,s;if((i=m(this,ub))!=null&&i.call(this))return;if(e.touches.length===1){if(m(this,Gl))return;const o=L(this,Gl,new AbortController),u=AbortSignal.any([m(this,zf),o.signal]),c=m(this,Wm),f={capture:!0,signal:u,passive:!1},h=v=>{var y;v.pointerType==="touch"&&((y=m(this,Gl))==null||y.abort(),L(this,Gl,null))};c.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(Ln(v),h(v))},f),c.addEventListener("pointerup",h,f),c.addEventListener("pointercancel",h,f);return}if(!m(this,$l)){L(this,$l,new AbortController);const o=AbortSignal.any([m(this,zf),m(this,$l).signal]),u=m(this,Wm),c={signal:o,capture:!1,passive:!1};u.addEventListener("touchmove",F(this,Ud,d7).bind(this),c);const f=F(this,Ud,f7).bind(this);u.addEventListener("touchend",f,c),u.addEventListener("touchcancel",f,c),c.capture=!0,u.addEventListener("pointerdown",Ln,c),u.addEventListener("pointermove",Ln,c),u.addEventListener("pointercancel",Ln,c),u.addEventListener("pointerup",Ln,c),(a=m(this,cb))==null||a.call(this)}if(Ln(e),e.touches.length!==2||(s=m(this,lb))!=null&&s.call(this)){L(this,ql,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),L(this,ql,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},d7=function(e){var D;if(!m(this,ql)||e.touches.length!==2)return;Ln(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:s,screenY:o}=r,u=m(this,ql),{touch0X:c,touch0Y:f,touch1X:h,touch1Y:v}=u,y=h-c,w=v-f,A=s-i,E=o-a,C=Math.hypot(A,E)||1,k=Math.hypot(y,w)||1;if(!m(this,Bf)&&Math.abs(k-C)<=PI.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=a,u.touch1X=s,u.touch1Y=o,!m(this,Bf)){L(this,Bf,!0);return}const R=[(i+s)/2,(a+o)/2];(D=m(this,db))==null||D.call(this,R,k,C)},f7=function(e){var n;e.touches.length>=2||(m(this,$l)&&(m(this,$l).abort(),L(this,$l,null),(n=m(this,fb))==null||n.call(this)),m(this,ql)&&(Ln(e),L(this,ql,null),L(this,Bf,!1)))};let z0=PI;var Gf,Qs,Tn,sn,Vl,Ym,Kc,hb,Jr,qf,Wl,Oo,Xc,pb,$f,Ra,mb,Vf,Yl,jo,Km,Xm,_s,Wf,gb,uA,tt,Fk,vb,Uk,g1,h7,p7,Bk,v1,zk,m7,g7,v7,Hk,y7,Gk,b7,x7,w7,qk,Ky;const ot=class ot{constructor(e){j(this,tt);j(this,Gf,null);j(this,Qs,null);j(this,Tn,null);j(this,sn,null);j(this,Vl,null);j(this,Ym,!1);j(this,Kc,null);j(this,hb,"");j(this,Jr,null);j(this,qf,null);j(this,Wl,null);j(this,Oo,null);j(this,Xc,null);j(this,pb,"");j(this,$f,!1);j(this,Ra,null);j(this,mb,!1);j(this,Vf,!1);j(this,Yl,!1);j(this,jo,null);j(this,Km,0);j(this,Xm,0);j(this,_s,null);j(this,Wf,null);Se(this,"isSelected",!1);Se(this,"_isCopy",!1);Se(this,"_editToolbar",null);Se(this,"_initialOptions",Object.create(null));Se(this,"_initialData",null);Se(this,"_isVisible",!0);Se(this,"_uiManager",null);Se(this,"_focusEventsAllowed",!0);j(this,gb,!1);j(this,uA,ot._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[o,u]=this.parentDimensions;this.x=e.x/o,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ot.prototype._resizeWithKeyboard,n=Fd.TRANSLATE_SMALL,r=Fd.TRANSLATE_BIG;return dt(this,"_resizerKeyboardManager",new rw([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],ot.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return dt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new OEe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(ot._l10n??(ot._l10n=e),ot._l10nResizer||(ot._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ot._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);ot._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){fn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,gb)}set _isDraggable(e){var n;L(this,gb,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,uA)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(F(this,tt,Ky).call(this),(n=m(this,Oo))==null||n.remove(),L(this,Oo,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,$f)?L(this,$f,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){F(this,tt,Fk).call(this,this.parentDimensions,e,n)}translateInPage(e,n){m(this,Ra)||L(this,Ra,[this.x,this.y,this.width,this.height]),F(this,tt,Fk).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){m(this,Ra)||L(this,Ra,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[u,c]=this.getBaseTranslation();s+=u,o+=c;const{style:f}=r;f.left=`${(100*s).toFixed(2)}%`,f.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!m(this,Ra)&&(m(this,Ra)[0]!==this.x||m(this,Ra)[1]!==this.y)}get _hasBeenResized(){return!!m(this,Ra)&&(m(this,Ra)[2]!==this.width||m(this,Ra)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=ot,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:s,width:o,height:u}=this;if(o*=r,u*=i,a*=r,s*=i,this._mustFixPosition)switch(e){case 0:a=bi(a,0,r-o),s=bi(s,0,i-u);break;case 90:a=bi(a,0,r-u),s=bi(s,o,i);break;case 180:a=bi(a,o,r),s=bi(s,u,i);break;case 270:a=bi(a,u,r),s=bi(s,0,i-o);break}this.x=a/=r,this.y=s/=i;const[c,f]=this.getBaseTranslation();a+=c,s+=f,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return F(r=ot,vb,Uk).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return F(r=ot,vb,Uk).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=m(this,Tn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||m(this,Vf))return this._editToolbar;this._editToolbar=new Tk(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=m(this,Tn))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return m(this,Tn)||(YE.initialize(ot._l10n),L(this,Tn,new YE(this)),m(this,Gf)&&(m(this,Tn).data=m(this,Gf),L(this,Gf,null))),m(this,Tn)}get altTextData(){var e;return(e=m(this,Tn))==null?void 0:e.data}set altTextData(e){m(this,Tn)&&(m(this,Tn).data=e)}get guessedAltText(){var e;return(e=m(this,Tn))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=m(this,Tn))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=m(this,Tn))==null?void 0:n.serialize(e)}hasAltText(){return!!m(this,Tn)&&!m(this,Tn).isEmpty()}hasAltTextData(){var e;return((e=m(this,Tn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=m(this,sn))==null||e.focusButton()}addCommentButton(){return m(this,sn)||L(this,sn,new qS(this))}addStandaloneCommentButton(){if(m(this,Vl)){this._uiManager.isEditingMode()&&m(this,Vl).classList.remove("hidden");return}this.hasComment&&(L(this,Vl,m(this,sn).renderForStandalone()),this.div.append(m(this,Vl)))}removeStandaloneCommentButton(){m(this,sn).removeStandaloneCommentButton(),L(this,Vl,null)}hideStandaloneCommentButton(){var e;(e=m(this,Vl))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=m(this,sn);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){m(this,sn)||L(this,sn,new qS(this)),m(this,sn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(m(this,sn)||L(this,sn,new qS(this)),m(this,sn).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=m(this,sn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=m(this,sn))==null?void 0:e.isDeleted()}get hasComment(){return!!m(this,sn)&&!m(this,sn).isEmpty()&&!m(this,sn).isDeleted()}async editComment(e){m(this,sn)||L(this,sn,new qS(this)),m(this,sn).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){m(this,sn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,o=s+a+1,u=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,u,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){m(this,sn).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=m(this,Ym)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),F(this,tt,Gk).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),QW(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(m(this,Wf)||L(this,Wf,new z0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:F(this,tt,m7).bind(this),onPinching:F(this,tt,g7).bind(this),onPinchEnd:F(this,tt,v7).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:n}=zr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(L(this,$f,!0),this._isDraggable){F(this,tt,y7).call(this,e);return}F(this,tt,Hk).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){m(this,jo)&&clearTimeout(m(this,jo)),L(this,jo,setTimeout(()=>{var e;L(this,jo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,u]=this.pageTranslation,c=e/i,f=n/i,h=this.x*a,v=this.y*s,y=this.width*a,w=this.height*s;switch(r){case 0:return[h+c+o,s-v-f-w+u,h+c+y+o,s-v-f+u];case 90:return[h+f+o,s-v+c+u,h+f+w+o,s-v+c+y+u];case 180:return[h-c-y+o,s-v+f+u,h-c+o,s-v+f+w+u];case 270:return[h-f-w+o,s-v-c-y+u,h-f+o,s-v-c+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,o=a-r,u=s-i;switch(this.rotation){case 0:return[r,n-s,o,u];case 90:return[r,n-i,u,o];case 180:return[a,n-i,o,u];case 270:return[a,n-s,u,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ot._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=m(this,sn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:a,richText:s},uid:o,pageIndex:u,creationDate:c,modificationDate:f}=this;return{id:o,pageIndex:u,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:c,modificationDate:r||f,popupRef:!a,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),L(this,Vf,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),L(this,Vf,!1),!0):!1}isInEditMode(){return m(this,Vf)}shouldGetKeyboardEvents(){return m(this,Yl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return n<s&&i>0&&e<a&&r>0}rebuild(){F(this,tt,Gk).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,L(i,Gf,e.accessibilityData),i._isCopy=e.isCopy||!1;const[a,s]=i.pageDimensions,[o,u,c,f]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=u/s,i.width=c/a,i.height=f/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=m(this,Xc))==null||e.abort(),L(this,Xc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,jo)&&(clearTimeout(m(this,jo)),L(this,jo,null)),F(this,tt,Ky).call(this),this.removeEditToolbar(),m(this,_s)){for(const r of m(this,_s).values())clearTimeout(r);L(this,_s,null)}this.parent=null,(n=m(this,Wf))==null||n.destroy(),L(this,Wf,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,tt,h7).call(this),m(this,Jr).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,a,s]=this.getPDFRect();return[ot._round(r+(a-r)*e),ot._round(i+(s-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return m(this,sn).commentPopupPositionInLayer}set commentPopupPosition(e){m(this,sn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return m(this,sn).hasDefaultPopupPosition()}get commentButtonWidth(){return m(this,sn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){m(this,sn).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),L(this,Wl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=m(this,Jr).children;if(!m(this,Qs)){L(this,Qs,Array.from(n));const s=F(this,tt,b7).bind(this),o=F(this,tt,x7).bind(this),u=this._uiManager._signal;for(const c of m(this,Qs)){const f=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:u}),c.addEventListener("blur",o,{signal:u}),c.addEventListener("focus",F(this,tt,w7).bind(this,f),{signal:u}),c.setAttribute("data-l10n-id",ot._l10nResizer[f])}}const r=m(this,Qs)[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(m(this,Qs).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)m(this,Jr).append(m(this,Jr).firstChild);else if(a>i)for(let o=0;o<a-i;o++)m(this,Jr).firstChild.before(m(this,Jr).lastChild);let s=0;for(const o of n){const c=m(this,Qs)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",ot._l10nResizer[c])}}F(this,tt,qk).call(this,0),L(this,Yl,!0),m(this,Jr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){m(this,Yl)&&F(this,tt,zk).call(this,m(this,pb),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){F(this,tt,Ky).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(n=this._editToolbar)==null||n.show(),(r=m(this,Tn))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,a;this.isSelected&&(this.isSelected=!1,(e=m(this,Jr))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=m(this,Tn))==null||a.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return m(this,mb)}set isEditing(e){L(this,mb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){m(this,_s)||L(this,_s,new Map);const{action:r}=e;let i=m(this,_s).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,_s).delete(r),m(this,_s).size===0&&L(this,_s,null)},ot._telemetryTimeout),m(this,_s).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),L(this,Ym,!1)}disable(){this.div&&(this.div.tabIndex=-1),L(this,Ym,!0)}updateFakeAnnotationElement(e){if(!m(this,Oo)&&!this.deleted){L(this,Oo,e.addFakeAnnotation(this));return}if(this.deleted){m(this,Oo).remove(),L(this,Oo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&m(this,Oo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Gf=new WeakMap,Qs=new WeakMap,Tn=new WeakMap,sn=new WeakMap,Vl=new WeakMap,Ym=new WeakMap,Kc=new WeakMap,hb=new WeakMap,Jr=new WeakMap,qf=new WeakMap,Wl=new WeakMap,Oo=new WeakMap,Xc=new WeakMap,pb=new WeakMap,$f=new WeakMap,Ra=new WeakMap,mb=new WeakMap,Vf=new WeakMap,Yl=new WeakMap,jo=new WeakMap,Km=new WeakMap,Xm=new WeakMap,_s=new WeakMap,Wf=new WeakMap,gb=new WeakMap,uA=new WeakMap,tt=new WeakSet,Fk=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},vb=new WeakSet,Uk=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},g1=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},h7=function(){if(m(this,Jr))return;L(this,Jr,document.createElement("div")),m(this,Jr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,Jr).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",F(this,tt,p7).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Za,{signal:n}),i.tabIndex=-1}this.div.prepend(m(this,Jr))},p7=function(e,n){var f;n.preventDefault();const{isMac:r}=zr.platform;if(n.button!==0||n.ctrlKey&&r)return;(f=m(this,Tn))==null||f.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,L(this,qf,[n.screenX,n.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,tt,zk).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Ln,{passive:!1,signal:s}),window.addEventListener("contextmenu",Za,{signal:s}),L(this,Wl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var h;a.abort(),this.parent.togglePointerEvents(!0),(h=m(this,Tn))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=u,F(this,tt,v1).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},Bk=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},v1=function(){if(!m(this,Wl))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=m(this,Wl);L(this,Wl,null);const a=this.x,s=this.y,o=this.width,u=this.height;a===e&&s===n&&o===r&&u===i||this.addCommands({cmd:F(this,tt,Bk).bind(this,a,s,o,u),undo:F(this,tt,Bk).bind(this,e,n,r,i),mustExec:!0})},zk=function(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,u=this.height,c=ot.MIN_SIZE/r,f=ot.MIN_SIZE/i,h=F(this,tt,g1).call(this,this.rotation),v=(U,q)=>[h[0]*U+h[2]*q,h[1]*U+h[3]*q],y=F(this,tt,g1).call(this,360-this.rotation),w=(U,q)=>[y[0]*U+y[2]*q,y[1]*U+y[3]*q];let A,E,C=!1,k=!1;switch(e){case"topLeft":C=!0,A=(U,q)=>[0,0],E=(U,q)=>[U,q];break;case"topMiddle":A=(U,q)=>[U/2,0],E=(U,q)=>[U/2,q];break;case"topRight":C=!0,A=(U,q)=>[U,0],E=(U,q)=>[0,q];break;case"middleRight":k=!0,A=(U,q)=>[U,q/2],E=(U,q)=>[0,q/2];break;case"bottomRight":C=!0,A=(U,q)=>[U,q],E=(U,q)=>[0,0];break;case"bottomMiddle":A=(U,q)=>[U/2,q],E=(U,q)=>[U/2,0];break;case"bottomLeft":C=!0,A=(U,q)=>[0,q],E=(U,q)=>[U,0];break;case"middleLeft":k=!0,A=(U,q)=>[0,q/2],E=(U,q)=>[U,q/2];break}const R=A(o,u),D=E(o,u);let I=v(...D);const P=ot._round(a+I[0]),M=ot._round(s+I[1]);let B=1,z=1,K,G;if(n.fromKeyboard)({deltaX:K,deltaY:G}=n);else{const{screenX:U,screenY:q}=n,[Z,ie]=m(this,qf);[K,G]=this.screenToPageTranslation(U-Z,q-ie),m(this,qf)[0]=U,m(this,qf)[1]=q}if([K,G]=w(K/r,G/i),C){const U=Math.hypot(o,u);B=z=Math.max(Math.min(Math.hypot(D[0]-R[0]-K,D[1]-R[1]-G)/U,1/o,1/u),c/o,f/u)}else k?B=bi(Math.abs(D[0]-R[0]-K),c,1)/o:z=bi(Math.abs(D[1]-R[1]-G),f,1)/u;const Y=ot._round(o*B),te=ot._round(u*z);I=v(...E(Y,te));const W=P-I[0],$=M-I[1];m(this,Ra)||L(this,Ra,[this.x,this.y,this.width,this.height]),this.width=Y,this.height=te,this.x=W,this.y=$,this.setDims(),this.fixAndSetPosition(),this._onResizing()},m7=function(){var e;L(this,Wl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=m(this,Tn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},g7=function(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const s=F(this,tt,g1).call(this,this.rotation),o=(P,M)=>[s[0]*P+s[2]*M,s[1]*P+s[3]*M],[u,c]=this.parentDimensions,f=this.x,h=this.y,v=this.width,y=this.height,w=ot.MIN_SIZE/u,A=ot.MIN_SIZE/c;a=Math.max(Math.min(a,1/v,1/y),w/v,A/y);const E=ot._round(v*a),C=ot._round(y*a);if(E===v&&C===y)return;m(this,Ra)||L(this,Ra,[f,h,v,y]);const k=o(v/2,y/2),R=ot._round(f+k[0]),D=ot._round(h+k[1]),I=o(E/2,C/2);this.x=R-I[0],this.y=D-I[1],this.width=E,this.height=C,this.setDims(),this.fixAndSetPosition(),this._onResizing()},v7=function(){var e;(e=m(this,Tn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),F(this,tt,v1).call(this)},Hk=function(e){const{isMac:n}=zr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},y7=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},o=c=>{i.abort(),L(this,Kc,null),L(this,$f,!1),this._uiManager.endDragSession()||F(this,tt,Hk).call(this,c),r&&this._onStopDragging()};n&&(L(this,Km,e.clientX),L(this,Xm,e.clientY),L(this,Kc,e.pointerId),L(this,hb,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:h,pointerId:v}=c;if(v!==m(this,Kc)){Ln(c);return}const[y,w]=this.screenToPageTranslation(f-m(this,Km),h-m(this,Xm));L(this,Km,f),L(this,Xm,h),this._uiManager.dragSelectedEditors(y,w)},s),window.addEventListener("touchmove",Ln,s),window.addEventListener("pointerdown",c=>{c.pointerType===m(this,hb)&&(m(this,Wf)||c.isPrimary)&&o(c),Ln(c)},s));const u=c=>{if(!m(this,Kc)||m(this,Kc)===c.pointerId){o(c);return}Ln(c)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},Gk=function(){if(m(this,Xc)||!this.div)return;L(this,Xc,new AbortController);const e=this._uiManager.combinedSignal(m(this,Xc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},b7=function(e){ot._resizerKeyboardManager.exec(this,e)},x7=function(e){var n;m(this,Yl)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==m(this,Jr)&&F(this,tt,Ky).call(this)},w7=function(e){L(this,pb,m(this,Yl)?e:"")},qk=function(e){if(m(this,Qs))for(const n of m(this,Qs))n.tabIndex=e},Ky=function(){L(this,Yl,!1),F(this,tt,qk).call(this,-1),F(this,tt,v1).call(this)},j(ot,vb),Se(ot,"_l10n",null),Se(ot,"_l10nResizer",null),Se(ot,"_borderLineWidth",-1),Se(ot,"_colorManager",new kk),Se(ot,"_zIndex",1),Se(ot,"_telemetryTimeout",1e3);let pn=ot;class OEe extends pn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const aH=3285377520,ps=4294901760,Co=65535;class S7{constructor(e){this.h1=e?e&4294967295:aH,this.h2=e?e&4294967295:aH}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let A=0,E=e.length;A<E;A++){const C=e.charCodeAt(A);C<=255?n[r++]=C:(n[r++]=C>>>8,n[r++]=C&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let o=0,u=0,c=this.h1,f=this.h2;const h=3432918353,v=461845907,y=h&Co,w=v&Co;for(let A=0;A<i;A++)A&1?(o=s[A],o=o*h&ps|o*y&Co,o=o<<15|o>>>17,o=o*v&ps|o*w&Co,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(u=s[A],u=u*h&ps|u*y&Co,u=u<<15|u>>>17,u=u*v&ps|u*w&Co,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(o=0,a){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*h&ps|o*y&Co,o=o<<15|o>>>17,o=o*v&ps|o*w&Co,i&1?c^=o:f^=o}this.h1=c,this.h2=f}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&ps|e*36045&Co,n=n*4283543511&ps|((n<<16|e>>>16)*2950163797&ps)>>>16,e^=n>>>1,e=e*444984403&ps|e*60499&Co,n=n*3301882366&ps|((n<<16|e>>>16)*3120437893&ps)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const $k=Object.freeze({map:null,hash:"",transfer:void 0});var Yf,Kf,Kl,Qr,cA,E7;class wI{constructor(){j(this,cA);j(this,Yf,!1);j(this,Kf,null);j(this,Kl,null);j(this,Qr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=m(this,Qr).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return m(this,Qr).get(e)}remove(e){const n=m(this,Qr).get(e);if(n!==void 0&&(n instanceof pn&&m(this,Kl).delete(n.annotationElementId),m(this,Qr).delete(e),m(this,Qr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of m(this,Qr).values())if(r instanceof pn)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=m(this,Qr).get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,m(this,Qr).set(e,n);i&&F(this,cA,E7).call(this),n instanceof pn&&((m(this,Kl)||L(this,Kl,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return m(this,Qr).has(e)}get size(){return m(this,Qr).size}resetModified(){m(this,Yf)&&(L(this,Yf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new A7(this)}get serializable(){if(m(this,Qr).size===0)return $k;const e=new Map,n=new S7,r=[],i=Object.create(null);let a=!1;for(const[s,o]of m(this,Qr)){const u=o instanceof pn?o.serialize(!1,i):o;u&&(e.set(s,u),n.update(`${s}:${JSON.stringify(u)}`),a||(a=!!u.bitmap))}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:$k}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const a of m(this,Qr).values()){if(!(a instanceof pn)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const s=a.telemetryFinalData;if(!s)continue;const{type:o}=s;n.has(o)||n.set(o,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[c,f]of Object.entries(s)){if(c==="type")continue;let h=u.get(c);h||(h=new Map,u.set(c,h));const v=h.get(f)??0;h.set(f,v+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[a,s]of n)e[a]=s.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){L(this,Kf,null)}updateEditor(e,n){var i;const r=(i=m(this,Kl))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=m(this,Kl))==null?void 0:n.get(e))||null}get modifiedIds(){if(m(this,Kf))return m(this,Kf);const e=[];if(m(this,Kl))for(const n of m(this,Kl).values())n.serialize()&&e.push(n.annotationElementId);return L(this,Kf,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return m(this,Qr).entries()}}Yf=new WeakMap,Kf=new WeakMap,Kl=new WeakMap,Qr=new WeakMap,cA=new WeakSet,E7=function(){m(this,Yf)||(L(this,Yf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var yb;class A7 extends wI{constructor(n){super();j(this,yb);const{map:r,hash:i,transfer:a}=n.serializable,s=structuredClone(r,a?{transfer:a}:null);L(this,yb,{map:s,hash:i,transfer:a})}get print(){fn("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,yb)}get modifiedIds(){return dt(this,"modifiedIds",{ids:new Set,hash:""})}}yb=new WeakMap;var Jm;class jEe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){j(this,Jm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,Jm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||m(this,Jm).has(e.loadedName))){if(At(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:s}=e,o=new FontFace(i,a,s);this.addNativeFontFace(o);try{await o.load(),m(this,Jm).add(i),r==null||r(e)}catch{st(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}fn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw st(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return dt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return dt(this,"isSyncFontLoadingSupported",ji||zr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(At(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return dt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(D,I){return D.charCodeAt(I)<<24|D.charCodeAt(I+1)<<16|D.charCodeAt(I+2)<<8|D.charCodeAt(I+3)&255}function i(D,I,P,M){const B=D.substring(0,I),z=D.substring(I+P);return B+M+z}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const u=o.getContext("2d");let c=0;function f(D,I){if(++c>30){st("Load test font never loaded."),I();return}if(u.font="30px "+D,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(f.bind(null,D,I))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=i(v,976,h.length,h);const w=16,A=1482184792;let E=r(v,w);for(a=0,s=h.length-3;a<s;a+=4)E=E-A+r(h,a)|0;a<h.length&&(E=E-A+r(h+"XXX",a)|0),v=i(v,w,4,AEe(E));const C=`url(data:font/opentype;base64,${btoa(v)});`,k=`@font-face {font-family:"${h}";src:${C}}`;this.insertRule(k);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const D of[e.loadedName,h]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=D,R.append(I)}this._document.body.append(R),f(h,()=>{R.remove(),n.complete()})}}Jm=new WeakMap;var Jt;class FEe{constructor(e,n=null,r,i){j(this,Jt);this.compiledGlyphs=Object.create(null),L(this,Jt,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${BW(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(s){st(`getPathGenerator - ignoring character: "${s}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}get black(){return m(this,Jt).black}get bold(){return m(this,Jt).bold}get disableFontFace(){return m(this,Jt).disableFontFace??!1}get fontExtraProperties(){return m(this,Jt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return m(this,Jt).isInvalidPDFjsFont}get isType3Font(){return m(this,Jt).isType3Font}get italic(){return m(this,Jt).italic}get missingFile(){return m(this,Jt).missingFile}get remeasure(){return m(this,Jt).remeasure}get vertical(){return m(this,Jt).vertical}get ascent(){return m(this,Jt).ascent}get defaultWidth(){return m(this,Jt).defaultWidth}get descent(){return m(this,Jt).descent}get bbox(){return m(this,Jt).bbox}get fontMatrix(){return m(this,Jt).fontMatrix}get fallbackName(){return m(this,Jt).fallbackName}get loadedName(){return m(this,Jt).loadedName}get mimetype(){return m(this,Jt).mimetype}get name(){return m(this,Jt).name}get data(){return m(this,Jt).data}clearData(){m(this,Jt).clearData()}get cssFontInfo(){return m(this,Jt).cssFontInfo}get systemFontInfo(){return m(this,Jt).systemFontInfo}get defaultVMetrics(){return m(this,Jt).defaultVMetrics}}Jt=new WeakMap;function UEe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(ji)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function BEe(t){if(ji&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return ew(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function $S(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const Vk=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,zEe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",_7=NEe.bind(null,Vk,zEe);var Xl,dA;class HEe{constructor(){j(this,Xl,new Map);j(this,dA,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};m(this,dA).then(()=>{for(const[i]of m(this,Xl))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:a}=r;if(a.aborted){st("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}m(this,Xl).set(n,i)}removeEventListener(e,n){const r=m(this,Xl).get(n);r==null||r(),m(this,Xl).delete(n)}terminate(){for(const[,e]of m(this,Xl))e==null||e();m(this,Xl).clear()}}Xl=new WeakMap,dA=new WeakMap;const VS={DATA:1,ERROR:2},sr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function sH(){}function ea(t){if(t instanceof Fu||t instanceof VE||t instanceof Qz||t instanceof F0||t instanceof W2)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||fn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Fu(t.message);case"InvalidPDFException":return new VE(t.message);case"PasswordException":return new Qz(t.message,t.code);case"ResponseException":return new F0(t.message,t.status,t.missing);case"UnknownErrorException":return new W2(t.message,t.details)}return new W2(t.message,t.toString())}var Qm,Ls,C7,T7,N7,y1;class Xy{constructor(e,n,r){j(this,Ls);j(this,Qm,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,Ls,C7).bind(this),{signal:m(this,Qm).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,u=this.comObj;return new ReadableStream({start:c=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:n,desiredSize:c.desiredSize},i),f.promise},pull:c=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,u.postMessage({sourceName:s,targetName:o,stream:sr.PULL,streamId:a,desiredSize:c.desiredSize}),f.promise},cancel:c=>{At(c instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:s,targetName:o,stream:sr.CANCEL,streamId:a,reason:ea(c)}),f.promise}},r)}destroy(){var e;(e=m(this,Qm))==null||e.abort(),L(this,Qm,null)}}Qm=new WeakMap,Ls=new WeakSet,C7=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){F(this,Ls,N7).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===VS.DATA)i.resolve(e.data);else if(e.callback===VS.ERROR)i.reject(ea(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:VS.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:VS.ERROR,callbackId:e.callbackId,reason:ea(s)})});return}if(e.streamId){F(this,Ls,T7).call(this,e);return}n(e.data)},T7=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],u={enqueue(c,f=1,h){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=f,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:sr.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:sr.CLOSE,streamId:n}),delete s.streamSinks[n])},error(c){At(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:sr.ERROR,streamId:n,reason:ea(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[n]=u,Promise.try(o,e.data,u).then(function(){a.postMessage({sourceName:r,targetName:i,stream:sr.START_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:sr.START_COMPLETE,streamId:n,reason:ea(c)})})},N7=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case sr.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(ea(e.reason));break;case sr.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(ea(e.reason));break;case sr.PULL:if(!o){a.postMessage({sourceName:r,targetName:i,stream:sr.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||sH).then(function(){a.postMessage({sourceName:r,targetName:i,stream:sr.PULL_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:sr.PULL_COMPLETE,streamId:n,reason:ea(c)})});break;case sr.ENQUEUE:if(At(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case sr.CLOSE:if(At(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),F(this,Ls,y1).call(this,s,n);break;case sr.ERROR:At(s,"error should have stream controller"),s.controller.error(ea(e.reason)),F(this,Ls,y1).call(this,s,n);break;case sr.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(ea(e.reason)),F(this,Ls,y1).call(this,s,n);break;case sr.CANCEL:if(!o)break;const u=ea(e.reason);Promise.try(o.onCancel||sH,u).then(function(){a.postMessage({sourceName:r,targetName:i,stream:sr.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:sr.CANCEL_COMPLETE,streamId:n,reason:ea(c)})}),o.sinkCapability.reject(u),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},y1=async function(e,n){var r,i,a;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[n]};var bb;class R7{constructor({enableHWA:e=!1}){j(this,bb,!1);L(this,bb,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,bb)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){fn("Abstract method `_createCanvas` called.")}}bb=new WeakMap;class GEe extends R7{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class k7{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){fn("Abstract method `_fetch` called.")}}class oH extends k7{async _fetch(e){const n=await Pv(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):ew(n)}}class M7{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}var Xf,Zm,Jl,Ql,pi,Jf,Qf,Pe,di,Jy,rm,b1,im,P7,Wk,am,Qy,Zy,Yk,e0;class qEe extends M7{constructor({docId:n,ownerDocument:r=globalThis.document}){super();j(this,Pe);j(this,Xf);j(this,Zm);j(this,Jl);j(this,Ql);j(this,pi);j(this,Jf);j(this,Qf,0);L(this,Ql,n),L(this,pi,r)}addFilter(n){if(!n)return"none";let r=m(this,Pe,di).get(n);if(r)return r;const[i,a,s]=F(this,Pe,b1).call(this,n),o=n.length===1?i:`${i}${a}${s}`;if(r=m(this,Pe,di).get(o),r)return m(this,Pe,di).set(n,r),r;const u=`g_${m(this,Ql)}_transfer_map_${mr(this,Qf)._++}`,c=F(this,Pe,im).call(this,u);m(this,Pe,di).set(n,c),m(this,Pe,di).set(o,c);const f=F(this,Pe,am).call(this,u);return F(this,Pe,Zy).call(this,i,a,s,f),c}addHCMFilter(n,r){var w;const i=`${n}-${r}`,a="base";let s=m(this,Pe,Jy).get(a);if((s==null?void 0:s.key)===i||(s?((w=s.filter)==null||w.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},m(this,Pe,Jy).set(a,s)),!n||!r))return s.url;const o=F(this,Pe,e0).call(this,n);n=Ie.makeHexColor(...o);const u=F(this,Pe,e0).call(this,r);if(r=Ie.makeHexColor(...u),m(this,Pe,rm).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const c=new Array(256);for(let A=0;A<=255;A++){const E=A/255;c[A]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const f=c.join(","),h=`g_${m(this,Ql)}_hcm_filter`,v=s.filter=F(this,Pe,am).call(this,h);F(this,Pe,Zy).call(this,f,f,f,v),F(this,Pe,Wk).call(this,v);const y=(A,E)=>{const C=o[A]/255,k=u[A]/255,R=new Array(E+1);for(let D=0;D<=E;D++)R[D]=C+D/E*(k-C);return R.join(",")};return F(this,Pe,Zy).call(this,y(0,5),y(1,5),y(2,5),v),s.url=F(this,Pe,im).call(this,h),s.url}addAlphaFilter(n){let r=m(this,Pe,di).get(n);if(r)return r;const[i]=F(this,Pe,b1).call(this,[n]),a=`alpha_${i}`;if(r=m(this,Pe,di).get(a),r)return m(this,Pe,di).set(n,r),r;const s=`g_${m(this,Ql)}_alpha_map_${mr(this,Qf)._++}`,o=F(this,Pe,im).call(this,s);m(this,Pe,di).set(n,o),m(this,Pe,di).set(a,o);const u=F(this,Pe,am).call(this,s);return F(this,Pe,Yk).call(this,i,u),o}addLuminosityFilter(n){let r=m(this,Pe,di).get(n||"luminosity");if(r)return r;let i,a;if(n?([i]=F(this,Pe,b1).call(this,[n]),a=`luminosity_${i}`):a="luminosity",r=m(this,Pe,di).get(a),r)return m(this,Pe,di).set(n,r),r;const s=`g_${m(this,Ql)}_luminosity_map_${mr(this,Qf)._++}`,o=F(this,Pe,im).call(this,s);m(this,Pe,di).set(n,o),m(this,Pe,di).set(a,o);const u=F(this,Pe,am).call(this,s);return F(this,Pe,P7).call(this,u),n&&F(this,Pe,Yk).call(this,i,u),o}addHighlightHCMFilter(n,r,i,a,s){var k;const o=`${r}-${i}-${a}-${s}`;let u=m(this,Pe,Jy).get(n);if((u==null?void 0:u.key)===o||(u?((k=u.filter)==null||k.remove(),u.key=o,u.url="none",u.filter=null):(u={key:o,url:"none",filter:null},m(this,Pe,Jy).set(n,u)),!r||!i))return u.url;const[c,f]=[r,i].map(F(this,Pe,e0).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),v=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,w]=[a,s].map(F(this,Pe,e0).bind(this));v<h&&([h,v,y,w]=[v,h,w,y]),m(this,Pe,rm).style.color="";const A=(R,D,I)=>{const P=new Array(256),M=(v-h)/I,B=R/255,z=(D-R)/(255*I);let K=0;for(let G=0;G<=I;G++){const Y=Math.round(h+G*M),te=B+G*z;for(let W=K;W<=Y;W++)P[W]=te;K=Y+1}for(let G=K;G<256;G++)P[G]=P[K-1];return P.join(",")},E=`g_${m(this,Ql)}_hcm_${n}_filter`,C=u.filter=F(this,Pe,am).call(this,E);return F(this,Pe,Wk).call(this,C),F(this,Pe,Zy).call(this,A(y[0],w[0],5),A(y[1],w[1],5),A(y[2],w[2],5),C),u.url=F(this,Pe,im).call(this,E),u.url}destroy(n=!1){var r,i,a,s;n&&((r=m(this,Jf))!=null&&r.size)||((i=m(this,Jl))==null||i.parentNode.parentNode.remove(),L(this,Jl,null),(a=m(this,Zm))==null||a.clear(),L(this,Zm,null),(s=m(this,Jf))==null||s.clear(),L(this,Jf,null),L(this,Qf,0))}}Xf=new WeakMap,Zm=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,pi=new WeakMap,Jf=new WeakMap,Qf=new WeakMap,Pe=new WeakSet,di=function(){return m(this,Zm)||L(this,Zm,new Map)},Jy=function(){return m(this,Jf)||L(this,Jf,new Map)},rm=function(){if(!m(this,Jl)){const n=m(this,pi).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,pi).createElementNS(Dl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),L(this,Jl,m(this,pi).createElementNS(Dl,"defs")),n.append(i),i.append(m(this,Jl)),m(this,pi).body.append(n)}return m(this,Jl)},b1=function(n){if(n.length===1){const c=n[0],f=new Array(256);for(let v=0;v<256;v++)f[v]=c[v]/255;const h=f.join(",");return[h,h,h]}const[r,i,a]=n,s=new Array(256),o=new Array(256),u=new Array(256);for(let c=0;c<256;c++)s[c]=r[c]/255,o[c]=i[c]/255,u[c]=a[c]/255;return[s.join(","),o.join(","),u.join(",")]},im=function(n){if(m(this,Xf)===void 0){L(this,Xf,"");const r=m(this,pi).URL;r!==m(this,pi).baseURI&&(nw(r)?st('#createUrl: ignore "data:"-URL for performance reasons.'):L(this,Xf,gI(r,"")))}return`url(${m(this,Xf)}#${n})`},P7=function(n){const r=m(this,pi).createElementNS(Dl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},Wk=function(n){const r=m(this,pi).createElementNS(Dl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},am=function(n){const r=m(this,pi).createElementNS(Dl,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),m(this,Pe,rm).append(r),r},Qy=function(n,r,i){const a=m(this,pi).createElementNS(Dl,r);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),n.append(a)},Zy=function(n,r,i,a){const s=m(this,pi).createElementNS(Dl,"feComponentTransfer");a.append(s),F(this,Pe,Qy).call(this,s,"feFuncR",n),F(this,Pe,Qy).call(this,s,"feFuncG",r),F(this,Pe,Qy).call(this,s,"feFuncB",i)},Yk=function(n,r){const i=m(this,pi).createElementNS(Dl,"feComponentTransfer");r.append(i),F(this,Pe,Qy).call(this,i,"feFuncA",n)},e0=function(n){return m(this,Pe,rm).style.color=n,Dv(getComputedStyle(m(this,Pe,rm)).getPropertyValue("color"))};class D7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){fn("Abstract method `_fetch` called.")}}class lH extends D7{async _fetch(e){const n=await Pv(e,"arraybuffer");return new Uint8Array(n)}}class I7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){fn("Abstract method `_fetch` called.")}}class uH extends I7{async _fetch(e){const n=await Pv(e,"arraybuffer");return new Uint8Array(n)}}ji&&st("Please use the `legacy` build in Node.js environments.");async function SI(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class $Ee extends M7{}class VEe extends R7{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class WEe extends k7{async _fetch(e){return SI(e)}}class YEe extends D7{async _fetch(e){return SI(e)}}class KEe extends I7{async _fetch(e){return SI(e)}}const Jp="__forcedDependency",{floor:cH,ceil:dH}=Math;function WS(t,e,n,r,i,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],a)}const Kk=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var eg,Jc;class XEe{constructor(e,n){j(this,eg);j(this,Jc);L(this,eg,e),L(this,Jc,n)}get length(){return m(this,eg).length}isEmpty(e){return m(this,eg)[e]===Kk}minX(e){return m(this,Jc)[e*4+0]/256}minY(e){return m(this,Jc)[e*4+1]/256}maxX(e){return(m(this,Jc)[e*4+2]+1)/256}maxY(e){return(m(this,Jc)[e*4+3]+1)/256}}eg=new WeakMap,Jc=new WeakMap;const YS=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var ra,ia,Zf,Zs,eh,Zl,qt,Qt,eu,aa,xb,tg,th,nh,tu,mi,Fo,wb,Xk;class JEe{constructor(e,n,r=!1){j(this,wb);j(this,ra,{__proto__:null});j(this,ia,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Jp]:[]});j(this,Zf,new Map);j(this,Zs,[]);j(this,eh,[]);j(this,Zl,[[1,0,0,1,0,0]]);j(this,qt,[-1/0,-1/0,1/0,1/0]);j(this,Qt,new Float64Array([1/0,1/0,-1/0,-1/0]));j(this,eu,-1);j(this,aa,new Set);j(this,xb,new Map);j(this,tg,new Map);j(this,th);j(this,nh);j(this,tu);j(this,mi);j(this,Fo);L(this,th,e.width),L(this,nh,e.height),F(this,wb,Xk).call(this,n),r&&L(this,Fo,new Map)}growOperationsCount(e){e>=m(this,mi).length&&F(this,wb,Xk).call(this,e,m(this,mi))}save(e){return L(this,ra,{__proto__:m(this,ra)}),L(this,ia,{__proto__:m(this,ia),transform:{__proto__:m(this,ia).transform},moveText:{__proto__:m(this,ia).moveText},sameLineText:{__proto__:m(this,ia).sameLineText},[Jp]:{__proto__:m(this,ia)[Jp]}}),L(this,qt,{__proto__:m(this,qt)}),m(this,Zs).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(m(this,ra));if(n===null)return this;L(this,ra,n),L(this,ia,Object.getPrototypeOf(m(this,ia))),L(this,qt,Object.getPrototypeOf(m(this,qt)));const r=m(this,Zs).pop();return r!==void 0&&((i=YS(m(this,Fo),e))==null||i.dependencies.add(r),m(this,mi)[e]=m(this,mi)[r]),this}recordOpenMarker(e){return m(this,Zs).push(e),this}getOpenMarker(){return m(this,Zs).length===0?null:m(this,Zs).at(-1)}recordCloseMarker(e){var r;const n=m(this,Zs).pop();return n!==void 0&&((r=YS(m(this,Fo),e))==null||r.dependencies.add(n),m(this,mi)[e]=m(this,mi)[n]),this}beginMarkedContent(e){return m(this,eh).push(e),this}endMarkedContent(e){var r;const n=m(this,eh).pop();return n!==void 0&&((r=YS(m(this,Fo),e))==null||r.dependencies.add(n),m(this,mi)[e]=m(this,mi)[n]),this}pushBaseTransform(e){return m(this,Zl).push(Ie.multiplyByDOMMatrix(m(this,Zl).at(-1),e.getTransform())),this}popBaseTransform(){return m(this,Zl).length>1&&m(this,Zl).pop(),this}recordSimpleData(e,n){return m(this,ra)[e]=n,this}recordIncrementalData(e,n){return m(this,ia)[e].push(n),this}resetIncrementalData(e,n){return m(this,ia)[e].length=0,this}recordNamedData(e,n){return m(this,Zf).set(e,n),this}recordSimpleDataFromNamed(e,n,r){m(this,ra)[e]=m(this,Zf).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Jp,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in m(this,ra)&&this.recordFutureForcedDependency(n,m(this,ra)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of m(this,aa))this.recordFutureForcedDependency(Jp,e);return this}resetBBox(e){return m(this,eu)!==e&&(L(this,eu,e),m(this,Qt)[0]=1/0,m(this,Qt)[1]=1/0,m(this,Qt)[2]=-1/0,m(this,Qt)[3]=-1/0),this}recordClipBox(e,n,r,i,a,s){const o=Ie.multiplyByDOMMatrix(m(this,Zl).at(-1),n.getTransform()),u=[1/0,1/0,-1/0,-1/0];Ie.axialAlignedBoundingBox([r,a,i,s],o,u);const c=Ie.intersect(m(this,qt),u);return c?(m(this,qt)[0]=c[0],m(this,qt)[1]=c[1],m(this,qt)[2]=c[2],m(this,qt)[3]=c[3]):(m(this,qt)[0]=m(this,qt)[1]=1/0,m(this,qt)[2]=m(this,qt)[3]=-1/0),this}recordBBox(e,n,r,i,a,s){const o=m(this,qt);if(o[0]===1/0)return this;const u=Ie.multiplyByDOMMatrix(m(this,Zl).at(-1),n.getTransform());if(o[0]===-1/0)return Ie.axialAlignedBoundingBox([r,a,i,s],u,m(this,Qt)),this;const c=[1/0,1/0,-1/0,-1/0];return Ie.axialAlignedBoundingBox([r,a,i,s],u,c),m(this,Qt)[0]=Math.min(m(this,Qt)[0],Math.max(c[0],o[0])),m(this,Qt)[1]=Math.min(m(this,Qt)[1],Math.max(c[1],o[1])),m(this,Qt)[2]=Math.max(m(this,Qt)[2],Math.min(c[2],o[2])),m(this,Qt)[3]=Math.max(m(this,Qt)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,a=0,s=0,o){const u=r.bbox;let c,f;if(u&&(c=u[2]!==u[0]&&u[3]!==u[1]&&m(this,tg).get(r),c!==!1&&(f=[0,0,0,0],Ie.axialAlignedBoundingBox(u,r.fontMatrix,f),(i!==1||a!==0||s!==0)&&Ie.scaleMinMax([i,0,0,-i,a,s],f),c)))return this.recordBBox(e,n,f[0],f[2],f[1],f[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return u&&f&&c===void 0&&(c=f[0]<=a-h.actualBoundingBoxLeft&&f[2]>=a+h.actualBoundingBoxRight&&f[1]<=s-h.actualBoundingBoxAscent&&f[3]>=s+h.actualBoundingBoxDescent,m(this,tg).set(r,c),c)?this.recordBBox(e,n,f[0],f[2],f[1],f[3]):this.recordBBox(e,n,a-h.actualBoundingBoxLeft,a+h.actualBoundingBoxRight,s-h.actualBoundingBoxAscent,s+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return m(this,Qt)[0]=Math.max(0,m(this,qt)[0]),m(this,Qt)[1]=Math.max(0,m(this,qt)[1]),m(this,Qt)[2]=Math.min(m(this,th),m(this,qt)[2]),m(this,Qt)[3]=Math.min(m(this,nh),m(this,qt)[3]),this}getSimpleIndex(e){return m(this,ra)[e]}recordDependencies(e,n){const r=m(this,aa),i=m(this,ra),a=m(this,ia);for(const s of n)s in m(this,ra)?r.add(i[s]):s in a&&a[s].forEach(r.add,r);return this}recordNamedDependency(e,n){return m(this,Zf).has(n)&&m(this,aa).add(m(this,Zf).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Jp]),m(this,Fo)){const r=YS(m(this,Fo),e),{dependencies:i}=r;m(this,aa).forEach(i.add,i),m(this,Zs).forEach(i.add,i),m(this,eh).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(m(this,eu)===e){const r=cH(m(this,Qt)[0]*256/m(this,th)),i=cH(m(this,Qt)[1]*256/m(this,nh)),a=dH(m(this,Qt)[2]*256/m(this,th)),s=dH(m(this,Qt)[3]*256/m(this,nh));WS(m(this,tu),e,r,i,a,s);for(const o of m(this,aa))o!==e&&WS(m(this,tu),o,r,i,a,s);for(const o of m(this,Zs))o!==e&&WS(m(this,tu),o,r,i,a,s);for(const o of m(this,eh))o!==e&&WS(m(this,tu),o,r,i,a,s);n||(m(this,aa).clear(),L(this,eu,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(m(this,aa));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return m(this,eu)===e&&(L(this,eu,-1),m(this,qt)[0]=Math.max(m(this,qt)[0],m(this,Qt)[0]),m(this,qt)[1]=Math.max(m(this,qt)[1],m(this,Qt)[1]),m(this,qt)[2]=Math.min(m(this,qt)[2],m(this,Qt)[2]),m(this,qt)[3]=Math.min(m(this,qt)[3],m(this,Qt)[3]),n||m(this,aa).clear()),this}_takePendingDependencies(){const e=m(this,aa);return L(this,aa,new Set),e}_extractOperation(e){const n=m(this,xb).get(e);return m(this,xb).delete(e),n}_pushPendingDependencies(e){for(const n of e)m(this,aa).add(n)}take(){return m(this,tg).clear(),new XEe(m(this,mi),m(this,tu))}takeDebugMetadata(){return m(this,Fo)}}ra=new WeakMap,ia=new WeakMap,Zf=new WeakMap,Zs=new WeakMap,eh=new WeakMap,Zl=new WeakMap,qt=new WeakMap,Qt=new WeakMap,eu=new WeakMap,aa=new WeakMap,xb=new WeakMap,tg=new WeakMap,th=new WeakMap,nh=new WeakMap,tu=new WeakMap,mi=new WeakMap,Fo=new WeakMap,wb=new WeakSet,Xk=function(e,n){const r=new ArrayBuffer(e*4);L(this,tu,new Uint8ClampedArray(r)),L(this,mi,new Uint32Array(r)),n&&n.length>0?(m(this,mi).set(n),m(this,mi).fill(Kk,n.length)):m(this,mi).fill(Kk)};var on,zn,eo,ng,rg;const DI=class DI{constructor(e,n,r){j(this,on);j(this,zn);j(this,eo);j(this,ng,0);j(this,rg,0);if(e instanceof DI&&m(e,eo)===!!r)return e;L(this,on,e),L(this,zn,n),L(this,eo,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return mr(this,rg)._++,m(this,on).save(m(this,zn)),this}restore(e){return m(this,rg)>0&&(m(this,on).restore(m(this,zn)),mr(this,rg)._--),this}recordOpenMarker(e){return mr(this,ng)._++,this}getOpenMarker(){return m(this,ng)>0?m(this,zn):m(this,on).getOpenMarker()}recordCloseMarker(e){return mr(this,ng)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return m(this,on).pushBaseTransform(e),this}popBaseTransform(){return m(this,on).popBaseTransform(),this}recordSimpleData(e,n){return m(this,on).recordSimpleData(e,m(this,zn)),this}recordIncrementalData(e,n){return m(this,on).recordIncrementalData(e,m(this,zn)),this}resetIncrementalData(e,n){return m(this,on).resetIncrementalData(e,m(this,zn)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return m(this,on).recordSimpleDataFromNamed(e,n,m(this,zn)),this}recordFutureForcedDependency(e,n){return m(this,on).recordFutureForcedDependency(e,m(this,zn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return m(this,on).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return m(this,on).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return m(this,eo)||m(this,on).resetBBox(m(this,zn)),this}recordClipBox(e,n,r,i,a,s){return m(this,eo)||m(this,on).recordClipBox(m(this,zn),n,r,i,a,s),this}recordBBox(e,n,r,i,a,s){return m(this,eo)||m(this,on).recordBBox(m(this,zn),n,r,i,a,s),this}recordCharacterBBox(e,n,r,i,a,s,o){return m(this,eo)||m(this,on).recordCharacterBBox(m(this,zn),n,r,i,a,s,o),this}recordFullPageBBox(e){return m(this,eo)||m(this,on).recordFullPageBBox(m(this,zn)),this}getSimpleIndex(e){return m(this,on).getSimpleIndex(e)}recordDependencies(e,n){return m(this,on).recordDependencies(m(this,zn),n),this}recordNamedDependency(e,n){return m(this,on).recordNamedDependency(m(this,zn),n),this}recordOperation(e){return m(this,on).recordOperation(m(this,zn),!0),this}recordShowTextOperation(e){return m(this,on).recordShowTextOperation(m(this,zn),!0),this}bboxToClipBoxDropOperation(e){return m(this,eo)||m(this,on).bboxToClipBoxDropOperation(m(this,zn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};on=new WeakMap,zn=new WeakMap,eo=new WeakMap,ng=new WeakMap,rg=new WeakMap;let KE=DI;const ms={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ni={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Jk(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class EI{isModifyingCurrentTransform(){return!1}getPattern(){fn("Abstract method `getPattern` called.")}}class QEe extends EI{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===ni.STROKE||i===ni.FILL){const s=n.current.getClippedPathBoundingBox(i,Dn(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,u=Math.ceil(s[3]-s[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,u),f=c.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-s[0],-s[1]),r=Ie.transform(r,[1,0,0,1,s[0],s[1]]),f.transform(...n.baseTransform),this.matrix&&f.transform(...this.matrix),Jk(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);a.setTransform(h)}else Jk(e,this._bbox),a=this._createGradient(e);return a}}function X2(t,e,n,r,i,a,s,o){const u=e.coords,c=e.colors,f=t.data,h=t.width*4;let v;u[n+1]>u[r+1]&&(v=n,n=r,r=v,v=a,a=s,s=v),u[r+1]>u[i+1]&&(v=r,r=i,i=v,v=s,s=o,o=v),u[n+1]>u[r+1]&&(v=n,n=r,r=v,v=a,a=s,s=v);const y=(u[n]+e.offsetX)*e.scaleX,w=(u[n+1]+e.offsetY)*e.scaleY,A=(u[r]+e.offsetX)*e.scaleX,E=(u[r+1]+e.offsetY)*e.scaleY,C=(u[i]+e.offsetX)*e.scaleX,k=(u[i+1]+e.offsetY)*e.scaleY;if(w>=k)return;const R=c[a],D=c[a+1],I=c[a+2],P=c[s],M=c[s+1],B=c[s+2],z=c[o],K=c[o+1],G=c[o+2],Y=Math.round(w),te=Math.round(k);let W,$,U,q,Z,ie,be,V;for(let J=Y;J<=te;J++){if(J<E){const Ae=J<w?0:(w-J)/(w-E);W=y-(y-A)*Ae,$=R-(R-P)*Ae,U=D-(D-M)*Ae,q=I-(I-B)*Ae}else{let Ae;J>k?Ae=1:E===k?Ae=0:Ae=(E-J)/(E-k),W=A-(A-C)*Ae,$=P-(P-z)*Ae,U=M-(M-K)*Ae,q=B-(B-G)*Ae}let oe;J<w?oe=0:J>k?oe=1:oe=(w-J)/(w-k),Z=y-(y-C)*oe,ie=R-(R-z)*oe,be=D-(D-K)*oe,V=I-(I-G)*oe;const ve=Math.round(Math.min(W,Z)),xe=Math.round(Math.max(W,Z));let _e=h*J+ve*4;for(let Ae=ve;Ae<=xe;Ae++)oe=(W-Ae)/(W-Z),oe<0?oe=0:oe>1&&(oe=1),f[_e++]=$-($-ie)*oe|0,f[_e++]=U-(U-be)*oe|0,f[_e++]=q-(q-V)*oe|0,f[_e++]=255}}function ZEe(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,u=Math.floor(r.length/o)-1,c=o-1;for(a=0;a<u;a++){let f=a*o;for(let h=0;h<c;h++,f++)X2(t,n,r[f],r[f+1],r[f+o],i[f],i[f+1],i[f+o]),X2(t,n,r[f+o+1],r[f+1],r[f+o],i[f+o+1],i[f+1],i[f+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)X2(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class eAe extends EI{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,f=Math.ceil(this._bounds[3])-u,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),y=c/h,w=f/v,A={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-u,scaleX:1/y,scaleY:1/w},E=h+4,C=v+4,k=r.getCanvas("mesh",E,C),R=k.context,D=R.createImageData(h,v);if(n){const P=D.data;for(let M=0,B=P.length;M<B;M+=4)P[M]=n[0],P[M+1]=n[1],P[M+2]=n[2],P[M+3]=255}for(const P of this._figures)ZEe(D,P,A);return R.putImageData(D,2,2),{canvas:k.canvas,offsetX:o-2*y,offsetY:u-2*w,scaleX:y,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){Jk(e,this._bbox);const a=new Float32Array(2);if(i===ni.SHADING)Ie.singularValueDecompose2dScale(Dn(e),a);else if(this.matrix){Ie.singularValueDecompose2dScale(this.matrix,a);const[o,u]=a;Ie.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=o,a[1]*=u}else Ie.singularValueDecompose2dScale(n.baseTransform,a);const s=this._createMeshCanvas(a,i===ni.SHADING?null:this._background,n.cachedCanvases);return i!==ni.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class tAe extends EI{getPattern(){return"hotpink"}}function nAe(t){switch(t[0]){case"RadialAxial":return new QEe(t);case"Mesh":return new eAe(t);case"Dummy":return new tAe}throw new Error(`Unknown IR type: ${t[0]}`)}const fH={COLORED:1,UNCOLORED:2},fA=class fA{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var ie,be;const{bbox:r,operatorList:i,paintType:a,tilingType:s,color:o,canvasGraphicsFactory:u}=this;let{xstep:c,ystep:f}=this;c=Math.abs(c),f=Math.abs(f),R_("TilingType: "+s);const h=r[0],v=r[1],y=r[2],w=r[3],A=y-h,E=w-v,C=new Float32Array(2);Ie.singularValueDecompose2dScale(this.matrix,C);const[k,R]=C;Ie.singularValueDecompose2dScale(this.baseTransform,C);const D=k*C[0],I=R*C[1];let P=A,M=E,B=!1,z=!1;const K=Math.ceil(c*D),G=Math.ceil(f*I),Y=Math.ceil(A*D),te=Math.ceil(E*I);K>=Y?P=c:B=!0,G>=te?M=f:z=!0;const W=this.getSizeAndScale(P,this.ctx.canvas.width,D),$=this.getSizeAndScale(M,this.ctx.canvas.height,I),U=e.cachedCanvases.getCanvas("pattern",W.size,$.size),q=U.context,Z=u.createCanvasGraphics(q,n);if(Z.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Z,a,o),q.translate(-W.scale*h,-$.scale*v),Z.transform(0,W.scale,0,0,$.scale,0,0),q.save(),(ie=Z.dependencyTracker)==null||ie.save(),this.clipBbox(Z,h,v,y,w),Z.baseTransform=Dn(Z.ctx),Z.executeOperatorList(i),Z.endDrawing(),(be=Z.dependencyTracker)==null||be.restore(),q.restore(),B||z){const V=U.canvas;B&&(P=c),z&&(M=f);const J=this.getSizeAndScale(P,this.ctx.canvas.width,D),oe=this.getSizeAndScale(M,this.ctx.canvas.height,I),ve=J.size,xe=oe.size,_e=e.cachedCanvases.getCanvas("pattern-workaround",ve,xe),Ae=_e.context,pt=B?Math.floor(A/c):0,de=z?Math.floor(E/f):0;for(let Re=0;Re<=pt;Re++)for(let Xe=0;Xe<=de;Xe++)Ae.drawImage(V,ve*Re,xe*Xe,ve,xe,0,0,ve,xe);return{canvas:_e.canvas,scaleX:J.scale,scaleY:oe.scale,offsetX:h,offsetY:v}}return{canvas:U.canvas,scaleX:W.scale,scaleY:$.scale,offsetX:h,offsetY:v}}getSizeAndScale(e,n,r){const i=Math.max(fA.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,o=a-r;e.ctx.rect(n,r,s,o),Ie.axialAlignedBoundingBox([n,r,i,a],Dn(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case fH.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;i.fillStyle=a.fillColor=s,i.strokeStyle=a.strokeColor=o;break;case fH.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new EEe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,a){let s=r;i!==ni.SHADING&&(s=Ie.transform(s,n.baseTransform),this.matrix&&(s=Ie.transform(s,this.matrix)));const o=this.createPatternCanvas(n,a);let u=new DOMMatrix(s);u=u.translate(o.offsetX,o.offsetY),u=u.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(u),c}};Se(fA,"MAX_PATTERN_SIZE",3e3);let Qk=fA;function rAe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=zr.isLittleEndian?4278190080:255,[u,c]=s?[a,o]:[o,a],f=r>>3,h=r&7,v=t.length;n=new Uint32Array(n.buffer);let y=0;for(let w=0;w<i;w++){for(const E=e+f;e<E;e++){const C=e<v?t[e]:255;n[y++]=C&128?c:u,n[y++]=C&64?c:u,n[y++]=C&32?c:u,n[y++]=C&16?c:u,n[y++]=C&8?c:u,n[y++]=C&4?c:u,n[y++]=C&2?c:u,n[y++]=C&1?c:u}if(h===0)continue;const A=e<v?t[e++]:255;for(let E=0;E<h;E++)n[y++]=A&1<<7-E?c:u}return{srcPos:e,destPos:y}}const hH=16,pH=100,iAe=15,mH=10,ca=16,J2=new DOMMatrix,Va=new Float32Array(2),pm=new Float32Array([1/0,1/0,-1/0,-1/0]);function aAe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,a,s,o){e.transform(n,r,i,a,s,o),this.__originalTransform(n,r,i,a,s,o)},t.setTransform=function(n,r,i,a,s,o){e.setTransform(n,r,i,a,s,o),this.__originalSetTransform(n,r,i,a,s,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,o){e.bezierCurveTo(n,r,i,a,s,o),this.__originalBezierCurveTo(n,r,i,a,s,o)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class sAe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function KS(t,e,n,r,i,a,s,o,u,c){const[f,h,v,y,w,A]=Dn(t);if(h===0&&v===0){const k=s*f+w,R=Math.round(k),D=o*y+A,I=Math.round(D),P=(s+u)*f+w,M=Math.abs(Math.round(P)-R)||1,B=(o+c)*y+A,z=Math.abs(Math.round(B)-I)||1;return t.setTransform(Math.sign(f),0,0,Math.sign(y),R,I),t.drawImage(e,n,r,i,a,0,0,M,z),t.setTransform(f,h,v,y,w,A),[M,z]}if(f===0&&y===0){const k=o*v+w,R=Math.round(k),D=s*h+A,I=Math.round(D),P=(o+c)*v+w,M=Math.abs(Math.round(P)-R)||1,B=(s+u)*h+A,z=Math.abs(Math.round(B)-I)||1;return t.setTransform(0,Math.sign(h),Math.sign(v),0,R,I),t.drawImage(e,n,r,i,a,0,0,z,M),t.setTransform(f,h,v,y,w,A),[z,M]}t.drawImage(e,n,r,i,a,s,o,u,c);const E=Math.hypot(f,h),C=Math.hypot(v,y);return[E*u,C*c]}class gH{constructor(e,n,r){Se(this,"alphaIsShape",!1);Se(this,"fontSize",0);Se(this,"fontSizeScale",1);Se(this,"textMatrix",null);Se(this,"textMatrixScale",1);Se(this,"fontMatrix",Ak);Se(this,"leading",0);Se(this,"x",0);Se(this,"y",0);Se(this,"lineX",0);Se(this,"lineY",0);Se(this,"charSpacing",0);Se(this,"wordSpacing",0);Se(this,"textHScale",1);Se(this,"textRenderingMode",Kr.FILL);Se(this,"textRise",0);Se(this,"fillColor","#000000");Se(this,"strokeColor","#000000");Se(this,"patternFill",!1);Se(this,"patternStroke",!1);Se(this,"fillAlpha",1);Se(this,"strokeAlpha",1);Se(this,"lineWidth",1);Se(this,"activeSMask",null);Se(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=pm.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ni.FILL,n=null){const r=this.minMax.slice();if(e===ni.STROKE){n||fn("Stroke bounding box must include transform."),Ie.singularValueDecompose2dScale(n,Va);const i=Va[0]*this.lineWidth/2,a=Va[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=Ie.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(pm,0)}getClippedPathBoundingBox(e=ni.FILL,n=null){return Ie.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function vH(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%ca,a=(n-i)/ca,s=i===0?a:a+1,o=t.createImageData(r,ca);let u=0,c;const f=e.data,h=o.data;let v,y,w,A;if(e.kind===p0.GRAYSCALE_1BPP){const E=f.byteLength,C=new Uint32Array(h.buffer,0,h.byteLength>>2),k=C.length,R=r+7>>3,D=4294967295,I=zr.isLittleEndian?4278190080:255;for(v=0;v<s;v++){for(w=v<a?ca:i,c=0,y=0;y<w;y++){const P=E-u;let M=0;const B=P>R?r:P*8-7,z=B&-8;let K=0,G=0;for(;M<z;M+=8)G=f[u++],C[c++]=G&128?D:I,C[c++]=G&64?D:I,C[c++]=G&32?D:I,C[c++]=G&16?D:I,C[c++]=G&8?D:I,C[c++]=G&4?D:I,C[c++]=G&2?D:I,C[c++]=G&1?D:I;for(;M<B;M++)K===0&&(G=f[u++],K=128),C[c++]=G&K?D:I,K>>=1}for(;c<k;)C[c++]=0;t.putImageData(o,0,v*ca)}}else if(e.kind===p0.RGBA_32BPP){for(y=0,A=r*ca*4,v=0;v<a;v++)h.set(f.subarray(u,u+A)),u+=A,t.putImageData(o,0,y),y+=ca;v<s&&(A=r*i*4,h.set(f.subarray(u,u+A)),t.putImageData(o,0,y))}else if(e.kind===p0.RGB_24BPP)for(w=ca,A=r*w,v=0;v<s;v++){for(v>=a&&(w=i,A=r*w),c=0,y=A;y--;)h[c++]=f[u++],h[c++]=f[u++],h[c++]=f[u++],h[c++]=255;t.putImageData(o,0,v*ca)}else throw new Error(`bad image kind: ${e.kind}`)}function yH(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%ca,a=(n-i)/ca,s=i===0?a:a+1,o=t.createImageData(r,ca);let u=0;const c=e.data,f=o.data;for(let h=0;h<s;h++){const v=h<a?ca:i;({srcPos:u}=rAe({src:c,srcPos:u,dest:f,width:r,height:v,nonBlackColor:0})),t.putImageData(o,0,h*ca)}}function Oy(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function XS(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function bH(t,e){if(e)return!0;Ie.singularValueDecompose2dScale(t,Va);const n=Math.fround(vo.pixelRatio*Uu.PDF_TO_CSS_UNITS);return Va[0]<=n&&Va[1]<=n}const oAe=["butt","round","square"],lAe=["miter","round","bevel"],uAe={},xH={};var yo,Zk,eM,tM;const II=class II{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:o=null},u,c,f){j(this,yo);this.ctx=e,this.current=new gH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new sAe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const u=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Dn(this.compositeCtx))}this.ctx.save(),XS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Dn(this.ctx)}executeOperatorList(e,n,r,i,a){var C;const s=e.argsArray,o=e.fnArray;let u=n||0;const c=s.length;if(c===u)return u;const f=c-u>mH&&typeof r=="function",h=f?Date.now()+iAe:0;let v=0;const y=this.commonObjs,w=this.objs;let A,E;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,r),u;if(!a||a(u))if(A=o[u],E=s[u]??null,A!==fv.dependency)E===null?this[A](u):this[A](u,...E);else for(const k of E){(C=this.dependencyTracker)==null||C.recordNamedData(k,u);const R=k.startsWith("g_")?y:w;if(!R.has(k))return R.get(k,r),u}if(u++,u===c)return u;if(f&&++v>mH){if(Date.now()>h)return r(),u;v=0}}}endDrawing(){F(this,yo,Zk).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),F(this,yo,eM).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=r,u=i,c="prescale1",f,h;for(;a>2&&o>1||s>2&&u>1;){let v=o,y=u;a>2&&o>1&&(v=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/v),s>2&&u>1&&(y=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,s/=u/y),f=this.cachedCanvases.getCanvas(c,v,y),h=f.context,h.clearRect(0,0,v,y),h.drawImage(e,0,0,o,u,0,0,v,y),e=f.canvas,o=v,u=y,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:u}}_createMaskCanvas(e,n){var K,G;const r=this.ctx,{width:i,height:a}=n,s=this.current.fillColor,o=this.current.patternFill,u=Dn(r);let c,f,h,v;if((n.bitmap||n.data)&&n.count>1){const Y=n.bitmap||n.data.buffer;f=JSON.stringify(o?u:[u.slice(0,4),s]),c=this._cachedBitmapsMap.get(Y),c||(c=new Map,this._cachedBitmapsMap.set(Y,c));const te=c.get(f);if(te&&!o){const W=Math.round(Math.min(u[0],u[2])+u[4]),$=Math.round(Math.min(u[1],u[3])+u[5]);return(K=this.dependencyTracker)==null||K.recordDependencies(e,ms.transformAndFill),{canvas:te,offsetX:W,offsetY:$}}h=te}h||(v=this.cachedCanvases.getCanvas("maskCanvas",i,a),yH(v.context,n));let y=Ie.transform(u,[1/i,0,0,-1/a,0,0]);y=Ie.transform(y,[1,0,0,1,0,-a]);const w=pm.slice();Ie.axialAlignedBoundingBox([0,0,i,a],y,w);const[A,E,C,k]=w,R=Math.round(C-A)||1,D=Math.round(k-E)||1,I=this.cachedCanvases.getCanvas("fillCanvas",R,D),P=I.context,M=A,B=E;P.translate(-M,-B),P.transform(...y),h||(h=this._scaleImage(v.canvas,_o(P)),h=h.img,c&&o&&c.set(f,h)),P.imageSmoothingEnabled=bH(Dn(P),n.interpolate),KS(P,h,0,0,h.width,h.height,0,0,i,a),P.globalCompositeOperation="source-in";const z=Ie.transform(_o(P),[1,0,0,1,-M,-B]);return P.fillStyle=o?s.getPattern(r,this,z,ni.FILL,e):s,P.fillRect(0,0,i,a),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(f,I.canvas)),(G=this.dependencyTracker)==null||G.recordDependencies(e,ms.transformAndFill),{canvas:I.canvas,offsetX:Math.round(M),offsetY:Math.round(B)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=oAe[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=lAe[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,a,s,o;for(const[u,c]of n)switch(u){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(a=this.dependencyTracker)==null||a.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(s=this.dependencyTracker)==null||s.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),Oy(this.suspendedCtx,s),aAe(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Oy(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],o=i[2]-a,u=i[3]-s;o===0||u===0||(this.genericComposeSMask(n.context,r,o,u,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,o,u,c,f,h){let v=e.canvas,y=u-f,w=c-h;if(s)if(y<0||w<0||y+r>v.width||w+i>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",r,i),C=E.context;C.drawImage(v,-y,-w),C.globalCompositeOperation="destination-atop",C.fillStyle=s,C.fillRect(0,0,r,i),C.globalCompositeOperation="source-over",v=E.canvas,y=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(y,w,r,i),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(y,w,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const A=new Path2D;A.rect(u,c,r,i),n.clip(A),n.globalCompositeOperation="destination-in",n.drawImage(v,y,w,r,i,u,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&Oy(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Oy(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,a,s,o){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,a,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[a]=r;if(!i){a||(a=r[0]=new Path2D),this[n](e,a);return}if(this.dependencyTracker!==null){const s=n===fv.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}if(!(a instanceof Path2D)){const s=r[0]=new Path2D;for(let o=0,u=a.length;o<u;)switch(a[o++]){case GS.moveTo:s.moveTo(a[o++],a[o++]);break;case GS.lineTo:s.lineTo(a[o++],a[o++]);break;case GS.curveTo:s.bezierCurveTo(a[o++],a[o++],a[o++],a[o++],a[o++],a[o++]);break;case GS.closePath:s.closePath();break;default:st(`Unrecognized drawing path operator: ${a[o-1]}`);break}a=s}Ie.axialAlignedBoundingBox(i,Dn(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var s;const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,_o(i),ni.STROKE,e),o){const u=new Path2D;u.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=u}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(s=this.dependencyTracker)==null||s.recordDependencies(e,ms.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(ni.STROKE,Dn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,f,h;const i=this.ctx,a=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const v=a.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=a.getPattern(i,this,_o(i),ni.FILL,e),v){const y=new Path2D;y.addPath(n,i.getTransform().invertSelf().multiplySelf(v)),n=y}o=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(f=this.dependencyTracker)==null||f.recordDependencies(e,ms.fill),o&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,n,u)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,ms.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=uAe}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=xH}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:s,x:o,y:u,fontSize:c,path:f}of n)f&&i.addPath(f,new DOMMatrix(s).preMultiplySelf(a).translate(o,u).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var h,v;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),a=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=i.fontMatrix||Ak,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&st("Invalid font matrix for font "+n),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((v=i.systemFontInfo)==null?void 0:v.css)||`"${s}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const c=i.italic?"italic":"normal";let f=r;r<hH?f=hH:r>pH&&(f=pH),this.current.fontSizeScale=r/f,this.ctx.font=`${c} ${u} ${f}px ${o}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,a,s){var C,k,R,D;const o=this.ctx,u=this.current,c=u.font,f=u.textRenderingMode,h=u.fontSize/u.fontSizeScale,v=f&Kr.FILL_STROKE_MASK,y=!!(f&Kr.ADD_TO_PATH_FLAG),w=u.patternFill&&!c.missingFile,A=u.patternStroke&&!c.missingFile;let E;if((c.disableFontFace||y||w||A)&&!c.missingFile&&(E=c.getPathGenerator(this.commonObjs,n)),E&&(c.disableFontFace||w||A)){o.save(),o.translate(r,i),o.scale(h,-h),(C=this.dependencyTracker)==null||C.recordCharacterBBox(e,o,c);let I;if(v===Kr.FILL||v===Kr.FILL_STROKE)if(a){I=o.getTransform(),o.setTransform(...a);const P=F(this,yo,tM).call(this,E,I,a);o.fill(P)}else o.fill(E);if(v===Kr.STROKE||v===Kr.FILL_STROKE)if(s){I||(I=o.getTransform()),o.setTransform(...s);const{a:P,b:M,c:B,d:z}=I,K=Ie.inverseTransform(s),G=Ie.transform([P,M,B,z,0,0],K);Ie.singularValueDecompose2dScale(G,Va),o.lineWidth*=Math.max(Va[0],Va[1])/h,o.stroke(F(this,yo,tM).call(this,E,I,s))}else o.lineWidth/=h,o.stroke(E);o.restore()}else(v===Kr.FILL||v===Kr.FILL_STROKE)&&(o.fillText(n,r,i),(k=this.dependencyTracker)==null||k.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n))),(v===Kr.STROKE||v===Kr.FILL_STROKE)&&(this.dependencyTracker&&((R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n)).recordDependencies(e,ms.stroke)),o.strokeText(n,r,i));y&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Dn(o),x:r,y:i,fontSize:h,path:E}),(D=this.dependencyTracker)==null||D.recordCharacterBBox(e,o,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return dt(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var B,z,K,G;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ms.showText).resetBBox(e),this.current.textRenderingMode&Kr.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(B=this.dependencyTracker)==null||B.recordShowTextOperation(e);return}const a=r.fontSize;if(a===0){(z=this.dependencyTracker)==null||z.recordOperation(e);return}const s=this.ctx,o=r.fontSizeScale,u=r.charSpacing,c=r.wordSpacing,f=r.fontDirection,h=r.textHScale*f,v=n.length,y=i.vertical,w=y?1:-1,A=i.defaultVMetrics,E=a*r.fontMatrix[0],C=r.textRenderingMode===Kr.FILL&&!i.disableFontFace&&!r.patternFill;s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),f>0?s.scale(h,-1):s.scale(h,1);let k,R;if(r.patternFill){s.save();const Y=r.fillColor.getPattern(s,this,_o(s),ni.FILL,e);k=Dn(s),s.restore(),s.fillStyle=Y}if(r.patternStroke){s.save();const Y=r.strokeColor.getPattern(s,this,_o(s),ni.STROKE,e);R=Dn(s),s.restore(),s.strokeStyle=Y}let D=r.lineWidth;const I=r.textMatrixScale;if(I===0||D===0){const Y=r.textRenderingMode&Kr.FILL_STROKE_MASK;(Y===Kr.STROKE||Y===Kr.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=I;if(o!==1&&(s.scale(o,o),D/=o),s.lineWidth=D,i.isInvalidPDFjsFont){const Y=[];let te=0;for(const $ of n)Y.push($.unicode),te+=$.width;const W=Y.join("");if(s.fillText(W,0,0),this.dependencyTracker!==null){const $=s.measureText(W);this.dependencyTracker.recordBBox(e,this.ctx,-$.actualBoundingBoxLeft,$.actualBoundingBoxRight,-$.actualBoundingBoxAscent,$.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=te*E*h,s.restore(),this.compose();return}let P=0,M;for(M=0;M<v;++M){const Y=n[M];if(typeof Y=="number"){P+=w*Y*a/1e3;continue}let te=!1;const W=(Y.isSpace?c:0)+u,$=Y.fontChar,U=Y.accent;let q,Z,ie=Y.width;if(y){const J=Y.vmetric||A,oe=-(Y.vmetric?J[1]:ie*.5)*E,ve=J[2]*E;ie=J?-J[0]:ie,q=oe/o,Z=(P+ve)/o}else q=P/o,Z=0;let be;if(i.remeasure&&ie>0){be=s.measureText($);const J=be.width*1e3/a*o;if(ie<J&&this.isFontSubpixelAAEnabled){const oe=ie/J;te=!0,s.save(),s.scale(oe,1),q/=oe}else ie!==J&&(q+=(ie-J)/2e3*a/o)}if(this.contentVisible&&(Y.isInFont||i.missingFile)){if(C&&!U)s.fillText($,q,Z),(K=this.dependencyTracker)==null||K.recordCharacterBBox(e,s,be?{bbox:null}:i,a/o,q,Z,()=>be??s.measureText($));else if(this.paintChar(e,$,q,Z,k,R),U){const J=q+a*U.offset.x/o,oe=Z-a*U.offset.y/o;this.paintChar(e,U.fontChar,J,oe,k,R)}}const V=y?ie*E-W*f:ie*E+W*f;P+=V,te&&s.restore()}y?r.y-=P:r.x+=P*h,s.restore(),this.compose(),(G=this.dependencyTracker)==null||G.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,a=i.font,s=i.fontSize,o=i.fontDirection,u=a.vertical?1:-1,c=i.charSpacing,f=i.wordSpacing,h=i.textHScale*o,v=i.fontMatrix||Ak,y=n.length,w=i.textRenderingMode===Kr.INVISIBLE;let A,E,C,k;if(w||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const R=this.dependencyTracker;for(this.dependencyTracker=R?new KE(R,e):null,A=0;A<y;++A){if(E=n[A],typeof E=="number"){k=u*E*s/1e3,this.ctx.translate(k,0),i.x+=k*h;continue}const D=(E.isSpace?f:0)+c,I=a.charProcOperatorList[E.operatorListId];I?this.contentVisible&&(this.save(),r.scale(s,s),r.transform(...v),this.executeOperatorList(I),this.restore()):st(`Type3 character "${E.operatorListId}" is not available.`);const P=[E.width,0];Ie.applyTransform(P,v),C=P[0]*s+D,r.translate(C,0),i.x+=C*h}r.restore(),R&&(this.dependencyTracker=R)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,a,s,o){var c;const u=new Path2D;u.rect(i,a,s-i,o-a),this.ctx.clip(u),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,s,a,o).recordClipBox(e,this.ctx,i,s,a,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||Dn(this.ctx),a={createCanvasGraphics:(s,o)=>new II(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new KE(this.dependencyTracker,o,!0):null)};r=new Qk(n,this.ctx,a,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=nAe(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var s;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,_o(r),ni.SHADING,e);const a=_o(r);if(a){const{width:o,height:u}=r.canvas,c=pm.slice();Ie.axialAlignedBoundingBox([0,0,o,u],a,c);const[f,h,v,y]=c;this.ctx.fillRect(f,h,v-f,y-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(s=this.dependencyTracker)==null||s.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ms.transform).recordDependencies(e,ms.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){fn("Should not call beginInlineImage")}beginImageData(){fn("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Dn(this.ctx),r)){Ie.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[a,s,o,u]=r,c=new Path2D;c.rect(a,s,o-a,u-s),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,a,o,s,u),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var R;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||R_("TODO: Support non-isolated groups."),n.knockout&&st("Knockout groups not supported.");const i=Dn(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=pm.slice();Ie.axialAlignedBoundingBox(n.bbox,Dn(r),a);const s=[0,0,r.canvas.width,r.canvas.height];a=Ie.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),u=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-o,1),f=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,c,f]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(h,c,f),y=v.context;y.translate(-o,-u),y.transform(...i);let w=new Path2D;const[A,E,C,k]=n.bbox;if(w.rect(A,E,C-A,k-E),n.matrix){const D=new Path2D;D.addPath(w,new DOMMatrix(n.matrix)),w=D}y.clip(w),n.smask&&this.smaskStack.push({canvas:v.canvas,context:y,offsetX:o,offsetY:u,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,u),r.save()),Oy(r,y),this.ctx=y,(R=this.dependencyTracker)==null||R.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var a;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(a=this.dependencyTracker)==null||a.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Dn(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=pm.slice();Ie.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,a,s){if(F(this,yo,Zk).call(this),XS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],u=r[3]-r[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=u,Ie.singularValueDecompose2dScale(Dn(this.ctx),Va);const{viewportScale:c}=this,f=Math.ceil(o*this.outputScaleX*c),h=Math.ceil(u*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:v,context:y}=this.annotationCanvas;this.annotationCanvasMap.set(n,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(Va[0],0,0,-Va[1],0,u*Va[1]),XS(this.ctx)}else{XS(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,u),this.ctx.clip(c)}}this.current=new gH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),F(this,yo,eM).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var o;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,a=this._createMaskCanvas(e,n),s=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,a.offsetX,a.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,a=0,s,o){var h,v,y;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const u=this.ctx;u.save();const c=Dn(u);u.transform(r,i,a,s,0,0);const f=this._createMaskCanvas(e,n);u.setTransform(1,0,0,1,f.offsetX-c[4],f.offsetY-c[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let w=0,A=o.length;w<A;w+=2){const E=Ie.transform(c,[r,i,a,s,o[w],o[w+1]]);u.drawImage(f.canvas,E[4],E[5]),(v=this.dependencyTracker)==null||v.recordBBox(e,this.ctx,E[4],E[4]+f.canvas.width,E[5],E[5]+f.canvas.height)}u.restore(),this.compose(),(y=this.dependencyTracker)==null||y.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var s,o,u;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;(s=this.dependencyTracker)==null||s.resetBBox(e).recordDependencies(e,ms.transformAndFill);for(const c of n){const{data:f,width:h,height:v,transform:y}=c,w=this.cachedCanvases.getCanvas("maskCanvas",h,v),A=w.context;A.save();const E=this.getObject(e,f,c);yH(A,E),A.globalCompositeOperation="source-in",A.fillStyle=a?i.getPattern(A,this,_o(r),ni.FILL,e):i,A.fillRect(0,0,h,v),A.restore(),r.save(),r.transform(...y),r.scale(1,-1),KS(r,w.canvas,0,0,h,v,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,h,0,v),r.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){st("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,a){if(!this.contentVisible)return;const s=this.getObject(e,n);if(!s){st("Dependent image isn't ready yet");return}const o=s.width,u=s.height,c=[];for(let f=0,h=a.length;f<h;f+=2)c.push({transform:[r,0,0,i,a[f],a[f+1]],x:0,y:0,w:o,h:u});this.paintInlineImageXObjectGroup(e,s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,a=this.ctx;this.save(e);const{filter:s}=a;s!=="none"&&s!==""&&(a.filter="none"),a.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;vH(h,n),o=this.applyTransferMapsToCanvas(h)}const u=this._scaleImage(o,_o(a));a.imageSmoothingEnabled=bH(Dn(a),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,a,0,r,-i,0).recordDependencies(e,ms.imageXObject).recordOperation(e),KS(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var s,o,u;if(!this.contentVisible)return;const i=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const c=n.width,f=n.height,v=this.cachedCanvases.getCanvas("inlineImage",c,f).context;vH(v,n),a=this.applyTransferMapsToCanvas(v)}(s=this.dependencyTracker)==null||s.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),KS(i,a,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(u=this.dependencyTracker)==null||u.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ms.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var s,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===xH?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,(s=this.dependencyTracker)==null||s.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Dn(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,o;if(r===0&&i===0){const u=Math.abs(n),c=Math.abs(a);if(u===c)if(e===0)s=o=1/u;else{const f=u*e;s=o=f<1?1/f:1}else if(e===0)s=1/u,o=1/c;else{const f=u*e,h=c*e;s=f<1?1/f:1,o=h<1?1/h:1}}else{const u=Math.abs(n*a-r*i),c=Math.hypot(n,r),f=Math.hypot(i,a);if(e===0)s=f/u,o=c/u;else{const h=e*u;s=f>h?f/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s){r.lineWidth=(i||1)*a,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(a,s),J2.a=1/a,J2.d=1/s;const u=new Path2D;if(u.addPath(e,J2),o.length>0){const c=Math.max(a,s);r.setLineDash(o.map(f=>f/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(u),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};yo=new WeakSet,Zk=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},eM=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},tM=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let Nm=II;for(const t in fv)Nm.prototype[t]!==void 0&&(Nm.prototype[fv[t]]=Nm.prototype[t]);var ig,ag,Sb,sg,x1;const vm=class vm{constructor(e){j(this,sg);j(this,ig);j(this,ag);j(this,Sb);L(this,ig,e),L(this,ag,new DataView(m(this,ig))),L(this,Sb,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of vm.strings){const f=n.encode(e[c]);r[c]=f,i+=4+f.length}const a=new ArrayBuffer(i),s=new Uint8Array(a),o=new DataView(a);let u=0;for(const c of vm.strings){const f=r[c],h=f.length;o.setUint32(u,h),s.set(f,u+4),u+=4+h}return At(u===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return F(this,sg,x1).call(this,0)}get fontWeight(){return F(this,sg,x1).call(this,1)}get italicAngle(){return F(this,sg,x1).call(this,2)}};ig=new WeakMap,ag=new WeakMap,Sb=new WeakMap,sg=new WeakSet,x1=function(e){At(e<vm.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=m(this,ag).getUint32(n)+4;const r=m(this,ag).getUint32(n);return m(this,Sb).decode(new Uint8Array(m(this,ig),n+4,r))},Se(vm,"strings",["fontFamily","fontWeight","italicAngle"]);let XE=vm;var Qc,Uo,rh,ih,t0;const ym=class ym{constructor(e){j(this,ih);j(this,Qc);j(this,Uo);j(this,rh);L(this,Qc,e),L(this,Uo,new DataView(m(this,Qc))),L(this,rh,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const v of ym.strings){const y=n.encode(e[v]);r[v]=y,i+=4+y.length}i+=4;let a,s,o=1+i;e.style&&(a=n.encode(e.style.style),s=n.encode(e.style.weight),o+=4+a.length+4+s.length);const u=new ArrayBuffer(o),c=new Uint8Array(u),f=new DataView(u);let h=0;f.setUint8(h++,e.guessFallback?1:0),f.setUint32(h,0),h+=4,i=0;for(const v of ym.strings){const y=r[v],w=y.length;i+=4+w,f.setUint32(h,w),c.set(y,h+4),h+=4+w}return f.setUint32(h-i-4,i),e.style&&(f.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length,f.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length),At(h<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(h)}get guessFallback(){return m(this,Uo).getUint8(0)!==0}get css(){return F(this,ih,t0).call(this,0)}get loadedName(){return F(this,ih,t0).call(this,1)}get baseFontName(){return F(this,ih,t0).call(this,2)}get src(){return F(this,ih,t0).call(this,3)}get style(){let e=1;e+=4+m(this,Uo).getUint32(e);const n=m(this,Uo).getUint32(e),r=m(this,rh).decode(new Uint8Array(m(this,Qc),e+4,n));e+=4+n;const i=m(this,Uo).getUint32(e),a=m(this,rh).decode(new Uint8Array(m(this,Qc),e+4,i));return{style:r,weight:a}}};Qc=new WeakMap,Uo=new WeakMap,rh=new WeakMap,ih=new WeakSet,t0=function(e){At(e<ym.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=m(this,Uo).getUint32(n)+4;const r=m(this,Uo).getUint32(n);return m(this,rh).decode(new Uint8Array(m(this,Qc),n+4,r))},Se(ym,"strings",["css","loadedName","baseFontName","src"]);let JE=ym;var og,lg,ug,cg,ka,Bo,Eb,Zt,$n,Ys,w1,n0;const ut=class ut{constructor({data:e,extra:n}){j(this,$n);j(this,Bo);j(this,Eb);j(this,Zt);L(this,Bo,e),L(this,Eb,new TextDecoder),L(this,Zt,new DataView(m(this,Bo))),n&&Object.assign(this,n)}get black(){return F(this,$n,Ys).call(this,0)}get bold(){return F(this,$n,Ys).call(this,1)}get disableFontFace(){return F(this,$n,Ys).call(this,2)}get fontExtraProperties(){return F(this,$n,Ys).call(this,3)}get isInvalidPDFjsFont(){return F(this,$n,Ys).call(this,4)}get isType3Font(){return F(this,$n,Ys).call(this,5)}get italic(){return F(this,$n,Ys).call(this,6)}get missingFile(){return F(this,$n,Ys).call(this,7)}get remeasure(){return F(this,$n,Ys).call(this,8)}get vertical(){return F(this,$n,Ys).call(this,9)}get ascent(){return F(this,$n,w1).call(this,0)}get defaultWidth(){return F(this,$n,w1).call(this,1)}get descent(){return F(this,$n,w1).call(this,2)}get bbox(){let e=m(ut,lg);if(m(this,Zt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(m(this,Zt).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=m(ut,ug);if(m(this,Zt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(m(this,Zt).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=m(ut,cg);if(m(this,Zt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(m(this,Zt).getInt16(e,!0)),e+=2;return r}get fallbackName(){return F(this,$n,n0).call(this,0)}get loadedName(){return F(this,$n,n0).call(this,1)}get mimetype(){return F(this,$n,n0).call(this,2)}get name(){return F(this,$n,n0).call(this,3)}get data(){let e=m(ut,ka);const n=m(this,Zt).getUint32(e);e+=4+n;const r=m(this,Zt).getUint32(e);e+=4+r;const i=m(this,Zt).getUint32(e);e+=4+i;const a=m(this,Zt).getUint32(e);if(a!==0)return new Uint8Array(m(this,Bo),e+4,a)}clearData(){let e=m(ut,ka);const n=m(this,Zt).getUint32(e);e+=4+n;const r=m(this,Zt).getUint32(e);e+=4+r;const i=m(this,Zt).getUint32(e);e+=4+i;const a=m(this,Zt).getUint32(e);new Uint8Array(m(this,Bo),e+4,a).fill(0),m(this,Zt).setUint32(e,0)}get cssFontInfo(){let e=m(ut,ka);const n=m(this,Zt).getUint32(e);e+=4+n;const r=m(this,Zt).getUint32(e);e+=4+r;const i=m(this,Zt).getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(m(this,Bo),e+4,i)),new XE(a.buffer)}get systemFontInfo(){let e=m(ut,ka);const n=m(this,Zt).getUint32(e);e+=4+n;const r=m(this,Zt).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(m(this,Bo),e+4,r)),new JE(i.buffer)}static write(e){const n=e.systemFontInfo?JE.write(e.systemFontInfo):null,r=e.cssFontInfo?XE.write(e.cssFontInfo):null,i=new TextEncoder,a={};let s=0;for(const A of ut.strings)a[A]=i.encode(e[A]),s+=4+a[A].length;const o=m(ut,ka)+4+s+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(o),c=new Uint8Array(u),f=new DataView(u);let h=0;const v=ut.bools.length;let y=0,w=0;for(let A=0;A<v;A++){const E=e[ut.bools[A]];y|=(E===void 0?0:E?2:1)<<w,w+=2,(w===8||A===v-1)&&(f.setUint8(h++,y),y=0,w=0)}At(h===m(ut,og),"FontInfo.write: Boolean properties offset mismatch");for(const A of ut.numbers)f.setFloat64(h,e[A]),h+=8;if(At(h===m(ut,lg),"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(h++,4);for(const A of e.bbox)f.setInt16(h,A,!0),h+=2}else f.setUint8(h++,0),h+=8;if(At(h===m(ut,ug),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(h++,6);for(const A of e.fontMatrix)f.setFloat64(h,A,!0),h+=8}else f.setUint8(h++,0),h+=48;if(At(h===m(ut,cg),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(h++,1);for(const A of e.defaultVMetrics)f.setInt16(h,A,!0),h+=2}else f.setUint8(h++,0),h+=6;At(h===m(ut,ka),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(m(ut,ka),0),h+=4;for(const A of ut.strings){const E=a[A],C=E.length;f.setUint32(h,C),c.set(E,h+4),h+=4+C}if(f.setUint32(m(ut,ka),h-m(ut,ka)-4),!n)f.setUint32(h,0),h+=4;else{const A=n.byteLength;f.setUint32(h,A),At(h+4+A<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+A}if(!r)f.setUint32(h,0),h+=4;else{const A=r.byteLength;f.setUint32(h,A),At(h+4+A<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+A}return e.data===void 0?(f.setUint32(h,0),h+=4):(f.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),At(h<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(h)}};og=new WeakMap,lg=new WeakMap,ug=new WeakMap,cg=new WeakMap,ka=new WeakMap,Bo=new WeakMap,Eb=new WeakMap,Zt=new WeakMap,$n=new WeakSet,Ys=function(e){At(e<ut.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=m(this,Zt).getUint8(n)>>r&3;return i===0?void 0:i===2},w1=function(e){return At(e<ut.numbers.length,"Invalid number index"),m(this,Zt).getFloat64(m(ut,og)+e*8)},n0=function(e){At(e<ut.strings.length,"Invalid string index");let n=m(ut,ka)+4;for(let a=0;a<e;a++)n+=m(this,Zt).getUint32(n)+4;const r=m(this,Zt).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(m(this,Bo),n+4,r)),m(this,Eb).decode(i)},Se(ut,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Se(ut,"numbers",["ascent","defaultWidth","descent"]),Se(ut,"strings",["fallbackName","loadedName","mimetype","name"]),j(ut,og,Math.ceil(ut.bools.length*2/8)),j(ut,lg,m(ut,og)+ut.numbers.length*8),j(ut,ug,m(ut,lg)+1+8),j(ut,cg,m(ut,ug)+1+48),j(ut,ka,m(ut,cg)+1+6);let nM=ut;var Ab,_b;class ks{static get workerPort(){return m(this,Ab)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");L(this,Ab,e)}static get workerSrc(){return m(this,_b)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");L(this,_b,e)}}Ab=new WeakMap,_b=new WeakMap,j(ks,Ab,null),j(ks,_b,"");var dg,Cb;class cAe{constructor({parsedData:e,rawData:n}){j(this,dg);j(this,Cb);L(this,dg,e),L(this,Cb,n)}getRaw(){return m(this,Cb)}get(e){return m(this,dg).get(e)??null}[Symbol.iterator](){return m(this,dg).entries()}}dg=new WeakMap,Cb=new WeakMap;const sm=Symbol("INTERNAL");var Tb,Nb,Rb,fg;class dAe{constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){j(this,Tb,!1);j(this,Nb,!1);j(this,Rb,!1);j(this,fg,!0);L(this,Tb,!!(e&qa.DISPLAY)),L(this,Nb,!!(e&qa.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(m(this,Rb))return m(this,fg);if(!m(this,fg))return!1;const{print:e,view:n}=this.usage;return m(this,Tb)?(n==null?void 0:n.viewState)!=="OFF":m(this,Nb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==sm&&fn("Internal method `_setVisible` called."),L(this,Rb,r),L(this,fg,n)}}Tb=new WeakMap,Nb=new WeakMap,Rb=new WeakMap,fg=new WeakMap;var Zc,en,hg,pg,kb,rM;class fAe{constructor(e,n=qa.DISPLAY){j(this,kb);j(this,Zc,null);j(this,en,new Map);j(this,hg,null);j(this,pg,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,L(this,pg,e.order);for(const r of e.groups)m(this,en).set(r.id,new dAe(n,r));if(e.baseState==="OFF")for(const r of m(this,en).values())r._setVisible(sm,!1);for(const r of e.on)m(this,en).get(r)._setVisible(sm,!0);for(const r of e.off)m(this,en).get(r)._setVisible(sm,!1);L(this,hg,this.getHash())}}isVisible(e){if(m(this,en).size===0)return!0;if(!e)return R_("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,en).has(e.id)?m(this,en).get(e.id).visible:(st(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return F(this,kb,rM).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!m(this,en).has(n))return st(`Optional content group not found: ${n}`),!0;if(m(this,en).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!m(this,en).has(n))return st(`Optional content group not found: ${n}`),!0;if(!m(this,en).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!m(this,en).has(n))return st(`Optional content group not found: ${n}`),!0;if(!m(this,en).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!m(this,en).has(n))return st(`Optional content group not found: ${n}`),!0;if(m(this,en).get(n).visible)return!1}return!0}return st(`Unknown optional content policy ${e.policy}.`),!0}return st(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var a;const i=m(this,en).get(e);if(!i){st(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=m(this,en).get(o))==null||a._setVisible(sm,!1,!0));i._setVisible(sm,!!n,!0),L(this,Zc,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=m(this,en).get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}L(this,Zc,null)}get hasInitialVisibility(){return m(this,hg)===null||this.getHash()===m(this,hg)}getOrder(){return m(this,en).size?m(this,pg)?m(this,pg).slice():[...m(this,en).keys()]:null}getGroup(e){return m(this,en).get(e)||null}getHash(){if(m(this,Zc)!==null)return m(this,Zc);const e=new S7;for(const[n,r]of m(this,en))e.update(`${n}:${r.visible}`);return L(this,Zc,e.hexdigest())}[Symbol.iterator](){return m(this,en).entries()}}Zc=new WeakMap,en=new WeakMap,hg=new WeakMap,pg=new WeakMap,kb=new WeakSet,rM=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=F(this,kb,rM).call(this,a);else if(m(this,en).has(a))s=m(this,en).get(a).visible;else return st(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class hAe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){At(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,c)=>{this._onReceiveData({begin:u,chunk:c})}),e.addProgressListener((u,c)=>{this._onProgress({loaded:u,total:c})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});At(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,a;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){At(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new pAe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new mAe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class pAe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=M_(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class mAe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gAe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let f=o(n);return f=unescape(f),f=u(f),f=c(f),a(f)}if(n=s(t),n){const f=c(n);return a(f)}if(n=r("filename","i").exec(t),n){n=n[1];let f=o(n);return f=c(f),a(f)}function r(f,h){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(f,h){if(f){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const v=new TextDecoder(f,{fatal:!0}),y=ew(h);h=v.decode(y),e=!1}catch{}}return h}function a(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function s(f){const h=[];let v;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=y.exec(f))!==null;){let[,A,E,C]=v;if(A=parseInt(A,10),A in h){if(A===0)break;continue}h[A]=[E,C]}const w=[];for(let A=0;A<h.length&&A in h;++A){let[E,C]=h[A];C=o(C),E&&(C=unescape(C),A===0&&(C=u(C))),w.push(C)}return w.join("")}function o(f){if(f.startsWith('"')){const h=f.slice(1).split('\\"');for(let v=0;v<h.length;++v){const y=h[v].indexOf('"');y!==-1&&(h[v]=h[v].slice(0,y),h.length=v+1),h[v]=h[v].replaceAll(/\\(.)/g,"$1")}f=h.join('"')}return f}function u(f){const h=f.indexOf("'");if(h===-1)return f;const v=f.slice(0,h),w=f.slice(h+1).replace(/^[^']*'/,"");return i(v,w)}function c(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,v,y,w){if(y==="q"||y==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,E){return String.fromCharCode(parseInt(E,16))}),i(v,w);try{w=atob(w)}catch{}return i(v,w)})}return""}function L7(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function P_(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function O7({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function j7(t){const e=t.get("Content-Disposition");if(e){let n=gAe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(M_(n))return n}return null}function iw(t,e){return new F0(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function F7(t){return t===200||t===206}function U7(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function B7(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(st(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class vAe{constructor(e){Se(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=L7(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return At(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new yAe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new bAe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class yAe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,U7(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=P_(a.url),!F7(a.status))throw iw(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:u}=O7({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=u||this._contentLength,this._filename=j7(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:B7(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class bAe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,U7(a,this._withCredentials,this._abortController)).then(o=>{const u=P_(o.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!F7(o.status))throw iw(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:B7(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const Q2=200,Z2=206;function xAe(t){const e=t.response;return typeof e!="string"?e:ew(e).buffer}class wAe{constructor({url:e,httpHeaders:n,withCredentials:r}){Se(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=L7(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Z2):i.expectedStatus=Q2,n.responseType="arraybuffer",At(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||Q2;if(!(a===Q2&&r.expectedStatus===Z2)&&a!==r.expectedStatus){r.onError(i.status);return}const o=xAe(i);if(a===Z2){const u=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(st('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class SAe{constructor(e){this._source=e,this._manager=new wAe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return At(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new EAe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new AAe(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class EAe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=P_(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[u,...c]=o.split(": ");return[u,c.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=O7({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=j7(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=iw(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class AAe{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=P_((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=iw(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _Ae=/^[a-z][a-z0-9\-+.]+:/i;function CAe(t){if(_Ae.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class TAe{constructor(e){this.source=e,this.url=CAe(e.url),At(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return At(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new NAe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new RAe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class NAe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=iw(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class RAe{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const jy=Symbol("INITIAL_DATA");var Ma,Mb,iM;class z7{constructor(){j(this,Mb);j(this,Ma,Object.create(null))}get(e,n=null){if(n){const i=F(this,Mb,iM).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=m(this,Ma)[e];if(!r||r.data===jy)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=m(this,Ma)[e];return!!n&&n.data!==jy}delete(e){const n=m(this,Ma)[e];return!n||n.data===jy?!1:(delete m(this,Ma)[e],!0)}resolve(e,n=null){const r=F(this,Mb,iM).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in m(this,Ma)){const{data:r}=m(this,Ma)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}L(this,Ma,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Ma)){const{data:n}=m(this,Ma)[e];n!==jy&&(yield[e,n])}}}Ma=new WeakMap,Mb=new WeakSet,iM=function(e){var n;return(n=m(this,Ma))[e]||(n[e]={...Promise.withResolvers(),data:jy})};const kAe=1e5,wH=30;var LH,ed,sa,Pb,Db,ah,nu,Ib,Lb,sh,mg,gg,td,vg,Ob,yg,oh,jb,Fb,qn,bg,lh,Ub,nd,xg,zu,H7,G7,aM,Ja,S1,sM,q7,$7;let H0=(qn=class{constructor({textContentSource:e,container:n,viewport:r}){j(this,zu);j(this,ed,Promise.withResolvers());j(this,sa,null);j(this,Pb,!1);j(this,Db,!!((LH=globalThis.FontInspector)!=null&&LH.enabled));j(this,ah,null);j(this,nu,null);j(this,Ib,0);j(this,Lb,0);j(this,sh,null);j(this,mg,null);j(this,gg,0);j(this,td,0);j(this,vg,Object.create(null));j(this,Ob,[]);j(this,yg,null);j(this,oh,[]);j(this,jb,new WeakMap);j(this,Fb,null);var u;if(e instanceof ReadableStream)L(this,yg,e);else if(typeof e=="object")L(this,yg,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');L(this,sa,L(this,mg,n)),L(this,td,r.scale*vo.pixelRatio),L(this,gg,r.rotation),L(this,nu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;L(this,Fb,[1,0,0,-1,-s,o+a]),L(this,Lb,i),L(this,Ib,a),F(u=qn,Ja,q7).call(u),jd(n,r),m(this,ed).promise.finally(()=>{m(qn,xg).delete(this),L(this,nu,null),L(this,vg,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=zr.platform;return dt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,sh).read().then(({value:n,done:r})=>{if(r){m(this,ed).resolve();return}m(this,ah)??L(this,ah,n.lang),Object.assign(m(this,vg),n.styles),F(this,zu,H7).call(this,n.items),e()},m(this,ed).reject)};return L(this,sh,m(this,yg).getReader()),m(qn,xg).add(this),e(),m(this,ed).promise}update({viewport:e,onBefore:n=null}){var a;const r=e.scale*vo.pixelRatio,i=e.rotation;if(i!==m(this,gg)&&(n==null||n(),L(this,gg,i),jd(m(this,mg),{rotation:i})),r!==m(this,td)){n==null||n(),L(this,td,r);const s={div:null,properties:null,ctx:F(a=qn,Ja,S1).call(a,m(this,ah))};for(const o of m(this,oh))s.properties=m(this,jb).get(o),s.div=o,F(this,zu,aM).call(this,s)}}cancel(){var n;const e=new Fu("TextLayer task cancelled.");(n=m(this,sh))==null||n.cancel(e).catch(()=>{}),L(this,sh,null),m(this,ed).reject(e)}get textDivs(){return m(this,oh)}get textContentItemsStr(){return m(this,Ob)}static cleanup(){if(!(m(this,xg).size>0)){m(this,bg).clear();for(const{canvas:e}of m(this,lh).values())e.remove();m(this,lh).clear()}}},ed=new WeakMap,sa=new WeakMap,Pb=new WeakMap,Db=new WeakMap,ah=new WeakMap,nu=new WeakMap,Ib=new WeakMap,Lb=new WeakMap,sh=new WeakMap,mg=new WeakMap,gg=new WeakMap,td=new WeakMap,vg=new WeakMap,Ob=new WeakMap,yg=new WeakMap,oh=new WeakMap,jb=new WeakMap,Fb=new WeakMap,bg=new WeakMap,lh=new WeakMap,Ub=new WeakMap,nd=new WeakMap,xg=new WeakMap,zu=new WeakSet,H7=function(e){var i,a;if(m(this,Pb))return;(a=m(this,nu)).ctx??(a.ctx=F(i=qn,Ja,S1).call(i,m(this,ah)));const n=m(this,oh),r=m(this,Ob);for(const s of e){if(n.length>kAe){st("Ignoring additional textDivs for performance reasons."),L(this,Pb,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=m(this,sa);L(this,sa,document.createElement("span")),m(this,sa).classList.add("markedContent"),s.id&&m(this,sa).setAttribute("id",`${s.id}`),o.append(m(this,sa))}else s.type==="endMarkedContent"&&L(this,sa,m(this,sa).parentNode);continue}r.push(s.str),F(this,zu,G7).call(this,s)}},G7=function(e){var A;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,oh).push(n);const i=Ie.transform(m(this,Fb),e.transform);let a=Math.atan2(i[1],i[0]);const s=m(this,vg)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=m(this,Db)&&s.fontSubstitution||s.fontFamily;o=qn.fontFamilyMap.get(o)||o;const u=Math.hypot(i[2],i[3]),c=u*F(A=qn,Ja,$7).call(A,o,s,m(this,ah));let f,h;a===0?(f=i[4],h=i[5]-c):(f=i[4]+c*Math.sin(a),h=i[5]-c*Math.cos(a));const v="calc(var(--total-scale-factor) *",y=n.style;m(this,sa)===m(this,mg)?(y.left=`${(100*f/m(this,Lb)).toFixed(2)}%`,y.top=`${(100*h/m(this,Ib)).toFixed(2)}%`):(y.left=`${v}${f.toFixed(2)}px)`,y.top=`${v}${h.toFixed(2)}px)`),y.fontSize=`${v}${(m(qn,nd)*u).toFixed(2)}px)`,y.fontFamily=o,r.fontSize=u,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,m(this,Db)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);E!==C&&Math.max(E,C)/Math.min(E,C)>1.5&&(w=!0)}if(w&&(r.canvasWidth=s.vertical?e.height:e.width),m(this,jb).set(n,r),m(this,nu).div=n,m(this,nu).properties=r,F(this,zu,aM).call(this,m(this,nu)),r.hasText&&m(this,sa).append(n),r.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),m(this,sa).append(E)}},aM=function(e){var o;const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(m(qn,nd)>1&&(s=`scale(${1/m(qn,nd)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:c,fontSize:f}=r;F(o=qn,Ja,sM).call(o,i,f*m(this,td),u);const{width:h}=i.measureText(n.textContent);h>0&&(s=`scaleX(${c*m(this,td)/h}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)},Ja=new WeakSet,S1=function(e=null){let n=m(this,lh).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,lh).set(e,n),m(this,Ub).set(n,{size:0,family:""})}return n},sM=function(e,n,r){const i=m(this,Ub).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},q7=function(){if(m(this,nd)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),L(this,nd,e.getBoundingClientRect().height),e.remove()},$7=function(e,n,r){const i=m(this,bg).get(e);if(i)return i;const a=F(this,Ja,S1).call(this,r);a.canvas.width=a.canvas.height=wH,F(this,Ja,sM).call(this,a,wH,e);const s=a.measureText(""),o=s.fontBoundingBoxAscent,u=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let c=.8;return o?c=o/(o+u):(zr.platform.isFirefox&&st("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),m(this,bg).set(e,c),c},j(qn,Ja),j(qn,bg,new Map),j(qn,lh,new Map),j(qn,Ub,new WeakMap),j(qn,nd,null),j(qn,xg,new Set),qn);const MAe=100;function AI(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new oM,{docId:n}=e,r=t.url?UEe(t.url):null,i=t.data?BEe(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,u=t.range instanceof _I?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let f=t.worker instanceof hv?t.worker:null;const h=t.verbosity,v=typeof t.docBaseUrl=="string"&&!nw(t.docBaseUrl)?t.docBaseUrl:null,y=$S(t.cMapUrl),w=t.cMapPacked!==!1,A=t.CMapReaderFactory||(ji?WEe:oH),E=$S(t.iccUrl),C=$S(t.standardFontDataUrl),k=t.StandardFontDataFactory||(ji?YEe:lH),R=$S(t.wasmUrl),D=t.WasmFactory||(ji?KEe:uH),I=t.stopAtErrors!==!0,P=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,M=t.isEvalSupported!==!1,B=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!ji,z=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!ji&&(zr.platform.isFirefox||!globalThis.chrome),K=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,G=typeof t.disableFontFace=="boolean"?t.disableFontFace:ji,Y=t.fontExtraProperties===!0,te=t.enableXfa===!0,W=t.ownerDocument||globalThis.document,$=t.disableRange===!0,U=t.disableStream===!0,q=t.disableAutoFetch===!0,Z=t.pdfBug===!0,ie=t.CanvasFactory||(ji?VEe:GEe),be=t.FilterFactory||(ji?$Ee:qEe),V=t.enableHWA===!0,J=t.useWasm!==!1,oe=u?u.length:t.length??NaN,ve=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!ji&&!G,xe=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(A===oH&&k===lH&&D===uH&&y&&C&&R&&qy(y,document.baseURI)&&qy(C,document.baseURI)&&qy(R,document.baseURI)),_e=null;xEe(h);const Ae={canvasFactory:new ie({ownerDocument:W,enableHWA:V}),filterFactory:new be({docId:n,ownerDocument:W}),cMapReaderFactory:xe?null:new A({baseUrl:y,isCompressed:w}),standardFontDataFactory:xe?null:new k({baseUrl:C}),wasmFactory:xe?null:new D({baseUrl:R})};f||(f=hv.create({verbosity:h,port:ks.workerPort}),e._worker=f);const pt={docId:n,apiVersion:"5.4.296",data:i,password:o,disableAutoFetch:q,rangeChunkSize:c,length:oe,docBaseUrl:v,enableXfa:te,evaluatorOptions:{maxImageSize:P,disableFontFace:G,ignoreErrors:I,isEvalSupported:M,isOffscreenCanvasSupported:B,isImageDecoderSupported:z,canvasMaxAreaInBytes:K,fontExtraProperties:Y,useSystemFonts:ve,useWasm:J,useWorkerFetch:xe,cMapUrl:y,iccUrl:E,standardFontDataUrl:C,wasmUrl:R}},de={ownerDocument:W,pdfBug:Z,styleElement:_e,loadingParams:{disableAutoFetch:q,enableXfa:te}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Re=f.messageHandler.sendWithPromise("GetDocRequest",pt,i?[i.buffer]:null);let Xe;if(u)Xe=new hAe(u,{disableRange:$,disableStream:U});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const me=qy(r)?vAe:ji?TAe:SAe;Xe=new me({url:r,length:oe,httpHeaders:a,withCredentials:s,rangeChunkSize:c,disableRange:$,disableStream:U})}return Re.then(me=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const $e=new Xy(n,me,f.port),Oe=new IAe($e,e,Xe,de,Ae,V);e._transport=Oe,$e.send("Ready",null)})}).catch(e._capability.reject),e}var hA;const pA=class pA{constructor(){Se(this,"_capability",Promise.withResolvers());Se(this,"_transport",null);Se(this,"_worker",null);Se(this,"docId",`d${mr(pA,hA)._++}`);Se(this,"destroyed",!1);Se(this,"onPassword",null);Se(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(a){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,a}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};hA=new WeakMap,j(pA,hA,0);let oM=pA;var uh,Bb,zb,Hb,Gb,OH;let _I=(OH=class{constructor(e,n,r=!1,i=null){j(this,uh,Promise.withResolvers());j(this,Bb,[]);j(this,zb,[]);j(this,Hb,[]);j(this,Gb,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){m(this,Gb).push(e)}addProgressListener(e){m(this,Hb).push(e)}addProgressiveReadListener(e){m(this,zb).push(e)}addProgressiveDoneListener(e){m(this,Bb).push(e)}onDataRange(e,n){for(const r of m(this,Gb))r(e,n)}onDataProgress(e,n){m(this,uh).promise.then(()=>{for(const r of m(this,Hb))r(e,n)})}onDataProgressiveRead(e){m(this,uh).promise.then(()=>{for(const n of m(this,zb))n(e)})}onDataProgressiveDone(){m(this,uh).promise.then(()=>{for(const e of m(this,Bb))e()})}transportReady(){m(this,uh).resolve()}requestDataRange(e,n){fn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},uh=new WeakMap,Bb=new WeakMap,zb=new WeakMap,Hb=new WeakMap,Gb=new WeakMap,OH);class PAe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return dt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ru,ch,r0;class DAe{constructor(e,n,r,i=!1){j(this,ch);j(this,ru,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new eH:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new z7,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new tw({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return dt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:a=Zo.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:u=null,annotationCanvasMap:c=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:v=!1,recordOperations:y=!1,operationsFilter:w=null}){var z,K,G;(z=this._stats)==null||z.time("Overall");const A=this._transport.getRenderingIntent(i,a,h,v),{renderingIntent:E,cacheKey:C}=A;L(this,ru,!1),u||(u=this._transport.getOptionalContentConfig(E));let k=this._intentStates.get(C);k||(k=Object.create(null),this._intentStates.set(C,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);const R=!!(E&qa.PRINT);k.displayReadyCapability||(k.displayReadyCapability=Promise.withResolvers(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(K=this._stats)==null||K.time("Page Request"),this._pumpOperatorList(A));const D=!!(this._pdfBug&&((G=globalThis.StepperManager)!=null&&G.enabled)),I=!this.recordedBBoxes&&(y||D),P=Y=>{var te,W;if(k.renderTasks.delete(M),I){const $=(te=M.gfx)==null?void 0:te.dependencyTracker.take();$&&(M.stepper&&M.stepper.setOperatorBBoxes($,M.gfx.dependencyTracker.takeDebugMetadata()),y&&(this.recordedBBoxes=$))}R&&L(this,ru,!0),F(this,ch,r0).call(this),Y?(M.capability.reject(Y),this._abortOperatorList({intentState:k,reason:Y instanceof Error?Y:new Error(Y)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(W=globalThis.Stats)!=null&&W.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new lM({callback:P,params:{canvas:n,canvasContext:e,dependencyTracker:I?new JEe(n,k.operatorList.length,D):null,viewport:r,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:w});(k.renderTasks||(k.renderTasks=new Set)).add(M);const B=M.task;return Promise.all([k.displayReadyCapability.promise,u]).then(([Y,te])=>{var W;if(this.destroyed){P();return}if((W=this._stats)==null||W.time("Rendering"),!(te.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:Y,optionalContentConfig:te}),M.operatorListChanged()}).catch(P),B}getOperatorList({intent:e="display",annotationMode:n=Zo.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(u))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let u;return o.opListReadCapability||(u=Object.create(null),u.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(u),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>U0.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:u,done:c}){if(c){r(o);return}o.lang??(o.lang=u.lang),Object.assign(o.styles,u.styles),o.items.push(...u.items),a()},i)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),L(this,ru,!1),Promise.all(e)}cleanup(e=!1){L(this,ru,!0);const n=F(this,ch,r0).call(this);return e&&n&&this._stats&&(this._stats=new eH),n}_startRenderPage(e,n){var i,a;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=r.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&F(this,ch,r0).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),c=this._intentStates.get(n);c.streamReader=u;const f=()=>{u.read().then(({value:h,done:v})=>{if(v){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),f())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const v of c.renderTasks)v.operatorListChanged();F(this,ch,r0).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};f()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof k_){let i=MAe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Fu(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}ru=new WeakMap,ch=new WeakSet,r0=function(){if(!m(this,ru)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),L(this,ru,!1),!0};var rd,to,iu,dh,mA,fh,hh,Bi,E1,V7,W7,i0,wg,A1;const Cn=class Cn{constructor({name:e=null,port:n=null,verbosity:r=wEe()}={}){j(this,Bi);j(this,rd,Promise.withResolvers());j(this,to,null);j(this,iu,null);j(this,dh,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(m(Cn,hh).has(n))throw new Error("Cannot use more than one PDFWorker per port.");m(Cn,hh).set(n,this),F(this,Bi,V7).call(this,n)}else F(this,Bi,W7).call(this)}get promise(){return m(this,rd).promise}get port(){return m(this,iu)}get messageHandler(){return m(this,to)}destroy(){var e,n;this.destroyed=!0,(e=m(this,dh))==null||e.terminate(),L(this,dh,null),m(Cn,hh).delete(m(this,iu)),L(this,iu,null),(n=m(this,to))==null||n.destroy(),L(this,to,null)}static create(e){const n=m(this,hh).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Cn(e)}static get workerSrc(){if(ks.workerSrc)return ks.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return dt(this,"_setupFakeWorkerGlobal",(async()=>m(this,wg,A1)?m(this,wg,A1):(await import(this.workerSrc)).WorkerMessageHandler)())}};rd=new WeakMap,to=new WeakMap,iu=new WeakMap,dh=new WeakMap,mA=new WeakMap,fh=new WeakMap,hh=new WeakMap,Bi=new WeakSet,E1=function(){m(this,rd).resolve(),m(this,to).send("configure",{verbosity:this.verbosity})},V7=function(e){L(this,iu,e),L(this,to,new Xy("main","worker",e)),m(this,to).on("ready",()=>{}),F(this,Bi,E1).call(this)},W7=function(){if(m(Cn,fh)||m(Cn,wg,A1)){F(this,Bi,i0).call(this);return}let{workerSrc:e}=Cn;try{Cn._isSameOrigin(window.location,e)||(e=Cn._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Xy("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?m(this,rd).reject(new Error("Worker was destroyed")):F(this,Bi,i0).call(this)},a=new AbortController;n.addEventListener("error",()=>{m(this,dh)||i()},{signal:a.signal}),r.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}L(this,to,r),L(this,iu,n),L(this,dh,n),F(this,Bi,E1).call(this)}),r.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{F(this,Bi,i0).call(this)}});const s=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{R_("The worker has been disabled.")}F(this,Bi,i0).call(this)},i0=function(){m(Cn,fh)||(st("Setting up fake worker."),L(Cn,fh,!0)),Cn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){m(this,rd).reject(new Error("Worker was destroyed"));return}const n=new HEe;L(this,iu,n);const r=`fake${mr(Cn,mA)._++}`,i=new Xy(r+"_worker",r,n);e.setup(i,n),L(this,to,new Xy(r,r+"_worker",n)),F(this,Bi,E1).call(this)}).catch(e=>{m(this,rd).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},wg=new WeakSet,A1=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},j(Cn,wg),j(Cn,mA,0),j(Cn,fh,!1),j(Cn,hh,new WeakMap),ji&&(L(Cn,fh,!0),ks.workerSrc||(ks.workerSrc="./pdf.worker.mjs")),Cn._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},Cn._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Cn.fromPort=e=>{if(kEe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Cn.create(e)};let hv=Cn;var au,zo,Sg,Eg,su,ph,a0;class IAe{constructor(e,n,r,i,a,s){j(this,ph);j(this,au,new Map);j(this,zo,new Map);j(this,Sg,new Map);j(this,Eg,new Map);j(this,su,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new z7,this.fontLoader=new jEe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return dt(this,"annotationStorage",new wI)}getRenderingIntent(e,n=Zo.ENABLE,r=null,i=!1,a=!1){let s=qa.DISPLAY,o=$k;switch(e){case"any":s=qa.ANY;break;case"display":break;case"print":s=qa.PRINT;break;default:st(`getRenderingIntent - invalid intent: ${e}`)}const u=s&qa.PRINT&&r instanceof A7?r:this.annotationStorage;switch(n){case Zo.DISABLE:s+=qa.ANNOTATIONS_DISABLE;break;case Zo.ENABLE:break;case Zo.ENABLE_FORMS:s+=qa.ANNOTATIONS_FORMS;break;case Zo.ENABLE_STORAGE:s+=qa.ANNOTATIONS_STORAGE,o=u.serializable;break;default:st(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=qa.IS_EDITING),a&&(s+=qa.OPLIST);const{ids:c,hash:f}=u.modifiedIds,h=[s,o.hash,f];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,su))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,zo).values())e.push(i._destroy());m(this,zo).clear(),m(this,Sg).clear(),m(this,Eg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,a;this.commonObjs.clear(),this.fontLoader.clear(),m(this,au).clear(),this.filterFactory.destroy(),H0.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Fu("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{At(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}At(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=u=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{At(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}At(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new PAe(r,this))}),e.on("DocException",r=>{n._capability.reject(ea(r))}),e.on("PasswordRequest",r=>{L(this,su,Promise.withResolvers());try{if(!n.onPassword)throw ea(r);const i=a=>{a instanceof Error?m(this,su).reject(a):m(this,su).resolve({password:a})};n.onPassword(i,r.code)}catch(i){m(this,su).reject(i)}return m(this,su).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,zo).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const h=a.error;st(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const o=new nM(a),u=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(h,v)=>globalThis.FontInspector.fontAdded(h,v):null,c=new FEe(o,u,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:f}=a;At(f,"The imageRef must be defined.");for(const h of m(this,zo).values())for(const[,v]of h.objs)if((v==null?void 0:v.ref)===f)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{var u;if(this.destroyed)return;const o=m(this,zo).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(u=s==null?void 0:s.bitmap)==null||u.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&st("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=m(this,Sg).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&m(this,Eg).set(a.refStr,e);const s=new DAe(n,a,this,this._params.pdfBug);return m(this,zo).set(n,s),s});return m(this,Sg).set(n,i),i}getPageIndex(e){return Vk(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return F(this,ph,a0).call(this,"GetFieldObjects")}hasJSActions(){return F(this,ph,a0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return F(this,ph,a0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return F(this,ph,a0).call(this,"GetOptionalContentConfig").then(n=>new fAe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=m(this,au).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new cAe(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return m(this,au).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of m(this,zo).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,au).clear(),this.filterFactory.destroy(!0),H0.cleanup()}}cachedPageNumber(e){if(!Vk(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,Eg).get(n)??null}}au=new WeakMap,zo=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,su=new WeakMap,ph=new WeakSet,a0=function(e,n=null){const r=m(this,au).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return m(this,au).set(e,i),i};var id;class LAe{constructor(e){j(this,id,null);Se(this,"onContinue",null);Se(this,"onError",null);L(this,id,e)}get promise(){return m(this,id).capability.promise}cancel(e=0){m(this,id).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,id).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=m(this,id);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}id=new WeakMap;var ad,mh;const _f=class _f{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:u,filterFactory:c,useRequestAnimationFrame:f=!1,pdfBug:h=!1,pageColors:v=null,enableHWA:y=!1,operationsFilter:w=null}){j(this,ad,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=h,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new LAe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=y,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var u,c;if(this.cancelled)return;if(this._canvas){if(m(_f,mh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(_f,mh).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Nm(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,a;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,ad)&&(window.cancelAnimationFrame(m(this,ad)),L(this,ad,null)),m(_f,mh).delete(this._canvas),e||(e=new k_(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(a=(i=this.task).onError)==null||a.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?L(this,ad,window.requestAnimationFrame(()=>{L(this,ad,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(_f,mh).delete(this._canvas),this.callback())))}};ad=new WeakMap,mh=new WeakMap,j(_f,mh,new WeakSet);let lM=_f;const Y7="5.4.296",K7="f56dc8601";var Pa,gh,Ag,yr,qb,_g,ou,$b,sd,no,Vb,tn,uM,cM,dM,wf,X7,Tc;const ta=class ta{constructor({editor:e=null,uiManager:n=null}){j(this,tn);j(this,Pa,null);j(this,gh,null);j(this,Ag);j(this,yr,null);j(this,qb,!1);j(this,_g,!1);j(this,ou,null);j(this,$b);j(this,sd,null);j(this,no,null);var r,i;e?(L(this,_g,!1),L(this,ou,e)):L(this,_g,!0),L(this,no,(e==null?void 0:e._uiManager)||n),L(this,$b,m(this,no)._eventBus),L(this,Ag,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=m(this,no))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),m(ta,Vb)||L(ta,Vb,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return dt(this,"_keyboardManager",new rw([[["Escape","mac+Escape"],ta.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ta.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ta.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ta.prototype._moveToPrevious],[["Home","mac+Home"],ta.prototype._moveToBeginning],[["End","mac+End"],ta.prototype._moveToEnd]]))}renderButton(){const e=L(this,Pa,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",m(this,ou)&&(e.ariaControls=`${m(this,ou).id}_colorpicker_dropdown`);const n=m(this,no)._signal;e.addEventListener("click",F(this,tn,wf).bind(this),{signal:n}),e.addEventListener("keydown",F(this,tn,dM).bind(this),{signal:n});const r=L(this,gh,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=m(this,Ag),e.append(r),e}renderMainDropdown(){const e=L(this,yr,F(this,tn,uM).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===m(this,Pa)){F(this,tn,wf).call(this,e);return}const n=e.target.getAttribute("data-color");n&&F(this,tn,cM).call(this,n,e)}_moveToNext(e){var n,r;if(!m(this,tn,Tc)){F(this,tn,wf).call(this,e);return}if(e.target===m(this,Pa)){(n=m(this,yr).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=m(this,yr))==null?void 0:n.firstChild)||e.target===m(this,Pa)){m(this,tn,Tc)&&this._hideDropdownFromKeyboard();return}m(this,tn,Tc)||F(this,tn,wf).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!m(this,tn,Tc)){F(this,tn,wf).call(this,e);return}(n=m(this,yr).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!m(this,tn,Tc)){F(this,tn,wf).call(this,e);return}(n=m(this,yr).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=m(this,yr))==null||e.classList.add("hidden"),m(this,Pa).ariaExpanded="false",(n=m(this,sd))==null||n.abort(),L(this,sd,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,_g)){if(!m(this,tn,Tc)){(e=m(this,ou))==null||e.unselect();return}this.hideDropdown(),m(this,Pa).focus({preventScroll:!0,focusVisible:m(this,qb)})}}updateColor(e){if(m(this,gh)&&(m(this,gh).style.backgroundColor=e),!m(this,yr))return;const n=m(this,no).highlightColors.values();for(const r of m(this,yr).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=m(this,Pa))==null||e.remove(),L(this,Pa,null),L(this,gh,null),(n=m(this,yr))==null||n.remove(),L(this,yr,null)}};Pa=new WeakMap,gh=new WeakMap,Ag=new WeakMap,yr=new WeakMap,qb=new WeakMap,_g=new WeakMap,ou=new WeakMap,$b=new WeakMap,sd=new WeakMap,no=new WeakMap,Vb=new WeakMap,tn=new WeakSet,uM=function(){const e=document.createElement("div"),n=m(this,no)._signal;e.addEventListener("contextmenu",Za,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),m(this,ou)&&(e.id=`${m(this,ou).id}_colorpicker_dropdown`);for(const[r,i]of m(this,no).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",m(ta,Vb)[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===m(this,Ag),a.addEventListener("click",F(this,tn,cM).bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",F(this,tn,dM).bind(this),{signal:n}),e},cM=function(e,n){n.stopPropagation(),m(this,$b).dispatch("switchannotationeditorparams",{source:this,type:St.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},dM=function(e){ta._keyboardManager.exec(this,e)},wf=function(e){if(m(this,tn,Tc)){this.hideDropdown();return}if(L(this,qb,e.detail===0),m(this,sd)||(L(this,sd,new AbortController),window.addEventListener("pointerdown",F(this,tn,X7).bind(this),{signal:m(this,no).combinedSignal(m(this,sd))})),m(this,Pa).ariaExpanded="true",m(this,yr)){m(this,yr).classList.remove("hidden");return}const n=L(this,yr,F(this,tn,uM).call(this));m(this,Pa).append(n)},X7=function(e){var n;(n=m(this,yr))!=null&&n.contains(e.target)||this.hideDropdown()},Tc=function(){return m(this,yr)&&!m(this,yr).classList.contains("hidden")},j(ta,Vb,null);let G0=ta;var Ho,Wb,Cg,Yb;const Cf=class Cf{constructor(e){j(this,Ho,null);j(this,Wb,null);j(this,Cg,null);L(this,Wb,e),L(this,Cg,e._uiManager),m(Cf,Yb)||L(Cf,Yb,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(m(this,Ho))return m(this,Ho);const{editorType:e,colorType:n,colorValue:r}=m(this,Wb),i=L(this,Ho,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",m(Cf,Yb)[e]),i.addEventListener("input",()=>{m(this,Cg).updateParams(n,i.value)},{signal:m(this,Cg)._signal}),i}update(e){m(this,Ho)&&(m(this,Ho).value=e)}destroy(){var e;(e=m(this,Ho))==null||e.remove(),L(this,Ho,null)}hideDropdown(){}};Ho=new WeakMap,Wb=new WeakMap,Cg=new WeakMap,Yb=new WeakMap,j(Cf,Yb,null);let QE=Cf;function SH(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Fy(t){return Math.max(0,Math.min(255,255*t))}class EH{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Fy(e),[e,e,e]}static G_HTML([e]){const n=SH(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Fy)}static RGB_HTML(e){return`#${e.map(SH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Fy(1-Math.min(1,e+i)),Fy(1-Math.min(1,r+i)),Fy(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class OAe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){fn("Abstract method `_createSVG` called.")}}class q0 extends OAe{_createSVG(e){return document.createElementNS(Dl,e)}}const jAe=9,ep=new WeakSet,FAe=new Date().getTimezoneOffset()*60*1e3;class AH{static create(e){switch(e.data.annotationType){case Jn.LINK:return new CI(e);case Jn.TEXT:return new BAe(e);case Jn.WIDGET:switch(e.data.fieldType){case"Tx":return new zAe(e);case"Btn":return e.data.radioButton?new Z7(e):e.data.checkBox?new GAe(e):new qAe(e);case"Ch":return new $Ae(e);case"Sig":return new HAe(e)}return new lp(e);case Jn.POPUP:return new hM(e);case Jn.FREETEXT:return new iY(e);case Jn.LINE:return new WAe(e);case Jn.SQUARE:return new YAe(e);case Jn.CIRCLE:return new KAe(e);case Jn.POLYLINE:return new aY(e);case Jn.CARET:return new JAe(e);case Jn.INK:return new TI(e);case Jn.POLYGON:return new XAe(e);case Jn.HIGHLIGHT:return new sY(e);case Jn.UNDERLINE:return new QAe(e);case Jn.SQUIGGLY:return new ZAe(e);case Jn.STRIKEOUT:return new e_e(e);case Jn.STAMP:return new oY(e);case Jn.FILEATTACHMENT:return new t_e(e);default:return new On(e)}}}var vh,Tg,Cs,Kb,fM;const LI=class LI{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){j(this,Kb);j(this,vh,null);j(this,Tg,!1);j(this,Cs,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return LI._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let a=-1/0,s=-1/0;if((n==null?void 0:n.length)>=8){for(let u=0;u<n.length;u+=8)n[u+1]>s?(s=n[u+1],a=n[u+2]):n[u+1]===s&&(a=Math.max(a,n[u+2]));return[a,s]}if((r==null?void 0:r.length)>=1){for(const u of r)for(let c=0,f=u.length;c<f;c+=2)u[c+1]>s?(s=u[c+1],a=u[c]):u[c+1]===s&&(a=Math.max(a,u[c]));if(a!==1/0)return[a,s]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/r,e[1]=100*(e[1]-s)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${j0}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${j0}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=m(this,Cs))==null?void 0:e.popup)||this.popup)==null||n.remove(),L(this,Cs,this.popup=null)}updateEdited(e){var a;if(!this.container)return;e.rect&&(m(this,vh)||L(this,vh,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&F(this,Kb,fM).call(this,n);let i=((a=m(this,Cs))==null?void 0:a.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=m(this,Cs).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),L(this,Cs,null),this.popup=null))}resetEdited(){var e;m(this,vh)&&(F(this,Kb,fM).call(this,m(this,vh).rect),(e=m(this,Cs))==null||e.popup.resetEdited(),L(this,vh,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof lp)&&!(this instanceof CI)&&(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof hM){const{rotation:A}=n;return!n.hasOwnCanvas&&A!==0&&this.setRotation(A,a),a}const{width:o,height:u}=this;if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const A=n.borderStyle.horizontalCornerRadius,E=n.borderStyle.verticalCornerRadius;if(A>0||E>0){const k=`calc(${A}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;s.borderRadius=k}else if(this instanceof Z7){const k=`calc(${o}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;s.borderRadius=k}switch(n.borderStyle.style){case tm.SOLID:s.borderStyle="solid";break;case tm.DASHED:s.borderStyle="dashed";break;case tm.BEVELED:st("Unimplemented border style: beveled");break;case tm.INSET:st("Unimplemented border style: inset");break;case tm.UNDERLINE:s.borderBottomStyle="solid";break}const C=n.borderColor||null;C?(L(this,Tg,!0),s.borderColor=Ie.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):s.borderWidth=0}const c=Ie.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:h,pageX:v,pageY:y}=i.rawDims;s.left=`${100*(c[0]-v)/f}%`,s.top=`${100*(c[1]-y)/h}%`;const{rotation:w}=n;return n.hasOwnCanvas||w===0?(s.width=`${100*o/f}%`,s.height=`${100*u/h}%`):this.setRotation(w,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),n.style.width=`${100*a/r}%`,n.style.height=`${100*s/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],o=a.slice(1);i.target.style[r]=EH[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:EH[`${s}_rgb`](o)})};return dt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const a=e[i]||r[i];a==null||a(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(A=>Math.fround(A));if(e.length===8){const[A,E,C,k]=e.subarray(2,6);if(i===A&&a===E&&n===C&&r===k)return}const{style:s}=this.container;let o;if(m(this,Tg)){const{borderColor:A,borderWidth:E}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const u=i-n,c=a-r,{svgFactory:f}=this,h=f.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const v=f.createElement("defs");h.append(v);const y=f.createElement("clipPath"),w=`clippath_${this.data.id}`;y.setAttribute("id",w),y.setAttribute("clipPathUnits","objectBoundingBox"),v.append(y);for(let A=2,E=e.length;A<E;A+=8){const C=e[A],k=e[A+1],R=e[A+2],D=e[A+3],I=f.createElement("rect"),P=(R-n)/u,M=(a-k)/c,B=(C-R)/u,z=(k-D)/c;I.setAttribute("x",P),I.setAttribute("y",M),I.setAttribute("width",B),I.setAttribute("height",z),y.append(I),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${M}" width="${B}" height="${z}"/>`)}m(this,Tg)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${w})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate);const a=L(this,Cs,new hM({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(m(this,Cs)||this.popup||this.data.popupRef)}get extraPopupElement(){return m(this,Cs)}render(){fn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===n)continue;const u=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${s}"]`);if(c&&!ep.has(c)){st(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:u,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&ep.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};vh=new WeakMap,Tg=new WeakMap,Cs=new WeakMap,Kb=new WeakSet,fM=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:u}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-o)/a}%`,n.top=`${100*(s-e[3]+u)/s}%`,i===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)};let On=LI;class UAe extends On{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Wa,Sf,J7,Q7;class CI extends On{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});j(this,Wa);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let a=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),a=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),a=!0):n.attachment?(F(this,Wa,J7).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),a=!0):n.setOCGState?(F(this,Wa,Q7).call(this,i,n.setOCGState,n.overlaidText),a=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),a=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),a=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,Wa,Sf).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),F(this,Wa,Sf).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(r.actions)){const s=i.get(a);s&&(n[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:a}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),F(this,Wa,Sf).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),F(this,Wa,Sf).call(this),!this._fieldObjects){st('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var h;i==null||i();const{fields:a,refs:s,include:o}=r,u=[];if(a.length!==0||s.length!==0){const v=new Set(s);for(const y of a){const w=this._fieldObjects[y]||[];for(const{id:A}of w)v.add(A)}for(const y of Object.values(this._fieldObjects))for(const w of y)v.has(w.id)===o&&u.push(w)}else for(const v of Object.values(this._fieldObjects))u.push(...v);const c=this.annotationStorage,f=[];for(const v of u){const{id:y}=v;switch(f.push(y),v.type){case"text":{const A=v.defaultValue||"";c.setValue(y,{value:A});break}case"checkbox":case"radiobutton":{const A=v.defaultValue===v.exportValues;c.setValue(y,{value:A});break}case"combobox":case"listbox":{const A=v.defaultValue||"";c.setValue(y,{value:A});break}default:continue}const w=document.querySelector(`[data-element-id="${y}"]`);if(w){if(!ep.has(w)){st(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Wa=new WeakSet,Sf=function(){this.container.setAttribute("data-internal-link","")},J7=function(n,r,i="",a=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,a),!1},F(this,Wa,Sf).call(this)},Q7=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),F(this,Wa,Sf).call(this)};class BAe extends On{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class lp extends On{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return zr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var o;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,n,r,i){var a,s,o;for(const[u,c]of r)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,u,c,i),c==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Ie.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||jAe,a=e.style;let s;const o=2,u=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),f=Math.round(c/(V2*i))||1,h=c/f;s=Math.min(i,u(h/V2))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,u(c/V2))}a.fontSize=`calc(${s}px * var(--total-scale-factor))`,a.color=Ie.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class zAe extends lp{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){var i,a;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let o=s.value||"";const u=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;u&&o.length>u&&(o=o.slice(0,u));let c=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const f={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),ep.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:v,timeStep:y}=this.data,w=!!v&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),u&&(r.maxLength=u),r.addEventListener("input",E=>{e.setValue(n,{value:E.target.value}),this.setPropertyOnSiblings(r,"value",E.target.value,"value"),f.formattedValue=null}),r.addEventListener("resetform",E=>{const C=this.data.defaultFieldValue??"";r.value=f.userValue=C,f.formattedValue=null});let A=E=>{const{formattedValue:C}=f;C!=null&&(E.target.value=C),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",C=>{var R;if(f.focused)return;const{target:k}=C;if(w&&(k.type=v,y&&(k.step=y)),f.userValue){const D=f.userValue;if(w)if(v==="time"){const I=new Date(D),P=[I.getHours(),I.getMinutes(),I.getSeconds()];k.value=P.map(M=>M.toString().padStart(2,"0")).join(":")}else k.value=new Date(D-FAe).toISOString().split(v==="date"?"T":".",1)[0];else k.value=D}f.lastCommittedValue=k.value,f.commitKey=1,(R=this.data.actions)!=null&&R.Focus||(f.focused=!0)}),r.addEventListener("updatefromsandbox",C=>{this.showElementAndHideCanvas(C.target);const k={value(R){f.userValue=R.detail.value??"",w||e.setValue(n,{value:f.userValue.toString()}),R.target.value=f.userValue},formattedValue(R){const{formattedValue:D}=R.detail;f.formattedValue=D,D!=null&&R.target!==document.activeElement&&(R.target.value=D);const I={formattedValue:D};w&&(I.value=D),e.setValue(n,I)},selRange(R){R.target.setSelectionRange(...R.detail.selRange)},charLimit:R=>{var M;const{charLimit:D}=R.detail,{target:I}=R;if(D===0){I.removeAttribute("maxLength");return}I.setAttribute("maxLength",D);let P=f.userValue;!P||P.length<=D||(P=P.slice(0,D),I.value=f.userValue=P,e.setValue(n,{value:P}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:I.selectionStart,selEnd:I.selectionEnd}}))}};this._dispatchEventFromSandbox(k,C)}),r.addEventListener("keydown",C=>{var D;f.commitKey=1;let k=-1;if(C.key==="Escape"?k=0:C.key==="Enter"&&!this.data.multiLine?k=2:C.key==="Tab"&&(f.commitKey=3),k===-1)return;const{value:R}=C.target;f.lastCommittedValue!==R&&(f.lastCommittedValue=R,f.userValue=R,(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:k,selStart:C.target.selectionStart,selEnd:C.target.selectionEnd}}))});const E=A;A=null,r.addEventListener("blur",C=>{var D,I;if(!f.focused||!C.relatedTarget)return;(D=this.data.actions)!=null&&D.Blur||(f.focused=!1);const{target:k}=C;let{value:R}=k;if(w){if(R&&v==="time"){const P=R.split(":").map(M=>parseInt(M,10));R=new Date(2e3,0,1,P[0],P[1],P[2]||0).valueOf(),k.step=""}else R.includes("T")||(R=`${R}T00:00`),R=new Date(R).valueOf();k.type="text"}f.userValue=R,f.lastCommittedValue!==R&&((I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:f.commitKey,selStart:C.target.selectionStart,selEnd:C.target.selectionEnd}})),E(C)}),(a=this.data.actions)!=null&&a.Keystroke&&r.addEventListener("beforeinput",C=>{var z;f.lastCommittedValue=null;const{data:k,target:R}=C,{value:D,selectionStart:I,selectionEnd:P}=R;let M=I,B=P;switch(C.inputType){case"deleteWordBackward":{const K=D.substring(0,I).match(/\w*[^\w]*$/);K&&(M-=K[0].length);break}case"deleteWordForward":{const K=D.substring(I).match(/^[^\w]*\w*/);K&&(B+=K[0].length);break}case"deleteContentBackward":I===P&&(M-=1);break;case"deleteContentForward":I===P&&(B+=1);break}C.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:D,change:k||"",willCommit:!1,selStart:M,selEnd:B}})}),this._setEventListeners(r,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],C=>C.target.value)}if(A&&r.addEventListener("blur",A),this.data.comb){const C=(this.data.rect[2]-this.data.rect[0])/u;r.classList.add("comb"),r.style.letterSpacing=`calc(${C}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class HAe extends lp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class GAe extends lp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return ep.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:u}=s.target;for(const c of this._getElementsByName(o,r)){const f=u&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=f),e.setValue(c.id,{value:f})}e.setValue(r,{value:u})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(r,{value:u.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Z7 extends lp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(ep.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:u}=s.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:u})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",o=>{const u={value:c=>{const f=s===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const v=f&&h.id===r;h.domElement&&(h.domElement.checked=v),e.setValue(h.id,{value:v})}}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class qAe extends CI{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class $Ae extends lp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");ep.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const h=this.data.defaultFieldValue;for(const v of i.options)v.selected=v.value===h});for(const f of this.data.options){const h=document.createElement("option");h.textContent=f.displayValue,h.value=f.exportValue,r.value.includes(f.exportValue)&&(h.setAttribute("selected",!0),a=!1),i.append(h)}let s=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),s=()=>{f.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=f=>{const h=f?"value":"textContent",{options:v,multiple:y}=i;return y?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[h]):v.selectedIndex===-1?null:v[v.selectedIndex][h]};let u=o(!1);const c=f=>{const h=f.target.options;return Array.prototype.map.call(h,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const h={value(v){s==null||s();const y=v.detail.value,w=new Set(Array.isArray(y)?y:[y]);for(const A of i.options)A.selected=w.has(A.value);e.setValue(n,{value:o(!0)}),u=o(!1)},multipleSelection(v){i.multiple=!0},remove(v){const y=i.options,w=v.detail.remove;y[w].selected=!1,i.remove(w),y.length>0&&Array.prototype.findIndex.call(y,E=>E.selected)===-1&&(y[0].selected=!0),e.setValue(n,{value:o(!0),items:c(v)}),u=o(!1)},clear(v){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),u=o(!1)},insert(v){const{index:y,displayValue:w,exportValue:A}=v.detail.insert,E=i.children[y],C=document.createElement("option");C.textContent=w,C.value=A,E?E.before(C):i.append(C),e.setValue(n,{value:o(!0),items:c(v)}),u=o(!1)},items(v){const{items:y}=v.detail;for(;i.length!==0;)i.remove(0);for(const w of y){const{displayValue:A,exportValue:E}=w,C=document.createElement("option");C.textContent=A,C.value=E,i.append(C)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(v)}),u=o(!1)},indices(v){const y=new Set(v.detail.indices);for(const w of v.target.options)w.selected=y.has(w.index);e.setValue(n,{value:o(!0)}),u=o(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(h,f)}),i.addEventListener("input",f=>{var y;const h=o(!0),v=o(!1);e.setValue(n,{value:h}),f.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:u,change:v,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Xb,pM;class hM extends On{constructor(n){const{data:r,elements:i,parent:a}=n,s=!!a._commentManager;super(n,{isRenderable:!s&&On._hasPopupData(r)});j(this,Xb);if(this.elements=i,s&&On._hasPopupData(r)){const o=this.popup=F(this,Xb,pM).call(this);for(const u of i)u.popup=o}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=F(this,Xb,pM).call(this),i=[];for(const a of this.elements)a.popup=r,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${yI}${a}`).join(",")),this.container}}Xb=new WeakSet,pM=function(){return new VAe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Da,od,gA,vA,Ng,Rg,Hn,Go,ld,yh,kg,Mg,qo,Ia,lu,uu,Dr,cu,ud,Jb,du,Pg,bh,cd,gi,dd,ht,_1,mM,gM,vM,C1,yM,eY,tY,nY,rY,T1,N1,bM;class VAe{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:u,rect:c,parentRect:f,open:h,commentManager:v=null}){j(this,ht);j(this,Da,null);j(this,od,F(this,ht,nY).bind(this));j(this,gA,F(this,ht,bM).bind(this));j(this,vA,F(this,ht,N1).bind(this));j(this,Ng,F(this,ht,T1).bind(this));j(this,Rg,null);j(this,Hn,null);j(this,Go,null);j(this,ld,null);j(this,yh,null);j(this,kg,null);j(this,Mg,null);j(this,qo,!1);j(this,Ia,null);j(this,lu,null);j(this,uu,null);j(this,Dr,null);j(this,cu,null);j(this,ud,null);j(this,Jb,null);j(this,du,null);j(this,Pg,null);j(this,bh,null);j(this,cd,!1);j(this,gi,null);j(this,dd,null);L(this,Hn,e),L(this,Pg,i),L(this,Go,s),L(this,du,o),L(this,kg,u),L(this,Rg,n),L(this,Jb,c),L(this,Mg,f),L(this,yh,r),L(this,Da,v),L(this,gi,r[0]),L(this,ld,B0.toDateObject(a)),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup()),v?this.renderCommentButton():(F(this,ht,_1).call(this),m(this,Hn).hidden=!0,h&&F(this,ht,T1).call(this))}renderCommentButton(){if(m(this,Dr)||(m(this,cu)||F(this,ht,mM).call(this),!m(this,cu)))return;const{signal:e}=L(this,lu,new AbortController),n=!!m(this,gi).extraPopupElement,r=()=>{m(this,Da).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{m(this,Da).toggleCommentPopup(this,!1,!0,!n)},a=()=>{m(this,Da).toggleCommentPopup(this,!1,!1)};if(n){L(this,Dr,m(this,gi).container);for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",m(this,od),{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=L(this,Dr,document.createElement("button"));s.className="annotationCommentButton";const o=m(this,gi).container;s.style.zIndex=o.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),F(this,ht,vM).call(this),F(this,ht,gM).call(this),s.addEventListener("keydown",m(this,od),{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),o.after(s)}}get commentButtonColor(){const{color:e,opacity:n}=m(this,gi).commentData;return e?m(this,kg)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=m(this,Dr))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}=m(this,gi).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return m(this,Dr)}get comment(){return m(this,dd)||L(this,dd,m(this,gi).commentText),m(this,dd)}set comment(e){e!==this.comment&&(m(this,gi).commentText=L(this,dd,e))}get parentBoundingClientRect(){return m(this,gi).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){m(this,Dr)&&(m(this,Dr).classList.toggle("selected",e),m(this,Dr).ariaExpanded=n)}setSelectedCommentButton(e){m(this,Dr).classList.toggle("selected",e)}get commentPopupPosition(){if(m(this,ud))return m(this,ud);const{x:e,y:n,height:r}=m(this,Dr).getBoundingClientRect(),{x:i,y:a,width:s,height:o}=m(this,gi).layer.getBoundingClientRect();return[(e-i)/s,(n+r-a)/o]}set commentPopupPosition(e){L(this,ud,e)}hasDefaultPopupPosition(){return m(this,ud)===null}get commentButtonPosition(){return m(this,cu)}get commentButtonWidth(){return m(this,Dr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=m(this,ud)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:a,y:s,width:o,height:u}=i;m(this,Da).showDialog(null,this,a+n*o,s+r*u,{...e,parentDimensions:i})}render(){var r,i;if(m(this,Ia))return;const e=L(this,Ia,document.createElement("div"));if(e.className="popup",m(this,Rg)){const a=e.style.outlineColor=Ie.makeHexColor(...m(this,Rg));e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=m(this,Pg))!=null&&r.str){const a=document.createElement("span");a.className="title",n.append(a),{dir:a.dir,str:a.textContent}=m(this,Pg)}if(e.append(n),m(this,ld)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,ld).valueOf()})),a.dateTime=m(this,ld).toISOString(),n.append(a)}xI({html:m(this,ht,C1)||m(this,Go).str,dir:(i=m(this,Go))==null?void 0:i.dir,className:"popupContent"},e),m(this,Hn).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(m(this,Da)){r?(this.remove(),L(this,dd,null)):n&&(n.deleted?this.remove():(F(this,ht,vM).call(this),L(this,dd,n.text))),e&&(L(this,cu,null),F(this,ht,mM).call(this),F(this,ht,gM).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}F(this,ht,_1).call(this),m(this,bh)||L(this,bh,{contentsObj:m(this,Go),richText:m(this,du)}),e&&L(this,uu,null),n&&n.text&&(L(this,du,F(this,ht,tY).call(this,n.text)),L(this,ld,B0.toDateObject(n.date)),L(this,Go,null)),(i=m(this,Ia))==null||i.remove(),L(this,Ia,null)}resetEdited(){var e;m(this,bh)&&({contentsObj:mr(this,Go)._,richText:mr(this,du)._}=m(this,bh),L(this,bh,null),(e=m(this,Ia))==null||e.remove(),L(this,Ia,null),L(this,uu,null))}remove(){var e,n,r;if((e=m(this,lu))==null||e.abort(),L(this,lu,null),(n=m(this,Ia))==null||n.remove(),L(this,Ia,null),L(this,cd,!1),L(this,qo,!1),(r=m(this,Dr))==null||r.remove(),L(this,Dr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){L(this,cd,this.isVisible),m(this,cd)&&(m(this,Hn).hidden=!0)}maybeShow(){m(this,Da)||(F(this,ht,_1).call(this),m(this,cd)&&(m(this,Ia)||F(this,ht,N1).call(this),L(this,cd,!1),m(this,Hn).hidden=!1))}get isVisible(){return m(this,Da)?!1:m(this,Hn).hidden===!1}}Da=new WeakMap,od=new WeakMap,gA=new WeakMap,vA=new WeakMap,Ng=new WeakMap,Rg=new WeakMap,Hn=new WeakMap,Go=new WeakMap,ld=new WeakMap,yh=new WeakMap,kg=new WeakMap,Mg=new WeakMap,qo=new WeakMap,Ia=new WeakMap,lu=new WeakMap,uu=new WeakMap,Dr=new WeakMap,cu=new WeakMap,ud=new WeakMap,Jb=new WeakMap,du=new WeakMap,Pg=new WeakMap,bh=new WeakMap,cd=new WeakMap,gi=new WeakMap,dd=new WeakMap,ht=new WeakSet,_1=function(){var n;if(m(this,lu))return;L(this,lu,new AbortController);const{signal:e}=m(this,lu);for(const r of this.trigger)r.addEventListener("click",m(this,Ng),{signal:e}),r.addEventListener("pointerenter",m(this,vA),{signal:e}),r.addEventListener("pointerleave",m(this,gA),{signal:e}),r.classList.add("popupTriggerArea");for(const r of m(this,yh))(n=r.container)==null||n.addEventListener("keydown",m(this,od),{signal:e})},mM=function(){const e=m(this,yh).find(n=>n.hasCommentButton);e&&L(this,cu,e._normalizePoint(e.commentButtonPosition))},gM=function(){if(m(this,gi).extraPopupElement&&!m(this,gi).editor)return;this.renderCommentButton();const[e,n]=m(this,cu),{style:r}=m(this,Dr);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},vM=function(){m(this,gi).extraPopupElement||(this.renderCommentButton(),m(this,Dr).style.backgroundColor=this.commentButtonColor||"")},C1=function(){const e=m(this,du),n=m(this,Go);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&m(this,du).html||null},yM=function(){var e,n,r;return((r=(n=(e=m(this,ht,C1))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},eY=function(){var e,n,r;return((r=(n=(e=m(this,ht,C1))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},tY=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:m(this,ht,eY),fontSize:m(this,ht,yM)?`calc(${m(this,ht,yM)}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r},nY=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,qo))&&F(this,ht,T1).call(this)},rY=function(){if(m(this,uu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=m(this,kg);let s=!!m(this,Mg),o=s?m(this,Mg):m(this,Jb);for(const w of m(this,yh))if(!o||Ie.intersect(w.data.rect,o)!==null){o=w.data.rect,s=!0;break}const u=Ie.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),f=s?o[2]-o[0]+5:0,h=u[0]+f,v=u[1];L(this,uu,[100*(h-i)/n,100*(v-a)/r]);const{style:y}=m(this,Hn);y.left=`${m(this,uu)[0]}%`,y.top=`${m(this,uu)[1]}%`},T1=function(){if(m(this,Da)){m(this,Da).toggleCommentPopup(this,!1);return}L(this,qo,!m(this,qo)),m(this,qo)?(F(this,ht,N1).call(this),m(this,Hn).addEventListener("click",m(this,Ng)),m(this,Hn).addEventListener("keydown",m(this,od))):(F(this,ht,bM).call(this),m(this,Hn).removeEventListener("click",m(this,Ng)),m(this,Hn).removeEventListener("keydown",m(this,od)))},N1=function(){m(this,Ia)||this.render(),this.isVisible?m(this,qo)&&m(this,Hn).classList.add("focused"):(F(this,ht,rY).call(this),m(this,Hn).hidden=!1,m(this,Hn).style.zIndex=parseInt(m(this,Hn).style.zIndex)+1e3)},bM=function(){m(this,Hn).classList.remove("focused"),!(m(this,qo)||!this.isVisible)&&(m(this,Hn).hidden=!0,m(this,Hn).style.zIndex=parseInt(m(this,Hn).style.zIndex)-1e3)};class iY extends On{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=at.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Qb;class WAe extends On{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Qb,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=L(this,Qb,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Qb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qb=new WeakMap;var Zb;class YAe extends On{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Zb,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=L(this,Zb,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",r-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Zb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zb=new WeakMap;var ex;class KAe extends On{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,ex,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=L(this,ex,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,ex)}addHighlightArea(){this.container.classList.add("highlightArea")}}ex=new WeakMap;var tx;class aY extends On{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,tx,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:a},width:s,height:o}=this;if(!r)return this.container;const u=this.svgFactory.create(s,o,!0);let c=[];for(let h=0,v=r.length;h<v;h+=2){const y=r[h]-n[0],w=n[3]-r[h+1];c.push(`${y},${w}`)}c=c.join(" ");const f=L(this,tx,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",c),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,tx)}addHighlightArea(){this.container.classList.add("highlightArea")}}tx=new WeakMap;class XAe extends aY{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class JAe extends On{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var nx,xh,rx,xM;class TI extends On{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,rx);j(this,nx,null);j(this,xh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?at.HIGHLIGHT:at.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:a,popupRef:s}}=this,{transform:o,width:u,height:c}=F(this,rx,xM).call(this,r,n),f=this.svgFactory.create(u,c,!0),h=L(this,nx,this.svgFactory.createElement("svg:g"));f.append(h),h.setAttribute("stroke-width",a.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let v=0,y=i.length;v<y;v++){const w=this.svgFactory.createElement(this.svgElementName);m(this,xh).push(w),w.setAttribute("points",i[v].join(",")),h.append(w)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:a}=n,s=m(this,nx);if(r>=0&&s.setAttribute("stroke-width",r||1),i)for(let o=0,u=m(this,xh).length;o<u;o++)m(this,xh)[o].setAttribute("points",i[o].join(","));if(a){const{transform:o,width:u,height:c}=F(this,rx,xM).call(this,this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${u} ${c}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return m(this,xh)}addHighlightArea(){this.container.classList.add("highlightArea")}}nx=new WeakMap,xh=new WeakMap,rx=new WeakSet,xM=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class sY extends On{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=at.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class QAe extends On{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class ZAe extends On{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class e_e extends On{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class oY extends On{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=at.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ix,ax,wM;class t_e extends On{constructor(n){var i;super(n,{isRenderable:!0});j(this,ax);j(this,ix,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",F(this,ax,wM).bind(this)),L(this,ix,i);const{isMac:a}=zr.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&F(this,ax,wM).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return m(this,ix)}addHighlightArea(){this.container.classList.add("highlightArea")}}ix=new WeakMap,ax=new WeakSet,wM=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Dg,wh,Ig,fd,sx,Sh,Bd,SM,EM,Lg;let NI=(Lg=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o,commentManager:u,linkService:c,annotationStorage:f}){j(this,Bd);j(this,Dg,null);j(this,wh,null);j(this,Ig,null);j(this,fd,new Map);j(this,sx,null);j(this,Sh,null);this.div=e,L(this,Dg,n),L(this,wh,r),L(this,sx,o||null),L(this,Sh,c||null),L(this,Ig,f||new wI),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return m(this,fd).size>0}async render(e){var s,o,u;const{annotations:n}=e,r=this.div;jd(r,this.viewport);const i=new Map,a={data:null,layer:r,linkService:m(this,Sh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new q0,annotationStorage:m(this,Ig),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const f=c.annotationType===Jn.POPUP;if(f){const y=i.get(c.id);if(!y)continue;a.elements=y}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;a.data=c;const h=AH.create(a);if(!h.isRenderable)continue;if(!f&&c.popupRef){const y=i.get(c.popupRef);y?y.push(h):i.set(c.popupRef,[h])}const v=h.render();c.hidden&&(v.style.visibility="hidden"),await F(this,Bd,SM).call(this,v,c.id,a.elements),(o=(s=h.extraPopupElement)==null?void 0:s.popup)==null||o.renderCommentButton(),h._isEditable&&(m(this,fd).set(h.data.id,h),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(h))}F(this,Bd,EM).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:m(this,Sh),svgFactory:new q0,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=Lg._defaultBorderStyle),n.data=r;const i=AH.create(n);if(!i.isRenderable)continue;const a=i.render();await F(this,Bd,SM).call(this,a,r.id,null)}}update({viewport:e}){const n=this.div;this.viewport=e,jd(n,{rotation:e.rotation}),F(this,Bd,EM).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(m(this,fd).values())}getEditableAnnotation(e){return m(this,fd).get(e)}addFakeAnnotation(e){var o;const{div:n}=this,{id:r,rotation:i}=e,a=new UAe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:m(this,Sh),annotationStorage:m(this,Ig)}),s=a.render();return n.append(s),(o=m(this,Dg))==null||o.moveElementInDOM(n,s,s,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return dt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:tm.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Dg=new WeakMap,wh=new WeakMap,Ig=new WeakMap,fd=new WeakMap,sx=new WeakMap,Sh=new WeakMap,Bd=new WeakSet,SM=async function(e,n,r){var o,u;const i=e.firstChild||e,a=i.id=`${yI}${n}`,s=await((o=m(this,sx))==null?void 0:o.getAriaAttributes(a));if(s)for(const[c,f]of s)i.setAttribute(c,f);r?r.at(-1).container.after(e):(this.div.append(e),(u=m(this,Dg))==null||u.moveElementInDOM(this.div,e,i,!1))},EM=function(){var n;if(!m(this,wh))return;const e=this.div;for(const[r,i]of m(this,wh)){const a=e.querySelector(`[data-annotation-id="${r}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):a.append(i);const o=m(this,fd).get(r);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,a.id,i),o._hasNoCanvas=!1):o.canvas=i)}m(this,wh).clear()},Lg);const JS=/\r\n?|\n/g;var La,ox,Eh,Oa,fr,lY,uY,cY,R1,Tu,k1,M1,dY,_M,fY;const wn=class wn extends pn{constructor(n){super({...n,name:"freeTextEditor"});j(this,fr);j(this,La,"");j(this,ox,`${this.id}-editor`);j(this,Eh,null);j(this,Oa);Se(this,"_colorPicker",null);this.color=n.color||wn._defaultColor||pn._defaultLineColor,L(this,Oa,n.fontSize||wn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const n=wn.prototype,r=s=>s.isEmpty(),i=Fd.TRANSLATE_SMALL,a=Fd.TRANSLATE_BIG;return dt(this,"_keyboardManager",new rw([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,a],checker:r}]]))}static initialize(n,r){pn.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case St.FREETEXT_SIZE:wn._defaultFontSize=r;break;case St.FREETEXT_COLOR:wn._defaultColor=r;break}}updateParams(n,r){switch(n){case St.FREETEXT_SIZE:F(this,fr,lY).call(this,r);break;case St.FREETEXT_COLOR:F(this,fr,uY).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[St.FREETEXT_SIZE,wn._defaultFontSize],[St.FREETEXT_COLOR,wn._defaultColor||pn._defaultLineColor]]}get propertiesToUpdate(){return[[St.FREETEXT_SIZE,m(this,Oa)],[St.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new QE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return St.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-wn._internalPadding*n,-(wn._internalPadding+m(this,Oa))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),L(this,Eh,new AbortController);const n=this._uiManager.combinedSignal(m(this,Eh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,ox)),this._isDraggable=!0,(n=m(this,Eh))==null||n.abort(),L(this,Eh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=m(this,La),r=L(this,La,F(this,fr,cY).call(this).trimEnd());if(n===r)return;const i=a=>{if(L(this,La,a),!a){this.remove();return}F(this,fr,M1).call(this),this._uiManager.rebuild(this),F(this,fr,R1).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),F(this,fr,R1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){wn._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,ox)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Oa)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[u,c]=this.getInitialTranslation();[u,c]=this.pageTranslationToScreen(u,c);const[f,h]=this.pageDimensions,[v,y]=this.pageTranslation;let w,A;switch(this.rotation){case 0:w=n+(o[0]-v)/f,A=r+this.height-(o[1]-y)/h;break;case 90:w=n+(o[0]-v)/f,A=r-(o[1]-y)/h,[u,c]=[c,-u];break;case 180:w=n-this.width+(o[0]-v)/f,A=r-(o[1]-y)/h,[u,c]=[-u,-c];break;case 270:w=n+(o[0]-v-this.height*h)/f,A=r+(o[1]-y-this.width*f)/h,[u,c]=[-c,u];break}this.setAt(w*a,A*s,u,c)}else this._moveAfterPaste(n,r);F(this,fr,M1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var w,A,E;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const a=F(w=wn,Tu,_M).call(w,r.getData("text")||"").replaceAll(JS,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:u,startOffset:c}=o,f=[],h=[];if(u.nodeType===Node.TEXT_NODE){const C=u.parentElement;if(h.push(u.nodeValue.slice(c).replaceAll(JS,"")),C!==this.editorDiv){let k=f;for(const R of this.editorDiv.childNodes){if(R===C){k=h;continue}k.push(F(A=wn,Tu,k1).call(A,R))}}f.push(u.nodeValue.slice(0,c).replaceAll(JS,""))}else if(u===this.editorDiv){let C=f,k=0;for(const R of this.editorDiv.childNodes)k++===c&&(C=h),C.push(F(E=wn,Tu,k1).call(E,R))}L(this,La,`${f.join(`
`)}${a}${h.join(`
`)}`),F(this,fr,M1).call(this);const v=new Range;let y=Math.sumPrecise(f.map(C=>C.length));for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const k=C.nodeValue.length;if(y<=k){v.setStart(C,y),v.setEnd(C,y);break}y-=k}s.removeAllRanges(),s.addRange(v)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=wn._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var o;let a=null;if(n instanceof iY){const{data:{defaultAppearanceData:{fontSize:u,fontColor:c},rect:f,rotation:h,id:v,popupRef:y,richText:w,contentsObj:A,creationDate:E,modificationDate:C},textContent:k,textPosition:R,parent:{page:{pageNumber:D}}}=n;if(!k||k.length===0)return null;a=n={annotationType:at.FREETEXT,color:Array.from(c),fontSize:u,value:k.join(`
`),position:R,pageIndex:D-1,rect:f.slice(0),rotation:h,annotationElementId:v,id:v,deleted:!1,popupRef:y,comment:(A==null?void 0:A.str)||null,richText:w,creationDate:E,modificationDate:C}}const s=await super.deserialize(n,r,i);return L(s,Oa,n.fontSize),s.color=Ie.makeHexColor(...n.color),L(s,La,F(o=wn,Tu,_M).call(o,n.value)),s._initialData=a,n.comment&&s.setCommentData(n),s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=pn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:m(this,Oa),value:F(this,fr,dY).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!F(this,fr,fY).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${m(this,Oa)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const a of m(this,La).split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),r.append(s)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:m(this,La)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};La=new WeakMap,ox=new WeakMap,Eh=new WeakMap,Oa=new WeakMap,fr=new WeakSet,lY=function(n){const r=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-m(this,Oa))*this.parentScale),L(this,Oa,a),F(this,fr,R1).call(this)},i=m(this,Oa);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:St.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},uY=function(n){const r=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:St.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},cY=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const a of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(n.push(F(i=wn,Tu,k1).call(i,a)),r=a);return n.join(`
`)},R1=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,u=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Tu=new WeakSet,k1=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(JS,"")},M1=function(){if(this.editorDiv.replaceChildren(),!!m(this,La))for(const n of m(this,La).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},dY=function(){return m(this,La).replaceAll(""," ")},_M=function(n){return n.replaceAll(" ","")},fY=function(n){const{value:r,fontSize:i,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,u)=>o!==a[u])||n.pageIndex!==s},j(wn,Tu),Se(wn,"_freeTextDefaultContent",""),Se(wn,"_internalPadding",0),Se(wn,"_defaultColor",null),Se(wn,"_defaultFontSize",10),Se(wn,"_type","freetext"),Se(wn,"_editorType",at.FREETEXT);let AM=wn;class De{toSVGPath(){fn("Abstract method `toSVGPath` must be implemented.")}get box(){fn("Abstract getter `box` must be implemented.")}serialize(e,n){fn("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,u=e.length;o<u;o+=2)s[o]=n+e[o]*i,s[o+1]=r+e[o+1]*a;return s}static _rescaleAndSwap(e,n,r,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,u=e.length;o<u;o+=2)s[o]=n+e[o+1]*i,s[o+1]=r+e[o]*a;return s}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let a=0,s=e.length;a<s;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,s){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+s)/6,(r+a)/2,(i+s)/2]}}Se(De,"PRECISION",1e-4);var ja,ro,Og,jg,$o,mt,Ah,_h,lx,ux,Fg,Ug,hd,cx,yA,bA,wr,s0,hY,pY,mY,gY,vY,yY;const jl=class jl{constructor({x:e,y:n},r,i,a,s,o=0){j(this,wr);j(this,ja);j(this,ro,[]);j(this,Og);j(this,jg);j(this,$o,[]);j(this,mt,new Float32Array(18));j(this,Ah);j(this,_h);j(this,lx);j(this,ux);j(this,Fg);j(this,Ug);j(this,hd,[]);L(this,ja,r),L(this,Ug,a*i),L(this,jg,s),m(this,mt).set([NaN,NaN,NaN,NaN,e,n],6),L(this,Og,o),L(this,ux,m(jl,cx)*i),L(this,lx,m(jl,bA)*i),L(this,Fg,i),m(this,hd).push(e,n)}isEmpty(){return isNaN(m(this,mt)[8])}add({x:e,y:n}){var z;L(this,Ah,e),L(this,_h,n);const[r,i,a,s]=m(this,ja);let[o,u,c,f]=m(this,mt).subarray(8,12);const h=e-c,v=n-f,y=Math.hypot(h,v);if(y<m(this,lx))return!1;const w=y-m(this,ux),A=w/y,E=A*h,C=A*v;let k=o,R=u;o=c,u=f,c+=E,f+=C,(z=m(this,hd))==null||z.push(e,n);const D=-C/w,I=E/w,P=D*m(this,Ug),M=I*m(this,Ug);return m(this,mt).set(m(this,mt).subarray(2,8),0),m(this,mt).set([c+P,f+M],4),m(this,mt).set(m(this,mt).subarray(14,18),12),m(this,mt).set([c-P,f-M],16),isNaN(m(this,mt)[6])?(m(this,$o).length===0&&(m(this,mt).set([o+P,u+M],2),m(this,$o).push(NaN,NaN,NaN,NaN,(o+P-r)/a,(u+M-i)/s),m(this,mt).set([o-P,u-M],14),m(this,ro).push(NaN,NaN,NaN,NaN,(o-P-r)/a,(u-M-i)/s)),m(this,mt).set([k,R,o,u,c,f],6),!this.isEmpty()):(m(this,mt).set([k,R,o,u,c,f],6),Math.abs(Math.atan2(R-u,k-o)-Math.atan2(C,E))<Math.PI/2?([o,u,c,f]=m(this,mt).subarray(2,6),m(this,$o).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/a,((u+f)/2-i)/s),[o,u,k,R]=m(this,mt).subarray(14,18),m(this,ro).push(NaN,NaN,NaN,NaN,((k+o)/2-r)/a,((R+u)/2-i)/s),!0):([k,R,o,u,c,f]=m(this,mt).subarray(0,6),m(this,$o).push(((k+5*o)/6-r)/a,((R+5*u)/6-i)/s,((5*o+c)/6-r)/a,((5*u+f)/6-i)/s,((o+c)/2-r)/a,((u+f)/2-i)/s),[c,f,o,u,k,R]=m(this,mt).subarray(12,18),m(this,ro).push(((k+5*o)/6-r)/a,((R+5*u)/6-i)/s,((5*o+c)/6-r)/a,((5*u+f)/6-i)/s,((o+c)/2-r)/a,((u+f)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,$o),n=m(this,ro);if(isNaN(m(this,mt)[6])&&!this.isEmpty())return F(this,wr,hY).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);F(this,wr,mY).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return F(this,wr,pY).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,a,s){return new bY(e,n,r,i,a,s)}getOutlines(){var h;const e=m(this,$o),n=m(this,ro),r=m(this,mt),[i,a,s,o]=m(this,ja),u=new Float32Array((((h=m(this,hd))==null?void 0:h.length)??0)+2);for(let v=0,y=u.length-2;v<y;v+=2)u[v]=(m(this,hd)[v]-i)/s,u[v+1]=(m(this,hd)[v+1]-a)/o;if(u[u.length-2]=(m(this,Ah)-i)/s,u[u.length-1]=(m(this,_h)-a)/o,isNaN(r[6])&&!this.isEmpty())return F(this,wr,gY).call(this,u);const c=new Float32Array(m(this,$o).length+24+m(this,ro).length);let f=e.length;for(let v=0;v<f;v+=2){if(isNaN(e[v])){c[v]=c[v+1]=NaN;continue}c[v]=e[v],c[v+1]=e[v+1]}f=F(this,wr,yY).call(this,c,f);for(let v=n.length-6;v>=6;v-=6)for(let y=0;y<6;y+=2){if(isNaN(n[v+y])){c[f]=c[f+1]=NaN,f+=2;continue}c[f]=n[v+y],c[f+1]=n[v+y+1],f+=2}return F(this,wr,vY).call(this,c,f),this.newFreeDrawOutline(c,u,m(this,ja),m(this,Fg),m(this,Og),m(this,jg))}};ja=new WeakMap,ro=new WeakMap,Og=new WeakMap,jg=new WeakMap,$o=new WeakMap,mt=new WeakMap,Ah=new WeakMap,_h=new WeakMap,lx=new WeakMap,ux=new WeakMap,Fg=new WeakMap,Ug=new WeakMap,hd=new WeakMap,cx=new WeakMap,yA=new WeakMap,bA=new WeakMap,wr=new WeakSet,s0=function(){const e=m(this,mt).subarray(4,6),n=m(this,mt).subarray(16,18),[r,i,a,s]=m(this,ja);return[(m(this,Ah)+(e[0]-n[0])/2-r)/a,(m(this,_h)+(e[1]-n[1])/2-i)/s,(m(this,Ah)+(n[0]-e[0])/2-r)/a,(m(this,_h)+(n[1]-e[1])/2-i)/s]},hY=function(){const[e,n,r,i]=m(this,ja),[a,s,o,u]=F(this,wr,s0).call(this);return`M${(m(this,mt)[2]-e)/r} ${(m(this,mt)[3]-n)/i} L${(m(this,mt)[4]-e)/r} ${(m(this,mt)[5]-n)/i} L${a} ${s} L${o} ${u} L${(m(this,mt)[16]-e)/r} ${(m(this,mt)[17]-n)/i} L${(m(this,mt)[14]-e)/r} ${(m(this,mt)[15]-n)/i} Z`},pY=function(e){const n=m(this,ro);e.push(`L${n[4]} ${n[5]} Z`)},mY=function(e){const[n,r,i,a]=m(this,ja),s=m(this,mt).subarray(4,6),o=m(this,mt).subarray(16,18),[u,c,f,h]=F(this,wr,s0).call(this);e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${u} ${c} L${f} ${h} L${(o[0]-n)/i} ${(o[1]-r)/a}`)},gY=function(e){const n=m(this,mt),[r,i,a,s]=m(this,ja),[o,u,c,f]=F(this,wr,s0).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,o,u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(h,e,m(this,ja),m(this,Fg),m(this,Og),m(this,jg))},vY=function(e,n){const r=m(this,ro);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},yY=function(e,n){const r=m(this,mt).subarray(4,6),i=m(this,mt).subarray(16,18),[a,s,o,u]=m(this,ja),[c,f,h,v]=F(this,wr,s0).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,h,v,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/u],n),n+=24},j(jl,cx,8),j(jl,yA,2),j(jl,bA,m(jl,cx)+m(jl,yA));let ZE=jl;var Bg,Ch,fu,dx,Fa,fx,Zn,xA,xY;class bY extends De{constructor(n,r,i,a,s,o){super();j(this,xA);j(this,Bg);j(this,Ch,new Float32Array(4));j(this,fu);j(this,dx);j(this,Fa);j(this,fx);j(this,Zn);L(this,Zn,n),L(this,Fa,r),L(this,Bg,i),L(this,fx,a),L(this,fu,s),L(this,dx,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],F(this,xA,xY).call(this,o);const[u,c,f,h]=m(this,Ch);for(let v=0,y=n.length;v<y;v+=2)n[v]=(n[v]-u)/f,n[v+1]=(n[v+1]-c)/h;for(let v=0,y=r.length;v<y;v+=2)r[v]=(r[v]-u)/f,r[v+1]=(r[v+1]-c)/h}toSVGPath(){const n=[`M${m(this,Zn)[4]} ${m(this,Zn)[5]}`];for(let r=6,i=m(this,Zn).length;r<i;r+=6){if(isNaN(m(this,Zn)[r])){n.push(`L${m(this,Zn)[r+4]} ${m(this,Zn)[r+5]}`);continue}n.push(`C${m(this,Zn)[r]} ${m(this,Zn)[r+1]} ${m(this,Zn)[r+2]} ${m(this,Zn)[r+3]} ${m(this,Zn)[r+4]} ${m(this,Zn)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,a],s){const o=i-n,u=a-r;let c,f;switch(s){case 0:c=De._rescale(m(this,Zn),n,a,o,-u),f=De._rescale(m(this,Fa),n,a,o,-u);break;case 90:c=De._rescaleAndSwap(m(this,Zn),n,r,o,u),f=De._rescaleAndSwap(m(this,Fa),n,r,o,u);break;case 180:c=De._rescale(m(this,Zn),i,r,-o,u),f=De._rescale(m(this,Fa),i,r,-o,u);break;case 270:c=De._rescaleAndSwap(m(this,Zn),i,a,-o,-u),f=De._rescaleAndSwap(m(this,Fa),i,a,-o,-u);break}return{outline:Array.from(c),points:[Array.from(f)]}}get box(){return m(this,Ch)}newOutliner(n,r,i,a,s,o=0){return new ZE(n,r,i,a,s,o)}getNewOutline(n,r){const[i,a,s,o]=m(this,Ch),[u,c,f,h]=m(this,Bg),v=s*f,y=o*h,w=i*f+u,A=a*h+c,E=this.newOutliner({x:m(this,Fa)[0]*v+w,y:m(this,Fa)[1]*y+A},m(this,Bg),m(this,fx),n,m(this,dx),r??m(this,fu));for(let C=2;C<m(this,Fa).length;C+=2)E.add({x:m(this,Fa)[C]*v+w,y:m(this,Fa)[C+1]*y+A});return E.getOutlines()}}Bg=new WeakMap,Ch=new WeakMap,fu=new WeakMap,dx=new WeakMap,Fa=new WeakMap,fx=new WeakMap,Zn=new WeakMap,xA=new WeakSet,xY=function(n){const r=m(this,Zn);let i=r[4],a=r[5];const s=[i,a,i,a];let o=i,u=a,c=i,f=a;const h=n?Math.max:Math.min,v=new Float32Array(4);for(let w=6,A=r.length;w<A;w+=6){const E=r[w+4],C=r[w+5];isNaN(r[w])?(Ie.pointBoundingBox(E,C,s),u>C?(o=E,u=C):u===C&&(o=h(o,E)),f<C?(c=E,f=C):f===C&&(c=h(c,E))):(v[0]=v[1]=1/0,v[2]=v[3]=-1/0,Ie.bezierBoundingBox(i,a,...r.slice(w,w+6),v),Ie.rectBoundingBox(v[0],v[1],v[2],v[3],s),u>v[1]?(o=v[0],u=v[1]):u===v[1]&&(o=h(o,v[0])),f<v[3]?(c=v[2],f=v[3]):f===v[3]&&(c=h(c,v[2]))),i=E,a=C}const y=m(this,Ch);y[0]=s[0]-m(this,fu),y[1]=s[1]-m(this,fu),y[2]=s[2]-s[0]+2*m(this,fu),y[3]=s[3]-s[1]+2*m(this,fu),this.firstPoint=[o,u],this.lastPoint=[c,f]};var hx,px,mx,pd,io,zi,wY,P1,SY,EY,TM;class CM{constructor(e,n=0,r=0,i=!0){j(this,zi);j(this,hx);j(this,px);j(this,mx);j(this,pd,[]);j(this,io,[]);const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:A,y:E,width:C,height:k}of e){const R=Math.floor((A-n)/s)*s,D=Math.ceil((A+C+n)/s)*s,I=Math.floor((E-n)/s)*s,P=Math.ceil((E+k+n)/s)*s,M=[R,I,P,!0],B=[D,I,P,!1];m(this,pd).push(M,B),Ie.rectBoundingBox(R,I,D,P,a)}const o=a[2]-a[0]+2*r,u=a[3]-a[1]+2*r,c=a[0]-r,f=a[1]-r;let h=i?-1/0:1/0,v=1/0;const y=m(this,pd).at(i?-1:-2),w=[y[0],y[2]];for(const A of m(this,pd)){const[E,C,k,R]=A;!R&&i?C<v?(v=C,h=E):C===v&&(h=Math.max(h,E)):R&&!i&&(C<v?(v=C,h=E):C===v&&(h=Math.min(h,E))),A[0]=(E-c)/o,A[1]=(C-f)/u,A[2]=(k-f)/u}L(this,hx,new Float32Array([c,f,o,u])),L(this,px,[h,v]),L(this,mx,w)}getOutlines(){m(this,pd).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of m(this,pd))n[3]?(e.push(...F(this,zi,TM).call(this,n)),F(this,zi,SY).call(this,n)):(F(this,zi,EY).call(this,n),e.push(...F(this,zi,TM).call(this,n)));return F(this,zi,wY).call(this,e)}}hx=new WeakMap,px=new WeakMap,mx=new WeakMap,pd=new WeakMap,io=new WeakMap,zi=new WeakSet,wY=function(e){const n=[],r=new Set;for(const s of e){const[o,u,c]=s;n.push([o,u,s],[o,c,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const u=n[s][2],c=n[s+1][2];u.push(c),c.push(u),r.add(u),r.add(c)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[o,u,c,f,h]=s;r.delete(s);let v=o,y=u;for(a=[o,c],i.push(a);;){let w;if(r.has(f))w=f;else if(r.has(h))w=h;else break;r.delete(w),[o,u,c,f,h]=w,v!==o&&(a.push(v,y,o,y===u?u:c),v=o),y=y===u?c:u}a.push(v,y)}return new n_e(i,m(this,hx),m(this,px),m(this,mx))},P1=function(e){const n=m(this,io);let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1},SY=function([,e,n]){const r=F(this,zi,P1).call(this,e);m(this,io).splice(r,0,[e,n])},EY=function([,e,n]){const r=F(this,zi,P1).call(this,e);for(let i=r;i<m(this,io).length;i++){const[a,s]=m(this,io)[i];if(a!==e)break;if(a===e&&s===n){m(this,io).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=m(this,io)[i];if(a!==e)break;if(a===e&&s===n){m(this,io).splice(i,1);return}}},TM=function(e){const[n,r,i]=e,a=[[n,r,i]],s=F(this,zi,P1).call(this,i);for(let o=0;o<s;o++){const[u,c]=m(this,io)[o];for(let f=0,h=a.length;f<h;f++){const[,v,y]=a[f];if(!(c<=v||y<=u)){if(v>=u){if(y>c)a[f][1]=c;else{if(h===1)return[];a.splice(f,1),f--,h--}continue}a[f][2]=u,y>c&&a.push([n,c,y])}}}return a};var gx,zg;class n_e extends De{constructor(n,r,i,a){super();j(this,gx);j(this,zg);L(this,zg,n),L(this,gx,r),this.firstPoint=i,this.lastPoint=a}toSVGPath(){const n=[];for(const r of m(this,zg)){let[i,a]=r;n.push(`M${i} ${a}`);for(let s=2;s<r.length;s+=2){const o=r[s],u=r[s+1];o===i?(n.push(`V${u}`),a=u):u===a&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,a],s){const o=[],u=i-n,c=a-r;for(const f of m(this,zg)){const h=new Array(f.length);for(let v=0;v<f.length;v+=2)h[v]=n+f[v]*u,h[v+1]=a-f[v+1]*c;o.push(h)}return o}get box(){return m(this,gx)}get classNamesForOutlining(){return["highlightOutline"]}}gx=new WeakMap,zg=new WeakMap;class NM extends ZE{newFreeDrawOutline(e,n,r,i,a,s){return new r_e(e,n,r,i,a,s)}}class r_e extends bY{newOutliner(e,n,r,i,a,s=0){return new NM(e,n,r,i,a,s)}}var Hg,vx,hu,Th,yx,oa,bx,xx,Nh,Ua,Ba,Zr,Gg,qg,vi,$g,Ts,wx,ft,RM,D1,AY,_Y,CY,kM,Ef,Ms,om,TY,I1,L1,NY,RY,kY,MY,PY;const Ut=class Ut extends pn{constructor(n){super({...n,name:"highlightEditor"});j(this,ft);j(this,Hg,null);j(this,vx,0);j(this,hu);j(this,Th,null);j(this,yx,null);j(this,oa,null);j(this,bx,null);j(this,xx,0);j(this,Nh,null);j(this,Ua,null);j(this,Ba,null);j(this,Zr,!1);j(this,Gg,null);j(this,qg,null);j(this,vi,null);j(this,$g,"");j(this,Ts);j(this,wx,"");this.color=n.color||Ut._defaultColor,L(this,Ts,n.thickness||Ut._defaultThickness),this.opacity=n.opacity||Ut._defaultOpacity,L(this,hu,n.boxes||null),L(this,wx,n.methodOfCreation||""),L(this,$g,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(L(this,Zr,!0),F(this,ft,D1).call(this,n),F(this,ft,Ef).call(this)):m(this,hu)&&(L(this,Hg,n.anchorNode),L(this,vx,n.anchorOffset),L(this,bx,n.focusNode),L(this,xx,n.focusOffset),F(this,ft,RM).call(this),F(this,ft,Ef).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=Ut.prototype;return dt(this,"_keyboardManager",new rw([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,Zr)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:m(this,Ts),methodOfCreation:m(this,wx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;pn.initialize(n,r),Ut._defaultColor||(Ut._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case St.HIGHLIGHT_COLOR:Ut._defaultColor=r;break;case St.HIGHLIGHT_THICKNESS:Ut._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return m(this,qg)}get commentButtonPosition(){return m(this,Gg)}updateParams(n,r){switch(n){case St.HIGHLIGHT_COLOR:F(this,ft,AY).call(this,r);break;case St.HIGHLIGHT_THICKNESS:F(this,ft,_Y).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[St.HIGHLIGHT_COLOR,Ut._defaultColor],[St.HIGHLIGHT_THICKNESS,Ut._defaultThickness]]}get propertiesToUpdate(){return[[St.HIGHLIGHT_COLOR,this.color||Ut._defaultColor],[St.HIGHLIGHT_THICKNESS,m(this,Ts)||Ut._defaultThickness],[St.HIGHLIGHT_FREE,m(this,Zr)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(m(this,Ba),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=m(this,yx))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",L(this,yx,new G0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,ft,L1).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,F(this,ft,L1).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){F(this,ft,kM).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,ft,Ef).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?F(this,ft,kM).call(this):n&&(F(this,ft,Ef).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var a,s,o;const{drawLayer:r}=this.parent;let i;m(this,Zr)?(n=(n-this.rotation+360)%360,i=F(a=Ut,Ms,om).call(a,m(this,Ua).box,n)):i=F(s=Ut,Ms,om).call(s,[this.x,this.y,this.width,this.height],n),r.updateProperties(m(this,Ba),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(m(this,vi),{bbox:F(o=Ut,Ms,om).call(o,m(this,oa).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();m(this,$g)&&(n.setAttribute("aria-label",m(this,$g)),n.setAttribute("role","mark")),m(this,Zr)?n.classList.add("free"):this.div.addEventListener("keydown",F(this,ft,TY).bind(this),{signal:this._uiManager._signal});const r=L(this,Nh,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,Th),this.setDims(this.width,this.height),QW(this,m(this,Nh),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(m(this,vi),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(m(this,vi),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:F(this,ft,I1).call(this,!0);break;case 1:case 3:F(this,ft,I1).call(this,!1);break}}select(){var n;super.select(),m(this,vi)&&((n=this.parent)==null||n.drawLayer.updateProperties(m(this,vi),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),m(this,vi)&&((n=this.parent)==null||n.drawLayer.updateProperties(m(this,vi),{rootClass:{selected:!1}}),m(this,Zr)||F(this,ft,I1).call(this,!1))}get _mustFixPosition(){return!m(this,Zr)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(m(this,Ba),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(m(this,vi),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:a,y:s}){const{x:o,y:u,width:c,height:f}=i.getBoundingClientRect(),h=new AbortController,v=n.combinedSignal(h),y=w=>{h.abort(),F(this,Ms,MY).call(this,n,w)};window.addEventListener("blur",y,{signal:v}),window.addEventListener("pointerup",y,{signal:v}),window.addEventListener("pointerdown",Ln,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Za,{signal:v}),i.addEventListener("pointermove",F(this,Ms,kY).bind(this,n),{signal:v}),this._freeHighlight=new NM({x:a,y:s},[o,u,c,f],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var A,E,C,k;let a=null;if(n instanceof sY){const{data:{quadPoints:R,rect:D,rotation:I,id:P,color:M,opacity:B,popupRef:z,richText:K,contentsObj:G,creationDate:Y,modificationDate:te},parent:{page:{pageNumber:W}}}=n;a=n={annotationType:at.HIGHLIGHT,color:Array.from(M),opacity:B,quadPoints:R,boxes:null,pageIndex:W-1,rect:D.slice(0),rotation:I,annotationElementId:P,id:P,deleted:!1,popupRef:z,richText:K,comment:(G==null?void 0:G.str)||null,creationDate:Y,modificationDate:te}}else if(n instanceof TI){const{data:{inkLists:R,rect:D,rotation:I,id:P,color:M,borderStyle:{rawWidth:B},popupRef:z,richText:K,contentsObj:G,creationDate:Y,modificationDate:te},parent:{page:{pageNumber:W}}}=n;a=n={annotationType:at.HIGHLIGHT,color:Array.from(M),thickness:B,inkLists:R,boxes:null,pageIndex:W-1,rect:D.slice(0),rotation:I,annotationElementId:P,id:P,deleted:!1,popupRef:z,richText:K,comment:(G==null?void 0:G.str)||null,creationDate:Y,modificationDate:te}}const{color:s,quadPoints:o,inkLists:u,opacity:c}=n,f=await super.deserialize(n,r,i);f.color=Ie.makeHexColor(...s),f.opacity=c||1,u&&L(f,Ts,n.thickness),f._initialData=a,n.comment&&f.setCommentData(n);const[h,v]=f.pageDimensions,[y,w]=f.pageTranslation;if(o){const R=L(f,hu,[]);for(let D=0;D<o.length;D+=8)R.push({x:(o[D]-y)/h,y:1-(o[D+1]-w)/v,width:(o[D+2]-o[D])/h,height:(o[D+1]-o[D+5])/v});F(A=f,ft,RM).call(A),F(E=f,ft,Ef).call(E),f.rotate(f.rotation)}else if(u){L(f,Zr,!0);const R=u[0],D={x:R[0]-y,y:v-(R[1]-w)},I=new NM(D,[0,0,h,v],1,m(f,Ts)/2,!0,.001);for(let B=0,z=R.length;B<z;B+=2)D.x=R[B]-y,D.y=v-(R[B+1]-w),I.add(D);const{id:P,clipPathId:M}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:I.toSVGPath()}},!0,!0);F(C=f,ft,D1).call(C,{highlightOutlines:I.getOutlines(),highlightId:P,clipPathId:M}),F(k=f,ft,Ef).call(k),f.rotate(f.parentRotation)}return f}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=pn._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:m(this,Ts),quadPoints:F(this,ft,NY).call(this),outlines:F(this,ft,RY).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!F(this,ft,PY).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Hg=new WeakMap,vx=new WeakMap,hu=new WeakMap,Th=new WeakMap,yx=new WeakMap,oa=new WeakMap,bx=new WeakMap,xx=new WeakMap,Nh=new WeakMap,Ua=new WeakMap,Ba=new WeakMap,Zr=new WeakMap,Gg=new WeakMap,qg=new WeakMap,vi=new WeakMap,$g=new WeakMap,Ts=new WeakMap,wx=new WeakMap,ft=new WeakSet,RM=function(){const n=new CM(m(this,hu),.001);L(this,Ua,n.getOutlines()),[this.x,this.y,this.width,this.height]=m(this,Ua).box;const r=new CM(m(this,hu),.0025,.001,this._uiManager.direction==="ltr");L(this,oa,r.getOutlines());const{firstPoint:i}=m(this,Ua);L(this,Gg,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:a}=m(this,oa);L(this,qg,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},D1=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var v,y;if(L(this,Ua,n),L(this,oa,n.getNewOutline(m(this,Ts)/2+1.5,.0025)),r>=0)L(this,Ba,r),L(this,Th,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),L(this,vi,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:m(this,oa).box,path:{d:m(this,oa).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(m(this,Ba),{bbox:F(v=Ut,Ms,om).call(v,m(this,Ua).box,(w-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(m(this,vi),{bbox:F(y=Ut,Ms,om).call(y,m(this,oa).box,w),path:{d:m(this,oa).toSVGPath()}})}const[s,o,u,c]=n.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=u,this.height=c;break;case 90:{const[w,A]=this.parentDimensions;this.x=o,this.y=1-s,this.width=u*A/w,this.height=c*w/A;break}case 180:this.x=1-s,this.y=1-o,this.width=u,this.height=c;break;case 270:{const[w,A]=this.parentDimensions;this.x=1-o,this.y=s,this.width=u*A/w,this.height=c*w/A;break}}const{firstPoint:f}=n;L(this,Gg,[(f[0]-s)/u,(f[1]-o)/c]);const{lastPoint:h}=m(this,oa);L(this,qg,[(h[0]-s)/u,(h[1]-o)/c])},AY=function(n){const r=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:r.bind(this,n,Ut._defaultOpacity),undo:r.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:St.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},_Y=function(n){const r=m(this,Ts),i=a=>{L(this,Ts,a),F(this,ft,CY).call(this,a)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:St.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},CY=function(n){m(this,Zr)&&(F(this,ft,D1).call(this,{highlightOutlines:m(this,Ua).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},kM=function(){m(this,Ba)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Ba)),L(this,Ba,null),this.parent.drawLayer.remove(m(this,vi)),L(this,vi,null))},Ef=function(n=this.parent){m(this,Ba)===null&&({id:mr(this,Ba)._,clipPathId:mr(this,Th)._}=n.drawLayer.draw({bbox:m(this,Ua).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:m(this,Zr)},path:{d:m(this,Ua).toSVGPath()}},!1,!0),L(this,vi,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:m(this,Zr)},bbox:m(this,oa).box,path:{d:m(this,oa).toSVGPath()}},m(this,Zr))),m(this,Nh)&&(m(this,Nh).style.clipPath=m(this,Th)))},Ms=new WeakSet,om=function([n,r,i,a],s){switch(s){case 90:return[1-r-a,n,a,i];case 180:return[1-n-i,1-r-a,i,a];case 270:return[r,1-n-i,a,i]}return[n,r,i,a]},TY=function(n){Ut._keyboardManager.exec(this,n)},I1=function(n){if(!m(this,Hg))return;const r=window.getSelection();n?r.setPosition(m(this,Hg),m(this,vx)):r.setPosition(m(this,bx),m(this,xx))},L1=function(){return m(this,Zr)?this.rotation:0},NY=function(){if(m(this,Zr))return null;const[n,r]=this.pageDimensions,[i,a]=this.pageTranslation,s=m(this,hu),o=new Float32Array(s.length*8);let u=0;for(const{x:c,y:f,width:h,height:v}of s){const y=c*n+i,w=(1-f)*r+a;o[u]=o[u+4]=y,o[u+1]=o[u+3]=w,o[u+2]=o[u+6]=y+h*n,o[u+5]=o[u+7]=w-v*r,u+=8}return o},RY=function(n){return m(this,Ua).serialize(n,F(this,ft,L1).call(this))},kY=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},MY=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},PY=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,a)=>i!==r[a])},j(Ut,Ms),Se(Ut,"_defaultColor",null),Se(Ut,"_defaultOpacity",1),Se(Ut,"_defaultThickness",12),Se(Ut,"_type","highlight"),Se(Ut,"_editorType",at.HIGHLIGHT),Se(Ut,"_freeHighlightId",-1),Se(Ut,"_freeHighlight",null),Se(Ut,"_freeHighlightClipId","");let eA=Ut;var Rh;class DY{constructor(){j(this,Rh,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){m(this,Rh)[e]=n}toSVGProperties(){const e=m(this,Rh);return L(this,Rh,Object.create(null)),{root:e}}reset(){L(this,Rh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){fn("Not implemented")}}Rh=new WeakMap;var za,Vg,Ir,kh,Mh,md,gd,vd,Ph,Ct,MM,PM,DM,o0,IY,O1,l0,lm;const Ue=class Ue extends pn{constructor(n){super(n);j(this,Ct);j(this,za,null);j(this,Vg);Se(this,"_colorPicker",null);Se(this,"_drawId",null);L(this,Vg,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(F(this,Ct,MM).call(this,n),F(this,Ct,o0).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[a,s]of Object.entries(r))i.has(a)?Object.assign(n[a],s):n[a]=s;return n}static getDefaultDrawingOptions(n){fn("Not implemented")}static get typesMap(){fn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(m(Ue,Ir).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)n.push([i,r[a]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,a]of this.constructor.typesMap)n.push([i,r[a]]);return n}_updateProperty(n,r,i){const a=this._drawingOptions,s=a[r],o=u=>{var f;a.updateProperty(r,u);const c=m(this,za).updateProperty(r,u);c&&F(this,Ct,l0).call(this,c),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(m(this,za).getPathResizingSVGProperties(F(this,Ct,O1).call(this)),{bbox:F(this,Ct,lm).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(m(this,za).getPathResizedSVGProperties(F(this,Ct,O1).call(this)),{bbox:F(this,Ct,lm).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:F(this,Ct,lm).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(m(this,za).getPathTranslatedSVGProperties(F(this,Ct,O1).call(this),this.parentDimensions),{bbox:F(this,Ct,lm).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,m(this,Vg)&&(L(this,Vg,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){F(this,Ct,DM).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,Ct,o0).call(this),F(this,Ct,l0).call(this,m(this,za).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),F(this,Ct,DM).call(this)):n&&(this._uiManager.addShouldRescale(this),F(this,Ct,o0).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties({bbox:F(this,Ct,lm).call(this)},m(this,za).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&F(this,Ct,l0).call(this,m(this,za).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,a,s){fn("Not implemented")}static startDrawing(n,r,i,a){var E;const{target:s,offsetX:o,offsetY:u,pointerId:c,pointerType:f}=a;if(m(Ue,gd)&&m(Ue,gd)!==f)return;const{viewport:{rotation:h}}=n,{width:v,height:y}=s.getBoundingClientRect(),w=L(Ue,kh,new AbortController),A=n.combinedSignal(w);if(m(Ue,md)||L(Ue,md,c),m(Ue,gd)??L(Ue,gd,f),window.addEventListener("pointerup",C=>{var k;m(Ue,md)===C.pointerId?this._endDraw(C):(k=m(Ue,vd))==null||k.delete(C.pointerId)},{signal:A}),window.addEventListener("pointercancel",C=>{var k;m(Ue,md)===C.pointerId?this._currentParent.endDrawingSession():(k=m(Ue,vd))==null||k.delete(C.pointerId)},{signal:A}),window.addEventListener("pointerdown",C=>{m(Ue,gd)===C.pointerType&&((m(Ue,vd)||L(Ue,vd,new Set)).add(C.pointerId),m(Ue,Ir).isCancellable()&&(m(Ue,Ir).removeLastElement(),m(Ue,Ir).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Za,{signal:A}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),s.addEventListener("touchmove",C=>{C.timeStamp===m(Ue,Ph)&&Ln(C)},{signal:A}),n.toggleDrawing(),(E=r._editorUndoBar)==null||E.hide(),m(Ue,Ir)){n.drawLayer.updateProperties(this._currentDrawId,m(Ue,Ir).startNew(o,u,v,y,h));return}r.updateUIForDefaultProperties(this),L(Ue,Ir,this.createDrawerInstance(o,u,v,y,h)),L(Ue,Mh,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(m(Ue,Mh).toSVGProperties(),m(Ue,Ir).defaultSVGProperties),!0,!1)}static _drawMove(n){var s;if(L(Ue,Ph,-1),!m(Ue,Ir))return;const{offsetX:r,offsetY:i,pointerId:a}=n;if(m(Ue,md)===a){if(((s=m(Ue,vd))==null?void 0:s.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,m(Ue,Ir).add(r,i)),L(Ue,Ph,n.timeStamp),Ln(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,L(Ue,Ir,null),L(Ue,Mh,null),L(Ue,gd,null),L(Ue,Ph,NaN)),m(Ue,kh)&&(m(Ue,kh).abort(),L(Ue,kh,null),L(Ue,md,NaN),L(Ue,vd,null))}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,m(Ue,Ir).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=m(Ue,Ir),a=this._currentDrawId,s=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(a,i.setLastElement(s))},undo:()=>{r.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:St.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(St.DRAW_STEP),!m(Ue,Ir).isEmpty()){const{pageDimensions:[i,a],scale:s}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:m(Ue,Ir).getOutlines(i*s,a*s,s,this._INNER_MARGIN),drawingOptions:m(Ue,Mh),mustBeCommitted:!n});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,a,s,o){fn("Not implemented")}static async deserialize(n,r,i){var h,v;const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:u}}=r.viewport,c=this.deserializeDraw(o,u,a,s,this._INNER_MARGIN,n),f=await super.deserialize(n,r,i);return f.createDrawingOptions(n),F(h=f,Ct,MM).call(h,{drawOutlines:c}),F(v=f,Ct,o0).call(v),f.onScaleChanging(),f.rotate(),f}serializeDraw(n){const[r,i]=this.pageTranslation,[a,s]=this.pageDimensions;return m(this,za).serialize([r,i,a,s],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};za=new WeakMap,Vg=new WeakMap,Ir=new WeakMap,kh=new WeakMap,Mh=new WeakMap,md=new WeakMap,gd=new WeakMap,vd=new WeakMap,Ph=new WeakMap,Ct=new WeakSet,MM=function({drawOutlines:n,drawId:r,drawingOptions:i}){L(this,za,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=F(this,Ct,PM).call(this,n,this.parent),F(this,Ct,l0).call(this,n.box)},PM=function(n,r){const{id:i}=r.drawLayer.draw(Ue._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},DM=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},o0=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=F(this,Ct,PM).call(this,m(this,za),n)}},IY=function([n,r,i,a]){const{parentDimensions:[s,o],rotation:u}=this;switch(u){case 90:return[r,1-n,i*(o/s),a*(s/o)];case 180:return[1-n,1-r,i,a];case 270:return[1-r,n,i*(o/s),a*(s/o)];default:return[n,r,i,a]}},O1=function(){const{x:n,y:r,width:i,height:a,parentDimensions:[s,o],rotation:u}=this;switch(u){case 90:return[1-r,n,i*(s/o),a*(o/s)];case 180:return[1-n,1-r,i,a];case 270:return[r,1-n,i*(s/o),a*(o/s)];default:return[n,r,i,a]}},l0=function(n){[this.x,this.y,this.width,this.height]=F(this,Ct,IY).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},lm=function(){const{x:n,y:r,width:i,height:a,rotation:s,parentRotation:o,parentDimensions:[u,c]}=this;switch((s*4+o)/90){case 1:return[1-r-a,n,a,i];case 2:return[1-n-i,1-r-a,i,a];case 3:return[r,1-n-i,a,i];case 4:return[n,r-i*(u/c),a*(c/u),i*(u/c)];case 5:return[1-r,n,i*(u/c),a*(c/u)];case 6:return[1-n-a*(c/u),1-r,a*(c/u),i*(u/c)];case 7:return[r-i*(u/c),1-n-a*(c/u),i*(u/c),a*(c/u)];case 8:return[n-i,r-a,i,a];case 9:return[1-r,n-i,a,i];case 10:return[1-n,1-r,i,a];case 11:return[r-a,1-n,a,i];case 12:return[n-a*(c/u),r,a*(c/u),i*(u/c)];case 13:return[1-r-i*(u/c),n-a*(c/u),i*(u/c),a*(c/u)];case 14:return[1-n,1-r-i*(u/c),a*(c/u),i*(u/c)];case 15:return[r,1-n,i*(u/c),a*(c/u)];default:return[n,r,i,a]}},Se(Ue,"_currentDrawId",-1),Se(Ue,"_currentParent",null),j(Ue,Ir,null),j(Ue,kh,null),j(Ue,Mh,null),j(Ue,md,NaN),j(Ue,gd,null),j(Ue,vd,null),j(Ue,Ph,NaN),Se(Ue,"_INNER_MARGIN",3);let tA=Ue;var Vo,Lr,Or,Dh,Wg,Ii,ei,Ns,Ih,Lh,Oh,Yg,j1;class i_e{constructor(e,n,r,i,a,s){j(this,Yg);j(this,Vo,new Float64Array(6));j(this,Lr);j(this,Or);j(this,Dh);j(this,Wg);j(this,Ii);j(this,ei,"");j(this,Ns,0);j(this,Ih,new aw);j(this,Lh);j(this,Oh);L(this,Lh,r),L(this,Oh,i),L(this,Dh,a),L(this,Wg,s),[e,n]=F(this,Yg,j1).call(this,e,n);const o=L(this,Lr,[NaN,NaN,NaN,NaN,e,n]);L(this,Ii,[e,n]),L(this,Or,[{line:o,points:m(this,Ii)}]),m(this,Vo).set(o,0)}updateProperty(e,n){e==="stroke-width"&&L(this,Wg,n)}isEmpty(){return!m(this,Or)||m(this,Or).length===0}isCancellable(){return m(this,Ii).length<=10}add(e,n){[e,n]=F(this,Yg,j1).call(this,e,n);const[r,i,a,s]=m(this,Vo).subarray(2,6),o=e-a,u=n-s;return Math.hypot(m(this,Lh)*o,m(this,Oh)*u)<=2?null:(m(this,Ii).push(e,n),isNaN(r)?(m(this,Vo).set([a,s,e,n],2),m(this,Lr).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(m(this,Vo)[0])&&m(this,Lr).splice(6,6),m(this,Vo).set([r,i,a,s,e,n],0),m(this,Lr).push(...De.createBezierPoints(r,i,a,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(m(this,Ii).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){L(this,Lh,r),L(this,Oh,i),L(this,Dh,a),[e,n]=F(this,Yg,j1).call(this,e,n);const s=L(this,Lr,[NaN,NaN,NaN,NaN,e,n]);L(this,Ii,[e,n]);const o=m(this,Or).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),m(this,Or).push({line:s,points:m(this,Ii)}),m(this,Vo).set(s,0),L(this,Ns,0),this.toSVGPath(),null}getLastElement(){return m(this,Or).at(-1)}setLastElement(e){return m(this,Or)?(m(this,Or).push(e),L(this,Lr,e.line),L(this,Ii,e.points),L(this,Ns,0),{path:{d:this.toSVGPath()}}):m(this,Ih).setLastElement(e)}removeLastElement(){if(!m(this,Or))return m(this,Ih).removeLastElement();m(this,Or).pop(),L(this,ei,"");for(let e=0,n=m(this,Or).length;e<n;e++){const{line:r,points:i}=m(this,Or)[e];L(this,Lr,r),L(this,Ii,i),L(this,Ns,0),this.toSVGPath()}return{path:{d:m(this,ei)}}}toSVGPath(){const e=De.svgRound(m(this,Lr)[4]),n=De.svgRound(m(this,Lr)[5]);if(m(this,Ii).length===2)return L(this,ei,`${m(this,ei)} M ${e} ${n} Z`),m(this,ei);if(m(this,Ii).length<=6){const i=m(this,ei).lastIndexOf("M");L(this,ei,`${m(this,ei).slice(0,i)} M ${e} ${n}`),L(this,Ns,6)}if(m(this,Ii).length===4){const i=De.svgRound(m(this,Lr)[10]),a=De.svgRound(m(this,Lr)[11]);return L(this,ei,`${m(this,ei)} L ${i} ${a}`),L(this,Ns,12),m(this,ei)}const r=[];m(this,Ns)===0&&(r.push(`M ${e} ${n}`),L(this,Ns,6));for(let i=m(this,Ns),a=m(this,Lr).length;i<a;i+=6){const[s,o,u,c,f,h]=m(this,Lr).slice(i,i+6).map(De.svgRound);r.push(`C${s} ${o} ${u} ${c} ${f} ${h}`)}return L(this,ei,m(this,ei)+r.join(" ")),L(this,Ns,m(this,Lr).length),m(this,ei)}getOutlines(e,n,r,i){const a=m(this,Or).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),m(this,Ih).build(m(this,Or),e,n,r,m(this,Dh),m(this,Wg),i),L(this,Vo,null),L(this,Lr,null),L(this,Or,null),L(this,ei,null),m(this,Ih)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Vo=new WeakMap,Lr=new WeakMap,Or=new WeakMap,Dh=new WeakMap,Wg=new WeakMap,Ii=new WeakMap,ei=new WeakMap,Ns=new WeakMap,Ih=new WeakMap,Lh=new WeakMap,Oh=new WeakMap,Yg=new WeakSet,j1=function(e,n){return De._normalizePoint(e,n,m(this,Lh),m(this,Oh),m(this,Dh))};var Li,Sx,Ex,Ha,Wo,Yo,Kg,Xg,jh,ri,Ll,LY,OY,jY;class aw extends De{constructor(){super(...arguments);j(this,ri);j(this,Li);j(this,Sx,0);j(this,Ex);j(this,Ha);j(this,Wo);j(this,Yo);j(this,Kg);j(this,Xg);j(this,jh)}build(n,r,i,a,s,o,u){L(this,Wo,r),L(this,Yo,i),L(this,Kg,a),L(this,Xg,s),L(this,jh,o),L(this,Ex,u??0),L(this,Ha,n),F(this,ri,OY).call(this)}get thickness(){return m(this,jh)}setLastElement(n){return m(this,Ha).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return m(this,Ha).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of m(this,Ha)){if(n.push(`M${De.svgRound(r[4])} ${De.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${De.svgRound(r[10])} ${De.svgRound(r[11])}`);continue}for(let i=6,a=r.length;i<a;i+=6){const[s,o,u,c,f,h]=r.subarray(i,i+6).map(De.svgRound);n.push(`C${s} ${o} ${u} ${c} ${f} ${h}`)}}return n.join("")}serialize([n,r,i,a],s){const o=[],u=[],[c,f,h,v]=F(this,ri,LY).call(this);let y,w,A,E,C,k,R,D,I;switch(m(this,Xg)){case 0:I=De._rescale,y=n,w=r+a,A=i,E=-a,C=n+c*i,k=r+(1-f-v)*a,R=n+(c+h)*i,D=r+(1-f)*a;break;case 90:I=De._rescaleAndSwap,y=n,w=r,A=i,E=a,C=n+f*i,k=r+c*a,R=n+(f+v)*i,D=r+(c+h)*a;break;case 180:I=De._rescale,y=n+i,w=r,A=-i,E=a,C=n+(1-c-h)*i,k=r+f*a,R=n+(1-c)*i,D=r+(f+v)*a;break;case 270:I=De._rescaleAndSwap,y=n+i,w=r+a,A=-i,E=-a,C=n+(1-f-v)*i,k=r+(1-c-h)*a,R=n+(1-f)*i,D=r+(1-c)*a;break}for(const{line:P,points:M}of m(this,Ha))o.push(I(P,y,w,A,E,s?new Array(P.length):null)),u.push(I(M,y,w,A,E,s?new Array(M.length):null));return{lines:o,points:u,rect:[C,k,R,D]}}static deserialize(n,r,i,a,s,{paths:{lines:o,points:u},rotation:c,thickness:f}){const h=[];let v,y,w,A,E;switch(c){case 0:E=De._rescale,v=-n/i,y=r/a+1,w=1/i,A=-1/a;break;case 90:E=De._rescaleAndSwap,v=-r/a,y=-n/i,w=1/a,A=1/i;break;case 180:E=De._rescale,v=n/i+1,y=-r/a,w=-1/i,A=1/a;break;case 270:E=De._rescaleAndSwap,v=r/a+1,y=n/i+1,w=-1/a,A=-1/i;break}if(!o){o=[];for(const k of u){const R=k.length;if(R===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,k[0],k[1]]));continue}if(R===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,k[0],k[1],NaN,NaN,NaN,NaN,k[2],k[3]]));continue}const D=new Float32Array(3*(R-2));o.push(D);let[I,P,M,B]=k.subarray(0,4);D.set([NaN,NaN,NaN,NaN,I,P],0);for(let z=4;z<R;z+=2){const K=k[z],G=k[z+1];D.set(De.createBezierPoints(I,P,M,B,K,G),(z-2)*3),[I,P,M,B]=[M,B,K,G]}}}for(let k=0,R=o.length;k<R;k++)h.push({line:E(o[k].map(D=>D??NaN),v,y,w,A),points:E(u[k].map(D=>D??NaN),v,y,w,A)});const C=new this.prototype.constructor;return C.build(h,i,a,1,c,f,s),C}get box(){return m(this,Li)}updateProperty(n,r){return n==="stroke-width"?F(this,ri,jY).call(this,r):null}updateParentDimensions([n,r],i){const[a,s]=F(this,ri,Ll).call(this);L(this,Wo,n),L(this,Yo,r),L(this,Kg,i);const[o,u]=F(this,ri,Ll).call(this),c=o-a,f=u-s,h=m(this,Li);return h[0]-=c,h[1]-=f,h[2]+=2*c,h[3]+=2*f,h}updateRotation(n){return L(this,Sx,n),{path:{transform:this.rotationTransform}}}get viewBox(){return m(this,Li).map(De.svgRound).join(" ")}get defaultProperties(){const[n,r]=m(this,Li);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${De.svgRound(n)} ${De.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=m(this,Li);let i=0,a=0,s=0,o=0,u=0,c=0;switch(m(this,Sx)){case 90:a=r/n,s=-n/r,u=n;break;case 180:i=-1,o=-1,u=n,c=r;break;case 270:a=-r/n,s=n/r,c=r;break;default:return""}return`matrix(${i} ${a} ${s} ${o} ${De.svgRound(u)} ${De.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,a]){const[s,o]=F(this,ri,Ll).call(this),[u,c,f,h]=m(this,Li);if(Math.abs(f-s)<=De.PRECISION||Math.abs(h-o)<=De.PRECISION){const E=n+i/2-(u+f/2),C=r+a/2-(c+h/2);return{path:{"transform-origin":`${De.svgRound(n)} ${De.svgRound(r)}`,transform:`${this.rotationTransform} translate(${E} ${C})`}}}const v=(i-2*s)/(f-2*s),y=(a-2*o)/(h-2*o),w=f/i,A=h/a;return{path:{"transform-origin":`${De.svgRound(u)} ${De.svgRound(c)}`,transform:`${this.rotationTransform} scale(${w} ${A}) translate(${De.svgRound(s)} ${De.svgRound(o)}) scale(${v} ${y}) translate(${De.svgRound(-s)} ${De.svgRound(-o)})`}}}getPathResizedSVGProperties([n,r,i,a]){const[s,o]=F(this,ri,Ll).call(this),u=m(this,Li),[c,f,h,v]=u;if(u[0]=n,u[1]=r,u[2]=i,u[3]=a,Math.abs(h-s)<=De.PRECISION||Math.abs(v-o)<=De.PRECISION){const C=n+i/2-(c+h/2),k=r+a/2-(f+v/2);for(const{line:R,points:D}of m(this,Ha))De._translate(R,C,k,R),De._translate(D,C,k,D);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${De.svgRound(n)} ${De.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(i-2*s)/(h-2*s),w=(a-2*o)/(v-2*o),A=-y*(c+s)+n+s,E=-w*(f+o)+r+o;if(y!==1||w!==1||A!==0||E!==0)for(const{line:C,points:k}of m(this,Ha))De._rescale(C,A,E,y,w,C),De._rescale(k,A,E,y,w,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${De.svgRound(n)} ${De.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[a,s]=i,o=m(this,Li),u=n-o[0],c=r-o[1];if(m(this,Wo)===a&&m(this,Yo)===s)for(const{line:f,points:h}of m(this,Ha))De._translate(f,u,c,f),De._translate(h,u,c,h);else{const f=m(this,Wo)/a,h=m(this,Yo)/s;L(this,Wo,a),L(this,Yo,s);for(const{line:v,points:y}of m(this,Ha))De._rescale(v,u,c,f,h,v),De._rescale(y,u,c,f,h,y);o[2]*=f,o[3]*=h}return o[0]=n,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${De.svgRound(n)} ${De.svgRound(r)}`}}}get defaultSVGProperties(){const n=m(this,Li);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${De.svgRound(n[0])} ${De.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Li=new WeakMap,Sx=new WeakMap,Ex=new WeakMap,Ha=new WeakMap,Wo=new WeakMap,Yo=new WeakMap,Kg=new WeakMap,Xg=new WeakMap,jh=new WeakMap,ri=new WeakSet,Ll=function(n=m(this,jh)){const r=m(this,Ex)+n/2*m(this,Kg);return m(this,Xg)%180===0?[r/m(this,Wo),r/m(this,Yo)]:[r/m(this,Yo),r/m(this,Wo)]},LY=function(){const[n,r,i,a]=m(this,Li),[s,o]=F(this,ri,Ll).call(this,0);return[n+s,r+o,i-2*s,a-2*o]},OY=function(){const n=L(this,Li,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of m(this,Ha)){if(a.length<=12){for(let u=4,c=a.length;u<c;u+=6)Ie.pointBoundingBox(a[u],a[u+1],n);continue}let s=a[4],o=a[5];for(let u=6,c=a.length;u<c;u+=6){const[f,h,v,y,w,A]=a.subarray(u,u+6);Ie.bezierBoundingBox(s,o,f,h,v,y,w,A,n),s=w,o=A}}const[r,i]=F(this,ri,Ll).call(this);n[0]=bi(n[0]-r,0,1),n[1]=bi(n[1]-i,0,1),n[2]=bi(n[2]+r,0,1),n[3]=bi(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},jY=function(n){const[r,i]=F(this,ri,Ll).call(this);L(this,jh,n);const[a,s]=F(this,ri,Ll).call(this),[o,u]=[a-r,s-i],c=m(this,Li);return c[0]-=o,c[1]-=u,c[2]+=2*o,c[3]+=2*u,c};class D_ extends DY{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:pn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new D_(this._viewParameters);return e.updateAll(this),e}}var wA,FY;const bm=class bm extends tA{constructor(n){super({...n,name:"inkEditor"});j(this,wA);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){pn.initialize(n,r),this._defaultDrawingOptions=new D_(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return dt(this,"typesMap",new Map([[St.INK_THICKNESS,"stroke-width"],[St.INK_COLOR,"stroke"],[St.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,a,s){return new i_e(n,r,i,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,a,s,o){return aw.deserialize(n,r,i,a,s,o)}static async deserialize(n,r,i){let a=null;if(n instanceof TI){const{data:{inkLists:o,rect:u,rotation:c,id:f,color:h,opacity:v,borderStyle:{rawWidth:y},popupRef:w,richText:A,contentsObj:E,creationDate:C,modificationDate:k},parent:{page:{pageNumber:R}}}=n;a=n={annotationType:at.INK,color:Array.from(h),thickness:y,opacity:v,paths:{points:o},boxes:null,pageIndex:R-1,rect:u.slice(0),rotation:c,annotationElementId:f,id:f,deleted:!1,popupRef:w,richText:A,comment:(E==null?void 0:E.str)||null,creationDate:C,modificationDate:k}}const s=await super.deserialize(n,r,i);return s._initialData=a,n.comment&&s.setCommentData(n),s}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new QE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return St.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=bm.getDefaultDrawingOptions({stroke:Ie.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":o}}=this,u=Object.assign(super.serialize(n),{color:pn._colorManager.convert(a),opacity:s,thickness:o,paths:{lines:r,points:i}});return this.addComment(u),n?(u.isCopy=!0,u):this.annotationElementId&&!F(this,wA,FY).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};wA=new WeakSet,FY=function(n){const{color:r,thickness:i,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((o,u)=>o!==r[u])||n.thickness!==i||n.opacity!==a||n.pageIndex!==s},Se(bm,"_type","ink"),Se(bm,"_editorType",at.INK),Se(bm,"_defaultDrawingOptions",null);let IM=bm;class LM extends aw{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const QS=8,Uy=3;var Fh,Bt,OM,ao,UY,BY,jM,F1,zY,HY,GY,FM,UM,qY;class el{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},a,s,o,u){let c=new OffscreenCanvas(1,1),f=c.getContext("2d",{alpha:!1});const h=200,v=f.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:y,actualBoundingBoxRight:w,actualBoundingBoxAscent:A,actualBoundingBoxDescent:E,fontBoundingBoxAscent:C,fontBoundingBoxDescent:k,width:R}=f.measureText(e),D=1.5,I=Math.ceil(Math.max(Math.abs(y)+Math.abs(w)||0,R)*D),P=Math.ceil(Math.max(Math.abs(A)+Math.abs(E)||h,Math.abs(C)+Math.abs(k)||h)*D);c=new OffscreenCanvas(I,P),f=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=v,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,I,P),f.fillStyle="black",f.fillText(e,I*(D-1)/2,P*(3-D)/2);const M=F(this,Bt,FM).call(this,f.getImageData(0,0,I,P).data),B=F(this,Bt,GY).call(this,M),z=F(this,Bt,UM).call(this,B),K=F(this,Bt,jM).call(this,M,I,P,z);return this.processDrawnLines({lines:{curves:K,width:I,height:P},pageWidth:a,pageHeight:s,rotation:o,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,a){const[s,o,u]=F(this,Bt,qY).call(this,e),[c,f]=F(this,Bt,HY).call(this,s,o,u,Math.hypot(o,u)*m(this,Fh).sigmaSFactor,m(this,Fh).sigmaR,m(this,Fh).kernelSize),h=F(this,Bt,UM).call(this,f),v=F(this,Bt,jM).call(this,c,o,u,h);return this.processDrawnLines({lines:{curves:v,width:o,height:u},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:s,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:u,width:c,height:f}=e,h=e.thickness??0,v=[],y=Math.min(n/c,r/f),w=y/n,A=y/r,E=[];for(const{points:k}of u){const R=s?F(this,Bt,zY).call(this,k):k;if(!R)continue;E.push(R);const D=R.length,I=new Float32Array(D),P=new Float32Array(3*(D===2?2:D-2));if(v.push({line:P,points:I}),D===2){I[0]=R[0]*w,I[1]=R[1]*A,P.set([NaN,NaN,NaN,NaN,I[0],I[1]],0);continue}let[M,B,z,K]=R;M*=w,B*=A,z*=w,K*=A,I.set([M,B,z,K],0),P.set([NaN,NaN,NaN,NaN,M,B],0);for(let G=4;G<D;G+=2){const Y=I[G]=R[G]*w,te=I[G+1]=R[G+1]*A;P.set(De.createBezierPoints(M,B,z,K,Y,te),(G-2)*3),[M,B,z,K]=[z,K,Y,te]}}if(v.length===0)return null;const C=o?new LM:new aw;return C.build(v,n,r,1,i,o?0:h,a),{outline:C,newCurves:E,areContours:o,thickness:h,width:c,height:f}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:a}){let s=1/0,o=-1/0,u=0;for(const R of e){u+=R.length;for(let D=2,I=R.length;D<I;D++){const P=R[D]-R[D-2];s=Math.min(s,P),o=Math.max(o,P)}}let c;s>=-128&&o<=127?c=Int8Array:s>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const f=e.length,h=QS+Uy*f,v=new Uint32Array(h);let y=0;v[y++]=h*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*c.BYTES_PER_ELEMENT,v[y++]=0,v[y++]=i,v[y++]=a,v[y++]=n?0:1,v[y++]=Math.max(0,Math.floor(r??0)),v[y++]=f,v[y++]=c.BYTES_PER_ELEMENT;for(const R of e)v[y++]=R.length-2,v[y++]=R[0],v[y++]=R[1];const w=new CompressionStream("deflate-raw"),A=w.writable.getWriter();await A.ready,A.write(v);const E=c.prototype.constructor;for(const R of e){const D=new E(R.length-2);for(let I=2,P=R.length;I<P;I++)D[I-2]=R[I]-R[I-2];A.write(D)}A.close();const C=await new Response(w.readable).arrayBuffer(),k=new Uint8Array(C);return BW(k)}static async decompressSignature(e){try{const n=REe(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,o=0;for await(const R of r)s||(s=new Uint8Array(new Uint32Array(R.buffer,0,4)[0])),s.set(R,o),o+=R.length;const u=new Uint32Array(s.buffer,0,s.length>>2),c=u[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const f=u[2],h=u[3],v=u[4]===0,y=u[5],w=u[6],A=u[7],E=[],C=(QS+Uy*w)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(A){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(s.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(s.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(s.buffer,C);break}o=0;for(let R=0;R<w;R++){const D=u[Uy*R+QS],I=new Float32Array(D+2);E.push(I);for(let P=0;P<Uy-1;P++)I[P]=u[Uy*R+QS+P+1];for(let P=0;P<D;P++)I[P+2]=I[P]+k[o++]}return{areContours:v,thickness:y,outlines:E,width:f,height:h}}catch(n){return st(`decompressSignature: ${n}`),null}}}Fh=new WeakMap,Bt=new WeakSet,OM=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},ao=new WeakMap,UY=function(e,n,r,i,a,s,o){const u=F(this,Bt,OM).call(this,r,i,a,s);for(let c=0;c<8;c++){const f=(-c+u-o+16)%8,h=m(this,ao)[2*f],v=m(this,ao)[2*f+1];if(e[(r+h)*n+(i+v)]!==0)return f}return-1},BY=function(e,n,r,i,a,s,o){const u=F(this,Bt,OM).call(this,r,i,a,s);for(let c=0;c<8;c++){const f=(c+u+o+16)%8,h=m(this,ao)[2*f],v=m(this,ao)[2*f+1];if(e[(r+h)*n+(i+v)]!==0)return f}return-1},jM=function(e,n,r,i){const a=e.length,s=new Int32Array(a);for(let f=0;f<a;f++)s[f]=e[f]<=i?1:0;for(let f=1;f<r-1;f++)s[f*n]=s[f*n+n-1]=0;for(let f=0;f<n;f++)s[f]=s[n*r-1-f]=0;let o=1,u;const c=[];for(let f=1;f<r-1;f++){u=1;for(let h=1;h<n-1;h++){const v=f*n+h,y=s[v];if(y===0)continue;let w=f,A=h;if(y===1&&s[v-1]===0)o+=1,A-=1;else if(y>=1&&s[v+1]===0)o+=1,A+=1,y>1&&(u=y);else{y!==1&&(u=Math.abs(y));continue}const E=[h,f],C=A===h+1,k={isHole:C,points:E,id:o,parent:0};c.push(k);let R;for(const G of c)if(G.id===u){R=G;break}R?R.isHole?k.parent=C?R.parent:u:k.parent=C?u:R.parent:k.parent=C?u:0;const D=F(this,Bt,UY).call(this,s,n,f,h,w,A,0);if(D===-1){s[v]=-o,s[v]!==1&&(u=Math.abs(s[v]));continue}let I=m(this,ao)[2*D],P=m(this,ao)[2*D+1];const M=f+I,B=h+P;w=M,A=B;let z=f,K=h;for(;;){const G=F(this,Bt,BY).call(this,s,n,z,K,w,A,1);I=m(this,ao)[2*G],P=m(this,ao)[2*G+1];const Y=z+I,te=K+P;E.push(te,Y);const W=z*n+K;if(s[W+1]===0?s[W]=-o:s[W]===1&&(s[W]=o),Y===f&&te===h&&z===M&&K===B){s[v]!==1&&(u=Math.abs(s[v]));break}else w=z,A=K,z=Y,K=te}}}return c},F1=function(e,n,r,i){if(r-n<=4){for(let M=n;M<r-2;M+=2)i.push(e[M],e[M+1]);return}const a=e[n],s=e[n+1],o=e[r-4]-a,u=e[r-3]-s,c=Math.hypot(o,u),f=o/c,h=u/c,v=f*s-h*a,y=u/o,w=1/c,A=Math.atan(y),E=Math.cos(A),C=Math.sin(A),k=w*(Math.abs(E)+Math.abs(C)),R=w*(1-k+k**2),D=Math.max(Math.atan(Math.abs(C+E)*R),Math.atan(Math.abs(C-E)*R));let I=0,P=n;for(let M=n+2;M<r-2;M+=2){const B=Math.abs(v-f*e[M+1]+h*e[M]);B>I&&(P=M,I=B)}I>(c*D)**2?(F(this,Bt,F1).call(this,e,n,P+2,i),F(this,Bt,F1).call(this,e,P,r,i)):i.push(a,s)},zY=function(e){const n=[],r=e.length;return F(this,Bt,F1).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},HY=function(e,n,r,i,a,s){const o=new Float32Array(s**2),u=-2*i**2,c=s>>1;for(let A=0;A<s;A++){const E=(A-c)**2;for(let C=0;C<s;C++)o[A*s+C]=Math.exp((E+(C-c)**2)/u)}const f=new Float32Array(256),h=-2*a**2;for(let A=0;A<256;A++)f[A]=Math.exp(A**2/h);const v=e.length,y=new Uint8Array(v),w=new Uint32Array(256);for(let A=0;A<r;A++)for(let E=0;E<n;E++){const C=A*n+E,k=e[C];let R=0,D=0;for(let P=0;P<s;P++){const M=A+P-c;if(!(M<0||M>=r))for(let B=0;B<s;B++){const z=E+B-c;if(z<0||z>=n)continue;const K=e[M*n+z],G=o[P*s+B]*f[Math.abs(K-k)];R+=K*G,D+=G}}const I=y[C]=Math.round(R/D);w[I]++}return[y,w]},GY=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},FM=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,a=1/0;for(let o=0,u=r.length;o<u;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),a=Math.min(a,c)}const s=255/(i-a);for(let o=0,u=r.length;o<u;o++)r[o]=(r[o]-a)*s;return r},UM=function(e){let n,r=-1/0,i=-1/0;const a=e.findIndex(u=>u!==0);let s=a,o=a;for(n=a;n<256;n++){const u=e[n];u>r&&(n-s>i&&(i=n-s,o=n-1),r=u,s=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},qY=function(e){const n=e,{width:r,height:i}=e,{maxDim:a}=m(this,Fh);let s=r,o=i;if(r>a||i>a){let v=r,y=i,w=Math.log2(Math.max(r,i)/a);const A=Math.floor(w);w=w===A?A-1:A;for(let C=0;C<w;C++){s=Math.ceil(v/2),o=Math.ceil(y/2);const k=new OffscreenCanvas(s,o);k.getContext("2d").drawImage(e,0,0,v,y,0,0,s,o),v=s,y=o,e!==n&&e.close(),e=k.transferToImageBitmap()}const E=Math.min(a/s,a/o);s=Math.round(s*E),o=Math.round(o*E)}const c=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,s,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,s,o);const f=c.getImageData(0,0,s,o).data;return[F(this,Bt,FM).call(this,f),s,o]},j(el,Bt),j(el,Fh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),j(el,ao,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class RI extends DY{constructor(){super(),super.updateProperties({fill:pn._defaultLineColor,"stroke-width":0})}clone(){const e=new RI;return e.updateAll(this),e}}class kI extends D_{constructor(e){super(e),super.updateProperties({stroke:pn._defaultLineColor,"stroke-width":1})}clone(){const e=new kI(this._viewParameters);return e.updateAll(this),e}}var yd,Ko,bd,Uh;const Ca=class Ca extends tA{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});j(this,yd,!1);j(this,Ko,null);j(this,bd,null);j(this,Uh,null);this._willKeepAspectRatio=!0,L(this,bd,n.signatureData||null),L(this,Ko,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){pn.initialize(n,r),this._defaultDrawingOptions=new RI,this._defaultDrawnSignatureOptions=new kI(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return dt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!m(this,Ko)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(m(this,bd)){const{lines:a,mustSmooth:s,areContours:o,description:u,uuid:c,heightInPage:f}=m(this,bd),{rawDims:{pageWidth:h,pageHeight:v},rotation:y}=this.parent.viewport,w=el.processDrawnLines({lines:a,pageWidth:h,pageHeight:v,rotation:y,innerMargin:Ca._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(w,f,u,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:m(this,Ko)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){L(this,Uh,n),this.addEditToolbar()}getUuid(){return m(this,Uh)}get description(){return m(this,Ko)}set description(n){L(this,Ko,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:a,height:s}=m(this,bd),o=Math.max(a,s),u=el.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:a,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,a){const{x:s,y:o}=this,{outline:u}=L(this,bd,n);L(this,yd,u instanceof LM),this.description=i;let c;m(this,yd)?c=Ca.getDefaultDrawingOptions():(c=Ca._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:c});const[,f]=this.pageDimensions;let h=r/f;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return el.process(n,r,i,a,Ca._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:a},rotation:s}=this.parent.viewport;return el.extractContoursFromText(n,r,i,a,s,Ca._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return el.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:a,innerMargin:Ca._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=Ca.getDefaultDrawingOptions():(this._drawingOptions=Ca._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(n),{isSignature:!0,areContours:m(this,yd),color:[0,0,0],thickness:m(this,yd)?0:a});return this.addComment(s),n?(s.paths={lines:r,points:i},s.uuid=m(this,Uh),s.isCopy=!0):s.lines=r,m(this,Ko)&&(s.accessibilityData={type:"Figure",alt:m(this,Ko)}),s}static deserializeDraw(n,r,i,a,s,o){return o.areContours?LM.deserialize(n,r,i,a,s,o):aw.deserialize(n,r,i,a,s,o)}static async deserialize(n,r,i){var s;const a=await super.deserialize(n,r,i);return L(a,yd,n.areContours),a.description=((s=n.accessibilityData)==null?void 0:s.alt)||"",L(a,Uh,n.uuid),a}};yd=new WeakMap,Ko=new WeakMap,bd=new WeakMap,Uh=new WeakMap,Se(Ca,"_type","signature"),Se(Ca,"_editorType",at.SIGNATURE),Se(Ca,"_defaultDrawingOptions",null);let BM=Ca;var Nn,jr,xd,pu,wd,Jg,mu,Bh,Xo,Ga,Qg,Tt,u0,c0,U1,B1,z1,HM,H1,$Y;class zM extends pn{constructor(n){super({...n,name:"stampEditor"});j(this,Tt);j(this,Nn,null);j(this,jr,null);j(this,xd,null);j(this,pu,null);j(this,wd,null);j(this,Jg,"");j(this,mu,null);j(this,Bh,!1);j(this,Xo,null);j(this,Ga,!1);j(this,Qg,!1);L(this,pu,n.bitmapUrl),L(this,wd,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){pn.initialize(n,r)}static isHandlingMimeForPasting(n){return WE.includes(n)}static paste(n,r){r.pasteEditor({mode:at.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=n||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const c=u.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;m(this,jr)&&(L(this,Nn,null),this._uiManager.imageManager.deleteId(m(this,jr)),(n=m(this,mu))==null||n.remove(),L(this,mu,null),m(this,Xo)&&(clearTimeout(m(this,Xo)),L(this,Xo,null))),super.remove()}rebuild(){if(!this.parent){m(this,jr)&&F(this,Tt,U1).call(this);return}super.rebuild(),this.div!==null&&(m(this,jr)&&m(this,mu)===null&&F(this,Tt,U1).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(m(this,xd)||m(this,Nn)||m(this,pu)||m(this,wd)||m(this,jr)||m(this,Bh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),m(this,Bh)||(m(this,Nn)?F(this,Tt,B1).call(this):F(this,Tt,U1).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(L(this,jr,i),a&&L(this,Nn,a),L(this,Bh,!1),F(this,Tt,B1).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;m(this,Xo)!==null&&clearTimeout(m(this,Xo)),L(this,Xo,setTimeout(()=>{L(this,Xo,null),F(this,Tt,HM).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:a,height:s}=m(this,Nn),o=new vo;let u=m(this,Nn),c=a,f=s,h=null;if(r){if(a>r||s>r){const M=Math.min(r/a,r/s);c=Math.floor(a*M),f=Math.floor(s*M)}h=document.createElement("canvas");const y=h.width=Math.ceil(c*o.sx),w=h.height=Math.ceil(f*o.sy);m(this,Ga)||(u=F(this,Tt,z1).call(this,y,w));const A=h.getContext("2d");A.filter=this._uiManager.hcmFilter;let E="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":PEe.isDarkMode&&(E="#8f8f9d",C="#42414d");const k=15,R=k*o.sx,D=k*o.sy,I=new OffscreenCanvas(R*2,D*2),P=I.getContext("2d");P.fillStyle=E,P.fillRect(0,0,R*2,D*2),P.fillStyle=C,P.fillRect(0,0,R,D),P.fillRect(R,D,R,D),A.fillStyle=A.createPattern(I,"repeat"),A.fillRect(0,0,y,w),A.drawImage(u,0,0,u.width,u.height,0,0,y,w)}let v=null;if(i){let y,w;if(o.symmetric&&u.width<n&&u.height<n)y=u.width,w=u.height;else if(u=m(this,Nn),a>n||s>n){const C=Math.min(n/a,n/s);y=Math.floor(a*C),w=Math.floor(s*C),m(this,Ga)||(u=F(this,Tt,z1).call(this,y,w))}const E=new OffscreenCanvas(y,w).getContext("2d",{willReadFrequently:!0});E.drawImage(u,0,0,u.width,u.height,0,0,y,w),v={width:y,height:w,data:E.getImageData(0,0,y,w).data}}return{canvas:h,width:c,height:f,imageData:v}}static async deserialize(n,r,i){var E;let a=null,s=!1;if(n instanceof oY){const{data:{rect:C,rotation:k,id:R,structParent:D,popupRef:I,richText:P,contentsObj:M,creationDate:B,modificationDate:z},container:K,parent:{page:{pageNumber:G}},canvas:Y}=n;let te,W;Y?(delete n.canvas,{id:te,bitmap:W}=i.imageManager.getFromCanvas(K.id,Y),Y.remove()):(s=!0,n._hasNoCanvas=!0);const $=((E=await r._structTree.getAriaAttributes(`${yI}${R}`))==null?void 0:E.get("aria-label"))||"";a=n={annotationType:at.STAMP,bitmapId:te,bitmap:W,pageIndex:G-1,rect:C.slice(0),rotation:k,annotationElementId:R,id:R,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:D,popupRef:I,richText:P,comment:(M==null?void 0:M.str)||null,creationDate:B,modificationDate:z}}const o=await super.deserialize(n,r,i),{rect:u,bitmap:c,bitmapUrl:f,bitmapId:h,isSvg:v,accessibilityData:y}=n;s?(i.addMissingCanvas(n.id,o),L(o,Bh,!0)):h&&i.imageManager.isValidId(h)?(L(o,jr,h),c&&L(o,Nn,c)):L(o,pu,f),L(o,Ga,v);const[w,A]=o.pageDimensions;return o.width=(u[2]-u[0])/w,o.height=(u[3]-u[1])/A,y&&(o.altTextData=y),o._initialData=a,n.comment&&o.setCommentData(n),L(o,Qg,!!a),o}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:m(this,jr),isSvg:m(this,Ga)});if(this.addComment(i),n)return i.bitmapUrl=F(this,Tt,H1).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const u=F(this,Tt,$Y).call(this,i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=m(this,Ga)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,jr)))r.stamps.set(m(this,jr),{area:o,serialized:i}),i.bitmap=F(this,Tt,H1).call(this,!1);else if(m(this,Ga)){const u=r.stamps.get(m(this,jr));o>u.area&&(u.area=o,u.serialized.bitmap.close(),u.serialized.bitmap=F(this,Tt,H1).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Nn=new WeakMap,jr=new WeakMap,xd=new WeakMap,pu=new WeakMap,wd=new WeakMap,Jg=new WeakMap,mu=new WeakMap,Bh=new WeakMap,Xo=new WeakMap,Ga=new WeakMap,Qg=new WeakMap,Tt=new WeakSet,u0=function(n,r=!1){if(!n){this.remove();return}L(this,Nn,n.bitmap),r||(L(this,jr,n.id),L(this,Ga,n.isSvg)),n.file&&L(this,Jg,n.file.name),F(this,Tt,B1).call(this)},c0=function(){if(L(this,xd,null),this._uiManager.enableWaiting(!1),!!m(this,mu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Nn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Nn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},U1=function(){if(m(this,jr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,jr)).then(i=>F(this,Tt,u0).call(this,i,!0)).finally(()=>F(this,Tt,c0).call(this));return}if(m(this,pu)){const i=m(this,pu);L(this,pu,null),this._uiManager.enableWaiting(!0),L(this,xd,this._uiManager.imageManager.getFromUrl(i).then(a=>F(this,Tt,u0).call(this,a)).finally(()=>F(this,Tt,c0).call(this)));return}if(m(this,wd)){const i=m(this,wd);L(this,wd,null),this._uiManager.enableWaiting(!0),L(this,xd,this._uiManager.imageManager.getFromFile(i).then(a=>F(this,Tt,u0).call(this,a)).finally(()=>F(this,Tt,c0).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=WE.join(",");const r=this._uiManager._signal;L(this,xd,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,Tt,u0).call(this,a)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>F(this,Tt,c0).call(this))),n.click()},B1=function(){var c;const{div:n}=this;let{width:r,height:i}=m(this,Nn);const[a,s]=this.pageDimensions,o=.75;if(this.width)r=this.width*a,i=this.height*s;else if(r>o*a||i>o*s){const f=Math.min(o*a/r,o*s/i);r*=f,i*=f}this._uiManager.enableWaiting(!1);const u=L(this,mu,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=r/a,this.height=i/s,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),F(this,Tt,HM).call(this),m(this,Qg)||(this.parent.addUndoableEditor(this),L(this,Qg,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Jg)&&this.div.setAttribute("aria-description",m(this,Jg)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},z1=function(n,r){const{width:i,height:a}=m(this,Nn);let s=i,o=a,u=m(this,Nn);for(;s>2*n||o>2*r;){const c=s,f=o;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(s,o);h.getContext("2d").drawImage(u,0,0,c,f,0,0,s,o),u=h.transferToImageBitmap()}return u},HM=function(){const[n,r]=this.parentDimensions,{width:i,height:a}=this,s=new vo,o=Math.ceil(i*n*s.sx),u=Math.ceil(a*r*s.sy),c=m(this,mu);if(!c||c.width===o&&c.height===u)return;c.width=o,c.height=u;const f=m(this,Ga)?m(this,Nn):F(this,Tt,z1).call(this,o,u),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(f,0,0,f.width,f.height,0,0,o,u)},H1=function(n){if(n){if(m(this,Ga)){const a=this._uiManager.imageManager.getSvgUrl(m(this,jr));if(a)return a}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,Nn),r.getContext("2d").drawImage(m(this,Nn),0,0),r.toDataURL()}if(m(this,Ga)){const[r,i]=this.pageDimensions,a=Math.round(this.width*r*Uu.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Uu.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(m(this,Nn),0,0,m(this,Nn).width,m(this,Nn).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(m(this,Nn))},$Y=function(n){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,a=n.pageIndex===r,s=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}},Se(zM,"_type","stamp"),Se(zM,"_editorType",at.STAMP);var zh,Zg,Sd,Ed,gu,la,Ad,ev,tv,so,vu,Fr,yu,_d,nv,He,Cd,cn,GM,VY,To,qM,$M,G1;const Ks=class Ks{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:u,viewport:c,l10n:f}){j(this,cn);j(this,zh);j(this,Zg,!1);j(this,Sd,null);j(this,Ed,null);j(this,gu,null);j(this,la,new Map);j(this,Ad,!1);j(this,ev,!1);j(this,tv,!1);j(this,so,null);j(this,vu,null);j(this,Fr,null);j(this,yu,null);j(this,_d,null);j(this,nv,-1);j(this,He);const h=[...m(Ks,Cd).values()];if(!Ks._initialized){Ks._initialized=!0;for(const v of h)v.initialize(f,e)}e.registerEditorTypes(h),L(this,He,e),this.pageIndex=n,this.div=r,L(this,zh,a),L(this,Sd,s),this.viewport=c,L(this,Fr,u),this.drawLayer=o,this._structTree=i,m(this,He).addLayer(this)}get isEmpty(){return m(this,la).size===0}get isInvisible(){return this.isEmpty&&m(this,He).getMode()===at.NONE}updateToolbar(e){m(this,He).updateToolbar(e)}updateMode(e=m(this,He).getMode()){switch(F(this,cn,G1).call(this),e){case at.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case at.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case at.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===at.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of m(Ks,Cd).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=m(this,Fr))==null?void 0:n.div)}setEditingState(e){m(this,He).setEditingState(e)}addCommands(e){m(this,He).addCommands(e)}cleanUndoStack(e){m(this,He).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=m(this,Sd))==null||n.div.classList.toggle("disabled",!e)}async enable(){var r;L(this,tv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=m(this,_d))==null||r.abort(),L(this,_d,null);const e=new Set;for(const i of m(this,cn,GM))i.enableEditing(),i.show(!0),i.annotationElementId&&(m(this,He).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=m(this,Sd);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),m(this,He).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}L(this,tv,!1),m(this,He)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(L(this,ev,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),m(this,Fr)&&!m(this,_d)){L(this,_d,new AbortController);const i=m(this,He).combinedSignal(m(this,_d));m(this,Fr).div.addEventListener("pointerdown",a=>{const{clientX:o,clientY:u,timeStamp:c}=a,f=m(this,nv);if(c-f>500){L(this,nv,c);return}L(this,nv,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const v=document.elementsFromPoint(o,u);if(h.toggle("getElements",!1),!this.div.contains(v[0]))return;let y;const w=new RegExp(`^${j0}[0-9]+$`);for(const E of v)if(w.test(E.id)){y=E.id;break}if(!y)return;const A=m(this,la).get(y);(A==null?void 0:A.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),A.dblclick(a))},{signal:i,capture:!0})}const e=m(this,Sd);if(e){const i=new Map,a=new Map;for(const o of m(this,cn,GM)){if(o.disableEditing(),!o.annotationElementId){o.updateFakeAnnotationElement(e);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else a.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}const s=e.getEditableAnnotations();for(const o of s){const{id:u}=o.data;if(m(this,He).isDeletedAnnotationElement(u)){o.updateEdited({deleted:!0});continue}let c=a.get(u);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(u),c&&(m(this,He).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}F(this,cn,G1).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of m(Ks,Cd).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),L(this,ev,!1)}getEditableAnnotation(e){var n;return((n=m(this,Sd))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,He).getActive()!==e&&m(this,He).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Fr))!=null&&e.div&&!m(this,yu)){L(this,yu,new AbortController);const n=m(this,He).combinedSignal(m(this,yu));m(this,Fr).div.addEventListener("pointerdown",F(this,cn,VY).bind(this),{signal:n}),m(this,Fr).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Fr))!=null&&e.div&&m(this,yu)&&(m(this,yu).abort(),L(this,yu,null),m(this,Fr).div.classList.remove("highlighting"))}enableClick(){if(m(this,Ed))return;L(this,Ed,new AbortController);const e=m(this,He).combinedSignal(m(this,Ed));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=m(this,Ed))==null||e.abort(),L(this,Ed,null)}attach(e){m(this,la).set(e.id,e);const{annotationElementId:n}=e;n&&m(this,He).isDeletedAnnotationElement(n)&&m(this,He).removeDeletedAnnotationElement(e)}detach(e){var n;m(this,la).delete(e.id),(n=m(this,zh))==null||n.removePointerInTextLayer(e.contentDiv),!m(this,ev)&&e.annotationElementId&&m(this,He).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,He).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,He).addDeletedAnnotationElement(e.annotationElementId),pn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,He).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!m(this,tv)),m(this,He).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!m(this,gu)&&(e._focusEventsAllowed=!1,L(this,gu,setTimeout(()=>{L(this,gu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,He)._signal}),n.focus())},0))),e._structTreeParentId=(r=m(this,zh))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of m(this,la).values())if(n.uid===e)return n;return null}getNextId(){return m(this,He).getId()}combinedSignal(e){return m(this,He).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,cn,To))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await m(this,He).updateMode(e.mode);const{offsetX:r,offsetY:i}=F(this,cn,$M).call(this),a=this.getNextId(),s=F(this,cn,qM).call(this,{parent:this,id:a,x:r,y:i,uiManager:m(this,He),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=m(Ks,Cd).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,m(this,He)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=F(this,cn,qM).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,He),isCentered:n,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(F(this,cn,$M).call(this),!0,e)}setSelected(e){m(this,He).setSelected(e)}toggleSelected(e){m(this,He).toggleSelected(e)}unselect(e){m(this,He).unselect(e)}pointerup(e){var i;const{isMac:n}=zr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!m(this,Ad)||(L(this,Ad,!1),(i=m(this,cn,To))!=null&&i.isDrawer&&m(this,cn,To).supportMultipleDrawings))return;if(!m(this,Zg)){L(this,Zg,!0);return}const r=m(this,He).getMode();if(r===at.STAMP||r===at.SIGNATURE){m(this,He).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(m(this,He).getMode()===at.HIGHLIGHT&&this.enableTextSelection(),m(this,Ad)){L(this,Ad,!1);return}const{isMac:n}=zr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(L(this,Ad,!0),(i=m(this,cn,To))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=m(this,He).getActive();L(this,Zg,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),m(this,so)){m(this,cn,To).startDrawing(this,m(this,He),!1,e);return}m(this,He).setCurrentDrawingSession(this),L(this,so,new AbortController);const n=m(this,He).combinedSignal(m(this,so));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(L(this,vu,null),this.commitOrRemove())},{signal:n}),m(this,cn,To).startDrawing(this,m(this,He),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&L(this,vu,n);return}m(this,vu)&&setTimeout(()=>{var n;(n=m(this,vu))==null||n.focus(),L(this,vu,null)},0)}endDrawingSession(e=!1){return m(this,so)?(m(this,He).setCurrentDrawingSession(null),m(this,so).abort(),L(this,so,null),L(this,vu,null),m(this,cn,To).endDrawing(e)):null}findNewParent(e,n,r){const i=m(this,He).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return m(this,so)?(this.endDrawingSession(),!0):!1}onScaleChanging(){m(this,so)&&m(this,cn,To).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=m(this,He).getActive())==null?void 0:e.parent)===this&&(m(this,He).commitOrRemove(),m(this,He).setActiveEditor(null)),m(this,gu)&&(clearTimeout(m(this,gu)),L(this,gu,null));for(const r of m(this,la).values())(n=m(this,zh))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,la).clear(),m(this,He).removeLayer(this)}render({viewport:e}){this.viewport=e,jd(this.div,e);for(const n of m(this,He).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){m(this,He).commitOrRemove(),F(this,cn,G1).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,jd(this.div,{rotation:r}),n!==r)for(const i of m(this,la).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return m(this,He).viewParameters.realScale}};zh=new WeakMap,Zg=new WeakMap,Sd=new WeakMap,Ed=new WeakMap,gu=new WeakMap,la=new WeakMap,Ad=new WeakMap,ev=new WeakMap,tv=new WeakMap,so=new WeakMap,vu=new WeakMap,Fr=new WeakMap,yu=new WeakMap,_d=new WeakMap,nv=new WeakMap,He=new WeakMap,Cd=new WeakMap,cn=new WeakSet,GM=function(){return m(this,la).size!==0?m(this,la).values():m(this,He).getEditors(this.pageIndex)},VY=function(e){m(this,He).unselectAll();const{target:n}=e;if(n===m(this,Fr).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&m(this,Fr).div.contains(n)){const{isMac:r}=zr.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,He).showAllEditors("highlight",!0,!0),m(this,Fr).div.classList.add("free"),this.toggleDrawing(),eA.startHighlighting(this,m(this,He).direction==="ltr",{target:m(this,Fr).div,x:e.x,y:e.y}),m(this,Fr).div.addEventListener("pointerup",()=>{m(this,Fr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,He)._signal}),e.preventDefault()}},To=function(){return m(Ks,Cd).get(m(this,He).getMode())},qM=function(e){const n=m(this,cn,To);return n?new n.prototype.constructor(e):null},$M=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,a=Math.max(0,e),s=Math.max(0,n),o=Math.min(window.innerWidth,e+r),u=Math.min(window.innerHeight,n+i),c=(a+o)/2-e,f=(s+u)/2-n,[h,v]=this.viewport.rotation%180===0?[c,f]:[f,c];return{offsetX:h,offsetY:v}},G1=function(){for(const e of m(this,la).values())e.isEmpty()&&e.remove()},Se(Ks,"_initialized",!1),j(Ks,Cd,new Map([AM,IM,zM,eA,BM].map(e=>[e._editorType,e])));let nA=Ks;var oo,Oi,Hh,Ax,SA,WY,cl,VM,YY,WM;const gr=class gr{constructor({pageIndex:e}){j(this,cl);j(this,oo,null);j(this,Oi,new Map);j(this,Hh,new Map);this.pageIndex=e}setParent(e){if(!m(this,oo)){L(this,oo,e);return}if(m(this,oo)!==e){if(m(this,Oi).size>0)for(const n of m(this,Oi).values())n.remove(),e.append(n);L(this,oo,e)}}static get _svgFactory(){return dt(this,"_svgFactory",new q0)}draw(e,n=!1,r=!1){const i=mr(gr,Ax)._++,a=F(this,cl,VM).call(this),s=gr._svgFactory.createElement("defs");a.append(s);const o=gr._svgFactory.createElement("path");s.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("vector-effect","non-scaling-stroke"),n&&m(this,Hh).set(i,o);const c=r?F(this,cl,YY).call(this,s,u):null,f=gr._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(a,e),m(this,Oi).set(i,a),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=mr(gr,Ax)._++,i=F(this,cl,VM).call(this),a=gr._svgFactory.createElement("defs");i.append(a);const s=gr._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let u;if(n){const h=gr._svgFactory.createElement("mask");a.append(h),u=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",u),h.setAttribute("maskUnits","objectBoundingBox");const v=gr._svgFactory.createElement("rect");h.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=gr._svgFactory.createElement("use");h.append(y),y.setAttribute("href",`#${o}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const c=gr._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),u&&c.setAttribute("mask",`url(#${u})`);const f=c.cloneNode();return i.append(f),c.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),m(this,Oi).set(r,i),r}finalizeDraw(e,n){m(this,Hh).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var u;if(!n)return;const{root:r,bbox:i,rootClass:a,path:s}=n,o=typeof e=="number"?m(this,Oi).get(e):e;if(o){if(r&&F(this,cl,WM).call(this,o,r),i&&F(u=gr,SA,WY).call(u,o,i),a){const{classList:c}=o;for(const[f,h]of Object.entries(a))c.toggle(f,h)}if(s){const f=o.firstChild.firstChild;F(this,cl,WM).call(this,f,s)}}}updateParent(e,n){if(n===this)return;const r=m(this,Oi).get(e);r&&(m(n,oo).append(r),m(this,Oi).delete(e),m(n,Oi).set(e,r))}remove(e){m(this,Hh).delete(e),m(this,oo)!==null&&(m(this,Oi).get(e).remove(),m(this,Oi).delete(e))}destroy(){L(this,oo,null);for(const e of m(this,Oi).values())e.remove();m(this,Oi).clear(),m(this,Hh).clear()}};oo=new WeakMap,Oi=new WeakMap,Hh=new WeakMap,Ax=new WeakMap,SA=new WeakSet,WY=function(e,[n,r,i,a]){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},cl=new WeakSet,VM=function(){const e=gr._svgFactory.create(1,1,!0);return m(this,oo).append(e),e.setAttribute("aria-hidden",!0),e},YY=function(e,n){const r=gr._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=gr._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i},WM=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},j(gr,SA),j(gr,Ax,0);let rA=gr;globalThis._pdfjsTestingUtils={HighlightOutliner:CM};globalThis.pdfjsLib={AbortException:Fu,AnnotationEditorLayer:nA,AnnotationEditorParamsType:St,AnnotationEditorType:at,AnnotationEditorUIManager:Fd,AnnotationLayer:NI,AnnotationMode:Zo,AnnotationType:Jn,applyOpacity:$W,build:K7,ColorPicker:G0,createValidAbsoluteUrl:mI,CSSConstants:qW,DOMSVGFactory:q0,DrawLayer:rA,FeatureTest:zr,fetchData:Pv,findContrastColor:VW,getDocument:AI,getFilenameFromUrl:zW,getPdfFilenameFromUrl:HW,getRGB:Dv,getUuid:vI,getXfaPageViewport:GW,GlobalWorkerOptions:ks,ImageKind:p0,InvalidPDFException:VE,isDataScheme:nw,isPdfFile:M_,isValidExplicitDest:_7,MathClamp:bi,noContextMenu:Za,normalizeUnicode:UW,OPS:fv,OutputScale:vo,PasswordResponses:jW,PDFDataRangeTransport:_I,PDFDateString:B0,PDFWorker:hv,PermissionFlag:OW,PixelsPerInch:Uu,RenderingCancelledException:k_,renderRichText:xI,ResponseException:F0,setLayerDimensions:jd,shadow:dt,SignatureExtractor:el,stopEvent:Ln,SupportedImageMimeTypes:WE,TextLayer:H0,TouchManager:z0,updateUrlHash:gI,Util:Ie,VerbosityLevel:Zx,version:Y7,XfaLayer:bI};const a_e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Fu,AnnotationEditorLayer:nA,AnnotationEditorParamsType:St,AnnotationEditorType:at,AnnotationEditorUIManager:Fd,AnnotationLayer:NI,AnnotationMode:Zo,AnnotationType:Jn,CSSConstants:qW,ColorPicker:G0,DOMSVGFactory:q0,DrawLayer:rA,FeatureTest:zr,GlobalWorkerOptions:ks,ImageKind:p0,InvalidPDFException:VE,MathClamp:bi,OPS:fv,OutputScale:vo,PDFDataRangeTransport:_I,PDFDateString:B0,PDFWorker:hv,PasswordResponses:jW,PermissionFlag:OW,PixelsPerInch:Uu,RenderingCancelledException:k_,ResponseException:F0,SignatureExtractor:el,SupportedImageMimeTypes:WE,TextLayer:H0,TouchManager:z0,Util:Ie,VerbosityLevel:Zx,XfaLayer:bI,applyOpacity:$W,build:K7,createValidAbsoluteUrl:mI,fetchData:Pv,findContrastColor:VW,getDocument:AI,getFilenameFromUrl:zW,getPdfFilenameFromUrl:HW,getRGB:Dv,getUuid:vI,getXfaPageViewport:GW,isDataScheme:nw,isPdfFile:M_,isValidExplicitDest:_7,noContextMenu:Za,normalizeUnicode:UW,renderRichText:xI,setLayerDimensions:jd,shadow:dt,stopEvent:Ln,updateUrlHash:gI,version:Y7},Symbol.toStringTag,{value:"Module"}));var _H=Object.prototype.hasOwnProperty;function CH(t,e,n){for(n of t.keys())if(Rm(n,e))return n}function Rm(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Rm(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=CH(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=CH(e,i),!i)||!Rm(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(_H.call(t,n)&&++r&&!_H.call(e,n)||!(n in e)||!Rm(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function sw(t){let e=!1;return{promise:new Promise((r,i)=>{t.then(a=>!e&&r(a)).catch(a=>!e&&i(a))}),cancel(){e=!0}}}const s_e=["onCopy","onCut","onPaste"],o_e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],l_e=["onFocus","onBlur"],u_e=["onInput","onInvalid","onReset","onSubmit"],c_e=["onLoad","onError"],d_e=["onKeyDown","onKeyPress","onKeyUp"],f_e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],h_e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],p_e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],m_e=["onSelect"],g_e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],v_e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],y_e=["onScroll"],b_e=["onWheel"],x_e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],w_e=["onTransitionEnd"],S_e=["onToggle"],E_e=["onChange"],A_e=[...s_e,...o_e,...l_e,...u_e,...c_e,...d_e,...f_e,...h_e,...p_e,...m_e,...g_e,...v_e,...y_e,...b_e,...x_e,...w_e,...E_e,...S_e];function KY(t,e){const n={};for(const r of A_e){const i=t[r];i&&(e?n[r]=(a=>i(a,e(r))):n[r]=i)}return n}var eR,TH;function __e(){if(TH)return eR;TH=1;var t=function(){};return eR=t,eR}var C_e=__e();const Ei=bo(C_e),XY=T.createContext(null),T_e="noopener noreferrer nofollow";class N_e{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return un(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){un(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||T_e,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(n=>{un(this.pdfDocument),un(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{un(Array.isArray(n));const r=n[0];new Promise(i=>{un(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(a=>{i(a)}).catch(()=>{un(!1)}):typeof r=="number"?i(r):un(!1)}).then(i=>{const a=i+1;un(this.pdfViewer),un(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:a})})})}goToPage(e){const n=e-1;un(this.pdfViewer),un(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function km({children:t,type:e}){return g.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const NH={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function R_e(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function pv(){return T.useReducer(R_e,{value:void 0,error:void 0})}const I_=typeof window<"u",JY=I_&&window.location.protocol==="file:";function k_e(t){return typeof t<"u"}function vf(t){return k_e(t)&&t!==null}function M_e(t){return typeof t=="string"}function P_e(t){return t instanceof ArrayBuffer}function D_e(t){return un(I_),t instanceof Blob}function YM(t){return M_e(t)&&/^data:/.test(t)}function RH(t){un(YM(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function I_e(){return I_&&window.devicePixelRatio||1}const QY="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function kH(){Ei(!JY,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${QY}`)}function L_e(){Ei(!JY,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${QY}`)}function tp(t){t!=null&&t.cancel&&t.cancel()}function KM(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function O_e(t){return t.name==="RenderingCancelledException"}function j_e(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return n(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}const{PDFDataRangeTransport:F_e}=a_e,U_e=(t,e)=>{switch(e){case NH.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case NH.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function MH(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const B_e=T.forwardRef(function({children:e,className:n,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:a,file:s,inputRef:o,imageResourcesPath:u,loading:c="Loading PDF",noData:f="No PDF file specified.",onItemClick:h,onLoadError:v,onLoadProgress:y,onLoadSuccess:w,onPassword:A=U_e,onSourceError:E,onSourceSuccess:C,options:k,renderMode:R,rotate:D,scale:I,...P},M){const[B,z]=pv(),{value:K,error:G}=B,[Y,te]=pv(),{value:W,error:$}=Y,U=T.useRef(new N_e),q=T.useRef([]),Z=T.useRef(void 0),ie=T.useRef(void 0);s&&s!==Z.current&&MH(s)&&(Ei(!Rm(s,Z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),Z.current=s),k&&k!==ie.current&&(Ei(!Rm(k,ie.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ie.current=k);const be=T.useRef({scrollPageIntoView:$e=>{const{dest:Oe,pageNumber:he,pageIndex:Ee=he-1}=$e;if(h){h({dest:Oe,pageIndex:Ee,pageNumber:he});return}const Be=q.current[Ee];if(Be){Be.scrollIntoView();return}Ei(!1,`An internal link leading to page ${he} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});T.useImperativeHandle(M,()=>({linkService:U,pages:q,viewer:be}),[]);function V(){C&&C()}function J(){G&&(Ei(!1,G.toString()),E&&E(G))}function oe(){z({type:"RESET"})}T.useEffect(oe,[s,z]);const ve=T.useCallback(async()=>{if(!s)return null;if(typeof s=="string")return YM(s)?{data:RH(s)}:(kH(),{url:s});if(s instanceof F_e)return{range:s};if(P_e(s))return{data:s};if(I_&&D_e(s))return{data:await j_e(s)};if(un(typeof s=="object"),un(MH(s)),"url"in s&&typeof s.url=="string"){if(YM(s.url)){const{url:$e,...Oe}=s;return{data:RH($e),...Oe}}kH()}return s},[s]);T.useEffect(()=>{const $e=sw(ve());return $e.promise.then(Oe=>{z({type:"RESOLVE",value:Oe})}).catch(Oe=>{z({type:"REJECT",error:Oe})}),()=>{tp($e)}},[ve,z]),T.useEffect(()=>{if(!(typeof K>"u")){if(K===!1){J();return}V()}},[K]);function xe(){W&&(w&&w(W),q.current=new Array(W.numPages),U.current.setDocument(W))}function _e(){$&&(Ei(!1,$.toString()),v&&v($))}T.useEffect(function(){te({type:"RESET"})},[te,K]),T.useEffect(function(){if(!K)return;const Oe=k?{...K,...k}:K,he=AI(Oe);y&&(he.onProgress=y),A&&(he.onPassword=A);const Ee=he,Be=Ee.promise.then(nt=>{te({type:"RESOLVE",value:nt})}).catch(nt=>{Ee.destroyed||te({type:"REJECT",error:nt})});return()=>{Be.finally(()=>Ee.destroy())}},[k,te,K]),T.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){_e();return}xe()}},[W]),T.useEffect(function(){U.current.setViewer(be.current),U.current.setExternalLinkRel(i),U.current.setExternalLinkTarget(a)},[i,a]);const Ae=T.useCallback(($e,Oe)=>{q.current[$e]=Oe},[]),pt=T.useCallback($e=>{delete q.current[$e]},[]),de=T.useMemo(()=>({imageResourcesPath:u,linkService:U.current,onItemClick:h,pdf:W,registerPage:Ae,renderMode:R,rotate:D,scale:I,unregisterPage:pt}),[u,h,W,Ae,R,D,I,pt]),Re=T.useMemo(()=>KY(P,()=>W),[P,W]);function Xe(){function $e(he){return!!(he!=null&&he.pdf)}if(!$e(de))throw new Error("pdf is undefined");const Oe=typeof e=="function"?e(de):e;return g.jsx(XY.Provider,{value:de,children:Oe})}function me(){return s?W==null?g.jsx(km,{type:"loading",children:typeof c=="function"?c():c}):W===!1?g.jsx(km,{type:"error",children:typeof r=="function"?r():r}):Xe():g.jsx(km,{type:"no-data",children:typeof f=="function"?f():f})}return g.jsx("div",{className:Vt("react-pdf__Document",n),ref:o,...Re,children:me()})});function ZY(){return T.useContext(XY)}function eK(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(a){for(var s=0,o=n;s<o.length;s++){var u=o[s];typeof u=="function"?u(a):u&&(u.current=a)}}}const tK=T.createContext(null);function L_(){return T.useContext(tK)}function z_e(){const t=ZY(),e=L_();un(e);const n={...t,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:u,page:c,pdf:f,renderForms:h,rotate:v,scale:y=1}=n;un(f),un(c),un(i);const[w,A]=pv(),{value:E,error:C}=w,k=T.useRef(null);Ei(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){E&&s&&s(E)}function D(){C&&(Ei(!1,C.toString()),a&&a(C))}T.useEffect(function(){A({type:"RESET"})},[A,c]),T.useEffect(function(){if(!c)return;const z=sw(c.getAnnotations()),K=z;return z.promise.then(G=>{A({type:"RESOLVE",value:G})}).catch(G=>{A({type:"REJECT",error:G})}),()=>{tp(K)}},[A,c]),T.useEffect(()=>{if(E!==void 0){if(E===!1){D();return}R()}},[E]);function I(){u&&u()}function P(B){Ei(!1,`${B}`),o&&o(B)}const M=T.useMemo(()=>c.getViewport({scale:y,rotation:v}),[c,v,y]);return T.useEffect(function(){if(!f||!c||!i||!E)return;const{current:z}=k;if(!z)return;const K=M.clone({dontFlip:!0}),G={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:f.annotationStorage,commentManager:null,div:z,l10n:null,linkService:i,page:c,structTreeLayer:null,viewport:K},Y={annotations:E,annotationStorage:f.annotationStorage,div:z,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:K};z.innerHTML="";try{new NI(G).render(Y),I()}catch(te){P(te)}return()=>{}},[E,r,i,c,f,h,M]),g.jsx("div",{className:Vt("react-pdf__Page__annotations","annotationLayer"),ref:k})}const nK={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},H_e=/^H(\d+)$/;function G_e(t){return t in nK}function O_(t){return"children"in t}function rK(t){return O_(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function q_e(t){const e={};if(O_(t)){const{role:n}=t,r=n.match(H_e);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(G_e(n)){const i=nK[n];i&&(e.role=i)}}return e}function iK(t){const e={};if(O_(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),rK(t)){const[n]=t.children;if(n){const r=iK(n);return{...e,...r}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function $_e(t){return t?{...q_e(t),...iK(t)}:null}function aK({className:t,node:e}){const n=T.useMemo(()=>$_e(e),[e]),r=T.useMemo(()=>!O_(e)||rK(e)?null:e.children.map((i,a)=>g.jsx(aK,{node:i},a)),[e]);return g.jsx("span",{className:t,...n,children:r})}function V_e(){const t=L_();un(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=pv(),{value:a,error:s}=r,{customTextRenderer:o,page:u}=t;function c(){a&&n&&n(a)}function f(){s&&(Ei(!1,s.toString()),e&&e(s))}return T.useEffect(function(){i({type:"RESET"})},[i,u]),T.useEffect(function(){if(o||!u)return;const v=sw(u.getStructTree()),y=v;return v.promise.then(w=>{i({type:"RESOLVE",value:w})}).catch(w=>{i({type:"REJECT",error:w})}),()=>tp(y)},[o,u,i]),T.useEffect(()=>{if(a!==void 0){if(a===!1){f();return}c()}},[a]),a?g.jsx(aK,{className:"react-pdf__Page__structTree structTree",node:a}):null}const PH=Zo;function W_e(t){const e=L_();un(e);const n={...e,...t},{_className:r,canvasBackground:i,devicePixelRatio:a=I_e(),onRenderError:s,onRenderSuccess:o,page:u,renderForms:c,renderTextLayer:f,rotate:h,scale:v}=n,{canvasRef:y}=t;un(u);const w=T.useRef(null);function A(){u&&o&&o(KM(u,v))}function E(D){O_e(D)||(Ei(!1,D.toString()),s&&s(D))}const C=T.useMemo(()=>u.getViewport({scale:v*a,rotation:h}),[a,u,h,v]),k=T.useMemo(()=>u.getViewport({scale:v,rotation:h}),[u,h,v]);T.useEffect(function(){if(!u)return;u.cleanup();const{current:I}=w;if(!I)return;I.width=C.width,I.height=C.height,I.style.width=`${Math.floor(k.width)}px`,I.style.height=`${Math.floor(k.height)}px`,I.style.visibility="hidden";const P={annotationMode:c?PH.ENABLE_FORMS:PH.ENABLE,canvas:I,canvasContext:I.getContext("2d",{alpha:!1}),viewport:C};i&&(P.background=i);const M=u.render(P),B=M;return M.promise.then(()=>{I.style.visibility="",A()}).catch(E),()=>tp(B)},[i,u,c,C,k]);const R=T.useCallback(()=>{const{current:D}=w;D&&(D.width=0,D.height=0)},[]);return T.useEffect(()=>R,[R]),g.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:eK(y,w),style:{display:"block",userSelect:"none"},children:f?g.jsx(V_e,{}):null})}function Y_e(t){return"str"in t}function K_e(){const t=L_();un(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:s,pageIndex:o,pageNumber:u,rotate:c,scale:f}=t;un(s);const[h,v]=pv(),{value:y,error:w}=h,A=T.useRef(null);Ei(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){y&&r&&r(y)}function C(){w&&(Ei(!1,w.toString()),n&&n(w))}T.useEffect(function(){v({type:"RESET"})},[s,v]),T.useEffect(function(){if(!s)return;const B=sw(s.getTextContent()),z=B;return B.promise.then(K=>{v({type:"RESOLVE",value:K})}).catch(K=>{v({type:"REJECT",error:K})}),()=>tp(z)},[s,v]),T.useEffect(()=>{if(y!==void 0){if(y===!1){C();return}E()}},[y]);const k=T.useCallback(()=>{a&&a()},[a]),R=T.useCallback(M=>{Ei(!1,M.toString()),i&&i(M)},[i]);function D(){const M=A.current;M&&M.classList.add("selecting")}function I(){const M=A.current;M&&M.classList.remove("selecting")}const P=T.useMemo(()=>s.getViewport({scale:f,rotation:c}),[s,c,f]);return T.useLayoutEffect(function(){if(!s||!y)return;const{current:B}=A;if(!B)return;B.innerHTML="";const z=s.streamTextContent({includeMarkedContent:!0}),K={container:B,textContentSource:z,viewport:P},G=new H0(K),Y=G;return G.render().then(()=>{const te=document.createElement("div");te.className="endOfContent",B.append(te);const W=B.querySelectorAll('[role="presentation"]');if(e){let $=0;y.items.forEach((U,q)=>{if(!Y_e(U))return;const Z=W[$];if(!Z)return;const ie=e({pageIndex:o,pageNumber:u,itemIndex:q,...U});Z.innerHTML=ie,$+=U.str&&U.hasEOL?2:1})}k()}).catch(R),()=>tp(Y)},[e,R,k,s,o,u,y,P]),g.jsx("div",{className:Vt("react-pdf__Page__textContent","textLayer"),onMouseUp:I,onMouseDown:D,ref:A})}const DH=1;function X_e(t){const n={...ZY(),...t},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:s,children:o,className:u,customRenderer:c,customTextRenderer:f,devicePixelRatio:h,error:v="Failed to load the page.",height:y,inputRef:w,loading:A="Loading page",noData:E="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:k,onGetStructTreeError:R,onGetStructTreeSuccess:D,onGetTextError:I,onGetTextSuccess:P,onLoadError:M,onLoadSuccess:B,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:K,onRenderError:G,onRenderSuccess:Y,onRenderTextLayerError:te,onRenderTextLayerSuccess:W,pageIndex:$,pageNumber:U,pdf:q,registerPage:Z,renderAnnotationLayer:ie=!0,renderForms:be=!1,renderMode:V="canvas",renderTextLayer:J=!0,rotate:oe,scale:ve=DH,unregisterPage:xe,width:_e,...Ae}=n,[pt,de]=pv(),{value:Re,error:Xe}=pt,me=T.useRef(null);un(q);const $e=vf(U)?U-1:$??null,Oe=U??(vf($)?$+1:null),he=oe??(Re?Re.rotate:null),Ee=T.useMemo(()=>{if(!Re)return null;let Wt=1;const Rt=ve??DH;if(_e||y){const vn=Re.getViewport({scale:1,rotation:he});_e?Wt=_e/vn.width:y&&(Wt=y/vn.height)}return Rt*Wt},[y,Re,he,ve,_e]);T.useEffect(function(){return()=>{vf($e)&&i&&xe&&xe($e)}},[i,q,$e,xe]);function Be(){if(B){if(!Re||!Ee)return;B(KM(Re,Ee))}if(i&&Z){if(!vf($e)||!me.current)return;Z($e,me.current)}}function nt(){Xe&&(Ei(!1,Xe.toString()),M&&M(Xe))}T.useEffect(function(){de({type:"RESET"})},[de,q,$e]),T.useEffect(function(){if(!q||!Oe)return;const Rt=sw(q.getPage(Oe)),vn=Rt;return Rt.promise.then(Wn=>{de({type:"RESOLVE",value:Wn})}).catch(Wn=>{de({type:"REJECT",error:Wn})}),()=>tp(vn)},[de,q,Oe]),T.useEffect(()=>{if(Re!==void 0){if(Re===!1){nt();return}Be()}},[Re,Ee]);const gt=T.useMemo(()=>vf($e)&&Oe&&vf(he)&&vf(Ee)?{_className:r,canvasBackground:a,customTextRenderer:f,devicePixelRatio:h,onGetAnnotationsError:C,onGetAnnotationsSuccess:k,onGetStructTreeError:R,onGetStructTreeSuccess:D,onGetTextError:I,onGetTextSuccess:P,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:K,onRenderError:G,onRenderSuccess:Y,onRenderTextLayerError:te,onRenderTextLayerSuccess:W,page:Re,pageIndex:$e,pageNumber:Oe,renderForms:be,renderTextLayer:J,rotate:he,scale:Ee}:null,[r,a,f,h,C,k,R,D,I,P,z,K,G,Y,te,W,Re,$e,Oe,be,J,he,Ee]),hr=T.useMemo(()=>KY(Ae,()=>Re&&(Ee?KM(Re,Ee):void 0)),[Ae,Re,Ee]),gn=`${$e}@${Ee}/${he}`;function tr(){switch(V){case"custom":return un(c),g.jsx(c,{},`${gn}_custom`);case"none":return null;case"canvas":default:return g.jsx(W_e,{canvasRef:s},`${gn}_canvas`)}}function fl(){return J?g.jsx(K_e,{},`${gn}_text`):null}function Nt(){return ie?g.jsx(z_e,{},`${gn}_annotations`):null}function ns(){function Wt(vn){return!!(vn!=null&&vn.page)}if(!Wt(gt))throw new Error("page is undefined");const Rt=typeof o=="function"?o(gt):o;return g.jsxs(tK.Provider,{value:gt,children:[tr(),fl(),Nt(),Rt]})}function Bs(){return Oe?q===null||Re===void 0||Re===null?g.jsx(km,{type:"loading",children:typeof A=="function"?A():A}):q===!1||Re===!1?g.jsx(km,{type:"error",children:typeof v=="function"?v():v}):ns():g.jsx(km,{type:"no-data",children:typeof E=="function"?E():E})}return g.jsx("div",{className:Vt(r,u),"data-page-number":Oe,ref:eK(w,me),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ee}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...hr,children:Bs()})}L_e();ks.workerSrc="pdf.worker.mjs";const{useParams:J_e,useNavigate:Q_e}=Ri;ks.workerSrc="https://esm.sh/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs";const sK=()=>{const{bookId:t}=J_e(),e=Q_e(),{currentUser:n,userType:r,books:i}=ki(),[a,s]=T.useState(null),[o,u]=T.useState(!0),[c,f]=T.useState(!1),[h,v]=T.useState(!1),[y,w]=T.useState({theme:"dark",fontSize:18,lineHeight:1.8,fontFamily:"serif"}),[A,E]=T.useState(0),[C,k]=T.useState(1),[R,D]=T.useState(1.2),[I,P]=T.useState(null),[M,B]=T.useState(0),z=T.useRef(null);T.useEffect(()=>{(async()=>{var ie,be,V;if(!t)return;u(!0);let Z=(i||[]).find(J=>J.id===t);if(!Z&&n&&(r===_t.SELLER?Z=(ie=n.uploadedBooks)==null?void 0:ie.find(J=>J.id===t):r===_t.USER&&(Z=(be=n.purchaseHistory)==null?void 0:be.find(J=>J.id===t))),Z){const J=Z.price===0;let oe=J;if(!oe&&n&&(r===_t.SELLER?oe=Z.sellerId===n.id:r===_t.USER&&(oe=(V=n.purchaseHistory)==null?void 0:V.some(ve=>ve.id===t))),oe){if(s(Z),Z.pdfUrl)try{const xe=await(await fetch(Z.pdfUrl)).blob(),_e=URL.createObjectURL(xe);P(_e)}catch{P(Z.pdfUrl)}}else if(!n&&!J){e("/login");return}else if(n){alert("Access denied. Please purchase this book."),e("/store");return}}u(!1)})()},[t,n,r,e,i]),T.useEffect(()=>()=>{I&&I.startsWith("blob:")&&URL.revokeObjectURL(I)},[I]);const K=()=>{switch(y.theme){case"light":return"bg-[#f8f9fa] text-neutral-900 selection:bg-yellow-200";case"sepia":return"bg-[#f4ecd8] text-[#5b4636] selection:bg-[#d6cbb1]";case"dark":default:return"bg-[#0a0a0a] text-[#d4d4d4] selection:bg-white/20"}},G=()=>{switch(y.theme){case"light":return"bg-white shadow-[0_0_50px_rgba(0,0,0,0.1)] border-neutral-200";case"sepia":return"bg-[#faf4e8] shadow-[0_0_50px_rgba(91,70,54,0.1)] border-[#e3d8c4]";case"dark":default:return"bg-[#111] shadow-[0_0_50px_rgba(0,0,0,0.8)] border-white/5"}},Y=()=>{switch(y.fontFamily){case"sans":return"font-sans";case"mono":return"font-mono";case"serif":default:return"font-serif"}},te=q=>q.split(/(!\[.*?\]\(.*?\))/g).map((ie,be)=>{const V=ie.match(/!\[(.*?)\]\((.*?)\)/);return V?g.jsxs("div",{className:"my-8 flex flex-col items-center group",children:[g.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl border border-white/10 bg-black",children:g.jsx("img",{src:V[2],alt:V[1],className:"max-h-[500px] w-auto object-contain transition-transform duration-500 hover:scale-[1.02]"})}),V[1]&&g.jsx("span",{className:"text-[10px] text-neutral-500 mt-3 font-mono uppercase tracking-widest",children:V[1]})]},be):g.jsx("div",{className:"whitespace-pre-wrap",children:ie.split(`
`).map((J,oe)=>{if(!J.trim())return g.jsx("div",{className:"h-4"},oe);if(J.startsWith("# "))return g.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 mt-8 leading-tight",children:J.replace("# ","")},oe);if(J.startsWith("## "))return g.jsx("h2",{className:"text-2xl font-bold mb-4 mt-6 leading-snug opacity-90",children:J.replace("## ","")},oe);if(J.startsWith("### "))return g.jsx("h3",{className:"text-xl font-bold mb-3 mt-5 leading-snug opacity-80",children:J.replace("### ","")},oe);if(J.startsWith("- "))return g.jsx("li",{className:"ml-6 list-disc mb-2 pl-2",children:J.replace("- ","")},oe);const ve=J.split(/(\*\*.*?\*\*)/g);return g.jsx("p",{className:"mb-4 leading-relaxed",children:ve.map((xe,_e)=>xe.startsWith("**")&&xe.endsWith("**")?g.jsx("strong",{className:"font-bold opacity-100",children:xe.slice(2,-2)},_e):xe)},oe)})},be)});if(o)return g.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),g.jsx(Ni,{className:"w-16 h-16 mb-6 border border-white/20 bg-black shadow-[0_0_30px_white/20] rounded-full"}),g.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest animate-pulse",children:"Initializing Reader Engine..."})]});if(!a)return null;const W=a.pages&&a.pages.length>0?a.pages:[{id:"1",title:"Cover",pageNumber:1,content:"No content available."}],$=W[M],U=a.pdfUrl?Math.round(C/A*100):Math.round((M+1)/W.length*100);return g.jsxs("div",{className:`min-h-screen w-full flex flex-col fixed inset-0 z-50 transition-colors duration-500 font-sans ${K()}`,children:[g.jsxs("header",{className:`
                h-16 flex items-center justify-between px-4 md:px-8 border-b z-40 relative backdrop-blur-xl transition-colors duration-300
                ${y.theme==="dark"?"bg-black/80 border-white/10":y.theme==="light"?"bg-white/80 border-black/5":"bg-[#f4ecd8]/80 border-[#5b4636]/10"}
            `,children:[g.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1 min-w-0",children:[g.jsx("button",{onClick:()=>e(-1),className:"group p-2 rounded-full hover:bg-black/5 transition-all",title:"Exit",children:g.jsx(Id,{className:`w-5 h-5 ${y.theme==="dark"?"text-neutral-400 group-hover:text-white":"text-neutral-500 group-hover:text-black"}`})}),g.jsx("button",{onClick:()=>f(!0),className:"group p-2 rounded-full hover:bg-black/5 transition-all",title:"Table of Contents",children:g.jsx(IG,{className:`w-5 h-5 ${y.theme==="dark"?"text-neutral-400 group-hover:text-white":"text-neutral-500 group-hover:text-black"}`})}),g.jsx("h1",{className:"text-sm font-bold truncate opacity-80 flex-1 min-w-0",children:a.title})]}),g.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[!a.pdfUrl&&g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>v(!h),className:`p-2 rounded-full transition-all border ${h?"bg-black/5":"bg-transparent border-transparent"} ${y.theme==="dark"?"hover:bg-white/10 text-neutral-300":"hover:bg-black/5 text-neutral-600"}`,children:g.jsx("span",{className:"font-serif font-bold text-lg",children:"Aa"})}),h&&g.jsxs("div",{className:`absolute top-12 right-0 w-72 p-5 rounded-2xl shadow-2xl border animate-slide-up origin-top-right z-50
                                    ${y.theme==="dark"?"bg-[#1a1a1a] border-white/10 text-white":"bg-white border-neutral-200 text-neutral-900"}
                                `,children:[g.jsx("div",{className:"flex bg-black/5 rounded-lg p-1 mb-6 border border-black/5",children:[{id:"light",icon:g.jsx(ole,{className:"w-4 h-4"}),label:"Light"},{id:"sepia",icon:g.jsx("div",{className:"w-3 h-3 rounded-full bg-[#d6cbb1]"}),label:"Sepia"},{id:"dark",icon:g.jsx(lle,{className:"w-4 h-4"}),label:"Dark"}].map(q=>g.jsxs("button",{onClick:()=>w(Z=>({...Z,theme:q.id})),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-xs font-bold uppercase tracking-wider transition-all
                                                    ${y.theme===q.id?y.theme==="dark"?"bg-white text-black":"bg-black text-white":"hover:bg-black/5 text-neutral-500"}
                                                `,children:[q.icon," ",q.label]},q.id))}),g.jsxs("div",{className:"mb-6",children:[g.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-2",children:"Typography"}),g.jsx("div",{className:"flex gap-2",children:[{id:"sans",label:"Sans",font:"font-sans"},{id:"serif",label:"Serif",font:"font-serif"},{id:"mono",label:"Mono",font:"font-mono"}].map(q=>g.jsx("button",{onClick:()=>w(Z=>({...Z,fontFamily:q.id})),className:`flex-1 py-3 border rounded-lg text-sm transition-all ${q.font}
                                                        ${y.fontFamily===q.id?"border-current bg-current/5":"border-transparent bg-black/5 hover:bg-black/10"}
                                                    `,children:q.label},q.id))})]}),g.jsxs("div",{className:"mb-4",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50",children:"Size"}),g.jsxs("span",{className:"text-xs font-mono",children:[y.fontSize,"px"]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:()=>w(q=>({...q,fontSize:Math.max(12,q.fontSize-1)})),className:"p-2 hover:bg-black/5 rounded",children:g.jsx("span",{className:"text-xs font-bold",children:"A-"})}),g.jsx("input",{type:"range",min:"12",max:"32",value:y.fontSize,onChange:q=>w(Z=>({...Z,fontSize:parseInt(q.target.value)})),className:"flex-1 h-1 bg-neutral-500/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-current [&::-webkit-slider-thumb]:rounded-full"}),g.jsx("button",{onClick:()=>w(q=>({...q,fontSize:Math.min(32,q.fontSize+1)})),className:"p-2 hover:bg-black/5 rounded",children:g.jsx("span",{className:"text-lg font-bold",children:"A+"})})]})]})]})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-3 px-3 py-1.5 rounded-full border border-current/10 bg-current/5",children:[g.jsxs("span",{className:"text-xs font-bold tabular-nums",children:[U,"%"]}),g.jsx("div",{className:"w-16 h-1 bg-current/20 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-current transition-all duration-300",style:{width:`${U}%`}})})]})]})]}),c&&g.jsxs("div",{className:"fixed inset-0 z-[60] flex",children:[g.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>f(!1)}),g.jsxs("div",{className:`relative w-80 h-full shadow-2xl flex flex-col animate-slide-right border-r ${y.theme==="dark"?"bg-[#0f0f0f] border-white/10":"bg-white border-neutral-200"}`,children:[g.jsxs("div",{className:"p-6 border-b border-current/10 flex items-center justify-between",children:[g.jsx("h3",{className:"font-bold text-sm uppercase tracking-widest",children:"Chapters"}),g.jsx("button",{onClick:()=>f(!1),children:g.jsx(Id,{className:"w-5 h-5"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:W.map((q,Z)=>g.jsxs("button",{onClick:()=>{var ie;B(Z),f(!1),(ie=z.current)==null||ie.scrollTo(0,0)},className:`w-full text-left p-4 rounded-xl transition-all border ${M===Z?"bg-current/10 border-current/20 font-bold":"bg-transparent border-transparent hover:bg-current/5 text-current/60"}`,children:[g.jsxs("span",{className:"text-xs opacity-50 block mb-1",children:["Chapter ",Z+1]}),g.jsx("span",{className:"text-sm",children:q.title})]},q.id))})]})]}),g.jsx("main",{className:"flex-1 relative overflow-hidden flex flex-col pb-24",children:a.pdfUrl&&I?g.jsxs("div",{className:"flex-1 relative bg-black/50 overflow-auto flex justify-center p-4 md:p-10 custom-scrollbar pb-32",children:[g.jsx("div",{className:"shadow-[0_0_60px_rgba(0,0,0,0.5)] border border-white/5 transition-transform origin-top",style:{transform:`scale(${R})`},children:g.jsx(B_e,{file:I,onLoadSuccess:({numPages:q})=>E(q),loading:g.jsx("div",{className:"text-white p-10 font-mono text-xs",children:"Loading Document..."}),error:g.jsx("div",{className:"text-red-400 p-10 font-mono text-xs",children:"PDF Error"}),children:g.jsx(X_e,{pageNumber:C,scale:1,className:"shadow-2xl",renderTextLayer:!1,renderAnnotationLayer:!1})})}),g.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/80 backdrop-blur-xl border border-white/10 p-2 rounded-full flex items-center gap-4 shadow-2xl z-40 text-white",children:[g.jsx("button",{onClick:()=>k(q=>Math.max(1,q-1)),disabled:C<=1,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 disabled:opacity-30",children:g.jsx(Z3,{className:"w-5 h-5"})}),g.jsxs("span",{className:"font-mono text-xs font-bold",children:[C," / ",A]}),g.jsx("button",{onClick:()=>k(q=>Math.min(A,q+1)),disabled:C>=A,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 disabled:opacity-30",children:g.jsx(eF,{className:"w-5 h-5"})}),g.jsx("div",{className:"w-px h-6 bg-white/20 mx-2"}),g.jsx("button",{onClick:()=>D(q=>Math.max(.5,q-.1)),className:"p-2 hover:text-white text-neutral-400",children:g.jsx(jG,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>D(q=>Math.min(2,q+.1)),className:"p-2 hover:text-white text-neutral-400",children:g.jsx(w0,{className:"w-4 h-4"})})]})]}):g.jsx("div",{ref:z,className:"flex-1 overflow-y-auto custom-scrollbar scroll-smooth",children:g.jsx("div",{className:"max-w-3xl mx-auto py-8 md:py-12 px-4 md:px-0",children:g.jsxs("div",{className:`
                                min-h-[calc(100vh-200px)] p-6 md:p-16 rounded-[12px] transition-all duration-300 border
                                ${G()}
                            `,children:[g.jsxs("div",{className:"mb-8 md:mb-12 text-center pb-8 border-b border-current/10",children:[g.jsxs("h4",{className:"text-[10px] md:text-xs font-bold uppercase tracking-[0.2em] opacity-40 mb-3",children:["Chapter ",M+1]}),g.jsx("h2",{className:`text-2xl md:text-5xl font-bold leading-tight ${y.fontFamily==="serif"?"font-serif":"font-sans"}`,children:$.title})]}),g.jsx("article",{className:`prose prose-base md:prose-lg max-w-none transition-all duration-300 ${Y()}`,style:{fontSize:`${y.fontSize}px`,lineHeight:y.lineHeight,color:"currentColor"},children:g.jsx("div",{className:"opacity-90",children:te($.content||"Start writing to see content here...")})}),g.jsxs("div",{className:"mt-12 md:mt-20 pt-10 border-t border-current/10 flex flex-col md:flex-row gap-4 justify-between items-center opacity-50 text-[10px] md:text-xs font-mono uppercase tracking-widest text-center md:text-left",children:[g.jsx("span",{children:a.title}),g.jsxs("span",{children:[M+1," / ",W.length]})]})]})})})}),!a.pdfUrl&&g.jsx("div",{className:`fixed bottom-0 left-0 right-0 p-4 border-t z-50 backdrop-blur-xl ${y.theme==="dark"?"bg-black/90 border-white/10":y.theme==="light"?"bg-white/90 border-black/10":"bg-[#f4ecd8]/90 border-[#5b4636]/10"}`,children:g.jsxs("div",{className:"max-w-2xl mx-auto flex items-center justify-between gap-4",children:[g.jsxs("button",{onClick:()=>{var q;M>0&&(B(Z=>Z-1),(q=z.current)==null||q.scrollTo(0,0))},disabled:M===0,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-full transition-all border ${y.theme==="dark"?"hover:bg-white/10 border-white/10 text-white disabled:opacity-30":"hover:bg-black/5 border-black/10 text-black disabled:opacity-30"}`,children:[g.jsx(Z3,{className:"w-4 h-4"}),g.jsx("span",{className:"font-bold text-xs uppercase tracking-wider",children:"Prev"})]}),g.jsxs("div",{className:`text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 ${y.theme==="dark"?"text-white":"text-black"}`,children:[M+1," / ",W.length]}),g.jsxs("button",{onClick:()=>{var q;M<W.length-1&&(B(Z=>Z+1),(q=z.current)==null||q.scrollTo(0,0))},disabled:M===W.length-1,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-full transition-all border ${y.theme==="dark"?"hover:bg-white/10 border-white/10 text-white disabled:opacity-30":"hover:bg-black/5 border-black/10 text-black disabled:opacity-30"}`,children:[g.jsx("span",{className:"font-bold text-xs uppercase tracking-wider",children:"Next"}),g.jsx(eF,{className:"w-4 h-4"})]})]})})]})},{useParams:Z_e,Link:eCe}=Ri,tCe=()=>{const{username:t}=Z_e(),{books:e}=ki(),[n,r]=T.useState(null),[i,a]=T.useState(null),[s,o]=T.useState([]),[u,c]=T.useState(!0);if(T.useEffect(()=>{(async()=>{if(c(!0),!t){c(!1);return}const v=await Y1e(t);if(v&&v.sellerProfile){r(v.sellerProfile),a(v.siteConfig);const y=v.books||[];o(y),c(!1);return}setTimeout(()=>{const y=Object.values(Mc).find(w=>{var A,E;return((A=w.creatorSite)==null?void 0:A.slug)===t||((E=w.username)==null?void 0:E.replace("@",""))===t||w.id===t});if(y&&y.creatorSite){r(y),a(y.creatorSite);const w=[...Gh,...e||[]],E=Array.from(new Map(w.map(C=>[C.id,C])).values()).filter(C=>y.creatorSite.showcasedBookIds.includes(C.id)&&C.sellerId===y.id);o(E)}c(!1)},800)})()},[t,e]),T.useEffect(()=>(document.body.style.backgroundColor=(i==null?void 0:i.theme)==="light-elegant"?"#ffffff":"#0a0a0a",document.body.style.color=(i==null?void 0:i.theme)==="light-elegant"?"#000000":"#ffffff",()=>{document.body.style.backgroundColor="",document.body.style.color=""}),[i]),u)return g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-black text-white font-mono",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mb-4"}),g.jsx("p",{className:"uppercase tracking-widest text-xs",children:"Resolving host: ebook-engine.github.io..."})]});if(!n||!i)return g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-black text-neutral-500 font-mono text-center p-6",children:[g.jsx("div",{className:"mb-4",children:"404"}),g.jsx("h1",{className:"text-xl text-white mb-2",children:"Site Not Found"}),g.jsxs("p",{className:"text-sm",children:['The GitHub Pages site for "',t,'" does not exist.']})]});const f=i.theme==="light-elegant";return g.jsxs("div",{className:`min-h-screen font-sans ${f?"bg-white text-neutral-900":"bg-[#050505] text-white"}`,children:[g.jsxs("div",{className:"bg-[#1a1a1a] text-neutral-400 text-[10px] font-mono py-1 px-4 flex items-center gap-4 border-b border-[#333]",children:[g.jsxs("div",{className:"flex gap-1.5",children:[g.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),g.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),g.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),g.jsxs("div",{className:"flex-1 bg-[#000] rounded px-3 py-0.5 flex items-center gap-2",children:[g.jsx(rE,{className:"w-3 h-3 text-neutral-500"}),g.jsxs("span",{children:["https://ebook-engine.github.io/",i.slug]})]})]}),g.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[g.jsxs("header",{className:"text-center mb-20 animate-slide-up",children:[g.jsx("div",{className:`w-32 h-32 mx-auto rounded-full overflow-hidden mb-6 border-4 ${f?"border-neutral-100 shadow-xl":"border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]"}`,children:i.profileImageUrl?g.jsx("img",{src:i.profileImageUrl,alt:n.name,className:"w-full h-full object-cover"}):g.jsx("div",{className:`w-full h-full flex items-center justify-center text-3xl font-bold ${f?"bg-neutral-100":"bg-white/10"}`,children:n.name.charAt(0)})}),g.jsx("h1",{className:"text-4xl md:text-6xl font-black tracking-tight mb-4",children:i.displayName}),g.jsx("p",{className:`text-lg md:text-xl font-light max-w-2xl mx-auto leading-relaxed ${f?"text-neutral-600":"text-neutral-400"}`,children:i.tagline}),g.jsxs("div",{className:"flex justify-center gap-6 mt-8",children:[g.jsxs("button",{className:`flex items-center gap-2 px-6 py-2 rounded-full border transition-all ${f?"border-neutral-200 hover:bg-neutral-100":"border-white/10 hover:bg-white/10"}`,children:[g.jsx(rE,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Follow"})]}),g.jsxs("button",{className:`flex items-center gap-2 px-6 py-2 rounded-full border transition-all ${f?"border-neutral-200 hover:bg-neutral-100":"border-white/10 hover:bg-white/10"}`,children:[g.jsx(jP,{className:"w-4 h-4"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Website"})]})]})]}),g.jsxs("main",{children:[g.jsxs("div",{className:`flex items-center gap-4 mb-10 ${f?"border-neutral-200":"border-white/10"} border-b pb-4`,children:[g.jsx(_i,{className:`w-5 h-5 ${f?"text-neutral-400":"text-neutral-500"}`}),g.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest",children:"Published Works"})]}),s.length>0?g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:s.map(h=>g.jsxs("div",{className:`group flex gap-6 p-6 rounded-2xl transition-all hover:-translate-y-1 ${f?"bg-neutral-50 hover:bg-white hover:shadow-xl":"bg-white/5 hover:bg-white/10 hover:shadow-[0_10px_40px_rgba(0,0,0,0.5)]"}`,children:[g.jsx("div",{className:`w-24 h-36 flex-shrink-0 shadow-lg rounded overflow-hidden ${f?"":"border border-white/10"}`,children:g.jsx("img",{src:h.coverImageUrl,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),g.jsxs("div",{className:"flex flex-col justify-center",children:[g.jsxs("div",{className:"mb-auto",children:[g.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full mb-2 inline-block ${f?"bg-neutral-200 text-neutral-600":"bg-white/10 text-neutral-400"}`,children:h.genre}),g.jsx("h3",{className:"text-xl font-bold leading-tight mb-1",children:h.title}),g.jsxs("p",{className:`text-sm ${f?"text-neutral-500":"text-neutral-400"}`,children:[h.description.substring(0,60),"..."]})]}),g.jsxs("div",{className:"flex items-center justify-between mt-4",children:[g.jsx("span",{className:"font-mono text-lg font-medium",children:h.price===0?"Free":`${h.price}`}),g.jsxs(eCe,{to:`/store?bookId=${h.id}`,className:`flex items-center gap-2 text-xs font-bold uppercase tracking-widest hover:underline ${f?"text-blue-600":"text-blue-400"}`,children:["Get Book ",g.jsx(nE,{className:"w-3 h-3"})]})]})]})]},h.id))}):g.jsx("div",{className:`text-center py-20 border border-dashed rounded-xl ${f?"border-neutral-300 text-neutral-400":"border-white/10 text-neutral-600"}`,children:g.jsx("p",{className:"font-mono text-xs uppercase tracking-widest",children:"No books deployed yet."})})]}),g.jsx("footer",{className:`mt-32 pt-10 border-t text-center ${f?"border-neutral-200 text-neutral-400":"border-white/10 text-neutral-600"}`,children:g.jsxs("p",{className:"text-xs font-mono",children:[" ",new Date().getFullYear()," ",i.displayName,". Hosted via Ebook-Engine."]})})]})]})},{useNavigate:nCe}=Ri,IH=()=>{nCe();const[t,e]=T.useState("init");T.useEffect(()=>{const r=setTimeout(()=>{e("menu")},2e3);return()=>clearTimeout(r)},[]);const n=()=>{e("launch"),setTimeout(()=>{const r=mm();window.location.href=`${r}/ebook-studio`},1500)};return t==="init"?g.jsxs("div",{className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 bg-white/20 blur-2xl rounded-full animate-pulse-slow"}),g.jsx(Ni,{className:"w-24 h-24 border border-white/50 bg-black relative z-10"})]}),g.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[g.jsx("h1",{className:"text-white text-3xl font-black tracking-tighter uppercase animate-slide-up font-sans",children:"CO-WRITTER"}),g.jsxs("div",{className:"flex items-center gap-3 text-neutral-500 font-mono text-[10px] uppercase tracking-[0.2em] animate-fade-in delay-200",children:[g.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-ping"}),"SYSTEM ONLINE"]})]})]}):t==="launch"?g.jsxs("div",{className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-white/5 animate-pulse-square"}),g.jsx(Ni,{className:"w-32 h-32 border border-white bg-black animate-spin-slow scale-125 transition-transform duration-1000"}),g.jsx("h2",{className:"mt-12 text-white text-xl font-bold uppercase tracking-[0.5em] animate-pulse",children:"Establishing Uplink..."})]}):g.jsxs("div",{className:"min-h-screen bg-[#050505] text-white flex flex-col items-center justify-center relative overflow-hidden font-sans selection:bg-white/20",children:[g.jsx("div",{className:"absolute inset-0 bg-grid opacity-10 pointer-events-none"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black pointer-events-none"}),g.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/5 rounded-full blur-[160px] pointer-events-none animate-pulse-slow"}),g.jsx("div",{className:"absolute top-12 left-1/2 -translate-x-1/2",children:g.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-md shadow-2xl",children:[g.jsx(GA,{className:"w-4 h-4 text-indigo-400"}),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-neutral-400",children:"Agentic Workflow Engine v3.0"})]})}),g.jsxs("div",{className:"z-10 w-full max-w-[1200px] px-8 grid grid-cols-1 lg:grid-cols-2 gap-20 items-center mt-10",children:[g.jsxs("div",{className:"text-left space-y-8",children:[g.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tighter text-white leading-[0.9]",children:["Studio ",g.jsx("br",{}),g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-b from-neutral-200 to-neutral-600",children:"Environment"})]}),g.jsx("p",{className:"text-neutral-500 max-w-lg text-base md:text-lg leading-relaxed font-light",children:"Welcome to your dedicated creation workspace. Access your projects, configure your AI agents, and write without distractions."})]}),g.jsxs("div",{className:"space-y-6 w-full max-w-md mx-auto lg:ml-auto",children:[g.jsx("button",{onClick:n,className:"group w-full relative overflow-hidden bg-white text-black p-1.5 rounded-[2rem] transition-all hover:scale-[1.02] active:scale-[0.98] shadow-[0_0_40px_rgba(255,255,255,0.1)] hover:shadow-[0_0_60px_rgba(255,255,255,0.2)]",children:g.jsxs("div",{className:"relative z-10 bg-white border border-neutral-200 rounded-[1.5rem] px-8 py-8 flex items-center justify-between",children:[g.jsxs("div",{className:"text-left",children:[g.jsxs("h3",{className:"text-xl font-black uppercase tracking-tight flex items-center gap-3",children:[g.jsx(Mu,{className:"w-6 h-6"})," Enter Studio"]}),g.jsx("p",{className:"text-[11px] text-neutral-500 font-mono mt-2 font-bold tracking-widest",children:"NEW PROJECT / OPEN RECENT"})]}),g.jsx("div",{className:"w-12 h-12 rounded-full bg-black text-white flex items-center justify-center transition-transform group-hover:rotate-45 group-hover:scale-110",children:g.jsx(DG,{className:"w-6 h-6"})})]})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("button",{className:"group relative overflow-hidden bg-[#0A0A0A] border border-white/10 p-6 rounded-[1.5rem] hover:bg-[#111] transition-colors text-left hover:border-white/20",children:[g.jsx(x0,{className:"w-8 h-8 text-neutral-600 mb-4 group-hover:text-white transition-colors"}),g.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Agent Settings"}),g.jsx("p",{className:"text-[10px] text-neutral-500 mt-1",children:"Configure Models & Personas"})]}),g.jsxs("button",{className:"group relative overflow-hidden bg-[#0A0A0A] border border-white/10 p-6 rounded-[1.5rem] hover:bg-[#111] transition-colors text-left hover:border-white/20",children:[g.jsx(_i,{className:"w-8 h-8 text-neutral-600 mb-4 group-hover:text-white transition-colors"}),g.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Archives"}),g.jsx("p",{className:"text-[10px] text-neutral-500 mt-1",children:"View past drafts"})]})]})]})]})]})},rCe=()=>g.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:g.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Contact Support"}),g.jsx("p",{className:"text-neutral-400 text-lg",children:"We are here to help you."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"md:col-span-2 bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-8",children:"Get in Touch"}),g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Merchant Name"}),g.jsx("p",{className:"text-white font-medium text-lg",children:al}),g.jsx("p",{className:"text-neutral-400 text-sm mt-1",children:"Created by OpenDev Labs"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Registered Address"}),g.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:["Gala No. 1, 1st Floor, Malwa,",g.jsx("br",{}),"Patanwala Industrial Estate, LBS Marg,",g.jsx("br",{}),"Ghatkopar West, Mumbai - 400086."]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Support Channels"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center",children:g.jsx(LG,{className:"w-4 h-4"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-neutral-500 uppercase font-bold",children:"Email Us"}),g.jsx("a",{href:"mailto:opendev-labs.help@gmail.com",className:"text-white hover:text-brand-accent transition-colors",children:"opendev-labs.help@gmail.com"})]})]}),g.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-black border border-white/20 text-white flex items-center justify-center",children:g.jsx(jP,{className:"w-4 h-4"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs text-neutral-500 uppercase font-bold",children:"Website"}),g.jsx("a",{href:"https://opendev-labs.github.io",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-brand-accent transition-colors",children:"opendev-labs.github.io"})]})]})]})]})]})]}),g.jsxs("div",{className:"flex flex-col gap-6",children:[g.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-[32px] p-8 flex flex-col justify-between flex-grow",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Response Time"}),g.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed mb-6",children:"Our support team usually responds within 24 hours. For urgent inquiries regarding payments, please include your Transaction ID."})]}),g.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/5",children:[g.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Operational Hours"}),g.jsx("p",{className:"text-white font-medium",children:"Mon - Fri"}),g.jsx("p",{className:"text-neutral-400 text-sm",children:"9:00 AM - 6:00 PM IST"})]})]}),g.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-[32px] p-8",children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Connect"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("a",{href:"https://instagram.com/iamyash.io",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-neutral-300 hover:text-white transition-colors group",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-pink-600 group-hover:text-white transition-all",children:g.jsx(tF,{className:"w-4 h-4"})}),g.jsx("span",{className:"text-sm font-medium",children:"@iamyash.io"})]}),g.jsxs("a",{href:"https://instagram.com/opendev-labs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-neutral-300 hover:text-white transition-colors group",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-pink-600 group-hover:text-white transition-all",children:g.jsx(tF,{className:"w-4 h-4"})}),g.jsx("span",{className:"text-sm font-medium",children:"@opendev-labs"})]})]})]})]})]})]})}),iCe=()=>g.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:g.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:g.jsx(Mu,{className:"w-8 h-8 text-white"})}),g.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Shipping Policy"}),g.jsx("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:"Instant Digital Delivery"})]}),g.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:g.jsxs("div",{className:"space-y-8 text-neutral-300 leading-relaxed",children:[g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Digital Delivery"}),g.jsxs("p",{children:[al," is a digital marketplace. We do not ship physical products. Upon successful payment, delivery of your eBook is ",g.jsx("strong",{children:"instant"}),"."]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Accessing Your Order"}),g.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-neutral-400",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Dashboard:"}),' Access via "Purchase History" immediately.']}),g.jsxs("li",{children:[g.jsx("strong",{children:"Email:"})," A download link is sent to your registered email."]})]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Shipping Costs"}),g.jsxs("p",{children:["There are ",g.jsx("strong",{children:"zero shipping charges"})," applicable to any purchase on ",al,"."]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"4. Delays"}),g.jsx("p",{children:"If you do not receive access within 5 minutes of payment, please verify your email spam folder or contact support."})]})]})})]})}),aCe=()=>g.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:g.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:g.jsx(OG,{className:"w-8 h-8 text-white"})}),g.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Refund Policy"}),g.jsx("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:"Digital Goods & Services"})]}),g.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:g.jsxs("div",{className:"space-y-8 text-neutral-300 leading-relaxed",children:[g.jsxs("div",{className:"p-6 bg-red-900/10 border border-red-500/20 rounded-2xl",children:[g.jsx("h3",{className:"text-red-400 font-bold mb-2 uppercase tracking-widest text-xs",children:"Important Notice"}),g.jsxs("p",{className:"text-sm text-neutral-300",children:["Due to the nature of digital goods (eBooks), which can be downloaded instantly, orders are generally ",g.jsx("strong",{children:"non-refundable"})," once processed."]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Cancellations"}),g.jsx("p",{children:"As our products are instant digital downloads, orders cannot be cancelled once the payment is processed and the download link has been generated."})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Eligibility for Refunds"}),g.jsx("p",{children:"We may consider a refund request under these exceptional circumstances:"}),g.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1 text-neutral-400",children:[g.jsx("li",{children:"The eBook file is corrupt or technically defective."}),g.jsx("li",{children:"Duplicate payment for the same item."})]}),g.jsx("p",{className:"mt-2 text-sm text-neutral-500",children:"Requests must be made within 7 days of purchase."})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Processing Timeline"}),g.jsx("p",{children:"Approved refunds are processed within 5-7 working days. The amount will be credited back to your original payment method."})]})]})})]})}),sCe=()=>g.jsxs("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:[g.jsx("div",{className:"fixed inset-0 z-[-1] pointer-events-none",children:g.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-[400px] h-[400px] bg-white/5 rounded-full blur-[100px]"})}),g.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:g.jsx(_i,{className:"w-8 h-8 text-white"})}),g.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Terms of Service"}),g.jsxs("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:["Effective Date: ",new Date().toLocaleDateString()]})]}),g.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:g.jsxs("div",{className:"space-y-10 text-neutral-300 leading-relaxed",children:[g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Agreement to Terms"}),g.jsxs("p",{children:["By accessing ",g.jsx("span",{className:"text-white font-mono",children:"ebook-engine.github.io"}),", you agree to be bound by these Terms of Service. If you do not agree to abide by the terms of this Agreement, you are not authorized to use or access the Website."]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Intellectual Property"}),g.jsxs("p",{children:["The Platform and its original content, features, and functionality are owned by ",al," and are protected by international copyright, trademark, patent, trade secret, and other intellectual property or proprietary rights laws."]}),g.jsxs("p",{className:"mt-2 text-sm text-neutral-500 bg-white/5 p-4 rounded-xl border border-white/5",children:[g.jsx("strong",{children:"Note on AI Content:"})," Content generated via our AI tools belongs to the user (you), subject to the terms of the underlying model providers (Google Gemini)."]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Google API Services"}),g.jsx("p",{children:"Our application integrates with Google API Services. By using these features, you acknowledge and agree to be bound by Google's Terms of Service."}),g.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 text-neutral-400",children:[g.jsx("li",{children:"We do not transfer user data to third parties for surveillance."}),g.jsx("li",{children:"We do not sell user data sourced from Google APIs."}),g.jsx("li",{children:"We do not use user data for advertising purposes."})]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"4. User Accounts"}),g.jsx("p",{children:"When you create an account with us, you must provide information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account on our Service."})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"5. Limitation of Liability"}),g.jsxs("p",{children:["In no event shall ",al,", nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."]})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"6. Governing Law"}),g.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, without regard to its conflict of law provisions."})]})]})})]})]}),oCe=()=>g.jsxs("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:[g.jsx("div",{className:"fixed inset-0 z-[-1] pointer-events-none",children:g.jsx("div",{className:"absolute top-[20%] right-[10%] w-[500px] h-[500px] bg-white/5 rounded-full blur-[120px]"})}),g.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[g.jsxs("div",{className:"text-center mb-16",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(Ni,{className:"w-20 h-20 border border-white/20 bg-black shadow-[0_0_30px_rgba(255,255,255,0.1)] rounded-full",isActive:!0})}),g.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Privacy Policy"}),g.jsxs("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:["Last Updated: ",new Date().toLocaleDateString()]})]}),g.jsxs("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-50 hidden md:block",children:g.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-900/20 border border-green-500/30 rounded-full",children:[g.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),g.jsx("span",{className:"text-[10px] font-bold text-green-500 uppercase tracking-widest",children:"Google Core Security Active"})]})}),g.jsxs("div",{className:"space-y-12 text-neutral-300 leading-relaxed",children:[g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[g.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"01"}),"Introduction"]}),g.jsxs("p",{children:["At ",al,", accessible from ",g.jsx("span",{className:"text-white font-mono",children:"ebook-engine.github.io"}),", the privacy of our visitors and creators is our top priority. This Privacy Policy document contains types of information that is collected and recorded by ",al," and how we use it."]})]}),g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[g.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"02"}),"Google Core Data & Security"]}),g.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[g.jsx("p",{className:"mb-4 text-sm font-medium text-white",children:"We comply with Google API Services User Data Policy, including the Limited Use requirements."}),g.jsxs("ul",{className:"space-y-3",children:[g.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[g.jsx(Ci,{className:"w-5 h-5 text-google-blue shrink-0"}),g.jsxs("span",{children:[g.jsx("strong",{children:"Authentication:"})," We use Google OAuth 2.0 to securely authenticate users. Your password is never stored on our servers."]})]}),g.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[g.jsx(Ci,{className:"w-5 h-5 text-google-blue shrink-0"}),g.jsxs("span",{children:[g.jsx("strong",{children:"Database Integrity:"})," User data (such as eBook drafts) is processed using ephemeral secure sessions. Long-term storage leverages secure cloud infrastructure."]})]}),g.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[g.jsx(Ci,{className:"w-5 h-5 text-google-blue shrink-0"}),g.jsxs("span",{children:[g.jsx("strong",{children:"Gemini AI:"})," Content generated via Google Gemini is transmitted over encrypted (TLS 1.3) channels."]})]})]})]})]}),g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[g.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"03"}),"Information Collection"]}),g.jsx("p",{className:"mb-4",children:"We collect information to provide better services to all our users:"}),g.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-neutral-400",children:[g.jsx("li",{children:"Personal identification (Name, Email address, Profile Picture)."}),g.jsx("li",{children:"Log Data (IP address, browser version, visit duration)."}),g.jsx("li",{children:"Transactional Data (Purchase history of eBooks)."})]})]}),g.jsxs("section",{children:[g.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[g.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"04"}),"Data Usage & Rights"]}),g.jsx("p",{children:"We use the collected data to maintain our service, notify you about changes, provide customer support, and detect technical issues."}),g.jsx("p",{className:"mt-4",children:"You have the right to request copies of your personal data, request corrections, or request deletion of your account at any time via the User Dashboard."})]})]}),g.jsx("div",{className:"mt-12 pt-8 border-t border-white/5 text-center",children:g.jsx("p",{className:"text-xs text-neutral-600 uppercase tracking-widest",children:"Protected by Ebook-Engine Secure Enclave"})})]})]})]}),{useNavigate:lCe}=Ri,uCe=()=>{const t=lCe();return g.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-8 text-center font-sans overflow-hidden relative",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(15,15,25,1)_0%,rgba(0,0,0,1)_100%)]"}),g.jsx("div",{className:"absolute top-[20%] left-[15%] w-32 h-32 border border-white/5 rounded-full animate-float opacity-30 blur-[1px]"}),g.jsx("div",{className:"absolute bottom-[25%] right-[20%] w-64 h-64 border border-white/5 rotate-45 animate-float-delayed opacity-20"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none"}),g.jsxs("div",{className:"relative z-10 animate-fade-in flex flex-col items-center",children:[g.jsx("div",{className:"mb-10 p-6 bg-white/5 border border-white/10 rounded-full backdrop-blur-3xl shadow-[0_0_80px_rgba(255,255,255,0.05)]",children:g.jsx(Ni,{className:"w-24 h-24"})}),g.jsx("h1",{className:"text-8xl md:text-[12rem] font-black text-white leading-none tracking-tighter mb-4 opacity-10 select-none",children:"404"}),g.jsx("div",{className:"absolute top-[45%] md:top-[40%]",children:g.jsx("h2",{className:"text-2xl md:text-5xl font-black text-white tracking-tight uppercase",children:"Segment Not Found"})}),g.jsx("p",{className:"text-neutral-500 max-w-sm mx-auto mb-12 text-xs md:text-sm font-mono uppercase tracking-[0.3em] mt-16 leading-relaxed",children:"The requested data fragment does not exist in the current neural cluster."}),g.jsx("button",{onClick:()=>t("/"),className:"px-10 py-5 bg-white text-black font-black text-[10px] uppercase tracking-[0.4em] rounded-full hover:bg-neutral-200 transition-all shadow-glow-white hover:scale-105 active:scale-95",children:"Return to Origin"})]}),g.jsx("div",{className:"absolute bottom-8 left-0 right-0 text-center",children:g.jsx("span",{className:"text-[9px] font-mono text-neutral-700 uppercase tracking-widest",children:"Co-Writter Neural OS v1.0.4"})})]})},mm=()=>{const t=window.location.hostname;return t.includes("vercel.app")?`https://${t}`:t==="localhost"||t==="127.0.0.1"||t.includes("localhost")?"https://co-writter-studio.web.app":t.includes("web.app")||t.includes("firebaseapp.com")?"":(t.includes("github.io"),"https://co-writter-studio.web.app")},cCe=()=>{const t=Er();return An.useLayoutEffect(()=>{window.scrollTo(0,0)},[t.pathname]),g.jsx("div",{className:"flex-grow flex flex-col animate-page-enter will-change-transform origin-top",children:g.jsxs(iP,{location:t,children:[g.jsx(ln,{path:"/",element:g.jsx(Rle,{})}),g.jsx(ln,{path:"/login",element:g.jsx(IW,{})}),g.jsx(ln,{path:"/store",element:g.jsx(Dle,{})}),g.jsx(ln,{path:"/pricing",element:g.jsx(lEe,{})}),g.jsx(ln,{path:"/dashboard",element:g.jsx(DW,{})}),g.jsx(ln,{path:"/checkout",element:g.jsx(rEe,{})}),g.jsx(ln,{path:"/s/:slug",element:g.jsx(cEe,{})}),g.jsx(ln,{path:"/site/:username",element:g.jsx(tCe,{})}),g.jsx(ln,{path:"/edit-ebook/:bookId",element:g.jsx(LW,{})}),g.jsx(ln,{path:"/ebook-studio",element:g.jsx(IH,{})}),g.jsx(ln,{path:"/studio",element:g.jsx(IH,{})}),g.jsx(ln,{path:"/read/:bookId",element:g.jsx(sK,{})}),g.jsx(ln,{path:"/contact",element:g.jsx(rCe,{})}),g.jsx(ln,{path:"/shipping-policy",element:g.jsx(iCe,{})}),g.jsx(ln,{path:"/refund-policy",element:g.jsx(aCe,{})}),g.jsx(ln,{path:"/terms-and-conditions",element:g.jsx(sCe,{})}),g.jsx(ln,{path:"/privacy-policy",element:g.jsx(oCe,{})}),g.jsx(ln,{path:"*",element:g.jsx(uCe,{})})]})},t.pathname)},Qp=({children:t})=>{const{currentUser:e,loading:n}=ki(),r=Er();return n?g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black overflow-hidden relative",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(20,20,30,1)_0%,rgba(0,0,0,1)_100%)]"}),g.jsx("div",{className:"relative z-10 scale-150 animate-pulse-slow",children:g.jsx(Ni,{className:"w-16 h-16 border border-white/20 bg-black/40 backdrop-blur-xl rounded-full"})}),g.jsx("div",{className:"mt-12 text-neutral-500 font-mono text-[10px] uppercase tracking-[0.4em] z-10 animate-pulse",children:"Authenticating Session..."})]}):e?t:g.jsx(U6,{to:"/login",state:{from:r},replace:!0})},dCe=()=>g.jsxs(iP,{children:[g.jsx(ln,{path:"/",element:g.jsx(Qp,{children:g.jsx($2,{})})}),g.jsx(ln,{path:"/ebook-studio",element:g.jsx(Qp,{children:g.jsx($2,{})})}),g.jsx(ln,{path:"/dashboard",element:g.jsx(Qp,{children:g.jsx(DW,{})})}),g.jsx(ln,{path:"/login",element:g.jsx(IW,{})}),g.jsx(ln,{path:"/edit-ebook/:bookId",element:g.jsx(Qp,{children:g.jsx(LW,{})})}),g.jsx(ln,{path:"/read/:bookId",element:g.jsx(Qp,{children:g.jsx(sK,{})})}),g.jsx(ln,{path:"*",element:g.jsx(Qp,{children:g.jsx($2,{})})})]}),fCe=()=>{const t=Er(),e=window.location.hostname,n=e.includes("firebaseapp.com")||e.includes("web.app"),r=e.includes("localhost")||e==="127.0.0.1",i=t.pathname.startsWith("/dashboard")||t.pathname.startsWith("/login")||t.pathname.startsWith("/ebook-studio")||t.pathname.startsWith("/edit-ebook")||t.pathname.startsWith("/read")||n&&t.pathname==="/",a=n||r&&i;return An.useEffect(()=>{Q1e()},[]),g.jsxs("div",{className:"flex flex-col min-h-screen bg-black font-sans text-foreground overflow-x-hidden relative",children:[g.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(20,20,30,1)_0%,rgba(0,0,0,1)_100%)]"}),g.jsx("div",{className:"absolute top-[20%] left-[15%] w-32 h-32 border border-white/5 rounded-full animate-float opacity-30 blur-[1px]"}),g.jsx("div",{className:"absolute bottom-[25%] right-[20%] w-64 h-64 border border-white/5 rotate-45 animate-float-delayed opacity-20"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none"}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent animate-[grid-flow_8s_linear_infinite]"})]}),g.jsxs("div",{className:"flex-grow relative z-10 flex flex-col w-full",children:[!a&&g.jsx(wle,{}),g.jsx("main",{className:"flex-grow flex flex-col",children:a?g.jsx(dCe,{}):g.jsx(cCe,{})}),!a&&g.jsx(Sle,{})]})]})},hCe=()=>g.jsx(xle,{children:g.jsx(N8,{children:g.jsx(fCe,{})})});class pCe extends An.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?g.jsxs("div",{className:"min-h-screen bg-[#0b0b0b] flex flex-col items-center justify-center p-8 text-center font-sans overflow-hidden relative",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(30,10,10,1)_0%,rgba(0,0,0,1)_100%)] opacity-50"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none"}),g.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-fade-in",children:[g.jsx("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/20 rounded-full shadow-[0_0_50px_rgba(239,68,68,0.2)]",children:g.jsx(Ni,{className:"w-16 h-16 border border-red-500/30 rounded-full"})}),g.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-4 tracking-tighter",children:"SYSTEM FAULT"}),g.jsx("p",{className:"text-neutral-500 max-w-md mx-auto mb-10 text-xs md:text-sm font-mono uppercase tracking-[0.2em] leading-relaxed",children:"Neural uplink interrupted. The local node encountered an unexpected state. Execution halted to prevent data corruption."}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsx("button",{onClick:()=>window.location.reload(),className:"px-8 py-4 bg-white text-black font-black text-[10px] uppercase tracking-widest rounded-full hover:bg-neutral-200 transition-all shadow-xl",children:"Reboot System"}),g.jsx("button",{onClick:()=>window.location.href="/",className:"px-8 py-4 bg-white/5 border border-white/10 text-white font-black text-[10px] uppercase tracking-widest rounded-full hover:bg-white/10 transition-all",children:"Return to Origin"})]}),!1]})]}):this.children}}const oK=document.getElementById("root");if(!oK)throw new Error("Could not find root element to mount to");const mCe=CJ.createRoot(oK);mCe.render(g.jsx(An.StrictMode,{children:g.jsx(pCe,{children:g.jsx(hCe,{})})}));
//# sourceMappingURL=index-7Ppya0TM.js.map
