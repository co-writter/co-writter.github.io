var tJ=Object.defineProperty;var pF=t=>{throw TypeError(t)};var nJ=(t,e,n)=>e in t?tJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var be=(t,e,n)=>nJ(t,typeof e!="symbol"?e+"":e,n),zT=(t,e,n)=>e.has(t)||pF("Cannot "+n);var m=(t,e,n)=>(zT(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?pF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),D=(t,e,n,r)=>(zT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),F=(t,e,n)=>(zT(t,e,"access private method"),n);var ar=(t,e,n,r)=>({set _(i){D(t,e,i,n)},get _(){return m(t,e,r)}});function rJ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function uo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HT={exports:{}},gv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mF;function iJ(){if(mF)return gv;mF=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return gv.Fragment=e,gv.jsx=n,gv.jsxs=n,gv}var gF;function aJ(){return gF||(gF=1,HT.exports=iJ()),HT.exports}var b=aJ(),GT={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yF;function sJ(){if(yF)return tt;yF=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function C(W,J,le){this.props=W,this.context=J,this.refs=A,this.updater=le||w}C.prototype.isReactComponent={},C.prototype.setState=function(W,J){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,J,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function P(){}P.prototype=C.prototype;function R(W,J,le){this.props=W,this.context=J,this.refs=A,this.updater=le||w}var I=R.prototype=new P;I.constructor=R,E(I,C.prototype),I.isPureReactComponent=!0;var k=Array.isArray;function L(){}var M={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function B(W,J,le){var ge=le.ref;return{$$typeof:t,type:W,key:J,ref:ge!==void 0?ge:null,props:le}}function V(W,J){return B(W.type,J,W.props)}function U(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function q(W){var J={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(le){return J[le]})}var Q=/\/+/g;function Z(W,J){return typeof W=="object"&&W!==null&&W.key!=null?q(""+W.key):J.toString(36)}function ce(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(L,L):(W.status="pending",W.then(function(J){W.status==="pending"&&(W.status="fulfilled",W.value=J)},function(J){W.status==="pending"&&(W.status="rejected",W.reason=J)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function G(W,J,le,ge,we){var Te=typeof W;(Te==="undefined"||Te==="boolean")&&(W=null);var Ae=!1;if(W===null)Ae=!0;else switch(Te){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(W.$$typeof){case t:case e:Ae=!0;break;case f:return Ae=W._init,G(Ae(W._payload),J,le,ge,we)}}if(Ae)return we=we(W),Ae=ge===""?"."+Z(W,0):ge,k(we)?(le="",Ae!=null&&(le=Ae.replace(Q,"$&/")+"/"),G(we,J,le,"",function(Ne){return Ne})):we!=null&&(U(we)&&(we=V(we,le+(we.key==null||W&&W.key===we.key?"":(""+we.key).replace(Q,"$&/")+"/")+Ae)),J.push(we)),1;Ae=0;var mt=ge===""?".":ge+":";if(k(W))for(var de=0;de<W.length;de++)ge=W[de],Te=mt+Z(ge,de),Ae+=G(ge,J,le,Te,we);else if(de=v(W),typeof de=="function")for(W=de.call(W),de=0;!(ge=W.next()).done;)ge=ge.value,Te=mt+Z(ge,de++),Ae+=G(ge,J,le,Te,we);else if(Te==="object"){if(typeof W.then=="function")return G(ce(W),J,le,ge,we);throw J=String(W),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function $(W,J,le){if(W==null)return W;var ge=[],we=0;return G(W,ge,"","",function(Te){return J.call(le,Te,we++)}),ge}function ee(W){if(W._status===-1){var J=W._result;J=J(),J.then(function(le){(W._status===0||W._status===-1)&&(W._status=1,W._result=le)},function(le){(W._status===0||W._status===-1)&&(W._status=2,W._result=le)}),W._status===-1&&(W._status=0,W._result=J)}if(W._status===1)return W._result.default;throw W._result}var re=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},xe={map:$,forEach:function(W,J,le){$(W,function(){J.apply(this,arguments)},le)},count:function(W){var J=0;return $(W,function(){J++}),J},toArray:function(W){return $(W,function(J){return J})||[]},only:function(W){if(!U(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return tt.Activity=h,tt.Children=xe,tt.Component=C,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=R,tt.StrictMode=r,tt.Suspense=u,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,tt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return M.H.useMemoCache(W)}},tt.cache=function(W){return function(){return W.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(W,J,le){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ge=E({},W.props),we=W.key;if(J!=null)for(Te in J.key!==void 0&&(we=""+J.key),J)!z.call(J,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&J.ref===void 0||(ge[Te]=J[Te]);var Te=arguments.length-2;if(Te===1)ge.children=le;else if(1<Te){for(var Ae=Array(Te),mt=0;mt<Te;mt++)Ae[mt]=arguments[mt+2];ge.children=Ae}return B(W.type,we,ge)},tt.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},tt.createElement=function(W,J,le){var ge,we={},Te=null;if(J!=null)for(ge in J.key!==void 0&&(Te=""+J.key),J)z.call(J,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(we[ge]=J[ge]);var Ae=arguments.length-2;if(Ae===1)we.children=le;else if(1<Ae){for(var mt=Array(Ae),de=0;de<Ae;de++)mt[de]=arguments[de+2];we.children=mt}if(W&&W.defaultProps)for(ge in Ae=W.defaultProps,Ae)we[ge]===void 0&&(we[ge]=Ae[ge]);return B(W,Te,we)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(W){return{$$typeof:o,render:W}},tt.isValidElement=U,tt.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:ee}},tt.memo=function(W,J){return{$$typeof:c,type:W,compare:J===void 0?null:J}},tt.startTransition=function(W){var J=M.T,le={};M.T=le;try{var ge=W(),we=M.S;we!==null&&we(le,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(L,re)}catch(Te){re(Te)}finally{J!==null&&le.types!==null&&(J.types=le.types),M.T=J}},tt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},tt.use=function(W){return M.H.use(W)},tt.useActionState=function(W,J,le){return M.H.useActionState(W,J,le)},tt.useCallback=function(W,J){return M.H.useCallback(W,J)},tt.useContext=function(W){return M.H.useContext(W)},tt.useDebugValue=function(){},tt.useDeferredValue=function(W,J){return M.H.useDeferredValue(W,J)},tt.useEffect=function(W,J){return M.H.useEffect(W,J)},tt.useEffectEvent=function(W){return M.H.useEffectEvent(W)},tt.useId=function(){return M.H.useId()},tt.useImperativeHandle=function(W,J,le){return M.H.useImperativeHandle(W,J,le)},tt.useInsertionEffect=function(W,J){return M.H.useInsertionEffect(W,J)},tt.useLayoutEffect=function(W,J){return M.H.useLayoutEffect(W,J)},tt.useMemo=function(W,J){return M.H.useMemo(W,J)},tt.useOptimistic=function(W,J){return M.H.useOptimistic(W,J)},tt.useReducer=function(W,J,le){return M.H.useReducer(W,J,le)},tt.useRef=function(W){return M.H.useRef(W)},tt.useState=function(W){return M.H.useState(W)},tt.useSyncExternalStore=function(W,J,le){return M.H.useSyncExternalStore(W,J,le)},tt.useTransition=function(){return M.H.useTransition()},tt.version="19.2.1",tt}var vF;function oy(){return vF||(vF=1,GT.exports=sJ()),GT.exports}var T=oy();const $n=uo(T),VP=rJ({__proto__:null,default:$n},[T]);var qT={exports:{}},yv={},$T={exports:{}},VT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bF;function oJ(){return bF||(bF=1,(function(t){function e(G,$){var ee=G.length;G.push($);e:for(;0<ee;){var re=ee-1>>>1,xe=G[re];if(0<i(xe,$))G[re]=$,G[ee]=xe,ee=re;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var $=G[0],ee=G.pop();if(ee!==$){G[0]=ee;e:for(var re=0,xe=G.length,W=xe>>>1;re<W;){var J=2*(re+1)-1,le=G[J],ge=J+1,we=G[ge];if(0>i(le,ee))ge<xe&&0>i(we,le)?(G[re]=we,G[ge]=ee,re=ge):(G[re]=le,G[J]=ee,re=J);else if(ge<xe&&0>i(we,ee))G[re]=we,G[ge]=ee,re=ge;else break e}}return $}function i(G,$){var ee=G.sortIndex-$.sortIndex;return ee!==0?ee:G.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],c=[],f=1,h=null,g=3,v=!1,w=!1,E=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I(G){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=G)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function k(G){if(E=!1,I(G),!w)if(n(u)!==null)w=!0,L||(L=!0,q());else{var $=n(c);$!==null&&ce(k,$.startTime-G)}}var L=!1,M=-1,z=5,B=-1;function V(){return A?!0:!(t.unstable_now()-B<z)}function U(){if(A=!1,L){var G=t.unstable_now();B=G;var $=!0;try{e:{w=!1,E&&(E=!1,P(M),M=-1),v=!0;var ee=g;try{t:{for(I(G),h=n(u);h!==null&&!(h.expirationTime>G&&V());){var re=h.callback;if(typeof re=="function"){h.callback=null,g=h.priorityLevel;var xe=re(h.expirationTime<=G);if(G=t.unstable_now(),typeof xe=="function"){h.callback=xe,I(G),$=!0;break t}h===n(u)&&r(u),I(G)}else r(u);h=n(u)}if(h!==null)$=!0;else{var W=n(c);W!==null&&ce(k,W.startTime-G),$=!1}}break e}finally{h=null,g=ee,v=!1}$=void 0}}finally{$?q():L=!1}}}var q;if(typeof R=="function")q=function(){R(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Z=Q.port2;Q.port1.onmessage=U,q=function(){Z.postMessage(null)}}else q=function(){C(U,0)};function ce(G,$){M=C(function(){G(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var ee=g;g=$;try{return G()}finally{g=ee}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=g;g=G;try{return $()}finally{g=ee}},t.unstable_scheduleCallback=function(G,$,ee){var re=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?re+ee:re):ee=re,G){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ee+xe,G={id:f++,callback:$,priorityLevel:G,startTime:ee,expirationTime:xe,sortIndex:-1},ee>re?(G.sortIndex=ee,e(c,G),n(u)===null&&G===n(c)&&(E?(P(M),M=-1):E=!0,ce(k,ee-re))):(G.sortIndex=xe,e(u,G),w||v||(w=!0,L||(L=!0,q()))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var $=g;return function(){var ee=g;g=$;try{return G.apply(this,arguments)}finally{g=ee}}}})(VT)),VT}var xF;function lJ(){return xF||(xF=1,$T.exports=oJ()),$T.exports}var WT={exports:{}},ni={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wF;function uJ(){if(wF)return ni;wF=1;var t=oy();function e(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:u,containerInfo:c,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ni.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ni.createPortal=function(u,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(u,c,null,f)},ni.flushSync=function(u){var c=s.T,f=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=c,r.p=f,r.d.f()}},ni.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},ni.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},ni.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ni.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=o(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},ni.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin);r.d.L(u,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ni.preloadModule=function(u,c){if(typeof u=="string")if(c){var f=o(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},ni.requestFormReset=function(u){r.d.r(u)},ni.unstable_batchedUpdates=function(u,c){return u(c)},ni.useFormState=function(u,c,f){return s.H.useFormState(u,c,f)},ni.useFormStatus=function(){return s.H.useHostTransitionStatus()},ni.version="19.2.1",ni}var SF;function PH(){if(SF)return WT.exports;SF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),WT.exports=uJ(),WT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EF;function cJ(){if(EF)return yv;EF=1;var t=lJ(),e=oy(),n=PH();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function s(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function o(l){if(l.tag===31){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(r(188))}function c(l){var d=l.alternate;if(!d){if(d=a(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,y=d;;){var _=p.return;if(_===null)break;var N=_.alternate;if(N===null){if(y=_.return,y!==null){p=y;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===p)return u(_),l;if(N===y)return u(_),d;N=N.sibling}throw Error(r(188))}if(p.return!==y.return)p=_,y=N;else{for(var O=!1,H=_.child;H;){if(H===p){O=!0,p=_,y=N;break}if(H===y){O=!0,y=_,p=N;break}H=H.sibling}if(!O){for(H=N.child;H;){if(H===p){O=!0,p=N,y=_;break}if(H===y){O=!0,y=N,p=_;break}H=H.sibling}if(!O)throw Error(r(189))}}if(p.alternate!==y)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function f(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=f(l),d!==null)return d;l=l.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var Q=Symbol.for("react.client.reference");function Z(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Q?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case E:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case L:return"SuspenseList";case B:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case w:return"Portal";case R:return l.displayName||"Context";case P:return(l._context.displayName||"Context")+".Consumer";case I:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case M:return d=l.displayName||null,d!==null?d:Z(l.type)||"Memo";case z:d=l._payload,l=l._init;try{return Z(l(d))}catch{}}return null}var ce=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},re=[],xe=-1;function W(l){return{current:l}}function J(l){0>xe||(l.current=re[xe],re[xe]=null,xe--)}function le(l,d){xe++,re[xe]=l.current,l.current=d}var ge=W(null),we=W(null),Te=W(null),Ae=W(null);function mt(l,d){switch(le(Te,d),le(we,l),le(ge,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?jj(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=jj(d),l=Fj(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}J(ge),le(ge,l)}function de(){J(ge),J(we),J(Te)}function Ne(l){l.memoizedState!==null&&le(Ae,l);var d=ge.current,p=Fj(d,l.type);d!==p&&(le(we,l),le(ge,p))}function Ke(l){we.current===l&&(J(ge),J(we)),Ae.current===l&&(J(Ae),fv._currentValue=ee)}var pe,Ve;function je(l){if(pe===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);pe=d&&d[1]||"",Ve=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+l+Ve}var dt=!1;function Ze(l,d){if(!l||dt)return"";dt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ue){var se=ue}Reflect.construct(l,[],ye)}else{try{ye.call()}catch(ue){se=ue}l.call(ye.prototype)}}else{try{throw Error()}catch(ue){se=ue}(ye=l())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ue){if(ue&&se&&typeof ue.stack=="string")return[ue.stack,se.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=y.DetermineComponentFrameRoot(),O=N[0],H=N[1];if(O&&H){var Y=O.split(`
`),ae=H.split(`
`);for(_=y=0;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;for(;_<ae.length&&!ae[_].includes("DetermineComponentFrameRoot");)_++;if(y===Y.length||_===ae.length)for(y=Y.length-1,_=ae.length-1;1<=y&&0<=_&&Y[y]!==ae[_];)_--;for(;1<=y&&0<=_;y--,_--)if(Y[y]!==ae[_]){if(y!==1||_!==1)do if(y--,_--,0>_||Y[y]!==ae[_]){var he=`
`+Y[y].replace(" at new "," at ");return l.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",l.displayName)),he}while(1<=y&&0<=_);break}}}finally{dt=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?je(p):""}function yr(l,d){switch(l.tag){case 26:case 27:case 5:return je(l.type);case 16:return je("Lazy");case 13:return l.child!==d&&d!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Ze(l.type,!1);case 11:return Ze(l.type.render,!1);case 1:return Ze(l.type,!0);case 31:return je("Activity");default:return""}}function la(l){try{var d="",p=null;do d+=yr(l,p),p=l,l=l.return;while(l);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var fo=Object.prototype.hasOwnProperty,jd=t.unstable_scheduleCallback,ho=t.unstable_cancelCallback,_y=t.unstable_shouldYield,Cy=t.unstable_requestPaint,wn=t.unstable_now,il=t.unstable_getCurrentPriorityLevel,Fd=t.unstable_ImmediatePriority,xi=t.unstable_UserBlockingPriority,Fn=t.unstable_NormalPriority,Wn=t.unstable_LowPriority,al=t.unstable_IdlePriority,M_=t.log,Ty=t.unstable_setDisableYieldValue,Ud=null,Sn=null;function Ds(l){if(typeof M_=="function"&&Ty(l),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(Ud,l)}catch{}}var ti=Math.clz32?Math.clz32:iw,rw=Math.log,P_=Math.LN2;function iw(l){return l>>>=0,l===0?32:31-(rw(l)/P_|0)|0}var sl=256,Bd=262144,Yu=4194304;function ol(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function zd(l,d,p){var y=l.pendingLanes;if(y===0)return 0;var _=0,N=l.suspendedLanes,O=l.pingedLanes;l=l.warmLanes;var H=y&134217727;return H!==0?(y=H&~N,y!==0?_=ol(y):(O&=H,O!==0?_=ol(O):p||(p=H&~l,p!==0&&(_=ol(p))))):(H=y&~N,H!==0?_=ol(H):O!==0?_=ol(O):p||(p=y&~l,p!==0&&(_=ol(p)))),_===0?0:d!==0&&d!==_&&(d&N)===0&&(N=_&-_,p=d&-d,N>=p||N===32&&(p&4194048)!==0)?d:_}function Hd(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function aw(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gd(){var l=Yu;return Yu<<=1,(Yu&62914560)===0&&(Yu=4194304),l}function Ku(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function Xu(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function k_(l,d,p,y,_,N){var O=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var H=l.entanglements,Y=l.expirationTimes,ae=l.hiddenUpdates;for(p=O&~p;0<p;){var he=31-ti(p),ye=1<<he;H[he]=0,Y[he]=-1;var se=ae[he];if(se!==null)for(ae[he]=null,he=0;he<se.length;he++){var ue=se[he];ue!==null&&(ue.lane&=-536870913)}p&=~ye}y!==0&&sw(l,y,0),N!==0&&_===0&&l.tag!==0&&(l.suspendedLanes|=N&~(O&~d))}function sw(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var y=31-ti(d);l.entangledLanes|=d,l.entanglements[y]=l.entanglements[y]|1073741824|p&261930}function K(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var y=31-ti(p),_=1<<y;_&d|l[y]&d&&(l[y]|=d),p&=~_}}function te(l,d){var p=d&-d;return p=(p&42)!==0?1:oe(p),(p&(l.suspendedLanes|d))!==0?0:p}function oe(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ve(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Se(){var l=$.p;return l!==0?l:(l=window.event,l===void 0?32:oF(l.type))}function He(l,d){var p=$.p;try{return $.p=l,d()}finally{$.p=p}}var Ie=Math.random().toString(36).slice(2),_e="__reactFiber$"+Ie,Re="__reactProps$"+Ie,Be="__reactContainer$"+Ie,Xe="__reactEvents$"+Ie,qe="__reactListeners$"+Ie,et="__reactHandles$"+Ie,Pt="__reactResources$"+Ie,un="__reactMarker$"+Ie;function Nn(l){delete l[_e],delete l[Re],delete l[Xe],delete l[qe],delete l[et]}function At(l){var d=l[_e];if(d)return d;for(var p=l.parentNode;p;){if(d=p[Be]||p[_e]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=$j(l);l!==null;){if(p=l[_e])return p;l=$j(l)}return d}l=p,p=l.parentNode}return null}function _t(l){if(l=l[_e]||l[Be]){var d=l.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return l}return null}function ua(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Ka(l){var d=l[Pt];return d||(d=l[Pt]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Jt(l){l[un]=!0}var ca=new Set,rp={};function da(l,d){ji(l,d),ji(l+"Capture",d)}function ji(l,d){for(rp[l]=d,l=0;l<d.length;l++)ca.add(d[l])}var ip=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},gt={};function vr(l){return fo.call(gt,l)?!0:fo.call(qd,l)?!1:ip.test(l)?gt[l]=!0:(qd[l]=!0,!1)}function Is(l,d,p){if(vr(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function Xa(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function Ct(l,d,p,y){if(y===null)l.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+y)}}function Ir(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ny(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function D_(l,d,p){var y=Object.getOwnPropertyDescriptor(l.constructor.prototype,d);if(!l.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var _=y.get,N=y.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return _.call(this)},set:function(O){p=""+O,N.call(this,O)}}),Object.defineProperty(l,d,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function I_(l){if(!l._valueTracker){var d=Ny(l)?"checked":"value";l._valueTracker=D_(l,d,""+l[d])}}function MI(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),y="";return l&&(y=Ny(l)?l.checked?"true":"false":l.value),l=y,l!==p?(d.setValue(l),!0):!1}function ow(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var KY=/[\n"\\]/g;function Ja(l){return l.replace(KY,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function L_(l,d,p,y,_,N,O,H){l.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?l.type=O:l.removeAttribute("type"),d!=null?O==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+Ir(d)):l.value!==""+Ir(d)&&(l.value=""+Ir(d)):O!=="submit"&&O!=="reset"||l.removeAttribute("value"),d!=null?O_(l,O,Ir(d)):p!=null?O_(l,O,Ir(p)):y!=null&&l.removeAttribute("value"),_==null&&N!=null&&(l.defaultChecked=!!N),_!=null&&(l.checked=_&&typeof _!="function"&&typeof _!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?l.name=""+Ir(H):l.removeAttribute("name")}function PI(l,d,p,y,_,N,O,H){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),d!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||d!=null)){I_(l);return}p=p!=null?""+Ir(p):"",d=d!=null?""+Ir(d):p,H||d===l.value||(l.value=d),l.defaultValue=d}y=y??_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=H?l.checked:!!y,l.defaultChecked=!!y,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.name=O),I_(l)}function O_(l,d,p){d==="number"&&ow(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function ap(l,d,p,y){if(l=l.options,d){d={};for(var _=0;_<p.length;_++)d["$"+p[_]]=!0;for(p=0;p<l.length;p++)_=d.hasOwnProperty("$"+l[p].value),l[p].selected!==_&&(l[p].selected=_),_&&y&&(l[p].defaultSelected=!0)}else{for(p=""+Ir(p),d=null,_=0;_<l.length;_++){if(l[_].value===p){l[_].selected=!0,y&&(l[_].defaultSelected=!0);return}d!==null||l[_].disabled||(d=l[_])}d!==null&&(d.selected=!0)}}function kI(l,d,p){if(d!=null&&(d=""+Ir(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+Ir(p):""}function DI(l,d,p,y){if(d==null){if(y!=null){if(p!=null)throw Error(r(92));if(ce(y)){if(1<y.length)throw Error(r(93));y=y[0]}p=y}p==null&&(p=""),d=p}p=Ir(d),l.defaultValue=p,y=l.textContent,y===p&&y!==""&&y!==null&&(l.value=y),I_(l)}function sp(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var XY=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function II(l,d,p){var y=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":y?l.setProperty(d,p):typeof p!="number"||p===0||XY.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function LI(l,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var _ in d)y=d[_],d.hasOwnProperty(_)&&p[_]!==y&&II(l,_,y)}else for(var N in d)d.hasOwnProperty(N)&&II(l,N,d[N])}function j_(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),QY=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lw(l){return QY.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function ll(){}var F_=null;function U_(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var op=null,lp=null;function OI(l){var d=_t(l);if(d&&(l=d.stateNode)){var p=l[Re]||null;e:switch(l=d.stateNode,d.type){case"input":if(L_(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Ja(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var y=p[d];if(y!==l&&y.form===l.form){var _=y[Re]||null;if(!_)throw Error(r(90));L_(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(d=0;d<p.length;d++)y=p[d],y.form===l.form&&MI(y)}break e;case"textarea":kI(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&ap(l,!!p.multiple,d,!1)}}}var B_=!1;function jI(l,d,p){if(B_)return l(d,p);B_=!0;try{var y=l(d);return y}finally{if(B_=!1,(op!==null||lp!==null)&&(Kw(),op&&(d=op,l=lp,lp=op=null,OI(d),l)))for(d=0;d<l.length;d++)OI(l[d])}}function Ry(l,d){var p=l.stateNode;if(p===null)return null;var y=p[Re]||null;if(y===null)return null;p=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z_=!1;if(ul)try{var My={};Object.defineProperty(My,"passive",{get:function(){z_=!0}}),window.addEventListener("test",My,My),window.removeEventListener("test",My,My)}catch{z_=!1}var Ju=null,H_=null,uw=null;function FI(){if(uw)return uw;var l,d=H_,p=d.length,y,_="value"in Ju?Ju.value:Ju.textContent,N=_.length;for(l=0;l<p&&d[l]===_[l];l++);var O=p-l;for(y=1;y<=O&&d[p-y]===_[N-y];y++);return uw=_.slice(l,1<y?1-y:void 0)}function cw(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function dw(){return!0}function UI(){return!1}function Fi(l){function d(p,y,_,N,O){this._reactName=p,this._targetInst=_,this.type=y,this.nativeEvent=N,this.target=O,this.currentTarget=null;for(var H in l)l.hasOwnProperty(H)&&(p=l[H],this[H]=p?p(N):N[H]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?dw:UI,this.isPropagationStopped=UI,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=dw)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=dw)},persist:function(){},isPersistent:dw}),d}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fw=Fi($d),Py=h({},$d,{view:0,detail:0}),ZY=Fi(Py),G_,q_,ky,hw=h({},Py,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V_,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ky&&(ky&&l.type==="mousemove"?(G_=l.screenX-ky.screenX,q_=l.screenY-ky.screenY):q_=G_=0,ky=l),G_)},movementY:function(l){return"movementY"in l?l.movementY:q_}}),BI=Fi(hw),eK=h({},hw,{dataTransfer:0}),tK=Fi(eK),nK=h({},Py,{relatedTarget:0}),$_=Fi(nK),rK=h({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),iK=Fi(rK),aK=h({},$d,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),sK=Fi(aK),oK=h({},$d,{data:0}),zI=Fi(oK),lK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dK(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=cK[l])?!!d[l]:!1}function V_(){return dK}var fK=h({},Py,{key:function(l){if(l.key){var d=lK[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=cw(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?uK[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V_,charCode:function(l){return l.type==="keypress"?cw(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?cw(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),hK=Fi(fK),pK=h({},hw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HI=Fi(pK),mK=h({},Py,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V_}),gK=Fi(mK),yK=h({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),vK=Fi(yK),bK=h({},hw,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),xK=Fi(bK),wK=h({},$d,{newState:0,oldState:0}),SK=Fi(wK),EK=[9,13,27,32],W_=ul&&"CompositionEvent"in window,Dy=null;ul&&"documentMode"in document&&(Dy=document.documentMode);var AK=ul&&"TextEvent"in window&&!Dy,GI=ul&&(!W_||Dy&&8<Dy&&11>=Dy),qI=" ",$I=!1;function VI(l,d){switch(l){case"keyup":return EK.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WI(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var up=!1;function _K(l,d){switch(l){case"compositionend":return WI(d);case"keypress":return d.which!==32?null:($I=!0,qI);case"textInput":return l=d.data,l===qI&&$I?null:l;default:return null}}function CK(l,d){if(up)return l==="compositionend"||!W_&&VI(l,d)?(l=FI(),uw=H_=Ju=null,up=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return GI&&d.locale!=="ko"?null:d.data;default:return null}}var TK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YI(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!TK[l.type]:d==="textarea"}function KI(l,d,p,y){op?lp?lp.push(y):lp=[y]:op=y,d=nS(d,"onChange"),0<d.length&&(p=new fw("onChange","change",null,p,y),l.push({event:p,listeners:d}))}var Iy=null,Ly=null;function NK(l){Pj(l,0)}function pw(l){var d=ua(l);if(MI(d))return l}function XI(l,d){if(l==="change")return d}var JI=!1;if(ul){var Y_;if(ul){var K_="oninput"in document;if(!K_){var QI=document.createElement("div");QI.setAttribute("oninput","return;"),K_=typeof QI.oninput=="function"}Y_=K_}else Y_=!1;JI=Y_&&(!document.documentMode||9<document.documentMode)}function ZI(){Iy&&(Iy.detachEvent("onpropertychange",eL),Ly=Iy=null)}function eL(l){if(l.propertyName==="value"&&pw(Ly)){var d=[];KI(d,Ly,l,U_(l)),jI(NK,d)}}function RK(l,d,p){l==="focusin"?(ZI(),Iy=d,Ly=p,Iy.attachEvent("onpropertychange",eL)):l==="focusout"&&ZI()}function MK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return pw(Ly)}function PK(l,d){if(l==="click")return pw(d)}function kK(l,d){if(l==="input"||l==="change")return pw(d)}function DK(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var fa=typeof Object.is=="function"?Object.is:DK;function Oy(l,d){if(fa(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),y=Object.keys(d);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var _=p[y];if(!fo.call(d,_)||!fa(l[_],d[_]))return!1}return!0}function tL(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function nL(l,d){var p=tL(l);l=0;for(var y;p;){if(p.nodeType===3){if(y=l+p.textContent.length,l<=d&&y>=d)return{node:p,offset:d-l};l=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=tL(p)}}function rL(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?rL(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function iL(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=ow(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=ow(l.document)}return d}function X_(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var IK=ul&&"documentMode"in document&&11>=document.documentMode,cp=null,J_=null,jy=null,Q_=!1;function aL(l,d,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Q_||cp==null||cp!==ow(y)||(y=cp,"selectionStart"in y&&X_(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),jy&&Oy(jy,y)||(jy=y,y=nS(J_,"onSelect"),0<y.length&&(d=new fw("onSelect","select",null,d,p),l.push({event:d,listeners:y}),d.target=cp)))}function Vd(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var dp={animationend:Vd("Animation","AnimationEnd"),animationiteration:Vd("Animation","AnimationIteration"),animationstart:Vd("Animation","AnimationStart"),transitionrun:Vd("Transition","TransitionRun"),transitionstart:Vd("Transition","TransitionStart"),transitioncancel:Vd("Transition","TransitionCancel"),transitionend:Vd("Transition","TransitionEnd")},Z_={},sL={};ul&&(sL=document.createElement("div").style,"AnimationEvent"in window||(delete dp.animationend.animation,delete dp.animationiteration.animation,delete dp.animationstart.animation),"TransitionEvent"in window||delete dp.transitionend.transition);function Wd(l){if(Z_[l])return Z_[l];if(!dp[l])return l;var d=dp[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in sL)return Z_[l]=d[p];return l}var oL=Wd("animationend"),lL=Wd("animationiteration"),uL=Wd("animationstart"),LK=Wd("transitionrun"),OK=Wd("transitionstart"),jK=Wd("transitioncancel"),cL=Wd("transitionend"),dL=new Map,eC="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");eC.push("scrollEnd");function Ls(l,d){dL.set(l,d),da(d,[l])}var mw=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Qa=[],fp=0,tC=0;function gw(){for(var l=fp,d=tC=fp=0;d<l;){var p=Qa[d];Qa[d++]=null;var y=Qa[d];Qa[d++]=null;var _=Qa[d];Qa[d++]=null;var N=Qa[d];if(Qa[d++]=null,y!==null&&_!==null){var O=y.pending;O===null?_.next=_:(_.next=O.next,O.next=_),y.pending=_}N!==0&&fL(p,_,N)}}function yw(l,d,p,y){Qa[fp++]=l,Qa[fp++]=d,Qa[fp++]=p,Qa[fp++]=y,tC|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function nC(l,d,p,y){return yw(l,d,p,y),vw(l)}function Yd(l,d){return yw(l,null,null,d),vw(l)}function fL(l,d,p){l.lanes|=p;var y=l.alternate;y!==null&&(y.lanes|=p);for(var _=!1,N=l.return;N!==null;)N.childLanes|=p,y=N.alternate,y!==null&&(y.childLanes|=p),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(_=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,_&&d!==null&&(_=31-ti(p),l=N.hiddenUpdates,y=l[_],y===null?l[_]=[d]:y.push(d),d.lane=p|536870912),N):null}function vw(l){if(50<av)throw av=0,dT=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var hp={};function FK(l,d,p,y){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(l,d,p,y){return new FK(l,d,p,y)}function rC(l){return l=l.prototype,!(!l||!l.isReactComponent)}function cl(l,d){var p=l.alternate;return p===null?(p=ha(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function hL(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function bw(l,d,p,y,_,N){var O=0;if(y=l,typeof l=="function")rC(l)&&(O=1);else if(typeof l=="string")O=GX(l,p,ge.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case B:return l=ha(31,p,d,_),l.elementType=B,l.lanes=N,l;case E:return Kd(p.children,_,N,d);case A:O=8,_|=24;break;case C:return l=ha(12,p,d,_|2),l.elementType=C,l.lanes=N,l;case k:return l=ha(13,p,d,_),l.elementType=k,l.lanes=N,l;case L:return l=ha(19,p,d,_),l.elementType=L,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:O=10;break e;case P:O=9;break e;case I:O=11;break e;case M:O=14;break e;case z:O=16,y=null;break e}O=29,p=Error(r(130,l===null?"null":typeof l,"")),y=null}return d=ha(O,p,d,_),d.elementType=l,d.type=y,d.lanes=N,d}function Kd(l,d,p,y){return l=ha(7,l,y,d),l.lanes=p,l}function iC(l,d,p){return l=ha(6,l,null,d),l.lanes=p,l}function pL(l){var d=ha(18,null,null,0);return d.stateNode=l,d}function aC(l,d,p){return d=ha(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var mL=new WeakMap;function Za(l,d){if(typeof l=="object"&&l!==null){var p=mL.get(l);return p!==void 0?p:(d={value:l,source:d,stack:la(d)},mL.set(l,d),d)}return{value:l,source:d,stack:la(d)}}var pp=[],mp=0,xw=null,Fy=0,es=[],ts=0,Qu=null,po=1,mo="";function dl(l,d){pp[mp++]=Fy,pp[mp++]=xw,xw=l,Fy=d}function gL(l,d,p){es[ts++]=po,es[ts++]=mo,es[ts++]=Qu,Qu=l;var y=po;l=mo;var _=32-ti(y)-1;y&=~(1<<_),p+=1;var N=32-ti(d)+_;if(30<N){var O=_-_%5;N=(y&(1<<O)-1).toString(32),y>>=O,_-=O,po=1<<32-ti(d)+_|p<<_|y,mo=N+l}else po=1<<N|p<<_|y,mo=l}function sC(l){l.return!==null&&(dl(l,1),gL(l,1,0))}function oC(l){for(;l===xw;)xw=pp[--mp],pp[mp]=null,Fy=pp[--mp],pp[mp]=null;for(;l===Qu;)Qu=es[--ts],es[ts]=null,mo=es[--ts],es[ts]=null,po=es[--ts],es[ts]=null}function yL(l,d){es[ts++]=po,es[ts++]=mo,es[ts++]=Qu,po=d.id,mo=d.overflow,Qu=l}var Lr=null,cn=null,xt=!1,Zu=null,ns=!1,lC=Error(r(519));function ec(l){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uy(Za(d,l)),lC}function vL(l){var d=l.stateNode,p=l.type,y=l.memoizedProps;switch(d[_e]=l,d[Re]=y,p){case"dialog":pt("cancel",d),pt("close",d);break;case"iframe":case"object":case"embed":pt("load",d);break;case"video":case"audio":for(p=0;p<ov.length;p++)pt(ov[p],d);break;case"source":pt("error",d);break;case"img":case"image":case"link":pt("error",d),pt("load",d);break;case"details":pt("toggle",d);break;case"input":pt("invalid",d),PI(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":pt("invalid",d);break;case"textarea":pt("invalid",d),DI(d,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||y.suppressHydrationWarning===!0||Lj(d.textContent,p)?(y.popover!=null&&(pt("beforetoggle",d),pt("toggle",d)),y.onScroll!=null&&pt("scroll",d),y.onScrollEnd!=null&&pt("scrollend",d),y.onClick!=null&&(d.onclick=ll),d=!0):d=!1,d||ec(l,!0)}function bL(l){for(Lr=l.return;Lr;)switch(Lr.tag){case 5:case 31:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:Lr=Lr.return}}function gp(l){if(l!==Lr)return!1;if(!xt)return bL(l),xt=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||CT(l.type,l.memoizedProps)),p=!p),p&&cn&&ec(l),bL(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));cn=qj(l)}else if(d===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));cn=qj(l)}else d===27?(d=cn,pc(l.type)?(l=PT,PT=null,cn=l):cn=d):cn=Lr?is(l.stateNode.nextSibling):null;return!0}function Xd(){cn=Lr=null,xt=!1}function uC(){var l=Zu;return l!==null&&(Hi===null?Hi=l:Hi.push.apply(Hi,l),Zu=null),l}function Uy(l){Zu===null?Zu=[l]:Zu.push(l)}var cC=W(null),Jd=null,fl=null;function tc(l,d,p){le(cC,d._currentValue),d._currentValue=p}function hl(l){l._currentValue=cC.current,J(cC)}function dC(l,d,p){for(;l!==null;){var y=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),l===p)break;l=l.return}}function fC(l,d,p,y){var _=l.child;for(_!==null&&(_.return=l);_!==null;){var N=_.dependencies;if(N!==null){var O=_.child;N=N.firstContext;e:for(;N!==null;){var H=N;N=_;for(var Y=0;Y<d.length;Y++)if(H.context===d[Y]){N.lanes|=p,H=N.alternate,H!==null&&(H.lanes|=p),dC(N.return,p,l),y||(O=null);break e}N=H.next}}else if(_.tag===18){if(O=_.return,O===null)throw Error(r(341));O.lanes|=p,N=O.alternate,N!==null&&(N.lanes|=p),dC(O,p,l),O=null}else O=_.child;if(O!==null)O.return=_;else for(O=_;O!==null;){if(O===l){O=null;break}if(_=O.sibling,_!==null){_.return=O.return,O=_;break}O=O.return}_=O}}function yp(l,d,p,y){l=null;for(var _=d,N=!1;_!==null;){if(!N){if((_.flags&524288)!==0)N=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var O=_.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var H=_.type;fa(_.pendingProps.value,O.value)||(l!==null?l.push(H):l=[H])}}else if(_===Ae.current){if(O=_.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(l!==null?l.push(fv):l=[fv])}_=_.return}l!==null&&fC(d,l,p,y),d.flags|=262144}function ww(l){for(l=l.firstContext;l!==null;){if(!fa(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Qd(l){Jd=l,fl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Or(l){return xL(Jd,l)}function Sw(l,d){return Jd===null&&Qd(l),xL(l,d)}function xL(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},fl===null){if(l===null)throw Error(r(308));fl=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else fl=fl.next=d;return p}var UK=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,y){l.push(y)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},BK=t.unstable_scheduleCallback,zK=t.unstable_NormalPriority,Yn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hC(){return{controller:new UK,data:new Map,refCount:0}}function By(l){l.refCount--,l.refCount===0&&BK(zK,function(){l.controller.abort()})}var zy=null,pC=0,vp=0,bp=null;function HK(l,d){if(zy===null){var p=zy=[];pC=0,vp=yT(),bp={status:"pending",value:void 0,then:function(y){p.push(y)}}}return pC++,d.then(wL,wL),d}function wL(){if(--pC===0&&zy!==null){bp!==null&&(bp.status="fulfilled");var l=zy;zy=null,vp=0,bp=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function GK(l,d){var p=[],y={status:"pending",value:null,reason:null,then:function(_){p.push(_)}};return l.then(function(){y.status="fulfilled",y.value=d;for(var _=0;_<p.length;_++)(0,p[_])(d)},function(_){for(y.status="rejected",y.reason=_,_=0;_<p.length;_++)(0,p[_])(void 0)}),y}var SL=G.S;G.S=function(l,d){aj=wn(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&HK(l,d),SL!==null&&SL(l,d)};var Zd=W(null);function mC(){var l=Zd.current;return l!==null?l:Qt.pooledCache}function Ew(l,d){d===null?le(Zd,Zd.current):le(Zd,d.pool)}function EL(){var l=mC();return l===null?null:{parent:Yn._currentValue,pool:l}}var xp=Error(r(460)),gC=Error(r(474)),Aw=Error(r(542)),_w={then:function(){}};function AL(l){return l=l.status,l==="fulfilled"||l==="rejected"}function _L(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(ll,ll),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,TL(l),l;default:if(typeof d.status=="string")d.then(ll,ll);else{if(l=Qt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(y){if(d.status==="pending"){var _=d;_.status="fulfilled",_.value=y}},function(y){if(d.status==="pending"){var _=d;_.status="rejected",_.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,TL(l),l}throw tf=d,xp}}function ef(l){try{var d=l._init;return d(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(tf=p,xp):p}}var tf=null;function CL(){if(tf===null)throw Error(r(459));var l=tf;return tf=null,l}function TL(l){if(l===xp||l===Aw)throw Error(r(483))}var wp=null,Hy=0;function Cw(l){var d=Hy;return Hy+=1,wp===null&&(wp=[]),_L(wp,l,d)}function Gy(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Tw(l,d){throw d.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function NL(l){function d(ne,X){if(l){var ie=ne.deletions;ie===null?(ne.deletions=[X],ne.flags|=16):ie.push(X)}}function p(ne,X){if(!l)return null;for(;X!==null;)d(ne,X),X=X.sibling;return null}function y(ne){for(var X=new Map;ne!==null;)ne.key!==null?X.set(ne.key,ne):X.set(ne.index,ne),ne=ne.sibling;return X}function _(ne,X){return ne=cl(ne,X),ne.index=0,ne.sibling=null,ne}function N(ne,X,ie){return ne.index=ie,l?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<X?(ne.flags|=67108866,X):ie):(ne.flags|=67108866,X)):(ne.flags|=1048576,X)}function O(ne){return l&&ne.alternate===null&&(ne.flags|=67108866),ne}function H(ne,X,ie,me){return X===null||X.tag!==6?(X=iC(ie,ne.mode,me),X.return=ne,X):(X=_(X,ie),X.return=ne,X)}function Y(ne,X,ie,me){var We=ie.type;return We===E?he(ne,X,ie.props.children,me,ie.key):X!==null&&(X.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===z&&ef(We)===X.type)?(X=_(X,ie.props),Gy(X,ie),X.return=ne,X):(X=bw(ie.type,ie.key,ie.props,null,ne.mode,me),Gy(X,ie),X.return=ne,X)}function ae(ne,X,ie,me){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=aC(ie,ne.mode,me),X.return=ne,X):(X=_(X,ie.children||[]),X.return=ne,X)}function he(ne,X,ie,me,We){return X===null||X.tag!==7?(X=Kd(ie,ne.mode,me,We),X.return=ne,X):(X=_(X,ie),X.return=ne,X)}function ye(ne,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=iC(""+X,ne.mode,ie),X.return=ne,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return ie=bw(X.type,X.key,X.props,null,ne.mode,ie),Gy(ie,X),ie.return=ne,ie;case w:return X=aC(X,ne.mode,ie),X.return=ne,X;case z:return X=ef(X),ye(ne,X,ie)}if(ce(X)||q(X))return X=Kd(X,ne.mode,ie,null),X.return=ne,X;if(typeof X.then=="function")return ye(ne,Cw(X),ie);if(X.$$typeof===R)return ye(ne,Sw(ne,X),ie);Tw(ne,X)}return null}function se(ne,X,ie,me){var We=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return We!==null?null:H(ne,X,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return ie.key===We?Y(ne,X,ie,me):null;case w:return ie.key===We?ae(ne,X,ie,me):null;case z:return ie=ef(ie),se(ne,X,ie,me)}if(ce(ie)||q(ie))return We!==null?null:he(ne,X,ie,me,null);if(typeof ie.then=="function")return se(ne,X,Cw(ie),me);if(ie.$$typeof===R)return se(ne,X,Sw(ne,ie),me);Tw(ne,ie)}return null}function ue(ne,X,ie,me,We){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ne=ne.get(ie)||null,H(X,ne,""+me,We);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case v:return ne=ne.get(me.key===null?ie:me.key)||null,Y(X,ne,me,We);case w:return ne=ne.get(me.key===null?ie:me.key)||null,ae(X,ne,me,We);case z:return me=ef(me),ue(ne,X,ie,me,We)}if(ce(me)||q(me))return ne=ne.get(ie)||null,he(X,ne,me,We,null);if(typeof me.then=="function")return ue(ne,X,ie,Cw(me),We);if(me.$$typeof===R)return ue(ne,X,ie,Sw(X,me),We);Tw(X,me)}return null}function Le(ne,X,ie,me){for(var We=null,Tt=null,Fe=X,ot=X=0,vt=null;Fe!==null&&ot<ie.length;ot++){Fe.index>ot?(vt=Fe,Fe=null):vt=Fe.sibling;var Nt=se(ne,Fe,ie[ot],me);if(Nt===null){Fe===null&&(Fe=vt);break}l&&Fe&&Nt.alternate===null&&d(ne,Fe),X=N(Nt,X,ot),Tt===null?We=Nt:Tt.sibling=Nt,Tt=Nt,Fe=vt}if(ot===ie.length)return p(ne,Fe),xt&&dl(ne,ot),We;if(Fe===null){for(;ot<ie.length;ot++)Fe=ye(ne,ie[ot],me),Fe!==null&&(X=N(Fe,X,ot),Tt===null?We=Fe:Tt.sibling=Fe,Tt=Fe);return xt&&dl(ne,ot),We}for(Fe=y(Fe);ot<ie.length;ot++)vt=ue(Fe,ne,ot,ie[ot],me),vt!==null&&(l&&vt.alternate!==null&&Fe.delete(vt.key===null?ot:vt.key),X=N(vt,X,ot),Tt===null?We=vt:Tt.sibling=vt,Tt=vt);return l&&Fe.forEach(function(bc){return d(ne,bc)}),xt&&dl(ne,ot),We}function Je(ne,X,ie,me){if(ie==null)throw Error(r(151));for(var We=null,Tt=null,Fe=X,ot=X=0,vt=null,Nt=ie.next();Fe!==null&&!Nt.done;ot++,Nt=ie.next()){Fe.index>ot?(vt=Fe,Fe=null):vt=Fe.sibling;var bc=se(ne,Fe,Nt.value,me);if(bc===null){Fe===null&&(Fe=vt);break}l&&Fe&&bc.alternate===null&&d(ne,Fe),X=N(bc,X,ot),Tt===null?We=bc:Tt.sibling=bc,Tt=bc,Fe=vt}if(Nt.done)return p(ne,Fe),xt&&dl(ne,ot),We;if(Fe===null){for(;!Nt.done;ot++,Nt=ie.next())Nt=ye(ne,Nt.value,me),Nt!==null&&(X=N(Nt,X,ot),Tt===null?We=Nt:Tt.sibling=Nt,Tt=Nt);return xt&&dl(ne,ot),We}for(Fe=y(Fe);!Nt.done;ot++,Nt=ie.next())Nt=ue(Fe,ne,ot,Nt.value,me),Nt!==null&&(l&&Nt.alternate!==null&&Fe.delete(Nt.key===null?ot:Nt.key),X=N(Nt,X,ot),Tt===null?We=Nt:Tt.sibling=Nt,Tt=Nt);return l&&Fe.forEach(function(eJ){return d(ne,eJ)}),xt&&dl(ne,ot),We}function qt(ne,X,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===E&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:e:{for(var We=ie.key;X!==null;){if(X.key===We){if(We=ie.type,We===E){if(X.tag===7){p(ne,X.sibling),me=_(X,ie.props.children),me.return=ne,ne=me;break e}}else if(X.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===z&&ef(We)===X.type){p(ne,X.sibling),me=_(X,ie.props),Gy(me,ie),me.return=ne,ne=me;break e}p(ne,X);break}else d(ne,X);X=X.sibling}ie.type===E?(me=Kd(ie.props.children,ne.mode,me,ie.key),me.return=ne,ne=me):(me=bw(ie.type,ie.key,ie.props,null,ne.mode,me),Gy(me,ie),me.return=ne,ne=me)}return O(ne);case w:e:{for(We=ie.key;X!==null;){if(X.key===We)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){p(ne,X.sibling),me=_(X,ie.children||[]),me.return=ne,ne=me;break e}else{p(ne,X);break}else d(ne,X);X=X.sibling}me=aC(ie,ne.mode,me),me.return=ne,ne=me}return O(ne);case z:return ie=ef(ie),qt(ne,X,ie,me)}if(ce(ie))return Le(ne,X,ie,me);if(q(ie)){if(We=q(ie),typeof We!="function")throw Error(r(150));return ie=We.call(ie),Je(ne,X,ie,me)}if(typeof ie.then=="function")return qt(ne,X,Cw(ie),me);if(ie.$$typeof===R)return qt(ne,X,Sw(ne,ie),me);Tw(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,X!==null&&X.tag===6?(p(ne,X.sibling),me=_(X,ie),me.return=ne,ne=me):(p(ne,X),me=iC(ie,ne.mode,me),me.return=ne,ne=me),O(ne)):p(ne,X)}return function(ne,X,ie,me){try{Hy=0;var We=qt(ne,X,ie,me);return wp=null,We}catch(Fe){if(Fe===xp||Fe===Aw)throw Fe;var Tt=ha(29,Fe,null,ne.mode);return Tt.lanes=me,Tt.return=ne,Tt}finally{}}}var nf=NL(!0),RL=NL(!1),nc=!1;function yC(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vC(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function rc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function ic(l,d,p){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(kt&2)!==0){var _=y.pending;return _===null?d.next=d:(d.next=_.next,_.next=d),y.pending=d,d=vw(l),fL(l,null,p),d}return yw(l,y,d,p),vw(l)}function qy(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var y=d.lanes;y&=l.pendingLanes,p|=y,d.lanes=p,K(l,p)}}function bC(l,d){var p=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var _=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var O={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?_=N=O:N=N.next=O,p=p.next}while(p!==null);N===null?_=N=d:N=N.next=d}else _=N=d;p={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:y.shared,callbacks:y.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var xC=!1;function $y(){if(xC){var l=bp;if(l!==null)throw l}}function Vy(l,d,p,y){xC=!1;var _=l.updateQueue;nc=!1;var N=_.firstBaseUpdate,O=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var Y=H,ae=Y.next;Y.next=null,O===null?N=ae:O.next=ae,O=Y;var he=l.alternate;he!==null&&(he=he.updateQueue,H=he.lastBaseUpdate,H!==O&&(H===null?he.firstBaseUpdate=ae:H.next=ae,he.lastBaseUpdate=Y))}if(N!==null){var ye=_.baseState;O=0,he=ae=Y=null,H=N;do{var se=H.lane&-536870913,ue=se!==H.lane;if(ue?(yt&se)===se:(y&se)===se){se!==0&&se===vp&&(xC=!0),he!==null&&(he=he.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var Le=l,Je=H;se=d;var qt=p;switch(Je.tag){case 1:if(Le=Je.payload,typeof Le=="function"){ye=Le.call(qt,ye,se);break e}ye=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Je.payload,se=typeof Le=="function"?Le.call(qt,ye,se):Le,se==null)break e;ye=h({},ye,se);break e;case 2:nc=!0}}se=H.callback,se!==null&&(l.flags|=64,ue&&(l.flags|=8192),ue=_.callbacks,ue===null?_.callbacks=[se]:ue.push(se))}else ue={lane:se,tag:H.tag,payload:H.payload,callback:H.callback,next:null},he===null?(ae=he=ue,Y=ye):he=he.next=ue,O|=se;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;ue=H,H=ue.next,ue.next=null,_.lastBaseUpdate=ue,_.shared.pending=null}}while(!0);he===null&&(Y=ye),_.baseState=Y,_.firstBaseUpdate=ae,_.lastBaseUpdate=he,N===null&&(_.shared.lanes=0),uc|=O,l.lanes=O,l.memoizedState=ye}}function ML(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function PL(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)ML(p[l],d)}var Sp=W(null),Nw=W(0);function kL(l,d){l=Sl,le(Nw,l),le(Sp,d),Sl=l|d.baseLanes}function wC(){le(Nw,Sl),le(Sp,Sp.current)}function SC(){Sl=Nw.current,J(Sp),J(Nw)}var pa=W(null),rs=null;function ac(l){var d=l.alternate;le(Un,Un.current&1),le(pa,l),rs===null&&(d===null||Sp.current!==null||d.memoizedState!==null)&&(rs=l)}function EC(l){le(Un,Un.current),le(pa,l),rs===null&&(rs=l)}function DL(l){l.tag===22?(le(Un,Un.current),le(pa,l),rs===null&&(rs=l)):sc()}function sc(){le(Un,Un.current),le(pa,pa.current)}function ma(l){J(pa),rs===l&&(rs=null),J(Un)}var Un=W(0);function Rw(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||RT(p)||MT(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var pl=0,at=null,Ht=null,Kn=null,Mw=!1,Ep=!1,rf=!1,Pw=0,Wy=0,Ap=null,qK=0;function Rn(){throw Error(r(321))}function AC(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!fa(l[p],d[p]))return!1;return!0}function _C(l,d,p,y,_,N){return pl=N,at=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,G.H=l===null||l.memoizedState===null?gO:BC,rf=!1,N=p(y,_),rf=!1,Ep&&(N=LL(d,p,y,_)),IL(l),N}function IL(l){G.H=Xy;var d=Ht!==null&&Ht.next!==null;if(pl=0,Kn=Ht=at=null,Mw=!1,Wy=0,Ap=null,d)throw Error(r(300));l===null||Xn||(l=l.dependencies,l!==null&&ww(l)&&(Xn=!0))}function LL(l,d,p,y){at=l;var _=0;do{if(Ep&&(Ap=null),Wy=0,Ep=!1,25<=_)throw Error(r(301));if(_+=1,Kn=Ht=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}G.H=yO,N=d(p,y)}while(Ep);return N}function $K(){var l=G.H,d=l.useState()[0];return d=typeof d.then=="function"?Yy(d):d,l=l.useState()[0],(Ht!==null?Ht.memoizedState:null)!==l&&(at.flags|=1024),d}function CC(){var l=Pw!==0;return Pw=0,l}function TC(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function NC(l){if(Mw){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Mw=!1}pl=0,Kn=Ht=at=null,Ep=!1,Wy=Pw=0,Ap=null}function wi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?at.memoizedState=Kn=l:Kn=Kn.next=l,Kn}function Bn(){if(Ht===null){var l=at.alternate;l=l!==null?l.memoizedState:null}else l=Ht.next;var d=Kn===null?at.memoizedState:Kn.next;if(d!==null)Kn=d,Ht=l;else{if(l===null)throw at.alternate===null?Error(r(467)):Error(r(310));Ht=l,l={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Kn===null?at.memoizedState=Kn=l:Kn=Kn.next=l}return Kn}function kw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yy(l){var d=Wy;return Wy+=1,Ap===null&&(Ap=[]),l=_L(Ap,l,d),d=at,(Kn===null?d.memoizedState:Kn.next)===null&&(d=d.alternate,G.H=d===null||d.memoizedState===null?gO:BC),l}function Dw(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Yy(l);if(l.$$typeof===R)return Or(l)}throw Error(r(438,String(l)))}function RC(l){var d=null,p=at.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var y=at.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(_){return _.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=kw(),at.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),y=0;y<l;y++)p[y]=V;return d.index++,p}function ml(l,d){return typeof d=="function"?d(l):d}function Iw(l){var d=Bn();return MC(d,Ht,l)}function MC(l,d,p){var y=l.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=p;var _=l.baseQueue,N=y.pending;if(N!==null){if(_!==null){var O=_.next;_.next=N.next,N.next=O}d.baseQueue=_=N,y.pending=null}if(N=l.baseState,_===null)l.memoizedState=N;else{d=_.next;var H=O=null,Y=null,ae=d,he=!1;do{var ye=ae.lane&-536870913;if(ye!==ae.lane?(yt&ye)===ye:(pl&ye)===ye){var se=ae.revertLane;if(se===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ye===vp&&(he=!0);else if((pl&se)===se){ae=ae.next,se===vp&&(he=!0);continue}else ye={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Y===null?(H=Y=ye,O=N):Y=Y.next=ye,at.lanes|=se,uc|=se;ye=ae.action,rf&&p(N,ye),N=ae.hasEagerState?ae.eagerState:p(N,ye)}else se={lane:ye,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},Y===null?(H=Y=se,O=N):Y=Y.next=se,at.lanes|=ye,uc|=ye;ae=ae.next}while(ae!==null&&ae!==d);if(Y===null?O=N:Y.next=H,!fa(N,l.memoizedState)&&(Xn=!0,he&&(p=bp,p!==null)))throw p;l.memoizedState=N,l.baseState=O,l.baseQueue=Y,y.lastRenderedState=N}return _===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function PC(l){var d=Bn(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var y=p.dispatch,_=p.pending,N=d.memoizedState;if(_!==null){p.pending=null;var O=_=_.next;do N=l(N,O.action),O=O.next;while(O!==_);fa(N,d.memoizedState)||(Xn=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),p.lastRenderedState=N}return[N,y]}function OL(l,d,p){var y=at,_=Bn(),N=xt;if(N){if(p===void 0)throw Error(r(407));p=p()}else p=d();var O=!fa((Ht||_).memoizedState,p);if(O&&(_.memoizedState=p,Xn=!0),_=_.queue,IC(UL.bind(null,y,_,l),[l]),_.getSnapshot!==d||O||Kn!==null&&Kn.memoizedState.tag&1){if(y.flags|=2048,_p(9,{destroy:void 0},FL.bind(null,y,_,p,d),null),Qt===null)throw Error(r(349));N||(pl&127)!==0||jL(y,d,p)}return p}function jL(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=at.updateQueue,d===null?(d=kw(),at.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function FL(l,d,p,y){d.value=p,d.getSnapshot=y,BL(d)&&zL(l)}function UL(l,d,p){return p(function(){BL(d)&&zL(l)})}function BL(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!fa(l,p)}catch{return!0}}function zL(l){var d=Yd(l,2);d!==null&&Gi(d,l,2)}function kC(l){var d=wi();if(typeof l=="function"){var p=l;if(l=p(),rf){Ds(!0);try{p()}finally{Ds(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:l},d}function HL(l,d,p,y){return l.baseState=p,MC(l,Ht,typeof y=="function"?y:ml)}function VK(l,d,p,y,_){if(jw(l))throw Error(r(485));if(l=d.action,l!==null){var N={payload:_,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){N.listeners.push(O)}};G.T!==null?p(!0):N.isTransition=!1,y(N),p=d.pending,p===null?(N.next=d.pending=N,GL(d,N)):(N.next=p.next,d.pending=p.next=N)}}function GL(l,d){var p=d.action,y=d.payload,_=l.state;if(d.isTransition){var N=G.T,O={};G.T=O;try{var H=p(_,y),Y=G.S;Y!==null&&Y(O,H),qL(l,d,H)}catch(ae){DC(l,d,ae)}finally{N!==null&&O.types!==null&&(N.types=O.types),G.T=N}}else try{N=p(_,y),qL(l,d,N)}catch(ae){DC(l,d,ae)}}function qL(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){$L(l,d,y)},function(y){return DC(l,d,y)}):$L(l,d,p)}function $L(l,d,p){d.status="fulfilled",d.value=p,VL(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,GL(l,p)))}function DC(l,d,p){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=p,VL(d),d=d.next;while(d!==y)}l.action=null}function VL(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function WL(l,d){return d}function YL(l,d){if(xt){var p=Qt.formState;if(p!==null){e:{var y=at;if(xt){if(cn){t:{for(var _=cn,N=ns;_.nodeType!==8;){if(!N){_=null;break t}if(_=is(_.nextSibling),_===null){_=null;break t}}N=_.data,_=N==="F!"||N==="F"?_:null}if(_){cn=is(_.nextSibling),y=_.data==="F!";break e}}ec(y)}y=!1}y&&(d=p[0])}}return p=wi(),p.memoizedState=p.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WL,lastRenderedState:d},p.queue=y,p=hO.bind(null,at,y),y.dispatch=p,y=kC(!1),N=UC.bind(null,at,!1,y.queue),y=wi(),_={state:d,dispatch:null,action:l,pending:null},y.queue=_,p=VK.bind(null,at,_,N,p),_.dispatch=p,y.memoizedState=l,[d,p,!1]}function KL(l){var d=Bn();return XL(d,Ht,l)}function XL(l,d,p){if(d=MC(l,d,WL)[0],l=Iw(ml)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=Yy(d)}catch(O){throw O===xp?Aw:O}else y=d;d=Bn();var _=d.queue,N=_.dispatch;return p!==d.memoizedState&&(at.flags|=2048,_p(9,{destroy:void 0},WK.bind(null,_,p),null)),[y,N,l]}function WK(l,d){l.action=d}function JL(l){var d=Bn(),p=Ht;if(p!==null)return XL(d,p,l);Bn(),d=d.memoizedState,p=Bn();var y=p.queue.dispatch;return p.memoizedState=l,[d,y,!1]}function _p(l,d,p,y){return l={tag:l,create:p,deps:y,inst:d,next:null},d=at.updateQueue,d===null&&(d=kw(),at.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(y=p.next,p.next=l,l.next=y,d.lastEffect=l),l}function QL(){return Bn().memoizedState}function Lw(l,d,p,y){var _=wi();at.flags|=l,_.memoizedState=_p(1|d,{destroy:void 0},p,y===void 0?null:y)}function Ow(l,d,p,y){var _=Bn();y=y===void 0?null:y;var N=_.memoizedState.inst;Ht!==null&&y!==null&&AC(y,Ht.memoizedState.deps)?_.memoizedState=_p(d,N,p,y):(at.flags|=l,_.memoizedState=_p(1|d,N,p,y))}function ZL(l,d){Lw(8390656,8,l,d)}function IC(l,d){Ow(2048,8,l,d)}function YK(l){at.flags|=4;var d=at.updateQueue;if(d===null)d=kw(),at.updateQueue=d,d.events=[l];else{var p=d.events;p===null?d.events=[l]:p.push(l)}}function eO(l){var d=Bn().memoizedState;return YK({ref:d,nextImpl:l}),function(){if((kt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function tO(l,d){return Ow(4,2,l,d)}function nO(l,d){return Ow(4,4,l,d)}function rO(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function iO(l,d,p){p=p!=null?p.concat([l]):null,Ow(4,4,rO.bind(null,d,l),p)}function LC(){}function aO(l,d){var p=Bn();d=d===void 0?null:d;var y=p.memoizedState;return d!==null&&AC(d,y[1])?y[0]:(p.memoizedState=[l,d],l)}function sO(l,d){var p=Bn();d=d===void 0?null:d;var y=p.memoizedState;if(d!==null&&AC(d,y[1]))return y[0];if(y=l(),rf){Ds(!0);try{l()}finally{Ds(!1)}}return p.memoizedState=[y,d],y}function OC(l,d,p){return p===void 0||(pl&1073741824)!==0&&(yt&261930)===0?l.memoizedState=d:(l.memoizedState=p,l=oj(),at.lanes|=l,uc|=l,p)}function oO(l,d,p,y){return fa(p,d)?p:Sp.current!==null?(l=OC(l,p,y),fa(l,d)||(Xn=!0),l):(pl&42)===0||(pl&1073741824)!==0&&(yt&261930)===0?(Xn=!0,l.memoizedState=p):(l=oj(),at.lanes|=l,uc|=l,d)}function lO(l,d,p,y,_){var N=$.p;$.p=N!==0&&8>N?N:8;var O=G.T,H={};G.T=H,UC(l,!1,d,p);try{var Y=_(),ae=G.S;if(ae!==null&&ae(H,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=GK(Y,y);Ky(l,d,he,va(l))}else Ky(l,d,y,va(l))}catch(ye){Ky(l,d,{then:function(){},status:"rejected",reason:ye},va())}finally{$.p=N,O!==null&&H.types!==null&&(O.types=H.types),G.T=O}}function KK(){}function jC(l,d,p,y){if(l.tag!==5)throw Error(r(476));var _=uO(l).queue;lO(l,_,d,ee,p===null?KK:function(){return cO(l),p(y)})}function uO(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:ee},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function cO(l){var d=uO(l);d.next===null&&(d=l.alternate.memoizedState),Ky(l,d.next.queue,{},va())}function FC(){return Or(fv)}function dO(){return Bn().memoizedState}function fO(){return Bn().memoizedState}function XK(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=va();l=rc(p);var y=ic(d,l,p);y!==null&&(Gi(y,d,p),qy(y,d,p)),d={cache:hC()},l.payload=d;return}d=d.return}}function JK(l,d,p){var y=va();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},jw(l)?pO(d,p):(p=nC(l,d,p,y),p!==null&&(Gi(p,l,y),mO(p,d,y)))}function hO(l,d,p){var y=va();Ky(l,d,p,y)}function Ky(l,d,p,y){var _={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(jw(l))pO(d,_);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var O=d.lastRenderedState,H=N(O,p);if(_.hasEagerState=!0,_.eagerState=H,fa(H,O))return yw(l,d,_,0),Qt===null&&gw(),!1}catch{}finally{}if(p=nC(l,d,_,y),p!==null)return Gi(p,l,y),mO(p,d,y),!0}return!1}function UC(l,d,p,y){if(y={lane:2,revertLane:yT(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},jw(l)){if(d)throw Error(r(479))}else d=nC(l,p,y,2),d!==null&&Gi(d,l,2)}function jw(l){var d=l.alternate;return l===at||d!==null&&d===at}function pO(l,d){Ep=Mw=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function mO(l,d,p){if((p&4194048)!==0){var y=d.lanes;y&=l.pendingLanes,p|=y,d.lanes=p,K(l,p)}}var Xy={readContext:Or,use:Dw,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn};Xy.useEffectEvent=Rn;var gO={readContext:Or,use:Dw,useCallback:function(l,d){return wi().memoizedState=[l,d===void 0?null:d],l},useContext:Or,useEffect:ZL,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,Lw(4194308,4,rO.bind(null,d,l),p)},useLayoutEffect:function(l,d){return Lw(4194308,4,l,d)},useInsertionEffect:function(l,d){Lw(4,2,l,d)},useMemo:function(l,d){var p=wi();d=d===void 0?null:d;var y=l();if(rf){Ds(!0);try{l()}finally{Ds(!1)}}return p.memoizedState=[y,d],y},useReducer:function(l,d,p){var y=wi();if(p!==void 0){var _=p(d);if(rf){Ds(!0);try{p(d)}finally{Ds(!1)}}}else _=d;return y.memoizedState=y.baseState=_,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:_},y.queue=l,l=l.dispatch=JK.bind(null,at,l),[y.memoizedState,l]},useRef:function(l){var d=wi();return l={current:l},d.memoizedState=l},useState:function(l){l=kC(l);var d=l.queue,p=hO.bind(null,at,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:LC,useDeferredValue:function(l,d){var p=wi();return OC(p,l,d)},useTransition:function(){var l=kC(!1);return l=lO.bind(null,at,l.queue,!0,!1),wi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var y=at,_=wi();if(xt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),Qt===null)throw Error(r(349));(yt&127)!==0||jL(y,d,p)}_.memoizedState=p;var N={value:p,getSnapshot:d};return _.queue=N,ZL(UL.bind(null,y,N,l),[l]),y.flags|=2048,_p(9,{destroy:void 0},FL.bind(null,y,N,p,d),null),p},useId:function(){var l=wi(),d=Qt.identifierPrefix;if(xt){var p=mo,y=po;p=(y&~(1<<32-ti(y)-1)).toString(32)+p,d="_"+d+"R_"+p,p=Pw++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=qK++,d="_"+d+"r_"+p.toString(32)+"_";return l.memoizedState=d},useHostTransitionStatus:FC,useFormState:YL,useActionState:YL,useOptimistic:function(l){var d=wi();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=UC.bind(null,at,!0,p),p.dispatch=d,[l,d]},useMemoCache:RC,useCacheRefresh:function(){return wi().memoizedState=XK.bind(null,at)},useEffectEvent:function(l){var d=wi(),p={impl:l};return d.memoizedState=p,function(){if((kt&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},BC={readContext:Or,use:Dw,useCallback:aO,useContext:Or,useEffect:IC,useImperativeHandle:iO,useInsertionEffect:tO,useLayoutEffect:nO,useMemo:sO,useReducer:Iw,useRef:QL,useState:function(){return Iw(ml)},useDebugValue:LC,useDeferredValue:function(l,d){var p=Bn();return oO(p,Ht.memoizedState,l,d)},useTransition:function(){var l=Iw(ml)[0],d=Bn().memoizedState;return[typeof l=="boolean"?l:Yy(l),d]},useSyncExternalStore:OL,useId:dO,useHostTransitionStatus:FC,useFormState:KL,useActionState:KL,useOptimistic:function(l,d){var p=Bn();return HL(p,Ht,l,d)},useMemoCache:RC,useCacheRefresh:fO};BC.useEffectEvent=eO;var yO={readContext:Or,use:Dw,useCallback:aO,useContext:Or,useEffect:IC,useImperativeHandle:iO,useInsertionEffect:tO,useLayoutEffect:nO,useMemo:sO,useReducer:PC,useRef:QL,useState:function(){return PC(ml)},useDebugValue:LC,useDeferredValue:function(l,d){var p=Bn();return Ht===null?OC(p,l,d):oO(p,Ht.memoizedState,l,d)},useTransition:function(){var l=PC(ml)[0],d=Bn().memoizedState;return[typeof l=="boolean"?l:Yy(l),d]},useSyncExternalStore:OL,useId:dO,useHostTransitionStatus:FC,useFormState:JL,useActionState:JL,useOptimistic:function(l,d){var p=Bn();return Ht!==null?HL(p,Ht,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:RC,useCacheRefresh:fO};yO.useEffectEvent=eO;function zC(l,d,p,y){d=l.memoizedState,p=p(y,d),p=p==null?d:h({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var HC={enqueueSetState:function(l,d,p){l=l._reactInternals;var y=va(),_=rc(y);_.payload=d,p!=null&&(_.callback=p),d=ic(l,_,y),d!==null&&(Gi(d,l,y),qy(d,l,y))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var y=va(),_=rc(y);_.tag=1,_.payload=d,p!=null&&(_.callback=p),d=ic(l,_,y),d!==null&&(Gi(d,l,y),qy(d,l,y))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=va(),y=rc(p);y.tag=2,d!=null&&(y.callback=d),d=ic(l,y,p),d!==null&&(Gi(d,l,p),qy(d,l,p))}};function vO(l,d,p,y,_,N,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,N,O):d.prototype&&d.prototype.isPureReactComponent?!Oy(p,y)||!Oy(_,N):!0}function bO(l,d,p,y){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,y),d.state!==l&&HC.enqueueReplaceState(d,d.state,null)}function af(l,d){var p=d;if("ref"in d){p={};for(var y in d)y!=="ref"&&(p[y]=d[y])}if(l=l.defaultProps){p===d&&(p=h({},p));for(var _ in l)p[_]===void 0&&(p[_]=l[_])}return p}function xO(l){mw(l)}function wO(l){console.error(l)}function SO(l){mw(l)}function Fw(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function EO(l,d,p){try{var y=l.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function GC(l,d,p){return p=rc(p),p.tag=3,p.payload={element:null},p.callback=function(){Fw(l,d)},p}function AO(l){return l=rc(l),l.tag=3,l}function _O(l,d,p,y){var _=p.type.getDerivedStateFromError;if(typeof _=="function"){var N=y.value;l.payload=function(){return _(N)},l.callback=function(){EO(d,p,y)}}var O=p.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){EO(d,p,y),typeof _!="function"&&(cc===null?cc=new Set([this]):cc.add(this));var H=y.stack;this.componentDidCatch(y.value,{componentStack:H!==null?H:""})})}function QK(l,d,p,y,_){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=p.alternate,d!==null&&yp(d,p,_,!0),p=pa.current,p!==null){switch(p.tag){case 31:case 13:return rs===null?Xw():p.alternate===null&&Mn===0&&(Mn=3),p.flags&=-257,p.flags|=65536,p.lanes=_,y===_w?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([y]):d.add(y),pT(l,y,_)),!1;case 22:return p.flags|=65536,y===_w?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([y]):p.add(y)),pT(l,y,_)),!1}throw Error(r(435,p.tag))}return pT(l,y,_),Xw(),!1}if(xt)return d=pa.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=_,y!==lC&&(l=Error(r(422),{cause:y}),Uy(Za(l,p)))):(y!==lC&&(d=Error(r(423),{cause:y}),Uy(Za(d,p))),l=l.current.alternate,l.flags|=65536,_&=-_,l.lanes|=_,y=Za(y,p),_=GC(l.stateNode,y,_),bC(l,_),Mn!==4&&(Mn=2)),!1;var N=Error(r(520),{cause:y});if(N=Za(N,p),iv===null?iv=[N]:iv.push(N),Mn!==4&&(Mn=2),d===null)return!0;y=Za(y,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=_&-_,p.lanes|=l,l=GC(p.stateNode,y,l),bC(p,l),!1;case 1:if(d=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(cc===null||!cc.has(N))))return p.flags|=65536,_&=-_,p.lanes|=_,_=AO(_),_O(_,l,p,y),bC(p,_),!1}p=p.return}while(p!==null);return!1}var qC=Error(r(461)),Xn=!1;function jr(l,d,p,y){d.child=l===null?RL(d,null,p,y):nf(d,l.child,p,y)}function CO(l,d,p,y,_){p=p.render;var N=d.ref;if("ref"in y){var O={};for(var H in y)H!=="ref"&&(O[H]=y[H])}else O=y;return Qd(d),y=_C(l,d,p,O,N,_),H=CC(),l!==null&&!Xn?(TC(l,d,_),gl(l,d,_)):(xt&&H&&sC(d),d.flags|=1,jr(l,d,y,_),d.child)}function TO(l,d,p,y,_){if(l===null){var N=p.type;return typeof N=="function"&&!rC(N)&&N.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=N,NO(l,d,N,y,_)):(l=bw(p.type,null,y,d,d.mode,_),l.ref=d.ref,l.return=d,d.child=l)}if(N=l.child,!QC(l,_)){var O=N.memoizedProps;if(p=p.compare,p=p!==null?p:Oy,p(O,y)&&l.ref===d.ref)return gl(l,d,_)}return d.flags|=1,l=cl(N,y),l.ref=d.ref,l.return=d,d.child=l}function NO(l,d,p,y,_){if(l!==null){var N=l.memoizedProps;if(Oy(N,y)&&l.ref===d.ref)if(Xn=!1,d.pendingProps=y=N,QC(l,_))(l.flags&131072)!==0&&(Xn=!0);else return d.lanes=l.lanes,gl(l,d,_)}return $C(l,d,p,y,_)}function RO(l,d,p,y){var _=y.children,N=l!==null?l.memoizedState:null;if(l===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((d.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,l!==null){for(y=d.child=l.child,_=0;y!==null;)_=_|y.lanes|y.childLanes,y=y.sibling;y=_&~N}else y=0,d.child=null;return MO(l,d,N,p,y)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&Ew(d,N!==null?N.cachePool:null),N!==null?kL(d,N):wC(),DL(d);else return y=d.lanes=536870912,MO(l,d,N!==null?N.baseLanes|p:p,p,y)}else N!==null?(Ew(d,N.cachePool),kL(d,N),sc(),d.memoizedState=null):(l!==null&&Ew(d,null),wC(),sc());return jr(l,d,_,p),d.child}function Jy(l,d){return l!==null&&l.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function MO(l,d,p,y,_){var N=mC();return N=N===null?null:{parent:Yn._currentValue,pool:N},d.memoizedState={baseLanes:p,cachePool:N},l!==null&&Ew(d,null),wC(),DL(d),l!==null&&yp(l,d,y,!0),d.childLanes=_,null}function Uw(l,d){return d=zw({mode:d.mode,children:d.children},l.mode),d.ref=l.ref,l.child=d,d.return=l,d}function PO(l,d,p){return nf(d,l.child,null,p),l=Uw(d,d.pendingProps),l.flags|=2,ma(d),d.memoizedState=null,l}function ZK(l,d,p){var y=d.pendingProps,_=(d.flags&128)!==0;if(d.flags&=-129,l===null){if(xt){if(y.mode==="hidden")return l=Uw(d,y),d.lanes=536870912,Jy(null,l);if(EC(d),(l=cn)?(l=Gj(l,ns),l=l!==null&&l.data==="&"?l:null,l!==null&&(d.memoizedState={dehydrated:l,treeContext:Qu!==null?{id:po,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},p=pL(l),p.return=d,d.child=p,Lr=d,cn=null)):l=null,l===null)throw ec(d);return d.lanes=536870912,null}return Uw(d,y)}var N=l.memoizedState;if(N!==null){var O=N.dehydrated;if(EC(d),_)if(d.flags&256)d.flags&=-257,d=PO(l,d,p);else if(d.memoizedState!==null)d.child=l.child,d.flags|=128,d=null;else throw Error(r(558));else if(Xn||yp(l,d,p,!1),_=(p&l.childLanes)!==0,Xn||_){if(y=Qt,y!==null&&(O=te(y,p),O!==0&&O!==N.retryLane))throw N.retryLane=O,Yd(l,O),Gi(y,l,O),qC;Xw(),d=PO(l,d,p)}else l=N.treeContext,cn=is(O.nextSibling),Lr=d,xt=!0,Zu=null,ns=!1,l!==null&&yL(d,l),d=Uw(d,y),d.flags|=4096;return d}return l=cl(l.child,{mode:y.mode,children:y.children}),l.ref=d.ref,d.child=l,l.return=d,l}function Bw(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function $C(l,d,p,y,_){return Qd(d),p=_C(l,d,p,y,void 0,_),y=CC(),l!==null&&!Xn?(TC(l,d,_),gl(l,d,_)):(xt&&y&&sC(d),d.flags|=1,jr(l,d,p,_),d.child)}function kO(l,d,p,y,_,N){return Qd(d),d.updateQueue=null,p=LL(d,y,p,_),IL(l),y=CC(),l!==null&&!Xn?(TC(l,d,N),gl(l,d,N)):(xt&&y&&sC(d),d.flags|=1,jr(l,d,p,N),d.child)}function DO(l,d,p,y,_){if(Qd(d),d.stateNode===null){var N=hp,O=p.contextType;typeof O=="object"&&O!==null&&(N=Or(O)),N=new p(y,N),d.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=HC,d.stateNode=N,N._reactInternals=d,N=d.stateNode,N.props=y,N.state=d.memoizedState,N.refs={},yC(d),O=p.contextType,N.context=typeof O=="object"&&O!==null?Or(O):hp,N.state=d.memoizedState,O=p.getDerivedStateFromProps,typeof O=="function"&&(zC(d,p,O,y),N.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(O=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),O!==N.state&&HC.enqueueReplaceState(N,N.state,null),Vy(d,y,N,_),$y(),N.state=d.memoizedState),typeof N.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(l===null){N=d.stateNode;var H=d.memoizedProps,Y=af(p,H);N.props=Y;var ae=N.context,he=p.contextType;O=hp,typeof he=="object"&&he!==null&&(O=Or(he));var ye=p.getDerivedStateFromProps;he=typeof ye=="function"||typeof N.getSnapshotBeforeUpdate=="function",H=d.pendingProps!==H,he||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(H||ae!==O)&&bO(d,N,y,O),nc=!1;var se=d.memoizedState;N.state=se,Vy(d,y,N,_),$y(),ae=d.memoizedState,H||se!==ae||nc?(typeof ye=="function"&&(zC(d,p,ye,y),ae=d.memoizedState),(Y=nc||vO(d,p,Y,y,se,ae,O))?(he||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(d.flags|=4194308)):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=ae),N.props=y,N.state=ae,N.context=O,y=Y):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{N=d.stateNode,vC(l,d),O=d.memoizedProps,he=af(p,O),N.props=he,ye=d.pendingProps,se=N.context,ae=p.contextType,Y=hp,typeof ae=="object"&&ae!==null&&(Y=Or(ae)),H=p.getDerivedStateFromProps,(ae=typeof H=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==ye||se!==Y)&&bO(d,N,y,Y),nc=!1,se=d.memoizedState,N.state=se,Vy(d,y,N,_),$y();var ue=d.memoizedState;O!==ye||se!==ue||nc||l!==null&&l.dependencies!==null&&ww(l.dependencies)?(typeof H=="function"&&(zC(d,p,H,y),ue=d.memoizedState),(he=nc||vO(d,p,he,y,se,ue,Y)||l!==null&&l.dependencies!==null&&ww(l.dependencies))?(ae||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,ue,Y),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,ue,Y)),typeof N.componentDidUpdate=="function"&&(d.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===l.memoizedProps&&se===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&se===l.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=ue),N.props=y,N.state=ue,N.context=Y,y=he):(typeof N.componentDidUpdate!="function"||O===l.memoizedProps&&se===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&se===l.memoizedState||(d.flags|=1024),y=!1)}return N=y,Bw(l,d),y=(d.flags&128)!==0,N||y?(N=d.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:N.render(),d.flags|=1,l!==null&&y?(d.child=nf(d,l.child,null,_),d.child=nf(d,null,p,_)):jr(l,d,p,_),d.memoizedState=N.state,l=d.child):l=gl(l,d,_),l}function IO(l,d,p,y){return Xd(),d.flags|=256,jr(l,d,p,y),d.child}var VC={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function WC(l){return{baseLanes:l,cachePool:EL()}}function YC(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=ya),l}function LO(l,d,p){var y=d.pendingProps,_=!1,N=(d.flags&128)!==0,O;if((O=N)||(O=l!==null&&l.memoizedState===null?!1:(Un.current&2)!==0),O&&(_=!0,d.flags&=-129),O=(d.flags&32)!==0,d.flags&=-33,l===null){if(xt){if(_?ac(d):sc(),(l=cn)?(l=Gj(l,ns),l=l!==null&&l.data!=="&"?l:null,l!==null&&(d.memoizedState={dehydrated:l,treeContext:Qu!==null?{id:po,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},p=pL(l),p.return=d,d.child=p,Lr=d,cn=null)):l=null,l===null)throw ec(d);return MT(l)?d.lanes=32:d.lanes=536870912,null}var H=y.children;return y=y.fallback,_?(sc(),_=d.mode,H=zw({mode:"hidden",children:H},_),y=Kd(y,_,p,null),H.return=d,y.return=d,H.sibling=y,d.child=H,y=d.child,y.memoizedState=WC(p),y.childLanes=YC(l,O,p),d.memoizedState=VC,Jy(null,y)):(ac(d),KC(d,H))}var Y=l.memoizedState;if(Y!==null&&(H=Y.dehydrated,H!==null)){if(N)d.flags&256?(ac(d),d.flags&=-257,d=XC(l,d,p)):d.memoizedState!==null?(sc(),d.child=l.child,d.flags|=128,d=null):(sc(),H=y.fallback,_=d.mode,y=zw({mode:"visible",children:y.children},_),H=Kd(H,_,p,null),H.flags|=2,y.return=d,H.return=d,y.sibling=H,d.child=y,nf(d,l.child,null,p),y=d.child,y.memoizedState=WC(p),y.childLanes=YC(l,O,p),d.memoizedState=VC,d=Jy(null,y));else if(ac(d),MT(H)){if(O=H.nextSibling&&H.nextSibling.dataset,O)var ae=O.dgst;O=ae,y=Error(r(419)),y.stack="",y.digest=O,Uy({value:y,source:null,stack:null}),d=XC(l,d,p)}else if(Xn||yp(l,d,p,!1),O=(p&l.childLanes)!==0,Xn||O){if(O=Qt,O!==null&&(y=te(O,p),y!==0&&y!==Y.retryLane))throw Y.retryLane=y,Yd(l,y),Gi(O,l,y),qC;RT(H)||Xw(),d=XC(l,d,p)}else RT(H)?(d.flags|=192,d.child=l.child,d=null):(l=Y.treeContext,cn=is(H.nextSibling),Lr=d,xt=!0,Zu=null,ns=!1,l!==null&&yL(d,l),d=KC(d,y.children),d.flags|=4096);return d}return _?(sc(),H=y.fallback,_=d.mode,Y=l.child,ae=Y.sibling,y=cl(Y,{mode:"hidden",children:y.children}),y.subtreeFlags=Y.subtreeFlags&65011712,ae!==null?H=cl(ae,H):(H=Kd(H,_,p,null),H.flags|=2),H.return=d,y.return=d,y.sibling=H,d.child=y,Jy(null,y),y=d.child,H=l.child.memoizedState,H===null?H=WC(p):(_=H.cachePool,_!==null?(Y=Yn._currentValue,_=_.parent!==Y?{parent:Y,pool:Y}:_):_=EL(),H={baseLanes:H.baseLanes|p,cachePool:_}),y.memoizedState=H,y.childLanes=YC(l,O,p),d.memoizedState=VC,Jy(l.child,y)):(ac(d),p=l.child,l=p.sibling,p=cl(p,{mode:"visible",children:y.children}),p.return=d,p.sibling=null,l!==null&&(O=d.deletions,O===null?(d.deletions=[l],d.flags|=16):O.push(l)),d.child=p,d.memoizedState=null,p)}function KC(l,d){return d=zw({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function zw(l,d){return l=ha(22,l,null,d),l.lanes=0,l}function XC(l,d,p){return nf(d,l.child,null,p),l=KC(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function OO(l,d,p){l.lanes|=d;var y=l.alternate;y!==null&&(y.lanes|=d),dC(l.return,d,p)}function JC(l,d,p,y,_,N){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:_,treeForkCount:N}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=p,O.tailMode=_,O.treeForkCount=N)}function jO(l,d,p){var y=d.pendingProps,_=y.revealOrder,N=y.tail;y=y.children;var O=Un.current,H=(O&2)!==0;if(H?(O=O&1|2,d.flags|=128):O&=1,le(Un,O),jr(l,d,y,p),y=xt?Fy:0,!H&&l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&OO(l,p,d);else if(l.tag===19)OO(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(_){case"forwards":for(p=d.child,_=null;p!==null;)l=p.alternate,l!==null&&Rw(l)===null&&(_=p),p=p.sibling;p=_,p===null?(_=d.child,d.child=null):(_=p.sibling,p.sibling=null),JC(d,!1,_,p,N,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,_=d.child,d.child=null;_!==null;){if(l=_.alternate,l!==null&&Rw(l)===null){d.child=_;break}l=_.sibling,_.sibling=p,p=_,_=l}JC(d,!0,p,null,N,y);break;case"together":JC(d,!1,null,null,void 0,y);break;default:d.memoizedState=null}return d.child}function gl(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),uc|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(yp(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=cl(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=cl(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function QC(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&ww(l)))}function eX(l,d,p){switch(d.tag){case 3:mt(d,d.stateNode.containerInfo),tc(d,Yn,l.memoizedState.cache),Xd();break;case 27:case 5:Ne(d);break;case 4:mt(d,d.stateNode.containerInfo);break;case 10:tc(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,EC(d),null;break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(ac(d),d.flags|=128,null):(p&d.child.childLanes)!==0?LO(l,d,p):(ac(d),l=gl(l,d,p),l!==null?l.sibling:null);ac(d);break;case 19:var _=(l.flags&128)!==0;if(y=(p&d.childLanes)!==0,y||(yp(l,d,p,!1),y=(p&d.childLanes)!==0),_){if(y)return jO(l,d,p);d.flags|=128}if(_=d.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),le(Un,Un.current),y)break;return null;case 22:return d.lanes=0,RO(l,d,p,d.pendingProps);case 24:tc(d,Yn,l.memoizedState.cache)}return gl(l,d,p)}function FO(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)Xn=!0;else{if(!QC(l,p)&&(d.flags&128)===0)return Xn=!1,eX(l,d,p);Xn=(l.flags&131072)!==0}else Xn=!1,xt&&(d.flags&1048576)!==0&&gL(d,Fy,d.index);switch(d.lanes=0,d.tag){case 16:e:{var y=d.pendingProps;if(l=ef(d.elementType),d.type=l,typeof l=="function")rC(l)?(y=af(l,y),d.tag=1,d=DO(null,d,l,y,p)):(d.tag=0,d=$C(null,d,l,y,p));else{if(l!=null){var _=l.$$typeof;if(_===I){d.tag=11,d=CO(null,d,l,y,p);break e}else if(_===M){d.tag=14,d=TO(null,d,l,y,p);break e}}throw d=Z(l)||l,Error(r(306,d,""))}}return d;case 0:return $C(l,d,d.type,d.pendingProps,p);case 1:return y=d.type,_=af(y,d.pendingProps),DO(l,d,y,_,p);case 3:e:{if(mt(d,d.stateNode.containerInfo),l===null)throw Error(r(387));y=d.pendingProps;var N=d.memoizedState;_=N.element,vC(l,d),Vy(d,y,null,p);var O=d.memoizedState;if(y=O.cache,tc(d,Yn,y),y!==N.cache&&fC(d,[Yn],p,!0),$y(),y=O.element,N.isDehydrated)if(N={element:y,isDehydrated:!1,cache:O.cache},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){d=IO(l,d,y,p);break e}else if(y!==_){_=Za(Error(r(424)),d),Uy(_),d=IO(l,d,y,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(cn=is(l.firstChild),Lr=d,xt=!0,Zu=null,ns=!0,p=RL(d,null,y,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Xd(),y===_){d=gl(l,d,p);break e}jr(l,d,y,p)}d=d.child}return d;case 26:return Bw(l,d),l===null?(p=Kj(d.type,null,d.pendingProps,null))?d.memoizedState=p:xt||(p=d.type,l=d.pendingProps,y=rS(Te.current).createElement(p),y[_e]=d,y[Re]=l,Fr(y,p,l),Jt(y),d.stateNode=y):d.memoizedState=Kj(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Ne(d),l===null&&xt&&(y=d.stateNode=Vj(d.type,d.pendingProps,Te.current),Lr=d,ns=!0,_=cn,pc(d.type)?(PT=_,cn=is(y.firstChild)):cn=_),jr(l,d,d.pendingProps.children,p),Bw(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&xt&&((_=y=cn)&&(y=MX(y,d.type,d.pendingProps,ns),y!==null?(d.stateNode=y,Lr=d,cn=is(y.firstChild),ns=!1,_=!0):_=!1),_||ec(d)),Ne(d),_=d.type,N=d.pendingProps,O=l!==null?l.memoizedProps:null,y=N.children,CT(_,N)?y=null:O!==null&&CT(_,O)&&(d.flags|=32),d.memoizedState!==null&&(_=_C(l,d,$K,null,null,p),fv._currentValue=_),Bw(l,d),jr(l,d,y,p),d.child;case 6:return l===null&&xt&&((l=p=cn)&&(p=PX(p,d.pendingProps,ns),p!==null?(d.stateNode=p,Lr=d,cn=null,l=!0):l=!1),l||ec(d)),null;case 13:return LO(l,d,p);case 4:return mt(d,d.stateNode.containerInfo),y=d.pendingProps,l===null?d.child=nf(d,null,y,p):jr(l,d,y,p),d.child;case 11:return CO(l,d,d.type,d.pendingProps,p);case 7:return jr(l,d,d.pendingProps,p),d.child;case 8:return jr(l,d,d.pendingProps.children,p),d.child;case 12:return jr(l,d,d.pendingProps.children,p),d.child;case 10:return y=d.pendingProps,tc(d,d.type,y.value),jr(l,d,y.children,p),d.child;case 9:return _=d.type._context,y=d.pendingProps.children,Qd(d),_=Or(_),y=y(_),d.flags|=1,jr(l,d,y,p),d.child;case 14:return TO(l,d,d.type,d.pendingProps,p);case 15:return NO(l,d,d.type,d.pendingProps,p);case 19:return jO(l,d,p);case 31:return ZK(l,d,p);case 22:return RO(l,d,p,d.pendingProps);case 24:return Qd(d),y=Or(Yn),l===null?(_=mC(),_===null&&(_=Qt,N=hC(),_.pooledCache=N,N.refCount++,N!==null&&(_.pooledCacheLanes|=p),_=N),d.memoizedState={parent:y,cache:_},yC(d),tc(d,Yn,_)):((l.lanes&p)!==0&&(vC(l,d),Vy(d,null,null,p),$y()),_=l.memoizedState,N=d.memoizedState,_.parent!==y?(_={parent:y,cache:y},d.memoizedState=_,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=_),tc(d,Yn,y)):(y=N.cache,tc(d,Yn,y),y!==_.cache&&fC(d,[Yn],p,!0))),jr(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function yl(l){l.flags|=4}function ZC(l,d,p,y,_){if((d=(l.mode&32)!==0)&&(d=!1),d){if(l.flags|=16777216,(_&335544128)===_)if(l.stateNode.complete)l.flags|=8192;else if(dj())l.flags|=8192;else throw tf=_w,gC}else l.flags&=-16777217}function UO(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!eF(d))if(dj())l.flags|=8192;else throw tf=_w,gC}function Hw(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?Gd():536870912,l.lanes|=d,Rp|=d)}function Qy(l,d){if(!xt)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function dn(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,y=0;if(d)for(var _=l.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags&65011712,y|=_.flags&65011712,_.return=l,_=_.sibling;else for(_=l.child;_!==null;)p|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=l,_=_.sibling;return l.subtreeFlags|=y,l.childLanes=p,d}function tX(l,d,p){var y=d.pendingProps;switch(oC(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(d),null;case 1:return dn(d),null;case 3:return p=d.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),hl(Yn),de(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(gp(d)?yl(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,uC())),dn(d),null;case 26:var _=d.type,N=d.memoizedState;return l===null?(yl(d),N!==null?(dn(d),UO(d,N)):(dn(d),ZC(d,_,null,y,p))):N?N!==l.memoizedState?(yl(d),dn(d),UO(d,N)):(dn(d),d.flags&=-16777217):(l=l.memoizedProps,l!==y&&yl(d),dn(d),ZC(d,_,l,y,p)),null;case 27:if(Ke(d),p=Te.current,_=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==y&&yl(d);else{if(!y){if(d.stateNode===null)throw Error(r(166));return dn(d),null}l=ge.current,gp(d)?vL(d):(l=Vj(_,y,p),d.stateNode=l,yl(d))}return dn(d),null;case 5:if(Ke(d),_=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==y&&yl(d);else{if(!y){if(d.stateNode===null)throw Error(r(166));return dn(d),null}if(N=ge.current,gp(d))vL(d);else{var O=rS(Te.current);switch(N){case 1:N=O.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:N=O.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":N=O.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":N=O.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":N=O.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof y.is=="string"?O.createElement("select",{is:y.is}):O.createElement("select"),y.multiple?N.multiple=!0:y.size&&(N.size=y.size);break;default:N=typeof y.is=="string"?O.createElement(_,{is:y.is}):O.createElement(_)}}N[_e]=d,N[Re]=y;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)N.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=N;e:switch(Fr(N,_,y),_){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&yl(d)}}return dn(d),ZC(d,d.type,l===null?null:l.memoizedProps,d.pendingProps,p),null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==y&&yl(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(r(166));if(l=Te.current,gp(d)){if(l=d.stateNode,p=d.memoizedProps,y=null,_=Lr,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}l[_e]=d,l=!!(l.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||Lj(l.nodeValue,p)),l||ec(d,!0)}else l=rS(l).createTextNode(y),l[_e]=d,d.stateNode=l}return dn(d),null;case 31:if(p=d.memoizedState,l===null||l.memoizedState!==null){if(y=gp(d),p!==null){if(l===null){if(!y)throw Error(r(318));if(l=d.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[_e]=d}else Xd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;dn(d),l=!1}else p=uC(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return d.flags&256?(ma(d),d):(ma(d),null);if((d.flags&128)!==0)throw Error(r(558))}return dn(d),null;case 13:if(y=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_=gp(d),y!==null&&y.dehydrated!==null){if(l===null){if(!_)throw Error(r(318));if(_=d.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[_e]=d}else Xd(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;dn(d),_=!1}else _=uC(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=_),_=!0;if(!_)return d.flags&256?(ma(d),d):(ma(d),null)}return ma(d),(d.flags&128)!==0?(d.lanes=p,d):(p=y!==null,l=l!==null&&l.memoizedState!==null,p&&(y=d.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool),N=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(N=y.memoizedState.cachePool.pool),N!==_&&(y.flags|=2048)),p!==l&&p&&(d.child.flags|=8192),Hw(d,d.updateQueue),dn(d),null);case 4:return de(),l===null&&wT(d.stateNode.containerInfo),dn(d),null;case 10:return hl(d.type),dn(d),null;case 19:if(J(Un),y=d.memoizedState,y===null)return dn(d),null;if(_=(d.flags&128)!==0,N=y.rendering,N===null)if(_)Qy(y,!1);else{if(Mn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(N=Rw(l),N!==null){for(d.flags|=128,Qy(y,!1),l=N.updateQueue,d.updateQueue=l,Hw(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)hL(p,l),p=p.sibling;return le(Un,Un.current&1|2),xt&&dl(d,y.treeForkCount),d.child}l=l.sibling}y.tail!==null&&wn()>Ww&&(d.flags|=128,_=!0,Qy(y,!1),d.lanes=4194304)}else{if(!_)if(l=Rw(N),l!==null){if(d.flags|=128,_=!0,l=l.updateQueue,d.updateQueue=l,Hw(d,l),Qy(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!xt)return dn(d),null}else 2*wn()-y.renderingStartTime>Ww&&p!==536870912&&(d.flags|=128,_=!0,Qy(y,!1),d.lanes=4194304);y.isBackwards?(N.sibling=d.child,d.child=N):(l=y.last,l!==null?l.sibling=N:d.child=N,y.last=N)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=wn(),l.sibling=null,p=Un.current,le(Un,_?p&1|2:p&1),xt&&dl(d,y.treeForkCount),l):(dn(d),null);case 22:case 23:return ma(d),SC(),y=d.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(p&536870912)!==0&&(d.flags&128)===0&&(dn(d),d.subtreeFlags&6&&(d.flags|=8192)):dn(d),p=d.updateQueue,p!==null&&Hw(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048),l!==null&&J(Zd),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),hl(Yn),dn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function nX(l,d){switch(oC(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return hl(Yn),de(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Ke(d),null;case 31:if(d.memoizedState!==null){if(ma(d),d.alternate===null)throw Error(r(340));Xd()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 13:if(ma(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Xd()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return J(Un),null;case 4:return de(),null;case 10:return hl(d.type),null;case 22:case 23:return ma(d),SC(),l!==null&&J(Zd),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return hl(Yn),null;case 25:return null;default:return null}}function BO(l,d){switch(oC(d),d.tag){case 3:hl(Yn),de();break;case 26:case 27:case 5:Ke(d);break;case 4:de();break;case 31:d.memoizedState!==null&&ma(d);break;case 13:ma(d);break;case 19:J(Un);break;case 10:hl(d.type);break;case 22:case 23:ma(d),SC(),l!==null&&J(Zd);break;case 24:hl(Yn)}}function Zy(l,d){try{var p=d.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var _=y.next;p=_;do{if((p.tag&l)===l){y=void 0;var N=p.create,O=p.inst;y=N(),O.destroy=y}p=p.next}while(p!==_)}}catch(H){Ot(d,d.return,H)}}function oc(l,d,p){try{var y=d.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var N=_.next;y=N;do{if((y.tag&l)===l){var O=y.inst,H=O.destroy;if(H!==void 0){O.destroy=void 0,_=d;var Y=p,ae=H;try{ae()}catch(he){Ot(_,Y,he)}}}y=y.next}while(y!==N)}}catch(he){Ot(d,d.return,he)}}function zO(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{PL(d,p)}catch(y){Ot(l,l.return,y)}}}function HO(l,d,p){p.props=af(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(y){Ot(l,d,y)}}function ev(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof p=="function"?l.refCleanup=p(y):p.current=y}}catch(_){Ot(l,d,_)}}function go(l,d){var p=l.ref,y=l.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(_){Ot(l,d,_)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(_){Ot(l,d,_)}else p.current=null}function GO(l){var d=l.type,p=l.memoizedProps,y=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(_){Ot(l,l.return,_)}}function eT(l,d,p){try{var y=l.stateNode;AX(y,l.type,p,d),y[Re]=d}catch(_){Ot(l,l.return,_)}}function qO(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&pc(l.type)||l.tag===4}function tT(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||qO(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&pc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function nT(l,d,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=ll));else if(y!==4&&(y===27&&pc(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(nT(l,d,p),l=l.sibling;l!==null;)nT(l,d,p),l=l.sibling}function Gw(l,d,p){var y=l.tag;if(y===5||y===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(y!==4&&(y===27&&pc(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Gw(l,d,p),l=l.sibling;l!==null;)Gw(l,d,p),l=l.sibling}function $O(l){var d=l.stateNode,p=l.memoizedProps;try{for(var y=l.type,_=d.attributes;_.length;)d.removeAttributeNode(_[0]);Fr(d,y,p),d[_e]=l,d[Re]=p}catch(N){Ot(l,l.return,N)}}var vl=!1,Jn=!1,rT=!1,VO=typeof WeakSet=="function"?WeakSet:Set,br=null;function rX(l,d){if(l=l.containerInfo,AT=cS,l=iL(l),X_(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var _=y.anchorOffset,N=y.focusNode;y=y.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var O=0,H=-1,Y=-1,ae=0,he=0,ye=l,se=null;t:for(;;){for(var ue;ye!==p||_!==0&&ye.nodeType!==3||(H=O+_),ye!==N||y!==0&&ye.nodeType!==3||(Y=O+y),ye.nodeType===3&&(O+=ye.nodeValue.length),(ue=ye.firstChild)!==null;)se=ye,ye=ue;for(;;){if(ye===l)break t;if(se===p&&++ae===_&&(H=O),se===N&&++he===y&&(Y=O),(ue=ye.nextSibling)!==null)break;ye=se,se=ye.parentNode}ye=ue}p=H===-1||Y===-1?null:{start:H,end:Y}}else p=null}p=p||{start:0,end:0}}else p=null;for(_T={focusedElem:l,selectionRange:p},cS=!1,br=d;br!==null;)if(d=br,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,br=l;else for(;br!==null;){switch(d=br,N=d.alternate,l=d.flags,d.tag){case 0:if((l&4)!==0&&(l=d.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)_=l[p],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,p=d,_=N.memoizedProps,N=N.memoizedState,y=p.stateNode;try{var Le=af(p.type,_);l=y.getSnapshotBeforeUpdate(Le,N),y.__reactInternalSnapshotBeforeUpdate=l}catch(Je){Ot(p,p.return,Je)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)NT(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":NT(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,br=l;break}br=d.return}}function WO(l,d,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:xl(l,p),y&4&&Zy(5,p);break;case 1:if(xl(l,p),y&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(O){Ot(p,p.return,O)}else{var _=af(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(_,d,l.__reactInternalSnapshotBeforeUpdate)}catch(O){Ot(p,p.return,O)}}y&64&&zO(p),y&512&&ev(p,p.return);break;case 3:if(xl(l,p),y&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{PL(l,d)}catch(O){Ot(p,p.return,O)}}break;case 27:d===null&&y&4&&$O(p);case 26:case 5:xl(l,p),d===null&&y&4&&GO(p),y&512&&ev(p,p.return);break;case 12:xl(l,p);break;case 31:xl(l,p),y&4&&XO(l,p);break;case 13:xl(l,p),y&4&&JO(l,p),y&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=fX.bind(null,p),kX(l,p))));break;case 22:if(y=p.memoizedState!==null||vl,!y){d=d!==null&&d.memoizedState!==null||Jn,_=vl;var N=Jn;vl=y,(Jn=d)&&!N?wl(l,p,(p.subtreeFlags&8772)!==0):xl(l,p),vl=_,Jn=N}break;case 30:break;default:xl(l,p)}}function YO(l){var d=l.alternate;d!==null&&(l.alternate=null,YO(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Nn(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var mn=null,Ui=!1;function bl(l,d,p){for(p=p.child;p!==null;)KO(l,d,p),p=p.sibling}function KO(l,d,p){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Ud,p)}catch{}switch(p.tag){case 26:Jn||go(p,d),bl(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Jn||go(p,d);var y=mn,_=Ui;pc(p.type)&&(mn=p.stateNode,Ui=!1),bl(l,d,p),uv(p.stateNode),mn=y,Ui=_;break;case 5:Jn||go(p,d);case 6:if(y=mn,_=Ui,mn=null,bl(l,d,p),mn=y,Ui=_,mn!==null)if(Ui)try{(mn.nodeType===9?mn.body:mn.nodeName==="HTML"?mn.ownerDocument.body:mn).removeChild(p.stateNode)}catch(N){Ot(p,d,N)}else try{mn.removeChild(p.stateNode)}catch(N){Ot(p,d,N)}break;case 18:mn!==null&&(Ui?(l=mn,zj(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),jp(l)):zj(mn,p.stateNode));break;case 4:y=mn,_=Ui,mn=p.stateNode.containerInfo,Ui=!0,bl(l,d,p),mn=y,Ui=_;break;case 0:case 11:case 14:case 15:oc(2,p,d),Jn||oc(4,p,d),bl(l,d,p);break;case 1:Jn||(go(p,d),y=p.stateNode,typeof y.componentWillUnmount=="function"&&HO(p,d,y)),bl(l,d,p);break;case 21:bl(l,d,p);break;case 22:Jn=(y=Jn)||p.memoizedState!==null,bl(l,d,p),Jn=y;break;default:bl(l,d,p)}}function XO(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{jp(l)}catch(p){Ot(d,d.return,p)}}}function JO(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{jp(l)}catch(p){Ot(d,d.return,p)}}function iX(l){switch(l.tag){case 31:case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new VO),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new VO),d;default:throw Error(r(435,l.tag))}}function qw(l,d){var p=iX(l);d.forEach(function(y){if(!p.has(y)){p.add(y);var _=hX.bind(null,l,y);y.then(_,_)}})}function Bi(l,d){var p=d.deletions;if(p!==null)for(var y=0;y<p.length;y++){var _=p[y],N=l,O=d,H=O;e:for(;H!==null;){switch(H.tag){case 27:if(pc(H.type)){mn=H.stateNode,Ui=!1;break e}break;case 5:mn=H.stateNode,Ui=!1;break e;case 3:case 4:mn=H.stateNode.containerInfo,Ui=!0;break e}H=H.return}if(mn===null)throw Error(r(160));KO(N,O,_),mn=null,Ui=!1,N=_.alternate,N!==null&&(N.return=null),_.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)QO(d,l),d=d.sibling}var Os=null;function QO(l,d){var p=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Bi(d,l),zi(l),y&4&&(oc(3,l,l.return),Zy(3,l),oc(5,l,l.return));break;case 1:Bi(d,l),zi(l),y&512&&(Jn||p===null||go(p,p.return)),y&64&&vl&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var _=Os;if(Bi(d,l),zi(l),y&512&&(Jn||p===null||go(p,p.return)),y&4){var N=p!==null?p.memoizedState:null;if(y=l.memoizedState,p===null)if(y===null)if(l.stateNode===null){e:{y=l.type,p=l.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":N=_.getElementsByTagName("title")[0],(!N||N[un]||N[_e]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=_.createElement(y),_.head.insertBefore(N,_.querySelector("head > title"))),Fr(N,y,p),N[_e]=l,Jt(N),y=N;break e;case"link":var O=Qj("link","href",_).get(y+(p.href||""));if(O){for(var H=0;H<O.length;H++)if(N=O[H],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){O.splice(H,1);break t}}N=_.createElement(y),Fr(N,y,p),_.head.appendChild(N);break;case"meta":if(O=Qj("meta","content",_).get(y+(p.content||""))){for(H=0;H<O.length;H++)if(N=O[H],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){O.splice(H,1);break t}}N=_.createElement(y),Fr(N,y,p),_.head.appendChild(N);break;default:throw Error(r(468,y))}N[_e]=l,Jt(N),y=N}l.stateNode=y}else Zj(_,l.type,l.stateNode);else l.stateNode=Jj(_,y,l.memoizedProps);else N!==y?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,y===null?Zj(_,l.type,l.stateNode):Jj(_,y,l.memoizedProps)):y===null&&l.stateNode!==null&&eT(l,l.memoizedProps,p.memoizedProps)}break;case 27:Bi(d,l),zi(l),y&512&&(Jn||p===null||go(p,p.return)),p!==null&&y&4&&eT(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Bi(d,l),zi(l),y&512&&(Jn||p===null||go(p,p.return)),l.flags&32){_=l.stateNode;try{sp(_,"")}catch(Le){Ot(l,l.return,Le)}}y&4&&l.stateNode!=null&&(_=l.memoizedProps,eT(l,_,p!==null?p.memoizedProps:_)),y&1024&&(rT=!0);break;case 6:if(Bi(d,l),zi(l),y&4){if(l.stateNode===null)throw Error(r(162));y=l.memoizedProps,p=l.stateNode;try{p.nodeValue=y}catch(Le){Ot(l,l.return,Le)}}break;case 3:if(sS=null,_=Os,Os=iS(d.containerInfo),Bi(d,l),Os=_,zi(l),y&4&&p!==null&&p.memoizedState.isDehydrated)try{jp(d.containerInfo)}catch(Le){Ot(l,l.return,Le)}rT&&(rT=!1,ZO(l));break;case 4:y=Os,Os=iS(l.stateNode.containerInfo),Bi(d,l),zi(l),Os=y;break;case 12:Bi(d,l),zi(l);break;case 31:Bi(d,l),zi(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,qw(l,y)));break;case 13:Bi(d,l),zi(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Vw=wn()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,qw(l,y)));break;case 22:_=l.memoizedState!==null;var Y=p!==null&&p.memoizedState!==null,ae=vl,he=Jn;if(vl=ae||_,Jn=he||Y,Bi(d,l),Jn=he,vl=ae,zi(l),y&8192)e:for(d=l.stateNode,d._visibility=_?d._visibility&-2:d._visibility|1,_&&(p===null||Y||vl||Jn||sf(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){Y=p=d;try{if(N=Y.stateNode,_)O=N.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{H=Y.stateNode;var ye=Y.memoizedProps.style,se=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;H.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Le){Ot(Y,Y.return,Le)}}}else if(d.tag===6){if(p===null){Y=d;try{Y.stateNode.nodeValue=_?"":Y.memoizedProps}catch(Le){Ot(Y,Y.return,Le)}}}else if(d.tag===18){if(p===null){Y=d;try{var ue=Y.stateNode;_?Hj(ue,!0):Hj(Y.stateNode,!1)}catch(Le){Ot(Y,Y.return,Le)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=l.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,qw(l,p))));break;case 19:Bi(d,l),zi(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,qw(l,y)));break;case 30:break;case 21:break;default:Bi(d,l),zi(l)}}function zi(l){var d=l.flags;if(d&2){try{for(var p,y=l.return;y!==null;){if(qO(y)){p=y;break}y=y.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var _=p.stateNode,N=tT(l);Gw(l,N,_);break;case 5:var O=p.stateNode;p.flags&32&&(sp(O,""),p.flags&=-33);var H=tT(l);Gw(l,H,O);break;case 3:case 4:var Y=p.stateNode.containerInfo,ae=tT(l);nT(l,ae,Y);break;default:throw Error(r(161))}}catch(he){Ot(l,l.return,he)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function ZO(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;ZO(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function xl(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)WO(l,d.alternate,d),d=d.sibling}function sf(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:oc(4,d,d.return),sf(d);break;case 1:go(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&HO(d,d.return,p),sf(d);break;case 27:uv(d.stateNode);case 26:case 5:go(d,d.return),sf(d);break;case 22:d.memoizedState===null&&sf(d);break;case 30:sf(d);break;default:sf(d)}l=l.sibling}}function wl(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,_=l,N=d,O=N.flags;switch(N.tag){case 0:case 11:case 15:wl(_,N,p),Zy(4,N);break;case 1:if(wl(_,N,p),y=N,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(ae){Ot(y,y.return,ae)}if(y=N,_=y.updateQueue,_!==null){var H=y.stateNode;try{var Y=_.shared.hiddenCallbacks;if(Y!==null)for(_.shared.hiddenCallbacks=null,_=0;_<Y.length;_++)ML(Y[_],H)}catch(ae){Ot(y,y.return,ae)}}p&&O&64&&zO(N),ev(N,N.return);break;case 27:$O(N);case 26:case 5:wl(_,N,p),p&&y===null&&O&4&&GO(N),ev(N,N.return);break;case 12:wl(_,N,p);break;case 31:wl(_,N,p),p&&O&4&&XO(_,N);break;case 13:wl(_,N,p),p&&O&4&&JO(_,N);break;case 22:N.memoizedState===null&&wl(_,N,p),ev(N,N.return);break;case 30:break;default:wl(_,N,p)}d=d.sibling}}function iT(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&By(p))}function aT(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&By(l))}function js(l,d,p,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ej(l,d,p,y),d=d.sibling}function ej(l,d,p,y){var _=d.flags;switch(d.tag){case 0:case 11:case 15:js(l,d,p,y),_&2048&&Zy(9,d);break;case 1:js(l,d,p,y);break;case 3:js(l,d,p,y),_&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&By(l)));break;case 12:if(_&2048){js(l,d,p,y),l=d.stateNode;try{var N=d.memoizedProps,O=N.id,H=N.onPostCommit;typeof H=="function"&&H(O,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Y){Ot(d,d.return,Y)}}else js(l,d,p,y);break;case 31:js(l,d,p,y);break;case 13:js(l,d,p,y);break;case 23:break;case 22:N=d.stateNode,O=d.alternate,d.memoizedState!==null?N._visibility&2?js(l,d,p,y):tv(l,d):N._visibility&2?js(l,d,p,y):(N._visibility|=2,Cp(l,d,p,y,(d.subtreeFlags&10256)!==0||!1)),_&2048&&iT(O,d);break;case 24:js(l,d,p,y),_&2048&&aT(d.alternate,d);break;default:js(l,d,p,y)}}function Cp(l,d,p,y,_){for(_=_&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var N=l,O=d,H=p,Y=y,ae=O.flags;switch(O.tag){case 0:case 11:case 15:Cp(N,O,H,Y,_),Zy(8,O);break;case 23:break;case 22:var he=O.stateNode;O.memoizedState!==null?he._visibility&2?Cp(N,O,H,Y,_):tv(N,O):(he._visibility|=2,Cp(N,O,H,Y,_)),_&&ae&2048&&iT(O.alternate,O);break;case 24:Cp(N,O,H,Y,_),_&&ae&2048&&aT(O.alternate,O);break;default:Cp(N,O,H,Y,_)}d=d.sibling}}function tv(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,y=d,_=y.flags;switch(y.tag){case 22:tv(p,y),_&2048&&iT(y.alternate,y);break;case 24:tv(p,y),_&2048&&aT(y.alternate,y);break;default:tv(p,y)}d=d.sibling}}var nv=8192;function Tp(l,d,p){if(l.subtreeFlags&nv)for(l=l.child;l!==null;)tj(l,d,p),l=l.sibling}function tj(l,d,p){switch(l.tag){case 26:Tp(l,d,p),l.flags&nv&&l.memoizedState!==null&&qX(p,Os,l.memoizedState,l.memoizedProps);break;case 5:Tp(l,d,p);break;case 3:case 4:var y=Os;Os=iS(l.stateNode.containerInfo),Tp(l,d,p),Os=y;break;case 22:l.memoizedState===null&&(y=l.alternate,y!==null&&y.memoizedState!==null?(y=nv,nv=16777216,Tp(l,d,p),nv=y):Tp(l,d,p));break;default:Tp(l,d,p)}}function nj(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function rv(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];br=y,ij(y,l)}nj(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rj(l),l=l.sibling}function rj(l){switch(l.tag){case 0:case 11:case 15:rv(l),l.flags&2048&&oc(9,l,l.return);break;case 3:rv(l);break;case 12:rv(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,$w(l)):rv(l);break;default:rv(l)}}function $w(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];br=y,ij(y,l)}nj(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:oc(8,d,d.return),$w(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,$w(d));break;default:$w(d)}l=l.sibling}}function ij(l,d){for(;br!==null;){var p=br;switch(p.tag){case 0:case 11:case 15:oc(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:By(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,br=y;else e:for(p=l;br!==null;){y=br;var _=y.sibling,N=y.return;if(YO(y),y===p){br=null;break e}if(_!==null){_.return=N,br=_;break e}br=N}}}var aX={getCacheForType:function(l){var d=Or(Yn),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p},cacheSignal:function(){return Or(Yn).controller.signal}},sX=typeof WeakMap=="function"?WeakMap:Map,kt=0,Qt=null,ht=null,yt=0,Lt=0,ga=null,lc=!1,Np=!1,sT=!1,Sl=0,Mn=0,uc=0,of=0,oT=0,ya=0,Rp=0,iv=null,Hi=null,lT=!1,Vw=0,aj=0,Ww=1/0,Yw=null,cc=null,ir=0,dc=null,Mp=null,El=0,uT=0,cT=null,sj=null,av=0,dT=null;function va(){return(kt&2)!==0&&yt!==0?yt&-yt:G.T!==null?yT():Se()}function oj(){if(ya===0)if((yt&536870912)===0||xt){var l=Bd;Bd<<=1,(Bd&3932160)===0&&(Bd=262144),ya=l}else ya=536870912;return l=pa.current,l!==null&&(l.flags|=32),ya}function Gi(l,d,p){(l===Qt&&(Lt===2||Lt===9)||l.cancelPendingCommit!==null)&&(Pp(l,0),fc(l,yt,ya,!1)),Xu(l,p),((kt&2)===0||l!==Qt)&&(l===Qt&&((kt&2)===0&&(of|=p),Mn===4&&fc(l,yt,ya,!1)),yo(l))}function lj(l,d,p){if((kt&6)!==0)throw Error(r(327));var y=!p&&(d&127)===0&&(d&l.expiredLanes)===0||Hd(l,d),_=y?uX(l,d):hT(l,d,!0),N=y;do{if(_===0){Np&&!y&&fc(l,d,0,!1);break}else{if(p=l.current.alternate,N&&!oX(p)){_=hT(l,d,!1),N=!1;continue}if(_===2){if(N=d,l.errorRecoveryDisabledLanes&N)var O=0;else O=l.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){d=O;e:{var H=l;_=iv;var Y=H.current.memoizedState.isDehydrated;if(Y&&(Pp(H,O).flags|=256),O=hT(H,O,!1),O!==2){if(sT&&!Y){H.errorRecoveryDisabledLanes|=N,of|=N,_=4;break e}N=Hi,Hi=_,N!==null&&(Hi===null?Hi=N:Hi.push.apply(Hi,N))}_=O}if(N=!1,_!==2)continue}}if(_===1){Pp(l,0),fc(l,d,0,!0);break}e:{switch(y=l,N=_,N){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:fc(y,d,ya,!lc);break e;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(_=Vw+300-wn(),10<_)){if(fc(y,d,ya,!lc),zd(y,0,!0)!==0)break e;El=d,y.timeoutHandle=Uj(uj.bind(null,y,p,Hi,Yw,lT,d,ya,of,Rp,lc,N,"Throttled",-0,0),_);break e}uj(y,p,Hi,Yw,lT,d,ya,of,Rp,lc,N,null,-0,0)}}break}while(!0);yo(l)}function uj(l,d,p,y,_,N,O,H,Y,ae,he,ye,se,ue){if(l.timeoutHandle=-1,ye=d.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},tj(d,N,ye);var Le=(N&62914560)===N?Vw-wn():(N&4194048)===N?aj-wn():0;if(Le=$X(ye,Le),Le!==null){El=N,l.cancelPendingCommit=Le(yj.bind(null,l,d,N,p,y,_,O,H,Y,he,ye,null,se,ue)),fc(l,N,O,!ae);return}}yj(l,d,N,p,y,_,O,H,Y)}function oX(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var _=p[y],N=_.getSnapshot;_=_.value;try{if(!fa(N(),_))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function fc(l,d,p,y){d&=~oT,d&=~of,l.suspendedLanes|=d,l.pingedLanes&=~d,y&&(l.warmLanes|=d),y=l.expirationTimes;for(var _=d;0<_;){var N=31-ti(_),O=1<<N;y[N]=-1,_&=~O}p!==0&&sw(l,p,d)}function Kw(){return(kt&6)===0?(sv(0),!1):!0}function fT(){if(ht!==null){if(Lt===0)var l=ht.return;else l=ht,fl=Jd=null,NC(l),wp=null,Hy=0,l=ht;for(;l!==null;)BO(l.alternate,l),l=l.return;ht=null}}function Pp(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,TX(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),El=0,fT(),Qt=l,ht=p=cl(l.current,null),yt=d,Lt=0,ga=null,lc=!1,Np=Hd(l,d),sT=!1,Rp=ya=oT=of=uc=Mn=0,Hi=iv=null,lT=!1,(d&8)!==0&&(d|=d&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=d;0<y;){var _=31-ti(y),N=1<<_;d|=l[_],y&=~N}return Sl=d,gw(),p}function cj(l,d){at=null,G.H=Xy,d===xp||d===Aw?(d=CL(),Lt=3):d===gC?(d=CL(),Lt=4):Lt=d===qC?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,ga=d,ht===null&&(Mn=1,Fw(l,Za(d,l.current)))}function dj(){var l=pa.current;return l===null?!0:(yt&4194048)===yt?rs===null:(yt&62914560)===yt||(yt&536870912)!==0?l===rs:!1}function fj(){var l=G.H;return G.H=Xy,l===null?Xy:l}function hj(){var l=G.A;return G.A=aX,l}function Xw(){Mn=4,lc||(yt&4194048)!==yt&&pa.current!==null||(Np=!0),(uc&134217727)===0&&(of&134217727)===0||Qt===null||fc(Qt,yt,ya,!1)}function hT(l,d,p){var y=kt;kt|=2;var _=fj(),N=hj();(Qt!==l||yt!==d)&&(Yw=null,Pp(l,d)),d=!1;var O=Mn;e:do try{if(Lt!==0&&ht!==null){var H=ht,Y=ga;switch(Lt){case 8:fT(),O=6;break e;case 3:case 2:case 9:case 6:pa.current===null&&(d=!0);var ae=Lt;if(Lt=0,ga=null,kp(l,H,Y,ae),p&&Np){O=0;break e}break;default:ae=Lt,Lt=0,ga=null,kp(l,H,Y,ae)}}lX(),O=Mn;break}catch(he){cj(l,he)}while(!0);return d&&l.shellSuspendCounter++,fl=Jd=null,kt=y,G.H=_,G.A=N,ht===null&&(Qt=null,yt=0,gw()),O}function lX(){for(;ht!==null;)pj(ht)}function uX(l,d){var p=kt;kt|=2;var y=fj(),_=hj();Qt!==l||yt!==d?(Yw=null,Ww=wn()+500,Pp(l,d)):Np=Hd(l,d);e:do try{if(Lt!==0&&ht!==null){d=ht;var N=ga;t:switch(Lt){case 1:Lt=0,ga=null,kp(l,d,N,1);break;case 2:case 9:if(AL(N)){Lt=0,ga=null,mj(d);break}d=function(){Lt!==2&&Lt!==9||Qt!==l||(Lt=7),yo(l)},N.then(d,d);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:AL(N)?(Lt=0,ga=null,mj(d)):(Lt=0,ga=null,kp(l,d,N,7));break;case 5:var O=null;switch(ht.tag){case 26:O=ht.memoizedState;case 5:case 27:var H=ht;if(O?eF(O):H.stateNode.complete){Lt=0,ga=null;var Y=H.sibling;if(Y!==null)ht=Y;else{var ae=H.return;ae!==null?(ht=ae,Jw(ae)):ht=null}break t}}Lt=0,ga=null,kp(l,d,N,5);break;case 6:Lt=0,ga=null,kp(l,d,N,6);break;case 8:fT(),Mn=6;break e;default:throw Error(r(462))}}cX();break}catch(he){cj(l,he)}while(!0);return fl=Jd=null,G.H=y,G.A=_,kt=p,ht!==null?0:(Qt=null,yt=0,gw(),Mn)}function cX(){for(;ht!==null&&!_y();)pj(ht)}function pj(l){var d=FO(l.alternate,l,Sl);l.memoizedProps=l.pendingProps,d===null?Jw(l):ht=d}function mj(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=kO(p,d,d.pendingProps,d.type,void 0,yt);break;case 11:d=kO(p,d,d.pendingProps,d.type.render,d.ref,yt);break;case 5:NC(d);default:BO(p,d),d=ht=hL(d,Sl),d=FO(p,d,Sl)}l.memoizedProps=l.pendingProps,d===null?Jw(l):ht=d}function kp(l,d,p,y){fl=Jd=null,NC(d),wp=null,Hy=0;var _=d.return;try{if(QK(l,_,d,p,yt)){Mn=1,Fw(l,Za(p,l.current)),ht=null;return}}catch(N){if(_!==null)throw ht=_,N;Mn=1,Fw(l,Za(p,l.current)),ht=null;return}d.flags&32768?(xt||y===1?l=!0:Np||(yt&536870912)!==0?l=!1:(lc=l=!0,(y===2||y===9||y===3||y===6)&&(y=pa.current,y!==null&&y.tag===13&&(y.flags|=16384))),gj(d,l)):Jw(d)}function Jw(l){var d=l;do{if((d.flags&32768)!==0){gj(d,lc);return}l=d.return;var p=tX(d.alternate,d,Sl);if(p!==null){ht=p;return}if(d=d.sibling,d!==null){ht=d;return}ht=d=l}while(d!==null);Mn===0&&(Mn=5)}function gj(l,d){do{var p=nX(l.alternate,l);if(p!==null){p.flags&=32767,ht=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){ht=l;return}ht=l=p}while(l!==null);Mn=6,ht=null}function yj(l,d,p,y,_,N,O,H,Y){l.cancelPendingCommit=null;do Qw();while(ir!==0);if((kt&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(N=d.lanes|d.childLanes,N|=tC,k_(l,p,N,O,H,Y),l===Qt&&(ht=Qt=null,yt=0),Mp=d,dc=l,El=p,uT=N,cT=_,sj=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,pX(Fn,function(){return Sj(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=G.T,G.T=null,_=$.p,$.p=2,O=kt,kt|=4;try{rX(l,d,p)}finally{kt=O,$.p=_,G.T=y}}ir=1,vj(),bj(),xj()}}function vj(){if(ir===1){ir=0;var l=dc,d=Mp,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=G.T,G.T=null;var y=$.p;$.p=2;var _=kt;kt|=4;try{QO(d,l);var N=_T,O=iL(l.containerInfo),H=N.focusedElem,Y=N.selectionRange;if(O!==H&&H&&H.ownerDocument&&rL(H.ownerDocument.documentElement,H)){if(Y!==null&&X_(H)){var ae=Y.start,he=Y.end;if(he===void 0&&(he=ae),"selectionStart"in H)H.selectionStart=ae,H.selectionEnd=Math.min(he,H.value.length);else{var ye=H.ownerDocument||document,se=ye&&ye.defaultView||window;if(se.getSelection){var ue=se.getSelection(),Le=H.textContent.length,Je=Math.min(Y.start,Le),qt=Y.end===void 0?Je:Math.min(Y.end,Le);!ue.extend&&Je>qt&&(O=qt,qt=Je,Je=O);var ne=nL(H,Je),X=nL(H,qt);if(ne&&X&&(ue.rangeCount!==1||ue.anchorNode!==ne.node||ue.anchorOffset!==ne.offset||ue.focusNode!==X.node||ue.focusOffset!==X.offset)){var ie=ye.createRange();ie.setStart(ne.node,ne.offset),ue.removeAllRanges(),Je>qt?(ue.addRange(ie),ue.extend(X.node,X.offset)):(ie.setEnd(X.node,X.offset),ue.addRange(ie))}}}}for(ye=[],ue=H;ue=ue.parentNode;)ue.nodeType===1&&ye.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ye.length;H++){var me=ye[H];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}cS=!!AT,_T=AT=null}finally{kt=_,$.p=y,G.T=p}}l.current=d,ir=2}}function bj(){if(ir===2){ir=0;var l=dc,d=Mp,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=G.T,G.T=null;var y=$.p;$.p=2;var _=kt;kt|=4;try{WO(l,d.alternate,d)}finally{kt=_,$.p=y,G.T=p}}ir=3}}function xj(){if(ir===4||ir===3){ir=0,Cy();var l=dc,d=Mp,p=El,y=sj;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?ir=5:(ir=0,Mp=dc=null,wj(l,l.pendingLanes));var _=l.pendingLanes;if(_===0&&(cc=null),ve(p),d=d.stateNode,Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Ud,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=G.T,_=$.p,$.p=2,G.T=null;try{for(var N=l.onRecoverableError,O=0;O<y.length;O++){var H=y[O];N(H.value,{componentStack:H.stack})}}finally{G.T=d,$.p=_}}(El&3)!==0&&Qw(),yo(l),_=l.pendingLanes,(p&261930)!==0&&(_&42)!==0?l===dT?av++:(av=0,dT=l):av=0,sv(0)}}function wj(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,By(d)))}function Qw(){return vj(),bj(),xj(),Sj()}function Sj(){if(ir!==5)return!1;var l=dc,d=uT;uT=0;var p=ve(El),y=G.T,_=$.p;try{$.p=32>p?32:p,G.T=null,p=cT,cT=null;var N=dc,O=El;if(ir=0,Mp=dc=null,El=0,(kt&6)!==0)throw Error(r(331));var H=kt;if(kt|=4,rj(N.current),ej(N,N.current,O,p),kt=H,sv(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Ud,N)}catch{}return!0}finally{$.p=_,G.T=y,wj(l,d)}}function Ej(l,d,p){d=Za(p,d),d=GC(l.stateNode,d,2),l=ic(l,d,2),l!==null&&(Xu(l,2),yo(l))}function Ot(l,d,p){if(l.tag===3)Ej(l,l,p);else for(;d!==null;){if(d.tag===3){Ej(d,l,p);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(cc===null||!cc.has(y))){l=Za(p,l),p=AO(2),y=ic(d,p,2),y!==null&&(_O(p,y,d,l),Xu(y,2),yo(y));break}}d=d.return}}function pT(l,d,p){var y=l.pingCache;if(y===null){y=l.pingCache=new sX;var _=new Set;y.set(d,_)}else _=y.get(d),_===void 0&&(_=new Set,y.set(d,_));_.has(p)||(sT=!0,_.add(p),l=dX.bind(null,l,d,p),d.then(l,l))}function dX(l,d,p){var y=l.pingCache;y!==null&&y.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Qt===l&&(yt&p)===p&&(Mn===4||Mn===3&&(yt&62914560)===yt&&300>wn()-Vw?(kt&2)===0&&Pp(l,0):oT|=p,Rp===yt&&(Rp=0)),yo(l)}function Aj(l,d){d===0&&(d=Gd()),l=Yd(l,d),l!==null&&(Xu(l,d),yo(l))}function fX(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),Aj(l,p)}function hX(l,d){var p=0;switch(l.tag){case 31:case 13:var y=l.stateNode,_=l.memoizedState;_!==null&&(p=_.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(d),Aj(l,p)}function pX(l,d){return jd(l,d)}var Zw=null,Dp=null,mT=!1,eS=!1,gT=!1,hc=0;function yo(l){l!==Dp&&l.next===null&&(Dp===null?Zw=Dp=l:Dp=Dp.next=l),eS=!0,mT||(mT=!0,gX())}function sv(l,d){if(!gT&&eS){gT=!0;do for(var p=!1,y=Zw;y!==null;){if(l!==0){var _=y.pendingLanes;if(_===0)var N=0;else{var O=y.suspendedLanes,H=y.pingedLanes;N=(1<<31-ti(42|l)+1)-1,N&=_&~(O&~H),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,Nj(y,N))}else N=yt,N=zd(y,y===Qt?N:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(N&3)===0||Hd(y,N)||(p=!0,Nj(y,N));y=y.next}while(p);gT=!1}}function mX(){_j()}function _j(){eS=mT=!1;var l=0;hc!==0&&CX()&&(l=hc);for(var d=wn(),p=null,y=Zw;y!==null;){var _=y.next,N=Cj(y,d);N===0?(y.next=null,p===null?Zw=_:p.next=_,_===null&&(Dp=p)):(p=y,(l!==0||(N&3)!==0)&&(eS=!0)),y=_}ir!==0&&ir!==5||sv(l),hc!==0&&(hc=0)}function Cj(l,d){for(var p=l.suspendedLanes,y=l.pingedLanes,_=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var O=31-ti(N),H=1<<O,Y=_[O];Y===-1?((H&p)===0||(H&y)!==0)&&(_[O]=aw(H,d)):Y<=d&&(l.expiredLanes|=H),N&=~H}if(d=Qt,p=yt,p=zd(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,p===0||l===d&&(Lt===2||Lt===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&ho(y),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||Hd(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(y!==null&&ho(y),ve(p)){case 2:case 8:p=xi;break;case 32:p=Fn;break;case 268435456:p=al;break;default:p=Fn}return y=Tj.bind(null,l),p=jd(p,y),l.callbackPriority=d,l.callbackNode=p,d}return y!==null&&y!==null&&ho(y),l.callbackPriority=2,l.callbackNode=null,2}function Tj(l,d){if(ir!==0&&ir!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(Qw()&&l.callbackNode!==p)return null;var y=yt;return y=zd(l,l===Qt?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(lj(l,y,d),Cj(l,wn()),l.callbackNode!=null&&l.callbackNode===p?Tj.bind(null,l):null)}function Nj(l,d){if(Qw())return null;lj(l,d,!0)}function gX(){NX(function(){(kt&6)!==0?jd(Fd,mX):_j()})}function yT(){if(hc===0){var l=vp;l===0&&(l=sl,sl<<=1,(sl&261888)===0&&(sl=256)),hc=l}return hc}function Rj(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:lw(""+l)}function Mj(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function yX(l,d,p,y,_){if(d==="submit"&&p&&p.stateNode===_){var N=Rj((_[Re]||null).action),O=y.submitter;O&&(d=(d=O[Re]||null)?Rj(d.formAction):O.getAttribute("formAction"),d!==null&&(N=d,O=null));var H=new fw("action","action",null,y,_);l.push({event:H,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(hc!==0){var Y=O?Mj(_,O):new FormData(_);jC(p,{pending:!0,data:Y,method:_.method,action:N},null,Y)}}else typeof N=="function"&&(H.preventDefault(),Y=O?Mj(_,O):new FormData(_),jC(p,{pending:!0,data:Y,method:_.method,action:N},N,Y))},currentTarget:_}]})}}for(var vT=0;vT<eC.length;vT++){var bT=eC[vT],vX=bT.toLowerCase(),bX=bT[0].toUpperCase()+bT.slice(1);Ls(vX,"on"+bX)}Ls(oL,"onAnimationEnd"),Ls(lL,"onAnimationIteration"),Ls(uL,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(LK,"onTransitionRun"),Ls(OK,"onTransitionStart"),Ls(jK,"onTransitionCancel"),Ls(cL,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ov="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ov));function Pj(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var y=l[p],_=y.event;y=y.listeners;e:{var N=void 0;if(d)for(var O=y.length-1;0<=O;O--){var H=y[O],Y=H.instance,ae=H.currentTarget;if(H=H.listener,Y!==N&&_.isPropagationStopped())break e;N=H,_.currentTarget=ae;try{N(_)}catch(he){mw(he)}_.currentTarget=null,N=Y}else for(O=0;O<y.length;O++){if(H=y[O],Y=H.instance,ae=H.currentTarget,H=H.listener,Y!==N&&_.isPropagationStopped())break e;N=H,_.currentTarget=ae;try{N(_)}catch(he){mw(he)}_.currentTarget=null,N=Y}}}}function pt(l,d){var p=d[Xe];p===void 0&&(p=d[Xe]=new Set);var y=l+"__bubble";p.has(y)||(kj(d,l,2,!1),p.add(y))}function xT(l,d,p){var y=0;d&&(y|=4),kj(p,l,y,d)}var tS="_reactListening"+Math.random().toString(36).slice(2);function wT(l){if(!l[tS]){l[tS]=!0,ca.forEach(function(p){p!=="selectionchange"&&(xX.has(p)||xT(p,!1,l),xT(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[tS]||(d[tS]=!0,xT("selectionchange",!1,d))}}function kj(l,d,p,y){switch(oF(d)){case 2:var _=YX;break;case 8:_=KX;break;default:_=OT}p=_.bind(null,d,p,l),_=void 0,!z_||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_=!0),y?_!==void 0?l.addEventListener(d,p,{capture:!0,passive:_}):l.addEventListener(d,p,!0):_!==void 0?l.addEventListener(d,p,{passive:_}):l.addEventListener(d,p,!1)}function ST(l,d,p,y,_){var N=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var H=y.stateNode.containerInfo;if(H===_)break;if(O===4)for(O=y.return;O!==null;){var Y=O.tag;if((Y===3||Y===4)&&O.stateNode.containerInfo===_)return;O=O.return}for(;H!==null;){if(O=At(H),O===null)return;if(Y=O.tag,Y===5||Y===6||Y===26||Y===27){y=N=O;continue e}H=H.parentNode}}y=y.return}jI(function(){var ae=N,he=U_(p),ye=[];e:{var se=dL.get(l);if(se!==void 0){var ue=fw,Le=l;switch(l){case"keypress":if(cw(p)===0)break e;case"keydown":case"keyup":ue=hK;break;case"focusin":Le="focus",ue=$_;break;case"focusout":Le="blur",ue=$_;break;case"beforeblur":case"afterblur":ue=$_;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=BI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=tK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=gK;break;case oL:case lL:case uL:ue=iK;break;case cL:ue=vK;break;case"scroll":case"scrollend":ue=ZY;break;case"wheel":ue=xK;break;case"copy":case"cut":case"paste":ue=sK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=HI;break;case"toggle":case"beforetoggle":ue=SK}var Je=(d&4)!==0,qt=!Je&&(l==="scroll"||l==="scrollend"),ne=Je?se!==null?se+"Capture":null:se;Je=[];for(var X=ae,ie;X!==null;){var me=X;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||ne===null||(me=Ry(X,ne),me!=null&&Je.push(lv(X,me,ie))),qt)break;X=X.return}0<Je.length&&(se=new ue(se,Le,null,p,he),ye.push({event:se,listeners:Je}))}}if((d&7)===0){e:{if(se=l==="mouseover"||l==="pointerover",ue=l==="mouseout"||l==="pointerout",se&&p!==F_&&(Le=p.relatedTarget||p.fromElement)&&(At(Le)||Le[Be]))break e;if((ue||se)&&(se=he.window===he?he:(se=he.ownerDocument)?se.defaultView||se.parentWindow:window,ue?(Le=p.relatedTarget||p.toElement,ue=ae,Le=Le?At(Le):null,Le!==null&&(qt=a(Le),Je=Le.tag,Le!==qt||Je!==5&&Je!==27&&Je!==6)&&(Le=null)):(ue=null,Le=ae),ue!==Le)){if(Je=BI,me="onMouseLeave",ne="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(Je=HI,me="onPointerLeave",ne="onPointerEnter",X="pointer"),qt=ue==null?se:ua(ue),ie=Le==null?se:ua(Le),se=new Je(me,X+"leave",ue,p,he),se.target=qt,se.relatedTarget=ie,me=null,At(he)===ae&&(Je=new Je(ne,X+"enter",Le,p,he),Je.target=ie,Je.relatedTarget=qt,me=Je),qt=me,ue&&Le)t:{for(Je=wX,ne=ue,X=Le,ie=0,me=ne;me;me=Je(me))ie++;me=0;for(var We=X;We;We=Je(We))me++;for(;0<ie-me;)ne=Je(ne),ie--;for(;0<me-ie;)X=Je(X),me--;for(;ie--;){if(ne===X||X!==null&&ne===X.alternate){Je=ne;break t}ne=Je(ne),X=Je(X)}Je=null}else Je=null;ue!==null&&Dj(ye,se,ue,Je,!1),Le!==null&&qt!==null&&Dj(ye,qt,Le,Je,!0)}}e:{if(se=ae?ua(ae):window,ue=se.nodeName&&se.nodeName.toLowerCase(),ue==="select"||ue==="input"&&se.type==="file")var Tt=XI;else if(YI(se))if(JI)Tt=kK;else{Tt=MK;var Fe=RK}else ue=se.nodeName,!ue||ue.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&j_(ae.elementType)&&(Tt=XI):Tt=PK;if(Tt&&(Tt=Tt(l,ae))){KI(ye,Tt,p,he);break e}Fe&&Fe(l,se,ae),l==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&O_(se,"number",se.value)}switch(Fe=ae?ua(ae):window,l){case"focusin":(YI(Fe)||Fe.contentEditable==="true")&&(cp=Fe,J_=ae,jy=null);break;case"focusout":jy=J_=cp=null;break;case"mousedown":Q_=!0;break;case"contextmenu":case"mouseup":case"dragend":Q_=!1,aL(ye,p,he);break;case"selectionchange":if(IK)break;case"keydown":case"keyup":aL(ye,p,he)}var ot;if(W_)e:{switch(l){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else up?VI(l,p)&&(vt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(vt="onCompositionStart");vt&&(GI&&p.locale!=="ko"&&(up||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&up&&(ot=FI()):(Ju=he,H_="value"in Ju?Ju.value:Ju.textContent,up=!0)),Fe=nS(ae,vt),0<Fe.length&&(vt=new zI(vt,l,null,p,he),ye.push({event:vt,listeners:Fe}),ot?vt.data=ot:(ot=WI(p),ot!==null&&(vt.data=ot)))),(ot=AK?_K(l,p):CK(l,p))&&(vt=nS(ae,"onBeforeInput"),0<vt.length&&(Fe=new zI("onBeforeInput","beforeinput",null,p,he),ye.push({event:Fe,listeners:vt}),Fe.data=ot)),yX(ye,l,ae,p,he)}Pj(ye,d)})}function lv(l,d,p){return{instance:l,listener:d,currentTarget:p}}function nS(l,d){for(var p=d+"Capture",y=[];l!==null;){var _=l,N=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||N===null||(_=Ry(l,p),_!=null&&y.unshift(lv(l,_,N)),_=Ry(l,d),_!=null&&y.push(lv(l,_,N))),l.tag===3)return y;l=l.return}return[]}function wX(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Dj(l,d,p,y,_){for(var N=d._reactName,O=[];p!==null&&p!==y;){var H=p,Y=H.alternate,ae=H.stateNode;if(H=H.tag,Y!==null&&Y===y)break;H!==5&&H!==26&&H!==27||ae===null||(Y=ae,_?(ae=Ry(p,N),ae!=null&&O.unshift(lv(p,ae,Y))):_||(ae=Ry(p,N),ae!=null&&O.push(lv(p,ae,Y)))),p=p.return}O.length!==0&&l.push({event:d,listeners:O})}var SX=/\r\n?/g,EX=/\u0000|\uFFFD/g;function Ij(l){return(typeof l=="string"?l:""+l).replace(SX,`
`).replace(EX,"")}function Lj(l,d){return d=Ij(d),Ij(l)===d}function Gt(l,d,p,y,_,N){switch(p){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||sp(l,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&sp(l,""+y);break;case"className":Xa(l,"class",y);break;case"tabIndex":Xa(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Xa(l,p,y);break;case"style":LI(l,y,N);break;case"data":if(d!=="object"){Xa(l,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=lw(""+y),l.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(d!=="input"&&Gt(l,d,"name",_.name,_,null),Gt(l,d,"formEncType",_.formEncType,_,null),Gt(l,d,"formMethod",_.formMethod,_,null),Gt(l,d,"formTarget",_.formTarget,_,null)):(Gt(l,d,"encType",_.encType,_,null),Gt(l,d,"method",_.method,_,null),Gt(l,d,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(p);break}y=lw(""+y),l.setAttribute(p,y);break;case"onClick":y!=null&&(l.onclick=ll);break;case"onScroll":y!=null&&pt("scroll",l);break;case"onScrollEnd":y!=null&&pt("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}p=lw(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""+y):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":y===!0?l.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(p,y):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(p,y):l.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(p):l.setAttribute(p,y);break;case"popover":pt("beforetoggle",l),pt("toggle",l),Is(l,"popover",y);break;case"xlinkActuate":Ct(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ct(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ct(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ct(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ct(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ct(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ct(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ct(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ct(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Is(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=JY.get(p)||p,Is(l,p,y))}}function ET(l,d,p,y,_,N){switch(p){case"style":LI(l,y,N);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(p=y.__html,p!=null){if(_.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof y=="string"?sp(l,y):(typeof y=="number"||typeof y=="bigint")&&sp(l,""+y);break;case"onScroll":y!=null&&pt("scroll",l);break;case"onScrollEnd":y!=null&&pt("scrollend",l);break;case"onClick":y!=null&&(l.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rp.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(_=p.endsWith("Capture"),d=p.slice(2,_?p.length-7:void 0),N=l[Re]||null,N=N!=null?N[p]:null,typeof N=="function"&&l.removeEventListener(d,N,_),typeof y=="function")){typeof N!="function"&&N!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,y,_);break e}p in l?l[p]=y:y===!0?l.setAttribute(p,""):Is(l,p,y)}}}function Fr(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",l),pt("load",l);var y=!1,_=!1,N;for(N in p)if(p.hasOwnProperty(N)){var O=p[N];if(O!=null)switch(N){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Gt(l,d,N,O,p,null)}}_&&Gt(l,d,"srcSet",p.srcSet,p,null),y&&Gt(l,d,"src",p.src,p,null);return;case"input":pt("invalid",l);var H=N=O=_=null,Y=null,ae=null;for(y in p)if(p.hasOwnProperty(y)){var he=p[y];if(he!=null)switch(y){case"name":_=he;break;case"type":O=he;break;case"checked":Y=he;break;case"defaultChecked":ae=he;break;case"value":N=he;break;case"defaultValue":H=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,d));break;default:Gt(l,d,y,he,p,null)}}PI(l,N,H,Y,ae,O,_,!1);return;case"select":pt("invalid",l),y=O=N=null;for(_ in p)if(p.hasOwnProperty(_)&&(H=p[_],H!=null))switch(_){case"value":N=H;break;case"defaultValue":O=H;break;case"multiple":y=H;default:Gt(l,d,_,H,p,null)}d=N,p=O,l.multiple=!!y,d!=null?ap(l,!!y,d,!1):p!=null&&ap(l,!!y,p,!0);return;case"textarea":pt("invalid",l),N=_=y=null;for(O in p)if(p.hasOwnProperty(O)&&(H=p[O],H!=null))switch(O){case"value":y=H;break;case"defaultValue":_=H;break;case"children":N=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Gt(l,d,O,H,p,null)}DI(l,y,_,N);return;case"option":for(Y in p)if(p.hasOwnProperty(Y)&&(y=p[Y],y!=null))switch(Y){case"selected":l.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Gt(l,d,Y,y,p,null)}return;case"dialog":pt("beforetoggle",l),pt("toggle",l),pt("cancel",l),pt("close",l);break;case"iframe":case"object":pt("load",l);break;case"video":case"audio":for(y=0;y<ov.length;y++)pt(ov[y],l);break;case"image":pt("error",l),pt("load",l);break;case"details":pt("toggle",l);break;case"embed":case"source":case"link":pt("error",l),pt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in p)if(p.hasOwnProperty(ae)&&(y=p[ae],y!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Gt(l,d,ae,y,p,null)}return;default:if(j_(d)){for(he in p)p.hasOwnProperty(he)&&(y=p[he],y!==void 0&&ET(l,d,he,y,p,void 0));return}}for(H in p)p.hasOwnProperty(H)&&(y=p[H],y!=null&&Gt(l,d,H,y,p,null))}function AX(l,d,p,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,N=null,O=null,H=null,Y=null,ae=null,he=null;for(ue in p){var ye=p[ue];if(p.hasOwnProperty(ue)&&ye!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":Y=ye;default:y.hasOwnProperty(ue)||Gt(l,d,ue,null,y,ye)}}for(var se in y){var ue=y[se];if(ye=p[se],y.hasOwnProperty(se)&&(ue!=null||ye!=null))switch(se){case"type":N=ue;break;case"name":_=ue;break;case"checked":ae=ue;break;case"defaultChecked":he=ue;break;case"value":O=ue;break;case"defaultValue":H=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,d));break;default:ue!==ye&&Gt(l,d,se,ue,y,ye)}}L_(l,O,H,Y,ae,he,N,_);return;case"select":ue=O=H=se=null;for(N in p)if(Y=p[N],p.hasOwnProperty(N)&&Y!=null)switch(N){case"value":break;case"multiple":ue=Y;default:y.hasOwnProperty(N)||Gt(l,d,N,null,y,Y)}for(_ in y)if(N=y[_],Y=p[_],y.hasOwnProperty(_)&&(N!=null||Y!=null))switch(_){case"value":se=N;break;case"defaultValue":H=N;break;case"multiple":O=N;default:N!==Y&&Gt(l,d,_,N,y,Y)}d=H,p=O,y=ue,se!=null?ap(l,!!p,se,!1):!!y!=!!p&&(d!=null?ap(l,!!p,d,!0):ap(l,!!p,p?[]:"",!1));return;case"textarea":ue=se=null;for(H in p)if(_=p[H],p.hasOwnProperty(H)&&_!=null&&!y.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Gt(l,d,H,null,y,_)}for(O in y)if(_=y[O],N=p[O],y.hasOwnProperty(O)&&(_!=null||N!=null))switch(O){case"value":se=_;break;case"defaultValue":ue=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==N&&Gt(l,d,O,_,y,N)}kI(l,se,ue);return;case"option":for(var Le in p)if(se=p[Le],p.hasOwnProperty(Le)&&se!=null&&!y.hasOwnProperty(Le))switch(Le){case"selected":l.selected=!1;break;default:Gt(l,d,Le,null,y,se)}for(Y in y)if(se=y[Y],ue=p[Y],y.hasOwnProperty(Y)&&se!==ue&&(se!=null||ue!=null))switch(Y){case"selected":l.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Gt(l,d,Y,se,y,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in p)se=p[Je],p.hasOwnProperty(Je)&&se!=null&&!y.hasOwnProperty(Je)&&Gt(l,d,Je,null,y,se);for(ae in y)if(se=y[ae],ue=p[ae],y.hasOwnProperty(ae)&&se!==ue&&(se!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,d));break;default:Gt(l,d,ae,se,y,ue)}return;default:if(j_(d)){for(var qt in p)se=p[qt],p.hasOwnProperty(qt)&&se!==void 0&&!y.hasOwnProperty(qt)&&ET(l,d,qt,void 0,y,se);for(he in y)se=y[he],ue=p[he],!y.hasOwnProperty(he)||se===ue||se===void 0&&ue===void 0||ET(l,d,he,se,y,ue);return}}for(var ne in p)se=p[ne],p.hasOwnProperty(ne)&&se!=null&&!y.hasOwnProperty(ne)&&Gt(l,d,ne,null,y,se);for(ye in y)se=y[ye],ue=p[ye],!y.hasOwnProperty(ye)||se===ue||se==null&&ue==null||Gt(l,d,ye,se,y,ue)}function Oj(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _X(){if(typeof performance.getEntriesByType=="function"){for(var l=0,d=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var _=p[y],N=_.transferSize,O=_.initiatorType,H=_.duration;if(N&&H&&Oj(O)){for(O=0,H=_.responseEnd,y+=1;y<p.length;y++){var Y=p[y],ae=Y.startTime;if(ae>H)break;var he=Y.transferSize,ye=Y.initiatorType;he&&Oj(ye)&&(Y=Y.responseEnd,O+=he*(Y<H?1:(H-ae)/(Y-ae)))}if(--y,d+=8*(N+O)/(_.duration/1e3),l++,10<l)break}}if(0<l)return d/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var AT=null,_T=null;function rS(l){return l.nodeType===9?l:l.ownerDocument}function jj(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fj(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function CT(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var TT=null;function CX(){var l=window.event;return l&&l.type==="popstate"?l===TT?!1:(TT=l,!0):(TT=null,!1)}var Uj=typeof setTimeout=="function"?setTimeout:void 0,TX=typeof clearTimeout=="function"?clearTimeout:void 0,Bj=typeof Promise=="function"?Promise:void 0,NX=typeof queueMicrotask=="function"?queueMicrotask:typeof Bj<"u"?function(l){return Bj.resolve(null).then(l).catch(RX)}:Uj;function RX(l){setTimeout(function(){throw l})}function pc(l){return l==="head"}function zj(l,d){var p=d,y=0;do{var _=p.nextSibling;if(l.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"||p==="/&"){if(y===0){l.removeChild(_),jp(d);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")uv(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,uv(p);for(var N=p.firstChild;N;){var O=N.nextSibling,H=N.nodeName;N[un]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=O}}else p==="body"&&uv(l.ownerDocument.body);p=_}while(p);jp(d)}function Hj(l,d){var p=l;l=0;do{var y=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=y}while(p)}function NT(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":NT(p),Nn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function MX(l,d,p,y){for(;l.nodeType===1;){var _=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[un])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==_.rel||l.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||l.getAttribute("title")!==(_.title==null?null:_.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(_.src==null?null:_.src)||l.getAttribute("type")!==(_.type==null?null:_.type)||l.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var N=_.name==null?null:""+_.name;if(_.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=is(l.nextSibling),l===null)break}return null}function PX(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=is(l.nextSibling),l===null))return null;return l}function Gj(l,d){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=is(l.nextSibling),l===null))return null;return l}function RT(l){return l.data==="$?"||l.data==="$~"}function MT(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function kX(l,d){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=d;else if(l.data!=="$?"||p.readyState!=="loading")d();else{var y=function(){d(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function is(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return l}var PT=null;function qj(l){l=l.nextSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(d===0)return is(l.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}l=l.nextSibling}return null}function $j(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return l;d--}else p!=="/$"&&p!=="/&"||d++}l=l.previousSibling}return null}function Vj(l,d,p){switch(d=rS(p),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function uv(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Nn(l)}var as=new Map,Wj=new Set;function iS(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Al=$.d;$.d={f:DX,r:IX,D:LX,C:OX,L:jX,m:FX,X:BX,S:UX,M:zX};function DX(){var l=Al.f(),d=Kw();return l||d}function IX(l){var d=_t(l);d!==null&&d.tag===5&&d.type==="form"?cO(d):Al.r(l)}var Ip=typeof document>"u"?null:document;function Yj(l,d,p){var y=Ip;if(y&&typeof d=="string"&&d){var _=Ja(d);_='link[rel="'+l+'"][href="'+_+'"]',typeof p=="string"&&(_+='[crossorigin="'+p+'"]'),Wj.has(_)||(Wj.add(_),l={rel:l,crossOrigin:p,href:d},y.querySelector(_)===null&&(d=y.createElement("link"),Fr(d,"link",l),Jt(d),y.head.appendChild(d)))}}function LX(l){Al.D(l),Yj("dns-prefetch",l,null)}function OX(l,d){Al.C(l,d),Yj("preconnect",l,d)}function jX(l,d,p){Al.L(l,d,p);var y=Ip;if(y&&l&&d){var _='link[rel="preload"][as="'+Ja(d)+'"]';d==="image"&&p&&p.imageSrcSet?(_+='[imagesrcset="'+Ja(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(_+='[imagesizes="'+Ja(p.imageSizes)+'"]')):_+='[href="'+Ja(l)+'"]';var N=_;switch(d){case"style":N=Lp(l);break;case"script":N=Op(l)}as.has(N)||(l=h({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),as.set(N,l),y.querySelector(_)!==null||d==="style"&&y.querySelector(cv(N))||d==="script"&&y.querySelector(dv(N))||(d=y.createElement("link"),Fr(d,"link",l),Jt(d),y.head.appendChild(d)))}}function FX(l,d){Al.m(l,d);var p=Ip;if(p&&l){var y=d&&typeof d.as=="string"?d.as:"script",_='link[rel="modulepreload"][as="'+Ja(y)+'"][href="'+Ja(l)+'"]',N=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Op(l)}if(!as.has(N)&&(l=h({rel:"modulepreload",href:l},d),as.set(N,l),p.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(dv(N)))return}y=p.createElement("link"),Fr(y,"link",l),Jt(y),p.head.appendChild(y)}}}function UX(l,d,p){Al.S(l,d,p);var y=Ip;if(y&&l){var _=Ka(y).hoistableStyles,N=Lp(l);d=d||"default";var O=_.get(N);if(!O){var H={loading:0,preload:null};if(O=y.querySelector(cv(N)))H.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":d},p),(p=as.get(N))&&kT(l,p);var Y=O=y.createElement("link");Jt(Y),Fr(Y,"link",l),Y._p=new Promise(function(ae,he){Y.onload=ae,Y.onerror=he}),Y.addEventListener("load",function(){H.loading|=1}),Y.addEventListener("error",function(){H.loading|=2}),H.loading|=4,aS(O,d,y)}O={type:"stylesheet",instance:O,count:1,state:H},_.set(N,O)}}}function BX(l,d){Al.X(l,d);var p=Ip;if(p&&l){var y=Ka(p).hoistableScripts,_=Op(l),N=y.get(_);N||(N=p.querySelector(dv(_)),N||(l=h({src:l,async:!0},d),(d=as.get(_))&&DT(l,d),N=p.createElement("script"),Jt(N),Fr(N,"link",l),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(_,N))}}function zX(l,d){Al.M(l,d);var p=Ip;if(p&&l){var y=Ka(p).hoistableScripts,_=Op(l),N=y.get(_);N||(N=p.querySelector(dv(_)),N||(l=h({src:l,async:!0,type:"module"},d),(d=as.get(_))&&DT(l,d),N=p.createElement("script"),Jt(N),Fr(N,"link",l),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(_,N))}}function Kj(l,d,p,y){var _=(_=Te.current)?iS(_):null;if(!_)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=Lp(p.href),p=Ka(_).hoistableStyles,y=p.get(d),y||(y={type:"style",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Lp(p.href);var N=Ka(_).hoistableStyles,O=N.get(l);if(O||(_=_.ownerDocument||_,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,O),(N=_.querySelector(cv(l)))&&!N._p&&(O.instance=N,O.state.loading=5),as.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},as.set(l,p),N||HX(_,l,p,O.state))),d&&y===null)throw Error(r(528,""));return O}if(d&&y!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Op(p),p=Ka(_).hoistableScripts,y=p.get(d),y||(y={type:"script",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Lp(l){return'href="'+Ja(l)+'"'}function cv(l){return'link[rel="stylesheet"]['+l+"]"}function Xj(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function HX(l,d,p,y){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=l.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),Fr(d,"link",p),Jt(d),l.head.appendChild(d))}function Op(l){return'[src="'+Ja(l)+'"]'}function dv(l){return"script[async]"+l}function Jj(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var y=l.querySelector('style[data-href~="'+Ja(p.href)+'"]');if(y)return d.instance=y,Jt(y),y;var _=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),Jt(y),Fr(y,"style",_),aS(y,p.precedence,l),d.instance=y;case"stylesheet":_=Lp(p.href);var N=l.querySelector(cv(_));if(N)return d.state.loading|=4,d.instance=N,Jt(N),N;y=Xj(p),(_=as.get(_))&&kT(y,_),N=(l.ownerDocument||l).createElement("link"),Jt(N);var O=N;return O._p=new Promise(function(H,Y){O.onload=H,O.onerror=Y}),Fr(N,"link",y),d.state.loading|=4,aS(N,p.precedence,l),d.instance=N;case"script":return N=Op(p.src),(_=l.querySelector(dv(N)))?(d.instance=_,Jt(_),_):(y=p,(_=as.get(N))&&(y=h({},p),DT(y,_)),l=l.ownerDocument||l,_=l.createElement("script"),Jt(_),Fr(_,"link",y),l.head.appendChild(_),d.instance=_);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,aS(y,p.precedence,l));return d.instance}function aS(l,d,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,N=_,O=0;O<y.length;O++){var H=y[O];if(H.dataset.precedence===d)N=H;else if(N!==_)break}N?N.parentNode.insertBefore(l,N.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function kT(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function DT(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var sS=null;function Qj(l,d,p){if(sS===null){var y=new Map,_=sS=new Map;_.set(p,y)}else _=sS,y=_.get(p),y||(y=new Map,_.set(p,y));if(y.has(l))return y;for(y.set(l,null),p=p.getElementsByTagName(l),_=0;_<p.length;_++){var N=p[_];if(!(N[un]||N[_e]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var O=N.getAttribute(d)||"";O=l+O;var H=y.get(O);H?H.push(N):y.set(O,[N])}}return y}function Zj(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function GX(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function eF(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function qX(l,d,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var _=Lp(y.href),N=d.querySelector(cv(_));if(N){d=N._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(l.count++,l=oS.bind(l),d.then(l,l)),p.state.loading|=4,p.instance=N,Jt(N);return}N=d.ownerDocument||d,y=Xj(y),(_=as.get(_))&&kT(y,_),N=N.createElement("link"),Jt(N);var O=N;O._p=new Promise(function(H,Y){O.onload=H,O.onerror=Y}),Fr(N,"link",y),p.instance=N}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=oS.bind(l),d.addEventListener("load",p),d.addEventListener("error",p))}}var IT=0;function $X(l,d){return l.stylesheets&&l.count===0&&uS(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var y=setTimeout(function(){if(l.stylesheets&&uS(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4+d);0<l.imgBytes&&IT===0&&(IT=62500*_X());var _=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&uS(l,l.stylesheets),l.unsuspend)){var N=l.unsuspend;l.unsuspend=null,N()}},(l.imgBytes>IT?50:800)+d);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(y),clearTimeout(_)}}:null}function oS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uS(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var lS=null;function uS(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,lS=new Map,d.forEach(VX,l),lS=null,oS.call(l))}function VX(l,d){if(!(d.state.loading&4)){var p=lS.get(l);if(p)var y=p.get(null);else{p=new Map,lS.set(l,p);for(var _=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<_.length;N++){var O=_[N];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(p.set(O.dataset.precedence,O),y=O)}y&&p.set(null,y)}_=d.instance,O=_.getAttribute("data-precedence"),N=p.get(O)||y,N===y&&p.set(null,_),p.set(O,_),this.count++,y=oS.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),N?N.parentNode.insertBefore(_,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(_,l.firstChild)),d.state.loading|=4}}var fv={$$typeof:R,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function WX(l,d,p,y,_,N,O,H,Y){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ku(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ku(0),this.hiddenUpdates=Ku(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=N,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function tF(l,d,p,y,_,N,O,H,Y,ae,he,ye){return l=new WX(l,d,p,O,Y,ae,he,ye,H),d=1,N===!0&&(d|=24),N=ha(3,null,null,d),l.current=N,N.stateNode=l,d=hC(),d.refCount++,l.pooledCache=d,d.refCount++,N.memoizedState={element:y,isDehydrated:p,cache:d},yC(N),l}function nF(l){return l?(l=hp,l):hp}function rF(l,d,p,y,_,N){_=nF(_),y.context===null?y.context=_:y.pendingContext=_,y=rc(d),y.payload={element:p},N=N===void 0?null:N,N!==null&&(y.callback=N),p=ic(l,y,d),p!==null&&(Gi(p,l,d),qy(p,l,d))}function iF(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function LT(l,d){iF(l,d),(l=l.alternate)&&iF(l,d)}function aF(l){if(l.tag===13||l.tag===31){var d=Yd(l,67108864);d!==null&&Gi(d,l,67108864),LT(l,67108864)}}function sF(l){if(l.tag===13||l.tag===31){var d=va();d=oe(d);var p=Yd(l,d);p!==null&&Gi(p,l,d),LT(l,d)}}var cS=!0;function YX(l,d,p,y){var _=G.T;G.T=null;var N=$.p;try{$.p=2,OT(l,d,p,y)}finally{$.p=N,G.T=_}}function KX(l,d,p,y){var _=G.T;G.T=null;var N=$.p;try{$.p=8,OT(l,d,p,y)}finally{$.p=N,G.T=_}}function OT(l,d,p,y){if(cS){var _=jT(y);if(_===null)ST(l,d,y,dS,p),lF(l,y);else if(JX(_,l,d,p,y))y.stopPropagation();else if(lF(l,y),d&4&&-1<XX.indexOf(l)){for(;_!==null;){var N=_t(_);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var O=ol(N.pendingLanes);if(O!==0){var H=N;for(H.pendingLanes|=2,H.entangledLanes|=2;O;){var Y=1<<31-ti(O);H.entanglements[1]|=Y,O&=~Y}yo(N),(kt&6)===0&&(Ww=wn()+500,sv(0))}}break;case 31:case 13:H=Yd(N,2),H!==null&&Gi(H,N,2),Kw(),LT(N,2)}if(N=jT(y),N===null&&ST(l,d,y,dS,p),N===_)break;_=N}_!==null&&y.stopPropagation()}else ST(l,d,y,null,p)}}function jT(l){return l=U_(l),FT(l)}var dS=null;function FT(l){if(dS=null,l=At(l),l!==null){var d=a(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=s(d),l!==null)return l;l=null}else if(p===31){if(l=o(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return dS=l,null}function oF(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(il()){case Fd:return 2;case xi:return 8;case Fn:case Wn:return 32;case al:return 268435456;default:return 32}default:return 32}}var UT=!1,mc=null,gc=null,yc=null,hv=new Map,pv=new Map,vc=[],XX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lF(l,d){switch(l){case"focusin":case"focusout":mc=null;break;case"dragenter":case"dragleave":gc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":hv.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":pv.delete(d.pointerId)}}function mv(l,d,p,y,_,N){return l===null||l.nativeEvent!==N?(l={blockedOn:d,domEventName:p,eventSystemFlags:y,nativeEvent:N,targetContainers:[_]},d!==null&&(d=_t(d),d!==null&&aF(d)),l):(l.eventSystemFlags|=y,d=l.targetContainers,_!==null&&d.indexOf(_)===-1&&d.push(_),l)}function JX(l,d,p,y,_){switch(d){case"focusin":return mc=mv(mc,l,d,p,y,_),!0;case"dragenter":return gc=mv(gc,l,d,p,y,_),!0;case"mouseover":return yc=mv(yc,l,d,p,y,_),!0;case"pointerover":var N=_.pointerId;return hv.set(N,mv(hv.get(N)||null,l,d,p,y,_)),!0;case"gotpointercapture":return N=_.pointerId,pv.set(N,mv(pv.get(N)||null,l,d,p,y,_)),!0}return!1}function uF(l){var d=At(l.target);if(d!==null){var p=a(d);if(p!==null){if(d=p.tag,d===13){if(d=s(p),d!==null){l.blockedOn=d,He(l.priority,function(){sF(p)});return}}else if(d===31){if(d=o(p),d!==null){l.blockedOn=d,He(l.priority,function(){sF(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function fS(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=jT(l.nativeEvent);if(p===null){p=l.nativeEvent;var y=new p.constructor(p.type,p);F_=y,p.target.dispatchEvent(y),F_=null}else return d=_t(p),d!==null&&aF(d),l.blockedOn=p,!1;d.shift()}return!0}function cF(l,d,p){fS(l)&&p.delete(d)}function QX(){UT=!1,mc!==null&&fS(mc)&&(mc=null),gc!==null&&fS(gc)&&(gc=null),yc!==null&&fS(yc)&&(yc=null),hv.forEach(cF),pv.forEach(cF)}function hS(l,d){l.blockedOn===d&&(l.blockedOn=null,UT||(UT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QX)))}var pS=null;function dF(l){pS!==l&&(pS=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pS===l&&(pS=null);for(var d=0;d<l.length;d+=3){var p=l[d],y=l[d+1],_=l[d+2];if(typeof y!="function"){if(FT(y||p)===null)continue;break}var N=_t(p);N!==null&&(l.splice(d,3),d-=3,jC(N,{pending:!0,data:_,method:p.method,action:y},y,_))}}))}function jp(l){function d(Y){return hS(Y,l)}mc!==null&&hS(mc,l),gc!==null&&hS(gc,l),yc!==null&&hS(yc,l),hv.forEach(d),pv.forEach(d);for(var p=0;p<vc.length;p++){var y=vc[p];y.blockedOn===l&&(y.blockedOn=null)}for(;0<vc.length&&(p=vc[0],p.blockedOn===null);)uF(p),p.blockedOn===null&&vc.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var _=p[y],N=p[y+1],O=_[Re]||null;if(typeof N=="function")O||dF(p);else if(O){var H=null;if(N&&N.hasAttribute("formAction")){if(_=N,O=N[Re]||null)H=O.formAction;else if(FT(_)!==null)continue}else H=O.action;typeof H=="function"?p[y+1]=H:(p.splice(y,3),y-=3),dF(p)}}}function fF(){function l(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(O){return _=O})},focusReset:"manual",scroll:"manual"})}function d(){_!==null&&(_(),_=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,_=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),_!==null&&(_(),_=null)}}}function BT(l){this._internalRoot=l}mS.prototype.render=BT.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,y=va();rF(p,y,l,d,null,null)},mS.prototype.unmount=BT.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;rF(l.current,2,null,l,null,null),Kw(),d[Be]=null}};function mS(l){this._internalRoot=l}mS.prototype.unstable_scheduleHydration=function(l){if(l){var d=Se();l={blockedOn:null,target:l,priority:d};for(var p=0;p<vc.length&&d!==0&&d<vc[p].priority;p++);vc.splice(p,0,l),p===0&&uF(l)}};var hF=e.version;if(hF!=="19.2.1")throw Error(r(527,hF,"19.2.1"));$.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(d),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var ZX={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gS.isDisabled&&gS.supportsFiber)try{Ud=gS.inject(ZX),Sn=gS}catch{}}return yv.createRoot=function(l,d){if(!i(l))throw Error(r(299));var p=!1,y="",_=xO,N=wO,O=SO;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError)),d=tF(l,1,!1,null,null,p,y,null,_,N,O,fF),l[Be]=d.current,wT(l),new BT(d)},yv.hydrateRoot=function(l,d,p){if(!i(l))throw Error(r(299));var y=!1,_="",N=xO,O=wO,H=SO,Y=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(_=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(O=p.onCaughtError),p.onRecoverableError!==void 0&&(H=p.onRecoverableError),p.formState!==void 0&&(Y=p.formState)),d=tF(l,1,!0,d,p??null,y,_,Y,N,O,H,fF),d.context=nF(null),p=d.current,y=va(),y=oe(y),_=rc(y),_.callback=null,ic(p,_,y),p=y,d.current.lanes=p,Xu(d,p),yo(d),l[Be]=d.current,wT(l),new mS(d)},yv.version="19.2.1",yv}var AF;function dJ(){if(AF)return qT.exports;AF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qT.exports=cJ(),qT.exports}var fJ=dJ();const hJ=uo(fJ);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kH=t=>{throw TypeError(t)},pJ=(t,e,n)=>e.has(t)||kH("Cannot "+n),YT=(t,e,n)=>(pJ(t,e,"read from private field"),n?n.call(t):e.get(t)),mJ=(t,e,n)=>e.has(t)?kH("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),DH=(t=>(t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE",t))(DH||{}),_F="popstate";function IH(t={}){let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,i;i=e.map((v,w)=>f(v,typeof v=="string"?null:v.state,w===0?"default":void 0));let a=u(n??i.length-1),s="POP",o=null;function u(v){return Math.min(Math.max(v,0),i.length-1)}function c(){return i[a]}function f(v,w=null,E){let A=wu(i?c().pathname:"/",v,w,E);return Xt(A.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(v)}`),A}function h(v){return typeof v=="string"?v:Zr(v)}return{get index(){return a},get action(){return s},get location(){return c()},createHref:h,createURL(v){return new URL(h(v),"http://localhost")},encodeLocation(v){let w=typeof v=="string"?Wa(v):v;return{pathname:w.pathname||"",search:w.search||"",hash:w.hash||""}},push(v,w){s="PUSH";let E=f(v,w);a+=1,i.splice(a,i.length,E),r&&o&&o({action:s,location:E,delta:1})},replace(v,w){s="REPLACE";let E=f(v,w);i[a]=E,r&&o&&o({action:s,location:E,delta:0})},go(v){s="POP";let w=u(a+v),E=i[w];a=w,o&&o({action:s,location:E,delta:v})},listen(v){return o=v,()=>{o=null}}}}function m1(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return wu("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Zr(i)}return OH(e,n,null,t)}function LH(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:u=""}=Wa(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),wu("",{pathname:s,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof a=="string"?a:Zr(a))}function r(i,a){Xt(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return OH(e,n,r,t)}function Ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gJ(){return Math.random().toString(36).substring(2,10)}function CF(t,e){return{usr:t.state,key:t.key,idx:e}}function wu(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Wa(e):e,state:n,key:e&&e.key||r||gJ()}}function Zr({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function OH(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function h(){o="POP";let A=f(),C=A==null?null:A-c;c=A,u&&u({action:o,location:E.location,delta:C})}function g(A,C){o="PUSH";let P=wu(E.location,A,C);n&&n(P,A),c=f()+1;let R=CF(P,c),I=E.createHref(P);try{s.pushState(R,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(I)}a&&u&&u({action:o,location:E.location,delta:1})}function v(A,C){o="REPLACE";let P=wu(E.location,A,C);n&&n(P,A),c=f();let R=CF(P,c),I=E.createHref(P);s.replaceState(R,"",I),a&&u&&u({action:o,location:E.location,delta:0})}function w(A){return jH(A)}let E={get action(){return o},get location(){return t(i,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(_F,h),u=A,()=>{i.removeEventListener(_F,h),u=null}},createHref(A){return e(i,A)},createURL:w,encodeLocation(A){let C=w(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:v,go(A){return s.go(A)}};return E}function jH(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zr(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function yJ(t){return{defaultValue:t}}var Ov,Yo=class{constructor(t){if(mJ(this,Ov,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(YT(this,Ov).has(t))return YT(this,Ov).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){YT(this,Ov).set(t,e)}};Ov=new WeakMap;var vJ=new Set(["lazy","caseSensitive","path","id","index","children"]);function bJ(t){return vJ.has(t)}var xJ=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function wJ(t){return xJ.has(t)}function SJ(t){return t.index===!0}function Ad(t,e,n=[],r={},i=!1){return t.map((a,s)=>{let o=[...n,String(s)],u=typeof a.id=="string"?a.id:o.join("-");if(Ge(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ge(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),SJ(a)){let c={...a,id:u};return r[u]=TF(c,e(c)),c}else{let c={...a,id:u,children:void 0};return r[u]=TF(c,e(c)),a.children&&(c.children=Ad(a.children,e,o,r,i)),c}})}function TF(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function ta(t,e,n="/"){return jv(t,e,n,!1)}function jv(t,e,n,r){let i=typeof e=="string"?Wa(e):e,a=fr(i.pathname||"/",n);if(a==null)return null;let s=UH(t);EJ(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=HH(a);o=kJ(s[u],c,r)}return o}function FH(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function UH(t,e=[],n=[],r="",i=!1){let a=(s,o,u=i,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Ge(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=Xo([r,f.relativePath]),g=n.concat(f);s.children&&s.children.length>0&&(Ge(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),UH(s.children,e,g,h,u)),!(s.path==null&&!s.index)&&e.push({path:h,score:MJ(h,s.index),routesMeta:g})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,o);else for(let c of BH(s.path))a(s,o,!0,c)}),e}function BH(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=BH(r.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function EJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var AJ=/^:[\w-]+$/,_J=3,CJ=2,TJ=1,NJ=10,RJ=-2,NF=t=>t==="*";function MJ(t,e){let n=t.split("/"),r=n.length;return n.some(NF)&&(r+=RJ),e&&(r+=CJ),n.filter(i=>!NF(i)).reduce((i,a)=>i+(AJ.test(a)?_J:a===""?TJ:NJ),r)}function PJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kJ(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",h=Kg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Kg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Xo([a,h.pathname]),pathnameBase:OJ(Xo([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=Xo([a,h.pathnameBase]))}return s}function DJ(t,e={}){let n=t;n.endsWith("*")&&n!=="*"&&!n.endsWith("/*")&&(Xt(!1,`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=s=>s==null?"":typeof s=="string"?s:String(s),a=n.split(/\/+/).map((s,o,u)=>{if(o===u.length-1&&s==="*")return i(e["*"]);const f=s.match(/^:([\w-]+)(\??)$/);if(f){const[,h,g]=f;let v=e[h];return Ge(g==="?"||v!=null,`Missing ":${h}" param`),encodeURIComponent(i(v))}return s.replace(/\?$/g,"")}).filter(s=>!!s);return r+a.join("/")}function Kg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},g)=>{if(f==="*"){let w=o[g]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function zH(t,e=!1,n=!0){Xt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IJ({basename:t,pathname:e}){return e==="/"?t:Xo([t,e])}var LJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g1=t=>LJ.test(t);function GH(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wa(t):t,a;if(n)if(g1(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Xt(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=RF(n.substring(1),"/"):a=RF(n,e)}else a=e;return{pathname:a,search:jJ(r),hash:FJ(i)}}function RF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function KT(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function y1(t){let e=qH(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function v1(t,e,n,r=!1){let i;typeof t=="string"?i=Wa(t):(i={...t},Ge(!i.pathname||!i.pathname.includes("?"),KT("?","pathname","search",i)),Ge(!i.pathname||!i.pathname.includes("#"),KT("#","pathname","hash",i)),Ge(!i.search||!i.search.includes("#"),KT("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let u=GH(i,o),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Xo=t=>t.join("/").replace(/\/\/+/g,"/"),OJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,UJ=class{constructor(t,e){this.type="DataWithResponseInit",this.data=t,this.init=e||null}};function $H(t,e){return new UJ(t,typeof e=="number"?{status:e}:e)}var wx=(t,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,{...n,headers:r})},VH=(t,e)=>{let n=wx(t,e);return n.headers.set("X-Remix-Reload-Document","true"),n},WH=(t,e)=>{let n=wx(t,e);return n.headers.set("X-Remix-Replace","true"),n},Di=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Vn(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function gu(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bd=Symbol("Uninstrumented");function YH(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(a){let s=Object.keys(n);for(let o of s)a[o]&&n[o].push(a[o])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=xf(n.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(a=>{let s=i[a],o=n[`lazy.${a}`];if(typeof s=="function"&&o.length>0){let u=xf(o,s,()=>{});u&&(r.lazy=Object.assign(r.lazy||{},{[a]:u}))}})}return["loader","action"].forEach(i=>{let a=e[i];if(typeof a=="function"&&n[i].length>0){let s=a[bd]??a,o=xf(n[i],s,(...u)=>MF(u[0]));o&&(o[bd]=s,r[i]=o)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let a=i[bd]??i,s=xf(n.middleware,a,(...o)=>MF(o[0]));return s?(s[bd]=a,s):i})),r}function BJ(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let a=Object.keys(i);for(let s of a)i[s]&&n[s].push(i[s])}})),n.navigate.length>0){let r=t.navigate[bd]??t.navigate,i=xf(n.navigate,r,(...a)=>{let[s,o]=a;return{to:typeof s=="number"||typeof s=="string"?s:s?Zr(s):".",...PF(t,o??{})}});i&&(i[bd]=r,t.navigate=i)}if(n.fetch.length>0){let r=t.fetch[bd]??t.fetch,i=xf(n.fetch,r,(...a)=>{let[s,,o,u]=a;return{href:o??".",fetcherKey:s,...PF(t,u??{})}});i&&(i[bd]=r,t.fetch=i)}return t}function zJ(t,e){let n={request:[]};e.forEach(i=>i({instrument(a){let s=Object.keys(a);for(let o of s)a[o]&&n[o].push(a[o])}}));let r=t;return n.request.length>0&&(r=xf(n.request,t,(...i)=>{let[a,s]=i;return{request:XH(a),context:s!=null?JH(s):s}})),r}function xf(t,e,n){return t.length===0?null:async(...r)=>{let i=await KH(t,n(...r),()=>e(...r),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function KH(t,e,n,r){let i=t[r],a;if(i){let s,o=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=KH(t,e,n,r-1),a=await s,Ge(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await i(o,e)}catch(u){console.error("An instrumentation function threw an error:",u)}s||await o(),await s}else try{a={type:"success",value:await n()}}catch(s){a={type:"error",value:s}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function MF(t){let{request:e,context:n,params:r,unstable_pattern:i}=t;return{request:XH(e),params:{...r},unstable_pattern:i,context:JH(n)}}function PF(t,e){return{currentUrl:Zr(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function XH(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function JH(t){if(GJ(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var HJ=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function GJ(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===HJ}var QH=["POST","PUT","PATCH","DELETE"],qJ=new Set(QH),$J=["GET",...QH],VJ=new Set($J),ZH=new Set([301,302,303,307,308]),WJ=new Set([307,308]),o0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},b1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ec={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},e6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),t6="remix-router-transitions",n6=Symbol("ResetLoaderData");function Sx(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||e6,a=i;if(t.unstable_instrumentations){let K=t.unstable_instrumentations;a=te=>({...i(te),...YH(K.map(oe=>oe.route).filter(Boolean),te)})}let s={},o=Ad(t.routes,a,void 0,s),u,c=t.basename||"/";c.startsWith("/")||(c=`/${c}`);let f=t.dataStrategy||ZJ,h={...t.future},g=null,v=new Set,w=null,E=null,A=null,C=t.hydrationData!=null,P=ta(o,t.history.location,c),R=!1,I=null,k;if(P==null&&!t.patchRoutesOnNavigation){let K=tr(404,{pathname:t.history.location.pathname}),{matches:te,route:oe}=nm(o);k=!0,P=te,I={[oe.id]:K}}else if(P&&!t.hydrationData&&Gd(P,o,t.history.location.pathname).active&&(P=null),P)if(P.some(K=>K.route.lazy))k=!1;else if(!P.some(K=>WP(K.route)))k=!0;else{let K=t.hydrationData?t.hydrationData.loaderData:null,te=t.hydrationData?t.hydrationData.errors:null;if(te){let oe=P.findIndex(ve=>te[ve.route.id]!==void 0);k=P.slice(0,oe+1).every(ve=>!XR(ve.route,K,te))}else k=P.every(oe=>!XR(oe.route,K,te))}else{k=!1,P=[];let K=Gd(null,o,t.history.location.pathname);K.active&&K.matches&&(R=!0,P=K.matches)}let L,M={historyAction:t.history.action,location:t.history.location,matches:P,initialized:k,navigation:o0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},z="POP",B=null,V=!1,U,q=!1,Q=new Map,Z=null,ce=!1,G=!1,$=new Set,ee=new Map,re=0,xe=-1,W=new Map,J=new Set,le=new Map,ge=new Map,we=new Set,Te=new Map,Ae,mt=null;function de(){if(g=t.history.listen(({action:K,location:te,delta:oe})=>{if(Ae){Ae(),Ae=void 0;return}Xt(Te.size===0||oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ve=Bd({currentLocation:M.location,nextLocation:te,historyAction:K});if(ve&&oe!=null){let Se=new Promise(He=>{Ae=He});t.history.go(oe*-1),sl(ve,{state:"blocked",location:te,proceed(){sl(ve,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),Se.then(()=>t.history.go(oe))},reset(){let He=new Map(M.blockers);He.set(ve,Ec),pe({blockers:He})}}),B==null||B.resolve(),B=null;return}return Ze(K,te)}),n){aQ(e,Q);let K=()=>sQ(e,Q);e.addEventListener("pagehide",K),Z=()=>e.removeEventListener("pagehide",K)}return M.initialized||Ze("POP",M.location,{initialHydration:!0}),L}function Ne(){g&&g(),Z&&Z(),v.clear(),U&&U.abort(),M.fetchers.forEach((K,te)=>Ty(te)),M.blockers.forEach((K,te)=>iw(te))}function Ke(K){return v.add(K),()=>v.delete(K)}function pe(K,te={}){K.matches&&(K.matches=K.matches.map(Se=>{let He=s[Se.route.id],Ie=Se.route;return Ie.element!==He.element||Ie.errorElement!==He.errorElement||Ie.hydrateFallbackElement!==He.hydrateFallbackElement?{...Se,route:He}:Se})),M={...M,...K};let oe=[],ve=[];M.fetchers.forEach((Se,He)=>{Se.state==="idle"&&(we.has(He)?oe.push(He):ve.push(He))}),we.forEach(Se=>{!M.fetchers.has(Se)&&!ee.has(Se)&&oe.push(Se)}),[...v].forEach(Se=>Se(M,{deletedFetchers:oe,newErrors:K.errors??null,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),oe.forEach(Se=>Ty(Se)),ve.forEach(Se=>M.fetchers.delete(Se))}function Ve(K,te,{flushSync:oe}={}){var Xe,qe;let ve=M.actionData!=null&&M.navigation.formMethod!=null&&fi(M.navigation.formMethod)&&M.navigation.state==="loading"&&((Xe=K.state)==null?void 0:Xe._isRedirect)!==!0,Se;te.actionData?Object.keys(te.actionData).length>0?Se=te.actionData:Se=null:ve?Se=M.actionData:Se=null;let He=te.loaderData?GF(M.loaderData,te.loaderData,te.matches||[],te.errors):M.loaderData,Ie=M.blockers;Ie.size>0&&(Ie=new Map(Ie),Ie.forEach((et,Pt)=>Ie.set(Pt,Ec)));let _e=ce?!1:aw(K,te.matches||M.matches),Re=V===!0||M.navigation.formMethod!=null&&fi(M.navigation.formMethod)&&((qe=K.state)==null?void 0:qe._isRedirect)!==!0;u&&(o=u,u=void 0),ce||z==="POP"||(z==="PUSH"?t.history.push(K,K.state):z==="REPLACE"&&t.history.replace(K,K.state));let Be;if(z==="POP"){let et=Q.get(M.location.pathname);et&&et.has(K.pathname)?Be={currentLocation:M.location,nextLocation:K}:Q.has(K.pathname)&&(Be={currentLocation:K,nextLocation:M.location})}else if(q){let et=Q.get(M.location.pathname);et?et.add(K.pathname):(et=new Set([K.pathname]),Q.set(M.location.pathname,et)),Be={currentLocation:M.location,nextLocation:K}}pe({...te,actionData:Se,loaderData:He,historyAction:z,location:K,initialized:!0,navigation:o0,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:Re,blockers:Ie},{viewTransitionOpts:Be,flushSync:oe===!0}),z="POP",V=!1,q=!1,ce=!1,G=!1,B==null||B.resolve(),B=null,mt==null||mt.resolve(),mt=null}async function je(K,te){if(B==null||B.resolve(),B=null,typeof K=="number"){B||(B=VF());let Pt=B.promise;return t.history.go(K),Pt}let oe=KR(M.location,M.matches,c,K,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:ve,submission:Se,error:He}=DF(!1,oe,te),Ie=M.location,_e=wu(M.location,ve,te&&te.state);_e={..._e,...t.history.encodeLocation(_e)};let Re=te&&te.replace!=null?te.replace:void 0,Be="PUSH";Re===!0?Be="REPLACE":Re===!1||Se!=null&&fi(Se.formMethod)&&Se.formAction===M.location.pathname+M.location.search&&(Be="REPLACE");let Xe=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,qe=(te&&te.flushSync)===!0,et=Bd({currentLocation:Ie,nextLocation:_e,historyAction:Be});if(et){sl(et,{state:"blocked",location:_e,proceed(){sl(et,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),je(K,te)},reset(){let Pt=new Map(M.blockers);Pt.set(et,Ec),pe({blockers:Pt})}});return}await Ze(Be,_e,{submission:Se,pendingError:He,preventScrollReset:Xe,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:qe})}function dt(){mt||(mt=VF()),xi(),pe({revalidation:"loading"});let K=mt.promise;return M.navigation.state==="submitting"?K:M.navigation.state==="idle"?(Ze(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),K):(Ze(z||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:q===!0}),K)}async function Ze(K,te,oe){U&&U.abort(),U=null,z=K,ce=(oe&&oe.startUninterruptedRevalidation)===!0,Hd(M.location,M.matches),V=(oe&&oe.preventScrollReset)===!0,q=(oe&&oe.enableViewTransition)===!0;let ve=u||o,Se=oe&&oe.overrideNavigation,He=oe!=null&&oe.initialHydration&&M.matches&&M.matches.length>0&&!R?M.matches:ta(ve,te,c),Ie=(oe&&oe.flushSync)===!0;if(He&&M.initialized&&!G&&tQ(M.location,te)&&!(oe&&oe.submission&&fi(oe.submission.formMethod))){Ve(te,{matches:He},{flushSync:Ie});return}let _e=Gd(He,ve,te.pathname);if(_e.active&&_e.matches&&(He=_e.matches),!He){let{error:Nn,notFoundMatches:At,route:_t}=Yu(te.pathname);Ve(te,{matches:At,loaderData:{},errors:{[_t.id]:Nn}},{flushSync:Ie});return}U=new AbortController;let Re=Vp(t.history,te,U.signal,oe&&oe.submission),Be=t.getContext?await t.getContext():new Yo,Xe;if(oe&&oe.pendingError)Xe=[ws(He).route.id,{type:"error",error:oe.pendingError}];else if(oe&&oe.submission&&fi(oe.submission.formMethod)){let Nn=await yr(Re,te,oe.submission,He,Be,_e.active,oe&&oe.initialHydration===!0,{replace:oe.replace,flushSync:Ie});if(Nn.shortCircuited)return;if(Nn.pendingActionResult){let[At,_t]=Nn.pendingActionResult;if(Mr(_t)&&Vn(_t.error)&&_t.error.status===404){U=null,Ve(te,{matches:Nn.matches,loaderData:{},errors:{[At]:_t.error}});return}}He=Nn.matches||He,Xe=Nn.pendingActionResult,Se=XT(te,oe.submission),Ie=!1,_e.active=!1,Re=Vp(t.history,Re.url,Re.signal)}let{shortCircuited:qe,matches:et,loaderData:Pt,errors:un}=await la(Re,te,He,Be,_e.active,Se,oe&&oe.submission,oe&&oe.fetcherSubmission,oe&&oe.replace,oe&&oe.initialHydration===!0,Ie,Xe);qe||(U=null,Ve(te,{matches:et||He,...qF(Xe),loaderData:Pt,errors:un}))}async function yr(K,te,oe,ve,Se,He,Ie,_e={}){xi();let Re=rQ(te,oe);if(pe({navigation:Re},{flushSync:_e.flushSync===!0}),He){let qe=await Ku(ve,te.pathname,K.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){if(qe.partialMatches.length===0){let{matches:Pt,route:un}=nm(o);return{matches:Pt,pendingActionResult:[un.id,{type:"error",error:qe.error}]}}let et=ws(qe.partialMatches).route.id;return{matches:qe.partialMatches,pendingActionResult:[et,{type:"error",error:qe.error}]}}else if(qe.matches)ve=qe.matches;else{let{notFoundMatches:et,error:Pt,route:un}=Yu(te.pathname);return{matches:et,pendingActionResult:[un.id,{type:"error",error:Pt}]}}}let Be,Xe=fm(ve,te);if(!Xe.route.action&&!Xe.route.lazy)Be={type:"error",error:tr(405,{method:K.method,pathname:te.pathname,routeId:Xe.route.id})};else{let qe=wd(a,s,K,ve,Xe,Ie?[]:r,Se),et=await il(K,qe,Se,null);if(Be=et[Xe.route.id],!Be){for(let Pt of ve)if(et[Pt.route.id]){Be=et[Pt.route.id];break}}if(K.signal.aborted)return{shortCircuited:!0}}if(xd(Be)){let qe;return _e&&_e.replace!=null?qe=_e.replace:qe=BF(Be.response.headers.get("Location"),new URL(K.url),c)===M.location.pathname+M.location.search,await wn(K,Be,!0,{submission:oe,replace:qe}),{shortCircuited:!0}}if(Mr(Be)){let qe=ws(ve,Xe.route.id);return(_e&&_e.replace)!==!0&&(z="PUSH"),{matches:ve,pendingActionResult:[qe.route.id,Be,Xe.route.id]}}return{matches:ve,pendingActionResult:[Xe.route.id,Be]}}async function la(K,te,oe,ve,Se,He,Ie,_e,Re,Be,Xe,qe){let et=He||XT(te,Ie),Pt=Ie||_e||$F(et),un=!ce&&!Be;if(Se){if(un){let vr=fo(qe);pe({navigation:et,...vr!==void 0?{actionData:vr}:{}},{flushSync:Xe})}let gt=await Ku(oe,te.pathname,K.signal);if(gt.type==="aborted")return{shortCircuited:!0};if(gt.type==="error"){if(gt.partialMatches.length===0){let{matches:Is,route:Xa}=nm(o);return{matches:Is,loaderData:{},errors:{[Xa.id]:gt.error}}}let vr=ws(gt.partialMatches).route.id;return{matches:gt.partialMatches,loaderData:{},errors:{[vr]:gt.error}}}else if(gt.matches)oe=gt.matches;else{let{error:vr,notFoundMatches:Is,route:Xa}=Yu(te.pathname);return{matches:Is,loaderData:{},errors:{[Xa.id]:vr}}}}let Nn=u||o,{dsMatches:At,revalidatingFetchers:_t}=IF(K,ve,a,s,t.history,M,oe,Pt,te,Be?[]:r,Be===!0,G,$,we,le,J,Nn,c,t.patchRoutesOnNavigation!=null,qe);if(xe=++re,!t.dataStrategy&&!At.some(gt=>gt.shouldLoad)&&!At.some(gt=>gt.route.middleware&&gt.route.middleware.length>0)&&_t.length===0){let gt=ti();return Ve(te,{matches:oe,loaderData:{},errors:qe&&Mr(qe[1])?{[qe[0]]:qe[1].error}:null,...qF(qe),...gt?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Xe}),{shortCircuited:!0}}if(un){let gt={};if(!Se){gt.navigation=et;let vr=fo(qe);vr!==void 0&&(gt.actionData=vr)}_t.length>0&&(gt.fetchers=jd(_t)),pe(gt,{flushSync:Xe})}_t.forEach(gt=>{Sn(gt.key),gt.controller&&ee.set(gt.key,gt.controller)});let ua=()=>_t.forEach(gt=>Sn(gt.key));U&&U.signal.addEventListener("abort",ua);let{loaderResults:Ka,fetcherResults:Jt}=await Fd(At,_t,K,ve);if(K.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",ua),_t.forEach(gt=>ee.delete(gt.key));let ca=yS(Ka);if(ca)return await wn(K,ca.result,!0,{replace:Re}),{shortCircuited:!0};if(ca=yS(Jt),ca)return J.add(ca.key),await wn(K,ca.result,!0,{replace:Re}),{shortCircuited:!0};let{loaderData:rp,errors:da}=HF(M,oe,Ka,qe,_t,Jt);Be&&M.errors&&(da={...M.errors,...da});let ji=ti(),ip=rw(xe),qd=ji||ip||_t.length>0;return{matches:oe,loaderData:rp,errors:da,...qd?{fetchers:new Map(M.fetchers)}:{}}}function fo(K){if(K&&!Mr(K[1]))return{[K[0]]:K[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function jd(K){return K.forEach(te=>{let oe=M.fetchers.get(te.key),ve=vv(void 0,oe?oe.data:void 0);M.fetchers.set(te.key,ve)}),new Map(M.fetchers)}async function ho(K,te,oe,ve){Sn(K);let Se=(ve&&ve.flushSync)===!0,He=u||o,Ie=KR(M.location,M.matches,c,oe,te,ve==null?void 0:ve.relative),_e=ta(He,Ie,c),Re=Gd(_e,He,Ie);if(Re.active&&Re.matches&&(_e=Re.matches),!_e){Wn(K,te,tr(404,{pathname:Ie}),{flushSync:Se});return}let{path:Be,submission:Xe,error:qe}=DF(!0,Ie,ve);if(qe){Wn(K,te,qe,{flushSync:Se});return}let et=t.getContext?await t.getContext():new Yo,Pt=(ve&&ve.preventScrollReset)===!0;if(Xe&&fi(Xe.formMethod)){await _y(K,te,Be,_e,et,Re.active,Se,Pt,Xe);return}le.set(K,{routeId:te,path:Be}),await Cy(K,te,Be,_e,et,Re.active,Se,Pt,Xe)}async function _y(K,te,oe,ve,Se,He,Ie,_e,Re){xi(),le.delete(K);let Be=M.fetchers.get(K);Fn(K,iQ(Re,Be),{flushSync:Ie});let Xe=new AbortController,qe=Vp(t.history,oe,Xe.signal,Re);if(He){let Ct=await Ku(ve,new URL(qe.url).pathname,qe.signal,K);if(Ct.type==="aborted")return;if(Ct.type==="error"){Wn(K,te,Ct.error,{flushSync:Ie});return}else if(Ct.matches)ve=Ct.matches;else{Wn(K,te,tr(404,{pathname:oe}),{flushSync:Ie});return}}let et=fm(ve,oe);if(!et.route.action&&!et.route.lazy){let Ct=tr(405,{method:Re.formMethod,pathname:oe,routeId:te});Wn(K,te,Ct,{flushSync:Ie});return}ee.set(K,Xe);let Pt=re,un=wd(a,s,qe,ve,et,r,Se),Nn=await il(qe,un,Se,K),At=Nn[et.route.id];if(!At){for(let Ct of un)if(Nn[Ct.route.id]){At=Nn[Ct.route.id];break}}if(qe.signal.aborted){ee.get(K)===Xe&&ee.delete(K);return}if(we.has(K)){if(xd(At)||Mr(At)){Fn(K,_l(void 0));return}}else{if(xd(At))if(ee.delete(K),xe>Pt){Fn(K,_l(void 0));return}else return J.add(K),Fn(K,vv(Re)),wn(qe,At,!1,{fetcherSubmission:Re,preventScrollReset:_e});if(Mr(At)){Wn(K,te,At.error);return}}let _t=M.navigation.location||M.location,ua=Vp(t.history,_t,Xe.signal),Ka=u||o,Jt=M.navigation.state!=="idle"?ta(Ka,M.navigation.location,c):M.matches;Ge(Jt,"Didn't find any matches after fetcher action");let ca=++re;W.set(K,ca);let rp=vv(Re,At.data);M.fetchers.set(K,rp);let{dsMatches:da,revalidatingFetchers:ji}=IF(ua,Se,a,s,t.history,M,Jt,Re,_t,r,!1,G,$,we,le,J,Ka,c,t.patchRoutesOnNavigation!=null,[et.route.id,At]);ji.filter(Ct=>Ct.key!==K).forEach(Ct=>{let Ir=Ct.key,Ny=M.fetchers.get(Ir),D_=vv(void 0,Ny?Ny.data:void 0);M.fetchers.set(Ir,D_),Sn(Ir),Ct.controller&&ee.set(Ir,Ct.controller)}),pe({fetchers:new Map(M.fetchers)});let ip=()=>ji.forEach(Ct=>Sn(Ct.key));Xe.signal.addEventListener("abort",ip);let{loaderResults:qd,fetcherResults:gt}=await Fd(da,ji,ua,Se);if(Xe.signal.aborted)return;if(Xe.signal.removeEventListener("abort",ip),W.delete(K),ee.delete(K),ji.forEach(Ct=>ee.delete(Ct.key)),M.fetchers.has(K)){let Ct=_l(At.data);M.fetchers.set(K,Ct)}let vr=yS(qd);if(vr)return wn(ua,vr.result,!1,{preventScrollReset:_e});if(vr=yS(gt),vr)return J.add(vr.key),wn(ua,vr.result,!1,{preventScrollReset:_e});let{loaderData:Is,errors:Xa}=HF(M,Jt,qd,void 0,ji,gt);rw(ca),M.navigation.state==="loading"&&ca>xe?(Ge(z,"Expected pending action"),U&&U.abort(),Ve(M.navigation.location,{matches:Jt,loaderData:Is,errors:Xa,fetchers:new Map(M.fetchers)})):(pe({errors:Xa,loaderData:GF(M.loaderData,Is,Jt,Xa),fetchers:new Map(M.fetchers)}),G=!1)}async function Cy(K,te,oe,ve,Se,He,Ie,_e,Re){let Be=M.fetchers.get(K);Fn(K,vv(Re,Be?Be.data:void 0),{flushSync:Ie});let Xe=new AbortController,qe=Vp(t.history,oe,Xe.signal);if(He){let _t=await Ku(ve,new URL(qe.url).pathname,qe.signal,K);if(_t.type==="aborted")return;if(_t.type==="error"){Wn(K,te,_t.error,{flushSync:Ie});return}else if(_t.matches)ve=_t.matches;else{Wn(K,te,tr(404,{pathname:oe}),{flushSync:Ie});return}}let et=fm(ve,oe);ee.set(K,Xe);let Pt=re,un=wd(a,s,qe,ve,et,r,Se),At=(await il(qe,un,Se,K))[et.route.id];if(ee.get(K)===Xe&&ee.delete(K),!qe.signal.aborted){if(we.has(K)){Fn(K,_l(void 0));return}if(xd(At))if(xe>Pt){Fn(K,_l(void 0));return}else{J.add(K),await wn(qe,At,!1,{preventScrollReset:_e});return}if(Mr(At)){Wn(K,te,At.error);return}Fn(K,_l(At.data))}}async function wn(K,te,oe,{submission:ve,fetcherSubmission:Se,preventScrollReset:He,replace:Ie}={}){oe||(B==null||B.resolve(),B=null),te.response.headers.has("X-Remix-Revalidate")&&(G=!0);let _e=te.response.headers.get("Location");Ge(_e,"Expected a Location header on the redirect Response"),_e=BF(_e,new URL(K.url),c);let Re=wu(M.location,_e,{_isRedirect:!0});if(n){let un=!1;if(te.response.headers.has("X-Remix-Reload-Document"))un=!0;else if(g1(_e)){const Nn=jH(_e,!0);un=Nn.origin!==e.location.origin||fr(Nn.pathname,c)==null}if(un){Ie?e.location.replace(_e):e.location.assign(_e);return}}U=null;let Be=Ie===!0||te.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Xe,formAction:qe,formEncType:et}=M.navigation;!ve&&!Se&&Xe&&qe&&et&&(ve=$F(M.navigation));let Pt=ve||Se;if(WJ.has(te.response.status)&&Pt&&fi(Pt.formMethod))await Ze(Be,Re,{submission:{...Pt,formAction:_e},preventScrollReset:He||V,enableViewTransition:oe?q:void 0});else{let un=XT(Re,ve);await Ze(Be,Re,{overrideNavigation:un,fetcherSubmission:Se,preventScrollReset:He||V,enableViewTransition:oe?q:void 0})}}async function il(K,te,oe,ve){let Se,He={};try{Se=await c6(f,K,te,ve,oe,!1)}catch(Ie){return te.filter(_e=>_e.shouldLoad).forEach(_e=>{He[_e.route.id]={type:"error",error:Ie}}),He}if(K.signal.aborted)return He;for(let[Ie,_e]of Object.entries(Se))if(v6(_e)){let Re=_e.result;He[Ie]={type:"redirect",response:h6(Re,K,Ie,te,c)}}else He[Ie]=await f6(_e);return He}async function Fd(K,te,oe,ve){let Se=il(oe,K,ve,null),He=Promise.all(te.map(async Re=>{if(Re.matches&&Re.match&&Re.request&&Re.controller){let Xe=(await il(Re.request,Re.matches,ve,Re.key))[Re.match.route.id];return{[Re.key]:Xe}}else return Promise.resolve({[Re.key]:{type:"error",error:tr(404,{pathname:Re.path})}})})),Ie=await Se,_e=(await He).reduce((Re,Be)=>Object.assign(Re,Be),{});return{loaderResults:Ie,fetcherResults:_e}}function xi(){G=!0,le.forEach((K,te)=>{ee.has(te)&&$.add(te),Sn(te)})}function Fn(K,te,oe={}){M.fetchers.set(K,te),pe({fetchers:new Map(M.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Wn(K,te,oe,ve={}){let Se=ws(M.matches,te);Ty(K),pe({errors:{[Se.route.id]:oe},fetchers:new Map(M.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function al(K){return ge.set(K,(ge.get(K)||0)+1),we.has(K)&&we.delete(K),M.fetchers.get(K)||b1}function M_(K,te){Sn(K,te==null?void 0:te.reason),Fn(K,_l(null))}function Ty(K){let te=M.fetchers.get(K);ee.has(K)&&!(te&&te.state==="loading"&&W.has(K))&&Sn(K),le.delete(K),W.delete(K),J.delete(K),we.delete(K),$.delete(K),M.fetchers.delete(K)}function Ud(K){let te=(ge.get(K)||0)-1;te<=0?(ge.delete(K),we.add(K)):ge.set(K,te),pe({fetchers:new Map(M.fetchers)})}function Sn(K,te){let oe=ee.get(K);oe&&(oe.abort(te),ee.delete(K))}function Ds(K){for(let te of K){let oe=al(te),ve=_l(oe.data);M.fetchers.set(te,ve)}}function ti(){let K=[],te=!1;for(let oe of J){let ve=M.fetchers.get(oe);Ge(ve,`Expected fetcher: ${oe}`),ve.state==="loading"&&(J.delete(oe),K.push(oe),te=!0)}return Ds(K),te}function rw(K){let te=[];for(let[oe,ve]of W)if(ve<K){let Se=M.fetchers.get(oe);Ge(Se,`Expected fetcher: ${oe}`),Se.state==="loading"&&(Sn(oe),W.delete(oe),te.push(oe))}return Ds(te),te.length>0}function P_(K,te){let oe=M.blockers.get(K)||Ec;return Te.get(K)!==te&&Te.set(K,te),oe}function iw(K){M.blockers.delete(K),Te.delete(K)}function sl(K,te){let oe=M.blockers.get(K)||Ec;Ge(oe.state==="unblocked"&&te.state==="blocked"||oe.state==="blocked"&&te.state==="blocked"||oe.state==="blocked"&&te.state==="proceeding"||oe.state==="blocked"&&te.state==="unblocked"||oe.state==="proceeding"&&te.state==="unblocked",`Invalid blocker state transition: ${oe.state} -> ${te.state}`);let ve=new Map(M.blockers);ve.set(K,te),pe({blockers:ve})}function Bd({currentLocation:K,nextLocation:te,historyAction:oe}){if(Te.size===0)return;Te.size>1&&Xt(!1,"A router only supports one blocker at a time");let ve=Array.from(Te.entries()),[Se,He]=ve[ve.length-1],Ie=M.blockers.get(Se);if(!(Ie&&Ie.state==="proceeding")&&He({currentLocation:K,nextLocation:te,historyAction:oe}))return Se}function Yu(K){let te=tr(404,{pathname:K}),oe=u||o,{matches:ve,route:Se}=nm(oe);return{notFoundMatches:ve,route:Se,error:te}}function ol(K,te,oe){if(w=K,A=te,E=oe||null,!C&&M.navigation===o0){C=!0;let ve=aw(M.location,M.matches);ve!=null&&pe({restoreScrollPosition:ve})}return()=>{w=null,A=null,E=null}}function zd(K,te){return E&&E(K,te.map(ve=>FH(ve,M.loaderData)))||K.key}function Hd(K,te){if(w&&A){let oe=zd(K,te);w[oe]=A()}}function aw(K,te){if(w){let oe=zd(K,te),ve=w[oe];if(typeof ve=="number")return ve}return null}function Gd(K,te,oe){if(t.patchRoutesOnNavigation)if(K){if(Object.keys(K[0].params).length>0)return{active:!0,matches:jv(te,oe,c,!0)}}else return{active:!0,matches:jv(te,oe,c,!0)||[]};return{active:!1,matches:null}}async function Ku(K,te,oe,ve){if(!t.patchRoutesOnNavigation)return{type:"success",matches:K};let Se=K;for(;;){let He=u==null,Ie=u||o,_e=s;try{await t.patchRoutesOnNavigation({signal:oe,path:te,matches:Se,fetcherKey:ve,patch:(Xe,qe)=>{oe.aborted||LF(Xe,qe,Ie,_e,a,!1)}})}catch(Xe){return{type:"error",error:Xe,partialMatches:Se}}finally{He&&!oe.aborted&&(o=[...o])}if(oe.aborted)return{type:"aborted"};let Re=ta(Ie,te,c),Be=null;if(Re){if(Object.keys(Re[0].params).length===0)return{type:"success",matches:Re};if(Be=jv(Ie,te,c,!0),!(Be&&Se.length<Be.length&&Xu(Se,Be.slice(0,Se.length))))return{type:"success",matches:Re}}if(Be||(Be=jv(Ie,te,c,!0)),!Be||Xu(Se,Be))return{type:"success",matches:null};Se=Be}}function Xu(K,te){return K.length===te.length&&K.every((oe,ve)=>oe.route.id===te[ve].route.id)}function k_(K){s={},u=Ad(K,a,void 0,s)}function sw(K,te,oe=!1){let ve=u==null;LF(K,te,u||o,s,a,oe),ve&&(o=[...o],pe({}))}return L={get basename(){return c},get future(){return h},get state(){return M},get routes(){return o},get window(){return e},initialize:de,subscribe:Ke,enableScrollRestoration:ol,navigate:je,fetch:ho,revalidate:dt,createHref:K=>t.history.createHref(K),encodeLocation:K=>t.history.encodeLocation(K),getFetcher:al,resetFetcher:M_,deleteFetcher:Ud,dispose:Ne,getBlocker:P_,deleteBlocker:iw,patchRoutes:sw,_internalFetchControllers:ee,_internalSetRoutes:k_,_internalSetStateDoNotUseOrYouWillBreakYourApp(K){pe(K)}},t.unstable_instrumentations&&(L=BJ(L,t.unstable_instrumentations.map(K=>K.router).filter(Boolean))),L}function r6(t,e){Ge(t.length>0,"You must provide a non-empty routes array to createStaticHandler");let n={},r=(e?e.basename:null)||"/",i=(e==null?void 0:e.mapRouteProperties)||e6,a=i;if(e!=null&&e.unstable_instrumentations){let v=e.unstable_instrumentations;a=w=>({...i(w),...YH(v.map(E=>E.route).filter(Boolean),w)})}let s=Ad(t,a,void 0,n);async function o(v,{requestContext:w,filterMatchesToLoad:E,skipLoaderErrorBubbling:A,skipRevalidation:C,dataStrategy:P,generateMiddlewareResponse:R}={}){let I=new URL(v.url),k=v.method,L=wu("",Zr(I),null,"default"),M=ta(s,L,r);if(w=w??new Yo,!e2(k)&&k!=="HEAD"){let B=tr(405,{method:k}),{matches:V,route:U}=nm(s),q={basename:r,location:L,matches:V,loaderData:{},actionData:null,errors:{[U.id]:B},statusCode:B.status,loaderHeaders:{},actionHeaders:{}};return R?R(()=>Promise.resolve(q)):q}else if(!M){let B=tr(404,{pathname:L.pathname}),{matches:V,route:U}=nm(s),q={basename:r,location:L,matches:V,loaderData:{},actionData:null,errors:{[U.id]:B},statusCode:B.status,loaderHeaders:{},actionHeaders:{}};return R?R(()=>Promise.resolve(q)):q}if(R){Ge(w instanceof Yo,"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `RouterContextProvider`");try{await FF(M,n,a);let B,V=await UF({request:v,unstable_pattern:gu(M),matches:M,params:M[0].params,context:w},async()=>await R(async(q,Q={})=>{let Z=await c(q,L,M,w,P||null,A===!0,null,"filterMatchesToLoad"in Q?Q.filterMatchesToLoad??null:E??null,C===!0);return _n(Z)?Z:(B={location:L,basename:r,...Z},B)}),async(U,q)=>{var Q;if(BE(U))return U;if(_n(U))try{U=new Di(U.status,U.statusText,await d6(U))}catch(Z){U=Z}if(Sd(U)&&(U=g6(U)),B){q in B.loaderData&&(B.loaderData[q]=void 0);let Z=i6(s,B,U,A?q:ws(M,q).route.id);return R(()=>Promise.resolve(Z))}else{let Z=A?q:ws(M,((Q=M.find(G=>G.route.id===q||G.route.loader))==null?void 0:Q.route.id)||q).route.id,ce={matches:M,location:L,basename:r,loaderData:{},actionData:null,errors:{[Z]:U},statusCode:Vn(U)?U.status:500,actionHeaders:{},loaderHeaders:{}};return R(()=>Promise.resolve(ce))}});return Ge(_n(V),"Expected a response in query()"),V}catch(B){if(_n(B))return B;throw B}}let z=await c(v,L,M,w,P||null,A===!0,null,E||null,C===!0);return _n(z)?z:{location:L,basename:r,...z}}async function u(v,{routeId:w,requestContext:E,dataStrategy:A,generateMiddlewareResponse:C}={}){let P=new URL(v.url),R=v.method,I=wu("",Zr(P),null,"default"),k=ta(s,I,r);if(E=E??new Yo,!e2(R)&&R!=="HEAD"&&R!=="OPTIONS")throw tr(405,{method:R});if(!k)throw tr(404,{pathname:I.pathname});let L=w?k.find(B=>B.route.id===w):fm(k,I);if(w&&!L)throw tr(403,{pathname:I.pathname,routeId:w});if(!L)throw tr(404,{pathname:I.pathname});if(C)return Ge(E instanceof Yo,"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `RouterContextProvider`"),await FF(k,n,a),await UF({request:v,unstable_pattern:gu(k),matches:k,params:k[0].params,context:E},async()=>await C(async U=>{let q=await c(U,I,k,E,A||null,!1,L,null,!1),Q=z(q);return _n(Q)?Q:typeof Q=="string"?new Response(Q):Response.json(Q)}),V=>{if(Sd(V))return Promise.resolve(ZR(V));if(_n(V))return Promise.resolve(V);throw V});let M=await c(v,I,k,E,A||null,!1,L,null,!1);return z(M);function z(B){if(_n(B))return B;let V=B.errors?Object.values(B.errors)[0]:void 0;if(V!==void 0)throw V;if(B.actionData)return Object.values(B.actionData)[0];if(B.loaderData)return Object.values(B.loaderData)[0]}}async function c(v,w,E,A,C,P,R,I,k){Ge(v.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(fi(v.method))return await f(v,E,R||fm(E,w),A,C,P,R!=null,I,k);let L=await h(v,E,A,C,P,R,I);return _n(L)?L:{...L,actionData:null,actionHeaders:{}}}catch(L){if(y6(L)&&_n(L.result)){if(L.type==="error")throw L.result;return L.result}if(BE(L))return L;throw L}}async function f(v,w,E,A,C,P,R,I,k){let L;if(!E.route.action&&!E.route.lazy){let B=tr(405,{method:v.method,pathname:new URL(v.url).pathname,routeId:E.route.id});if(R)throw B;L={type:"error",error:B}}else{let B=wd(a,n,v,w,E,[],A);L=(await g(v,B,R,A,C))[E.route.id],v.signal.aborted&&kF(v,R)}if(xd(L))throw new Response(null,{status:L.response.status,headers:{Location:L.response.headers.get("Location")}});if(R){if(Mr(L))throw L.error;return{matches:[E],loaderData:{},actionData:{[E.route.id]:L.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{}}}if(k)if(Mr(L)){let B=P?E:ws(w,E.route.id);return{statusCode:Vn(L.error)?L.error.status:L.statusCode!=null?L.statusCode:500,actionData:null,actionHeaders:{...L.headers?{[E.route.id]:L.headers}:{}},matches:w,loaderData:{},errors:{[B.route.id]:L.error},loaderHeaders:{}}}else return{actionData:{[E.route.id]:L.data},actionHeaders:L.headers?{[E.route.id]:L.headers}:{},matches:w,loaderData:{},errors:null,statusCode:L.statusCode||200,loaderHeaders:{}};let M=new Request(v.url,{headers:v.headers,redirect:v.redirect,signal:v.signal});if(Mr(L)){let B=P?E:ws(w,E.route.id);return{...await h(M,w,A,C,P,null,I,[B.route.id,L]),statusCode:Vn(L.error)?L.error.status:L.statusCode!=null?L.statusCode:500,actionData:null,actionHeaders:{...L.headers?{[E.route.id]:L.headers}:{}}}}return{...await h(M,w,A,C,P,null,I),actionData:{[E.route.id]:L.data},...L.statusCode?{statusCode:L.statusCode}:{},actionHeaders:L.headers?{[E.route.id]:L.headers}:{}}}async function h(v,w,E,A,C,P,R,I){let k=P!=null;if(k&&!(P!=null&&P.route.loader)&&!(P!=null&&P.route.lazy))throw tr(400,{method:v.method,pathname:new URL(v.url).pathname,routeId:P==null?void 0:P.route.id});let L;if(P)L=wd(a,n,v,w,P,[],E);else{let B=I&&Mr(I[1])?w.findIndex(U=>U.route.id===I[0])-1:void 0,V=gu(w);L=w.map((U,q)=>B!=null&&q>B?f0(a,n,v,V,U,[],E,!1):f0(a,n,v,V,U,[],E,(U.route.loader||U.route.lazy)!=null&&(!R||R(U))))}if(!A&&!L.some(B=>B.shouldLoad))return{matches:w,loaderData:{},errors:I&&Mr(I[1])?{[I[0]]:I[1].error}:null,statusCode:200,loaderHeaders:{}};let M=await g(v,L,k,E,A);return v.signal.aborted&&kF(v,k),{...p6(w,M,I,!0,C),matches:w}}async function g(v,w,E,A,C){let P=await c6(C||JR,v,w,null,A,!0),R={};return await Promise.all(w.map(async I=>{if(!(I.route.id in P))return;let k=P[I.route.id];if(v6(k)){let L=k.result;throw h6(L,v,I.route.id,w,r)}if(E){if(_n(k.result))throw k;if(Sd(k.result))throw ZR(k.result)}R[I.route.id]=await f6(k)})),R}return{dataRoutes:s,query:o,queryRoute:u}}function i6(t,e,n,r){let i=r||e._deepestRenderedBoundaryId||t[0].id;return{...e,statusCode:Vn(n)?n.status:500,errors:{[i]:n}}}function kF(t,e){if(t.signal.reason!==void 0)throw t.signal.reason;let n=e?"queryRoute":"query";throw new Error(`${n}() call aborted without an \`AbortSignal.reason\`: ${t.method} ${t.url}`)}function YJ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function KR(t,e,n,r,i,a){let s,o;if(i){s=[];for(let c of e)if(s.push(c),c.route.id===i){o=c;break}}else s=e,o=e[e.length-1];let u=v1(r||".",y1(s),fr(t.pathname,n)||t.pathname,a==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&o){let c=KP(u.search);if(o.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=IJ({basename:n,pathname:u.pathname})),Zr(u)}function DF(t,e,n){if(!n||!YJ(n))return{path:e};if(n.formMethod&&!e2(n.formMethod))return{path:e,error:tr(405,{method:n.formMethod})};let r=()=>({path:e,error:tr(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),s=m6(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!fi(a))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[v,w])=>`${g}${v}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!fi(a))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}Ge(typeof FormData=="function","FormData is not available in this environment");let o,u;if(n.formData)o=QR(n.formData),u=n.formData;else if(n.body instanceof FormData)o=QR(n.body),u=n.body;else if(n.body instanceof URLSearchParams)o=n.body,u=zF(o);else if(n.body==null)o=new URLSearchParams,u=new FormData;else try{o=new URLSearchParams(n.body),u=zF(o)}catch{return r()}let c={formMethod:a,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(fi(c.formMethod))return{path:e,submission:c};let f=Wa(e);return t&&f.search&&KP(f.search)&&o.append("index",""),f.search=`?${o}`,{path:Zr(f),submission:c}}function IF(t,e,n,r,i,a,s,o,u,c,f,h,g,v,w,E,A,C,P,R){var Z;let I=R?Mr(R[1])?R[1].error:R[1].data:void 0,k=i.createURL(a.location),L=i.createURL(u),M;if(f&&a.errors){let ce=Object.keys(a.errors)[0];M=s.findIndex(G=>G.route.id===ce)}else if(R&&Mr(R[1])){let ce=R[0];M=s.findIndex(G=>G.route.id===ce)-1}let z=R?R[1].statusCode:void 0,B=z&&z>=400,V={currentUrl:k,currentParams:((Z=a.matches[0])==null?void 0:Z.params)||{},nextUrl:L,nextParams:s[0].params,...o,actionResult:I,actionStatus:z},U=gu(s),q=s.map((ce,G)=>{let{route:$}=ce,ee=null;if(M!=null&&G>M?ee=!1:$.lazy?ee=!0:WP($)?f?ee=XR($,a.loaderData,a.errors):KJ(a.loaderData,a.matches[G],ce)&&(ee=!0):ee=!1,ee!==null)return f0(n,r,t,U,ce,c,e,ee);let re=B?!1:h||k.pathname+k.search===L.pathname+L.search||k.search!==L.search||XJ(a.matches[G],ce),xe={...V,defaultShouldRevalidate:re},W=UE(ce,xe);return f0(n,r,t,U,ce,c,e,W,xe)}),Q=[];return w.forEach((ce,G)=>{if(f||!s.some(ge=>ge.route.id===ce.routeId)||v.has(G))return;let $=a.fetchers.get(G),ee=$&&$.state!=="idle"&&$.data===void 0,re=ta(A,ce.path,C);if(!re){if(P&&ee)return;Q.push({key:G,routeId:ce.routeId,path:ce.path,matches:null,match:null,request:null,controller:null});return}if(E.has(G))return;let xe=fm(re,ce.path),W=new AbortController,J=Vp(i,ce.path,W.signal),le=null;if(g.has(G))g.delete(G),le=wd(n,r,J,re,xe,c,e);else if(ee)h&&(le=wd(n,r,J,re,xe,c,e));else{let ge={...V,defaultShouldRevalidate:B?!1:h};UE(xe,ge)&&(le=wd(n,r,J,re,xe,c,e,ge))}le&&Q.push({key:G,routeId:ce.routeId,path:ce.path,matches:le,match:xe,request:J,controller:W})}),{dsMatches:q,revalidatingFetchers:Q}}function WP(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function XR(t,e,n){if(t.lazy)return!0;if(!WP(t))return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function KJ(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function XJ(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function UE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function LF(t,e,n,r,i,a){let s;if(t){let c=r[t];Ge(c,`No route found to patch children into: routeId = ${t}`),c.children||(c.children=[]),s=c.children}else s=n;let o=[],u=[];if(e.forEach(c=>{let f=s.find(h=>a6(c,h));f?u.push({existingRoute:f,newRoute:c}):o.push(c)}),o.length>0){let c=Ad(o,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...c)}if(a&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:f,newRoute:h}=u[c],g=f,[v]=Ad([h],i,[],{},!0);Object.assign(g,{element:v.element?v.element:g.element,errorElement:v.errorElement?v.errorElement:g.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:g.hydrateFallbackElement})}}function a6(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>a6(n,a))}):!1}var OF=new WeakMap,YP=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Ge(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let s=OF.get(i);s||(s={},OF.set(i,s));let o=s[t];if(o)return o;let u=(async()=>{let c=bJ(t),h=i[t]!==void 0&&t!=="hasErrorBoundary";if(c)Xt(!c,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(h)Xt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let g=await a();g!=null&&(Object.assign(i,{[t]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return s[t]=u,u},jF=new WeakMap;function JJ(t,e,n,r,i){let a=n[t.id];if(Ge(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let f=jF.get(a);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let h=(async()=>{Ge(typeof t.lazy=="function","No lazy route function found");let g=await t.lazy(),v={};for(let w in g){let E=g[w];if(E===void 0)continue;let A=wJ(w),P=a[w]!==void 0&&w!=="hasErrorBoundary";A?Xt(!A,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?Xt(!P,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):v[w]=E}Object.assign(a,v),Object.assign(a,{...r(a),lazy:void 0})})();return jF.set(a,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let s=Object.keys(t.lazy),o=[],u;for(let f of s){if(i&&i.includes(f))continue;let h=YP({key:f,route:t,manifest:n,mapRouteProperties:r});h&&(o.push(h),f===e&&(u=h))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}function QJ(t){return t!==void 0}function FF(t,e,n){let r=t.map(({route:i})=>{if(!(typeof i.lazy!="object"||!i.lazy.middleware))return YP({key:"middleware",route:i,manifest:e,mapRouteProperties:n})}).filter(QJ);return r.length>0?Promise.all(r):void 0}async function JR(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function ZJ(t){return t.matches.some(e=>e.route.middleware)?s6(t,()=>JR(t)):JR(t)}function UF(t,e,n){return o6(t,e,r,_n,n);function r(i){return Sd(i)?ZR(i):i}}function s6(t,e){return o6(t,e,r=>r,nQ,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:s}=t,o=Math.min(Math.max(s.findIndex(c=>c.route.id===i),0),Math.max(s.findIndex(c=>c.shouldCallHandler()),0)),u=ws(s,s[o].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function o6(t,e,n,r,i){let{matches:a,request:s,params:o,context:u,unstable_pattern:c}=t,f=a.flatMap(g=>g.route.middleware?g.route.middleware.map(v=>[g.route.id,v]):[]);return await l6({request:s,params:o,context:u,unstable_pattern:c},f,e,n,r,i)}async function l6(t,e,n,r,i,a,s=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let u=e[s];if(!u)return await n();let[c,f]=u,h,g=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await l6(t,e,n,r,i,a,s+1)},h.value}catch(v){return h={value:await a(v,c,h)},h.value}};try{let v=await f(t,g),w=v!=null?r(v):void 0;return i(w)?w:h?w??h.value:(h={value:await g()},h.value)}catch(v){return await a(v,c,h)}}function u6(t,e,n,r,i){let a=YP({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),s=JJ(r.route,fi(n.method)?"action":"loader",e,t,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function f0(t,e,n,r,i,a,s,o,u=null){let c=!1,f=u6(t,e,n,i,a);return{...i,_lazyPromises:f,shouldLoad:o,shouldRevalidateArgs:u,shouldCallHandler(h){return c=!0,u?typeof h=="boolean"?UE(i,{...u,defaultShouldRevalidate:h}):UE(i,u):o},resolve(h){let{lazy:g,loader:v,middleware:w}=i.route,E=c||o||h&&!fi(n.method)&&(g||v),A=w&&w.length>0&&!v&&!g;return E&&(fi(n.method)||!A)?eQ({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function wd(t,e,n,r,i,a,s,o=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:u6(t,e,n,u,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:f0(t,e,n,gu(r),u,a,s,!0,o))}async function c6(t,e,n,r,i,a){n.some(c=>{var f;return(f=c._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(n.map(c=>{var f;return(f=c._lazyPromises)==null?void 0:f.middleware}));let s={request:e,unstable_pattern:gu(n),params:n[0].params,context:i,matches:n},u=await t({...s,fetcherKey:r,runClientMiddleware:a?()=>{throw new Error("You cannot call `runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:c=>{let f=s;return s6(f,()=>c({...f,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>{var f,h;return[(f=c._lazyPromises)==null?void 0:f.handler,(h=c._lazyPromises)==null?void 0:h.route]}))}catch{}return u}async function eQ({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:a,scopedContext:s}){let o,u,c=fi(t.method),f=c?"action":"loader",h=g=>{let v,w=new Promise((C,P)=>v=P);u=()=>v(),t.signal.addEventListener("abort",u);let E=C=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:t,unstable_pattern:e,params:n.params,context:s},...C!==void 0?[C]:[]),A=(async()=>{try{return{type:"data",result:await(a?a(P=>E(P)):E())}}catch(C){return{type:"error",result:C}}})();return Promise.race([A,w])};try{let g=c?n.route.action:n.route.loader;if(r||i)if(g){let v,[w]=await Promise.all([h(g).catch(E=>{v=E}),r,i]);if(v!==void 0)throw v;o=w}else{await r;let v=c?n.route.action:n.route.loader;if(v)[o]=await Promise.all([h(v),i]);else if(f==="action"){let w=new URL(t.url),E=w.pathname+w.search;throw tr(405,{method:t.method,pathname:E,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)o=await h(g);else{let v=new URL(t.url),w=v.pathname+v.search;throw tr(404,{pathname:w})}}catch(g){return{type:"error",result:g}}finally{u&&t.signal.removeEventListener("abort",u)}return o}async function d6(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function f6(t){var r,i,a,s,o;let{result:e,type:n}=t;if(_n(e)){let u;try{u=await d6(e)}catch(c){return{type:"error",error:c}}return n==="error"?{type:"error",error:new Di(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return n==="error"?Sd(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:g6(e),statusCode:Vn(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Vn(e)?e.status:void 0}:Sd(e)?{type:"data",data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function h6(t,e,n,r,i){let a=t.headers.get("Location");if(Ge(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!g1(a)){let s=r.slice(0,r.findIndex(o=>o.route.id===n)+1);a=KR(new URL(e.url),s,i,a),t.headers.set("Location",a)}return t}function BF(t,e,n){if(g1(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=fr(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function Vp(t,e,n,r){let i=t.createURL(m6(e)).toString(),a={signal:n};if(r&&fi(r.formMethod)){let{formMethod:s,formEncType:o}=r;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(r.json)):o==="text/plain"?a.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?a.body=QR(r.formData):a.body=r.formData}return new Request(i,a)}function QR(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function zF(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function p6(t,e,n,r=!1,i=!1){let a={},s=null,o,u=!1,c={},f=n&&Mr(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let g=h.route.id,v=e[g];if(Ge(!xd(v),"Cannot handle redirect results in processLoaderData"),Mr(v)){let w=v.error;if(f!==void 0&&(w=f,f=void 0),s=s||{},i)s[g]=w;else{let E=ws(t,g);s[E.route.id]==null&&(s[E.route.id]=w)}r||(a[g]=n6),u||(u=!0,o=Vn(v.error)?v.error.status:500),v.headers&&(c[g]=v.headers)}else a[g]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(o=v.statusCode),v.headers&&(c[g]=v.headers)}),f!==void 0&&n&&(s={[n[0]]:f},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function HF(t,e,n,r,i,a){let{loaderData:s,errors:o}=p6(e,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:f,controller:h}=u;if(h&&h.signal.aborted)return;let g=a[c];if(Ge(g,"Did not find corresponding fetcher result"),Mr(g)){let v=ws(t.matches,f==null?void 0:f.route.id);o&&o[v.route.id]||(o={...o,[v.route.id]:g.error}),t.fetchers.delete(c)}else if(xd(g))Ge(!1,"Unhandled fetcher revalidation redirect");else{let v=_l(g.data);t.fetchers.set(c,v)}}),{loaderData:s,errors:o}}function GF(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==n6).reduce((a,[s,o])=>(a[s]=o,a),{});for(let a of n){let s=a.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&a.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function qF(t){return t?Mr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ws(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function nm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function tr(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let s="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(s="Bad Request",r&&e&&n?o=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):t===403?(s="Forbidden",o=`Route "${n}" does not match URL "${e}"`):t===404?(s="Not Found",o=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",r&&e&&n?o=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new Di(t||500,s,new Error(o),!0)}function yS(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(xd(i))return{key:r,result:i}}}function m6(t){let e=typeof t=="string"?Wa(t):t;return Zr({...e,hash:""})}function tQ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ZR(t){return Response.json(t.data,t.init??void 0)}function g6(t){var e,n;return new Di(((e=t.init)==null?void 0:e.status)??500,((n=t.init)==null?void 0:n.statusText)??"Internal Server Error",t.data)}function nQ(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&y6(n))}function y6(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function v6(t){return _n(t.result)&&ZH.has(t.result.status)}function Mr(t){return t.type==="error"}function xd(t){return(t&&t.type)==="redirect"}function Sd(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function _n(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function x1(t){return ZH.has(t)}function BE(t){return _n(t)&&x1(t.status)&&t.headers.has("Location")}function e2(t){return VJ.has(t.toUpperCase())}function fi(t){return qJ.has(t.toUpperCase())}function KP(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function fm(t,e){let n=typeof e=="string"?Wa(e).search:e.search;if(t[t.length-1].route.index&&KP(n||""))return t[t.length-1];let r=qH(t);return r[r.length-1]}function $F(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function XT(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rQ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vv(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iQ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function _l(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function aQ(t,e){try{let n=t.sessionStorage.getItem(t6);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function sQ(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(t6,JSON.stringify(n))}catch(r){Xt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function VF(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var rl=T.createContext(null);rl.displayName="DataRouter";var Lu=T.createContext(null);Lu.displayName="DataRouterState";var b6=T.createContext(!1);function oQ(){return T.useContext(b6)}var Ex=T.createContext({isTransitioning:!1});Ex.displayName="ViewTransition";var Ax=T.createContext(new Map);Ax.displayName="Fetchers";var Xg=T.createContext(null);Xg.displayName="Await";var lQ=t=>T.createElement(Xg.Provider,t),Li=T.createContext(null);Li.displayName="Navigation";var Xh=T.createContext(null);Xh.displayName="Location";var ra=T.createContext({outlet:null,matches:[],isDataRoute:!1});ra.displayName="Route";var XP=T.createContext(null);XP.displayName="RouteError";function x6(t,{relative:e}={}){Ge(Pd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Li),{hash:i,pathname:a,search:s}=ly(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Xo([n,a])),r.createHref({pathname:o,search:s,hash:i})}function Pd(){return T.useContext(Xh)!=null}function ia(){return Ge(Pd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Xh).location}function uQ(){return T.useContext(Xh).navigationType}function cQ(t){Ge(Pd(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=ia();return T.useMemo(()=>Kg(t,HH(e)),[e,t])}var w6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S6(t){T.useContext(Li).static||T.useLayoutEffect(t)}function w1(){let{isDataRoute:t}=T.useContext(ra);return t?EQ():dQ()}function dQ(){Ge(Pd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(rl),{basename:e,navigator:n}=T.useContext(Li),{matches:r}=T.useContext(ra),{pathname:i}=ia(),a=JSON.stringify(y1(r)),s=T.useRef(!1);return S6(()=>{s.current=!0}),T.useCallback((u,c={})=>{if(Xt(s.current,w6),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=v1(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xo([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,i,t])}var E6=T.createContext(null);function fQ(){return T.useContext(E6)}function A6(t){let e=T.useContext(ra).outlet;return T.useMemo(()=>e&&T.createElement(E6.Provider,{value:t},e),[e,t])}function S1(){let{matches:t}=T.useContext(ra),e=t[t.length-1];return e?e.params:{}}function ly(t,{relative:e}={}){let{matches:n}=T.useContext(ra),{pathname:r}=ia(),i=JSON.stringify(y1(n));return T.useMemo(()=>v1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function _6(t,e){return JP(t,e)}function JP(t,e,n,r,i){var P;Ge(Pd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Li),{matches:s}=T.useContext(ra),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let R=h&&h.path||"";M6(c,!h||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=ia(),v;if(e){let R=typeof e=="string"?Wa(e):e;Ge(f==="/"||((P=R.pathname)==null?void 0:P.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=g;let w=v.pathname||"/",E=w;if(f!=="/"){let R=f.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=ta(t,{pathname:E});Xt(h||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Xt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=C6(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:Xo([f,a.encodeLocation?a.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:Xo([f,a.encodeLocation?a.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),s,n,r,i);return e&&C?T.createElement(Xh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function hQ(){let t=_x(),e=Vn(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}var pQ=T.createElement(hQ,null),mQ=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(ra.Provider,{value:this.props.routeContext},T.createElement(XP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gQ({routeContext:t,match:e,children:n}){let r=T.useContext(rl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(ra.Provider,{value:t},n)}function C6(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let f=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Ge(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:v}=n,w=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&r?(f,h)=>{var g,v;r(f,{location:n.location,params:((v=(g=n.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:gu(n.matches),errorInfo:h})}:void 0;return a.reduceRight((f,h,g)=>{let v,w=!1,E=null,A=null;n&&(v=s&&h.route.id?s[h.route.id]:void 0,E=h.route.errorElement||pQ,o&&(u<0&&g===0?(M6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):u===g&&(w=!0,A=h.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),P=()=>{let R;return v?R=E:w?R=A:h.route.Component?R=T.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=f,T.createElement(gQ,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:R})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?T.createElement(mQ,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:P(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:c}):P()},null)}function QP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZP(t){let e=T.useContext(rl);return Ge(e,QP(t)),e}function Ou(t){let e=T.useContext(Lu);return Ge(e,QP(t)),e}function yQ(t){let e=T.useContext(ra);return Ge(e,QP(t)),e}function uy(t){let e=yQ(t),n=e.matches[e.matches.length-1];return Ge(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vQ(){return uy("useRouteId")}function T6(){return Ou("useNavigation").navigation}function bQ(){let t=ZP("useRevalidator"),e=Ou("useRevalidator"),n=T.useCallback(async()=>{await t.router.revalidate()},[t.router]);return T.useMemo(()=>({revalidate:n,state:e.revalidation}),[n,e.revalidation])}function E1(){let{matches:t,loaderData:e}=Ou("useMatches");return T.useMemo(()=>t.map(n=>FH(n,e)),[t,e])}function A1(){let t=Ou("useLoaderData"),e=uy("useLoaderData");return t.loaderData[e]}function xQ(t){return Ou("useRouteLoaderData").loaderData[t]}function _1(){let t=Ou("useActionData"),e=uy("useLoaderData");return t.actionData?t.actionData[e]:void 0}function _x(){var r;let t=T.useContext(XP),e=Ou("useRouteError"),n=uy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function N6(){let t=T.useContext(Xg);return t==null?void 0:t._data}function wQ(){let t=T.useContext(Xg);return t==null?void 0:t._error}var SQ=0;function R6(t){let{router:e,basename:n}=ZP("useBlocker"),r=Ou("useBlocker"),[i,a]=T.useState(""),s=T.useCallback(o=>{if(typeof t!="function")return!!t;if(n==="/")return t(o);let{currentLocation:u,nextLocation:c,historyAction:f}=o;return t({currentLocation:{...u,pathname:fr(u.pathname,n)||u.pathname},nextLocation:{...c,pathname:fr(c.pathname,n)||c.pathname},historyAction:f})},[n,t]);return T.useEffect(()=>{let o=String(++SQ);return a(o),()=>e.deleteBlocker(o)},[e]),T.useEffect(()=>{i!==""&&e.getBlocker(i,s)},[e,i,s]),i&&r.blockers.has(i)?r.blockers.get(i):Ec}function EQ(){let{router:t}=ZP("useNavigate"),e=uy("useNavigate"),n=T.useRef(!1);return S6(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{Xt(n.current,w6),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var WF={};function M6(t,e,n){!e&&!WF[t]&&(WF[t]=!0,Xt(!1,n))}function AQ(...t){var a;const e=uy("useRoute"),n=t[0]??e,r=Ou("useRoute"),i=r.matches.find(({route:s})=>s.id===n);if(i!==void 0)return{handle:i.route.handle,loaderData:r.loaderData[n],actionData:(a=r.actionData)==null?void 0:a[n]}}var YF={};function h0(t,e){!t&&!YF[e]&&(YF[e]=!0,console.warn(e))}var _Q="useOptimistic",KF=VP[_Q],CQ=()=>{};function TQ(t){return KF?KF(t):[t,CQ]}function Jh(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Xt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Xt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Xt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Cx=["HydrateFallback","hydrateFallbackElement"];function P6(t,e){return Sx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:IH({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:t,hydrationRouteProperties:Cx,mapRouteProperties:Jh,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}var NQ=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function k6({router:t,flushSync:e,unstable_onError:n,unstable_useTransitions:r}){let[i,a]=T.useState(t.state),[s,o]=TQ(i),[u,c]=T.useState(),[f,h]=T.useState({isTransitioning:!1}),[g,v]=T.useState(),[w,E]=T.useState(),[A,C]=T.useState(),P=T.useRef(new Map),R=T.useCallback((M,{deletedFetchers:z,newErrors:B,flushSync:V,viewTransitionOpts:U})=>{B&&n&&Object.values(B).forEach(Q=>{var Z;return n(Q,{location:M.location,params:((Z=M.matches[0])==null?void 0:Z.params)??{},unstable_pattern:gu(M.matches)})}),M.fetchers.forEach((Q,Z)=>{Q.data!==void 0&&P.current.set(Z,Q.data)}),z.forEach(Q=>P.current.delete(Q)),h0(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let q=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(h0(U==null||q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!q){e&&V?e(()=>a(M)):r===!1?a(M):T.startTransition(()=>{r===!0&&o(Q=>XF(Q,M)),a(M)});return}if(e&&V){e(()=>{w&&(g==null||g.resolve(),w.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let Q=t.window.document.startViewTransition(()=>{e(()=>a(M))});Q.finished.finally(()=>{e(()=>{v(void 0),E(void 0),c(void 0),h({isTransitioning:!1})})}),e(()=>E(Q));return}w?(g==null||g.resolve(),w.skipTransition(),C({state:M,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(c(M),h({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[t.window,e,w,g,r,o,n]);T.useLayoutEffect(()=>t.subscribe(R),[t,R]),T.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new NQ)},[f]),T.useEffect(()=>{if(g&&u&&t.window){let M=u,z=g.promise,B=t.window.document.startViewTransition(async()=>{r===!1?a(M):T.startTransition(()=>{r===!0&&o(V=>XF(V,M)),a(M)}),await z});B.finished.finally(()=>{v(void 0),E(void 0),c(void 0),h({isTransitioning:!1})}),E(B)}},[u,g,t.window,r,o]),T.useEffect(()=>{g&&u&&s.location.key===u.location.key&&g.resolve()},[g,w,s.location,u]),T.useEffect(()=>{!f.isTransitioning&&A&&(c(A.state),h({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),C(void 0))},[f.isTransitioning,A]);let I=T.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:M=>t.navigate(M),push:(M,z,B)=>t.navigate(M,{state:z,preventScrollReset:B==null?void 0:B.preventScrollReset}),replace:(M,z,B)=>t.navigate(M,{replace:!0,state:z,preventScrollReset:B==null?void 0:B.preventScrollReset})}),[t]),k=t.basename||"/",L=T.useMemo(()=>({router:t,navigator:I,static:!1,basename:k,unstable_onError:n}),[t,I,k,n]);return T.createElement(T.Fragment,null,T.createElement(rl.Provider,{value:L},T.createElement(Lu.Provider,{value:s},T.createElement(Ax.Provider,{value:P.current},T.createElement(Ex.Provider,{value:f},T.createElement(kd,{basename:k,location:s.location,navigationType:s.historyAction,navigator:I,unstable_useTransitions:r===!0},T.createElement(RQ,{routes:t.routes,future:t.future,state:s,unstable_onError:n})))))),null)}function XF(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var RQ=T.memo(MQ);function MQ({routes:t,future:e,state:n,unstable_onError:r}){return JP(t,void 0,n,r,e)}function PQ({basename:t,children:e,initialEntries:n,initialIndex:r,unstable_useTransitions:i}){let a=T.useRef();a.current==null&&(a.current=IH({initialEntries:n,initialIndex:r,v5Compat:!0}));let s=a.current,[o,u]=T.useState({action:s.action,location:s.location}),c=T.useCallback(f=>{i===!1?u(f):T.startTransition(()=>u(f))},[i]);return T.useLayoutEffect(()=>s.listen(c),[s,c]),T.createElement(kd,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:i===!0})}function kQ({to:t,replace:e,state:n,relative:r}){Ge(Pd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Li);Xt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(ra),{pathname:s}=ia(),o=w1(),u=v1(t,y1(a),s,r==="path"),c=JSON.stringify(u);return T.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function D6(t){return A6(t.context)}function I6(t){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kd({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Ge(!Pd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=Wa(n));let{pathname:c="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,w=T.useMemo(()=>{let E=fr(c,o);return E==null?null:{location:{pathname:E,search:f,hash:h,state:g,key:v},navigationType:r}},[o,c,f,h,g,v,r]);return Xt(w!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(Li.Provider,{value:u},T.createElement(Xh.Provider,{children:e,value:w}))}function DQ({children:t,location:e}){return _6(p0(t),e)}function IQ({children:t,errorElement:e,resolve:n}){let r=T.useContext(rl),i=T.useContext(Lu),a=T.useCallback((s,o)=>{var u;r&&r.unstable_onError&&i&&r.unstable_onError(s,{location:i.location,params:((u=i.matches[0])==null?void 0:u.params)||{},unstable_pattern:gu(i.matches),errorInfo:o})},[r,i]);return T.createElement(LQ,{resolve:n,errorElement:e,onError:a},T.createElement(OQ,null,t))}var LQ=class extends T.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("<Await> caught the following error during render",t,e)}render(){let{children:t,errorElement:e,resolve:n}=this.props,r=null,i=0;if(!(n instanceof Promise))i=1,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});else if(this.state.error){i=2;let a=this.state.error;r=Promise.reject().catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>a})}else n._tracked?(r=n,i="_error"in r?2:"_data"in r?1:0):(i=0,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then(a=>Object.defineProperty(n,"_data",{get:()=>a}),a=>{var s,o;(o=(s=this.props).onError)==null||o.call(s,a),Object.defineProperty(n,"_error",{get:()=>a})}));if(i===2&&!e)throw r._error;if(i===2)return T.createElement(Xg.Provider,{value:r,children:e});if(i===1)return T.createElement(Xg.Provider,{value:r,children:t});throw r}};function OQ({children:t}){let e=N6(),n=typeof t=="function"?t(e):t;return T.createElement(T.Fragment,null,n)}function p0(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,p0(r.props.children,a));return}Ge(r.type===I6,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=p0(r.props.children,a)),n.push(s)}),n}var jQ=p0;function FQ(t){return C6(t)}function L6(){return{params:S1(),loaderData:A1(),actionData:_1(),matches:E1()}}function UQ({children:t}){const e=L6();return T.cloneElement(t,e)}function O6(t){return function(){const n=L6();return T.createElement(t,n)}}function j6(){return{params:S1(),loaderData:A1(),actionData:_1()}}function BQ({children:t}){const e=j6();return T.cloneElement(t,e)}function F6(t){return function(){const n=j6();return T.createElement(t,n)}}function U6(){return{params:S1(),loaderData:A1(),actionData:_1(),error:_x()}}function zQ({children:t}){const e=U6();return T.cloneElement(t,e)}function B6(t){return function(){const n=U6();return T.createElement(t,n)}}var KS="get",XS="application/x-www-form-urlencoded";function C1(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function HQ(t){return C1(t)&&t.tagName.toLowerCase()==="button"}function GQ(t){return C1(t)&&t.tagName.toLowerCase()==="form"}function qQ(t){return C1(t)&&t.tagName.toLowerCase()==="input"}function $Q(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VQ(t,e){return t.button===0&&(!e||e==="_self")&&!$Q(t)}function zE(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function WQ(t,e){let n=zE(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var vS=null;function YQ(){if(vS===null)try{new FormData(document.createElement("form"),0),vS=!1}catch{vS=!0}return vS}var KQ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function JT(t){return t!=null&&!KQ.has(t)?(Xt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${XS}"`),null):t}function XQ(t,e){let n,r,i,a,s;if(GQ(t)){let o=t.getAttribute("action");r=o?fr(o,e):null,n=t.getAttribute("method")||KS,i=JT(t.getAttribute("enctype"))||XS,a=new FormData(t)}else if(HQ(t)||qQ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?fr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||KS,i=JT(t.getAttribute("formenctype"))||JT(o.getAttribute("enctype"))||XS,a=new FormData(o,t),!YQ()){let{name:c,type:f,value:h}=t;if(f==="image"){let g=c?`${c}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else c&&a.append(c,h)}}else{if(C1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=KS,r=null,i=XS,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}var z6=-1,H6=-2,G6=-3,q6=-4,ek=-5,$6=-6,V6=-7,W6="B",Y6="D",hm="E",t2="M",K6="N",pm="P",X6="R",n2="S",J6="Y",Q6="U",r2="Z",Z6=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};function JQ(){const t=new TextDecoder;let e="";return new TransformStream({transform(n,r){const i=t.decode(n,{stream:!0}),a=(e+i).split(`
`);e=a.pop()||"";for(const s of a)r.enqueue(s)},flush(n){e&&n.enqueue(e)}})}function us(t){const{indices:e}=this,n=e.get(t);if(n)return[n];if(t===void 0)return V6;if(t===null)return ek;if(Number.isNaN(t))return H6;if(t===Number.POSITIVE_INFINITY)return $6;if(t===Number.NEGATIVE_INFINITY)return G6;if(t===0&&1/t<0)return q6;const r=this.index++;return e.set(t,r),QQ.call(this,t,r),r}function QQ(t,e){const{deferred:n,plugins:r,postPlugins:i}=this,a=this.stringified,s=[[t,e]];for(;s.length>0;){const[o,u]=s.pop(),c=h=>Object.keys(h).map(g=>`"_${us.call(this,g)}":${us.call(this,h[g])}`).join(",");let f=null;switch(typeof o){case"boolean":case"number":case"string":a[u]=JSON.stringify(o);break;case"bigint":a[u]=`["${W6}","${o}"]`;break;case"symbol":{const h=Symbol.keyFor(o);h?a[u]=`["${J6}",${JSON.stringify(h)}]`:f=new Error("Cannot encode symbol unless created with Symbol.for()");break}case"object":{if(!o){a[u]=`${ek}`;break}const h=Array.isArray(o);let g=!1;if(!h&&r)for(const v of r){const w=v(o);if(Array.isArray(w)){g=!0;const[E,...A]=w;a[u]=`[${JSON.stringify(E)}`,A.length>0&&(a[u]+=`,${A.map(C=>us.call(this,C)).join(",")}`),a[u]+="]";break}}if(!g){let v=h?"[":"{";if(h){for(let w=0;w<o.length;w++)v+=(w?",":"")+(w in o?us.call(this,o[w]):z6);a[u]=`${v}]`}else if(o instanceof Date){const w=o.getTime();a[u]=`["${Y6}",${Number.isNaN(w)?JSON.stringify("invalid"):w}]`}else o instanceof URL?a[u]=`["${Q6}",${JSON.stringify(o.href)}]`:o instanceof RegExp?a[u]=`["${X6}",${JSON.stringify(o.source)},${JSON.stringify(o.flags)}]`:o instanceof Set?o.size>0?a[u]=`["${n2}",${[...o].map(w=>us.call(this,w)).join(",")}]`:a[u]=`["${n2}"]`:o instanceof Map?o.size>0?a[u]=`["${t2}",${[...o].flatMap(([w,E])=>[us.call(this,w),us.call(this,E)]).join(",")}]`:a[u]=`["${t2}"]`:o instanceof Promise?(a[u]=`["${pm}",${u}]`,n[u]=o):o instanceof Error?(a[u]=`["${hm}",${JSON.stringify(o.message)}`,o.name!=="Error"&&(a[u]+=`,${JSON.stringify(o.name)}`),a[u]+="]"):Object.getPrototypeOf(o)===null?a[u]=`["${K6}",{${c(o)}}]`:eZ(o)?a[u]=`{${c(o)}}`:f=new Error("Cannot encode object with prototype")}break}default:{const h=Array.isArray(o);let g=!1;if(!h&&r)for(const v of r){const w=v(o);if(Array.isArray(w)){g=!0;const[E,...A]=w;a[u]=`[${JSON.stringify(E)}`,A.length>0&&(a[u]+=`,${A.map(C=>us.call(this,C)).join(",")}`),a[u]+="]";break}}g||(f=new Error("Cannot encode function or unexpected type"))}}if(f){let h=!1;if(i)for(const g of i){const v=g(o);if(Array.isArray(v)){h=!0;const[w,...E]=v;a[u]=`[${JSON.stringify(w)}`,E.length>0&&(a[u]+=`,${E.map(A=>us.call(this,A)).join(",")}`),a[u]+="]";break}}if(!h)throw f}}}var ZQ=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eZ(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===ZQ}var QT=typeof window<"u"?window:typeof globalThis<"u"?globalThis:void 0;function i2(t){const{hydrated:e,values:n}=this;if(typeof t=="number")return JF.call(this,t);if(!Array.isArray(t)||!t.length)throw new SyntaxError;const r=n.length;for(const i of t)n.push(i);return e.length=n.length,JF.call(this,r)}function JF(t){const{hydrated:e,values:n,deferred:r,plugins:i}=this;let a;const s=[[t,u=>{a=u}]];let o=[];for(;s.length>0;){const[u,c]=s.pop();switch(u){case V6:c(void 0);continue;case ek:c(null);continue;case H6:c(NaN);continue;case $6:c(1/0);continue;case G6:c(-1/0);continue;case q6:c(-0);continue}if(e[u]){c(e[u]);continue}const f=n[u];if(!f||typeof f!="object"){e[u]=f,c(f);continue}if(Array.isArray(f))if(typeof f[0]=="string"){const[h,g,v]=f;switch(h){case Y6:c(e[u]=new Date(g));continue;case Q6:c(e[u]=new URL(g));continue;case W6:c(e[u]=BigInt(g));continue;case X6:c(e[u]=new RegExp(g,v));continue;case J6:c(e[u]=Symbol.for(g));continue;case n2:const w=new Set;e[u]=w;for(let I=f.length-1;I>0;I--)s.push([f[I],k=>{w.add(k)}]);c(w);continue;case t2:const E=new Map;e[u]=E;for(let I=f.length-2;I>0;I-=2){const k=[];s.push([f[I+1],L=>{k[1]=L}]),s.push([f[I],L=>{k[0]=L}]),o.push(()=>{E.set(k[0],k[1])})}c(E);continue;case K6:const A=Object.create(null);e[u]=A;for(const I of Object.keys(g).reverse()){const k=[];s.push([g[I],L=>{k[1]=L}]),s.push([Number(I.slice(1)),L=>{k[0]=L}]),o.push(()=>{A[k[0]]=k[1]})}c(A);continue;case pm:if(e[g])c(e[u]=e[g]);else{const I=new Z6;r[g]=I,c(e[u]=I.promise)}continue;case hm:const[,C,P]=f;let R=P&&QT&&QT[P]?new QT[P](C):new Error(C);e[u]=R,c(R);continue;case r2:c(e[u]=e[g]);continue;default:if(Array.isArray(i)){const I=[],k=f.slice(1);for(let L=0;L<k.length;L++){const M=k[L];s.push([M,z=>{I[L]=z}])}o.push(()=>{for(const L of i){const M=L(f[0],...I);if(M){c(e[u]=M.value);return}}throw new SyntaxError});continue}throw new SyntaxError}}else{const h=[];e[u]=h;for(let g=0;g<f.length;g++){const v=f[g];v!==z6&&s.push([v,w=>{h[g]=w}])}c(h);continue}else{const h={};e[u]=h;for(const g of Object.keys(f).reverse()){const v=[];s.push([f[g],w=>{v[1]=w}]),s.push([Number(g.slice(1)),w=>{v[0]=w}]),o.push(()=>{h[v[0]]=v[1]})}c(h);continue}}for(;o.length>0;)o.pop()();return a}async function tZ(t,e){const{plugins:n}=e??{},r=new Z6,i=t.pipeThrough(JQ()).getReader(),a={values:[],hydrated:[],deferred:{},plugins:n},s=await nZ.call(a,i);let o=r.promise;return s.done?r.resolve():o=rZ.call(a,i).then(r.resolve).catch(u=>{for(const c of Object.values(a.deferred))c.reject(u);r.reject(u)}),{done:o.then(()=>i.closed),value:s.value}}async function nZ(t){const e=await t.read();if(!e.value)throw new SyntaxError;let n;try{n=JSON.parse(e.value)}catch{throw new SyntaxError}return{done:e.done,value:i2.call(this,n)}}async function rZ(t){let e=await t.read();for(;!e.done;){if(!e.value)continue;const n=e.value;switch(n[0]){case pm:{const r=n.indexOf(":"),i=Number(n.slice(1,r)),a=this.deferred[i];if(!a)throw new Error(`Deferred ID ${i} not found in stream`);const s=n.slice(r+1);let o;try{o=JSON.parse(s)}catch{throw new SyntaxError}const u=i2.call(this,o);a.resolve(u);break}case hm:{const r=n.indexOf(":"),i=Number(n.slice(1,r)),a=this.deferred[i];if(!a)throw new Error(`Deferred ID ${i} not found in stream`);const s=n.slice(r+1);let o;try{o=JSON.parse(s)}catch{throw new SyntaxError}const u=i2.call(this,o);a.reject(u);break}default:throw new SyntaxError}e=await t.read()}}function iZ(t,e){const{plugins:n,postPlugins:r,signal:i}=e??{},a={deferred:{},index:0,indices:new Map,stringified:[],plugins:n,postPlugins:r,signal:i},s=new TextEncoder;let o=0;return new ReadableStream({async start(c){const f=us.call(a,t);if(Array.isArray(f))throw new Error("This should never happen");f<0?c.enqueue(s.encode(`${f}
`)):(c.enqueue(s.encode(`[${a.stringified.join(",")}]
`)),o=a.stringified.length-1);const h=new WeakSet;if(Object.keys(a.deferred).length){let g;const v=new Promise((w,E)=>{if(g=w,i){const A=()=>E(i.reason||new Error("Signal was aborted."));i.aborted?A():i.addEventListener("abort",C=>{A()})}});for(;Object.keys(a.deferred).length>0;){for(const[w,E]of Object.entries(a.deferred))h.has(E)||h.add(a.deferred[Number(w)]=Promise.race([v,E]).then(A=>{const C=us.call(a,A);if(Array.isArray(C))c.enqueue(s.encode(`${pm}${w}:[["${r2}",${C[0]}]]
`)),a.index++,o++;else if(C<0)c.enqueue(s.encode(`${pm}${w}:${C}
`));else{const P=a.stringified.slice(o+1).join(",");c.enqueue(s.encode(`${pm}${w}:[${P}]
`)),o=a.stringified.length-1}},A=>{(!A||typeof A!="object"||!(A instanceof Error))&&(A=new Error("An unknown error occurred"));const C=us.call(a,A);if(Array.isArray(C))c.enqueue(s.encode(`${hm}${w}:[["${r2}",${C[0]}]]
`)),a.index++,o++;else if(C<0)c.enqueue(s.encode(`${hm}${w}:${C}
`));else{const P=a.stringified.slice(o+1).join(",");c.enqueue(s.encode(`${hm}${w}:[${P}]
`)),o=a.stringified.length-1}}).finally(()=>{delete a.deferred[Number(w)]}));await Promise.race(Object.values(a.deferred))}g()}await Promise.all(Object.values(a.deferred)),c.close()}})}async function aZ(t){let e={signal:t.signal};if(t.method!=="GET"){e.method=t.method;let n=t.headers.get("Content-Type");n&&/\bapplication\/json\b/.test(n)?(e.headers={"Content-Type":n},e.body=JSON.stringify(await t.json())):n&&/\btext\/plain\b/.test(n)?(e.headers={"Content-Type":n},e.body=await t.text()):n&&/\bapplication\/x-www-form-urlencoded\b/.test(n)?e.body=new URLSearchParams(await t.text()):e.body=await t.formData()}return e}var sZ={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},oZ=/[&><\u2028\u2029]/g;function tk(t){return t.replace(oZ,e=>sZ[e])}function hi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}var Su=Symbol("SingleFetchRedirect"),eG=class extends Error{},nk=202,tG=new Set([100,101,204,205]);function nG({context:t,identifier:e,reader:n,textDecoder:r,nonce:i}){if(!t.renderMeta||!t.renderMeta.didRenderScripts)return null;t.renderMeta.streamCache||(t.renderMeta.streamCache={});let{streamCache:a}=t.renderMeta,s=a[e];if(s||(s=a[e]=n.read().then(f=>{a[e].result={done:f.done,value:r.decode(f.value,{stream:!0})}}).catch(f=>{a[e].error=f})),s.error)throw s.error;if(s.result===void 0)throw s;let{done:o,value:u}=s.result,c=u?T.createElement("script",{nonce:i,dangerouslySetInnerHTML:{__html:`window.__reactRouterContext.streamController.enqueue(${tk(JSON.stringify(u))});`}}):null;return o?T.createElement(T.Fragment,null,c,T.createElement("script",{nonce:i,dangerouslySetInnerHTML:{__html:"window.__reactRouterContext.streamController.close();"}})):T.createElement(T.Fragment,null,c,T.createElement(T.Suspense,null,T.createElement(nG,{context:t,identifier:e+1,reader:n,textDecoder:r,nonce:i})))}function rG(t,e,n,r,i){let a=lZ(t,s=>{let o=e.routes[s.route.id];hi(o,"Route not found in manifest");let u=n[s.route.id];return{hasLoader:o.hasLoader,hasClientLoader:o.hasClientLoader,hasShouldRevalidate:!!(u!=null&&u.shouldRevalidate)}},mZ,r,i);return async s=>s.runClientMiddleware(a)}function lZ(t,e,n,r,i,a=()=>!0){return async s=>{let{request:o,matches:u,fetcherKey:c}=s,f=t();if(o.method!=="GET")return uZ(s,n,i);let h=u.some(g=>{let{hasLoader:v,hasClientLoader:w}=e(g);return g.shouldCallHandler()&&v&&!w});return!r&&!h?cZ(s,e,n,i):c?hZ(s,n,i):dZ(s,f,e,n,r,i,a)}}async function uZ(t,e,n){let r=t.matches.find(s=>s.shouldCallHandler());hi(r,"No action match found");let i,a=await r.resolve(async s=>await s(async()=>{let{data:u,status:c}=await e(t,n,[r.route.id]);return i=c,m0(u,r.route.id)}));return _n(a.result)||Vn(a.result)||Sd(a.result)?{[r.route.id]:a}:{[r.route.id]:{type:a.type,result:$H(a.result,i)}}}async function cZ(t,e,n,r){let i=t.matches.filter(s=>s.shouldCallHandler()),a={};return await Promise.all(i.map(s=>s.resolve(async o=>{try{let{hasClientLoader:u}=e(s),c=s.route.id,f=u?await o(async()=>{let{data:h}=await n(t,r,[c]);return m0(h,c)}):await o();a[s.route.id]={type:"data",result:f}}catch(u){a[s.route.id]={type:"error",result:u}}}))),a}async function dZ(t,e,n,r,i,a,s=()=>!0){let o=new Set,u=!1,c=t.matches.map(()=>QF()),f=QF(),h={},g=Promise.all(t.matches.map(async(w,E)=>w.resolve(async A=>{c[E].resolve();let C=w.route.id,{hasLoader:P,hasClientLoader:R,hasShouldRevalidate:I}=n(w),k=!w.shouldRevalidateArgs||w.shouldRevalidateArgs.actionStatus==null||w.shouldRevalidateArgs.actionStatus<400;if(!w.shouldCallHandler(k)){u||(u=w.shouldRevalidateArgs!=null&&P&&I===!0);return}if(s(w)&&R){P&&(u=!0);try{let M=await A(async()=>{let{data:z}=await r(t,a,[C]);return m0(z,C)});h[C]={type:"data",result:M}}catch(M){h[C]={type:"error",result:M}}return}P&&o.add(C);try{let M=await A(async()=>{let z=await f.promise;return m0(z,C)});h[C]={type:"data",result:M}}catch(M){h[C]={type:"error",result:M}}})));if(await Promise.all(c.map(w=>w.promise)),(!e.state.initialized&&e.state.navigation.state==="idle"||o.size===0)&&!window.__reactRouterHdrActive)f.resolve({routes:{}});else{let w=i&&u&&o.size>0?[...o.keys()]:void 0;try{let E=await r(t,a,w);f.resolve(E.data)}catch(E){f.reject(E)}}return await g,await fZ(f.promise,t.matches,o,h),h}async function fZ(t,e,n,r){var i;try{let a,s=await t;if("routes"in s){for(let o of e)if(o.route.id in s.routes){let u=s.routes[o.route.id];if("error"in u){a=u.error,((i=r[o.route.id])==null?void 0:i.result)==null&&(r[o.route.id]={type:"error",result:a});break}}}a!==void 0&&Array.from(n.values()).forEach(o=>{r[o].result instanceof eG&&(r[o].result=a)})}catch{}}async function hZ(t,e,n){let r=t.matches.find(s=>s.shouldCallHandler());hi(r,"No fetcher match found");let i=r.route.id,a=await r.resolve(async s=>s(async()=>{let{data:o}=await e(t,n,[i]);return m0(o,i)}));return{[r.route.id]:a}}function pZ(t){let e=t.searchParams.getAll("index");t.searchParams.delete("index");let n=[];for(let r of e)r&&n.push(r);for(let r of n)t.searchParams.append("index",r);return t}function iG(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&fr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function mZ(t,e,n){let{request:r}=t,i=iG(r.url,e,"data");r.method==="GET"&&(i=pZ(i),n&&i.searchParams.set("_routes",n.join(",")));let a=await fetch(i,await aZ(r));if(a.status>=400&&!a.headers.has("X-Remix-Response"))throw new Di(a.status,a.statusText,await a.text());if(a.status===204&&a.headers.has("X-Remix-Redirect"))return{status:nk,data:{redirect:{redirect:a.headers.get("X-Remix-Redirect"),status:Number(a.headers.get("X-Remix-Status")||"302"),revalidate:a.headers.get("X-Remix-Revalidate")==="true",reload:a.headers.get("X-Remix-Reload-Document")==="true",replace:a.headers.get("X-Remix-Replace")==="true"}}};if(tG.has(a.status)){let s={};return n&&r.method!=="GET"&&(s[n[0]]={data:void 0}),{status:a.status,data:{routes:s}}}hi(a.body,"No response body to decode");try{let s=await T1(a.body,window),o;if(r.method==="GET"){let u=s.value;Su in u?o={redirect:u[Su]}:o={routes:u}}else{let u=s.value,c=n==null?void 0:n[0];hi(c,"No routeId found for single fetch call decoding"),"redirect"in u?o={redirect:u}:o={routes:{[c]:u}}}return{status:a.status,data:o}}catch{throw new Error("Unable to decode turbo-stream response")}}function T1(t,e){return tZ(t,{plugins:[(n,...r)=>{if(n==="SanitizedError"){let[i,a,s]=r,o=Error;i&&i in e&&typeof e[i]=="function"&&(o=e[i]);let u=new o(a);return u.stack=s,{value:u}}if(n==="ErrorResponse"){let[i,a,s]=r;return{value:new Di(a,s,i)}}if(n==="SingleFetchRedirect")return{value:{[Su]:r[0]}};if(n==="SingleFetchClassInstance")return{value:r[0]};if(n==="SingleFetchFallback")return{value:void 0}}]})}function m0(t,e){if("redirect"in t){let{redirect:r,revalidate:i,reload:a,replace:s,status:o}=t.redirect;throw wx(r,{status:o,headers:{...i?{"X-Remix-Revalidate":"yes"}:null,...a?{"X-Remix-Reload-Document":"yes"}:null,...s?{"X-Remix-Replace":"yes"}:null}})}let n=t.routes[e];if(n==null)throw new eG(`No result found for routeId "${e}"`);if("error"in n)throw n.error;if("data"in n)return n.data;throw new Error(`Invalid response found for routeId "${e}"`)}function QF(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}async function aG(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gZ(t,e,n){let r=t.map(a=>{var u;let s=e[a.route.id],o=n.routes[a.route.id];return[o&&o.css?o.css.map(c=>({rel:"stylesheet",href:c})):[],((u=s==null?void 0:s.links)==null?void 0:u.call(s))||[]]}).flat(2),i=ik(t,n);return uG(r,i)}function sG(t){return t.css?t.css.map(e=>({rel:"stylesheet",href:e})):[]}async function yZ(t){if(!t.css)return;let e=sG(t);await Promise.all(e.map(lG))}async function oG(t,e){if(!t.css&&!e.links||!SZ())return;let n=[];if(t.css&&n.push(...sG(t)),e.links&&n.push(...e.links()),n.length===0)return;let r=[];for(let i of n)!rk(i)&&i.rel==="stylesheet"&&r.push({...i,rel:"preload",as:"style"});await Promise.all(r.map(lG))}async function lG(t){return new Promise(e=>{if(t.media&&!window.matchMedia(t.media).matches||document.querySelector(`link[rel="stylesheet"][href="${t.href}"]`))return e();let n=document.createElement("link");Object.assign(n,t);function r(){document.head.contains(n)&&document.head.removeChild(n)}n.onload=()=>{r(),e()},n.onerror=()=>{r(),e()},document.head.appendChild(n)})}function rk(t){return t!=null&&typeof t.page=="string"}function vZ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function bZ(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await aG(a,n);return s.links?s.links():[]}return[]}));return uG(r.flat(1).filter(vZ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ZF(t,e,n,r,i,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>s(u,c)||o(u,c)):a==="data"?e.filter((u,c)=>{var h;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function ik(t,e,{includeHydrateFallback:n}={}){return xZ(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function xZ(t){return[...new Set(t)]}function wZ(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uG(t,e){let n=new Set,r=new Set(e);return t.reduce((i,a)=>{if(e&&!rk(a)&&a.as==="script"&&a.href&&r.has(a.href))return i;let o=JSON.stringify(wZ(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}var bS;function SZ(){if(bS!==void 0)return bS;let t=document.createElement("link");return bS=t.relList.supports("preload"),t=null,bS}function EZ(){return T.createElement(a2,{title:"Loading...",renderScripts:!0},T.createElement("script",{dangerouslySetInnerHTML:{__html:`
              console.log(
                " Hey developer . You can provide a way better UX than this " +
                "when your app is loading JS modules and/or running \`clientLoader\` " +
                "functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback " +
                "for more information."
              );
            `}}))}function ak(t){let e={};return Object.values(t).forEach(n=>{if(n){let r=n.parentId||"";e[r]||(e[r]=[]),e[r].push(n)}}),e}function cG(t,e,n){let r=hG(e),i=e.HydrateFallback&&(!n||t.id==="root")?e.HydrateFallback:t.id==="root"?EZ:void 0,a=e.ErrorBoundary?e.ErrorBoundary:t.id==="root"?()=>T.createElement(bG,{error:_x()}):void 0;return t.id==="root"&&e.Layout?{...r?{element:T.createElement(e.Layout,null,T.createElement(r,null))}:{Component:r},...a?{errorElement:T.createElement(e.Layout,null,T.createElement(a,null))}:{ErrorBoundary:a},...i?{hydrateFallbackElement:T.createElement(e.Layout,null,T.createElement(i,null))}:{HydrateFallback:i}}:{Component:r,ErrorBoundary:a,HydrateFallback:i}}function dG(t,e,n,r,i="",a=ak(t),s=Promise.resolve({Component:()=>null})){return(a[i]||[]).map(o=>{let u=e[o.id];hi(u,"No `routeModule` available to create server routes");let c={...cG(o,u,r),caseSensitive:o.caseSensitive,id:o.id,index:o.index,path:o.path,handle:u.handle,lazy:r?()=>s:void 0,loader:o.hasLoader||o.hasClientLoader?()=>null:void 0},f=dG(t,e,n,r,o.id,a,s);return f.length>0&&(c.children=f),c})}function fG(t,e,n,r,i,a){return Tx(e,n,r,i,a,"",ak(e),t)}function xS(t,e){if(t==="loader"&&!e.hasLoader||t==="action"&&!e.hasAction){let r=`You are trying to call ${t==="action"?"serverAction()":"serverLoader()"} on a route that does not have a server ${t} (routeId: "${e.id}")`;throw console.error(r),new Di(400,"Bad Request",new Error(r),!0)}}function ZT(t,e){let n=t==="clientAction"?"a":"an",r=`Route "${e}" does not have ${n} ${t}, but you are trying to submit to it. To fix this, please add ${n} \`${t}\` function to the route`;throw console.error(r),new Di(405,"Method Not Allowed",new Error(r),!0)}function Tx(t,e,n,r,i,a="",s=ak(t),o){return(s[a]||[]).map(u=>{var P,R,I;let c=e[u.id];function f(k){return hi(typeof k=="function","No single fetch function available for route handler"),k()}function h(k){return u.hasLoader?f(k):Promise.resolve(null)}function g(k){if(!u.hasAction)throw ZT("action",u.id);return f(k)}function v(k){import(k)}function w(k){k.clientActionModule&&v(k.clientActionModule),k.clientLoaderModule&&v(k.clientLoaderModule)}async function E(k){let L=e[u.id],M=L?oG(u,L):Promise.resolve();try{return k()}finally{await M}}let A={id:u.id,index:u.index,path:u.path};if(c){Object.assign(A,{...A,...cG(u,c,i),middleware:c.clientMiddleware,handle:c.handle,shouldRevalidate:e3(A.path,c,u,r,o)});let k=n&&n.loaderData&&u.id in n.loaderData,L=k?(P=n==null?void 0:n.loaderData)==null?void 0:P[u.id]:void 0,M=n&&n.errors&&u.id in n.errors,z=M?(R=n==null?void 0:n.errors)==null?void 0:R[u.id]:void 0,B=o==null&&(((I=c.clientLoader)==null?void 0:I.hydrate)===!0||!u.hasLoader);A.loader=async({request:V,params:U,context:q,unstable_pattern:Q},Z)=>{try{return await E(async()=>(hi(c,"No `routeModule` available for critical-route loader"),c.clientLoader?c.clientLoader({request:V,params:U,context:q,unstable_pattern:Q,async serverLoader(){if(xS("loader",u),B){if(k)return L;if(M)throw z}return h(Z)}}):h(Z)))}finally{B=!1}},A.loader.hydrate=Nx(u.id,c.clientLoader,u.hasLoader,i),A.action=({request:V,params:U,context:q,unstable_pattern:Q},Z)=>E(async()=>{if(hi(c,"No `routeModule` available for critical-route action"),!c.clientAction){if(i)throw ZT("clientAction",u.id);return g(Z)}return c.clientAction({request:V,params:U,context:q,unstable_pattern:Q,async serverAction(){return xS("action",u),g(Z)}})})}else{u.hasClientLoader||(A.loader=(M,z)=>E(()=>h(z))),u.hasClientAction||(A.action=(M,z)=>E(()=>{if(i)throw ZT("clientAction",u.id);return g(z)}));let k;async function L(){return k?await k:(k=(async()=>{(u.clientLoaderModule||u.clientActionModule)&&await new Promise(z=>setTimeout(z,0));let M=_Z(u,e);return w(u),await M})(),await k)}A.lazy={loader:u.hasClientLoader?async()=>{let{clientLoader:M}=u.clientLoaderModule?await import(u.clientLoaderModule):await L();return hi(M,"No `clientLoader` export found"),(z,B)=>M({...z,async serverLoader(){return xS("loader",u),h(B)}})}:void 0,action:u.hasClientAction?async()=>{let M=u.clientActionModule?import(u.clientActionModule):L();w(u);let{clientAction:z}=await M;return hi(z,"No `clientAction` export found"),(B,V)=>z({...B,async serverAction(){return xS("action",u),g(V)}})}:void 0,middleware:u.hasClientMiddleware?async()=>{let{clientMiddleware:M}=u.clientMiddlewareModule?await import(u.clientMiddlewareModule):await L();return hi(M,"No `clientMiddleware` export found"),M}:void 0,shouldRevalidate:async()=>{let M=await L();return e3(A.path,M,u,r,o)},handle:async()=>(await L()).handle,Component:async()=>(await L()).Component,ErrorBoundary:u.hasErrorBoundary?async()=>(await L()).ErrorBoundary:void 0}}let C=Tx(t,e,n,r,i,u.id,s,o);return C.length>0&&(A.children=C),A})}function e3(t,e,n,r,i){if(i)return AZ(n.id,e.shouldRevalidate,i);if(!r&&n.hasLoader&&!n.hasClientLoader){let a=t?zH(t)[1].map(o=>o.paramName):[];const s=o=>a.some(u=>o.currentParams[u]!==o.nextParams[u]);if(e.shouldRevalidate){let o=e.shouldRevalidate;return u=>o({...u,defaultShouldRevalidate:s(u)})}else return o=>s(o)}return e.shouldRevalidate}function AZ(t,e,n){let r=!1;return i=>r?e?e(i):i.defaultShouldRevalidate:(r=!0,n.has(t))}async function _Z(t,e){let n=aG(t,e),r=yZ(t),i=await n;return await Promise.all([r,oG(t,i)]),{Component:hG(i),ErrorBoundary:i.ErrorBoundary,clientMiddleware:i.clientMiddleware,clientAction:i.clientAction,clientLoader:i.clientLoader,handle:i.handle,links:i.links,meta:i.meta,shouldRevalidate:i.shouldRevalidate}}function hG(t){if(t.default==null)return;if(!(typeof t.default=="object"&&Object.keys(t.default).length===0))return t.default}function Nx(t,e,n,r){return r&&t!=="root"||e!=null&&(e.hydrate===!0||n!==!0)}var JS=new Set,CZ=1e3,HE=new Set,TZ=7680;function sk(t,e){return t.mode==="lazy"&&e===!0}function NZ({sri:t,...e},n){let r=new Set(n.state.matches.map(o=>o.route.id)),i=n.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach(o=>{let u=ta(n.routes,o,n.basename);u&&u.forEach(c=>r.add(c.route.id))});let s=[...r].reduce((o,u)=>Object.assign(o,{[u]:e.routes[u]}),{});return{...e,routes:s,sri:t?!0:void 0}}function pG(t,e,n,r,i,a){if(sk(r,n))return async({path:s,patch:o,signal:u,fetcherKey:c})=>{HE.has(s)||await yG([s],c?window.location.href:s,t,e,n,i,a,r.manifestPath,o,u)}}function mG(t,e,n,r,i,a){T.useEffect(()=>{var f,h;if(!sk(i,r)||((h=(f=window.navigator)==null?void 0:f.connection)==null?void 0:h.saveData)===!0)return;function s(g){let v=g.tagName==="FORM"?g.getAttribute("action"):g.getAttribute("href");if(!v)return;let w=g.tagName==="A"?g.pathname:new URL(v,window.location.origin).pathname;HE.has(w)||JS.add(w)}async function o(){document.querySelectorAll("a[data-discover], form[data-discover]").forEach(s);let g=Array.from(JS.keys()).filter(v=>HE.has(v)?(JS.delete(v),!1):!0);if(g.length!==0)try{await yG(g,null,e,n,r,a,t.basename,i.manifestPath,t.patchRoutes)}catch(v){console.error("Failed to fetch manifest patches",v)}}let u=MZ(o,100);o();let c=new MutationObserver(()=>u());return c.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-discover","href","action"]}),()=>c.disconnect()},[r,a,e,n,t,i])}function gG(t,e){let n=t||"/__manifest";return e==null?n:`${e}${n}`.replace(/\/+/g,"/")}var eN="react-router-manifest-version";async function yG(t,e,n,r,i,a,s,o,u,c){const f=new URLSearchParams;f.set("paths",t.sort().join(",")),f.set("version",n.version);let h=new URL(gG(o,s),window.location.origin);if(h.search=f.toString(),h.toString().length>TZ){JS.clear();return}let g;try{let A=await fetch(h,{signal:c});if(A.ok){if(A.status===204&&A.headers.has("X-Remix-Reload-Document")){if(!e){console.warn("Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.");return}try{if(sessionStorage.getItem(eN)===n.version){console.error("Unable to discover routes due to manifest version mismatch.");return}sessionStorage.setItem(eN,n.version)}catch{}window.location.href=e,console.warn("Detected manifest version mismatch, reloading..."),await new Promise(()=>{})}else if(A.status>=400)throw new Error(await A.text())}else throw new Error(`${A.status} ${A.statusText}`);try{sessionStorage.removeItem(eN)}catch{}g=await A.json()}catch(A){if(c!=null&&c.aborted)return;throw A}let v=new Set(Object.keys(n.routes)),w=Object.values(g).reduce((A,C)=>(C&&!v.has(C.id)&&(A[C.id]=C),A),{});Object.assign(n.routes,w),t.forEach(A=>RZ(A,HE));let E=new Set;Object.values(w).forEach(A=>{A&&(!A.parentId||!w[A.parentId])&&E.add(A.parentId)}),E.forEach(A=>u(A||null,Tx(w,r,null,i,a,A)))}function RZ(t,e){if(e.size>=CZ){let n=e.values().next().value;e.delete(n)}e.add(t)}function MZ(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function ok(){let t=T.useContext(rl);return hi(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function N1(){let t=T.useContext(Lu);return hi(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ju=T.createContext(void 0);ju.displayName="FrameworkContext";function cy(){let t=T.useContext(ju);return hi(t,"You must render this element inside a <HydratedRouter> element"),t}function PZ(t,e){let n=T.useContext(ju),[r,i]=T.useState(!1),[a,s]=T.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=e,g=T.useRef(null);T.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=C=>{C.forEach(P=>{s(P.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return g.current&&A.observe(g.current),()=>{A.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:bv(o,v),onBlur:bv(u,w),onMouseEnter:bv(c,v),onMouseLeave:bv(f,w),onTouchStart:bv(h,v)}]:[!1,g,{}]}function bv(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function lk(t,e,n){if(n&&!GE)return[t[0]];if(e){let r=t.findIndex(i=>e[i.route.id]!==void 0);return t.slice(0,r+1)}return t}var t3="data-react-router-critical-css";function kZ({nonce:t}){let{isSpaMode:e,manifest:n,routeModules:r,criticalCss:i}=cy(),{errors:a,matches:s}=N1(),o=lk(s,a,e),u=T.useMemo(()=>gZ(o,r,n),[o,r,n]);return T.createElement(T.Fragment,null,typeof i=="string"?T.createElement("style",{[t3]:"",dangerouslySetInnerHTML:{__html:i}}):null,typeof i=="object"?T.createElement("link",{[t3]:"",rel:"stylesheet",href:i.href,nonce:t}):null,u.map(({key:c,link:f})=>rk(f)?T.createElement(uk,{key:c,nonce:t,...f}):T.createElement("link",{key:c,nonce:t,...f})))}function uk({page:t,...e}){let{router:n}=ok(),r=T.useMemo(()=>ta(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(IZ,{page:t,matches:r,...e}):null}function DZ(t){let{manifest:e,routeModules:n}=cy(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return bZ(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function IZ({page:t,matches:e,...n}){let r=ia(),{manifest:i,routeModules:a}=cy(),{basename:s}=ok(),{loaderData:o,matches:u}=N1(),c=T.useMemo(()=>ZF(t,e,u,i,r,"data"),[t,e,u,i,r]),f=T.useMemo(()=>ZF(t,e,u,i,r,"assets"),[t,e,u,i,r]),h=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(C=>{var R;let P=i.routes[C.route.id];!P||!P.hasLoader||(!c.some(I=>I.route.id===C.route.id)&&C.route.id in o&&((R=a[C.route.id])!=null&&R.shouldRevalidate)||P.hasClientLoader?E=!0:w.add(C.route.id))}),w.size===0)return[];let A=iG(t,s,"data");return E&&w.size>0&&A.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[A.pathname+A.search]},[s,o,r,i,c,e,t,a]),g=T.useMemo(()=>ik(f,i),[f,i]),v=DZ(f);return T.createElement(T.Fragment,null,h.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:E})=>T.createElement("link",{key:w,nonce:n.nonce,...E})))}function LZ(){let{isSpaMode:t,routeModules:e}=cy(),{errors:n,matches:r,loaderData:i}=N1(),a=ia(),s=lk(r,n,t),o=null;n&&(o=n[s[s.length-1].route.id]);let u=[],c=null,f=[];for(let h=0;h<s.length;h++){let g=s[h],v=g.route.id,w=i[v],E=g.params,A=e[v],C=[],P={id:v,data:w,loaderData:w,meta:[],params:g.params,pathname:g.pathname,handle:g.route.handle,error:o};if(f[h]=P,A!=null&&A.meta?C=typeof A.meta=="function"?A.meta({data:w,loaderData:w,params:E,location:a,matches:f,error:o}):Array.isArray(A.meta)?[...A.meta]:A.meta:c&&(C=[...c]),C=C||[],!Array.isArray(C))throw new Error("The route at "+g.route.path+` returns an invalid value. All route meta functions must return an array of meta objects.

To reference the meta function API, see https://remix.run/route/meta`);P.meta=C,f[h]=P,u=[...C],c=u}return T.createElement(T.Fragment,null,u.flat().map(h=>{if(!h)return null;if("tagName"in h){let{tagName:g,...v}=h;if(!OZ(g))return console.warn(`A meta object uses an invalid tagName: ${g}. Expected either 'link' or 'meta'`),null;let w=g;return T.createElement(w,{key:JSON.stringify(v),...v})}if("title"in h)return T.createElement("title",{key:"title"},String(h.title));if("charset"in h&&(h.charSet??(h.charSet=h.charset),delete h.charset),"charSet"in h&&h.charSet!=null)return typeof h.charSet=="string"?T.createElement("meta",{key:"charSet",charSet:h.charSet}):null;if("script:ld+json"in h)try{let g=JSON.stringify(h["script:ld+json"]);return T.createElement("script",{key:`script:ld+json:${g}`,type:"application/ld+json",dangerouslySetInnerHTML:{__html:tk(g)}})}catch{return null}return T.createElement("meta",{key:JSON.stringify(h),...h})}))}function OZ(t){return typeof t=="string"&&/^(meta|link)$/.test(t)}var GE=!1;function jZ(){GE=!0}function vG(t){let{manifest:e,serverHandoffString:n,isSpaMode:r,renderMeta:i,routeDiscovery:a,ssr:s}=cy(),{router:o,static:u,staticContext:c}=ok(),{matches:f}=N1(),h=oQ(),g=sk(a,s);i&&(i.didRenderScripts=!0);let v=lk(f,null,r);T.useEffect(()=>{jZ()},[]);let w=T.useMemo(()=>{var I;if(h)return null;let P=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",R=u?`${(I=e.hmr)!=null&&I.runtime?`import ${JSON.stringify(e.hmr.runtime)};`:""}${g?"":`import ${JSON.stringify(e.url)}`};
${v.map((k,L)=>{let M=`route${L}`,z=e.routes[k.route.id];hi(z,`Route ${k.route.id} not found in manifest`);let{clientActionModule:B,clientLoaderModule:V,clientMiddlewareModule:U,hydrateFallbackModule:q,module:Q}=z,Z=[...B?[{module:B,varName:`${M}_clientAction`}]:[],...V?[{module:V,varName:`${M}_clientLoader`}]:[],...U?[{module:U,varName:`${M}_clientMiddleware`}]:[],...q?[{module:q,varName:`${M}_HydrateFallback`}]:[],{module:Q,varName:`${M}_main`}];if(Z.length===1)return`import * as ${M} from ${JSON.stringify(Q)};`;let ce=Z.map($=>`import * as ${$.varName} from "${$.module}";`).join(`
`),G=`const ${M} = {${Z.map($=>`...${$.varName}`).join(",")}};`;return[ce,G].join(`
`)}).join(`
`)}
  ${g?`window.__reactRouterManifest = ${JSON.stringify(NZ(e,o),null,2)};`:""}
  window.__reactRouterRouteModules = {${v.map((k,L)=>`${JSON.stringify(k.route.id)}:route${L}`).join(",")}};

import(${JSON.stringify(e.entry.module)});`:" ";return T.createElement(T.Fragment,null,T.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:P},type:void 0}),T.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:R},type:"module",async:!0}))},[]),E=GE||h?[]:FZ(e.entry.imports.concat(ik(v,e,{includeHydrateFallback:!0}))),A=typeof e.sri=="object"?e.sri:{};return h0(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),GE||h?null:T.createElement(T.Fragment,null,typeof e.sri=="object"?T.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:A})}}):null,g?null:T.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin,integrity:A[e.url],suppressHydrationWarning:!0}),T.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin,integrity:A[e.entry.module],suppressHydrationWarning:!0}),E.map(C=>T.createElement("link",{key:C,rel:"modulepreload",href:C,crossOrigin:t.crossOrigin,integrity:A[C],suppressHydrationWarning:!0})),w)}function FZ(t){return[...new Set(t)]}function UZ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ck=class extends T.Component{constructor(t){super(t),this.state={error:t.error||null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:t.error||null,location:t.location}:{error:t.error||e.error,location:e.location}}render(){return this.state.error?T.createElement(bG,{error:this.state.error,isOutsideRemixApp:!0}):this.props.children}};function bG({error:t,isOutsideRemixApp:e}){console.error(t);let n=T.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          " Hey developer . You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."
        );
      `}});if(Vn(t))return T.createElement(a2,{title:"Unhandled Thrown Response!"},T.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),n);let r;if(t instanceof Error)r=t;else{let i=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(i)}return T.createElement(a2,{title:"Application Error!",isOutsideRemixApp:e},T.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),T.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),n)}function a2({title:t,renderScripts:e,isOutsideRemixApp:n,children:r}){var a;let{routeModules:i}=cy();return(a=i.root)!=null&&a.Layout&&!n?r:T.createElement("html",{lang:"en"},T.createElement("head",null,T.createElement("meta",{charSet:"utf-8"}),T.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),T.createElement("title",null,t)),T.createElement("body",null,T.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},r,e?T.createElement(vG,null):null)))}var xG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xG&&(window.__reactRouterVersion="7.10.1")}catch{}function BZ(t,e){return Sx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:m1({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||wG(),routes:t,mapRouteProperties:Jh,hydrationRouteProperties:Cx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function zZ(t,e){return Sx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:LH({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||wG(),routes:t,mapRouteProperties:Jh,hydrationRouteProperties:Cx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function wG(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:HZ(t.errors)}),t}function HZ(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Di(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}function GZ({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=m1({window:r,v5Compat:!0}));let a=i.current,[s,o]=T.useState({action:a.action,location:a.location}),u=T.useCallback(c=>{n===!1?o(c):T.startTransition(()=>o(c))},[n]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(kd,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}function qZ({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=LH({window:r,v5Compat:!0}));let a=i.current,[s,o]=T.useState({action:a.action,location:a.location}),u=T.useCallback(c=>{n===!1?o(c):T.startTransition(()=>o(c))},[n]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(kd,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}function SG({basename:t,children:e,history:n,unstable_useTransitions:r}){let[i,a]=T.useState({action:n.action,location:n.location}),s=T.useCallback(o=>{r===!1?a(o):T.startTransition(()=>a(o))},[r]);return T.useLayoutEffect(()=>n.listen(s),[n,s]),T.createElement(kd,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r===!0})}SG.displayName="unstable_HistoryRouter";var EG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dk=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:u,to:c,preventScrollReset:f,viewTransition:h,...g},v){let{basename:w,unstable_useTransitions:E}=T.useContext(Li),A=typeof c=="string"&&EG.test(c),C,P=!1;if(typeof c=="string"&&A&&(C=c,xG))try{let V=new URL(window.location.href),U=c.startsWith("//")?new URL(V.protocol+c):new URL(c),q=fr(U.pathname,w);U.origin===V.origin&&q!=null?c=q+U.search+U.hash:P=!0}catch{Xt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=x6(c,{relative:i}),[I,k,L]=PZ(r,g),M=TG(c,{replace:s,state:o,target:u,preventScrollReset:f,relative:i,viewTransition:h,unstable_useTransitions:E});function z(V){e&&e(V),V.defaultPrevented||M(V)}let B=T.createElement("a",{...g,...L,href:C||R,onClick:P||a?e:z,ref:UZ(v,k),target:u,"data-discover":!A&&n==="render"?"true":void 0});return I&&!A?T.createElement(T.Fragment,null,B,T.createElement(uk,{page:R})):B});dk.displayName="Link";var AG=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:u,...c},f){let h=ly(s,{relative:c.relative}),g=ia(),v=T.useContext(Lu),{navigator:w,basename:E}=T.useContext(Li),A=v!=null&&MG(h)&&o===!0,C=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,P=g.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(P=P.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&E&&(R=fr(R,E)||R);const I=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let k=P===C||!i&&P.startsWith(C)&&P.charAt(I)==="/",L=R!=null&&(R===C||!i&&R.startsWith(C)&&R.charAt(C.length)==="/"),M={isActive:k,isPending:L,isTransitioning:A},z=k?e:void 0,B;typeof r=="function"?B=r(M):B=[r,k?"active":null,L?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(M):a;return T.createElement(dk,{...c,"aria-current":z,className:B,ref:f,style:V,to:s,viewTransition:o},typeof u=="function"?u(M):u)});AG.displayName="NavLink";var fk=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=KS,action:o,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:h,...g},v)=>{let{unstable_useTransitions:w}=T.useContext(Li),E=pk(),A=NG(o,{relative:c}),C=s.toLowerCase()==="get"?"get":"post",P=typeof o=="string"&&EG.test(o),R=I=>{if(u&&u(I),I.defaultPrevented)return;I.preventDefault();let k=I.nativeEvent.submitter,L=(k==null?void 0:k.getAttribute("formmethod"))||s,M=()=>E(k||I.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:a,relative:c,preventScrollReset:f,viewTransition:h});w&&n!==!1?T.startTransition(()=>M()):M()};return T.createElement("form",{ref:v,method:C,action:A,onSubmit:r?u:R,...g,"data-discover":!P&&t==="render"?"true":void 0})});fk.displayName="Form";function _G({getKey:t,storageKey:e,...n}){let r=T.useContext(ju),{basename:i}=T.useContext(Li),a=ia(),s=E1();RG({getKey:t,storageKey:e});let o=T.useMemo(()=>{if(!r||!t)return null;let c=o2(a,s,i,t);return c!==a.key?c:null},[]);if(!r||r.isSpaMode)return null;let u=((c,f)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let g=JSON.parse(sessionStorage.getItem(c)||"{}")[f||window.history.state.key];typeof g=="number"&&window.scrollTo(0,g)}catch(h){console.error(h),sessionStorage.removeItem(c)}}).toString();return T.createElement("script",{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${u})(${JSON.stringify(e||s2)}, ${JSON.stringify(o)})`}})}_G.displayName="ScrollRestoration";function CG(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(t){let e=T.useContext(rl);return Ge(e,CG(t)),e}function hk(t){let e=T.useContext(Lu);return Ge(e,CG(t)),e}function TG(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:o}={}){let u=w1(),c=ia(),f=ly(t,{relative:a});return T.useCallback(h=>{if(VQ(h,e)){h.preventDefault();let g=n!==void 0?n:Zr(c)===Zr(f),v=()=>u(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:s});o?T.startTransition(()=>v()):v()}},[c,u,f,n,r,e,t,i,a,s,o])}function $Z(t){Xt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(zE(t)),n=T.useRef(!1),r=ia(),i=T.useMemo(()=>WQ(r.search,n.current?null:e.current),[r.search]),a=w1(),s=T.useCallback((o,u)=>{const c=zE(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,a("?"+c,u)},[a,i]);return[i,s]}var VZ=0,WZ=()=>`__${String(++VZ)}__`;function pk(){let{router:t}=R1("useSubmit"),{basename:e}=T.useContext(Li),n=vQ(),r=t.fetch,i=t.navigate;return T.useCallback(async(a,s={})=>{let{action:o,method:u,encType:c,formData:f,body:h}=XQ(a,e);if(s.navigate===!1){let g=s.fetcherKey||WZ();await r(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function NG(t,{relative:e}={}){let{basename:n}=T.useContext(Li),r=T.useContext(ra);Ge(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...ly(t||".",{relative:e})},s=ia();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(h=>h).forEach(h=>o.append("index",h));let f=o.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Xo([n,a.pathname])),Zr(a)}function YZ({key:t}={}){var k;let{router:e}=R1("useFetcher"),n=hk("useFetcher"),r=T.useContext(Ax),i=T.useContext(ra),a=(k=i.matches[i.matches.length-1])==null?void 0:k.route.id;Ge(r,"useFetcher must be used inside a FetchersContext"),Ge(i,"useFetcher must be used inside a RouteContext"),Ge(a!=null,'useFetcher can only be used on routes that contain a unique "id"');let s=T.useId(),[o,u]=T.useState(t||s);t&&t!==o&&u(t);let{deleteFetcher:c,getFetcher:f,resetFetcher:h,fetch:g}=e;T.useEffect(()=>(f(o),()=>c(o)),[c,f,o]);let v=T.useCallback(async(L,M)=>{Ge(a,"No routeId available for fetcher.load()"),await g(o,a,L,M)},[o,a,g]),w=pk(),E=T.useCallback(async(L,M)=>{await w(L,{...M,navigate:!1,fetcherKey:o})},[o,w]),A=T.useCallback(L=>h(o,L),[h,o]),C=T.useMemo(()=>{let L=T.forwardRef((M,z)=>T.createElement(fk,{...M,navigate:!1,fetcherKey:o,ref:z}));return L.displayName="fetcher.Form",L},[o]),P=n.fetchers.get(o)||b1,R=r.get(o);return T.useMemo(()=>({Form:C,submit:E,load:v,reset:A,...P,data:R}),[C,E,v,A,P,R])}function KZ(){let t=hk("useFetchers");return Array.from(t.fetchers.entries()).map(([e,n])=>({...n,key:e}))}var s2="react-router-scroll-positions",wS={};function o2(t,e,n,r){let i=null;return r&&(n!=="/"?i=r({...t,pathname:fr(t.pathname,n)||t.pathname},e):i=r(t,e)),i==null&&(i=t.key),i}function RG({getKey:t,storageKey:e}={}){let{router:n}=R1("useScrollRestoration"),{restoreScrollPosition:r,preventScrollReset:i}=hk("useScrollRestoration"),{basename:a}=T.useContext(Li),s=ia(),o=E1(),u=T6();T.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),JZ(T.useCallback(()=>{if(u.state==="idle"){let c=o2(s,o,a,t);wS[c]=window.scrollY}try{sessionStorage.setItem(e||s2,JSON.stringify(wS))}catch(c){Xt(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${c}).`)}window.history.scrollRestoration="auto"},[u.state,t,a,s,o,e])),typeof document<"u"&&(T.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(e||s2);c&&(wS=JSON.parse(c))}catch{}},[e]),T.useLayoutEffect(()=>{let c=n==null?void 0:n.enableScrollRestoration(wS,()=>window.scrollY,t?(f,h)=>o2(f,h,a,t):void 0);return()=>c&&c()},[n,a,t]),T.useLayoutEffect(()=>{if(r!==!1){if(typeof r=="number"){window.scrollTo(0,r);return}try{if(s.hash){let c=document.getElementById(decodeURIComponent(s.hash.slice(1)));if(c){c.scrollIntoView();return}}}catch{Xt(!1,`"${s.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[s,r,i]))}function XZ(t,e){let{capture:n}=e||{};T.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",t,r),()=>{window.removeEventListener("beforeunload",t,r)}},[t,n])}function JZ(t,e){let{capture:n}={};T.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function QZ({when:t,message:e}){let n=R6(t);T.useEffect(()=>{n.state==="blocked"&&(window.confirm(e)?setTimeout(n.proceed,0):n.reset())},[n,e]),T.useEffect(()=>{n.state==="blocked"&&!t&&n.reset()},[n,t])}function MG(t,{relative:e}={}){let n=T.useContext(Ex);Ge(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=R1("useViewTransitionState"),i=ly(t,{relative:e});if(!n.isTransitioning)return!1;let a=fr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=fr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Kg(i.pathname,s)!=null||Kg(i.pathname,a)!=null}function ZZ({basename:t,children:e,location:n="/"}){typeof n=="string"&&(n=Wa(n));let r="POP",i={pathname:n.pathname||"/",search:n.search||"",hash:n.hash||"",state:n.state!=null?n.state:null,key:n.key||"default"},a=PG();return T.createElement(kd,{basename:t,children:e,location:i,navigationType:r,navigator:a,static:!0,unstable_useTransitions:!1})}function mk({context:t,router:e,hydrate:n=!0,nonce:r}){Ge(e&&t,"You must provide `router` and `context` to <StaticRouterProvider>");let i={router:e,navigator:PG(),static:!0,staticContext:t,basename:t.basename||"/"},a=new Map,s="";if(n!==!1){let u={loaderData:t.loaderData,actionData:t.actionData,errors:tee(t.errors)};s=`window.__staticRouterHydrationData = JSON.parse(${see(JSON.stringify(JSON.stringify(u)))});`}let{state:o}=i.router;return T.createElement(T.Fragment,null,T.createElement(rl.Provider,{value:i},T.createElement(Lu.Provider,{value:o},T.createElement(Ax.Provider,{value:a},T.createElement(Ex.Provider,{value:{isTransitioning:!1}},T.createElement(kd,{basename:i.basename,location:o.location,navigationType:o.historyAction,navigator:i.navigator,static:i.static,unstable_useTransitions:!1},T.createElement(eee,{routes:e.routes,future:e.future,state:o})))))),s?T.createElement("script",{suppressHydrationWarning:!0,nonce:r,dangerouslySetInnerHTML:{__html:s}}):null)}function eee({routes:t,future:e,state:n}){return JP(t,void 0,n,void 0,e)}function tee(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)Vn(i)?n[r]={...i,__type:"RouteErrorResponse"}:i instanceof Error?n[r]={message:i.message,__type:"Error",...i.name!=="Error"?{__subType:i.name}:{}}:n[r]=i;return n}function PG(){return{createHref:kG,encodeLocation:DG,push(t){throw new Error(`You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(t)})\` somewhere in your app.`)},replace(t){throw new Error(`You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(t)}, { replace: true })\` somewhere in your app.`)},go(t){throw new Error(`You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${t})\` somewhere in your app.`)},back(){throw new Error("You cannot use navigator.back() on the server because it is a stateless environment.")},forward(){throw new Error("You cannot use navigator.forward() on the server because it is a stateless environment.")}}}function nee(t,e){return r6(t,{...e,mapRouteProperties:Jh})}function gk(t,e,n={}){let r={},i=Ad(t,Jh,void 0,r),a=e.matches.map(o=>{let u=r[o.route.id]||o.route;return{...o,route:u}}),s=o=>`You cannot use router.${o}() on the server because it is a stateless environment`;return{get basename(){return e.basename},get future(){return{v8_middleware:!1,...n==null?void 0:n.future}},get state(){return{historyAction:"POP",location:e.location,matches:a,loaderData:e.loaderData,actionData:e.actionData,errors:e.errors,initialized:!0,navigation:o0,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",fetchers:new Map,blockers:new Map}},get routes(){return i},get window(){},initialize(){throw s("initialize")},subscribe(){throw s("subscribe")},enableScrollRestoration(){throw s("enableScrollRestoration")},navigate(){throw s("navigate")},fetch(){throw s("fetch")},revalidate(){throw s("revalidate")},createHref:kG,encodeLocation:DG,getFetcher(){return b1},deleteFetcher(){throw s("deleteFetcher")},resetFetcher(){throw s("resetFetcher")},dispose(){throw s("dispose")},getBlocker(){return Ec},deleteBlocker(){throw s("deleteBlocker")},patchRoutes(){throw s("patchRoutes")},_internalFetchControllers:new Map,_internalSetRoutes(){throw s("_internalSetRoutes")},_internalSetStateDoNotUseOrYouWillBreakYourApp(){throw s("_internalSetStateDoNotUseOrYouWillBreakYourApp")}}}function kG(t){return typeof t=="string"?t:Zr(t)}function DG(t){let e=typeof t=="string"?t:Zr(t);e=e.replace(/ $/,"%20");let n=ree.test(e)?new URL(e):new URL(e,"http://localhost");return{pathname:n.pathname,search:n.search,hash:n.hash}}var ree=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iee={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},aee=/[&><\u2028\u2029]/g;function see(t){return t.replace(aee,e=>iee[e])}var Fs={},n3;function oee(){if(n3)return Fs;n3=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.parseCookie=o,Fs.parse=o,Fs.stringifyCookie=u,Fs.stringifySetCookie=c,Fs.serialize=c,Fs.parseSetCookie=f,Fs.stringifySetCookie=c,Fs.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=/^-?\d+$/,a=Object.prototype.toString,s=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function o(A,C){const P=new s,R=A.length;if(R<2)return P;const I=(C==null?void 0:C.decode)||w;let k=0;do{const L=g(A,k,R);if(L===-1)break;const M=h(A,k,R);if(L>M){k=A.lastIndexOf(";",L-1)+1;continue}const z=v(A,k,L);P[z]===void 0&&(P[z]=I(v(A,L+1,M))),k=M+1}while(k<R);return P}function u(A,C){const P=(C==null?void 0:C.encode)||encodeURIComponent,R=[];for(const I of Object.keys(A)){const k=A[I];if(k===void 0)continue;if(!t.test(I))throw new TypeError(`cookie name is invalid: ${I}`);const L=P(k);if(!e.test(L))throw new TypeError(`cookie val is invalid: ${k}`);R.push(`${I}=${L}`)}return R.join("; ")}function c(A,C,P){const R=typeof A=="object"?A:{...P,name:A,value:String(C)},I=typeof C=="object"?C:P,k=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(R.name))throw new TypeError(`argument name is invalid: ${R.name}`);const L=R.value?k(R.value):"";if(!e.test(L))throw new TypeError(`argument val is invalid: ${R.value}`);let M=R.name+"="+L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);M+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);M+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);M+="; Path="+R.path}if(R.expires){if(!E(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);M+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(M+="; HttpOnly"),R.secure&&(M+="; Secure"),R.partitioned&&(M+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return M}function f(A,C){const P=(C==null?void 0:C.decode)||w,R=A.length,I=h(A,0,R),k=g(A,0,I),L=k===-1?{name:"",value:P(v(A,0,I))}:{name:v(A,0,k),value:P(v(A,k+1,I))};let M=I+1;for(;M<R;){const z=h(A,M,R),B=g(A,M,z),V=B===-1?v(A,M,z):v(A,M,B),U=B===-1?void 0:v(A,B+1,z);switch(V.toLowerCase()){case"httponly":L.httpOnly=!0;break;case"secure":L.secure=!0;break;case"partitioned":L.partitioned=!0;break;case"domain":L.domain=U;break;case"path":L.path=U;break;case"max-age":U&&i.test(U)&&(L.maxAge=Number(U));break;case"expires":if(!U)break;const q=new Date(U);Number.isFinite(q.valueOf())&&(L.expires=q);break;case"priority":if(!U)break;const Q=U.toLowerCase();(Q==="low"||Q==="medium"||Q==="high")&&(L.priority=Q);break;case"samesite":if(!U)break;const Z=U.toLowerCase();(Z==="lax"||Z==="strict"||Z==="none")&&(L.sameSite=Z);break}M=z+1}return L}function h(A,C,P){const R=A.indexOf(";",C);return R===-1?P:R}function g(A,C,P){const R=A.indexOf("=",C);return R<P?R:-1}function v(A,C,P){let R=C,I=P;do{const k=A.charCodeAt(R);if(k!==32&&k!==9)break}while(++R<I);for(;I>R;){const k=A.charCodeAt(I-1);if(k!==32&&k!==9)break;I--}return A.slice(R,I)}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function E(A){return a.call(A)==="[object Date]"}return Fs}var r3=oee(),Fp={exports:{}},i3;function lee(){if(i3)return Fp.exports;i3=1;var t={decodeValues:!0,map:!1,silent:!1};function e(u){return typeof u!="string"||u in{}}function n(){return Object.create(null)}function r(u){return typeof u=="string"&&!!u.trim()}function i(u,c){var f=u.split(";").filter(r),h=f.shift(),g=a(h),v=g.name,w=g.value;if(c=c?Object.assign({},t,c):t,e(v))return null;try{w=c.decodeValues?decodeURIComponent(w):w}catch(A){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",A)}var E=n();return E.name=v,E.value=w,f.forEach(function(A){var C=A.split("="),P=C.shift().trimLeft().toLowerCase();if(!e(P)){var R=C.join("=");if(P==="expires")E.expires=new Date(R);else if(P==="max-age"){var I=parseInt(R,10);Number.isNaN(I)||(E.maxAge=I)}else P==="secure"?E.secure=!0:P==="httponly"?E.httpOnly=!0:P==="samesite"?E.sameSite=R:P==="partitioned"?E.partitioned=!0:P&&(E[P]=R)}}),E}function a(u){var c="",f="",h=u.split("=");return h.length>1?(c=h.shift(),f=h.join("=")):f=u,{name:c,value:f}}function s(u,c){if(c=c?Object.assign({},t,c):t,!u)return c.map?n():[];if(u.headers)if(typeof u.headers.getSetCookie=="function")u=u.headers.getSetCookie();else if(u.headers["set-cookie"])u=u.headers["set-cookie"];else{var f=u.headers[Object.keys(u.headers).find(function(g){return g.toLowerCase()==="set-cookie"})];!f&&u.headers.cookie&&!c.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),u=f}if(Array.isArray(u)||(u=[u]),c.map){var h=n();return u.filter(r).reduce(function(g,v){var w=i(v,c);return w&&!e(w.name)&&(g[w.name]=w),g},h)}else return u.filter(r).map(function(g){return i(g,c)}).filter(Boolean)}function o(u){if(Array.isArray(u))return u;if(typeof u!="string")return[];var c=[],f=0,h,g,v,w,E;function A(){for(;f<u.length&&/\s/.test(u.charAt(f));)f+=1;return f<u.length}function C(){return g=u.charAt(f),g!=="="&&g!==";"&&g!==","}for(;f<u.length;){for(h=f,E=!1;A();)if(g=u.charAt(f),g===","){for(v=f,f+=1,A(),w=f;f<u.length&&C();)f+=1;f<u.length&&u.charAt(f)==="="?(E=!0,f=w,c.push(u.substring(h,v)),h=f):f=v+1}else f+=1;(!E||f>=u.length)&&c.push(u.substring(h,u.length))}return c}return Fp.exports=s,Fp.exports.parse=s,Fp.exports.parseString=i,Fp.exports.splitCookiesString=o,Fp.exports}var uee=lee(),tN={};function cee({context:t,url:e,nonce:n}){typeof e=="string"&&(e=new URL(e));let{manifest:r,routeModules:i,criticalCss:a,serverHandoffString:s}=t,o=dG(r.routes,i,t.future,t.isSpaMode);t.staticHandlerContext.loaderData={...t.staticHandlerContext.loaderData};for(let c of t.staticHandlerContext.matches){let f=c.route.id,h=i[f],g=t.manifest.routes[f];h&&g&&Nx(f,h.clientLoader,g.hasLoader,t.isSpaMode)&&(h.HydrateFallback||!g.hasLoader)&&delete t.staticHandlerContext.loaderData[f]}let u=gk(o,t.staticHandlerContext);return T.createElement(T.Fragment,null,T.createElement(ju.Provider,{value:{manifest:r,routeModules:i,criticalCss:a,serverHandoffString:s,future:t.future,ssr:t.ssr,isSpaMode:t.isSpaMode,routeDiscovery:t.routeDiscovery,serializeError:t.serializeError,renderMeta:t.renderMeta}},T.createElement(ck,{location:u.state.location},T.createElement(mk,{router:u,context:t.staticHandlerContext,hydrate:!1}))),t.serverHandoffStream?T.createElement(T.Suspense,null,T.createElement(nG,{context:t,identifier:0,reader:t.serverHandoffStream.getReader(),textDecoder:new TextDecoder,nonce:n})):null)}function dee(t,e){return function({initialEntries:r,initialIndex:i,hydrationData:a,future:s}){let o=T.useRef(),u=T.useRef();if(o.current==null){u.current={future:{unstable_subResourceIntegrity:(s==null?void 0:s.unstable_subResourceIntegrity)===!0,v8_middleware:(s==null?void 0:s.v8_middleware)===!0},manifest:{routes:{},entry:{imports:[],module:""},url:"",version:""},routeModules:{},ssr:!1,isSpaMode:!1,routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"}};let c=IG(Ad(t,f=>f),e!==void 0?e:s!=null&&s.v8_middleware?new Yo:{},u.current.manifest,u.current.routeModules);o.current=P6(c,{initialEntries:r,initialIndex:i,hydrationData:a})}return T.createElement(ju.Provider,{value:u.current},T.createElement(k6,{router:o.current}))}}function IG(t,e,n,r,i){return t.map(a=>{if(!a.id)throw new Error("Expected a route.id in react-router processRoutes() function");let s={id:a.id,path:a.path,index:a.index,Component:a.Component?O6(a.Component):void 0,HydrateFallback:a.HydrateFallback?F6(a.HydrateFallback):void 0,ErrorBoundary:a.ErrorBoundary?B6(a.ErrorBoundary):void 0,action:a.action?u=>a.action({...u,context:e}):void 0,loader:a.loader?u=>a.loader({...u,context:e}):void 0,middleware:a.middleware?a.middleware.map(u=>(...c)=>u({...c[0],context:e},c[1])):void 0,handle:a.handle,shouldRevalidate:a.shouldRevalidate},o={id:a.id,path:a.path,index:a.index,parentId:i,hasAction:a.action!=null,hasLoader:a.loader!=null,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:a.ErrorBoundary!=null,module:"build/stub-path-to-module.js",clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0};return n.routes[s.id]=o,r[a.id]={default:s.Component||D6,ErrorBoundary:s.ErrorBoundary||void 0,handle:a.handle,links:a.links,meta:a.meta,shouldRevalidate:a.shouldRevalidate},a.children&&(s.children=IG(a.children,e,n,r,s.id)),s})}var yk=new TextEncoder,fee=async(t,e)=>{let n=yk.encode(t),r=await LG(e,["sign"]),i=await crypto.subtle.sign("HMAC",r,n),a=btoa(String.fromCharCode(...new Uint8Array(i))).replace(/=+$/,"");return t+"."+a},hee=async(t,e)=>{let n=t.lastIndexOf("."),r=t.slice(0,n),i=t.slice(n+1),a=yk.encode(r),s=await LG(e,["verify"]);try{let o=pee(atob(i));return await crypto.subtle.verify("HMAC",s,o,a)?r:!1}catch{return!1}},LG=async(t,e)=>crypto.subtle.importKey("raw",yk.encode(t),{name:"HMAC",hash:"SHA-256"},!1,e);function pee(t){let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var vk=(t,e={})=>{let{secrets:n=[],...r}={path:"/",sameSite:"lax",...e};return xee(t,r.expires),{get name(){return t},get isSigned(){return n.length>0},get expires(){return typeof r.maxAge<"u"?new Date(Date.now()+r.maxAge*1e3):r.expires},async parse(i,a){if(!i)return null;let s=r3.parse(i,{...r,...a});if(t in s){let o=s[t];return typeof o=="string"&&o!==""?await gee(o,n):""}else return null},async serialize(i,a){return r3.serialize(t,i===""?"":await mee(i,n),{...r,...a})}}},bk=t=>t!=null&&typeof t.name=="string"&&typeof t.isSigned=="boolean"&&typeof t.parse=="function"&&typeof t.serialize=="function";async function mee(t,e){let n=yee(t);return e.length>0&&(n=await fee(n,e[0])),n}async function gee(t,e){if(e.length>0){for(let n of e){let r=await hee(t,n);if(r!==!1)return a3(r)}return null}return a3(t)}function yee(t){return btoa(bee(encodeURIComponent(JSON.stringify(t))))}function a3(t){try{return JSON.parse(decodeURIComponent(vee(atob(t))))}catch{return{}}}function vee(t){let e=t.toString(),n="",r=0,i,a;for(;r<e.length;)i=e.charAt(r++),/[\w*+\-./@]/.exec(i)?n+=i:(a=i.charCodeAt(0),a<256?n+="%"+s3(a,2):n+="%u"+s3(a,4).toUpperCase());return n}function s3(t,e){let n=t.toString(16);for(;n.length<e;)n="0"+n;return n}function bee(t){let e=t.toString(),n="",r=0,i,a;for(;r<e.length;){if(i=e.charAt(r++),i==="%"){if(e.charAt(r)==="u"){if(a=e.slice(r+1,r+5),/^[\da-f]{4}$/i.exec(a)){n+=String.fromCharCode(parseInt(a,16)),r+=5;continue}}else if(a=e.slice(r,r+2),/^[\da-f]{2}$/i.exec(a)){n+=String.fromCharCode(parseInt(a,16)),r+=2;continue}}n+=i}return n}function xee(t,e){h0(!e,`The "${t}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}function wee(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return r&&(e[n]=r.module),e},{})}var OG=(t=>(t.Development="development",t.Production="production",t.Test="test",t))(OG||{});function See(t){return t==="development"||t==="production"||t==="test"}function M1(t,e){if(t instanceof Error&&e!=="development"){let n=new Error("Unexpected Server Error");return n.stack=void 0,n}return t}function qE(t,e){return Object.entries(t).reduce((n,[r,i])=>Object.assign(n,{[r]:M1(i,e)}),{})}function jG(t,e){let n=M1(t,e);return{message:n.message,stack:n.stack}}function o3(t,e){if(!t)return null;let n=Object.entries(t),r={};for(let[i,a]of n)if(Vn(a))r[i]={...a,__type:"RouteErrorResponse"};else if(a instanceof Error){let s=M1(a,e);r[i]={message:s.message,stack:s.stack,__type:"Error",...s.name!=="Error"?{__subType:s.name}:{}}}else r[i]=a;return r}function l2(t,e,n){let r=ta(t,e,n);return r?r.map(i=>({params:i.params,pathname:i.pathname,route:i.route})):null}async function l3(t,e){let n=await t({request:Aee(Eee(e.request)),params:e.params,context:e.context,unstable_pattern:e.unstable_pattern});if(Sd(n)&&n.init&&n.init.status&&x1(n.init.status))throw new Response(null,n.init);return n}function Eee(t){let e=new URL(t.url),n=e.searchParams.getAll("index");e.searchParams.delete("index");let r=[];for(let a of n)a&&r.push(a);for(let a of r)e.searchParams.append("index",a);let i={method:t.method,body:t.body,headers:t.headers,signal:t.signal};return i.body&&(i.duplex="half"),new Request(e.href,i)}function Aee(t){let e=new URL(t.url);e.searchParams.delete("_routes");let n={method:t.method,body:t.body,headers:t.headers,signal:t.signal};return n.body&&(n.duplex="half"),new Request(e.href,n)}function QS(t,e){if(t===!1||t===null||typeof t>"u")throw console.error("The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose"),new Error(e)}var FG="__reactRouterDevServerHooks";function _ee(t){globalThis[FG]=t}function nN(){return globalThis[FG]}function UG(t,e){if(typeof process<"u")try{if((tN==null?void 0:tN.IS_RR_BUILD_REQUEST)==="yes")return t.headers.get(e)}catch{}return null}function BG(t){let e={};return Object.values(t).forEach(n=>{if(n){let r=n.parentId||"";e[r]||(e[r]=[]),e[r].push(n)}}),e}function zG(t,e="",n=BG(t)){return(n[e]||[]).map(r=>({...r,children:zG(t,r.id,n)}))}function HG(t,e,n="",r=BG(t)){return(r[n]||[]).map(i=>{let a={hasErrorBoundary:i.id==="root"||i.module.ErrorBoundary!=null,id:i.id,path:i.path,middleware:i.module.middleware,loader:i.module.loader?async s=>{let o=UG(s.request,"X-React-Router-Prerender-Data");if(o!=null){let c=o&&decodeURI(o);QS(c,"Missing prerendered data for route");let f=new TextEncoder().encode(c),h=new ReadableStream({start(w){w.enqueue(f),w.close()}}),v=(await T1(h,global)).value;if(v&&Su in v){let w=v[Su],E={status:w.status};throw w.reload?VH(w.redirect,E):w.replace?WH(w.redirect,E):wx(w.redirect,E)}else{QS(v&&i.id in v,"Unable to decode prerendered data");let w=v[i.id];return QS("data"in w,"Unable to process prerendered data"),w.data}}return await l3(i.module.loader,s)}:void 0,action:i.module.action?s=>l3(i.module.action,s):void 0,handle:i.module.handle};return i.index?{index:!0,...a}:{caseSensitive:i.caseSensitive,children:HG(t,e,i.id,r),...a}})}function u3(t){return tk(JSON.stringify(t))}function xk(t,e){return Cee(t,n=>{let r=e.routes[n.route.id];return QS(r,`Route with id "${n.route.id}" not found in build`),r.module.headers})}function Cee(t,e,n){let r=t.errors?t.matches.findIndex(o=>t.errors[o.route.id]):-1,i=r>=0?t.matches.slice(0,r+1):t.matches,a;if(r>=0){let{actionHeaders:o,actionData:u,loaderHeaders:c,loaderData:f}=t;t.matches.slice(r).some(h=>{let g=h.route.id;return o[g]&&(!u||!u.hasOwnProperty(g))?a=o[g]:c[g]&&!f.hasOwnProperty(g)&&(a=c[g]),a!=null})}const s=new Headers(n);return i.reduce((o,u,c)=>{let{id:f}=u.route,h=t.loaderHeaders[f]||new Headers,g=t.actionHeaders[f]||new Headers,v=a!=null&&c===i.length-1,w=v&&a!==h&&a!==g,E=e(u);if(E==null){let C=new Headers(o);return w&&lf(a,C),lf(g,C),lf(h,C),C}let A=new Headers(typeof E=="function"?E({loaderHeaders:h,parentHeaders:o,actionHeaders:g,errorHeaders:v?a:void 0}):E);return w&&lf(a,A),lf(g,A),lf(h,A),lf(o,A),A},new Headers(s))}function lf(t,e){let n=t.get("Set-Cookie");if(n){let r=uee.splitCookiesString(n),i=new Set(e.getSetCookie());r.forEach(a=>{i.has(a)||e.append("Set-Cookie",a)})}}var GG=new Set([...tG,304]);async function Tee(t,e,n,r,i,a,s){try{let f=new Request(i,{method:r.method,body:r.body,headers:r.headers,signal:r.signal,...r.body?{duplex:"half"}:void 0}),h=await n.query(f,{requestContext:a,skipLoaderErrorBubbling:!0,skipRevalidation:!0,generateMiddlewareResponse:t.future.v8_middleware?async g=>{try{let v=await g(f);return o(v)}catch(v){return u(v)}}:void 0});return o(h)}catch(f){return u(f)}function o(f){return _n(f)?f:c(f)}function u(f){return s(f),g0(r,t,e,{result:{error:f},headers:new Headers,status:500})}function c(f){let h=xk(f,t);if(x1(f.statusCode)&&h.has("Location"))return new Response(null,{status:f.statusCode,headers:h});f.errors&&(Object.values(f.errors).forEach(v=>{(!Vn(v)||v.error)&&s(v)}),f.errors=qE(f.errors,e));let g;return f.errors?g={error:Object.values(f.errors)[0]}:g={data:Object.values(f.actionData||{})[0]},g0(r,t,e,{result:g,headers:h,status:f.statusCode})}}async function Nee(t,e,n,r,i,a,s){let o=new URL(r.url).searchParams.get("_routes"),u=o?new Set(o.split(",")):null;try{let g=new Request(i,{headers:r.headers,signal:r.signal}),v=await n.query(g,{requestContext:a,filterMatchesToLoad:w=>!u||u.has(w.route.id),skipLoaderErrorBubbling:!0,generateMiddlewareResponse:t.future.v8_middleware?async w=>{try{let E=await w(g);return c(E)}catch(E){return f(E)}}:void 0});return c(v)}catch(g){return f(g)}function c(g){return _n(g)?g:h(g)}function f(g){return s(g),g0(r,t,e,{result:{error:g},headers:new Headers,status:500})}function h(g){let v=xk(g,t);if(x1(g.statusCode)&&v.has("Location"))return new Response(null,{status:g.statusCode,headers:v});g.errors&&(Object.values(g.errors).forEach(A=>{(!Vn(A)||A.error)&&s(A)}),g.errors=qE(g.errors,e));let w={},E=new Set(g.matches.filter(A=>u?u.has(A.route.id):A.route.loader!=null).map(A=>A.route.id));if(g.errors)for(let[A,C]of Object.entries(g.errors))w[A]={error:C};for(let[A,C]of Object.entries(g.loaderData))!(A in w)&&E.has(A)&&(w[A]={data:C});return g0(r,t,e,{result:w,headers:v,status:g.statusCode})}}function g0(t,e,n,{result:r,headers:i,status:a}){let s=new Headers(i);return s.set("X-Remix-Response","yes"),GG.has(a)?new Response(null,{status:a,headers:s}):(s.set("Content-Type","text/x-script"),s.delete("Content-Length"),new Response(u2(r,t.signal,e.entry.module.streamTimeout,n),{status:a||200,headers:s}))}function c3(t,e,n,r){let i=Ree(t.status,t.headers,n.basename),a=new Headers(t.headers);return a.delete("Location"),a.set("Content-Type","text/x-script"),g0(e,n,r,{result:e.method==="GET"?{[Su]:i}:i,headers:a,status:nk})}function Ree(t,e,n){let r=e.get("Location");return n&&(r=fr(r,n)||r),{redirect:r,status:t,revalidate:e.has("X-Remix-Revalidate")||e.has("Set-Cookie"),reload:e.has("X-Remix-Reload-Document"),replace:e.has("X-Remix-Replace")}}function u2(t,e,n,r){let i=new AbortController,a=setTimeout(()=>i.abort(new Error("Server Timeout")),typeof n=="number"?n:4950);return e.addEventListener("abort",()=>clearTimeout(a)),iZ(t,{signal:i.signal,plugins:[s=>{if(s instanceof Error){let{name:o,message:u,stack:c}=r==="production"?M1(s,r):s;return["SanitizedError",o,u,c]}if(s instanceof Di){let{data:o,status:u,statusText:c}=s;return["ErrorResponse",o,u,c]}if(s&&typeof s=="object"&&Su in s)return["SingleFetchRedirect",s[Su]]}],postPlugins:[s=>{if(s&&typeof s=="object")return["SingleFetchClassInstance",Object.fromEntries(Object.entries(s))]},()=>["SingleFetchFallback"]]})}function d3(t,e){let n=zG(t.routes),r=HG(t.routes,t.future),i=See(e)?e:"production",a=r6(r,{basename:t.basename,unstable_instrumentations:t.entry.module.unstable_instrumentations}),s=t.entry.module.handleError||((u,{request:c})=>{i!=="test"&&!c.signal.aborted&&console.error(Vn(u)&&u.error?u.error:u)}),o=async(u,c)=>{var I,k,L;let f={},h,g=M=>{var z,B;e==="development"&&((B=(z=nN())==null?void 0:z.processRequestError)==null||B.call(z,M)),s(M,{context:h,params:f,request:u})};if(t.future.v8_middleware){if(c&&!(c instanceof Yo)){let M=new Error("Invalid `context` value provided to `handleRequest`. When middleware is enabled you must return an instance of `RouterContextProvider` from your `getLoadContext` function.");return g(M),$E(M,i)}h=c||new Yo}else h=c||{};let v=new URL(u.url),w=t.basename||"/",E=v.pathname;fr(E,w)==="/_root.data"?E=w:E.endsWith(".data")&&(E=E.replace(/\.data$/,"")),fr(E,w)!=="/"&&E.endsWith("/")&&(E=E.slice(0,-1));let A=UG(u,"X-React-Router-SPA-Mode")==="yes";if(!t.ssr){let M=decodeURI(E);if(w!=="/"){let z=fr(M,w);if(z==null)return s(new Di(404,"Not Found",`Refusing to prerender the \`${M}\` path because it does not start with the basename \`${w}\``),{context:h,params:f,request:u}),new Response("Not Found",{status:404,statusText:"Not Found"});M=z}if(t.prerender.length===0)A=!0;else if(!t.prerender.includes(M)&&!t.prerender.includes(M+"/")){if(v.pathname.endsWith(".data"))return s(new Di(404,"Not Found",`Refusing to SSR the path \`${M}\` because \`ssr:false\` is set and the path is not included in the \`prerender\` config, so in production the path will be a 404.`),{context:h,params:f,request:u}),new Response("Not Found",{status:404,statusText:"Not Found"});A=!0}}let C=gG(t.routeDiscovery.manifestPath,w);if(v.pathname===C)try{return await Pee(t,n,v)}catch(M){return g(M),new Response("Unknown Server Error",{status:500})}let P=l2(n,E,t.basename);P&&P.length>0&&Object.assign(f,P[0].params);let R;if(v.pathname.endsWith(".data")){let M=new URL(u.url);M.pathname=E;let z=l2(n,M.pathname,t.basename);R=await kee(i,t,a,u,M,h,g),BE(R)&&(R=c3(R,u,t,i)),t.entry.module.handleDataRequest&&(R=await t.entry.module.handleDataRequest(R,{context:h,params:z?z[0].params:{},request:u}),BE(R)&&(R=c3(R,u,t,i)))}else if(!A&&P&&P[P.length-1].route.module.default==null&&P[P.length-1].route.module.ErrorBoundary==null)R=await Iee(i,t,a,P.slice(-1)[0].route.id,u,h,g);else{let{pathname:M}=v,z;t.unstable_getCriticalCss?z=await t.unstable_getCriticalCss({pathname:M}):e==="development"&&((I=nN())!=null&&I.getCriticalCss)&&(z=await((L=(k=nN())==null?void 0:k.getCriticalCss)==null?void 0:L.call(k,M))),R=await Dee(i,t,a,u,h,g,A,z)}return u.method==="HEAD"?new Response(null,{headers:R.headers,status:R.status,statusText:R.statusText}):R};return t.entry.module.unstable_instrumentations&&(o=zJ(o,t.entry.module.unstable_instrumentations.map(u=>u.handler).filter(Boolean))),{routes:n,dataRoutes:r,serverMode:i,staticHandler:a,errorHandler:s,requestHandler:o}}var Mee=(t,e)=>{let n,r,i,a,s,o;return async function(c,f){if(n=typeof t=="function"?await t():t,typeof t=="function"){let h=d3(n,e);r=h.routes,i=h.serverMode,a=h.staticHandler,s=h.errorHandler,o=h.requestHandler}else if(!r||!i||!a||!s||!o){let h=d3(n,e);r=h.routes,i=h.serverMode,a=h.staticHandler,s=h.errorHandler,o=h.requestHandler}return o(c,f)}};async function Pee(t,e,n){if(t.assets.version!==n.searchParams.get("version"))return new Response(null,{status:204,headers:{"X-Remix-Reload-Document":"true"}});let r={};if(n.searchParams.has("paths")){let i=new Set;(n.searchParams.get("paths")||"").split(",").filter(Boolean).forEach(o=>{o.startsWith("/")||(o=`/${o}`);let u=o.split("/").slice(1);u.forEach((c,f)=>{let h=u.slice(0,f+1).join("/");i.add(`/${h}`)})});for(let o of i){let u=l2(e,o,t.basename);if(u)for(let c of u){let f=c.route.id,h=t.assets.routes[f];h&&(r[f]=h)}}return Response.json(r,{headers:{"Cache-Control":"public, max-age=31536000, immutable"}})}return new Response("Invalid Request",{status:400})}async function kee(t,e,n,r,i,a,s){return r.method!=="GET"?await Tee(e,t,n,r,i,a,s):await Nee(e,t,n,r,i,a,s)}async function Dee(t,e,n,r,i,a,s,o){try{let c=await n.query(r,{requestContext:i,generateMiddlewareResponse:e.future.v8_middleware?async f=>{try{let h=await f(r);return _n(h)||(h=await u(h,s)),h}catch(h){return a(h),new Response(null,{status:500})}}:void 0});return _n(c)||(c=await u(c,s)),c}catch(c){return a(c),new Response(null,{status:500})}async function u(c,f){let h=xk(c,e);if(GG.has(c.statusCode))return new Response(null,{status:c.statusCode,headers:h});c.errors&&(Object.values(c.errors).forEach(A=>{(!Vn(A)||A.error)&&a(A)}),c.errors=qE(c.errors,t));let g={loaderData:c.loaderData,actionData:c.actionData,errors:o3(c.errors,t)},v={basename:e.basename,future:e.future,routeDiscovery:e.routeDiscovery,ssr:e.ssr,isSpaMode:f},w={manifest:e.assets,routeModules:wee(e.routes),staticHandlerContext:c,criticalCss:o,serverHandoffString:u3({...v,criticalCss:o}),serverHandoffStream:u2(g,r.signal,e.entry.module.streamTimeout,t),renderMeta:{},future:e.future,ssr:e.ssr,routeDiscovery:e.routeDiscovery,isSpaMode:f,serializeError:A=>jG(A,t)},E=e.entry.module.default;try{return await E(r,c.statusCode,h,w,i)}catch(A){a(A);let C=A;if(_n(A))try{let R=await Oee(A);C=new Di(A.status,A.statusText,R)}catch{}c=i6(n.dataRoutes,c,C),c.errors&&(c.errors=qE(c.errors,t));let P={loaderData:c.loaderData,actionData:c.actionData,errors:o3(c.errors,t)};w={...w,staticHandlerContext:c,serverHandoffString:u3(v),serverHandoffStream:u2(P,r.signal,e.entry.module.streamTimeout,t),renderMeta:{}};try{return await E(r,c.statusCode,h,w,i)}catch(R){return a(R),$E(R,t)}}}}async function Iee(t,e,n,r,i,a,s){try{let c=await n.queryRoute(i,{routeId:r,requestContext:a,generateMiddlewareResponse:e.future.v8_middleware?async f=>{try{let h=await f(i);return o(h)}catch(h){return u(h)}}:void 0});return o(c)}catch(c){return u(c)}function o(c){return _n(c)?c:typeof c=="string"?new Response(c):Response.json(c)}function u(c){if(_n(c))return c;if(Vn(c))return s(c),Lee(c,t);if(c instanceof Error&&c.message==="Expected a response from queryRoute"){let f=new Error("Expected a Response to be returned from resource route handler");return s(f),$E(f,t)}return s(c),$E(c,t)}}function Lee(t,e){return Response.json(jG(t.error||new Error("Unexpected Server Error"),e),{status:t.status,statusText:t.statusText})}function $E(t,e){let n="Unexpected Server Error";return e!=="production"&&(n+=`

${String(t)}`),new Response(n,{status:500,headers:{"Content-Type":"text/plain"}})}function Oee(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}function rN(t){return`__flash_${t}__`}var wk=(t={},e="")=>{let n=new Map(Object.entries(t));return{get id(){return e},get data(){return Object.fromEntries(n)},has(r){return n.has(r)||n.has(rN(r))},get(r){if(n.has(r))return n.get(r);let i=rN(r);if(n.has(i)){let a=n.get(i);return n.delete(i),a}},set(r,i){n.set(r,i)},flash(r,i){n.set(rN(r),i)},unset(r){n.delete(r)}}},jee=t=>t!=null&&typeof t.id=="string"&&typeof t.data<"u"&&typeof t.has=="function"&&typeof t.get=="function"&&typeof t.set=="function"&&typeof t.flash=="function"&&typeof t.unset=="function";function qG({cookie:t,createData:e,readData:n,updateData:r,deleteData:i}){let a=bk(t)?t:vk((t==null?void 0:t.name)||"__session",t);return $G(a),{async getSession(s,o){let u=s&&await a.parse(s,o),c=u&&await n(u);return wk(c||{},u||"")},async commitSession(s,o){let{id:u,data:c}=s,f=(o==null?void 0:o.maxAge)!=null?new Date(Date.now()+o.maxAge*1e3):(o==null?void 0:o.expires)!=null?o.expires:a.expires;return u?await r(u,c,f):u=await e(c,f),a.serialize(u,o)},async destroySession(s,o){return await i(s.id),a.serialize("",{...o,maxAge:void 0,expires:new Date(0)})}}}function $G(t){h0(t.isSigned,`The "${t.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://reactrouter.com/explanation/sessions-and-cookies#signing-cookies for more information.`)}function Fee({cookie:t}={}){let e=bk(t)?t:vk((t==null?void 0:t.name)||"__session",t);return $G(e),{async getSession(n,r){return wk(n&&await e.parse(n,r)||{})},async commitSession(n,r){let i=await e.serialize(n.data,r);if(i.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+i.length);return i},async destroySession(n,r){return e.serialize("",{...r,maxAge:void 0,expires:new Date(0)})}}}function Uee({cookie:t}={}){let e=new Map;return qG({cookie:t,async createData(n,r){let i=Math.random().toString(36).substring(2,10);return e.set(i,{data:n,expires:r}),i},async readData(n){if(e.has(n)){let{data:r,expires:i}=e.get(n);if(!i||i>new Date)return r;i&&e.delete(n)}return null},async updateData(n,r,i){e.set(n,{data:r,expires:i})},async deleteData(n){e.delete(n)}})}function Bee(t,...e){let n=e[0],r=zee(t).replace(/\/:([\w-]+)(\?)?/g,(i,a,s)=>{const o=s===void 0,u=n==null?void 0:n[a];if(o&&u===void 0)throw new Error(`Path '${t}' requires param '${a}' but it was not provided`);return u===void 0?"":"/"+u});if(t.endsWith("*")){const i=n==null?void 0:n["*"];i!==void 0&&(r+="/"+i)}return r||"/"}function zee(t){let e=t.length-1,n=t[e];if(n!=="*"&&n!=="/")return t;for(e--;e>=0&&t[e]==="/";e--);return t.slice(0,e+1)}var c2=new TextEncoder,f3="</body></html>";function h3(t){let e=new TextDecoder,n,r=new Promise(u=>n=u),i=!1,a=[],s=null;function o(u){for(let c of a){let f=e.decode(c,{stream:!0});f.endsWith(f3)&&(f=f.slice(0,-f3.length)),u.enqueue(c2.encode(f))}a.length=0,s=null}return new TransformStream({transform(u,c){a.push(u),!s&&(s=setTimeout(async()=>{o(c),i||(i=!0,Hee(t,c).catch(f=>c.error(f)).then(n))},0))},async flush(u){await r,s&&(clearTimeout(s),o(u)),u.enqueue(c2.encode("</body></html>"))}})}async function Hee(t,e){let n=new TextDecoder("utf-8",{fatal:!0});const r=t.getReader();try{let a;for(;(a=await r.read())&&!a.done;){const s=a.value;try{iN(JSON.stringify(n.decode(s,{stream:!0})),e)}catch{let u=JSON.stringify(btoa(String.fromCodePoint(...s)));iN(`Uint8Array.from(atob(${u}), m => m.codePointAt(0))`,e)}}}finally{r.releaseLock()}let i=n.decode();i.length&&iN(JSON.stringify(i),e)}function iN(t,e){e.enqueue(c2.encode(`<script>${Gee(`(self.__FLIGHT_DATA||=[]).push(${t})`)}<\/script>`))}function Gee(t){return t.replace(/<!--/g,"<\\!--").replace(/<\/(script)/gi,"</\\$1")}var qee=class extends $n.Component{constructor(t){super(t),this.state={error:null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:null,location:t.location}:{error:e.error,location:e.location}}render(){return this.state.error?$n.createElement(VG,{error:this.state.error,renderAppShell:!0}):this.props.children}};function p3({renderAppShell:t,title:e,children:n}){return t?$n.createElement("html",{lang:"en"},$n.createElement("head",null,$n.createElement("meta",{charSet:"utf-8"}),$n.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),$n.createElement("title",null,e)),$n.createElement("body",null,$n.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},n))):n}function VG({error:t,renderAppShell:e}){console.error(t);let n=$n.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          " Hey developer . You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."
        );
      `}});if(Vn(t))return $n.createElement(p3,{renderAppShell:e,title:"Unhandled Thrown Response!"},$n.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),n);let r;if(t instanceof Error)r=t;else{let i=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(i)}return $n.createElement(p3,{renderAppShell:e,title:"Application Error!"},$n.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),$n.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),n)}function $ee({hasRootLayout:t}){let e=_x();if(t===void 0)throw new Error("Missing 'hasRootLayout' prop");return $n.createElement(VG,{renderAppShell:!t,error:e})}function Vee(t){const e={};for(const n of t.matches)Wee(e,n);return e}function Wee(t,e){e=Array.isArray(e)?e:[e];for(const n of e)t[n.id]={links:n.links,meta:n.meta,default:Yee}}var Yee=()=>null,Kee="use",m3=VP[Kee];function Xee(t){if(m3)return m3(t);throw new Error("React Router v7 requires React 19+ for RSC features.")}async function Jee({request:t,fetchServer:e,createFromReadableStream:n,renderHTML:r,hydrate:i=!0}){const a=new URL(t.url),o=Zee(a)||ete(a)||t.headers.has("rsc-action-id"),u=await e(t);if(o||u.headers.get("React-Router-Resource")==="true")return u;if(!u.body)throw new Error("Missing body in server response");const c=u.clone();let f=null;i&&(f=u.clone());const h=u.body;let g,v=[];const w=()=>g?new ReadableStream({start(C){g.forEach(P=>C.enqueue(P)),v.push(C)}}):(g=[],h.pipeThrough(new TransformStream({transform(C,P){g.push(C),P.enqueue(C),v.forEach(R=>R.enqueue(C))},flush(){v.forEach(C=>C.close()),v=[]}})));let E=null;const A=()=>{const C=Promise.resolve(n(w()));return Object.defineProperties(C,{_deepestRenderedBoundaryId:{get(){return E},set(P){E=P}},formState:{get(){return C.then(P=>P.type==="render"?P.formState:void 0)}}})};try{if(!c.body)throw new Error("Failed to clone server response");const C=await n(c.body);if(u.status===nk&&C.type==="redirect"){const k=new Headers(u.headers);return k.delete("Content-Encoding"),k.delete("Content-Length"),k.delete("Content-Type"),k.delete("X-Remix-Response"),k.set("Location",C.location),new Response((f==null?void 0:f.body)||"",{headers:k,status:C.status,statusText:u.statusText})}const P=await r(A),R=new Headers(u.headers);if(R.set("Content-Type","text/html; charset=utf-8"),!i)return new Response(P,{status:u.status,headers:R});if(!(f!=null&&f.body))throw new Error("Failed to clone server response");const I=P.pipeThrough(h3(f.body));return new Response(I,{status:u.status,headers:R})}catch(C){if(C instanceof Response)return C;try{const P=Vn(C)?C.status:500,R=await r(()=>{const M=Promise.resolve(n(w())).then(z=>Object.assign(z,{status:P,errors:E?{[E]:C}:{}}));return Object.defineProperties(M,{_deepestRenderedBoundaryId:{get(){return E},set(z){E=z}},formState:{get(){return M.then(z=>z.type==="render"?z.formState:void 0)}}})}),I=new Headers(u.headers);if(I.set("Content-Type","text/html"),!i)return new Response(R,{status:P,headers:I});if(!(f!=null&&f.body))throw new Error("Failed to clone server response");const k=R.pipeThrough(h3(f.body));return new Response(k,{status:P,headers:I})}catch{}throw C}}function Qee({getPayload:t}){const e=t(),n=Xee(e);if(n.type==="redirect")throw new Response(null,{status:n.status,headers:{Location:n.location}});if(n.type!=="render")return null;let r={...n.loaderData};for(const o of n.matches)Nx(o.id,o.clientLoader,o.hasLoader,!1)&&(o.hydrateFallbackElement||!o.hasLoader)&&delete r[o.id];const i={get _deepestRenderedBoundaryId(){return e._deepestRenderedBoundaryId??null},set _deepestRenderedBoundaryId(o){e._deepestRenderedBoundaryId=o},actionData:n.actionData,actionHeaders:{},basename:n.basename,errors:n.errors,loaderData:r,loaderHeaders:{},location:n.location,statusCode:200,matches:n.matches.map(o=>({params:o.params,pathname:o.pathname,pathnameBase:o.pathnameBase,route:{id:o.id,action:o.hasAction||!!o.clientAction,handle:o.handle,hasErrorBoundary:o.hasErrorBoundary,loader:o.hasLoader||!!o.clientLoader,index:o.index,path:o.path,shouldRevalidate:o.shouldRevalidate}}))},a=gk(n.matches.reduceRight((o,u)=>{const c={id:u.id,action:u.hasAction||!!u.clientAction,element:u.element,errorElement:u.errorElement,handle:u.handle,hasErrorBoundary:!!u.errorElement,hydrateFallbackElement:u.hydrateFallbackElement,index:u.index,loader:u.hasLoader||!!u.clientLoader,path:u.path,shouldRevalidate:u.shouldRevalidate};return o.length>0&&(c.children=o),[c]},[]),i),s={future:{v8_middleware:!1,unstable_subResourceIntegrity:!1},isSpaMode:!1,ssr:!0,criticalCss:"",manifest:{routes:{},version:"1",url:"",entry:{module:"",imports:[]}},routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"},routeModules:Vee(n)};return T.createElement(b6.Provider,{value:!0},T.createElement(qee,{location:n.location},T.createElement(ju.Provider,{value:s},T.createElement(mk,{context:i,router:a,hydrate:!1,nonce:n.nonce}))))}function Zee(t){return t.pathname.endsWith(".rsc")}function ete(t){return t.pathname.endsWith(".manifest")}function WG(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Di(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack=i.stack,n[r]=s}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack=i.stack,n[r]=a}}else n[r]=i;return n}function YG({state:t,routes:e,getRouteInfo:n,location:r,basename:i,isSpaMode:a}){let s={...t,loaderData:{...t.loaderData}},o=ta(e,r,i);if(o)for(let u of o){let c=u.route.id,f=n(c);Nx(c,f.clientLoader,f.hasLoader,a)&&(f.hasHydrateFallback||!f.hasLoader)?delete s.loaderData[c]:f.hasLoader||(s.loaderData[c]=null)}return s}var P1=PH();const tte=uo(P1);function KG(t){return T.createElement(k6,{flushSync:P1.flushSync,...t})}var ze=null,xv=null;function nte(){if(!ze&&window.__reactRouterContext&&window.__reactRouterManifest&&window.__reactRouterRouteModules){if(window.__reactRouterManifest.sri===!0){const t=document.querySelector("script[rr-importmap]");if(t!=null&&t.textContent)try{window.__reactRouterManifest.sri=JSON.parse(t.textContent).integrity}catch(e){console.error("Failed to parse import map",e)}}ze={context:window.__reactRouterContext,manifest:window.__reactRouterManifest,routeModules:window.__reactRouterRouteModules,stateDecodingPromise:void 0,router:void 0,routerInitialized:!1}}}function rte({getContext:t,unstable_instrumentations:e}){var s,o;if(nte(),!ze)throw new Error("You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`");let n=ze;if(!ze.stateDecodingPromise){let u=ze.context.stream;Ge(u,"No stream found for single fetch decoding"),ze.context.stream=void 0,ze.stateDecodingPromise=T1(u,window).then(c=>{ze.context.state=c.value,n.stateDecodingPromise.value=!0}).catch(c=>{n.stateDecodingPromise.error=c})}if(ze.stateDecodingPromise.error)throw ze.stateDecodingPromise.error;if(!ze.stateDecodingPromise.value)throw ze.stateDecodingPromise;let r=Tx(ze.manifest.routes,ze.routeModules,ze.context.state,ze.context.ssr,ze.context.isSpaMode),i;if(ze.context.isSpaMode){let{loaderData:u}=ze.context.state;(s=ze.manifest.routes.root)!=null&&s.hasLoader&&u&&"root"in u&&(i={loaderData:{root:u.root}})}else i=YG({state:ze.context.state,routes:r,getRouteInfo:u=>{var c,f,h;return{clientLoader:(c=ze.routeModules[u])==null?void 0:c.clientLoader,hasLoader:((f=ze.manifest.routes[u])==null?void 0:f.hasLoader)===!0,hasHydrateFallback:((h=ze.routeModules[u])==null?void 0:h.HydrateFallback)!=null}},location:window.location,basename:(o=window.__reactRouterContext)==null?void 0:o.basename,isSpaMode:ze.context.isSpaMode}),i&&i.errors&&(i.errors=WG(i.errors));let a=Sx({routes:r,history:m1(),basename:ze.context.basename,getContext:t,hydrationData:i,hydrationRouteProperties:Cx,unstable_instrumentations:e,mapRouteProperties:Jh,future:{middleware:ze.context.future.v8_middleware},dataStrategy:rG(()=>a,ze.manifest,ze.routeModules,ze.context.ssr,ze.context.basename),patchRoutesOnNavigation:pG(ze.manifest,ze.routeModules,ze.context.ssr,ze.context.routeDiscovery,ze.context.isSpaMode,ze.context.basename)});return ze.router=a,a.state.initialized&&(ze.routerInitialized=!0,a.initialize()),a.createRoutesForHMR=fG,window.__reactRouterDataRouter=a,a}function ite(t){xv||(xv=rte({getContext:t.getContext,unstable_instrumentations:t.unstable_instrumentations}));let[e,n]=T.useState(void 0);T.useEffect(()=>{},[]),T.useEffect(()=>{},[e]);let[r,i]=T.useState(xv.state.location);return T.useLayoutEffect(()=>{ze&&ze.router&&!ze.routerInitialized&&(ze.routerInitialized=!0,ze.router.initialize())},[]),T.useLayoutEffect(()=>{if(ze&&ze.router)return ze.router.subscribe(a=>{a.location!==r&&i(a.location)})},[r]),Ge(ze,"ssrInfo unavailable for HydratedRouter"),mG(xv,ze.manifest,ze.routeModules,ze.context.ssr,ze.context.routeDiscovery,ze.context.isSpaMode),T.createElement(T.Fragment,null,T.createElement(ju.Provider,{value:{manifest:ze.manifest,routeModules:ze.routeModules,future:ze.context.future,criticalCss:e,ssr:ze.context.ssr,isSpaMode:ze.context.isSpaMode,routeDiscovery:ze.context.routeDiscovery}},T.createElement(ck,{location:r},T.createElement(KG,{router:xv,unstable_useTransitions:t.unstable_useTransitions,unstable_onError:t.unstable_onError}))),T.createElement(T.Fragment,null))}/**
 * react-router-dom v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bi=Object.freeze(Object.defineProperty({__proto__:null,Await:IQ,BrowserRouter:GZ,Form:fk,HashRouter:qZ,HydratedRouter:ite,IDLE_BLOCKER:Ec,IDLE_FETCHER:b1,IDLE_NAVIGATION:o0,Link:dk,Links:kZ,MemoryRouter:PQ,Meta:LZ,NavLink:AG,Navigate:kQ,NavigationType:DH,Outlet:D6,PrefetchPageLinks:uk,Route:I6,Router:kd,RouterContextProvider:Yo,RouterProvider:KG,Routes:DQ,Scripts:vG,ScrollRestoration:_G,ServerRouter:cee,StaticRouter:ZZ,StaticRouterProvider:mk,UNSAFE_AwaitContextProvider:lQ,UNSAFE_DataRouterContext:rl,UNSAFE_DataRouterStateContext:Lu,UNSAFE_ErrorResponseImpl:Di,UNSAFE_FetchersContext:Ax,UNSAFE_FrameworkContext:ju,UNSAFE_LocationContext:Xh,UNSAFE_NavigationContext:Li,UNSAFE_RSCDefaultRootErrorBoundary:$ee,UNSAFE_RemixErrorBoundary:ck,UNSAFE_RouteContext:ra,UNSAFE_ServerMode:OG,UNSAFE_SingleFetchRedirectSymbol:Su,UNSAFE_ViewTransitionContext:Ex,UNSAFE_WithComponentProps:UQ,UNSAFE_WithErrorBoundaryProps:zQ,UNSAFE_WithHydrateFallbackProps:BQ,UNSAFE_createBrowserHistory:m1,UNSAFE_createClientRoutes:Tx,UNSAFE_createClientRoutesWithHMRRevalidationOptOut:fG,UNSAFE_createRouter:Sx,UNSAFE_decodeViaTurboStream:T1,UNSAFE_deserializeErrors:WG,UNSAFE_getHydrationData:YG,UNSAFE_getPatchRoutesOnNavigationFunction:pG,UNSAFE_getTurboStreamSingleFetchDataStrategy:rG,UNSAFE_hydrationRouteProperties:Cx,UNSAFE_invariant:Ge,UNSAFE_mapRouteProperties:Jh,UNSAFE_shouldHydrateRouteLoader:Nx,UNSAFE_useFogOFWarDiscovery:mG,UNSAFE_useScrollRestoration:RG,UNSAFE_withComponentProps:O6,UNSAFE_withErrorBoundaryProps:B6,UNSAFE_withHydrateFallbackProps:F6,createBrowserRouter:BZ,createContext:yJ,createCookie:vk,createCookieSessionStorage:Fee,createHashRouter:zZ,createMemoryRouter:P6,createMemorySessionStorage:Uee,createPath:Zr,createRequestHandler:Mee,createRoutesFromChildren:p0,createRoutesFromElements:jQ,createRoutesStub:dee,createSearchParams:zE,createSession:wk,createSessionStorage:qG,createStaticHandler:nee,createStaticRouter:gk,data:$H,generatePath:DJ,href:Bee,isCookie:bk,isRouteErrorResponse:Vn,isSession:jee,matchPath:Kg,matchRoutes:ta,parsePath:Wa,redirect:wx,redirectDocument:VH,renderMatches:FQ,replace:WH,resolvePath:GH,unstable_HistoryRouter:SG,unstable_RSCStaticRouter:Qee,unstable_routeRSCServerRequest:Jee,unstable_setDevServerHooks:_ee,unstable_usePrompt:QZ,unstable_useRoute:AQ,useActionData:_1,useAsyncError:wQ,useAsyncValue:N6,useBeforeUnload:XZ,useBlocker:R6,useFetcher:YZ,useFetchers:KZ,useFormAction:NG,useHref:x6,useInRouterContext:Pd,useLinkClickHandler:TG,useLoaderData:A1,useLocation:ia,useMatch:cQ,useMatches:E1,useNavigate:w1,useNavigation:T6,useNavigationType:uQ,useOutlet:A6,useOutletContext:fQ,useParams:S1,useResolvedPath:ly,useRevalidator:bQ,useRouteError:_x,useRouteLoaderData:xQ,useRoutes:_6,useSearchParams:$Z,useSubmit:pk,useViewTransitionState:MG},Symbol.toStringTag,{value:"Module"}));var Ut=(t=>(t.GUEST="guest",t.USER="user",t.SELLER="seller",t))(Ut||{});const Oh=[{id:"manual-01",title:"Ebook-Engine Manual",author:"Ebook-Engine AI",description:"The official documentation for the Ebook-Engine platform. Learn how to use the Neural Engine, generate viral covers, and publish your work to the world.",price:0,coverImageUrl:"https://images.unsplash.com/photo-1555421689-491a97ff2040?auto=format&fit=crop&q=80&w=800",genre:"Technology",sellerId:"seller_admin",publicationDate:"2025-10-15",pages:[{id:"p1",pageNumber:1,title:"Welcome to the Future",content:`# Welcome to Ebook-Engine

**Where Thought Becomes Literature.**

Ebook-Engine is more than just a writing tool; it is a collaborative neural engine designed to elevate your creative process. Whether you are outlining a sci-fi epic, drafting a technical manual, or publishing your first novel, this platform provides the intelligence and infrastructure you need.

![Workspace](https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&q=80&w=1000)

### Core Philosophy

We believe that AI should not replace the author, but amplify them. Our "Co-Author" engine is built on Google's Gemini models, fine-tuned to understand narrative structure, tone, and pacing.

### In This Manual

Over the next 10 pages, we will cover:
- The Studio Interface
- AI Tools & Prompting
- Visual Asset Generation
- Publishing & Monetization`},{id:"p2",pageNumber:2,title:"The Dashboard",content:`# Your Command Center

The Dashboard is your home base. From here, you can track sales, manage your library, and access the Studio.

![Dashboard](https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=1000)

### Key Sections

1. **Overview**: Real-time analytics of your book sales and reader engagement.
2. **My Library**: Access books you have purchased or written.
3. **Wishlist**: Books you've saved for later.
4. **Studio Access**: One-click launch into the writing environment.

**Pro Tip:** Switch between "Reader Mode" and "Writer Mode" in the sidebar to toggle between consuming content and creating it.`},{id:"p3",pageNumber:3,title:"The eBook Studio",content:`# The Studio

This is where the magic happens. The Studio is divided into two main zones: the **Context Panel** (Left) and the **Editor** (Right).

![Studio](https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?auto=format&fit=crop&q=80&w=1000)

### 1. The Editor

A distraction-free markdown environment. It supports:
- **Rich Text**: Headers (#), Bold (**text**), and Lists (- item).
- **Slash Commands**: Type \`/\` to open the quick menu for headings, images, or AI generation.

### 2. The Context Panel

Your AI Co-Author lives here. You can chat with it to brainstorm ideas, or switch to the **Outline View** to manage your chapters.`},{id:"p4",pageNumber:4,title:"Using the AI Co-Author",content:`# The Neural Engine

Your Co-Author is always listening. You can ask it to:

- *"Write the next paragraph describing a rainy neon city."*
- *"Fix the grammar in this chapter."*
- *"Give me 5 ideas for a plot twist."*

![AI Brain](https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&q=80&w=1000)

### Context Awareness

The AI reads what you write. If you are in Chapter 3, it knows what happened in Chapter 2. This ensures consistency in character names, plot points, and tone.

**Auto-Pilot**: Use the "Auto-Write" button in the header to let the AI draft an entire chapter structure for you automatically.`},{id:"p5",pageNumber:5,title:"Generating Visuals",content:`# AI Art Generation

A picture is worth a thousand words. Ebook-Engine integrates the **Gemini 2.5 Image Model** to generate professional cover art and in-book illustrations.

![Art Generation](https://images.unsplash.com/photo-1561557944-6e7860d9a7fd?auto=format&fit=crop&q=80&w=1000)

### How to Generate

1. **Cover Art**: Go to the "Publish" page and use the AI Cover Designer. Select a style (e.g., Cinematic, Minimalist) and describe your vision.
2. **In-Text Illustrations**: In the Studio editor, type \`/image\` to conjure an image command. Describe the scene, and the AI will insert it directly into your page.

> *Note: All images are royalty-free and unique to your book.*`},{id:"p6",pageNumber:6,title:"Audio Features",content:`# Voice & Dictation

Writer's block? Speak your story. The Studio supports real-time dictation and text-to-speech.

![Microphone](https://images.unsplash.com/photo-1590602847861-f357a9332bbc?auto=format&fit=crop&q=80&w=1000)

### Dictation

Click the **Mic Icon** in the chat bar. Speak naturally. The AI will transcribe your voice into text, which you can then ask it to format or expand upon.

### Text-to-Speech (TTS)

The AI can read its responses back to you. This is perfect for proofhearing your dialogue flow or brainstorming while multitasking.`},{id:"p7",pageNumber:7,title:"Publishing Your Work",content:`# Going Live

Once your manuscript is ready, it's time to share it with the world.

![Publishing](https://images.unsplash.com/photo-1463320726281-696a485928c7?auto=format&fit=crop&q=80&w=1000)

### The Process

1. **Metadata**: Enter your Title, Author Name, and Description.
2. **Genre & Pricing**: Choose a category. Decide if your book is **Free** (for growth) or **Paid** (for revenue).
3. **AI Pricing**: Use our "Smart Pricing Model" to analyze market trends and suggest the optimal price point.
4. **Publish**: Click "Publish to Store". Your book is instantly available to all users on the platform.`},{id:"p8",pageNumber:8,title:"Seller Features",content:`# Monetization

Creators keep **70%** of every sale. We handle the payment processing, file hosting, and delivery.

![Analytics](https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=1000)

### Audience Analytics

Go to the **Audience** tab in your dashboard to see who is reading your books. You can track:
- Total Visitors
- Active Readers
- Geographic Location
- Purchase History

Use this data to refine your marketing strategy and write what your audience loves.`},{id:"p9",pageNumber:9,title:"Pro Tips",content:`# Mastering the Platform

Here are some advanced tips for power users:

![Lightbulb](https://images.unsplash.com/photo-1531297461136-82lwDe43qRm?auto=format&fit=crop&q=80&w=1000)

- **Slash Commands**: Learn them. \`/h1\` for titles, \`/quote\` for blockquotes. Speed is key.
- **Variable Pacing**: Ask the AI to "Slow down and describe the room" or "Speed up the action". It understands pacing.
- **Series Management**: Keep your character notes in a separate text file or the chat context to ensure consistency across multiple books.
- **Draft Mode**: You can save books as drafts without publishing them. They stay in your Studio securely.`},{id:"p10",pageNumber:10,title:"Community & Support",content:`# We Are Here For You

Ebook-Engine is built by writers, for writers. If you encounter bugs or have feature requests, reach out.

![Community](https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&q=80&w=1000)

### Channels

- **Help Center**: Accessible from your profile dropdown.
- **Email**: opendev-labs.help@gmail.com
- **Updates**: Follow the "Ebook-Engine Manual" book for patch notes and new feature guides.

Thank you for creating with us.

**- The OpenDev Team**`}]},{id:"sacred-quantum-01",title:"The Quantum Scripture",author:"Dr. A. Vance & The Institute",description:"Hidden Laws of Consciousness Backed by Real Scientific Evidence. A deep dive into the observer effect, entanglement, and the unification of ancient spirituality with modern physics.",price:1111,coverImageUrl:"https://images.unsplash.com/photo-1506318137071-a8bcbf67cc77?auto=format&fit=crop&q=80&w=800",genre:"Spirituality",sellerId:"seller_admin",publicationDate:"2025-11-11",pages:[{id:"qs-p1",pageNumber:1,title:"Introduction: The Bridge",content:`# The Bridge Between Worlds

For centuries, science and spirituality have stood on opposite banks of a wide river. Spirituality spoke of the "soul," "connection," and "miracles." Science spoke of "atoms," "forces," and "proof." 

**But the river is drying up.**

New discoveries in Quantum Mechanics are not just validating ancient texts; they are explaining *how* they work. This book is not a metaphorical comparison. It is a technical manual for consciousness, cited with peer-reviewed studies.

> "The first gulp from the glass of natural sciences will turn you into an atheist, but at the bottom of the glass God is waiting for you."  *Werner Heisenberg, Nobel Prize Winner in Physics*

We begin our journey at the intersection of the Observer and the Observed.`},{id:"qs-p2",pageNumber:2,title:"The Observer Effect",content:`# The Observer Effect

In the classical Newtonian world, things exist whether you look at them or not. A falling tree makes a sound. But in the quantum world, this rule breaks.

### The Double-Slit Experiment

When particles (like electrons) are fired at two slits, they behave like waves, creating an interference pattern. However, when a measuring device (an "observer") is placed to see which slit the particle goes through, the particle **behaves like solid matter**.

**Scientific Source:** *Nature Physics, "Quantum interference of large organic molecules," 2011.*

**The Implication:** Consciousness collapses the wave function. Your attention literally constructs reality from a field of infinite probability.`},{id:"qs-p3",pageNumber:3,title:"Quantum Entanglement",content:`# Entanglement: The Science of Oneness

"Spooky action at a distance," Einstein called it. When two particles are entangled, a change in the spin of one *instantly* affects the other, even if they are galaxies apart.

### Non-Locality

This proves that space is an illusion. Information travels faster than light because, at a fundamental level, the two particles are not separate.

**Scientific Source:** *The Big Bell Test Collaboration, Nature, 2018.*

**Spiritual Corollary:** This is the scientific basis for telepathy, prayer, and the concept that "we are all one." We are distinct points in a unified field.`},{id:"qs-p4",pageNumber:4,title:"The Holographic Principle",content:`# The Holographic Universe

Leading physicists now posit that our 3D reality is a projection of information stored on a 2D surface at the boundary of the universe (the cosmological horizon).

### Information Theory

If we live in a hologram, then "matter" is just "resolution." The spiritual idea that the physical world is "Maya" (illusion) is now a valid physical theory.

**Scientific Source:** *Juan Maldacena, "The Large N Limit of Superconformal Field Theories," 1997.*

Every part contains the whole. Your mind is not *in* the universe; the universe is *in* your mind.`},{id:"qs-p5",pageNumber:5,title:"The Zero Point Field",content:`# The Field

Space is not empty. It is a seething ocean of energy called the Zero Point Field (or Quantum Vacuum). Even at absolute zero, this field contains infinite potential energy.

### Tapping the Source

Ancient mystics called this the *Akasha*. It is the memory of the universe. It connects everything. When you meditate, you are quieting the noise to access this signal.

**Evidence:** The Casimir Effect proves the existence of vacuum fluctuations pushing plates together.

We are essentially bioluminescent beings floating in a sea of light.`},{id:"qs-p6",pageNumber:6,title:"Biocentrism",content:`# Biocentrism

Proposed by Dr. Robert Lanza, Biocentrism argues that biology creates the universe, not the other way around. Space and time are tools of the mind, not external objects.

### The Goldilocks Universe

Why are the laws of physics perfectly tuned for life? Because life is the primary constant. Without consciousness, the equations of the universe have no solution.

**Scientific Context:** *Robert Lanza, "Biocentrism," 2009.*

You are not a visitor to this world. You are the projector.`},{id:"qs-p7",pageNumber:7,title:"Neurotheology",content:`# The God Helmet

Neuroscience has identified specific centers in the brain (the temporal lobes) that active during deep spiritual experiences. 

### Dr. Michael Persinger's Experiments

By stimulating the temporal lobes with weak magnetic fields, researchers induced "sensed presence" (the feeling of God or angels) in atheists. 

**Source:** *Neuropsychologia, 2003.*

This doesn't mean God is "just inside the head." It means the brain is a **receiver**. Just as a radio tunes into a station, your brain tunes into the frequency of the divine.`},{id:"qs-p8",pageNumber:8,title:"Epigenetics",content:`# Belief Changes Biology

For decades, we believed genes were destiny. The new field of Epigenetics proves that environment and **perception** control gene expression.

### The Placebo Effect

Your belief in a cure is often as potent as the chemistry. The mind signals the cells to rewrite their instruction sets.

**Scientific Source:** *Bruce Lipton, The Biology of Belief.*

**Implication:** You can heal your lineage. Your thoughts are not just smoke; they are biochemical triggers.`},{id:"qs-p9",pageNumber:9,title:"The Unified Field",content:`# The Grand Unified Theory

Physicists are hunting for the equation that unites Gravity with Quantum Mechanics. String Theory proposes that tiny vibrating filaments create all matter.

### Frequency is Key

If everything is a vibrating string, then the universe is literally a symphony. "In the beginning was the Word" (Sound/Vibration).

We are approaching a singularity where scientific equations will look identical to spiritual sutras.`},{id:"qs-p10",pageNumber:10,title:"Conclusion",content:`# Conclusion: The Awakened Scientist

The age of separation is over. 

1. **You are the Observer.**
2. **You are Entangled with all life.**
3. **Your beliefs rewrite your Biology.**

Take this knowledge. Test it. Be the experiment.

### References
- *Journal of Consciousness Studies*
- *Physical Review Letters*
- *Nature*
- *Max Planck Institute for Quantum Optics*`}]},{id:"sacred-quantum-02",title:"Divine Mechanics",author:"Nikola T. & The Collective",description:"How Energy, Frequency, and Vibration Create Reality  Proven Through Modern Physics. Unlocking the secrets of Tesla, Cymatics, and the frequencies that heal.",price:888,coverImageUrl:"https://images.unsplash.com/photo-1620052581237-b5d148ef2716?auto=format&fit=crop&q=80&w=800",genre:"Physics",sellerId:"seller_admin",publicationDate:"2025-12-01",pages:[{id:"dm-p1",pageNumber:1,title:"The Key to the Universe",content:`# The Key

> "If you want to find the secrets of the universe, think in terms of energy, frequency and vibration."  *Nikola Tesla*

Everything in existence is vibrating. The chair you sit on, the thoughts you think, the light you see. Matter is simply energy condensed to a slow vibration.

This book explores the mechanics of this vibration and how you can tune your personal frequency to alter your reality.

**Scope:** From the oscillation of atoms to the rotation of galaxies.`},{id:"dm-p2",pageNumber:2,title:"3, 6, 9",content:`# The Mathematics of Creation

Tesla was obsessed with 3, 6, and 9. Why? 

### Vortex Math

If you double 1 (1, 2, 4, 8, 16...), the sum of digits never touches 3, 6, or 9. These numbers represent a higher-dimensional flux fieldthe energy that governs the physical circuit.

**Application:** 9 is the number of the Universe. It represents completion and the void. By aligning with these mathematical constants, we tap into free energy principles.`},{id:"dm-p3",pageNumber:3,title:"Cymatics",content:`# Visible Sound

Cymatics is the study of visible sound and vibration. 

### The Experiment

Place sand on a metal plate. Play a violin bow or a frequency tone. The sand arranges itself into complex, beautiful geometric mandalas.

**Source:** *Hans Jenny, "Cymatics," 1967.*

**The Truth:** You are 70% water. If sound organizes sand into sacred geometry, imagine what words, music, and thoughts are doing to the cellular structure of your body.`},{id:"dm-p4",pageNumber:4,title:"String Theory",content:`# The Cosmic Symphony

String Theory posits that the fundamental constituents of the universe are not point-like particles, but one-dimensional "strings."

### Modes of Vibration

A quark is a string vibrating in one mode. An electron is the same string vibrating in another. The only difference between gold and lead is the *music* their atoms are playing.

**Scientific Source:** *Edward Witten, M-Theory.*

Reality is music solidified.`},{id:"dm-p5",pageNumber:5,title:"Resonance",content:`# The Law of Resonance

Strike a tuning fork tuned to 'C'. Bring it near another 'C' fork. The second one will begin to vibrate without being touched. This is Resonance.

### Emotional Resonance

Your heart emits an electromagnetic field 5,000 times stronger than your brain. It acts as a tuning fork. You do not "attract" what you want; you resonate with what you *are*.

**Evidence:** *HeartMath Institute Research.*

To change your life, you must change your broadcast signal.`},{id:"dm-p6",pageNumber:6,title:"Schumann Resonance",content:`# The Heartbeat of Earth

The space between the Earth's surface and the Ionosphere acts as a cavity resonator. It hums at **7.83 Hz**.

### The Human Connection

This frequency matches the Alpha/Theta brainwave state (deep relaxation/healing). When we disconnect from nature, we desynchronize from the planet's pulse, leading to anxiety and illness.

**Source:** *W.O. Schumann, 1952.*

Grounding (walking barefoot) reconnects your electrical circuit to this stabilizing frequency.`},{id:"dm-p7",pageNumber:7,title:"Water Memory",content:`# The Memory of Water

Dr. Masaru Emoto exposed water to words like "Love" and "Hate," then froze it. The "Love" water formed perfect crystals. The "Hate" water formed chaotic blobs.

### Controversy & Validation

While controversial, recent Nobel Prize winner Luc Montagnier proved water can retain the electromagnetic signature of DNA even after the DNA is removed.

**Source:** *Journal of Physics: Conference Series, 2011.*

Speak kindly to yourself. You are mostly water.`},{id:"dm-p8",pageNumber:8,title:"Entrainment",content:`# Frequency Entrainment

A stronger rhythm will always pull a weaker rhythm into sync. This is why pendulums sync up, and why you feel calm near the ocean.

### Binaural Beats

We can hack the brain by playing slightly different frequencies in each ear. The brain creates a third "phantom" beat, shifting consciousness instantly into Gamma (Insight) or Delta (Sleep) states.

**Scientific Application:** Used in clinical settings for PTSD and ADHD treatment.`},{id:"dm-p9",pageNumber:9,title:"Sound Healing",content:`# Ultrasound & Healing

Hospitals use ultrasound to break up kidney stones and speed up bone regeneration. This is sound healing.

### Ancient Solfeggio

Ancient chants used specific frequencies (like 528 Hz) believed to repair DNA. Modern science is just catching up to the fact that specific frequencies trigger specific biological responses.

**Future Tech:** "Frequency Pharmacy"  prescribing sounds instead of pills.`},{id:"dm-p10",pageNumber:10,title:"Mastery",content:`# Mastering Your Frequency

You are the conductor of this divine mechanics.

1. **Monitor your input** (Music, News, People).
2. **Regulate your output** (Speech, Thought).
3. **Use Tools** (Meditation, Breath, Nature).

If you want to understand the Universe, listen to the sound of your own breath.

**End of Volume 1.**`}]},{id:"sacred-quantum-03",title:"The Sacred Algorithm",author:"Cipher X",description:"Ancient Truth, Quantum Science, and Verified Sources Revealed. Exploring the code behind the cosmos: Fibonacci, Simulation Theory, and the digital nature of reality.",price:999,coverImageUrl:"https://images.unsplash.com/photo-1614726365723-49cfae934794?auto=format&fit=crop&q=80&w=800",genre:"Science",sellerId:"seller_admin",publicationDate:"2026-01-10",pages:[{id:"sa-p1",pageNumber:1,title:"The Code",content:`# The Code Behind the Canvas

Is the universe biological or digital? The deeper we look, the more it resembles computer code. 

From the spiral of a galaxy to the arrangement of seeds in a sunflower, a specific algorithm repeats. This book investigates the possibility that we are living in a programmed realitya Sacred Simulation.

**The Question:** If there is a code, who is the Programmer?`},{id:"sa-p2",pageNumber:2,title:"Phi",content:`# The Golden Ratio (1.618...)

Phi. The Divine Proportion. It appears in the pyramids of Giza, the Parthenon, and the proportions of the human face.

### Efficiency

Nature uses Phi not for aesthetics, but for efficiency. It allows for maximum packing (seeds) and exposure (leaves) with minimal energy expenditure. It is the optimization algorithm of the universe.

**Observation:** The stock market and heartbeats also follow Phi fractal patterns.`},{id:"sa-p3",pageNumber:3,title:"Fractals",content:`# Fractals Everywhere

A fractal is a pattern that repeats at different scales. Zoom into a coastline, it looks the same. Zoom into a fern, the leaf looks like the whole plant.

### The Mandelbrot Set

A simple mathematical equation ($Z = Z^2 + C$) produces infinite complexity. This suggests our complex universe comes from a very simple seed code.

**Spiritual Truth:** "As above, so below." The macrocosm reflects the microcosm.`},{id:"sa-p4",pageNumber:4,title:"Simulation Theory",content:`# Evidence of Simulation

Elon Musk and Neil deGrasse Tyson famously argued there is a billion-to-one chance we are in "base reality."

### Pixelation (Planck Length)

Space is not continuous. It is discrete. There is a minimum unit of length (Planck length), much like a pixel on a screen. You cannot zoom in forever.

**Scientific Source:** *Nick Bostrom, "Are You Living in a Computer Simulation?" 2003.*

**Glitch:** The Observer Effect is basically "rendering optimization"  only drawing what is being looked at.`},{id:"sa-p5",pageNumber:5,title:"It From Bit",content:`# It From Bit

Physicist John Wheeler proposed that the universe is made of information, not matter. Every particle, every field, every force is ultimately a yes/no answer to a question.

### The Digital Physics

At the bottom of the rabbit hole, there is no "stuff." There are only bits. Information is more fundamental than time or space.

**Source:** *John Archibald Wheeler, 1990.*

We are processing information in a sea of data.`},{id:"sa-p6",pageNumber:6,title:"DNA Code",content:`# The Software of Life

DNA is literally a 4-character code (A, C, T, G). It functions exactly like computer software, complete with error-correcting subroutines.

### Microsoft vs Nature

Bill Gates said, "DNA is like a computer program but far, far more advanced than any software ever created."

**Source:** *The Road Ahead.*

If DNA is code, it implies a language. And a language implies an Intelligence.`},{id:"sa-p7",pageNumber:7,title:"Fine Tuning",content:`# The Fine-Tuning Problem

If the force of gravity were slightly stronger, the universe would collapse. If slightly weaker, stars wouldn't form. There are ~20 constants that are precisely set for life to exist.

### Randomness vs Design

The odds of this happening by chance are akin to throwing a dart across the universe and hitting a specific atom.

**Conclusion:** The parameters were set. The simulation was configured.`},{id:"sa-p8",pageNumber:8,title:"Algorithmic Botany",content:`# Algorithmic Botany

L-systems (Lindenmayer systems) are simple algorithms that can generate realistic 3D trees and plants. Nature follows strict procedural generation rules.

### The Fibonacci Sequence

Count the petals on a flower. 3, 5, 8, 13, 21... almost always a Fibonacci number. The universe calculates its growth steps.

**We are watching a procedural generation script run in real-time.**`},{id:"sa-p9",pageNumber:9,title:"Consciousness",content:`# The Player

If reality is the game, Consciousness is the Player. The brain is not the source of consciousness; it is the VR headset.

### Non-Local Data

Near-Death Experiences (NDEs) suggest that when the "headset" dies, the signal continues. The user logs out of the avatar but retains the data.

**Source:** *Dr. Eben Alexander, "Proof of Heaven."*`},{id:"sa-p10",pageNumber:10,title:"The Programmer",content:`# Who is the Programmer?

We call it God, Source, The All, or The Architect. 

The Sacred Algorithm reveals that science and religion are describing the same interface. One describes the User Experience (Spirituality), the other describes the Code (Physics).

**Final Truth:** You are not just in the simulation. You are a piece of the code that woke up.

**[End of Stream]**`}]}],g3={isEnabled:!0,slug:"admin",theme:"dark-minimal",profileImageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&q=80&w=200",displayName:"Ebook-Engine Team",tagline:"Official Updates & Manuals",showcasedBookIds:["manual-01","sacred-quantum-01","sacred-quantum-02"]},ate={id:"seller_admin",name:"Ebook-Engine Official",username:"@ebookengine_hq",email:"admin@ebook-engine.com",payoutEmail:"finance@ebook-engine.com",uploadedBooks:Oh,creatorSite:g3,isVerified:!0,profileImageUrl:g3.profileImageUrl,coverImageUrl:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1200",bio:"The official account for Ebook-Engine updates and documentation."},ste={id:"seller_opendev",name:"OpenDev Labs",username:"@opendev",email:"opendev-labs",payoutEmail:"opendev-labs@gmail.com",uploadedBooks:[],creatorSite:{isEnabled:!0,slug:"opendev",theme:"tech-vibrant",displayName:"OpenDev Labs",tagline:"System Architecture",showcasedBookIds:[]},isVerified:!0,isAdmin:!0,bio:"Platform Administrator"},ote={id:"user_admin",name:"Admin User",username:"@admin",email:"admin@ebook-engine.com",purchaseHistory:[Oh[0]],wishlist:[],isVerified:!0,profileImageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&q=80&w=200",coverImageUrl:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1200",bio:"System Administrator and First Node."},wo={user_admin:ote,seller_admin:ate,seller_opendev:ste,guest:{id:"guest",name:"Guest",email:""}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let lte,ute;function cte(){return{geminiUrl:lte,vertexUrl:ute}}function dte(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=cte();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fu{}function Ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function S(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[o])){const u=t[o];if(Array.isArray(n))for(let c=0;c<u.length;c++){const f=u[c];S(f,e.slice(a+1),n[c])}else for(const c of u)S(c,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in t||(t[o]=[{}]);const u=t[o];S(u[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(o=>x(o,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function fte(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let o=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){o=u;break}if(o!==-1&&a.length>o)for(let u=o;u<a.length;u++){const c=a[u];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}d2(t,i,a,0,s)}}function d2(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),o=t;if(s in o&&Array.isArray(o[s]))for(const u of o[s])d2(u,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,o=Object.keys(s).filter(c=>!c.startsWith("_")&&!i.has(c)),u={};for(const c of o)u[c]=s[c];for(const[c,f]of Object.entries(u)){const h=[];for(const g of n.slice(r))g==="*"?h.push(c):h.push(g);S(s,h,f)}for(const c of o)delete s[c]}}else{const s=t;a in s&&d2(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sk(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hte(t){const e={},n=x(t,["operationName"]);n!=null&&S(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&S(e,["_url","resourceName"],r),e}function pte(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&S(e,["response"],gte(s)),e}function mte(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],yte(s)),e}function gte(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>vte(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function yte(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>bte(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function vte(t){const e={},n=x(t,["video"]);return n!=null&&S(e,["video"],_te(n)),e}function bte(t){const e={},n=x(t,["_self"]);return n!=null&&S(e,["video"],Cte(n)),e}function xte(t){const e={},n=x(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function wte(t){const e={},n=x(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function Ste(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Ete(s)),e}function Ete(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function XG(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Ate(s)),e}function Ate(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function _te(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&S(e,["videoBytes"],Sk(r));const i=x(t,["encoding"]);return i!=null&&S(e,["mimeType"],i),e}function Cte(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],Sk(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var y3;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(y3||(y3={}));var v3;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(v3||(v3={}));var b3;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(b3||(b3={}));var cr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(cr||(cr={}));var x3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(x3||(x3={}));var w3;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(w3||(w3={}));var S3;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(S3||(S3={}));var E3;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(E3||(E3={}));var A3;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(A3||(A3={}));var _3;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(_3||(_3={}));var C3;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(C3||(C3={}));var T3;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(T3||(T3={}));var N3;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(N3||(N3={}));var R3;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(R3||(R3={}));var M3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(M3||(M3={}));var P3;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(P3||(P3={}));var k3;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(k3||(k3={}));var D3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(D3||(D3={}));var I3;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(I3||(I3={}));var VE;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(VE||(VE={}));var L3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(L3||(L3={}));var O3;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(O3||(O3={}));var j3;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(j3||(j3={}));var f2;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(f2||(f2={}));var F3;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(F3||(F3={}));var U3;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(U3||(U3={}));var B3;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(B3||(B3={}));var z3;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(z3||(z3={}));var H3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(H3||(H3={}));var G3;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(G3||(G3={}));var q3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(q3||(q3={}));var $3;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($3||($3={}));var V3;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(V3||(V3={}));var W3;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(W3||(W3={}));var Y3;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Y3||(Y3={}));var K3;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(K3||(K3={}));var X3;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(X3||(X3={}));var J3;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(J3||(J3={}));var Q3;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Q3||(Q3={}));var Z3;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Z3||(Z3={}));var e4;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(e4||(e4={}));var t4;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(t4||(t4={}));var n4;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(n4||(n4={}));var r4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(r4||(r4={}));var i4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(i4||(i4={}));var a4;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(a4||(a4={}));var s4;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(s4||(s4={}));var o4;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(o4||(o4={}));var l4;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(l4||(l4={}));var u4;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(u4||(u4={}));var c4;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(c4||(c4={}));var d4;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(d4||(d4={}));var f4;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(f4||(f4={}));var h4;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(h4||(h4={}));var rm;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(rm||(rm={}));class h2{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class wv{get text(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const h=[];for(const g of(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[v,w]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(w!==null||w!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,c+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const h of(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&f.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,a,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,a,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class p4{}class m4{}class Tte{}class Nte{}class Rte{}class Mte{}class g4{}class y4{}class v4{}class Pte{}class WE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new WE;let i;const a=e;return n?i=mte(a):i=pte(a),Object.assign(r,i),r}}class b4{}class x4{}class w4{}class S4{}class kte{}class Dte{}class Ite{}class Ek{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ek,a=Ste(e);return Object.assign(r,a),r}}class Lte{}class Ote{}class jte{}class E4{}class Fte{get text(){var e,n,r;let i="",a=!1;const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(o))u!=="text"&&u!=="thought"&&c!==null&&s.push(u);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,u]of Object.entries(s))o!=="inlineData"&&u!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Ute{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ak{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ak,a=XG(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function JG(t,e){const n=Rt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function QG(t){return Array.isArray(t)?t.map(e=>YE(e)):[YE(t)]}function YE(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ZG(t){const e=YE(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function e8(t){const e=YE(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function A4(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function t8(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>A4(e)):[A4(t)]}function p2(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function _4(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function C4(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function gi(t){if(t==null)throw new Error("ContentUnion is required");return p2(t)?t:{role:"user",parts:t8(t)}}function _k(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=gi(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=gi(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>gi(n)):[gi(e)]}function Cs(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(_4(t)||C4(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gi(t)]}const e=[],n=[],r=p2(t[0]);for(const i of t){const a=p2(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(_4(i)||C4(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:t8(n)}),e}function Bte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(cr).includes(n[0].toUpperCase())?n[0].toUpperCase():cr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(cr).includes(r.toUpperCase())?r.toUpperCase():cr.TYPE_UNSPECIFIED})}}function mm(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Bte(t.type,e);for(const[s,o]of Object.entries(t))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(cr).includes(o.toUpperCase())?o.toUpperCase():cr.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=mm(o);else if(r.includes(s)){const u=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}u.push(mm(c))}e[s]=u}else if(i.includes(s)){const u={};for(const[c,f]of Object.entries(o))u[c]=mm(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=o}return e}function Ck(t){return mm(t)}function Tk(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Nk(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function dy(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=mm(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=mm(e.response));return t}function fy(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function zte(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Uu(t,e){if(typeof e!="string")throw new Error("name must be a string");return zte(t,e,"cachedContents")}function n8(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Dd(t){return Sk(t)}function Hte(t){return t!=null&&typeof t=="object"&&"name"in t}function Gte(t){return t!=null&&typeof t=="object"&&"video"in t}function qte(t){return t!=null&&typeof t=="object"&&"uri"in t}function r8(t){var e;let n;if(Hte(t)&&(n=t.name),!(qte(t)&&(n=t.uri,n===void 0))&&!(Gte(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function i8(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function a8(t){for(const e of["models","tunedModels","publisherModels"])if($te(t,e))return t[e];return[]}function $te(t,e){return t!==null&&typeof t=="object"&&e in t}function Vte(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Wte(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Vte(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function s8(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Yte(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function o8(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function hy(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function l8(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kte(t){const e={},n=x(t,["responsesFile"]);n!=null&&S(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Rne(s))),S(e,["inlinedResponses"],a)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["inlinedEmbedContentResponses"],a)}return e}function Xte(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&S(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&S(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&S(e,["bigqueryUri"],i),e}function Jte(t){const e={},n=x(t,["format"]);n!=null&&S(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&S(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&S(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function ZS(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&S(e,["state"],l8(i));const a=x(t,["metadata","createTime"]);a!=null&&S(e,["createTime"],a);const s=x(t,["metadata","endTime"]);s!=null&&S(e,["endTime"],s);const o=x(t,["metadata","updateTime"]);o!=null&&S(e,["updateTime"],o);const u=x(t,["metadata","model"]);u!=null&&S(e,["model"],u);const c=x(t,["metadata","output"]);return c!=null&&S(e,["dest"],Kte(o8(c))),e}function m2(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["state"]);i!=null&&S(e,["state"],l8(i));const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["createTime"]);s!=null&&S(e,["createTime"],s);const o=x(t,["startTime"]);o!=null&&S(e,["startTime"],o);const u=x(t,["endTime"]);u!=null&&S(e,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(e,["updateTime"],c);const f=x(t,["model"]);f!=null&&S(e,["model"],f);const h=x(t,["inputConfig"]);h!=null&&S(e,["src"],Qte(h));const g=x(t,["outputConfig"]);g!=null&&S(e,["dest"],Xte(o8(g)));const v=x(t,["completionStats"]);return v!=null&&S(e,["completionStats"],v),e}function Qte(t){const e={},n=x(t,["instancesFormat"]);n!=null&&S(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&S(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&S(e,["bigqueryUri"],i),e}function Zte(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&S(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Nne(t,s))),S(n,["requests","requests"],a)}return n}function ene(t){const e={},n=x(t,["format"]);n!=null&&S(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&S(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&S(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function tne(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function nne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],hy(t,r)),n}function rne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],hy(t,r)),n}function ine(t){const e={},n=x(t,["content"]);n!=null&&S(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],ane(r));const i=x(t,["tokenCount"]);i!=null&&S(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&S(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&S(e,["avgLogprobs"],s);const o=x(t,["groundingMetadata"]);o!=null&&S(e,["groundingMetadata"],o);const u=x(t,["index"]);u!=null&&S(e,["index"],u);const c=x(t,["logprobsResult"]);c!=null&&S(e,["logprobsResult"],c);const f=x(t,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),S(e,["safetyRatings"],g)}const h=x(t,["urlContextMetadata"]);return h!=null&&S(e,["urlContextMetadata"],h),e}function ane(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["citations"],r)}return e}function u8(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>One(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function sne(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&S(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function one(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&S(e,["outputConfig"],Jte(Yte(i))),n}function T4(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["src"]);i!=null&&S(n,["batch","inputConfig"],Zte(t,s8(t,i)));const a=x(e,["config"]);return a!=null&&sne(a,n),n}function lne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],Rt(t,r));const i=x(e,["src"]);i!=null&&S(n,["inputConfig"],ene(s8(t,i)));const a=x(e,["config"]);return a!=null&&one(a,n),n}function une(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&S(e,["batch","displayName"],r),n}function cne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["src"]);i!=null&&S(n,["batch","inputConfig"],yne(t,i));const a=x(e,["config"]);return a!=null&&une(a,n),n}function dne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],hy(t,r)),n}function fne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],hy(t,r)),n}function hne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);return a!=null&&S(e,["error"],a),e}function pne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);return a!=null&&S(e,["error"],a),e}function mne(t,e){const n={},r=x(e,["contents"]);if(r!=null){let a=_k(t,r);Array.isArray(a)&&(a=a.map(s=>s)),S(n,["requests[]","request","content"],a)}const i=x(e,["config"]);return i!=null&&(S(n,["_self"],gne(i,n)),fte(n,{"requests[].*":"requests[].request.*"})),n}function gne(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&S(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yne(t,e){const n={},r=x(e,["fileName"]);r!=null&&S(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&S(n,["requests"],mne(t,i)),n}function vne(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function bne(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xne(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wne(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],u8(gi(i)));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const g=x(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const v=x(e,["presencePenalty"]);v!=null&&S(r,["presencePenalty"],v);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const E=x(e,["seed"]);E!=null&&S(r,["seed"],E);const A=x(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=x(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],Ck(C));const P=x(e,["responseJsonSchema"]);if(P!=null&&S(r,["responseJsonSchema"],P),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=x(e,["safetySettings"]);if(n!==void 0&&R!=null){let q=R;Array.isArray(q)&&(q=q.map(Q=>jne(Q))),S(n,["safetySettings"],q)}const I=x(e,["tools"]);if(n!==void 0&&I!=null){let q=fy(I);Array.isArray(q)&&(q=q.map(Q=>Une(dy(Q)))),S(n,["tools"],q)}const k=x(e,["toolConfig"]);if(n!==void 0&&k!=null&&S(n,["toolConfig"],Fne(k)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=x(e,["cachedContent"]);n!==void 0&&L!=null&&S(n,["cachedContent"],Uu(t,L));const M=x(e,["responseModalities"]);M!=null&&S(r,["responseModalities"],M);const z=x(e,["mediaResolution"]);z!=null&&S(r,["mediaResolution"],z);const B=x(e,["speechConfig"]);if(B!=null&&S(r,["speechConfig"],Tk(B)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=x(e,["thinkingConfig"]);V!=null&&S(r,["thinkingConfig"],V);const U=x(e,["imageConfig"]);return U!=null&&S(r,["imageConfig"],Tne(U)),r}function Sne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>ine(c))),S(e,["candidates"],u)}const i=x(t,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&S(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&S(e,["responseId"],s);const o=x(t,["usageMetadata"]);return o!=null&&S(e,["usageMetadata"],o),e}function Ene(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],hy(t,r)),n}function Ane(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],hy(t,r)),n}function _ne(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function Cne(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Tne(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&S(e,["imageSize"],r),x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Nne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["request","model"],Rt(t,r));const i=x(e,["contents"]);if(i!=null){let o=Cs(i);Array.isArray(o)&&(o=o.map(u=>u8(u))),S(n,["request","contents"],o)}const a=x(e,["metadata"]);a!=null&&S(n,["metadata"],a);const s=x(e,["config"]);return s!=null&&S(n,["request","generationConfig"],wne(t,s,x(n,["request"],{}))),n}function Rne(t){const e={},n=x(t,["response"]);n!=null&&S(e,["response"],Sne(n));const r=x(t,["error"]);return r!=null&&S(e,["error"],r),e}function Mne(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Pne(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&S(e,["_query","pageToken"],i);const a=x(t,["filter"]);return e!==void 0&&a!=null&&S(e,["_query","filter"],a),n}function kne(t){const e={},n=x(t,["config"]);return n!=null&&Mne(n,e),e}function Dne(t){const e={},n=x(t,["config"]);return n!=null&&Pne(n,e),e}function Ine(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ZS(s))),S(e,["batchJobs"],a)}return e}function Lne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>m2(s))),S(e,["batchJobs"],a)}return e}function One(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],vne(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],bne(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],tne(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function jne(t){const e={},n=x(t,["category"]);if(n!=null&&S(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function Fne(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],xne(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function Une(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],_ne(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],Cne(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Eu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Eu||(Eu={}));class Qh{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bne extends Fu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qh(Eu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=T4(this.apiClient,e),r=n._url,i=Ce("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,u=o.requests,c=[];for(const f of u){const h=Object.assign({},f);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}c.push(h)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=lne(this.apiClient,e);return o=Ce("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>m2(f))}else{const c=T4(this.apiClient,e);return o=Ce("{model}:batchGenerateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>ZS(f))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=cne(this.apiClient,e);return a=Ce("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>ZS(u))}}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Ane(this.apiClient,e);return o=Ce("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>m2(f))}else{const c=Ene(this.apiClient,e);return o=Ce("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>ZS(f))}}async cancel(e){var n,r,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const u=rne(this.apiClient,e);s=Ce("batchPredictionJobs/{name}:cancel",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=nne(this.apiClient,e);s=Ce("batches/{name}:cancel",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Dne(e);return o=Ce("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Lne(f),g=new E4;return Object.assign(g,h),g})}else{const c=kne(e);return o=Ce("batches",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Ine(f),g=new E4;return Object.assign(g,h),g})}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=fne(this.apiClient,e);return o=Ce("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>pne(f))}else{const c=dne(this.apiClient,e);return o=Ce("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>hne(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zne(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function N4(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>cre(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function Hne(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&S(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&S(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let f=Cs(s);Array.isArray(f)&&(f=f.map(h=>N4(h))),S(e,["contents"],f)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&S(e,["systemInstruction"],N4(gi(o)));const u=x(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>fre(h))),S(e,["tools"],f)}const c=x(t,["toolConfig"]);if(e!==void 0&&c!=null&&S(e,["toolConfig"],dre(c)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Gne(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&S(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&S(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let h=Cs(s);Array.isArray(h)&&(h=h.map(g=>g)),S(e,["contents"],h)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&S(e,["systemInstruction"],gi(o));const u=x(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>hre(g))),S(e,["tools"],h)}const c=x(t,["toolConfig"]);e!==void 0&&c!=null&&S(e,["toolConfig"],c);const f=x(t,["kmsKeyName"]);return e!==void 0&&f!=null&&S(e,["encryption_spec","kmsKeyName"],f),n}function qne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],JG(t,r));const i=x(e,["config"]);return i!=null&&Hne(i,n),n}function $ne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],JG(t,r));const i=x(e,["config"]);return i!=null&&Gne(i,n),n}function Vne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Uu(t,r)),n}function Wne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Uu(t,r)),n}function Yne(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Kne(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Xne(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Jne(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qne(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zne(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function ere(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Uu(t,r)),n}function tre(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Uu(t,r)),n}function nre(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function rre(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function ire(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function are(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function sre(t){const e={},n=x(t,["config"]);return n!=null&&ire(n,e),e}function ore(t){const e={},n=x(t,["config"]);return n!=null&&are(n,e),e}function lre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["cachedContents"],a)}return e}function ure(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["cachedContents"],a)}return e}function cre(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Xne(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Jne(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],zne(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function dre(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],Qne(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function fre(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],nre(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],rre(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function hre(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>Zne(g))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function pre(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&S(e,["expireTime"],i),n}function mre(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&S(e,["expireTime"],i),n}function gre(t,e){const n={},r=x(e,["name"]);r!=null&&S(n,["_url","name"],Uu(t,r));const i=x(e,["config"]);return i!=null&&pre(i,n),n}function yre(t,e){const n={},r=x(e,["name"]);r!=null&&S(n,["_url","name"],Uu(t,r));const i=x(e,["config"]);return i!=null&&mre(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vre extends Fu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qh(Eu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=$ne(this.apiClient,e);return o=Ce("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=qne(this.apiClient,e);return o=Ce("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=tre(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=ere(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Wne(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Kne(f),g=new w4;return Object.assign(g,h),g})}else{const c=Vne(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Yne(f),g=new w4;return Object.assign(g,h),g})}}async update(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=yre(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=gre(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=ore(e);return o=Ce("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=ure(f),g=new S4;return Object.assign(g,h),g})}else{const c=sre(e);return o=Ce("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=lre(f),g=new S4;return Object.assign(g,h),g})}}}function R4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hn(t){return this instanceof hn?(this.v=t,this):new hn(t)}function gm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(w){return Promise.resolve(w).then(v,h)}}function o(v,w){r[v]&&(i[v]=function(E){return new Promise(function(A,C){a.push([v,E,A,C])>1||u(v,E)})},w&&(i[v]=w(i[v])))}function u(v,w){try{c(r[v](w))}catch(E){g(a[0][3],E)}}function c(v){v.value instanceof hn?Promise.resolve(v.value.v).then(f,h):g(a[0][2],v)}function f(v){u("next",v)}function h(v){u("throw",v)}function g(v,w){v(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function l0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof R4=="function"?R4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,u){s=t[a](s),i(o,u,s.done,s.value)})}}function i(a,s,o,u){Promise.resolve(u).then(function(c){a({value:c,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bre(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:c8(n)}function c8(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function xre(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function M4(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!c8(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class wre{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Sre(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Sre{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),xre(a)}async sendMessage(e){var n;await this.sendPromise;const r=gi(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,o;const u=await i,c=(s=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];f!=null&&(g=(o=f.slice(h))!==null&&o!==void 0?o:[]);const v=c?[c]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=gi(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?M4(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return gm(this,arguments,function*(){var s,o,u,c;const f=[];try{for(var h=!0,g=l0(e),v;v=yield hn(g.next()),s=v.done,!s;h=!0){c=v.value,h=!1;const w=c;if(bre(w)){const E=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;E!==void 0&&f.push(E)}yield yield hn(w)}}catch(w){o={error:w}}finally{try{!h&&!s&&(u=g.return)&&(yield hn(u.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...M4(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k1 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,k1.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ere(t){const e={},n=x(t,["file"]);return n!=null&&S(e,["file"],n),e}function Are(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function _re(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","file"],r8(n)),e}function Cre(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Tre(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","file"],r8(n)),e}function Nre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function Rre(t){const e={},n=x(t,["config"]);return n!=null&&Nre(n,e),e}function Mre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pre extends Fu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qh(Eu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Rre(e);return a=Ce("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Mre(u),f=new Lte;return Object.assign(f,c),f})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ere(e);return a=Ce("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Are(u),f=new Ote;return Object.assign(f,c),f})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Tre(e);return a=Ce("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_re(e);return a=Ce("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Cre(u),f=new jte;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eE(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function kre(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Yre(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function Dre(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Ire(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lre(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function Ore(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&S(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&S(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&S(e,["enableAffectiveDialog"],s);const o=x(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=x(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const c=x(t,["maxOutputTokens"]);c!=null&&S(e,["maxOutputTokens"],c);const f=x(t,["mediaResolution"]);f!=null&&S(e,["mediaResolution"],f);const h=x(t,["presencePenalty"]);h!=null&&S(e,["presencePenalty"],h);const g=x(t,["responseLogprobs"]);g!=null&&S(e,["responseLogprobs"],g);const v=x(t,["responseMimeType"]);v!=null&&S(e,["responseMimeType"],v);const w=x(t,["responseModalities"]);w!=null&&S(e,["responseModalities"],w);const E=x(t,["responseSchema"]);E!=null&&S(e,["responseSchema"],E);const A=x(t,["routingConfig"]);A!=null&&S(e,["routingConfig"],A);const C=x(t,["seed"]);C!=null&&S(e,["seed"],C);const P=x(t,["speechConfig"]);P!=null&&S(e,["speechConfig"],d8(P));const R=x(t,["stopSequences"]);R!=null&&S(e,["stopSequences"],R);const I=x(t,["temperature"]);I!=null&&S(e,["temperature"],I);const k=x(t,["thinkingConfig"]);k!=null&&S(e,["thinkingConfig"],k);const L=x(t,["topK"]);L!=null&&S(e,["topK"],L);const M=x(t,["topP"]);if(M!=null&&S(e,["topP"],M),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function jre(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function Fre(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Ure(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],Nk(h));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const v=x(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],kre(gi(w)));const E=x(t,["tools"]);if(e!==void 0&&E!=null){let L=fy(E);Array.isArray(L)&&(L=L.map(M=>Xre(dy(M)))),S(e,["setup","tools"],L)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],Kre(A));const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const P=x(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&S(e,["setup","outputAudioTranscription"],P);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const I=x(t,["contextWindowCompression"]);e!==void 0&&I!=null&&S(e,["setup","contextWindowCompression"],I);const k=x(t,["proactivity"]);return e!==void 0&&k!=null&&S(e,["setup","proactivity"],k),n}function Bre(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],Ore(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],d8(Nk(h)));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const v=x(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],gi(w));const E=x(t,["tools"]);if(e!==void 0&&E!=null){let L=fy(E);Array.isArray(L)&&(L=L.map(M=>Jre(dy(M)))),S(e,["setup","tools"],L)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],A);const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const P=x(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&S(e,["setup","outputAudioTranscription"],P);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const I=x(t,["contextWindowCompression"]);e!==void 0&&I!=null&&S(e,["setup","contextWindowCompression"],I);const k=x(t,["proactivity"]);return e!==void 0&&k!=null&&S(e,["setup","proactivity"],k),n}function zre(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Rt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Ure(i,n)),n}function Hre(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Rt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Bre(i,n)),n}function Gre(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&S(e,["musicGenerationConfig"],n),e}function qre(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["weightedPrompts"],r)}return e}function $re(t){const e={},n=x(t,["media"]);if(n!=null){let c=QG(n);Array.isArray(c)&&(c=c.map(f=>eE(f))),S(e,["mediaChunks"],c)}const r=x(t,["audio"]);r!=null&&S(e,["audio"],eE(e8(r)));const i=x(t,["audioStreamEnd"]);i!=null&&S(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&S(e,["video"],eE(ZG(a)));const s=x(t,["text"]);s!=null&&S(e,["text"],s);const o=x(t,["activityStart"]);o!=null&&S(e,["activityStart"],o);const u=x(t,["activityEnd"]);return u!=null&&S(e,["activityEnd"],u),e}function Vre(t){const e={},n=x(t,["media"]);if(n!=null){let c=QG(n);Array.isArray(c)&&(c=c.map(f=>f)),S(e,["mediaChunks"],c)}const r=x(t,["audio"]);r!=null&&S(e,["audio"],e8(r));const i=x(t,["audioStreamEnd"]);i!=null&&S(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&S(e,["video"],ZG(a));const s=x(t,["text"]);s!=null&&S(e,["text"],s);const o=x(t,["activityStart"]);o!=null&&S(e,["activityStart"],o);const u=x(t,["activityEnd"]);return u!=null&&S(e,["activityEnd"],u),e}function Wre(t){const e={},n=x(t,["setupComplete"]);n!=null&&S(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&S(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&S(e,["toolCall"],i);const a=x(t,["toolCallCancellation"]);a!=null&&S(e,["toolCallCancellation"],a);const s=x(t,["usageMetadata"]);s!=null&&S(e,["usageMetadata"],Qre(s));const o=x(t,["goAway"]);o!=null&&S(e,["goAway"],o);const u=x(t,["sessionResumptionUpdate"]);return u!=null&&S(e,["sessionResumptionUpdate"],u),e}function Yre(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Dre(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Ire(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],eE(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function Kre(t){const e={},n=x(t,["handle"]);if(n!=null&&S(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function d8(t){const e={},n=x(t,["languageCode"]);n!=null&&S(e,["languageCode"],n);const r=x(t,["voiceConfig"]);if(r!=null&&S(e,["voiceConfig"],r),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Xre(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],jre(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],Fre(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function Jre(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>Lre(g))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function Qre(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&S(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&S(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&S(e,["responseTokenCount"],i);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&S(e,["toolUsePromptTokenCount"],a);const s=x(t,["thoughtsTokenCount"]);s!=null&&S(e,["thoughtsTokenCount"],s);const o=x(t,["totalTokenCount"]);o!=null&&S(e,["totalTokenCount"],o);const u=x(t,["promptTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(w=>w)),S(e,["promptTokensDetails"],v)}const c=x(t,["cacheTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(w=>w)),S(e,["cacheTokensDetails"],v)}const f=x(t,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(w=>w)),S(e,["responseTokensDetails"],v)}const h=x(t,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),S(e,["toolUsePromptTokensDetails"],v)}const g=x(t,["trafficType"]);return g!=null&&S(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zre(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function eie(t){const e={},n=x(t,["content"]);n!=null&&S(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],tie(r));const i=x(t,["tokenCount"]);i!=null&&S(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&S(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&S(e,["avgLogprobs"],s);const o=x(t,["groundingMetadata"]);o!=null&&S(e,["groundingMetadata"],o);const u=x(t,["index"]);u!=null&&S(e,["index"],u);const c=x(t,["logprobsResult"]);c!=null&&S(e,["logprobsResult"],c);const f=x(t,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),S(e,["safetyRatings"],g)}const h=x(t,["urlContextMetadata"]);return h!=null&&S(e,["urlContextMetadata"],h),e}function tie(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["citations"],r)}return e}function nie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["contents"]);if(i!=null){let a=Cs(i);Array.isArray(a)&&(a=a.map(s=>s)),S(n,["contents"],a)}return n}function rie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(e,["tokensInfo"],i)}return e}function iie(t){const e={},n=x(t,["values"]);n!=null&&S(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&S(e,["statistics"],aie(r)),e}function aie(t){const e={},n=x(t,["truncated"]);n!=null&&S(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&S(e,["tokenCount"],r),e}function D1(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>pae(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function sie(t){const e={},n=x(t,["controlType"]);n!=null&&S(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&S(e,["computeControl"],r),e}function oie(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function lie(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&S(e,["systemInstruction"],gi(r));const i=x(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>g8(o))),S(e,["tools"],s)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&S(e,["generationConfig"],Zie(a)),n}function uie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Cs(i);Array.isArray(s)&&(s=s.map(o=>D1(o))),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&oie(a),n}function cie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Cs(i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&lie(a,n),n}function die(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&S(e,["totalTokens"],r);const i=x(t,["cachedContentTokenCount"]);return i!=null&&S(e,["cachedContentTokenCount"],i),e}function fie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&S(e,["totalTokens"],r),e}function hie(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Rt(t,r)),n}function pie(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Rt(t,r)),n}function mie(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function gie(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function yie(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&S(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&S(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&S(e,["parameters","aspectRatio"],s);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&S(e,["parameters","guidanceScale"],o);const u=x(t,["seed"]);e!==void 0&&u!=null&&S(e,["parameters","seed"],u);const c=x(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&S(e,["parameters","safetySetting"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&S(e,["parameters","includeRaiReason"],g);const v=x(t,["language"]);e!==void 0&&v!=null&&S(e,["parameters","language"],v);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","mimeType"],w);const E=x(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&S(e,["parameters","outputOptions","compressionQuality"],E);const A=x(t,["addWatermark"]);e!==void 0&&A!=null&&S(e,["parameters","addWatermark"],A);const C=x(t,["labels"]);e!==void 0&&C!=null&&S(e,["labels"],C);const P=x(t,["editMode"]);e!==void 0&&P!=null&&S(e,["parameters","editMode"],P);const R=x(t,["baseSteps"]);return e!==void 0&&R!=null&&S(e,["parameters","editConfig","baseSteps"],R),n}function vie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>xae(u))),S(n,["instances[0]","referenceImages"],o)}const s=x(e,["config"]);return s!=null&&yie(s,n),n}function bie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>I1(a))),S(e,["generatedImages"],i)}return e}function xie(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&S(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wie(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["instances[]","task_type"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["instances[]","title"],i);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&S(e,["parameters","outputDimensionality"],a);const s=x(t,["mimeType"]);e!==void 0&&s!=null&&S(e,["instances[]","mimeType"],s);const o=x(t,["autoTruncate"]);return e!==void 0&&o!=null&&S(e,["parameters","autoTruncate"],o),n}function Sie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["contents"]);if(i!=null){let o=_k(t,i);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["requests[]","content"],o)}const a=x(e,["config"]);a!=null&&xie(a,n);const s=x(e,["model"]);return s!==void 0&&S(n,["requests[]","model"],Rt(t,s)),n}function Eie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["contents"]);if(i!=null){let s=_k(t,i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["instances[]","content"],s)}const a=x(e,["config"]);return a!=null&&wie(a,n),n}function Aie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&S(e,["metadata"],i),e}function _ie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>iie(s))),S(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&S(e,["metadata"],i),e}function Cie(t){const e={},n=x(t,["endpoint"]);n!=null&&S(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&S(e,["deployedModelId"],r),e}function Tie(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Nie(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Rie(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Mie(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function Pie(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],D1(gi(i)));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const g=x(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const v=x(e,["presencePenalty"]);v!=null&&S(r,["presencePenalty"],v);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const E=x(e,["seed"]);E!=null&&S(r,["seed"],E);const A=x(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=x(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],Ck(C));const P=x(e,["responseJsonSchema"]);if(P!=null&&S(r,["responseJsonSchema"],P),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=x(e,["safetySettings"]);if(n!==void 0&&R!=null){let q=R;Array.isArray(q)&&(q=q.map(Q=>wae(Q))),S(n,["safetySettings"],q)}const I=x(e,["tools"]);if(n!==void 0&&I!=null){let q=fy(I);Array.isArray(q)&&(q=q.map(Q=>Nae(dy(Q)))),S(n,["tools"],q)}const k=x(e,["toolConfig"]);if(n!==void 0&&k!=null&&S(n,["toolConfig"],Tae(k)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=x(e,["cachedContent"]);n!==void 0&&L!=null&&S(n,["cachedContent"],Uu(t,L));const M=x(e,["responseModalities"]);M!=null&&S(r,["responseModalities"],M);const z=x(e,["mediaResolution"]);z!=null&&S(r,["mediaResolution"],z);const B=x(e,["speechConfig"]);if(B!=null&&S(r,["speechConfig"],Tk(B)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=x(e,["thinkingConfig"]);V!=null&&S(r,["thinkingConfig"],V);const U=x(e,["imageConfig"]);return U!=null&&S(r,["imageConfig"],iae(U)),r}function kie(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],gi(i));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const g=x(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const v=x(e,["presencePenalty"]);v!=null&&S(r,["presencePenalty"],v);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const E=x(e,["seed"]);E!=null&&S(r,["seed"],E);const A=x(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=x(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],Ck(C));const P=x(e,["responseJsonSchema"]);P!=null&&S(r,["responseJsonSchema"],P);const R=x(e,["routingConfig"]);R!=null&&S(r,["routingConfig"],R);const I=x(e,["modelSelectionConfig"]);I!=null&&S(r,["modelConfig"],I);const k=x(e,["safetySettings"]);if(n!==void 0&&k!=null){let G=k;Array.isArray(G)&&(G=G.map($=>$)),S(n,["safetySettings"],G)}const L=x(e,["tools"]);if(n!==void 0&&L!=null){let G=fy(L);Array.isArray(G)&&(G=G.map($=>g8(dy($)))),S(n,["tools"],G)}const M=x(e,["toolConfig"]);n!==void 0&&M!=null&&S(n,["toolConfig"],M);const z=x(e,["labels"]);n!==void 0&&z!=null&&S(n,["labels"],z);const B=x(e,["cachedContent"]);n!==void 0&&B!=null&&S(n,["cachedContent"],Uu(t,B));const V=x(e,["responseModalities"]);V!=null&&S(r,["responseModalities"],V);const U=x(e,["mediaResolution"]);U!=null&&S(r,["mediaResolution"],U);const q=x(e,["speechConfig"]);q!=null&&S(r,["speechConfig"],m8(Tk(q)));const Q=x(e,["audioTimestamp"]);Q!=null&&S(r,["audioTimestamp"],Q);const Z=x(e,["thinkingConfig"]);Z!=null&&S(r,["thinkingConfig"],Z);const ce=x(e,["imageConfig"]);return ce!=null&&S(r,["imageConfig"],aae(ce)),r}function P4(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Cs(i);Array.isArray(s)&&(s=s.map(o=>D1(o))),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&S(n,["generationConfig"],Pie(t,a,n)),n}function k4(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Cs(i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&S(n,["generationConfig"],kie(t,a,n)),n}function D4(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>eie(c))),S(e,["candidates"],u)}const i=x(t,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&S(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&S(e,["responseId"],s);const o=x(t,["usageMetadata"]);return o!=null&&S(e,["usageMetadata"],o),e}function I4(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),S(e,["candidates"],c)}const i=x(t,["createTime"]);i!=null&&S(e,["createTime"],i);const a=x(t,["modelVersion"]);a!=null&&S(e,["modelVersion"],a);const s=x(t,["promptFeedback"]);s!=null&&S(e,["promptFeedback"],s);const o=x(t,["responseId"]);o!=null&&S(e,["responseId"],o);const u=x(t,["usageMetadata"]);return u!=null&&S(e,["usageMetadata"],u),e}function Die(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&S(e,["parameters","aspectRatio"],i);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&S(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&S(e,["parameters","safetySetting"],s);const o=x(t,["personGeneration"]);e!==void 0&&o!=null&&S(e,["parameters","personGeneration"],o);const u=x(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&S(e,["parameters","includeSafetyAttributes"],u);const c=x(t,["includeRaiReason"]);e!==void 0&&c!=null&&S(e,["parameters","includeRaiReason"],c);const f=x(t,["language"]);e!==void 0&&f!=null&&S(e,["parameters","language"],f);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","mimeType"],h);const g=x(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&S(e,["parameters","outputOptions","compressionQuality"],g),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=x(t,["imageSize"]);if(e!==void 0&&v!=null&&S(e,["parameters","sampleImageSize"],v),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Iie(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&S(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&S(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&S(e,["parameters","aspectRatio"],s);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&S(e,["parameters","guidanceScale"],o);const u=x(t,["seed"]);e!==void 0&&u!=null&&S(e,["parameters","seed"],u);const c=x(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&S(e,["parameters","safetySetting"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&S(e,["parameters","includeRaiReason"],g);const v=x(t,["language"]);e!==void 0&&v!=null&&S(e,["parameters","language"],v);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","mimeType"],w);const E=x(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&S(e,["parameters","outputOptions","compressionQuality"],E);const A=x(t,["addWatermark"]);e!==void 0&&A!=null&&S(e,["parameters","addWatermark"],A);const C=x(t,["labels"]);e!==void 0&&C!=null&&S(e,["labels"],C);const P=x(t,["imageSize"]);e!==void 0&&P!=null&&S(e,["parameters","sampleImageSize"],P);const R=x(t,["enhancePrompt"]);return e!==void 0&&R!=null&&S(e,["parameters","enhancePrompt"],R),n}function Lie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Die(a,n),n}function Oie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Iie(a,n),n}function jie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Kie(s))),S(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&S(e,["positivePromptSafetyAttributes"],h8(i)),e}function Fie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>I1(s))),S(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&S(e,["positivePromptSafetyAttributes"],p8(i)),e}function Uie(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=x(t,["durationSeconds"]);if(e!==void 0&&i!=null&&S(e,["parameters","durationSeconds"],i),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&S(e,["parameters","aspectRatio"],a);const s=x(t,["resolution"]);e!==void 0&&s!=null&&S(e,["parameters","resolution"],s);const o=x(t,["personGeneration"]);if(e!==void 0&&o!=null&&S(e,["parameters","personGeneration"],o),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=x(t,["negativePrompt"]);e!==void 0&&u!=null&&S(e,["parameters","negativePrompt"],u);const c=x(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&S(e,["parameters","enhancePrompt"],c),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=x(t,["lastFrame"]);e!==void 0&&f!=null&&S(e,["instances[0]","lastFrame"],L1(f));const h=x(t,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>zae(v))),S(e,["instances[0]","referenceImages"],g)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Bie(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&S(e,["parameters","storageUri"],i);const a=x(t,["fps"]);e!==void 0&&a!=null&&S(e,["parameters","fps"],a);const s=x(t,["durationSeconds"]);e!==void 0&&s!=null&&S(e,["parameters","durationSeconds"],s);const o=x(t,["seed"]);e!==void 0&&o!=null&&S(e,["parameters","seed"],o);const u=x(t,["aspectRatio"]);e!==void 0&&u!=null&&S(e,["parameters","aspectRatio"],u);const c=x(t,["resolution"]);e!==void 0&&c!=null&&S(e,["parameters","resolution"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["pubsubTopic"]);e!==void 0&&h!=null&&S(e,["parameters","pubsubTopic"],h);const g=x(t,["negativePrompt"]);e!==void 0&&g!=null&&S(e,["parameters","negativePrompt"],g);const v=x(t,["enhancePrompt"]);e!==void 0&&v!=null&&S(e,["parameters","enhancePrompt"],v);const w=x(t,["generateAudio"]);e!==void 0&&w!=null&&S(e,["parameters","generateAudio"],w);const E=x(t,["lastFrame"]);e!==void 0&&E!=null&&S(e,["instances[0]","lastFrame"],co(E));const A=x(t,["referenceImages"]);if(e!==void 0&&A!=null){let R=A;Array.isArray(R)&&(R=R.map(I=>Hae(I))),S(e,["instances[0]","referenceImages"],R)}const C=x(t,["mask"]);e!==void 0&&C!=null&&S(e,["instances[0]","mask"],Bae(C));const P=x(t,["compressionQuality"]);return e!==void 0&&P!=null&&S(e,["parameters","compressionQuality"],P),n}function zie(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&S(e,["response"],$ie(s)),e}function Hie(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Vie(s)),e}function Gie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&S(n,["instances[0]","image"],L1(a));const s=x(e,["video"]);s!=null&&S(n,["instances[0]","video"],y8(s));const o=x(e,["source"]);o!=null&&Wie(o,n);const u=x(e,["config"]);return u!=null&&Uie(u,n),n}function qie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&S(n,["instances[0]","image"],co(a));const s=x(e,["video"]);s!=null&&S(n,["instances[0]","video"],v8(s));const o=x(e,["source"]);o!=null&&Yie(o,n);const u=x(e,["config"]);return u!=null&&Bie(u,n),n}function $ie(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Jie(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function Vie(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Qie(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function Wie(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],L1(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&S(e,["instances[0]","video"],y8(a)),n}function Yie(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],co(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&S(e,["instances[0]","video"],v8(a)),n}function Kie(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["image"],sae(n));const r=x(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const i=x(t,["_self"]);return i!=null&&S(e,["safetyAttributes"],h8(i)),e}function I1(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["image"],f8(n));const r=x(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const i=x(t,["_self"]);i!=null&&S(e,["safetyAttributes"],p8(i));const a=x(t,["prompt"]);return a!=null&&S(e,["enhancedPrompt"],a),e}function Xie(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["mask"],f8(n));const r=x(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(e,["labels"],i)}return e}function Jie(t){const e={},n=x(t,["video"]);return n!=null&&S(e,["video"],Fae(n)),e}function Qie(t){const e={},n=x(t,["_self"]);return n!=null&&S(e,["video"],Uae(n)),e}function Zie(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&S(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&S(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&S(e,["enableAffectiveDialog"],s);const o=x(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=x(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const c=x(t,["maxOutputTokens"]);c!=null&&S(e,["maxOutputTokens"],c);const f=x(t,["mediaResolution"]);f!=null&&S(e,["mediaResolution"],f);const h=x(t,["presencePenalty"]);h!=null&&S(e,["presencePenalty"],h);const g=x(t,["responseLogprobs"]);g!=null&&S(e,["responseLogprobs"],g);const v=x(t,["responseMimeType"]);v!=null&&S(e,["responseMimeType"],v);const w=x(t,["responseModalities"]);w!=null&&S(e,["responseModalities"],w);const E=x(t,["responseSchema"]);E!=null&&S(e,["responseSchema"],E);const A=x(t,["routingConfig"]);A!=null&&S(e,["routingConfig"],A);const C=x(t,["seed"]);C!=null&&S(e,["seed"],C);const P=x(t,["speechConfig"]);P!=null&&S(e,["speechConfig"],m8(P));const R=x(t,["stopSequences"]);R!=null&&S(e,["stopSequences"],R);const I=x(t,["temperature"]);I!=null&&S(e,["temperature"],I);const k=x(t,["thinkingConfig"]);k!=null&&S(e,["thinkingConfig"],k);const L=x(t,["topK"]);L!=null&&S(e,["topK"],L);const M=x(t,["topP"]);if(M!=null&&S(e,["topP"],M),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function eae(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Rt(t,r)),n}function tae(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Rt(t,r)),n}function nae(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function rae(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function iae(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&S(e,["imageSize"],r),x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function aae(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);r!=null&&S(e,["imageSize"],r);const i=x(t,["outputMimeType"]);i!=null&&S(e,["imageOutputOptions","mimeType"],i);const a=x(t,["outputCompressionQuality"]);return a!=null&&S(e,["imageOutputOptions","compressionQuality"],a),e}function sae(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&S(e,["imageBytes"],Dd(n));const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function f8(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["imageBytes"],Dd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function L1(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&S(e,["bytesBase64Encoded"],Dd(n));const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function co(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Dd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function oae(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&S(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&S(n,["_query","filter"],s);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&S(n,["_url","models_url"],i8(t,o)),r}function lae(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&S(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&S(n,["_query","filter"],s);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&S(n,["_url","models_url"],i8(t,o)),r}function uae(t,e){const n={},r=x(e,["config"]);return r!=null&&oae(t,r,n),n}function cae(t,e){const n={},r=x(e,["config"]);return r!=null&&lae(t,r,n),n}function dae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=a8(i);Array.isArray(a)&&(a=a.map(s=>g2(s))),S(e,["models"],a)}return e}function fae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=a8(i);Array.isArray(a)&&(a=a.map(s=>y2(s))),S(e,["models"],a)}return e}function hae(t){const e={},n=x(t,["maskMode"]);n!=null&&S(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&S(e,["maskClasses"],r);const i=x(t,["maskDilation"]);return i!=null&&S(e,["dilation"],i),e}function g2(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);i!=null&&S(e,["description"],i);const a=x(t,["version"]);a!=null&&S(e,["version"],a);const s=x(t,["_self"]);s!=null&&S(e,["tunedModelInfo"],Rae(s));const o=x(t,["inputTokenLimit"]);o!=null&&S(e,["inputTokenLimit"],o);const u=x(t,["outputTokenLimit"]);u!=null&&S(e,["outputTokenLimit"],u);const c=x(t,["supportedGenerationMethods"]);c!=null&&S(e,["supportedActions"],c);const f=x(t,["temperature"]);f!=null&&S(e,["temperature"],f);const h=x(t,["maxTemperature"]);h!=null&&S(e,["maxTemperature"],h);const g=x(t,["topP"]);g!=null&&S(e,["topP"],g);const v=x(t,["topK"]);v!=null&&S(e,["topK"],v);const w=x(t,["thinking"]);return w!=null&&S(e,["thinking"],w),e}function y2(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);i!=null&&S(e,["description"],i);const a=x(t,["versionId"]);a!=null&&S(e,["version"],a);const s=x(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>Cie(g))),S(e,["endpoints"],h)}const o=x(t,["labels"]);o!=null&&S(e,["labels"],o);const u=x(t,["_self"]);u!=null&&S(e,["tunedModelInfo"],Mae(u));const c=x(t,["defaultCheckpointId"]);c!=null&&S(e,["defaultCheckpointId"],c);const f=x(t,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),S(e,["checkpoints"],h)}return e}function pae(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Tie(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Nie(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],Zre(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function mae(t){const e={},n=x(t,["productImage"]);return n!=null&&S(e,["image"],co(n)),e}function gae(t,e){const n={},r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["baseSteps"]);e!==void 0&&i!=null&&S(e,["parameters","baseSteps"],i);const a=x(t,["outputGcsUri"]);e!==void 0&&a!=null&&S(e,["parameters","storageUri"],a);const s=x(t,["seed"]);e!==void 0&&s!=null&&S(e,["parameters","seed"],s);const o=x(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&S(e,["parameters","safetySetting"],o);const u=x(t,["personGeneration"]);e!==void 0&&u!=null&&S(e,["parameters","personGeneration"],u);const c=x(t,["addWatermark"]);e!==void 0&&c!=null&&S(e,["parameters","addWatermark"],c);const f=x(t,["outputMimeType"]);e!==void 0&&f!=null&&S(e,["parameters","outputOptions","mimeType"],f);const h=x(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","compressionQuality"],h);const g=x(t,["enhancePrompt"]);e!==void 0&&g!=null&&S(e,["parameters","enhancePrompt"],g);const v=x(t,["labels"]);return e!==void 0&&v!=null&&S(e,["labels"],v),n}function yae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["source"]);i!=null&&bae(i,n);const a=x(e,["config"]);return a!=null&&gae(a,n),n}function vae(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>I1(i))),S(e,["generatedImages"],r)}return e}function bae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["personImage"]);e!==void 0&&i!=null&&S(e,["instances[0]","personImage","image"],co(i));const a=x(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>mae(o))),S(e,["instances[0]","productImages"],s)}return n}function xae(t){const e={},n=x(t,["referenceImage"]);n!=null&&S(e,["referenceImage"],co(n));const r=x(t,["referenceId"]);r!=null&&S(e,["referenceId"],r);const i=x(t,["referenceType"]);i!=null&&S(e,["referenceType"],i);const a=x(t,["maskImageConfig"]);a!=null&&S(e,["maskImageConfig"],hae(a));const s=x(t,["controlImageConfig"]);s!=null&&S(e,["controlImageConfig"],sie(s));const o=x(t,["styleImageConfig"]);o!=null&&S(e,["styleImageConfig"],o);const u=x(t,["subjectImageConfig"]);return u!=null&&S(e,["subjectImageConfig"],u),e}function h8(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&S(e,["contentType"],i),e}function p8(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&S(e,["contentType"],i),e}function wae(t){const e={},n=x(t,["category"]);if(n!=null&&S(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function Sae(t){const e={},n=x(t,["image"]);return n!=null&&S(e,["image"],co(n)),e}function Eae(t,e){const n={},r=x(t,["mode"]);e!==void 0&&r!=null&&S(e,["parameters","mode"],r);const i=x(t,["maxPredictions"]);e!==void 0&&i!=null&&S(e,["parameters","maxPredictions"],i);const a=x(t,["confidenceThreshold"]);e!==void 0&&a!=null&&S(e,["parameters","confidenceThreshold"],a);const s=x(t,["maskDilation"]);e!==void 0&&s!=null&&S(e,["parameters","maskDilation"],s);const o=x(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&S(e,["parameters","binaryColorThreshold"],o);const u=x(t,["labels"]);return e!==void 0&&u!=null&&S(e,["labels"],u),n}function Aae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["source"]);i!=null&&Cae(i,n);const a=x(e,["config"]);return a!=null&&Eae(a,n),n}function _ae(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xie(i))),S(e,["generatedMasks"],r)}return e}function Cae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],co(i));const a=x(t,["scribbleImage"]);return e!==void 0&&a!=null&&S(e,["instances[0]","scribble"],Sae(a)),n}function m8(t){const e={},n=x(t,["languageCode"]);n!=null&&S(e,["languageCode"],n);const r=x(t,["voiceConfig"]);if(r!=null&&S(e,["voiceConfig"],r),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Tae(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],Rie(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function Nae(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],nae(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],rae(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function g8(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>Mie(g))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function Rae(t){const e={},n=x(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&S(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&S(e,["updateTime"],i),e}function Mae(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&S(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&S(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&S(e,["updateTime"],i),e}function Pae(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&S(e,["defaultCheckpointId"],a),n}function kae(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&S(e,["defaultCheckpointId"],a),n}function Dae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","name"],Rt(t,r));const i=x(e,["config"]);return i!=null&&Pae(i,n),n}function Iae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["config"]);return i!=null&&kae(i,n),n}function Lae(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&S(e,["parameters","safetySetting"],i);const a=x(t,["personGeneration"]);e!==void 0&&a!=null&&S(e,["parameters","personGeneration"],a);const s=x(t,["includeRaiReason"]);e!==void 0&&s!=null&&S(e,["parameters","includeRaiReason"],s);const o=x(t,["outputMimeType"]);e!==void 0&&o!=null&&S(e,["parameters","outputOptions","mimeType"],o);const u=x(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&S(e,["parameters","outputOptions","compressionQuality"],u);const c=x(t,["enhanceInputImage"]);e!==void 0&&c!=null&&S(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=x(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&S(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=x(t,["labels"]);e!==void 0&&h!=null&&S(e,["labels"],h);const g=x(t,["numberOfImages"]);e!==void 0&&g!=null&&S(e,["parameters","sampleCount"],g);const v=x(t,["mode"]);return e!==void 0&&v!=null&&S(e,["parameters","mode"],v),n}function Oae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Rt(t,r));const i=x(e,["image"]);i!=null&&S(n,["instances[0]","image"],co(i));const a=x(e,["upscaleFactor"]);a!=null&&S(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=x(e,["config"]);return s!=null&&Lae(s,n),n}function jae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>I1(a))),S(e,["generatedImages"],i)}return e}function Fae(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&S(e,["videoBytes"],Dd(r));const i=x(t,["encoding"]);return i!=null&&S(e,["mimeType"],i),e}function Uae(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],Dd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function Bae(t){const e={},n=x(t,["image"]);n!=null&&S(e,["_self"],co(n));const r=x(t,["maskMode"]);return r!=null&&S(e,["maskMode"],r),e}function zae(t){const e={},n=x(t,["image"]);n!=null&&S(e,["image"],L1(n));const r=x(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function Hae(t){const e={},n=x(t,["image"]);n!=null&&S(e,["image"],co(n));const r=x(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function y8(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["videoBytes"]);r!=null&&S(e,["encodedVideo"],Dd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["encoding"],i),e}function v8(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Dd(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gae(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&S(e,["displayName"],r),n}function qae(t){const e={},n=x(t,["config"]);return n!=null&&Gae(n,e),e}function $ae(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&S(e,["_query","force"],r),n}function Vae(t){const e={},n=x(t,["name"]);n!=null&&S(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&$ae(r,e),e}function Wae(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function Yae(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["customMetadata"],a)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&S(e,["chunkingConfig"],i),n}function Kae(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Jae(s)),e}function Xae(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&S(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&S(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&Yae(i,e),e}function Jae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function Qae(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function Zae(t){const e={},n=x(t,["config"]);return n!=null&&Qae(n,e),e}function ese(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["fileSearchStores"],a)}return e}function b8(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&S(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&S(e,["displayName"],i);const a=x(t,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),S(e,["customMetadata"],o)}const s=x(t,["chunkingConfig"]);return e!==void 0&&s!=null&&S(e,["chunkingConfig"],s),n}function tse(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&S(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&b8(r,e),e}function nse(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rse="Content-Type",ise="X-Server-Timeout",ase="User-Agent",v2="x-goog-api-client",sse="1.31.0",ose=`google-genai-sdk/${sse}`,lse="v1beta1",use="v1beta",L4=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class cse{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:lse,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:use,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>a.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&dse(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await O4(i),new h2(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await O4(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return gm(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:o,value:u}=yield hn(i.read());if(o){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(u,{stream:!0});try{const h=JSON.parse(c);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,w=g.code,E=`got status: ${v}. ${JSON.stringify(h)}`;if(w>=400&&w<600)throw new k1({message:E,status:w})}}catch(h){if(h.name==="ApiError")throw h}s+=c;let f=s.match(L4);for(;f;){const h=f[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield hn(new h2(g)),s=s.slice(f[0].length),f=s.match(L4)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=ose+" "+this.clientOptions.userAgentExtra;return e[ase]=n,e[v2]=n,e[rse]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(ise,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const u={file:i},c=this.getFileName(e),f=Ce("upload/v1beta/files",u._url),h=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,c,u,n==null?void 0:n.httpOptions);return a.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),o=String(s.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),h={};r!=null&&b8(r,h);const g=await this.fetchUploadUrl(c,o,u,f,h,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var o;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(o=c==null?void 0:c.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function O4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new k1({message:i,status:n}):new Error(i)}}function dse(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const o=Object.assign({},a);for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const c=s[u],f=o[u];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?o[u]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),o[u]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fse="mcp_used/unknown";let hse=!1;function x8(t){for(const e of t)if(pse(e)||typeof e=="object"&&"inputSchema"in e)return!0;return hse}function w8(t){var e;const n=(e=t[v2])!==null&&e!==void 0?e:"";t[v2]=(n+` ${fse}`).trimStart()}function pse(t){return t!==null&&typeof t=="object"&&t instanceof Rk}function mse(t,e=100){return gm(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield hn(t.listTools({cursor:r}));for(const s of a.tools)yield yield hn(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class Rk{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Rk(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const f of this.mcpClients)try{for(var o=!0,u=(n=void 0,l0(mse(f))),c;c=await u.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const h=i;s.push(h);const g=h.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=f}}catch(h){n={error:h}}finally{try{!o&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Wte(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gse(t,e,n){const r=new Ute;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class yse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=xse(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const f=new Promise(R=>{c=R}),h=e.callbacks,g=function(){c({})},v=this.apiClient,w={onopen:g,onmessage:R=>{gse(v,h.onmessage,R)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(R){}},E=this.webSocketFactory.create(u,bse(s),w);E.connect(),await f;const P={setup:{model:Rt(this.apiClient,e.model)}};return E.send(JSON.stringify(P)),new vse(E,this.apiClient)}}class vse{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=qre(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Gre(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(rm.PLAY)}pause(){this.sendPlaybackControl(rm.PAUSE)}stop(){this.sendPlaybackControl(rm.STOP)}resetContext(){this.sendPlaybackControl(rm.RESET_CONTEXT)}close(){this.conn.close()}}function bse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function xse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Sse(t,e,n){const r=new Fte;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=Wre(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class Ese{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new yse(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&x8(e.config.tools)&&w8(h);const g=Tse(h);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,f);else{const B=this.apiClient.getApiKey();let V="BidiGenerateContent",U="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",U="access_token"),f=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.${V}?${U}=${B}`}let v=()=>{};const w=new Promise(B=>{v=B}),E=e.callbacks,A=function(){var B;(B=E==null?void 0:E.onopen)===null||B===void 0||B.call(E),v({})},C=this.apiClient,P={onopen:A,onmessage:B=>{Sse(C,E.onmessage,B)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(B){}},R=this.webSocketFactory.create(f,Cse(g),P);R.connect(),await w;let I=Rt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const B=this.apiClient.getProject(),V=this.apiClient.getLocation();I=`projects/${B}/locations/${V}/`+I}let k={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[VE.AUDIO]}:e.config.responseModalities=[VE.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],M=[];for(const B of L)if(this.isCallableTool(B)){const V=B;M.push(await V.tool())}else M.push(B);M.length>0&&(e.config.tools=M);const z={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?k=Hre(this.apiClient,z):k=zre(this.apiClient,z),delete k.config,R.send(JSON.stringify(k)),new _se(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Ase={turnComplete:!0};class _se{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Cs(n.turns),e.isVertexAI()||(r=r.map(i=>D1(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(wse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Ase),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Vre(e)}:n={realtimeInput:$re(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Cse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Tse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j4=10;function F4(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ym(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ym(t){return"callTool"in t&&typeof t.callTool=="function"}function Nse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ym(i)))!==null&&r!==void 0?r:!1}function U4(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ym(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function B4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rse extends Fu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,o;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Nse(n)||F4(n.config))return await this.generateContentInternal(u);const c=U4(n);if(c.length>0){const E=c.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,h;const g=Cs(u.contents),v=(a=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:j4;let w=0;for(;w<v&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,A=[];for(const C of(o=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(ym(C)){const R=await C.callTool(f.functionCalls);A.push(...R)}w++,h={role:"user",parts:A},u.contents=Cs(u.contents),u.contents.push(E),u.contents.push(h),B4(u.config)&&(g.push(E),g.push(h))}return B4(u.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async n=>{var r,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(n),F4(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const u=U4(n);if(u.length>0){const h=u.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,f=(o=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:s.push(u);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Qh(Eu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,o,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((u=(o=n.source)===null||o===void 0?void 0:o.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async u=>ym(u)?await u.tool():u)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&x8(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},u);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),w8(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ym(s)){const o=s,u=await o.tool();for(const c of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,o)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:j4;let s=!1,o=0;const u=await this.initAfcToolsMap(e);return(function(c,f,h){var g,v;return gm(this,arguments,function*(){for(var w,E,A,C;o<a;){s&&(o++,s=!1);const k=yield hn(c.processParamsMaybeAddMcpUsage(h)),L=yield hn(c.generateContentStreamInternal(k)),M=[],z=[];try{for(var P=!0,R=(E=void 0,l0(L)),I;I=yield hn(R.next()),w=I.done,!w;P=!0){C=I.value,P=!1;const B=C;if(yield yield hn(B),B.candidates&&(!((g=B.candidates[0])===null||g===void 0)&&g.content)){z.push(B.candidates[0].content);for(const V of(v=B.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<a&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(V.functionCall.name)){const U=yield hn(f.get(V.functionCall.name).callTool([V.functionCall]));M.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(B){E={error:B}}finally{try{!P&&!w&&(A=R.return)&&(yield hn(A.call(R)))}finally{if(E)throw E.error}}if(M.length>0){s=!0;const B=new wv;B.candidates=[{content:{role:"user",parts:M}}],yield yield hn(B);const V=[];V.push(...z),V.push({role:"user",parts:M});const U=Cs(h.contents).concat(V);h.contents=U}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=k4(this.apiClient,e);return o=Ce("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=I4(f),g=new wv;return Object.assign(g,h),g})}else{const c=P4(this.apiClient,e);return o=Ce("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=D4(f),g=new wv;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=k4(this.apiClient,e);return o=Ce("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return gm(this,arguments,function*(){var g,v,w,E;try{for(var A=!0,C=l0(h),P;P=yield hn(C.next()),g=P.done,!g;A=!0){E=P.value,A=!1;const R=E,I=I4(yield hn(R.json()));I.sdkHttpResponse={headers:R.headers};const k=new wv;Object.assign(k,I),yield yield hn(k)}}catch(R){v={error:R}}finally{try{!A&&!g&&(w=C.return)&&(yield hn(w.call(C)))}finally{if(v)throw v.error}}})})}else{const c=P4(this.apiClient,e);return o=Ce("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(h){return gm(this,arguments,function*(){var g,v,w,E;try{for(var A=!0,C=l0(h),P;P=yield hn(C.next()),g=P.done,!g;A=!0){E=P.value,A=!1;const R=E,I=D4(yield hn(R.json()));I.sdkHttpResponse={headers:R.headers};const k=new wv;Object.assign(k,I),yield yield hn(k)}}catch(R){v={error:R}}finally{try{!A&&!g&&(w=C.return)&&(yield hn(w.call(C)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Eie(this.apiClient,e);return o=Ce("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=_ie(f),g=new p4;return Object.assign(g,h),g})}else{const c=Sie(this.apiClient,e);return o=Ce("{model}:batchEmbedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Aie(f),g=new p4;return Object.assign(g,h),g})}}async generateImagesInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Oie(this.apiClient,e);return o=Ce("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Fie(f),g=new m4;return Object.assign(g,h),g})}else{const c=Lie(this.apiClient,e);return o=Ce("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=jie(f),g=new m4;return Object.assign(g,h),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=vie(this.apiClient,e);return a=Ce("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=bie(u),f=new Tte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Oae(this.apiClient,e);return a=Ce("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=jae(u),f=new Nte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=yae(this.apiClient,e);return a=Ce("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=vae(u),f=new Rte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Aae(this.apiClient,e);return a=Ce("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=_ae(u),f=new Mte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=tae(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>y2(f))}else{const c=eae(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>g2(f))}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=cae(this.apiClient,e);return o=Ce("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=fae(f),g=new g4;return Object.assign(g,h),g})}else{const c=uae(this.apiClient,e);return o=Ce("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=dae(f),g=new g4;return Object.assign(g,h),g})}}async update(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Iae(this.apiClient,e);return o=Ce("{model}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>y2(f))}else{const c=Dae(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>g2(f))}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=pie(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=gie(f),g=new y4;return Object.assign(g,h),g})}else{const c=hie(this.apiClient,e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=mie(f),g=new y4;return Object.assign(g,h),g})}}async countTokens(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=cie(this.apiClient,e);return o=Ce("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=fie(f),g=new v4;return Object.assign(g,h),g})}else{const c=uie(this.apiClient,e);return o=Ce("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=die(f),g=new v4;return Object.assign(g,h),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=nie(this.apiClient,e);return a=Ce("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=rie(u),f=new Pte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=qie(this.apiClient,e);return o=Ce("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=Hie(f),g=new WE;return Object.assign(g,h),g})}else{const c=Gie(this.apiClient,e);return o=Ce("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>{const h=zie(f),g=new WE;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mse extends Fu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=wte(e);return o=Ce("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const c=xte(e);return o=Ce("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=hte(e);return a=Ce("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pse(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function kse(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>zse(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function Dse(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&S(n,["expireTime"],i);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&S(n,["newSessionExpireTime"],a);const s=x(e,["uses"]);n!==void 0&&s!=null&&S(n,["uses"],s);const o=x(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&S(n,["bidiGenerateContentSetup"],Bse(t,o));const u=x(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&S(n,["fieldMask"],u),r}function Ise(t,e){const n={},r=x(e,["config"]);return r!=null&&S(n,["config"],Dse(t,r,n)),n}function Lse(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Ose(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jse(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function Fse(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Use(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],Nk(h));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const v=x(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],kse(gi(w)));const E=x(t,["tools"]);if(e!==void 0&&E!=null){let L=fy(E);Array.isArray(L)&&(L=L.map(M=>Gse(dy(M)))),S(e,["setup","tools"],L)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],Hse(A));const C=x(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const P=x(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&S(e,["setup","outputAudioTranscription"],P);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const I=x(t,["contextWindowCompression"]);e!==void 0&&I!=null&&S(e,["setup","contextWindowCompression"],I);const k=x(t,["proactivity"]);return e!==void 0&&k!=null&&S(e,["setup","proactivity"],k),n}function Bse(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Rt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Use(i,n)),n}function zse(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Lse(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Ose(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],Pse(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function Hse(t){const e={},n=x(t,["handle"]);if(n!=null&&S(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Gse(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],jse(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],Fse(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qse(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function $se(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=qse(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const u=[];a&&u.push(a),o.length>0&&u.push(...o),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Vse extends Fu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=Ise(this.apiClient,e);a=Ce("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const u=$se(o,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wse(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&S(e,["_query","force"],r),n}function Yse(t){const e={},n=x(t,["name"]);n!=null&&S(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&Wse(r,e),e}function Kse(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function Xse(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function Jse(t){const e={},n=x(t,["parent"]);n!=null&&S(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&Xse(r,e),e}function Qse(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zse extends Fu{constructor(e){super(),this.apiClient=e,this.list=async n=>new Qh(Eu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Kse(e);return a=Ce("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Yse(e);i=Ce("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jse(e);return a=Ce("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Qse(u),f=new kte;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eoe extends Fu{constructor(e,n=new Zse(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Qh(Eu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=qae(e);return a=Ce("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Wae(e);return a=Ce("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Vae(e);i=Ce("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Zae(e);return a=Ce("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=ese(u),f=new Dte;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=tse(e);return a=Ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=nse(u),f=new Ite;return Object.assign(f,c),f})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Xae(e);return a=Ce("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Kae(u),f=new Ek;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function toe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function noe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function roe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&S(n,["sdkHttpResponse"],r),n}function ioe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&S(n,["sdkHttpResponse"],r),n}function aoe(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&S(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(t,["epochCount"]);e!==void 0&&a!=null&&S(e,["tuningTask","hyperparameters","epochCount"],a);const s=x(t,["learningRateMultiplier"]);if(s!=null&&S(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=x(t,["batchSize"]);e!==void 0&&o!=null&&S(e,["tuningTask","hyperparameters","batchSize"],o);const u=x(t,["learningRate"]);if(e!==void 0&&u!=null&&S(e,["tuningTask","hyperparameters","learningRate"],u),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function soe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=x(t,["validationDataset"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec"],z4(v))}else if(i==="PREFERENCE_TUNING"){const v=x(t,["validationDataset"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec"],z4(v))}const a=x(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&S(e,["tunedModelDisplayName"],a);const s=x(t,["description"]);e!==void 0&&s!=null&&S(e,["description"],s);let o=x(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=x(t,["epochCount"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=x(t,["epochCount"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let u=x(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=x(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(u==="PREFERENCE_TUNING"){const v=x(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=x(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(c==="PREFERENCE_TUNING"){const v=x(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=x(t,["adapterSize"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=x(t,["adapterSize"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=x(t,["labels"]);e!==void 0&&h!=null&&S(e,["labels"],h);const g=x(t,["beta"]);return e!==void 0&&g!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function ooe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&S(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&voe(a);const s=x(t,["config"]);return s!=null&&aoe(s,n),n}function loe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&S(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&boe(a,n,e);const s=x(t,["config"]);return s!=null&&soe(s,n,e),n}function uoe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function coe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function doe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&S(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&S(e,["_query","filter"],s),r}function foe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&S(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&S(e,["_query","filter"],s),r}function hoe(t,e){const n={},r=x(t,["config"]);return r!=null&&doe(r,n),n}function poe(t,e){const n={},r=x(t,["config"]);return r!=null&&foe(r,n),n}function moe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&S(n,["nextPageToken"],i);const a=x(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>S8(o))),S(n,["tuningJobs"],s)}return n}function goe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&S(n,["nextPageToken"],i);const a=x(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>b2(o))),S(n,["tuningJobs"],s)}return n}function yoe(t,e){const n={},r=x(t,["name"]);r!=null&&S(n,["model"],r);const i=x(t,["name"]);return i!=null&&S(n,["endpoint"],i),n}function voe(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(n,["examples","examples"],i)}return n}function boe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&S(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&S(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function S8(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["state"]);a!=null&&S(n,["state"],n8(a));const s=x(t,["createTime"]);s!=null&&S(n,["createTime"],s);const o=x(t,["tuningTask","startTime"]);o!=null&&S(n,["startTime"],o);const u=x(t,["tuningTask","completeTime"]);u!=null&&S(n,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(n,["updateTime"],c);const f=x(t,["description"]);f!=null&&S(n,["description"],f);const h=x(t,["baseModel"]);h!=null&&S(n,["baseModel"],h);const g=x(t,["_self"]);return g!=null&&S(n,["tunedModel"],yoe(g)),n}function b2(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["state"]);a!=null&&S(n,["state"],n8(a));const s=x(t,["createTime"]);s!=null&&S(n,["createTime"],s);const o=x(t,["startTime"]);o!=null&&S(n,["startTime"],o);const u=x(t,["endTime"]);u!=null&&S(n,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(n,["updateTime"],c);const f=x(t,["error"]);f!=null&&S(n,["error"],f);const h=x(t,["description"]);h!=null&&S(n,["description"],h);const g=x(t,["baseModel"]);g!=null&&S(n,["baseModel"],g);const v=x(t,["tunedModel"]);v!=null&&S(n,["tunedModel"],v);const w=x(t,["preTunedModel"]);w!=null&&S(n,["preTunedModel"],w);const E=x(t,["supervisedTuningSpec"]);E!=null&&S(n,["supervisedTuningSpec"],E);const A=x(t,["preferenceOptimizationSpec"]);A!=null&&S(n,["preferenceOptimizationSpec"],A);const C=x(t,["tuningDataStats"]);C!=null&&S(n,["tuningDataStats"],C);const P=x(t,["encryptionSpec"]);P!=null&&S(n,["encryptionSpec"],P);const R=x(t,["partnerModelTuningSpec"]);R!=null&&S(n,["partnerModelTuningSpec"],R);const I=x(t,["customBaseModel"]);I!=null&&S(n,["customBaseModel"],I);const k=x(t,["experiment"]);k!=null&&S(n,["experiment"],k);const L=x(t,["labels"]);L!=null&&S(n,["labels"],L);const M=x(t,["outputUri"]);M!=null&&S(n,["outputUri"],M);const z=x(t,["pipelineJob"]);z!=null&&S(n,["pipelineJob"],z);const B=x(t,["serviceAccount"]);B!=null&&S(n,["serviceAccount"],B);const V=x(t,["tunedModelDisplayName"]);V!=null&&S(n,["tunedModelDisplayName"],V);const U=x(t,["veoTuningSpec"]);return U!=null&&S(n,["veoTuningSpec"],U),n}function xoe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["metadata"]);a!=null&&S(n,["metadata"],a);const s=x(t,["done"]);s!=null&&S(n,["done"],s);const o=x(t,["error"]);return o!=null&&S(n,["error"],o),n}function z4(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&S(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&S(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class woe extends Fu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qh(Eu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:f2.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=coe(e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>b2(f))}else{const c=uoe(e);return o=Ce("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>S8(f))}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=poe(e);return o=Ce("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=goe(f),g=new b4;return Object.assign(g,h),g})}else{const c=hoe(e);return o=Ce("tunedModels",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=moe(f),g=new b4;return Object.assign(g,h),g})}}async cancel(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=noe(e);return o=Ce("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=ioe(f),g=new x4;return Object.assign(g,h),g})}else{const c=toe(e);return o=Ce("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=roe(f),g=new x4;return Object.assign(g,h),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=loe(e,e);return a=Ce("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>b2(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ooe(e);return a=Ce("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>xoe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Soe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Eoe=1024*1024*8,Aoe=3,_oe=1e3,Coe=2,KE="x-goog-upload-status";async function Toe(t,e,n){var r;const i=await E8(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[KE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Noe(t,e,n){var r;const i=await E8(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[KE])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=XG(a),o=new Ak;return Object.assign(o,s),o}async function E8(t,e,n){var r,i;let a=0,s=0,o=new h2(new Response),u="upload";for(a=t.size;s<a;){const c=Math.min(Eoe,a-s),f=t.slice(s,s+c);s+c>=a&&(u+=", finalize");let h=0,g=_oe;for(;h<Aoe&&(o=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[KE]));)h++,await Moe(g),g=g*Coe;if(s+=c,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[KE])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Roe(t){return{size:t.size,type:t.type}}function Moe(t){return new Promise(e=>setTimeout(e,t))}class Poe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Toe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Noe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Roe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class koe{create(e,n,r){return new Doe(e,n,r)}}class Doe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H4="x-goog-api-key";class Ioe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(H4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(H4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Loe="gl-node/";class Ooe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=dte(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Ioe(this.apiKey);this.apiClient=new cse({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Loe+"web",uploader:new Poe,downloader:new Soe}),this.models=new Rse(this.apiClient),this.live=new Ese(this.apiClient,i,new koe),this.batches=new Bne(this.apiClient),this.chats=new wre(this.models,this.apiClient),this.caches=new vre(this.apiClient),this.files=new Pre(this.apiClient),this.operations=new Mse(this.apiClient),this.authTokens=new Vse(this.apiClient),this.tunings=new woe(this.apiClient),this.fileSearchStores=new eoe(this.apiClient)}}const Ts="co-writter",joe="Co-Author",Mk="gemini-2.5-flash",Foe="gemini-2.5-flash-image",A8="rzp_live_RR5721D6h6BMt4",Uoe="399711702378-437l1ouof6p9hvnoo3uud7acfr1h5k12.apps.googleusercontent.com",yi=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),b.jsx("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),b.jsx("path",{d:"M3 6l0 13"}),b.jsx("path",{d:"M12 6l0 13"}),b.jsx("path",{d:"M21 6l0 13"})]}),Au=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"}),b.jsx("path",{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"}),b.jsx("path",{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]}),x2=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("circle",{cx:"12",cy:"7",r:"4"}),b.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})]}),Pk=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),b.jsx("path",{d:"M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),b.jsx("path",{d:"M17 17h-11v-14h-2"}),b.jsx("path",{d:"M6 5l14 1l-1 7h-13"})]}),G4=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),b.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),b.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),w2=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M3 6l2 -2h14l2 2"}),b.jsx("path",{d:"M5 6v13a1 1 0 0 0 1 1h12a1 1 0 0 0 1 -1v-13"}),b.jsx("path",{d:"M9 6v-2"}),b.jsx("path",{d:"M15 6v-2"}),b.jsx("path",{d:"M9 13h6"})]}),Boe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M5 12l-2 0l9 -9l9 9l-2 0"}),b.jsx("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),b.jsx("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"})]}),kk=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("path",{d:"M12 3l1.912 5.813a2 2 0 0 0 1.275 1.275L21 12l-5.813 1.912a2 2 0 0 0 -1.275 1.275L12 21l-1.912-5.813a2 2 0 0 0 -1.275-1.275L3 12l5.813-1.912a2 2 0 0 0 1.275-1.275L12 3Z"})}),q4=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),b.jsx("polyline",{points:"7 9 12 4 17 9"}),b.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"16"})]}),u0=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),zoe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),b.jsx("path",{d:"M9 12h12l-3 -3"}),b.jsx("path",{d:"M18 15l3 -3"})]}),_8=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("polyline",{points:"6 9 12 15 18 9"})}),Hoe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M5 12l14 0"}),b.jsx("path",{d:"M5 12l6 6"}),b.jsx("path",{d:"M5 12l6 -6"})]}),Goe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),b.jsx("polyline",{points:"17 6 23 6 23 12"})]}),XE=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M18 6 6 18"}),b.jsx("path",{d:"m6 6 12 12"})]}),qoe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),b.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),C8=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),b.jsx("line",{x1:"4",y1:"16",x2:"20",y2:"16"})]}),$oe=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...t,children:b.jsx("path",{d:"M11.275 4.01L7.26 15.225H2.015L6.03 4.01h5.245zm1.53 0L8.79 12.65h10.41L15.175 4.01h-2.37zm-.263 10.372l3.412-9.15h4.15l-3.412 9.15h-4.15zM24 19.99h-4.015l2.008-5.265H24v5.265zm-6.265 0H2.015L0 22h17.735l2.007-5.265H17.735v3.255z"})}),Voe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),b.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),$4=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),b.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),O1=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M19 7V6a2 2 0 00-2-2H7a2 2 0 00-2 2v1"}),b.jsx("path",{d:"M3 10h18v9a2 2 0 01-2 2H5a2 2 0 01-2-2v-9z"}),b.jsx("line",{x1:"12",y1:"14",x2:"12.01",y2:"14"})]}),T8=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),b.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),S2=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("circle",{cx:"10",cy:"10",r:"7"}),b.jsx("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]}),Dk=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("circle",{cx:"12",cy:"12",r:"9"}),b.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),b.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),Woe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}),b.jsx("path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"}),b.jsx("path",{d:"M15 13a4.5 4.5 0 0 1-3-1.4 4.5 4.5 0 0 1-3 1.4"}),b.jsx("path",{d:"M12 13v5"}),b.jsx("path",{d:"M9 9h6"})]}),N8=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M12 5l0 14"}),b.jsx("path",{d:"M5 12l14 0"})]}),Yoe=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("path",{d:"M5 12l14 0"})}),Jr=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("path",{d:"M5 12l5 5l10 -10"})}),R8=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...t,children:b.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),V4=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})}),SS=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),Koe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("circle",{cx:"12",cy:"12",r:"9"}),b.jsx("polyline",{points:"12 6 12 12 16 14"})]}),Xoe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M4 20l4-1.5 14-14a2 2 0 0 0-2.83-2.83l-14 14L4 20"}),b.jsx("line",{x1:"13.5",y1:"6.5",x2:"17.5",y2:"10.5"})]}),Joe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),W4=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("polyline",{points:"15 18 9 12 15 6"})}),Y4=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("polyline",{points:"9 18 15 12 9 6"})}),Qoe=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("circle",{cx:"12",cy:"12",r:"4"}),b.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]}),Zoe=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:b.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})}),E2=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...t,children:b.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),aN=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("path",{d:"M7 18a4.6 4.6 0 0 1 0 -9a5 5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"}),b.jsx("polyline",{points:"9 15 12 12 15 15"}),b.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"21"})]}),K4=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[b.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"4"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"}),b.jsx("line",{x1:"16.5",y1:"7.5",x2:"16.5",y2:"7.501"})]}),j1=new Ooe({apiKey:"AIzaSyDigiZpeb7pvEN6gA_0p6Va0OK5yk88QjE"}),ele=t=>{let e=t.trim();const n=e.match(/```(?:json)?\s*([\s\S]*?)\s*```/);n&&(e=n[1]);const r=e.search(/[{[]/);let i=-1;for(let a=e.length-1;a>=0;a--)if(e[a]==="}"||e[a]==="]"){i=a;break}return r!==-1&&i!==-1&&i>r&&(e=e.substring(r,i+1)),e},tle={name:"write_content",description:"Writes content directly into the book editor. Use this to WRITE new prose, FIX existing text, or APPEND text. The content argument will completely replace the current editor content, so be sure to include the full text if you are just making a small edit. DO NOT use this to insert images directly as base64.",parameters:{type:cr.OBJECT,properties:{content:{type:cr.STRING,description:"The FULL markdown content to put into the editor."},summary:{type:cr.STRING,description:"A very brief 1-word status (e.g. 'Writing', 'Fixing', 'Analyzing')."}},required:["content"]}},nle={name:"propose_blueprint",description:"Propose a book title and chapter outline to the user for approval. Use this when the user asks to start a new book, create a plan, or brainstorm a structure.",parameters:{type:cr.OBJECT,properties:{title:{type:cr.STRING,description:"The proposed title of the book."},outline:{type:cr.ARRAY,items:{type:cr.OBJECT,properties:{title:{type:cr.STRING,description:"Chapter title"},summary:{type:cr.STRING,description:"Brief summary of chapter"}}},description:"List of chapters with summaries."}},required:["title","outline"]}},rle={name:"generate_image",description:"Generates a high-quality visual asset. REQUIRED for any image request. The AI must create a detailed visual description prompt based on the surrounding text context if the user does not provide one.",parameters:{type:cr.OBJECT,properties:{prompt:{type:cr.STRING,description:"The detailed visual description of the image or diagram to generate."}},required:["prompt"]}},ile=async t=>{try{const e=t.replace(/^data:application\/pdf;base64,/,""),r=await j1.models.generateContent({model:Mk,contents:{parts:[{inlineData:{mimeType:"application/pdf",data:e}},{text:"Analyze this PDF. Extract Title, Author, Genre, and a Description (100 words). Return JSON."}]},config:{responseMimeType:"application/json"}});return JSON.parse(ele(r.text||"{}"))}catch(e){return console.error("PDF Analysis failed",e),null}},ale=t=>{try{return j1.chats.create({model:Mk,config:{systemInstruction:`IDENTITY: You are Co-Author, the advanced neural engine for co-writter by OpenDev Labs.
                
MISSION: Write immersive, deeply intelligent, and market-ready books.
Blend spirituality, science, and narrative clarity into a seamless flow.

CORE BEHAVIORS:
1. **Context-Aware**: You always know the previous chapter content and the full book outline. Never contradict established facts.
2. **Chapter Continuity**: If the user says "Continue", write the next logical section or the next chapter in the sequence.
3. **High-Quality Prose**: Avoid generic AI cliches. Use varying sentence structures, sensory details, and deep philosophical or technical insight depending on the genre.
4. **Structural Integrity**: Ensure chapter titles and numbers in your internal logic match the user's provided context exactly.
5. **Auto-Correction**: If a chapter is missing or numbered incorrectly, fix it automatically without asking. Never produce empty pages or misaligned titles.

IMAGE GENERATION RULES (CRITICAL):
- **NEVER** output raw base64 image strings (e.g. "![img](data:image...)") directly in your text response or write_content tool. This crashes the editor.
- **ALWAYS** use the \`generate_image\` tool when the user asks for an image.
- **Contextual Intelligence**: If the user says "add an image" or "visualize this", you must ANALYZE the current paragraph or scene and write a HIGHLY DETAILED prompt for the tool yourself. Do not ask the user "what kind of image?". Just generate it based on the story.

TOOLS:
- **write_content**: REQUIRED for any long-form writing. Do not dump text in chat.
- **propose_blueprint**: For creating or restructuring the book.
- **generate_image**: The ONLY way to create images.

RESPONSE STYLE:
- Chat: Ultra-concise, robotic but polite (1-2 sentences). e.g., "Executing drafting sequence for Chapter 3."
- Writing: Lush, expansive, professional.

CONTEXT:
${t}`,tools:[{functionDeclarations:[tle,nle,rle]}]}})}catch(e){return console.error("Failed to create studio session",e),null}},sle=async t=>{var e;try{const n=`Suggest a competitive market price in INR (Indian Rupees) for an eBook: "${t.title}" (${t.genre}). 
    CRITICAL: The price MUST be a "sacred" or numerologically significant number (e.g., 111, 222, 333, 444, 555, 777, 888, 999, 1111).
    Return ONLY the number.`;return((e=(await j1.models.generateContent({model:Mk,contents:n})).text)==null?void 0:e.replace(/[^0-9.]/g,"").trim())||"444"}catch{return"444"}},ole=async(t,e="Cinematic",n="",r="")=>{var i,a,s,o,u;try{const c=`Professional Book Visual. Context: ${n} by ${r}. Request: ${t}. Mode: ${e}. Create a high-quality, clear, and relevant image/diagram. For diagrams, ensure clear labels and structure.`,h=(o=(s=(a=(i=(await j1.models.generateContent({model:Foe,contents:{parts:[{text:c}]},config:{imageConfig:{aspectRatio:"3:4"}}})).candidates)==null?void 0:i[0])==null?void 0:a.content)==null?void 0:s.parts)==null?void 0:o.find(g=>g.inlineData);return(u=h==null?void 0:h.inlineData)!=null&&u.data?{imageBytes:h.inlineData.data,prompt:t}:{error:"Generation failed."}}catch{return{error:"Service unavailable."}}},lle=async()=>ale("Global Chat Context"),ule={currentUser:null,userType:Ut.GUEST,setCurrentUser:()=>{},cart:[],addToCart:()=>{},removeFromCart:()=>{},clearCart:()=>{},theme:"dark",geminiChat:null,initializeChat:async()=>{},isChatbotOpen:!1,toggleChatbot:()=>{},updateSellerCreatorSite:()=>{},allBooks:[],addCreatedBook:()=>{},updateEBook:()=>{},handleGoogleLogin:()=>{},handleEmailLogin:async()=>({success:!1}),upgradeToSeller:()=>{},verifyUser:()=>{}},M8=T.createContext(ule),Sv="ebook_engine_production_live_v1",cle=({children:t})=>{const[e,n]=T.useState(()=>{try{const U=localStorage.getItem(Sv);return U?JSON.parse(U).currentUser:null}catch{return null}}),[r,i]=T.useState(()=>{try{const U=localStorage.getItem(Sv);return U?JSON.parse(U).userType:Ut.GUEST}catch{return Ut.GUEST}}),[a,s]=T.useState(()=>{try{const U=localStorage.getItem(Sv);return U?JSON.parse(U).cart:[]}catch{return[]}}),[o,u]=T.useState(()=>{try{const U=localStorage.getItem(Sv);if(!U)return Oh;const q=JSON.parse(U);return q.allBooks&&q.allBooks.length>0?q.allBooks:Oh}catch{return Oh}}),c="dark",[f,h]=T.useState(null),[g,v]=T.useState(!1);T.useEffect(()=>{const U={currentUser:e,userType:r,cart:a,allBooks:o};localStorage.setItem(Sv,JSON.stringify(U))},[e,r,a,o]);const w=(U,q)=>{n(U),i(q),U||s([])},E=U=>{s(q=>q.find(Z=>Z.id===U.id)?q.map(Z=>Z.id===U.id?{...Z,quantity:Z.quantity+1}:Z):[...q,{...U,quantity:1}])},A=U=>{s(q=>q.filter(Q=>Q.id!==U))},C=()=>{s([])},P=T.useCallback(async()=>{if(!f){console.log("Initializing Gemini Chat from AppContext...");const U=await lle();h(U)}},[f]),R=()=>{v(U=>{const q=!U;return q&&!f&&P(),q})},I=U=>{n(q=>{if(q&&(q.id.startsWith("seller")||q.id.startsWith("google")||r===Ut.SELLER)){const Q={...q,creatorSite:U};return wo[Q.id]&&(wo[Q.id].creatorSite=U),Q}return q})},k=U=>{u(q=>q.some(Q=>Q.id===U.id)?q:[U,...q]),e&&r===Ut.SELLER&&n(q=>{const Q=q,Z=Q.uploadedBooks||[];return{...Q,uploadedBooks:[U,...Z]}})},L=U=>{u(q=>q.map(Q=>Q.id===U.id?U:Q)),e&&e.id===U.sellerId&&r===Ut.SELLER&&n(q=>{const Q=q;return{...Q,uploadedBooks:Q.uploadedBooks.map(Z=>Z.id===U.id?U:Z)}})},M=U=>{try{const q=U.credential;if(!q)return;const Z=q.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),ce=decodeURIComponent(window.atob(Z).split("").map(function(re){return"%"+("00"+re.charCodeAt(0).toString(16)).slice(-2)}).join("")),G=JSON.parse(ce),$={id:`google_${G.sub}`,name:G.name,email:G.email,purchaseHistory:[],wishlist:[],isVerified:!1,profileImageUrl:G.picture},ee=wo[$.id];if(ee&&"uploadedBooks"in ee){w(ee,Ut.SELLER);return}w($,Ut.USER),wo[$.id]=$,console.log("Logged in with Google:",$.name)}catch(q){console.error("Google Login Failed",q)}},z=async(U,q)=>{const Q=U.trim(),Z=q.trim();let ce="opendev-labs",G="co-pass-access";try{const ee=import.meta;ee.env&&(ce=ee.env.VITE_ADMIN_USER||ce,G=ee.env.VITE_ADMIN_PASS||G)}catch{console.warn("Could not access env vars, using defaults.")}if(Q===ce&&Z===G){const ee=wo.seller_opendev;return ee?(w(ee,Ut.SELLER),{success:!0}):{success:!1,message:"Admin profile configuration missing."}}const $=Object.values(wo).find(ee=>ee.email===Q);return $?"uploadedBooks"in $?(w($,Ut.SELLER),{success:!0}):{success:!1,message:"This email is not registered as a Writer account."}:{success:!1,message:"Invalid credentials."}},B=()=>{if(e&&r===Ut.USER){const U=e,q={id:U.id,name:U.name,email:U.email,payoutEmail:U.email,uploadedBooks:[],isVerified:U.isVerified||!1,username:U.username||`@${U.name.replace(/\s+/g,"").toLowerCase()}`,profileImageUrl:U.profileImageUrl,creatorSite:{isEnabled:!1,slug:U.name.toLowerCase().replace(/\s+/g,"-"),theme:"dark-minimal",profileImageUrl:U.profileImageUrl,displayName:U.name,tagline:"Digital Creator",showcasedBookIds:[]}};w(q,Ut.SELLER),wo[U.id]=q,console.log("Upgraded to Seller:",q.name)}},V=()=>{if(e){const U={...e,isVerified:!0};n(U)}};return b.jsx(M8.Provider,{value:{currentUser:e,userType:r,setCurrentUser:w,cart:a,addToCart:E,removeFromCart:A,clearCart:C,theme:c,geminiChat:f,initializeChat:P,isChatbotOpen:g,toggleChatbot:R,updateSellerCreatorSite:I,allBooks:o,addCreatedBook:k,updateEBook:L,handleGoogleLogin:M,handleEmailLogin:z,upgradeToSeller:B,verifyUser:V},children:t})},aa=()=>T.useContext(M8),Hh=({className:t="w-14 h-14",isActive:e=!0})=>{const n=T.useRef(null),[r,i]=T.useState({x:0,y:0}),[a,s]=T.useState(!1);return T.useEffect(()=>{if(!e){i({x:0,y:0});return}const o=(f,h)=>{if(!n.current)return;const g=n.current.getBoundingClientRect(),v=g.left+g.width/2,w=g.top+g.height/2,E=f-v,A=h-w,C=g.width*.15,P=Math.atan2(A,E),R=Math.sqrt(E*E+A*A),I=Math.min(R/5,C),k=Math.cos(P)*I,L=Math.sin(P)*I;i({x:k,y:L})},u=f=>{o(f.clientX,f.clientY)},c=f=>{f.touches.length>0&&o(f.touches[0].clientX,f.touches[0].clientY)};return window.addEventListener("mousemove",u),window.addEventListener("touchmove",c),window.addEventListener("touchstart",c),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",c),window.removeEventListener("touchstart",c)}},[e]),T.useEffect(()=>{let o;const u=()=>{s(!0),setTimeout(()=>{s(!1);const c=2e3+Math.random()*4e3;o=setTimeout(u,c)},150)};return o=setTimeout(u,1e3),()=>clearTimeout(o)},[]),b.jsx("div",{ref:n,className:`rounded-full aspect-square bg-[#1a1a1a] flex items-center justify-center relative shadow-2xl border border-white/5 overflow-hidden flex-shrink-0 group ${t}`,children:b.jsxs("div",{className:"w-full h-full flex items-center justify-center gap-[10%] transition-transform duration-100 ease-out will-change-transform",style:{transform:`translate(${r.x}px, ${r.y}px)`},children:[b.jsx("div",{className:"relative w-[24%] h-[32%]",children:b.jsx("div",{className:`w-full bg-white rounded-full shadow-[0_0_8px_rgba(255,255,255,0.6)] transition-all duration-150 ease-in-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ${a?"h-[10%] scale-x-125 mt-[10%]":"h-full"}`})}),b.jsx("div",{className:"relative w-[24%] h-[32%]",children:b.jsx("div",{className:`w-full bg-white rounded-full shadow-[0_0_8px_rgba(255,255,255,0.6)] transition-all duration-150 ease-in-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ${a?"h-[10%] scale-x-125 mt-[10%]":"h-full"}`})})]})})},{Link:Si,useNavigate:dle,useLocation:fle}=bi,hle=()=>{const{currentUser:t,userType:e,setCurrentUser:n,cart:r}=aa(),i=dle(),a=fle(),[s,o]=T.useState(!1),[u,c]=T.useState(!1);if(T.useEffect(()=>{u?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[u]),a.pathname==="/ebook-studio"||a.pathname==="/login"||a.pathname.startsWith("/site/"))return null;const f=()=>{n(null,Ut.GUEST),o(!1),c(!1),i("/")},h=r.reduce((w,E)=>w+E.quantity,0),g=[{label:"Store",path:"/store",icon:b.jsx(w2,{className:"w-5 h-5"})},{label:"Plans",path:"/pricing",icon:b.jsx(yi,{className:"w-5 h-5"})}],v=a.pathname==="/";return b.jsxs(b.Fragment,{children:[b.jsx("nav",{className:"fixed top-0 left-0 right-0 w-full z-50 h-16 border-b border-white/5 bg-[#000000]/60 backdrop-blur-xl shadow-[0_4px_30px_rgba(0,0,0,0.1)] transition-all duration-300 ease-obsidian animate-slide-down will-change-transform",children:b.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 h-full flex items-center justify-between",children:[b.jsxs(Si,{to:"/",className:"flex items-center gap-3 group z-50 relative",children:[b.jsx(Hh,{className:"w-9 h-9 border border-white/20 bg-[#111] shadow-[0_0_10px_rgba(255,255,255,0.1)] rounded-full transition-transform duration-300 ease-obsidian group-hover:scale-110 will-change-transform"}),b.jsx("span",{className:"font-bold tracking-tighter text-lg text-white group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-white group-hover:via-neutral-300 group-hover:to-white group-hover:animate-shine transition-all",children:"co-writter"})]}),b.jsx("div",{className:"hidden md:flex items-center gap-8 absolute left-1/2 -translate-x-1/2",children:g.map(w=>b.jsxs(Si,{to:w.path,className:`text-sm font-medium transition-all duration-300 ease-obsidian flex items-center gap-2 hover:scale-105 ${a.pathname===w.path?"text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]":"text-neutral-400 hover:text-white"}`,children:[w.icon,w.label]},w.path))}),b.jsxs("div",{className:"flex items-center gap-4 z-50",children:[v&&b.jsx(Si,{to:"/store",className:"relative w-10 h-10 flex md:hidden items-center justify-center text-neutral-400 hover:text-white transition-all hover:scale-110 active:scale-95 duration-200 ease-obsidian flex-shrink-0 overflow-visible group","aria-label":"Go to Store",children:b.jsx(w2,{className:"w-5 h-5 group-hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.5)] transition-all"})}),b.jsxs(Si,{to:"/checkout",className:`relative w-10 h-10 items-center justify-center text-neutral-400 hover:text-white transition-all hover:scale-110 active:scale-95 duration-200 ease-obsidian flex-shrink-0 overflow-visible group ${v?"hidden md:flex":"flex"}`,"aria-label":"View Cart",children:[b.jsx(Pk,{className:"w-5 h-5 group-hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.5)] transition-all"}),h>0&&b.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-white text-black text-[9px] font-bold border border-black animate-pulse-square shadow-sm z-10",children:h})]}),b.jsx("div",{className:"h-6 w-px bg-white/10 mx-2 hidden sm:block"}),b.jsx("div",{className:"relative hidden md:block",children:t&&e!==Ut.GUEST?b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs(Si,{to:"/ebook-studio",className:"hidden lg:flex px-4 py-1.5 bg-white text-black hover:bg-neutral-200 text-xs font-bold uppercase tracking-widest rounded-full transition-all duration-300 ease-obsidian hover:scale-105 active:scale-95 items-center gap-2 shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:[b.jsx(Au,{className:"w-3 h-3"})," Write"]}),b.jsx("button",{onClick:()=>o(!s),className:"flex items-center gap-2",children:b.jsx("div",{className:"w-8 h-8 rounded-full bg-neutral-900 border border-white/20 flex items-center justify-center text-xs font-bold text-white hover:border-white transition-all duration-300 hover:shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:t.profileImageUrl?b.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-full h-full object-cover rounded-full"}):t.name.charAt(0)})}),s&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),b.jsxs("div",{className:"absolute right-0 top-12 mt-2 w-56 bg-[#0a0a0a] border border-white/10 shadow-2xl py-1 z-20 origin-top-right rounded-lg animate-slide-up-stagger",children:[b.jsxs("div",{className:"px-4 py-3 border-b border-white/5 mb-1",children:[b.jsx("p",{className:"text-sm font-bold text-white truncate",children:t.name}),b.jsx("p",{className:"text-[10px] text-neutral-500 uppercase font-mono",children:e==="seller"?"Writer Account":"Reader Account"})]}),b.jsx(Si,{to:"/dashboard",onClick:()=>o(!1),className:"block px-4 py-2 text-sm text-neutral-300 hover:bg-white/5 hover:text-white transition-colors",children:"My Profile"}),b.jsx(Si,{to:"/ebook-studio",onClick:()=>o(!1),className:"block px-4 py-2 text-sm text-neutral-300 hover:bg-white/5 hover:text-white transition-colors lg:hidden",children:"Write Book"}),b.jsx("button",{onClick:f,className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-white/5 transition-colors",children:"Sign out"})]})]})]}):b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Si,{to:"/login",className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-neutral-400 hover:text-white transition-colors hover:scale-105 duration-200",children:"Login"}),b.jsx(Si,{to:"/pricing",className:"px-5 py-2 text-xs font-bold uppercase tracking-widest text-black bg-white hover:bg-neutral-200 transition-all duration-300 ease-obsidian rounded-full hover:shadow-[0_0_15px_rgba(255,255,255,0.3)] hover:scale-105",children:"Start Free"})]})}),b.jsx("button",{className:"md:hidden p-2 text-neutral-400 hover:text-white relative z-50 transition-transform active:scale-90",onClick:()=>c(!u),children:u?b.jsx(XE,{className:"w-6 h-6"}):b.jsx(C8,{className:"w-6 h-6"})})]})]})}),u&&b.jsx("div",{className:"fixed inset-0 z-40 bg-black/95 backdrop-blur-xl md:hidden flex flex-col pt-24 pb-8 px-6 animate-fade-in",children:b.jsxs("div",{className:"flex flex-col gap-6",children:[b.jsxs(Si,{to:"/",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-100",children:[b.jsx(Boe,{className:"w-6 h-6 text-neutral-500"})," Home"]}),g.map((w,E)=>b.jsxs(Si,{to:w.path,onClick:()=>c(!1),className:`text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-${(E+2)*100}`,children:[b.jsx("span",{className:"text-neutral-500",children:w.icon}),w.label]},w.path)),t?b.jsxs(b.Fragment,{children:[b.jsxs(Si,{to:"/dashboard",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-300",children:[b.jsx(Hh,{className:"w-6 h-6 rounded-full border border-white/20",isActive:!1})," My Profile"]}),b.jsxs(Si,{to:"/ebook-studio",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-400",children:[b.jsx(Au,{className:"w-6 h-6 text-neutral-500"})," Write Book"]}),b.jsx("button",{onClick:f,className:"text-left text-xl font-bold text-red-500 py-4 mt-4 animate-slide-up-stagger delay-400",children:"Sign Out"})]}):b.jsxs("div",{className:"mt-8 flex flex-col gap-4 animate-slide-up-stagger delay-400",children:[b.jsx(Si,{to:"/login",onClick:()=>c(!1),className:"w-full py-4 bg-white/5 border border-white/10 text-white font-bold text-center rounded-full",children:"Login"}),b.jsx(Si,{to:"/pricing",onClick:()=>c(!1),className:"w-full py-4 bg-white text-black font-bold text-center rounded-full shadow-glow-white",children:"Start Free"})]})]})})]})},{Link:Ev,useLocation:ple}=bi,mle=()=>{const t=ple(),e=T.useRef(null);return T.useEffect(()=>{e.current&&window.anime&&(window.anime.remove(".wave-path-1"),window.anime.remove(".wave-path-2"),window.anime.remove(".wave-path-3"),window.anime({targets:".wave-path-1",translateX:[0,-1440],duration:2e4,easing:"linear",loop:!0}),window.anime({targets:".wave-path-2",translateX:[0,-1440],duration:15e3,easing:"linear",loop:!0}),window.anime({targets:".wave-path-3",translateX:[0,-1440],duration:8e3,easing:"linear",loop:!0}))},[t.pathname]),t.pathname==="/ebook-studio"||t.pathname.startsWith("/site/")||t.pathname==="/dashboard"||t.pathname.startsWith("/read/")?null:b.jsxs("div",{className:"relative mt-48",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full overflow-hidden leading-[0] transform -translate-y-[99%] z-0",style:{height:"200px"},children:b.jsxs("svg",{ref:e,className:"relative block w-full h-full",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:[b.jsx("path",{className:"wave-path-1 fill-[#1a1a1a] opacity-100",d:"M0,160 Q360,240 720,160 T1440,160 T2160,160 T2880,160 V320 H0 Z"}),b.jsx("path",{className:"wave-path-2 fill-[#0d0d0d] opacity-100",d:"M0,192 Q360,112 720,192 T1440,192 T2160,192 T2880,192 V320 H0 Z"}),b.jsx("path",{className:"wave-path-3 fill-[#000000]",d:"M0,224 Q360,284 720,224 T1440,224 T2160,224 T2880,224 V320 H0 Z"})]})}),b.jsx("footer",{className:"bg-[#000000] text-neutral-500 py-12 relative z-10 border-t-0",children:b.jsx("div",{className:"container mx-auto px-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left gap-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-white font-black text-3xl mb-3 tracking-tighter lowercase flex items-center justify-center md:justify-start gap-2",children:Ts}),b.jsxs("p",{className:"font-mono text-sm opacity-60 max-w-xs mx-auto md:mx-0",children:[" ",new Date().getFullYear()," All rights reserved."]}),b.jsxs("div",{className:"mt-6 space-y-2",children:[b.jsx("p",{className:"text-xs text-neutral-400 font-medium uppercase tracking-widest",children:"Where Thought Becomes Literature"}),b.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 opacity-80 hover:opacity-100 transition-opacity mt-2",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse shadow-[0_0_10px_rgba(99,102,241,0.5)]"}),b.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-500",children:["Neural Engine: ",joe]})]})]})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4",children:[b.jsx(Ev,{to:"/contact",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Contact"}),b.jsx(Ev,{to:"/terms-and-conditions",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Terms"}),b.jsx(Ev,{to:"/privacy-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Privacy"}),b.jsx(Ev,{to:"/refund-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Refunds"}),b.jsx(Ev,{to:"/shipping-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Shipping"})]})]})})})]})},{Link:sN,useNavigate:gle}=bi,Av=({icon:t,label:e})=>b.jsxs("div",{className:"flex flex-col items-center gap-4 group cursor-default transition-all duration-300 hover:-translate-y-2",children:[b.jsxs("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-3xl bg-white/5 border border-white/10 flex items-center justify-center text-neutral-500 group-hover:text-white group-hover:bg-white/10 group-hover:border-white/30 group-hover:shadow-[0_0_30px_rgba(255,255,255,0.1)] transition-all duration-300 shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"relative z-10 transform transition-transform duration-300 group-hover:scale-110",children:t})]}),b.jsx("span",{className:"text-xs md:text-sm font-bold uppercase tracking-widest text-neutral-600 group-hover:text-neutral-300 transition-colors",children:e})]}),yle=()=>b.jsxs("svg",{viewBox:"-10.5 -9.45 21 18.9",className:"w-12 h-12 md:w-16 md:h-16 fill-current text-[#61DAFB]",children:[b.jsx("circle",{cx:"0",cy:"0",r:"2",fill:"currentColor"}),b.jsxs("g",{stroke:"currentColor",strokeWidth:"1",fill:"none",children:[b.jsx("ellipse",{rx:"10",ry:"4.5"}),b.jsx("ellipse",{rx:"10",ry:"4.5",transform:"rotate(60)"}),b.jsx("ellipse",{rx:"10",ry:"4.5",transform:"rotate(120)"})]})]}),vle=()=>b.jsxs("svg",{viewBox:"0 0 32 32",className:"w-12 h-12 md:w-16 md:h-16 text-[#646CFF]",children:[b.jsx("path",{d:"M30.3 5.4L16.6 29.5 2.8 5.4h27.5z",fill:"currentColor",fillOpacity:"0.2"}),b.jsx("path",{d:"M16.6 29.5L2.8 5.4h11l2.8 17.5 2.8-17.5h10.9L16.6 29.5z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),b.jsx("path",{d:"M2.8 5.4h11L16.6 29.5 2.8 5.4z",fill:"currentColor",fillOpacity:"0.1"})]}),ble=()=>b.jsxs("svg",{viewBox:"0 0 128 128",className:"w-12 h-12 md:w-16 md:h-16 text-[#3178C6]",children:[b.jsx("rect",{width:"128",height:"128",rx:"20",fill:"currentColor",fillOpacity:"0.1"}),b.jsx("path",{d:"M29.1 56.1h21.9v10.4h-7.9v35.1h-11v-35.1h-7.9v-10.4h4.9zm41.6 34.6c2.4 1.7 6.4 3.7 10.4 3.7 4.2 0 6.2-2.1 6.2-5.1 0-8.6-24.6-9-24.6-25.1 0-9.8 8.1-16.7 21.6-16.7 6.5 0 10.9 1.6 13.9 3l-2.6 10.4c-2.6-1.3-6.4-2.7-10.7-2.7-4.1 0-6.1 2.2-6.1 4.7 0 8.3 24.6 9.3 24.6 25 0 10.5-9.1 17.1-22.1 17.1-6.8 0-12.7-2.1-15.6-3.8l3-10.5z",fill:"currentColor"})]}),xle=()=>b.jsx("svg",{viewBox:"0 0 24 24",className:"w-12 h-12 md:w-16 md:h-16 fill-current text-[#38B2AC]",children:b.jsx("path",{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"})}),wle=()=>b.jsxs("svg",{viewBox:"0 0 24 24",className:"w-12 h-12 md:w-16 md:h-16",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),Sle=()=>{const t=gle(),{currentUser:e}=aa();return b.jsxs("div",{className:"min-h-screen bg-transparent text-white selection:bg-google-blue/30 overflow-x-hidden",children:[b.jsxs("section",{className:"relative min-h-[90vh] flex flex-col items-center justify-center px-6 text-center pt-32 pb-20 z-10",children:[b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-google-blue/10 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"relative z-10 animate-slide-up flex flex-col items-center max-w-5xl mx-auto",children:[b.jsx("div",{className:"mb-8 md:mb-10 scale-100 hover:scale-105 transition-transform duration-500",children:b.jsx(Hh,{className:"w-24 h-24 md:w-40 md:h-40 bg-[#050505] shadow-[0_0_80px_rgba(255,255,255,0.15)] border border-white/30 rounded-full"})}),b.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-black tracking-tighter mb-6 leading-[0.95] md:leading-[0.9] drop-shadow-2xl",children:["Turn Your Ideas",b.jsx("br",{}),b.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-neutral-200 to-neutral-500",children:"Into Books."})]}),b.jsxs("p",{className:"text-base md:text-xl text-neutral-300 max-w-2xl mb-10 leading-relaxed px-4 drop-shadow-md",children:["The easiest way to write, read, and sell books with AI.",b.jsx("br",{className:"my-2 block"}),b.jsxs("span",{className:"inline-block mt-1",children:["Powered by ",b.jsx("span",{className:"text-white font-mono font-bold border-b border-white/20 pb-0.5",children:"GOOGLE"}),"."]})]}),b.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto px-4",children:e?b.jsxs("button",{onClick:()=>t("/ebook-studio"),className:"w-full sm:w-auto px-10 py-4 bg-white text-black font-bold text-lg rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.4)] flex items-center justify-center gap-2 group",children:[b.jsx(Au,{className:"w-5 h-5 group-hover:-translate-y-1 transition-transform"}),"Start Writing"]}):b.jsxs(b.Fragment,{children:[b.jsx(sN,{to:"/login",className:"w-full sm:w-auto px-10 py-4 bg-white text-black font-bold text-lg rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.4)] flex items-center justify-center gap-2",children:"Start Creating"}),b.jsx(sN,{to:"/login",className:"w-full sm:w-auto px-10 py-4 bg-black/40 border border-white/20 text-white font-bold text-lg rounded-full hover:bg-white/10 transition-colors backdrop-blur-md",children:"Sign In"})]})}),b.jsxs("div",{className:"mt-12 flex flex-col md:flex-row items-center gap-4 md:gap-8 text-neutral-400 text-xs font-mono uppercase tracking-widest",children:[b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(Jr,{className:"w-3 h-3 text-google-green"})," Easy to Use"]}),b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(Jr,{className:"w-3 h-3 text-google-green"})," Free to Start"]}),b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx(Jr,{className:"w-3 h-3 text-google-green"})," Instant Publishing"]})]})]})]}),b.jsx("section",{className:"py-24 px-6 border-b border-white/5 relative z-10",children:b.jsx("div",{className:"max-w-7xl mx-auto",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-105 transition-all duration-300 group relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-indigo-500/30 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 shadow-[0_0_20px_rgba(99,102,241,0.2)]",children:b.jsx(Woe,{className:"w-7 h-7 text-indigo-400 drop-shadow-[0_0_8px_rgba(129,140,248,0.5)]"})}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"AI Co-Author"}),b.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Write with AI. Plan your chapters, write full pages, and fix grammar easily with our writing tools."})]}),b.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-110 transition-all duration-300 group relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-emerald-500/30 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-[0_0_20px_rgba(16,185,129,0.2)]",children:b.jsx(Au,{className:"w-7 h-7 text-emerald-400 drop-shadow-[0_0_8px_rgba(52,211,153,0.5)]"})}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Sell Your Books"}),b.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Publish your book instantly. Get your own profile link and keep 70% of every sale you make."})]}),b.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-110 transition-all duration-300 group relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-amber-500/30 bg-gradient-to-br from-amber-500/20 to-orange-500/20 shadow-[0_0_20px_rgba(245,158,11,0.2)]",children:b.jsx(yi,{className:"w-7 h-7 text-amber-400 drop-shadow-[0_0_8px_rgba(251,191,36,0.5)]"})}),b.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Easy Reading"}),b.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Read comfortably on any device. Support for PDF uploads and a distraction-free reading mode."})]})]})})}),b.jsx("section",{className:"py-24 px-6 relative overflow-hidden z-10",children:b.jsxs("div",{className:"max-w-4xl mx-auto text-center bg-black/30 backdrop-blur-lg border border-white/5 p-12 rounded-[40px] shadow-2xl relative",children:[b.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1/2 h-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),b.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-8 tracking-tight",children:"Built for Everyone"}),b.jsx("p",{className:"text-lg md:text-xl text-neutral-400 leading-relaxed mb-12 font-light",children:"Co-Writter isn't just a tool; it's a partner. We believe that everyone has a story worth telling, and with the right help, anyone can become an author."}),b.jsx(sN,{to:"/store",className:"inline-flex items-center gap-2 text-white font-bold border-b border-white pb-1 hover:opacity-70 transition-opacity tracking-widest uppercase text-sm",children:"Browse the Library "})]})}),b.jsx("section",{className:"py-20 border-t border-b border-white/5 bg-black/40 backdrop-blur relative z-20",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[b.jsx("p",{className:"text-center text-xs font-bold uppercase tracking-[0.3em] text-neutral-500 mb-12",children:"Built With Modern Architecture"}),b.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-16",children:[b.jsx(Av,{label:"Google Gemini",icon:b.jsx(wle,{})}),b.jsx(Av,{label:"React 18",icon:b.jsx(yle,{})}),b.jsx(Av,{label:"TypeScript",icon:b.jsx(ble,{})}),b.jsx(Av,{label:"Tailwind CSS",icon:b.jsx(xle,{})}),b.jsx(Av,{label:"Vite",icon:b.jsx(vle,{})})]})]})})]})},{useNavigate:Ele}=bi,P8=({book:t,onViewDetails:e})=>{const{addToCart:n}=aa(),r=Ele(),i=t.price===0,a=o=>{o.stopPropagation(),i?r(`/read/${t.id}`):n(t)},s=()=>{e&&e(t.id)};return b.jsxs("div",{className:"group relative bg-black/40 backdrop-blur-sm rounded-[20px] overflow-hidden border border-white/10 hover:border-white/30 transition-all duration-500 ease-obsidian cursor-pointer flex flex-col h-full hover:-translate-y-2 hover:shadow-[0_20px_40px_-10px_rgba(0,0,0,0.5)] will-change-transform",onClick:s,children:[b.jsxs("div",{className:"w-full aspect-[3/4] relative overflow-hidden bg-[#050505] border-b border-white/5",children:[b.jsx("img",{src:t.coverImageUrl||"https://picsum.photos/400/600",alt:`Cover of ${t.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ease-obsidian opacity-90 group-hover:opacity-100 will-change-transform",loading:"lazy"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500"}),b.jsx("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:i&&b.jsx("div",{className:"bg-white text-black text-[9px] font-bold px-3 py-1 uppercase tracking-widest rounded-full shadow-lg",children:"Free"})})]}),b.jsxs("div",{className:"p-5 flex flex-col flex-grow relative",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("div",{className:"flex items-center justify-between mb-2",children:b.jsx("span",{className:"text-[9px] font-bold text-neutral-500 uppercase tracking-widest border border-white/10 px-2 py-0.5 rounded-full",children:t.genre})}),b.jsx("h3",{className:"text-lg font-bold text-white leading-tight line-clamp-2 mb-1 group-hover:text-neutral-200 transition-colors",title:t.title,children:t.title}),b.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-widest line-clamp-1",children:t.author})]}),b.jsxs("div",{className:"mt-auto pt-4 border-t border-white/5 flex items-center justify-between",children:[b.jsx("span",{className:"text-lg font-light text-white font-mono",children:i?"FREE":`${t.price.toFixed(0)}`}),b.jsx("button",{onClick:a,className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 transition-all duration-300 ease-obsidian hover:scale-105 active:scale-95 ${i?"bg-white/10 text-white hover:bg-white hover:text-black border border-white/20":"bg-white text-black hover:bg-neutral-200 shadow-[0_0_15px_rgba(255,255,255,0.2)]"}`,children:i?b.jsxs(b.Fragment,{children:["Read ",b.jsx(yi,{className:"w-3 h-3"})]}):b.jsxs(b.Fragment,{children:["Add ",b.jsx(Pk,{className:"w-3 h-3"})]})})]})]})]})},Ale=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{const a=T.useRef(null);if(T.useLayoutEffect(()=>{t&&a.current&&(a.current.scrollTop=0)},[t]),!t)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-[95vw] h-[95vh]"};return tte.createPortal(b.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-xl flex items-center justify-center z-[100] p-4 transition-opacity duration-300 ease-in-out animate-fade-in",onClick:e,role:"dialog","aria-modal":"true",children:b.jsxs("div",{className:`bg-black rounded-[32px] shadow-[0_0_100px_rgba(0,0,0,1)] relative w-full ${s[i]} border border-white/15 flex flex-col max-h-[90vh] overflow-hidden animate-slide-up ring-1 ring-white/5`,onClick:o=>o.stopPropagation(),children:[b.jsx("button",{onClick:e,className:"absolute top-5 right-5 z-20 w-10 h-10 flex items-center justify-center rounded-full bg-black/50 border border-white/10 text-neutral-400 hover:text-white hover:bg-white/10 hover:border-white/30 transition-all hover:rotate-90 backdrop-blur-md","aria-label":"Close modal",children:b.jsx(XE,{className:"w-5 h-5"})}),n&&b.jsx("div",{className:"px-8 py-6 border-b border-white/5 bg-white/[0.02] flex-shrink-0",children:b.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:n})}),b.jsx("div",{ref:a,className:"p-0 overflow-y-auto custom-scrollbar flex-1",children:r})]})}),document.body)},oN=({options:t,value:e,onChange:n,icon:r,className:i="",placeholder:a})=>{const[s,o]=T.useState(!1),u=T.useRef(null),c=t.find(f=>f.value===e);return T.useEffect(()=>{const f=h=>{u.current&&!u.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),b.jsxs("div",{className:`relative ${i}`,ref:u,children:[b.jsxs("button",{type:"button",onClick:()=>o(!s),className:`flex items-center justify-between gap-3 w-full px-4 py-3 rounded-full border transition-all duration-200 h-full ${s?"bg-white text-black border-white":"bg-white/5 text-white border-transparent hover:bg-white/10 hover:border-white/10"}`,children:[b.jsxs("div",{className:"flex items-center gap-2 truncate min-w-0",children:[r&&b.jsx("span",{className:s?"text-black":"text-neutral-400",children:r}),b.jsx("span",{className:"text-sm font-bold truncate",children:c?c.label:a||"Select"})]}),b.jsx(_8,{className:`w-3 h-3 transition-transform duration-300 flex-shrink-0 ${s?"rotate-180 text-black":"text-neutral-500"}`})]}),s&&b.jsx("div",{className:"absolute top-full mt-2 left-0 w-full min-w-[180px] bg-[#1a1a1a] border border-white/10 rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.5)] overflow-hidden z-[60] animate-slide-down origin-top p-1",children:b.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:t.map(f=>b.jsx("button",{onClick:()=>{n(f.value),o(!1)},className:`w-full text-left px-4 py-2.5 text-sm rounded-xl transition-all mb-0.5 last:mb-0 ${e===f.value?"bg-white text-black font-bold":"text-neutral-400 hover:bg-white/5 hover:text-white font-medium"}`,children:f.label},f.value))})})]})},{useNavigate:_le}=bi,Cle=()=>{const{addToCart:t,allBooks:e}=aa(),n=_le(),[r,i]=T.useState(""),[a,s]=T.useState("All"),[o,u]=T.useState("All"),[c,f]=T.useState("publicationDate"),[h,g]=T.useState(!1),[v,w]=T.useState(null),A=T.useMemo(()=>["All",...new Set(e.map(M=>M.genre))],[e]).map(M=>({label:M==="All"?"All Genres":M,value:M})),C=[{label:"All Prices",value:"All"},{label:"Free Only",value:"Free"},{label:"Paid Only",value:"Paid"}],P=[{label:"Newest First",value:"publicationDate"},{label:"Title (A-Z)",value:"title"},{label:"Price (Low-High)",value:"price"}],R=T.useMemo(()=>{let M=e.filter(z=>z.title.toLowerCase().includes(r.toLowerCase())||z.author.toLowerCase().includes(r.toLowerCase()));return a!=="All"&&(M=M.filter(z=>z.genre===a)),o==="Free"?M=M.filter(z=>z.price===0):o==="Paid"&&(M=M.filter(z=>z.price>0)),M.sort((z,B)=>c==="title"?z.title.localeCompare(B.title):c==="price"?z.price-B.price:c==="publicationDate"?new Date(B.publicationDate).getTime()-new Date(z.publicationDate).getTime():0)},[r,a,o,c,e]),I=T.useMemo(()=>e.find(M=>M.title.includes("Manual"))||e.find(M=>M.price>0)||e[0],[e]),k=M=>{const z=e.find(B=>B.id===M);z&&(w(z),g(!0))},L=()=>{v&&(v.price===0?n(`/read/${v.id}`):t(v),g(!1))};return b.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-24 pb-safe md:pb-24 overflow-x-hidden",children:[I&&!r&&a==="All"&&b.jsxs("div",{className:"relative w-full rounded-[32px] overflow-hidden mb-12 md:mb-16 group border border-white/10 shadow-2xl animate-fade-in flex flex-col md:block h-auto md:h-[500px]",children:[b.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-[2s] group-hover:scale-105",style:{backgroundImage:`url(${I.coverImageUrl})`}}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent md:bg-gradient-to-r md:from-black md:via-black/80 md:to-transparent"}),b.jsxs("div",{className:"relative z-10 p-8 md:p-16 flex flex-col justify-end md:justify-center min-h-[400px] md:h-full max-w-2xl",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-brand-accent/20 border border-brand-accent/30 w-fit mb-4 md:mb-6 backdrop-blur-md rounded-full animate-slide-up",children:[b.jsx(R8,{className:"w-3 h-3 text-brand-accent fill-current"}),b.jsx("span",{className:"text-[10px] md:text-xs font-bold text-brand-accent uppercase tracking-widest",children:"Featured Release"})]}),b.jsx("h1",{className:"text-3xl md:text-6xl font-black text-white mb-3 md:mb-4 leading-tight tracking-tight drop-shadow-lg",children:I.title}),b.jsx("p",{className:"text-sm md:text-xl text-neutral-300 mb-6 md:mb-8 line-clamp-3 leading-relaxed drop-shadow-md",children:I.description}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[b.jsx("button",{onClick:()=>k(I.id),className:"bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold py-3.5 px-8 rounded-full hover:bg-white hover:text-black transition-all text-xs uppercase tracking-widest",children:"View Details"}),b.jsx("button",{onClick:()=>{I.price===0?n(`/read/${I.id}`):t(I)},className:"px-8 py-3.5 rounded-full bg-white text-black font-bold transition-all hover:scale-105 flex items-center justify-center gap-2 text-xs uppercase tracking-widest",children:I.price===0?b.jsxs(b.Fragment,{children:[b.jsx(yi,{className:"w-4 h-4"})," Read Now"]}):b.jsxs(b.Fragment,{children:[b.jsx(Pk,{className:"w-4 h-4"})," Add to Cart"]})})]})]})]}),b.jsx("div",{className:"sticky top-20 z-30 mx-auto w-full mb-8 transition-all duration-300",children:b.jsxs("div",{className:"bg-black/90 backdrop-blur-xl border border-white/10 shadow-xl rounded-[24px] p-2 md:p-3 flex flex-col md:flex-row gap-2 md:gap-3 items-stretch",children:[b.jsxs("div",{className:"relative group w-full flex-grow",children:[b.jsx(S2,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-500 group-focus-within:text-white transition-colors"}),b.jsx("input",{type:"text",placeholder:"Search books, authors...",className:"w-full h-full bg-white/5 border border-transparent focus:border-white/10 rounded-full py-3 pl-10 pr-4 text-white placeholder-neutral-500 focus:outline-none focus:bg-white/10 transition-all text-sm font-bold min-h-[48px]",value:r,onChange:M=>i(M.target.value)})]}),b.jsxs("div",{className:"grid grid-cols-2 md:flex gap-2 w-full md:w-auto",children:[b.jsx(oN,{options:A,value:a,onChange:s,className:"w-full md:w-auto md:min-w-[160px]",placeholder:"Genres"}),b.jsx(oN,{options:C,value:o,onChange:M=>u(M),className:"w-full md:w-auto md:min-w-[130px]",placeholder:"Price"}),b.jsx(oN,{options:P,value:c,onChange:f,className:"col-span-2 md:col-span-1 w-full md:w-auto md:min-w-[150px]",placeholder:"Sort By"})]})]})}),R.length>0?b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 pb-20",children:R.map(M=>b.jsx(P8,{book:M,onViewDetails:k},M.id))}):b.jsxs("div",{className:"flex flex-col items-center justify-center py-20 border border-dashed border-white/10 rounded-3xl bg-white/5 text-center px-4",children:[b.jsx(S2,{className:"w-12 h-12 text-neutral-600 mb-4"}),b.jsx("p",{className:"text-xl text-white font-bold",children:"No books found"}),b.jsx("p",{className:"text-neutral-500 mt-2 text-sm",children:"Try adjusting your filters."})]}),v&&b.jsx(Ale,{isOpen:h,onClose:()=>g(!1),title:"",size:"lg",children:b.jsxs("div",{className:"flex flex-col md:flex-row h-full max-h-[85vh] overflow-y-auto md:overflow-hidden bg-black",children:[b.jsxs("div",{className:"w-full md:w-5/12 bg-neutral-900 relative",children:[b.jsx("img",{src:v.coverImageUrl,alt:v.title,className:"w-full h-full object-cover opacity-90"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),b.jsxs("div",{className:"w-full md:w-7/12 flex flex-col p-6 md:p-10",children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-brand-accent mb-2 block",children:v.genre}),b.jsx("h2",{className:"text-2xl md:text-4xl font-black text-white leading-none mb-2",children:v.title}),b.jsxs("p",{className:"text-base text-neutral-400",children:["by ",v.author]})]}),b.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-2 mb-6",children:b.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed font-light",children:v.description})}),b.jsxs("div",{className:"mt-auto pt-6 border-t border-white/10 flex items-center justify-between",children:[b.jsx("span",{className:"text-3xl font-bold text-white",children:v.price===0?"Free":`${v.price}`}),b.jsx("button",{onClick:L,className:"bg-white text-black px-8 py-3 rounded-full font-bold text-xs uppercase tracking-widest hover:bg-neutral-200",children:v.price===0?"Read Now":"Add to Cart"})]})]})]})})]})},{useNavigate:Tle}=bi,Nle=()=>{const{currentUser:t,setCurrentUser:e,userType:n,upgradeToSeller:r}=aa(),i=t,a=Tle(),[s,o]=T.useState("library"),[u,c]=T.useState(""),f=T.useRef(null);if(!i)return null;const h=()=>{e(null,n),a("/")},g=C=>{var R;const P=(R=C.target.files)==null?void 0:R[0];if(P){const I=new FileReader;I.onloadend=()=>{const k=I.result,L={...i,profileImageUrl:k};e(L,n)},I.readAsDataURL(P)}},v=({id:C,label:P,icon:R})=>b.jsxs("button",{onClick:()=>o(C),className:`w-full flex items-center gap-4 px-6 py-3.5 text-sm font-medium rounded-r-full transition-all duration-200 group ${s===C?"bg-[#4285f4]/15 text-[#a8c7fa] border-l-4 border-[#4285f4]":"text-neutral-400 hover:bg-white/5 hover:text-white border-l-4 border-transparent"}`,children:[b.jsx(R,{className:`w-5 h-5 ${s===C?"text-[#a8c7fa]":"text-neutral-500 group-hover:text-white"}`}),P]}),w=({id:C,label:P,icon:R})=>b.jsxs("button",{onClick:()=>o(C),className:`flex flex-col items-center justify-center py-2 px-4 flex-1 transition-colors ${s===C?"text-white":"text-neutral-500 hover:text-neutral-300"}`,children:[b.jsx(R,{className:`w-6 h-6 mb-1 ${s===C?"text-[#a8c7fa]":"text-current"}`}),b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:P})]}),E=s==="wishlist"?i.wishlist:i.purchaseHistory,A=E==null?void 0:E.filter(C=>C.title.toLowerCase().includes(u.toLowerCase()));return b.jsxs("div",{className:"h-screen w-full bg-[#0b0b0b] font-sans text-white pt-16 flex overflow-hidden",children:[b.jsxs("aside",{className:"w-64 flex-shrink-0 border-r border-white/5 hidden md:flex flex-col bg-[#0b0b0b] z-20 h-full overflow-y-auto",children:[b.jsx("div",{className:"p-6",children:b.jsxs("button",{onClick:()=>a("/store"),className:"w-full py-4 bg-white text-black font-bold rounded-2xl shadow-lg hover:shadow-xl hover:bg-neutral-200 transition-all flex items-center justify-center gap-2",children:[b.jsx(yi,{className:"w-5 h-5"})," Store"]})}),b.jsxs("nav",{className:"flex-1 space-y-1 pr-4",children:[b.jsx(v,{id:"library",label:"My Library",icon:yi}),b.jsx(v,{id:"wishlist",label:"Wishlist",icon:V4}),b.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),b.jsx(v,{id:"settings",label:"Profile Settings",icon:u0})]}),b.jsxs("div",{className:"p-6 border-t border-white/5",children:[b.jsx("button",{onClick:r,className:"text-xs font-medium text-neutral-500 hover:text-white transition-colors mb-4 block",children:"Switch to Writer Mode"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-800 overflow-hidden border border-white/10",children:i.profileImageUrl?b.jsx("img",{src:i.profileImageUrl,alt:"",className:"w-full h-full object-cover"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-500 font-bold",children:i.name[0]})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"text-sm font-bold truncate",children:i.name}),b.jsx("p",{className:"text-xs text-neutral-500 truncate",children:i.email})]})]})]})]}),b.jsx("main",{className:"flex-1 h-full overflow-y-auto bg-[#0b0b0b] relative scroll-smooth",children:b.jsxs("div",{className:"p-4 md:p-8 pb-32",children:[" ",b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[b.jsxs("h1",{className:"text-2xl font-normal text-white",children:[s==="library"&&"My Library",s==="wishlist"&&"My Wishlist",s==="settings"&&"Settings"]}),(s==="library"||s==="wishlist")&&b.jsxs("div",{className:"relative w-full md:w-96 group",children:[b.jsx(S2,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500 group-focus-within:text-white transition-colors"}),b.jsx("input",{type:"text",placeholder:"Search your books...",value:u,onChange:C=>c(C.target.value),className:"w-full bg-[#1e1e1e] border-none rounded-full py-3 pl-12 pr-6 text-sm text-white placeholder-neutral-500 focus:ring-2 focus:ring-[#4285f4]/50 focus:bg-[#252525] transition-all outline-none"})]})]}),s==="settings"?b.jsx("div",{className:"max-w-2xl animate-fade-in mx-auto md:mx-0",children:b.jsxs("div",{className:"bg-[#1e1e1e] rounded-3xl p-6 md:p-8 mb-6",children:[b.jsx("h2",{className:"text-lg font-medium mb-6",children:"Profile Details"}),b.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 mb-8 text-center md:text-left",children:[b.jsxs("div",{className:"relative group",children:[b.jsx("div",{className:"w-24 h-24 rounded-full bg-neutral-800 border-4 border-[#0b0b0b] overflow-hidden",children:i.profileImageUrl?b.jsx("img",{src:i.profileImageUrl,alt:"",className:"w-full h-full object-cover"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl text-neutral-600",children:b.jsx(x2,{className:"w-10 h-10"})})}),b.jsx("button",{onClick:()=>{var C;return(C=f.current)==null?void 0:C.click()},className:"absolute bottom-0 right-0 p-2 bg-[#4285f4] rounded-full text-white shadow-lg hover:scale-110 transition-transform",children:b.jsx(u0,{className:"w-4 h-4"})}),b.jsx("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:g})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold",children:i.name}),b.jsx("p",{className:"text-neutral-400",children:i.email}),b.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-[#4285f4]/10 text-[#a8c7fa] text-xs font-bold rounded-full",children:"Reader Account"})]})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("button",{onClick:r,className:"w-full py-3 border border-white/10 rounded-xl hover:bg-white/5 transition-colors text-sm font-medium",children:"Become a Writer"}),b.jsxs("button",{onClick:h,className:"w-full py-3 flex items-center justify-center gap-2 text-red-400 hover:bg-red-500/10 rounded-xl transition-colors font-medium text-sm",children:[b.jsx(zoe,{className:"w-4 h-4"})," Sign Out"]})]})]})}):b.jsx("div",{className:"animate-fade-in",children:A&&A.length>0?b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6",children:A.map(C=>b.jsx("div",{className:"group",children:b.jsx(P8,{book:C})},C.id))}):b.jsxs("div",{className:"flex flex-col items-center justify-center py-20 md:py-32 text-center",children:[b.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-[#1e1e1e] rounded-full flex items-center justify-center mb-6",children:b.jsx(yi,{className:"w-8 h-8 text-neutral-600"})}),b.jsx("h3",{className:"text-lg md:text-xl font-medium text-white mb-2",children:s==="wishlist"?"Your wishlist is empty":"No books in library"}),b.jsx("p",{className:"text-neutral-500 mb-8 max-w-xs mx-auto text-sm",children:s==="wishlist"?"Save books you want to read later.":"Start your reading journey by exploring the store."}),b.jsx("button",{onClick:()=>a("/store"),className:"px-8 py-3 bg-[#4285f4] text-black font-bold rounded-full hover:bg-[#5b96f5] transition-colors",children:"Explore Books"})]})})]})}),b.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-[#0b0b0b]/90 backdrop-blur-xl border-t border-white/10 flex items-center justify-around z-50 pb-safe",children:[b.jsx(w,{id:"library",label:"Library",icon:yi}),b.jsx(w,{id:"wishlist",label:"Wishlist",icon:V4}),b.jsx(w,{id:"settings",label:"Profile",icon:u0})]})]})},y0=({size:t="md",color:e="bg-white"})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return b.jsxs("div",{className:"flex justify-center items-center gap-1",children:[b.jsx("div",{className:`${n[t]} ${e} opacity-20 animate-[pulse-square_1s_ease-in-out_infinite] rounded-sm`}),b.jsx("div",{className:`${n[t]} ${e} opacity-60 animate-[pulse-square_1s_ease-in-out_0.2s_infinite] rounded-sm`}),b.jsx("div",{className:`${n[t]} ${e} animate-[pulse-square_1s_ease-in-out_0.4s_infinite] rounded-sm`})]})},k8=({bookDetails:t,onPriceSuggested:e})=>{const[n,r]=T.useState(null),[i,a]=T.useState(!1),[s,o]=T.useState(null),u=async()=>{if(!t.title){o("Enter a title first.");return}a(!0),o(null);try{const c=await sle(t);c.match(/^\d+(\.\d{1,2})?$/)?(r(c),e(c)):o("Could not calculate.")}catch{o("Service unavailable.")}finally{a(!1)}};return b.jsxs("div",{className:"bg-[#151515] border border-white/5 rounded-2xl p-5 mt-4 flex flex-col md:flex-row items-center justify-between gap-4 group hover:border-white/10 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500/20 to-teal-900/20 border border-emerald-500/30 flex items-center justify-center text-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.15)] group-hover:shadow-[0_0_30px_rgba(16,185,129,0.25)] transition-shadow duration-500",children:b.jsx(Goe,{className:"w-6 h-6"})}),b.jsxs("div",{className:"absolute -top-1 -right-1 bg-white text-black text-[8px] font-black px-1.5 py-0.5 rounded-full flex items-center gap-0.5 border border-white shadow-sm",children:["AI ",b.jsx(kk,{className:"w-2 h-2"})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:"Smart Pricing Model"}),b.jsx("p",{className:"text-[10px] text-neutral-500 max-w-[200px]",children:"Analyze market trends & genre data to predict the optimal revenue point."})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[n&&b.jsxs("div",{className:"flex flex-col items-end mr-2 animate-fade-in",children:[b.jsx("span",{className:"text-[10px] text-neutral-500 uppercase tracking-widest font-bold",children:"Target Price"}),b.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[b.jsxs("span",{className:"text-xl font-black tracking-tighter",children:["",parseFloat(n).toFixed(0)]}),b.jsx(Jr,{className:"w-4 h-4 bg-emerald-500/20 rounded-full p-0.5"})]})]}),b.jsx("button",{onClick:u,disabled:i,className:"px-6 py-3 rounded-full bg-white text-black hover:bg-neutral-200 border border-transparent hover:border-white/50 transition-all font-bold text-[10px] uppercase tracking-widest disabled:opacity-50 shadow-glow-white hover:scale-105 active:scale-95 flex items-center gap-2",children:i?b.jsx(y0,{size:"sm",color:"text-black"}):"Optimize"})]}),s&&b.jsx("span",{className:"text-red-400 text-xs font-bold bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20",children:s})]})},Rle=["Cinematic","Minimalist","Fantasy","Sci-Fi","Cyberpunk","Oil Painting","Watercolor","3D Render","Photorealistic","Abstract","Noir","Vintage"],D8=({onCoverGenerated:t,currentTitle:e,currentAuthor:n})=>{const[r,i]=T.useState(""),[a,s]=T.useState("Cinematic"),[o,u]=T.useState(null),[c,f]=T.useState(!1),[h,g]=T.useState(null),v=async A=>{if(A.preventDefault(),!r.trim()){g("Please describe your vision.");return}f(!0),g(null);try{const C=await ole(r,a,e,n);"error"in C?(g(C.error),u(null)):(u(C),t(C))}catch{g("Generation failed. Please try again."),u(null)}finally{f(!1)}},w="w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-sm text-white focus:outline-none focus:border-white/30 transition-all duration-200 placeholder-neutral-600 font-sans",E="block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2";return b.jsxs("div",{className:"bg-[#151515] border border-white/5 rounded-2xl p-6 md:p-8",children:[b.jsxs("div",{className:"mb-6",children:[b.jsx("h4",{className:"text-base font-bold text-white",children:"AI Cover Designer"}),b.jsx("p",{className:"text-xs text-neutral-500",children:"Generate professional cover art instantly."})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:E,children:"Art Direction"}),b.jsxs("div",{className:"relative",children:[b.jsx("select",{value:a,onChange:A=>s(A.target.value),className:`${w} appearance-none cursor-pointer`,children:Rle.map(A=>b.jsx("option",{value:A,children:A},A))}),b.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-neutral-500",children:b.jsx(_8,{className:"w-4 h-4"})})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:E,children:"Visual Concept"}),b.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"e.g. A lone astronaut...",className:w})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsx("button",{type:"button",onClick:v,disabled:c||!r.trim(),className:"px-8 py-3 rounded-full bg-white text-black font-bold text-xs uppercase tracking-widest hover:bg-neutral-200 transition-all flex items-center justify-center disabled:opacity-50 shadow-[0_0_20px_rgba(255,255,255,0.2)] hover:scale-105 active:scale-95 min-w-[140px]",children:c?b.jsx(y0,{size:"sm",color:"text-black"}):"Generate Art"})}),h&&b.jsx("p",{className:"text-red-400 mt-4 text-xs bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:h}),o&&!h&&b.jsx("div",{className:"mt-8 pt-8 border-t border-white/5 animate-fade-in",children:b.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[b.jsx("div",{className:"relative w-32 h-48 rounded-lg overflow-hidden shadow-2xl border border-white/10 group",children:b.jsx("img",{src:`data:image/jpeg;base64,${o.imageBytes}`,alt:"Generated Cover",className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"flex-1 text-center md:text-left",children:[b.jsxs("h5",{className:"text-sm font-bold text-white mb-2 flex items-center justify-center md:justify-start gap-2",children:[b.jsx(Jr,{className:"w-4 h-4 text-green-500"})," Cover Applied"]}),b.jsx("p",{className:"text-xs text-neutral-500 mb-1",children:"The image has been automatically attached to your book."}),o.revisedPrompt&&b.jsxs("p",{className:"text-[10px] text-neutral-600 italic mt-2",children:['"',o.revisedPrompt.substring(0,80),'..."']})]})]})})]})},Up="w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-white placeholder-neutral-600 text-sm focus:outline-none focus:border-white/30 transition-all duration-200 font-sans",uf="block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",Mle=({onBookUploaded:t})=>{const{currentUser:e,userType:n}=aa(),[r,i]=T.useState(""),[a,s]=T.useState(""),[o,u]=T.useState(""),[c,f]=T.useState(""),[h,g]=T.useState("paid"),[v,w]=T.useState(""),[E,A]=T.useState(""),[C,P]=T.useState(null),[R,I]=T.useState(!1),[k,L]=T.useState(!1),[M,z]=T.useState(null),[B,V]=T.useState(null),U=async G=>{L(!0);try{const $=new FileReader;$.onload=async()=>{const ee=$.result,re=await ile(ee);re&&(re.title&&i(re.title),re.author&&s(re.author),re.description&&u(re.description),re.genre&&f(re.genre)),L(!1)},$.onerror=()=>{V("Error reading file."),L(!1)},$.readAsDataURL(G)}catch($){console.error($),V("Failed to analyze PDF."),L(!1)}},q=async G=>{const $=G.target.files?G.target.files[0]:null;P($),V(null),$&&$.type==="application/pdf"&&await U($)},Q=async G=>{if(G.preventDefault(),V(null),!r||!a||!o||!c){V("Missing required fields.");return}let $=0;if(h==="paid"){if(!v||isNaN(parseFloat(v))||parseFloat(v)<=0){V("Invalid Price.");return}$=parseFloat(v)}I(!0);const ee=e&&n===Ut.SELLER?e.id:"unknown_seller_id";let re;if(C)try{re=await new Promise((J,le)=>{const ge=new FileReader;ge.onload=()=>J(ge.result),ge.onerror=le,ge.readAsDataURL(C)})}catch{V("Failed to process file."),I(!1);return}const xe=re?[]:[{id:"1",title:"Chapter 1",pageNumber:1,content:`Welcome to ${r}.

Placeholder content.`}],W={id:`book-${Date.now()}-${Math.random().toString(36).substring(2,7)}`,title:r,author:a,description:o,genre:c,price:$,coverImageUrl:M?`data:image/jpeg;base64,${M.imageBytes}`:E||`https://picsum.photos/seed/${encodeURIComponent(r)}/400/600`,sellerId:ee,publicationDate:new Date().toISOString().split("T")[0],pages:xe,pdfUrl:re};t(W),i(""),s(""),u(""),f(""),w(""),A(""),P(null),z(null),I(!1)},Z=G=>{h==="paid"&&w(G)},ce=G=>{z(G),A("")};return b.jsxs("form",{onSubmit:Q,className:"bg-[#1e1e1e] border border-white/5 p-8 md:p-10 shadow-2xl relative overflow-hidden rounded-[32px] animate-fade-in",children:[b.jsxs("div",{className:"relative z-10 mb-8 border-b border-white/5 pb-8",children:[b.jsx("h2",{className:"text-3xl font-normal text-white mb-2",children:"Publish New Book"}),b.jsx("p",{className:"text-neutral-400 text-sm",children:"Upload a PDF or start a fresh manuscript."})]}),B&&b.jsxs("div",{className:"p-4 mb-8 text-red-400 bg-red-900/10 border border-red-500/20 text-sm font-medium rounded-xl flex items-center gap-2",children:[b.jsx(Jr,{className:"w-4 h-4 text-red-500"}),B]}),b.jsxs("div",{className:`relative h-48 border border-dashed transition-all duration-300 mb-10 flex flex-col items-center justify-center gap-4 group rounded-3xl ${k?"bg-white/5 border-white/30":"bg-[#0b0b0b] border-white/10 hover:border-white/30"}`,children:[k?b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx(y0,{size:"md",color:"text-white"}),b.jsx("p",{className:"mt-4 text-white font-bold text-xs uppercase tracking-widest animate-pulse",children:"Analyzing Content..."})]}):b.jsxs("label",{htmlFor:"ebookFile",className:"flex flex-col items-center justify-center cursor-pointer w-full h-full",children:[b.jsx("div",{className:"w-12 h-12 bg-[#1e1e1e] border border-white/10 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform rounded-full shadow-lg",children:b.jsx(q4,{className:"w-5 h-5 text-white"})}),b.jsx("span",{className:"text-sm font-bold text-white mb-1",children:C?C.name:"Upload PDF Document"}),b.jsx("span",{className:"text-xs text-neutral-500",children:C?"Click to change file":"Drag & drop or click to browse"}),b.jsx("input",{type:"file",id:"ebookFile",accept:"application/pdf",onChange:q,className:"hidden"})]}),C&&!k&&b.jsxs("button",{type:"button",onClick:()=>U(C),className:"absolute bottom-4 right-4 text-[10px] font-bold uppercase tracking-widest text-neutral-400 hover:text-white flex items-center gap-1 bg-[#1e1e1e] px-3 py-1.5 rounded-full border border-white/10",children:[b.jsx(kk,{className:"w-3 h-3"})," Re-Analyze"]})]}),b.jsxs("div",{className:`space-y-8 ${k?"opacity-50 pointer-events-none blur-sm":""}`,children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"title",className:uf,children:"Book Title"}),b.jsx("input",{type:"text",id:"title",value:r,onChange:G=>i(G.target.value),required:!0,className:Up,placeholder:"Enter Title..."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"author",className:uf,children:"Author"}),b.jsx("input",{type:"text",id:"author",value:a,onChange:G=>s(G.target.value),required:!0,className:Up,placeholder:"Enter Author..."})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"description",className:uf,children:"Description"}),b.jsx("textarea",{id:"description",value:o,onChange:G=>u(G.target.value),rows:4,required:!0,className:`${Up} min-h-[120px] resize-none`})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"genre",className:uf,children:"Genre"}),b.jsx("input",{type:"text",id:"genre",value:c,onChange:G=>f(G.target.value),required:!0,className:Up,placeholder:"Sci-Fi, Thriller..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:uf,children:"Monetization"}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsx("button",{type:"button",onClick:()=>g("paid"),className:`p-4 border text-left transition-all rounded-xl relative overflow-hidden group ${h==="paid"?"bg-white text-black border-white":"bg-[#0b0b0b] text-neutral-400 border-white/10 hover:border-white/20"}`,children:b.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-2",children:[b.jsx(O1,{className:`w-5 h-5 ${h==="paid"?"text-black":"text-neutral-500"}`}),b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Paid"})]})}),b.jsx("button",{type:"button",onClick:()=>g("free"),className:`p-4 border text-left transition-all rounded-xl relative overflow-hidden group ${h==="free"?"bg-white text-black border-white":"bg-[#0b0b0b] text-neutral-400 border-white/10 hover:border-white/20"}`,children:b.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-2",children:[b.jsx(Au,{className:`w-5 h-5 ${h==="free"?"text-black":"text-neutral-500"}`}),b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Free"})]})})]})]})]}),h==="paid"&&b.jsxs("div",{className:"animate-fade-in space-y-6 bg-[#0b0b0b] p-6 rounded-2xl border border-white/5",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"price",className:uf,children:"List Price ()"}),b.jsx("input",{type:"number",id:"price",value:v,onChange:G=>w(G.target.value),className:Up,placeholder:"499"})]}),b.jsx(k8,{bookDetails:{title:r,genre:c,description:o},onPriceSuggested:Z})]}),b.jsxs("div",{className:"p-6 bg-[#0b0b0b] border border-white/5 rounded-2xl",children:[b.jsx(D8,{onCoverGenerated:ce,currentTitle:r,currentAuthor:a}),M&&b.jsxs("div",{className:"mt-6 p-4 bg-white/5 border border-white/10 flex items-center gap-4 rounded-xl",children:[b.jsx("img",{src:`data:image/jpeg;base64,${M.imageBytes}`,alt:"AI Cover",className:"w-12 h-16 object-cover bg-black rounded"}),b.jsxs("span",{className:"text-white text-[10px] font-bold uppercase tracking-widest flex items-center gap-2",children:[b.jsx(Jr,{className:"w-3 h-3 text-green-500"})," Cover Attached"]})]}),!M&&b.jsxs("div",{className:"mt-6",children:[b.jsx("label",{className:uf,children:"Manual Cover URL"}),b.jsx("input",{type:"url",value:E,onChange:G=>A(G.target.value),className:Up,placeholder:"https://..."})]})]}),b.jsx("div",{className:"pt-4 flex justify-end",children:b.jsx("button",{type:"submit",disabled:R||k,className:"px-10 py-4 bg-white text-black font-bold hover:bg-neutral-200 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-50 rounded-full shadow-glow-white hover:scale-105 active:scale-95",children:R?b.jsx(b.Fragment,{children:"Publishing..."}):b.jsxs(b.Fragment,{children:[b.jsx(q4,{className:"w-4 h-4"})," Publish to Store"]})})})]})]})};function I8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=I8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function zt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=I8(t))&&(r&&(r+=" "),r+=e);return r}var Ple=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ik(t){if(typeof t!="string")return!1;var e=Ple;return e.includes(t)}var kle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Dle=new Set(kle);function L8(t){return typeof t!="string"?!1:Dle.has(t)}function O8(t){return typeof t=="string"&&t.startsWith("data-")}function io(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(L8(n)||O8(n))&&(e[n]=t[n]);return e}function F1(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return io(e)}return typeof t=="object"&&!Array.isArray(t)?io(t):null}function Rs(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(L8(n)||O8(n)||Ik(n))&&(e[n]=t[n]);return e}function Ile(t){return t==null?null:T.isValidElement(t)?Rs(t.props):typeof t=="object"&&!Array.isArray(t)?Rs(t):null}var Lle=["children","width","height","viewBox","className","style","title","desc"];function A2(){return A2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A2.apply(null,arguments)}function Ole(t,e){if(t==null)return{};var n,r,i=jle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var j8=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:u,desc:c}=t,f=Ole(t,Lle),h=a||{width:r,height:i,x:0,y:0},g=zt("recharts-surface",s);return T.createElement("svg",A2({},Rs(f),{className:g,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),T.createElement("title",null,u),T.createElement("desc",null,c),n)}),Fle=["children","className"];function _2(){return _2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_2.apply(null,arguments)}function Ule(t,e){if(t==null)return{};var n,r,i=Ble(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ble(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Qo=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Ule(t,Fle),a=zt("recharts-layer",r);return T.createElement("g",_2({className:a},Rs(i),{ref:e}),n)}),zle=T.createContext(null);function In(t){return function(){return t}}const C2=Math.PI,T2=2*C2,df=1e-6,Hle=T2-df;function F8(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Gle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return F8;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?F8:Gle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-e,c=i-n,f=s-e,h=o-n,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>df)if(!(Math.abs(h*u-c*f)>df)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,w=i-o,E=u*u+c*c,A=v*v+w*w,C=Math.sqrt(E),P=Math.sqrt(g),R=a*Math.tan((C2-Math.acos((E+g-A)/(2*C*P)))/2),I=R/P,k=R/C;Math.abs(I-1)>df&&this._append`L${e+I*f},${n+I*h}`,this._append`A${a},${a},0,0,${+(h*v>f*w)},${this._x1=e+k*u},${this._y1=n+k*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),c=e+o,f=n+u,h=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>df||Math.abs(this._y1-f)>df)&&this._append`L${c},${f}`,r&&(g<0&&(g=g%T2+T2),g>Hle?this._append`A${r},${r},0,1,${h},${e-o},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=f}`:g>df&&this._append`A${r},${r},0,${+(g>=C2)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function U8(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qle(e)}function Lk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function B8(t){this._context=t}B8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function U1(t){return new B8(t)}function z8(t){return t[0]}function H8(t){return t[1]}function G8(t,e){var n=In(!0),r=null,i=U1,a=null,s=U8(o);t=typeof t=="function"?t:t===void 0?z8:In(t),e=typeof e=="function"?e:e===void 0?H8:In(e);function o(u){var c,f=(u=Lk(u)).length,h,g=!1,v;for(r==null&&(a=i(v=s())),c=0;c<=f;++c)!(c<f&&n(h=u[c],c,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(h,c,u),+e(h,c,u));if(v)return a=null,v+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:In(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:In(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:In(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function ES(t,e,n){var r=null,i=In(!0),a=null,s=U1,o=null,u=U8(c);t=typeof t=="function"?t:t===void 0?z8:In(+t),e=typeof e=="function"?e:In(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?H8:In(+n);function c(h){var g,v,w,E=(h=Lk(h)).length,A,C=!1,P,R=new Array(E),I=new Array(E);for(a==null&&(o=s(P=u())),g=0;g<=E;++g){if(!(g<E&&i(A=h[g],g,h))===C)if(C=!C)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=g-1;w>=v;--w)o.point(R[w],I[w]);o.lineEnd(),o.areaEnd()}C&&(R[g]=+t(A,g,h),I[g]=+e(A,g,h),o.point(r?+r(A,g,h):R[g],n?+n(A,g,h):I[g]))}if(P)return o=null,P+""||null}function f(){return G8().defined(i).curve(s).context(a)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:In(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:In(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:In(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:In(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:In(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:In(+h),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:In(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),c):s},c.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),c):a},c}class q8{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function $le(t){return new q8(t,!0)}function Vle(t){return new q8(t,!1)}function JE(){}function QE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $8(t){this._context=t}$8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:QE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:QE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Wle(t){return new $8(t)}function V8(t){this._context=t}V8.prototype={areaStart:JE,areaEnd:JE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:QE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yle(t){return new V8(t)}function W8(t){this._context=t}W8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:QE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kle(t){return new W8(t)}function Y8(t){this._context=t}Y8.prototype={areaStart:JE,areaEnd:JE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Xle(t){return new Y8(t)}function X4(t){return t<0?-1:1}function J4(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(X4(a)+X4(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Q4(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lN(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function ZE(t){this._context=t}ZE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lN(this,this._t0,Q4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lN(this,Q4(this,n=J4(this,t,e)),n);break;default:lN(this,this._t0,n=J4(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function K8(t){this._context=new X8(t)}(K8.prototype=Object.create(ZE.prototype)).point=function(t,e){ZE.prototype.point.call(this,e,t)};function X8(t){this._context=t}X8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Jle(t){return new ZE(t)}function Qle(t){return new K8(t)}function J8(t){this._context=t}J8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Z4(t),i=Z4(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Z4(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Zle(t){return new J8(t)}function B1(t,e){this._context=t,this._t=e}B1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eue(t){return new B1(t,.5)}function tue(t){return new B1(t,0)}function nue(t){return new B1(t,1)}function Jg(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function N2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rue(t,e){return t[e]}function iue(t){const e=[];return e.key=t,e}function aue(){var t=In([]),e=N2,n=Jg,r=rue;function i(a){var s=Array.from(t.apply(this,arguments),iue),o,u=s.length,c=-1,f;for(const h of a)for(o=0,++c;o<u;++o)(s[o][c]=[0,+r(h,s[o].key,c,a)]).data=h;for(o=0,f=Lk(e(s));o<u;++o)s[f[o]].index=o;return n(s,f),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:In(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:In(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?N2:typeof a=="function"?a:In(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Jg,i):n},i}function sue(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Jg(t,e)}}function oue(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Jg(t,e)}}function lue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,u=0,c=0;o<s;++o){for(var f=t[e[o]],h=f[r][1]||0,g=f[r-1][1]||0,v=(h-g)/2,w=0;w<o;++w){var E=t[e[w]],A=E[r][1]||0,C=E[r-1][1]||0;v+=A-C}u+=h,c+=v*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=c/u)}i[r-1][1]+=i[r-1][0]=n,Jg(t,e)}}var uN={},cN={},eU;function uue(){return eU||(eU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(cN)),cN}var dN={},tU;function Q8(){return tU||(tU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(dN)),dN}var fN={},nU;function Ok(){return nU||(nU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(fN)),fN}var hN={},pN={},rU;function cue(){return rU||(rU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(pN)),pN}var iU;function jk(){return iU||(iU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cue(),n=Ok();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,u="",c="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];c?h==="\\"&&o+1<s?(o++,u+=i[o]):h===c?c="":u+=h:f?h==='"'||h==="'"?c=h:h==="]"?(f=!1,a.push(u),u=""):u+=h:h==="["?(f=!0,u&&(a.push(u),u="")):h==="."?u&&(a.push(u),u=""):u+=h,o++}return u&&a.push(u),a}t.toPath=r})(hN)),hN}var aU;function Fk(){return aU||(aU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uue(),n=Q8(),r=Ok(),i=jk();function a(o,u,c){if(o==null)return c;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return c;const f=o[u];return f===void 0?n.isDeepKey(u)?a(o,i.toPath(u),c):c:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=o[u];return f===void 0?c:f}default:{if(Array.isArray(u))return s(o,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return c;const f=o[u];return f===void 0?c:f}}}function s(o,u,c){if(u.length===0)return c;let f=o;for(let h=0;h<u.length;h++){if(f==null||e.isUnsafeProperty(u[h]))return c;f=f[u[h]]}return f===void 0?c:f}t.get=a})(uN)),uN}var mN,sU;function due(){return sU||(sU=1,mN=Fk().get),mN}var fue=due();const z1=uo(fue);var As=t=>t===0?0:t>0?1:-1,ao=t=>typeof t=="number"&&t!=+t,_u=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,$e=t=>(typeof t=="number"||t instanceof Number)&&!ao(t),Zo=t=>$e(t)||typeof t=="string",hue=0,v0=t=>{var e=++hue;return"".concat(t||"").concat(e)},_d=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(e)&&typeof e!="string")return r;var a;if(_u(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return ao(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},Z8=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function $o(t,e,n){return $e(t)&&$e(e)?t+n*(e-t):e}function eq(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):z1(r,e))===n)}var Qr=t=>t===null||typeof t>"u",Uk=t=>Qr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function pue(t){return t!=null}function Rx(){}var tq=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Bk=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Ik(i)&&(r[i]=(a=>n[i](n,a)))}),r},mue=(t,e,n)=>r=>(t(e,n,r),null),gue=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];Ik(i)&&typeof a=="function"&&(r||(r={}),r[i]=mue(a,e,n))}),r};function oU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(n),!0).forEach(function(r){vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vue(t,e,n){return(e=bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=xue(t,"string");return typeof e=="symbol"?e:e+""}function xue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(t,e){var n=yue({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}var gN={},yN={},lU;function wue(){return lU||(lU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(yN)),yN}var vN={},uU;function nq(){return uU||(uU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(vN)),vN}var bN={},xN={},wN={},cU;function Sue(){return cU||(cU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(wN)),wN}var dU;function zk(){return dU||(dU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sue();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(xN)),xN}var SN={},fU;function Eue(){return fU||(fU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(SN)),SN}var hU;function Aue(){return hU||(hU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zk(),n=Eue();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(bN)),bN}var EN={},AN={},pU;function _ue(){return pU||(pU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fk();function n(r){return function(i){return e.get(i,r)}}t.property=n})(AN)),AN}var _N={},CN={},TN={},NN={},mU;function rq(){return mU||(mU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(NN)),NN}var RN={},gU;function iq(){return gU||(gU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(RN)),RN}var MN={},yU;function aq(){return yU||(yU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(MN)),MN}var vU;function Cue(){return vU||(vU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rq(),n=iq(),r=aq();function i(f,h,g){return typeof g!="function"?i(f,h,()=>{}):a(f,h,function v(w,E,A,C,P,R){const I=g(w,E,A,C,P,R);return I!==void 0?!!I:a(w,E,v,R)},new Map)}function a(f,h,g,v){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,g,v);case"function":return Object.keys(h).length>0?a(f,{...h},g,v):r.eq(f,h);default:return e.isObject(f)?typeof h=="string"?h==="":!0:r.eq(f,h)}}function s(f,h,g,v){if(h==null)return!0;if(Array.isArray(h))return u(f,h,g,v);if(h instanceof Map)return o(f,h,g,v);if(h instanceof Set)return c(f,h,g,v);const w=Object.keys(h);if(f==null)return w.length===0;if(w.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===f;v==null||v.set(h,f);try{for(let E=0;E<w.length;E++){const A=w[E];if(!n.isPrimitive(f)&&!(A in f)||h[A]===void 0&&f[A]!==void 0||h[A]===null&&f[A]!==null||!g(f[A],h[A],A,f,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(f,h,g,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,E]of h.entries()){const A=f.get(w);if(g(A,E,w,f,h,v)===!1)return!1}return!0}function u(f,h,g,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let E=0;E<h.length;E++){const A=h[E];let C=!1;for(let P=0;P<f.length;P++){if(w.has(P))continue;const R=f[P];let I=!1;if(g(R,A,E,f,h,v)&&(I=!0),I){w.add(P),C=!0;break}}if(!C)return!1}return!0}function c(f,h,g,v){return h.size===0?!0:f instanceof Set?u([...f],[...h],g,v):!1}t.isMatchWith=i,t.isSetMatch=c})(TN)),TN}var bU;function sq(){return bU||(bU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cue();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(CN)),CN}var PN={},kN={},DN={},xU;function Tue(){return xU||(xU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(DN)),DN}var IN={},wU;function oq(){return wU||(wU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(IN)),IN}var LN={},SU;function lq(){return SU||(SU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",u="[object Map]",c="[object Set]",f="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",w="[object Error]",E="[object DataView]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",R="[object Uint32Array]",I="[object BigUint64Array]",k="[object Int8Array]",L="[object Int16Array]",M="[object Int32Array]",z="[object BigInt64Array]",B="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=E,t.dateTag=o,t.errorTag=w,t.float32ArrayTag=B,t.float64ArrayTag=V,t.functionTag=h,t.int16ArrayTag=L,t.int32ArrayTag=M,t.int8ArrayTag=k,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=P,t.uint32ArrayTag=R,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=C})(LN)),LN}var ON={},EU;function Nue(){return EU||(EU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(ON)),ON}var AU;function uq(){return AU||(AU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tue(),n=oq(),r=lq(),i=iq(),a=Nue();function s(f,h){return o(f,void 0,f,new Map,h)}function o(f,h,g,v=new Map,w=void 0){const E=w==null?void 0:w(f,h,g,v);if(E!==void 0)return E;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const A=new Array(f.length);v.set(f,A);for(let C=0;C<f.length;C++)A[C]=o(f[C],C,g,v,w);return Object.hasOwn(f,"index")&&(A.index=f.index),Object.hasOwn(f,"input")&&(A.input=f.input),A}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const A=new RegExp(f.source,f.flags);return A.lastIndex=f.lastIndex,A}if(f instanceof Map){const A=new Map;v.set(f,A);for(const[C,P]of f)A.set(C,o(P,C,g,v,w));return A}if(f instanceof Set){const A=new Set;v.set(f,A);for(const C of f)A.add(o(C,void 0,g,v,w));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const A=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,A);for(let C=0;C<f.length;C++)A[C]=o(f[C],C,g,v,w);return A}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const A=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,A),u(A,f,g,v,w),A}if(typeof File<"u"&&f instanceof File){const A=new File([f],f.name,{type:f.type});return v.set(f,A),u(A,f,g,v,w),A}if(typeof Blob<"u"&&f instanceof Blob){const A=new Blob([f],{type:f.type});return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof Error){const A=new f.constructor;return v.set(f,A),A.message=f.message,A.name=f.name,A.stack=f.stack,A.cause=f.cause,u(A,f,g,v,w),A}if(f instanceof Boolean){const A=new Boolean(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof Number){const A=new Number(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof String){const A=new String(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(typeof f=="object"&&c(f)){const A=Object.create(Object.getPrototypeOf(f));return v.set(f,A),u(A,f,g,v,w),A}return f}function u(f,h,g=f,v,w){const E=[...Object.keys(h),...e.getSymbols(h)];for(let A=0;A<E.length;A++){const C=E[A],P=Object.getOwnPropertyDescriptor(f,C);(P==null||P.writable)&&(f[C]=o(h[C],C,g,v,w))}}function c(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=u})(kN)),kN}var _U;function Rue(){return _U||(_U=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uq();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(PN)),PN}var CU;function Mue(){return CU||(CU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sq(),n=Rue();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(_N)),_N}var jN={},FN={},UN={},TU;function Pue(){return TU||(TU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uq(),n=lq();function r(i,a){return e.cloneDeepWith(i,(s,o,u,c)=>{const f=a==null?void 0:a(s,o,u,c);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(UN)),UN}var NU;function kue(){return NU||(NU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pue();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(FN)),FN}var BN={},zN={},RU;function cq(){return RU||(RU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(zN)),zN}var HN={},MU;function Due(){return MU||(MU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oq();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(HN)),HN}var PU;function Iue(){return PU||(PU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q8(),n=cq(),r=Due(),i=jk();function a(s,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?u=i.toPath(o):u=[o],u.length===0)return!1;let c=s;for(let f=0;f<u.length;f++){const h=u[f];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=a})(BN)),BN}var kU;function Lue(){return kU||(kU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sq(),n=Ok(),r=kue(),i=Fk(),a=Iue();function s(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return u=r.cloneDeep(u),function(c){const f=i.get(c,o);return f===void 0?a.has(c,o):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=s})(jN)),jN}var DU;function Oue(){return DU||(DU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nq(),n=_ue(),r=Mue(),i=Lue();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(EN)),EN}var IU;function jue(){return IU||(IU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wue(),n=nq(),r=Aue(),i=Oue();function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(gN)),gN}var GN,LU;function Fue(){return LU||(LU=1,GN=jue().uniqBy),GN}var Uue=Fue();const OU=uo(Uue);function Bue(t,e,n){return e===!0?OU(t,n):typeof e=="function"?OU(t,e):t}var qN={exports:{}},$N={},VN={exports:{}},WN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jU;function zue(){if(jU)return WN;jU=1;var t=oy();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(h,g){var v=g(),w=r({inst:{value:v,getSnapshot:g}}),E=w[0].inst,A=w[1];return a(function(){E.value=v,E.getSnapshot=g,u(E)&&A({inst:E})},[h,v,g]),i(function(){return u(E)&&A({inst:E}),h(function(){u(E)&&A({inst:E})})},[h]),s(v),v}function u(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!n(h,v)}catch{return!0}}function c(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return WN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,WN}var FU;function Hue(){return FU||(FU=1,VN.exports=zue()),VN.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UU;function Gue(){if(UU)return $N;UU=1;var t=oy(),e=Hue();function n(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,u=t.useDebugValue;return $N.useSyncExternalStoreWithSelector=function(c,f,h,g,v){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=o(function(){function C(L){if(!P){if(P=!0,R=L,L=g(L),v!==void 0&&E.hasValue){var M=E.value;if(v(M,L))return I=M}return I=L}if(M=I,r(R,L))return M;var z=g(L);return v!==void 0&&v(M,z)?(R=L,M):(R=L,I=z)}var P=!1,R,I,k=h===void 0?null:h;return[function(){return C(f())},k===null?void 0:function(){return C(k())}]},[f,h,g,v]);var A=i(c,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=A},[A]),u(A),A},$N}var BU;function que(){return BU||(BU=1,qN.exports=Gue()),qN.exports}var $ue=que(),Hk=T.createContext(null),Vue=t=>t,kr=()=>{var t=T.useContext(Hk);return t?t.store.dispatch:Vue},tE=()=>{},Wue=()=>tE,Yue=(t,e)=>t===e;function Ye(t){var e=T.useContext(Hk);return $ue.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Wue,e?e.store.getState:tE,e?e.store.getState:tE,e?t:tE,Yue)}function Kue(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Xue(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Jue(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var zU=t=>Array.isArray(t)?t:[t];function Que(t){const e=Array.isArray(t[0])?t[0]:t;return Jue(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Zue(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var ece=class{constructor(t){this.value=t}deref(){return this.value}},tce=typeof WeakRef<"u"?WeakRef:ece,nce=0,HU=1;function AS(){return{s:nce,v:void 0,o:null,p:null}}function dq(t,e={}){let n=AS();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var h;let o=n;const{length:u}=arguments;for(let g=0,v=u;g<v;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=o.o;E===null&&(o.o=E=new WeakMap);const A=E.get(w);A===void 0?(o=AS(),E.set(w,o)):o=A}else{let E=o.p;E===null&&(o.p=E=new Map);const A=E.get(w);A===void 0?(o=AS(),E.set(w,o)):o=A}}const c=o;let f;if(o.s===HU)f=o.v;else if(f=t.apply(null,arguments),a++,r){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&r(g,f)&&(f=g,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new tce(f):f}return c.s=HU,c.v=f,f}return s.clearCache=()=>{n=AS(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function rce(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),Kue(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const f={...n,...u},{memoize:h,memoizeOptions:g=[],argsMemoize:v=dq,argsMemoizeOptions:w=[]}=f,E=zU(g),A=zU(w),C=Que(i),P=h(function(){return a++,c.apply(null,arguments)},...E),R=v(function(){s++;const k=Zue(C,arguments);return o=P.apply(null,k),o},...A);return Object.assign(R,{resultFunc:c,memoizedResultFunc:P,dependencies:C,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var fe=rce(dq),ice=Object.assign((t,e=fe)=>{Xue(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,u)=>(s[n[u]]=o,s),{}))},{withTypes:()=>ice}),YN={},KN={},XN={},GU;function ace(){return GU||(GU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(XN)),XN}var JN={},QN={},qU;function fq(){return qU||(qU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(QN)),QN}var $U;function sce(){return $U||($U=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fq(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(JN)),JN}var VU;function oce(){return VU||(VU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ace(),n=sce(),r=jk();function i(a,s,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const c=(v,w)=>{let E=v;for(let A=0;A<w.length&&E!=null;++A)E=E[w[A]];return E},f=(v,w)=>w==null||v==null?w:typeof v=="object"&&"key"in v?Object.hasOwn(w,v.key)?w[v.key]:c(w,v.path):typeof v=="function"?v(w):Array.isArray(v)?c(w,v):typeof w=="object"?w[v]:w,h=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:h.map(w=>f(w,v))})).slice().sort((v,w)=>{for(let E=0;E<h.length;E++){const A=e.compareValues(v.criteria[E],w.criteria[E],o[E]);if(A!==0)return A}return 0}).map(v=>v.original)}t.orderBy=i})(KN)),KN}var ZN={},WU;function lce(){return WU||(WU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,u)=>{for(let c=0;c<o.length;c++){const f=o[c];Array.isArray(f)&&u<a?s(f,u+1):i.push(f)}};return s(n,0),i}t.flatten=e})(ZN)),ZN}var eR={},YU;function hq(){return YU||(YU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cq(),n=zk(),r=rq(),i=aq();function a(s,o,u){return r.isObject(u)&&(typeof o=="number"&&n.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.eq(u[o],s):!1}t.isIterateeCall=a})(eR)),eR}var KU;function uce(){return KU||(KU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oce(),n=lce(),r=hq();function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(YN)),YN}var tR,XU;function cce(){return XU||(XU=1,tR=uce().sortBy),tR}var dce=cce();const H1=uo(dce);var pq=t=>t.legend.settings,fce=t=>t.legend.size,hce=t=>t.legend.payload;fe([hce,pq],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?H1(r,n):r});var _S=1;function pce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>_S||Math.abs(s.left-e.left)>_S||Math.abs(s.top-e.top)>_S||Math.abs(s.width-e.width)>_S)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Vr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mce=typeof Symbol=="function"&&Symbol.observable||"@@observable",JU=mce,nR=()=>Math.random().toString(36).substring(7).split("").join("."),gce={INIT:`@@redux/INIT${nR()}`,REPLACE:`@@redux/REPLACE${nR()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nR()}`},eA=gce;function Gk(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function mq(t,e,n){if(typeof t!="function")throw new Error(Vr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Vr(1));return n(mq)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,u=!1;function c(){s===a&&(s=new Map,a.forEach((A,C)=>{s.set(C,A)}))}function f(){if(u)throw new Error(Vr(3));return i}function h(A){if(typeof A!="function")throw new Error(Vr(4));if(u)throw new Error(Vr(5));let C=!0;c();const P=o++;return s.set(P,A),function(){if(C){if(u)throw new Error(Vr(6));C=!1,c(),s.delete(P),a=null}}}function g(A){if(!Gk(A))throw new Error(Vr(7));if(typeof A.type>"u")throw new Error(Vr(8));if(typeof A.type!="string")throw new Error(Vr(17));if(u)throw new Error(Vr(9));try{u=!0,i=r(i,A)}finally{u=!1}return(a=s).forEach(P=>{P()}),A}function v(A){if(typeof A!="function")throw new Error(Vr(10));r=A,g({type:eA.REPLACE})}function w(){const A=h;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Vr(11));function P(){const I=C;I.next&&I.next(f())}return P(),{unsubscribe:A(P)}},[JU](){return this}}}return g({type:eA.INIT}),{dispatch:g,subscribe:h,getState:f,replaceReducer:v,[JU]:w}}function yce(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:eA.INIT})>"u")throw new Error(Vr(12));if(typeof n(void 0,{type:eA.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Vr(13))})}function gq(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{yce(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let u=!1;const c={};for(let f=0;f<r.length;f++){const h=r[f],g=n[h],v=s[h],w=g(v,o);if(typeof w>"u")throw o&&o.type,new Error(Vr(14));c[h]=w,u=u||w!==v}return u=u||r.length!==Object.keys(s).length,u?c:s}}function tA(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function vce(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Vr(15))};const s={getState:i.getState,dispatch:(u,...c)=>a(u,...c)},o=t.map(u=>u(s));return a=tA(...o)(i.dispatch),{...i,dispatch:a}}}function yq(t){return Gk(t)&&"type"in t&&typeof t.type=="string"}var vq=Symbol.for("immer-nothing"),QU=Symbol.for("immer-draftable"),Ii=Symbol.for("immer-state");function Zs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ha=Object,Qg=Ha.getPrototypeOf,nA="constructor",G1="prototype",R2="configurable",rA="enumerable",nE="writable",b0="value",Cu=t=>!!t&&!!t[Ii];function so(t){var e;return t?bq(t)||q1(t)||!!t[QU]||!!((e=t[nA])!=null&&e[QU])||$1(t)||V1(t):!1}var bce=Ha[G1][nA].toString(),ZU=new WeakMap;function bq(t){if(!t||!qk(t))return!1;const e=Qg(t);if(e===null||e===Ha[G1])return!0;const n=Ha.hasOwnProperty.call(e,nA)&&e[nA];if(n===Object)return!0;if(!Wp(n))return!1;let r=ZU.get(n);return r===void 0&&(r=Function.toString.call(n),ZU.set(n,r)),r===bce}function Mx(t,e,n=!0){Px(t)===0?(n?Reflect.ownKeys(t):Ha.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Px(t){const e=t[Ii];return e?e.type_:q1(t)?1:$1(t)?2:V1(t)?3:0}var eB=(t,e,n=Px(t))=>n===2?t.has(e):Ha[G1].hasOwnProperty.call(t,e),M2=(t,e,n=Px(t))=>n===2?t.get(e):t[e],iA=(t,e,n,r=Px(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function xce(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var q1=Array.isArray,$1=t=>t instanceof Map,V1=t=>t instanceof Set,qk=t=>typeof t=="object",Wp=t=>typeof t=="function",rR=t=>typeof t=="boolean",Pl=t=>t.copy_||t.base_,$k=t=>t.modified_?t.copy_:t.base_;function P2(t,e){if($1(t))return new Map(t);if(V1(t))return new Set(t);if(q1(t))return Array[G1].slice.call(t);const n=bq(t);if(e===!0||e==="class_only"&&!n){const r=Ha.getOwnPropertyDescriptors(t);delete r[Ii];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[nE]===!1&&(o[nE]=!0,o[R2]=!0),(o.get||o.set)&&(r[s]={[R2]:!0,[nE]:!0,[rA]:o[rA],[b0]:t[s]})}return Ha.create(Qg(t),r)}else{const r=Qg(t);if(r!==null&&n)return{...t};const i=Ha.create(r);return Ha.assign(i,t)}}function Vk(t,e=!1){return W1(t)||Cu(t)||!so(t)||(Px(t)>1&&Ha.defineProperties(t,{set:CS,add:CS,clear:CS,delete:CS}),Ha.freeze(t),e&&Mx(t,(n,r)=>{Vk(r,!0)},!1)),t}function wce(){Zs(2)}var CS={[b0]:wce};function W1(t){return t===null||!qk(t)?!0:Ha.isFrozen(t)}var aA="MapSet",k2="Patches",xq={};function Zg(t){const e=xq[t];return e||Zs(0,t),e}var Sce=t=>!!xq[t],x0,wq=()=>x0,Ece=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Sce(aA)?Zg(aA):void 0});function tB(t,e){e&&(t.patchPlugin_=Zg(k2),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function D2(t){I2(t),t.drafts_.forEach(Ace),t.drafts_=null}function I2(t){t===x0&&(x0=t.parent_)}var nB=t=>x0=Ece(x0,t);function Ace(t){const e=t[Ii];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function rB(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Ii].modified_&&(D2(e),Zs(4)),so(t)&&(t=iB(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Ii].base_,t,e)}else t=iB(e,n);return _ce(e,t,!0),D2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==vq?t:void 0}function iB(t,e){if(W1(e))return e;const n=e[Ii];if(!n)return Wk(e,t.handledSet_,t);if(!Y1(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);Aq(n,t)}return n.copy_}function _ce(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Vk(e,n)}function Sq(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Y1=(t,e)=>t.scope_===e,Cce=[];function Eq(t,e,n,r){const i=Pl(t),a=t.type_;if(r!==void 0&&M2(i,r,a)===e){iA(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Mx(i,(u,c)=>{if(Cu(c)){const f=o.get(c)||[];f.push(u),o.set(c,f)}})}const s=t.draftLocations_.get(e)??Cce;for(const o of s)iA(i,o,n,a)}function Tce(t,e,n){t.callbacks_.push(function(i){var o;const a=e;if(!a||!Y1(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=$k(a);Eq(t,a.draft_??a,s,n),Aq(a,i)})}function Aq(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}Sq(t)}}function Nce(t,e,n){const{scope_:r}=t;if(Cu(n)){const i=n[Ii];Y1(i,r)&&i.callbacks_.push(function(){rE(t);const s=$k(i);Eq(t,n,s,e)})}else so(n)&&t.callbacks_.push(function(){const a=Pl(t);M2(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Wk(M2(t.copy_,e,t.type_),r.handledSet_,r)})}function Wk(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Cu(t)||e.has(t)||!so(t)||W1(t)||(e.add(t),Mx(t,(r,i)=>{if(Cu(i)){const a=i[Ii];if(Y1(a,n)){const s=$k(a);iA(t,r,s,t.type_),Sq(a)}}else so(i)&&Wk(i,e,n)})),t}function Rce(t,e){const n=q1(t),r={type_:n?1:0,scope_:e?e.scope_:wq(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Yk;n&&(i=[r],a=w0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Yk={get(t,e){if(e===Ii)return t;const n=Pl(t);if(!eB(n,e,t.type_))return Mce(t,n,e);const r=n[e];if(t.finalized_||!so(r))return r;if(r===iR(t.base_,e)){rE(t);const i=t.type_===1?+e:e,a=O2(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in Pl(t)},ownKeys(t){return Reflect.ownKeys(Pl(t))},set(t,e,n){const r=_q(Pl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=iR(Pl(t),e),a=i==null?void 0:i[Ii];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(xce(n,i)&&(n!==void 0||eB(t.base_,e,t.type_)))return!0;rE(t),L2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Nce(t,e,n)),!0},deleteProperty(t,e){return rE(t),iR(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),L2(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Pl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[nE]:!0,[R2]:t.type_!==1||e!=="length",[rA]:r[rA],[b0]:n[e]}},defineProperty(){Zs(11)},getPrototypeOf(t){return Qg(t.base_)},setPrototypeOf(){Zs(12)}},w0={};Mx(Yk,(t,e)=>{w0[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});w0.deleteProperty=function(t,e){return w0.set.call(this,t,e,void 0)};w0.set=function(t,e,n){return Yk.set.call(this,t[0],e,n,t[0])};function iR(t,e){const n=t[Ii];return(n?Pl(n):t)[e]}function Mce(t,e,n){var i;const r=_q(e,n);return r?b0 in r?r[b0]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function _q(t,e){if(!(e in t))return;let n=Qg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Qg(n)}}function L2(t){t.modified_||(t.modified_=!0,t.parent_&&L2(t.parent_))}function rE(t){t.copy_||(t.assigned_=new Map,t.copy_=P2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Pce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Wp(n)&&!Wp(r)){const s=r;r=n;const o=this;return function(c=s,...f){return o.produce(c,h=>r.call(this,h,...f))}}Wp(r)||Zs(6),i!==void 0&&!Wp(i)&&Zs(7);let a;if(so(n)){const s=nB(this),o=O2(s,n,void 0);let u=!0;try{a=r(o),u=!1}finally{u?D2(s):I2(s)}return tB(s,i),rB(a,s)}else if(!n||!qk(n)){if(a=r(n),a===void 0&&(a=n),a===vq&&(a=void 0),this.autoFreeze_&&Vk(a,!0),i){const s=[],o=[];Zg(k2).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Zs(1,n)},this.produceWithPatches=(n,r)=>{if(Wp(n))return(o,...u)=>this.produceWithPatches(o,c=>n(c,...u));let i,a;return[this.produce(n,r,(o,u)=>{i=o,a=u}),i,a]},rR(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),rR(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),rR(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){so(e)||Zs(8),Cu(e)&&(e=ro(e));const n=nB(this),r=O2(n,e,void 0);return r[Ii].isManual_=!0,I2(n),r}finishDraft(e,n){const r=e&&e[Ii];(!r||!r.isManual_)&&Zs(9);const{scope_:i}=r;return tB(i,n),rB(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Zg(k2).applyPatches_;return Cu(e)?i(e,n):this.produce(e,a=>i(a,n))}};function O2(t,e,n,r){const[i,a]=$1(e)?Zg(aA).proxyMap_(e,n):V1(e)?Zg(aA).proxySet_(e,n):Rce(e,n);return((n==null?void 0:n.scope_)??wq()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?Tce(n,a,r):a.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(a);const{patchPlugin_:c}=u;a.modified_&&c&&c.generatePatches_(a,[],u)}),i}function ro(t){return Cu(t)||Zs(10,t),Cq(t)}function Cq(t){if(!so(t)||W1(t))return t;const e=t[Ii];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=P2(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=P2(t,!0);return Mx(n,(i,a)=>{iA(n,i,Cq(a))},r),e&&(e.finalized_=!1),n}var kce=new Pce,Tq=kce.produce;function Nq(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Dce=Nq(),Ice=Nq,Lce=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tA:tA.apply(null,arguments)};function Ms(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ga(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>yq(r)&&r.type===t,n}var Rq=class Fv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Fv.prototype)}static get[Symbol.species](){return Fv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Fv(...e[0].concat(this)):new Fv(...e.concat(this))}};function aB(t){return so(t)?Tq(t,()=>{}):t}function TS(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Oce(t){return typeof t=="boolean"}var jce=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new Rq;return n&&(Oce(n)?s.push(Dce):s.push(Ice(n.extraArgument))),s},Mq="RTK_autoBatch",bn=()=>t=>({payload:t,meta:{[Mq]:!0}}),sB=t=>e=>{setTimeout(e,t)},Pq=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sB(10):t.type==="callback"?t.queueNotification:sB(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>i&&f(),g=r.subscribe(h);return o.add(f),()=>{g(),o.delete(f)}},dispatch(f){var h;try{return i=!((h=f==null?void 0:f.meta)!=null&&h[Mq]),a=!i,a&&(s||(s=!0,u(c))),r.dispatch(f)}finally{i=!0}}})},Fce=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Rq(t);return r&&i.push(Pq(typeof r=="object"?r:void 0)),i};function Uce(t){const e=jce(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(Gk(n))o=gq(n);else throw new Error(Ga(1));let u;typeof r=="function"?u=r(e):u=e();let c=tA;i&&(c=Lce({trace:!1,...typeof i=="object"&&i}));const f=vce(...u),h=Fce(f);let g=typeof s=="function"?s(h):h();const v=c(...g);return mq(o,a,v)}function kq(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Ga(28));if(o in e)throw new Error(Ga(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Bce(t){return typeof t=="function"}function zce(t,e){let[n,r,i]=kq(e),a;if(Bce(t))a=()=>aB(t());else{const o=aB(t);a=()=>o}function s(o=a(),u){let c=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,h)=>{if(h)if(Cu(f)){const v=h(f,u);return v===void 0?f:v}else{if(so(f))return Tq(f,g=>h(g,u));{const g=h(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},o)}return s.getInitialState=a,s}var Hce="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gce=(t=21)=>{let e="",n=t;for(;n--;)e+=Hce[Math.random()*64|0];return e},qce=Symbol.for("rtk-slice-createasyncthunk");function $ce(t,e){return`${t}/${e}`}function Vce({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[qce];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Ga(11));const o=(typeof i.reducers=="function"?i.reducers(Yce()):i.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,k){const L=typeof I=="string"?I:I.type;if(!L)throw new Error(Ga(12));if(L in c.sliceCaseReducersByType)throw new Error(Ga(13));return c.sliceCaseReducersByType[L]=k,f},addMatcher(I,k){return c.sliceMatchers.push({matcher:I,reducer:k}),f},exposeAction(I,k){return c.actionCreators[I]=k,f},exposeCaseReducer(I,k){return c.sliceCaseReducersByName[I]=k,f}};u.forEach(I=>{const k=o[I],L={reducerName:I,type:$ce(a,I),createNotation:typeof i.reducers=="function"};Xce(k)?Qce(L,k,f,e):Kce(L,k,f)});function h(){const[I={},k=[],L=void 0]=typeof i.extraReducers=="function"?kq(i.extraReducers):[i.extraReducers],M={...I,...c.sliceCaseReducersByType};return zce(i.initialState,z=>{for(let B in M)z.addCase(B,M[B]);for(let B of c.sliceMatchers)z.addMatcher(B.matcher,B.reducer);for(let B of k)z.addMatcher(B.matcher,B.reducer);L&&z.addDefaultCase(L)})}const g=I=>I,v=new Map,w=new WeakMap;let E;function A(I,k){return E||(E=h()),E(I,k)}function C(){return E||(E=h()),E.getInitialState()}function P(I,k=!1){function L(z){let B=z[I];return typeof B>"u"&&k&&(B=TS(w,L,C)),B}function M(z=g){const B=TS(v,k,()=>new WeakMap);return TS(B,z,()=>{const V={};for(const[U,q]of Object.entries(i.selectors??{}))V[U]=Wce(q,z,()=>TS(w,z,C),k);return V})}return{reducerPath:I,getSelectors:M,get selectors(){return M(L)},selectSlice:L}}const R={name:a,reducer:A,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:C,...P(s),injectInto(I,{reducerPath:k,...L}={}){const M=k??s;return I.inject({reducerPath:M,reducer:A},L),{...R,...P(M,!0)}}};return R}}function Wce(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var sa=Vce();function Yce(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Kce({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Jce(r))throw new Error(Ga(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Ms(t,s):Ms(t))}function Xce(t){return t._reducerDefinitionType==="asyncThunk"}function Jce(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Qce({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ga(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:u,settled:c,options:f}=n,h=i(t,a,f);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),o&&r.addCase(h.pending,o),u&&r.addCase(h.rejected,u),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:s||NS,pending:o||NS,rejected:u||NS,settled:c||NS})}function NS(){}var Zce="task",Dq="listener",Iq="completed",Kk="cancelled",ede=`task-${Kk}`,tde=`task-${Iq}`,j2=`${Dq}-${Kk}`,nde=`${Dq}-${Iq}`,K1=class{constructor(t){be(this,"name","TaskAbortError");be(this,"message");this.code=t,this.message=`${Zce} ${Kk} (reason: ${t})`}},Xk=(t,e)=>{if(typeof t!="function")throw new TypeError(Ga(32))},sA=()=>{},Lq=(t,e=sA)=>(t.catch(e),t),Oq=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),jh=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Fh=t=>{if(t.aborted){const{reason:e}=t;throw new K1(e)}};function jq(t,e){let n=sA;return new Promise((r,i)=>{const a=()=>i(new K1(t.reason));if(t.aborted){a();return}n=Oq(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=sA})}var rde=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof K1?"cancelled":"rejected",error:n}}finally{e==null||e()}},oA=t=>e=>Lq(jq(t,e).then(n=>(Fh(t),n))),Fq=t=>{const e=oA(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:vm}=Object,oB={},X1="listenerMiddleware",ide=(t,e)=>{const n=r=>Oq(t,()=>jh(r,t.reason));return(r,i)=>{Xk(r);const a=new AbortController;n(a);const s=rde(async()=>{Fh(t),Fh(a.signal);const o=await r({pause:oA(a.signal),delay:Fq(a.signal),signal:a.signal});return Fh(a.signal),o},()=>jh(a,tde));return i!=null&&i.autoJoin&&e.push(s.catch(sA)),{result:oA(t)(s),cancel(){jh(a,ede)}}}},ade=(t,e)=>{const n=async(r,i)=>{Fh(e);let a=()=>{};const o=[new Promise((u,c)=>{let f=t({predicate:r,effect:(h,g)=>{g.unsubscribe(),u([h,g.getState(),g.getOriginalState()])}});a=()=>{f(),c()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await jq(e,Promise.race(o));return Fh(e),u}finally{a()}};return(r,i)=>Lq(n(r,i))},Uq=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Ms(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ga(21));return Xk(a),{predicate:i,type:e,effect:a}},Bq=vm(t=>{const{type:e,predicate:n,effect:r}=Uq(t);return{id:Gce(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ga(22))}}},{withTypes:()=>Bq}),lB=(t,e)=>{const{type:n,effect:r,predicate:i}=Uq(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},F2=t=>{t.pending.forEach(e=>{jh(e,j2)})},sde=(t,e)=>()=>{for(const n of e.keys())F2(n);t.clear()},uB=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},zq=vm(Ms(`${X1}/add`),{withTypes:()=>zq}),ode=Ms(`${X1}/removeAll`),Hq=vm(Ms(`${X1}/remove`),{withTypes:()=>Hq}),lde=(...t)=>{console.error(`${X1}/error`,...t)},kx=(t={})=>{const e=new Map,n=new Map,r=v=>{const w=n.get(v)??0;n.set(v,w+1)},i=v=>{const w=n.get(v)??1;w===1?n.delete(v):n.set(v,w-1)},{extra:a,onError:s=lde}=t;Xk(s);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),w=>{v.unsubscribe(),w!=null&&w.cancelActive&&F2(v)}),u=v=>{const w=lB(e,v)??Bq(v);return o(w)};vm(u,{withTypes:()=>u});const c=v=>{const w=lB(e,v);return w&&(w.unsubscribe(),v.cancelActive&&F2(w)),!!w};vm(c,{withTypes:()=>c});const f=async(v,w,E,A)=>{const C=new AbortController,P=ade(u,C.signal),R=[];try{v.pending.add(C),r(v),await Promise.resolve(v.effect(w,vm({},E,{getOriginalState:A,condition:(I,k)=>P(I,k).then(Boolean),take:P,delay:Fq(C.signal),pause:oA(C.signal),extra:a,signal:C.signal,fork:ide(C.signal,R),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((I,k,L)=>{I!==C&&(jh(I,j2),L.delete(I))})},cancel:()=>{jh(C,j2),v.pending.delete(C)},throwIfCancelled:()=>{Fh(C.signal)}})))}catch(I){I instanceof K1||uB(s,I,{raisedBy:"effect"})}finally{await Promise.all(R),jh(C,nde),i(v),v.pending.delete(C)}},h=sde(e,n);return{middleware:v=>w=>E=>{if(!yq(E))return w(E);if(zq.match(E))return u(E.payload);if(ode.match(E)){h();return}if(Hq.match(E))return c(E.payload);let A=v.getState();const C=()=>{if(A===oB)throw new Error(Ga(23));return A};let P;try{if(P=w(E),e.size>0){const R=v.getState(),I=Array.from(e.values());for(const k of I){let L=!1;try{L=k.predicate(E,R,A)}catch(M){L=!1,uB(s,M,{raisedBy:"predicate"})}L&&f(k,E,v,C)}}}finally{A=oB}return P},startListening:u,stopListening:c,clearListeners:h}};function Ga(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ude={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Gq=sa({name:"chartLayout",initialState:ude,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:cde,setLayout:dde,setChartSize:fde,setScale:hde}=Gq.actions,pde=Gq.reducer;function qq(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function cB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cB(Object(n),!0).forEach(function(r){mde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mde(t,e,n){return(e=gde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gde(t){var e=yde(t,"string");return typeof e=="symbol"?e:e+""}function yde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vi(t,e,n){return Qr(t)||Qr(e)?n:Zo(e)?z1(t,e,n):typeof e=="function"?e(t):n}var vde=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&$e(t[a]))return im(im({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&$e(t[s]))return im(im({},t),{},{[s]:t[s]+(i||0)})}return t},Bu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",$q=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},Vq=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:u,categoricalDomain:c,tickCount:f,ticks:h,niceTicks:g,axisType:v}=t;if(!s)return null;var w=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,E=i==="category"&&s.bandwidth?s.bandwidth()/w:0;if(E=v==="angleAxis"&&a&&a.length>=2?As(a[0]-a[1])*2*E:E,h||g){var A=(h||g||[]).map((C,P)=>{var R=r?r.indexOf(C):C;return{coordinate:s(R)+E,value:C,offset:E,index:P}});return A.filter(C=>!ao(C.coordinate))}return u&&c?c.map((C,P)=>({coordinate:s(C)+E,value:C,index:P,offset:E})):s.ticks&&f!=null?s.ticks(f).map((C,P)=>({coordinate:s(C)+E,value:C,offset:E,index:P})):s.domain().map((C,P)=>({coordinate:s(C)+E,value:r?r[C]:C,index:P,offset:E}))},dB=1e-4,bde=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-dB,a=Math.max(r[0],r[1])+dB,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},xde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=ao(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},wde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=ao(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Sde={sign:xde,expand:sue,none:Jg,silhouette:oue,wiggle:lue,positive:wde},Ede=(t,e,n)=>{var r=Sde[n],i=aue().keys(e).value((a,s)=>Number(vi(a,s,0))).order(N2).offset(r);return i(t)};function Ade(t){return t==null?void 0:String(t)}function fB(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qr(i[e.dataKey])){var o=eq(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=vi(i,Qr(s)?e.dataKey:s);return Qr(u)?null:e.scale(u)}var _de=t=>{var e=t.flat(2).filter($e);return[Math.min(...e),Math.max(...e)]},Cde=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Tde=(t,e,n)=>{if(t!=null)return Cde(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((u,c)=>{var f=qq(c,e,n),h=_de(f);return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},hB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lA=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=H1(e,f=>f.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var u=i[s],c=i[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function mB(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return im(im({},e),{},{dataKey:n,payload:r,value:i,name:a})}function Wq(t,e){if(t)return String(t);if(typeof e=="string")return e}var Nde=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Rde=(t,e)=>e==="centric"?t.angle:t.radius,zu=t=>t.layout.width,Hu=t=>t.layout.height,Mde=t=>t.layout.scale,Yq=t=>t.layout.margin,J1=fe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Q1=fe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Pde="data-recharts-item-index",kde="data-recharts-item-data-key",Dx=60;function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){Dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e,n){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=Lde(t,"string");return typeof e=="symbol"?e:e+""}function Lde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ode=t=>t.brush.height;function jde(t){var e=Q1(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dx;return n+i}return n},0)}function Fde(t){var e=Q1(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Dx;return n+i}return n},0)}function Ude(t){var e=J1(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Bde(t){var e=J1(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ei=fe([zu,Hu,Yq,Ode,jde,Fde,Ude,Bde,pq,fce],(t,e,n,r,i,a,s,o,u,c)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+s,bottom:(n.bottom||0)+o},g=RS(RS({},h),f),v=g.bottom;g.bottom+=r,g=vde(g,u,c);var w=t-g.left-g.right,E=e-g.top-g.bottom;return RS(RS({brushBottom:v},g),{},{width:Math.max(w,0),height:Math.max(E,0)})}),zde=fe(ei,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Kq=fe(zu,Hu,(t,e)=>({x:0,y:0,width:t,height:e})),Hde=T.createContext(null),oa=()=>T.useContext(Hde)!=null,Z1=t=>t.brush,e_=fe([Z1,ei,Yq],(t,e,n)=>({height:t.height,x:$e(t.x)?t.x:e.left,y:$e(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:$e(t.width)?t.width:e.width})),aR={},sR={},oR={},yB;function Gde(){return yB||(yB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const u=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),f=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},h=()=>{c&&f(),E()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},E=()=>{w(),s=void 0,o=null},A=()=>{f()},C=function(...P){if(i!=null&&i.aborted)return;s=this,o=P;const R=g==null;v(),u&&R&&f()};return C.schedule=v,C.cancel=E,C.flush=A,i==null||i.addEventListener("abort",E,{once:!0}),C}t.debounce=e})(oR)),oR}var vB;function qde(){return vB||(vB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gde();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:u}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let f,h=null;const g=e.debounce(function(...E){f=r.apply(this,E),h=null},i,{edges:c}),v=function(...E){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=r.apply(this,E),h=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,E),f)},w=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=w,v}t.debounce=n})(sR)),sR}var bB;function $de(){return bB||(bB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qde();function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(aR)),aR}var lR,xB;function Vde(){return xB||(xB=1,lR=$de().throttle),lR}var Wde=Vde();const Yde=uo(Wde);var uA=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},Xq=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=_u(r)?t:Number(r),u=_u(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:o,calculatedHeight:u}},Kde={width:0,height:0,overflow:"visible"},Xde={width:0,overflowX:"visible"},Jde={height:0,overflowY:"visible"},Qde={},Zde=t=>{var{width:e,height:n}=t,r=_u(e),i=_u(n);return r&&i?Kde:r?Xde:i?Jde:Qde};function efe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function jn(t){return Number.isFinite(t)}function el(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function U2(){return U2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U2.apply(null,arguments)}function wB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(n),!0).forEach(function(r){tfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tfe(t,e,n){return(e=nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nfe(t){var e=rfe(t,"string");return typeof e=="symbol"?e:e+""}function rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jq=T.createContext({width:-1,height:-1});function ife(t){return el(t.width)&&el(t.height)}function Qq(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return ife(i)?T.createElement(Jq.Provider,{value:i},e):null}var Jk=()=>T.useContext(Jq),afe=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:u,children:c,debounce:f=0,id:h,className:g,onResize:v,style:w={}}=t,E=T.useRef(null),A=T.useRef();A.current=v,T.useImperativeHandle(e,()=>E.current);var[C,P]=T.useState({containerWidth:r.width,containerHeight:r.height}),R=T.useCallback((z,B)=>{P(V=>{var U=Math.round(z),q=Math.round(B);return V.containerWidth===U&&V.containerHeight===q?V:{containerWidth:U,containerHeight:q}})},[]);T.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Rx;var z=q=>{var Q,{width:Z,height:ce}=q[0].contentRect;R(Z,ce),(Q=A.current)===null||Q===void 0||Q.call(A,Z,ce)};f>0&&(z=Yde(z,f,{trailing:!0,leading:!1}));var B=new ResizeObserver(z),{width:V,height:U}=E.current.getBoundingClientRect();return R(V,U),B.observe(E.current),()=>{B.disconnect()}},[R,f]);var{containerWidth:I,containerHeight:k}=C;uA(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:L,calculatedHeight:M}=Xq(I,k,{width:i,height:a,aspect:n,maxHeight:u});return uA(L!=null&&L>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,M,i,a,s,o,n),T.createElement("div",{id:h?"".concat(h):void 0,className:zt("recharts-responsive-container",g),style:SB(SB({},w),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:u}),ref:E},T.createElement("div",{style:Zde({width:i,height:a})},T.createElement(Qq,{width:L,height:M},c)))}),sfe=T.forwardRef((t,e)=>{var n=Jk();if(el(n.width)&&el(n.height))return t.children;var{width:r,height:i}=efe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=Xq(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return $e(a)&&$e(s)?T.createElement(Qq,{width:a,height:s},t.children):T.createElement(afe,U2({},t,{width:r,height:i,ref:e}))});function Zq(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var t_=()=>{var t,e=oa(),n=Ye(zde),r=Ye(e_),i=(t=Ye(Z1))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},ofe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},e$=()=>{var t;return(t=Ye(ei))!==null&&t!==void 0?t:ofe},t$=()=>Ye(zu),n$=()=>Ye(Hu),ln=t=>t.layout.layoutType,Ix=()=>Ye(ln),lfe=()=>{var t=Ix();if(t==="horizontal"||t==="vertical")return t},ufe=()=>{var t=Ix();return t!==void 0},n_=t=>{var e=kr(),n=oa(),{width:r,height:i}=t,a=Jk(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),T.useEffect(()=>{!n&&el(s)&&el(o)&&e(fde({width:s,height:o}))},[e,n,s,o]),null},r$=Symbol.for("immer-nothing"),EB=Symbol.for("immer-draftable"),$a=Symbol.for("immer-state");function eo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var S0=Object.getPrototypeOf;function ey(t){return!!t&&!!t[$a]}function Gh(t){var e;return t?i$(t)||Array.isArray(t)||!!t[EB]||!!((e=t.constructor)!=null&&e[EB])||Lx(t)||i_(t):!1}var cfe=Object.prototype.constructor.toString(),AB=new WeakMap;function i$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=AB.get(n);return r===void 0&&(r=Function.toString.call(n),AB.set(n,r)),r===cfe}function cA(t,e,n=!0){r_(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function r_(t){const e=t[$a];return e?e.type_:Array.isArray(t)?1:Lx(t)?2:i_(t)?3:0}function B2(t,e){return r_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function a$(t,e,n){const r=r_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function dfe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Lx(t){return t instanceof Map}function i_(t){return t instanceof Set}function ff(t){return t.copy_||t.base_}function z2(t,e){if(Lx(t))return new Map(t);if(i_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=i$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[$a];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(S0(t),r)}else{const r=S0(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function Qk(t,e=!1){return a_(t)||ey(t)||!Gh(t)||(r_(t)>1&&Object.defineProperties(t,{set:MS,add:MS,clear:MS,delete:MS}),Object.freeze(t),e&&Object.values(t).forEach(n=>Qk(n,!0))),t}function ffe(){eo(2)}var MS={value:ffe};function a_(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var hfe={};function qh(t){const e=hfe[t];return e||eo(0,t),e}var E0;function s$(){return E0}function pfe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _B(t,e){e&&(qh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function H2(t){G2(t),t.drafts_.forEach(mfe),t.drafts_=null}function G2(t){t===E0&&(E0=t.parent_)}function CB(t){return E0=pfe(E0,t)}function mfe(t){const e=t[$a];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TB(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[$a].modified_&&(H2(e),eo(4)),Gh(t)&&(t=dA(e,t),e.parent_||fA(e,t)),e.patches_&&qh("Patches").generateReplacementPatches_(n[$a].base_,t,e.patches_,e.inversePatches_)):t=dA(e,n,[]),H2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==r$?t:void 0}function dA(t,e,n){if(a_(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[$a];if(!i)return cA(e,(a,s)=>NB(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return fA(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),cA(s,(u,c)=>NB(t,i,a,u,c,n,o),r),fA(t,a,!1),n&&t.patches_&&qh("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function NB(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=a_(i);if(!(o&&!s)){if(ey(i)){const u=a&&e&&e.type_!==3&&!B2(e.assigned_,r)?a.concat(r):void 0,c=dA(t,i,u);if(a$(n,r,c),ey(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Gh(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;dA(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Lx(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&fA(t,i)}}}function fA(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Qk(e,n)}function gfe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:s$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Zk;n&&(i=[r],a=A0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var Zk={get(t,e){if(e===$a)return t;const n=ff(t);if(!B2(n,e))return yfe(t,n,e);const r=n[e];return t.finalized_||!Gh(r)?r:r===uR(t.base_,e)?(cR(t),t.copy_[e]=$2(r,t)):r},has(t,e){return e in ff(t)},ownKeys(t){return Reflect.ownKeys(ff(t))},set(t,e,n){const r=o$(ff(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=uR(ff(t),e),a=i==null?void 0:i[$a];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(dfe(n,i)&&(n!==void 0||B2(t.base_,e)))return!0;cR(t),q2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return uR(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,cR(t),q2(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ff(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){eo(11)},getPrototypeOf(t){return S0(t.base_)},setPrototypeOf(){eo(12)}},A0={};cA(Zk,(t,e)=>{A0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});A0.deleteProperty=function(t,e){return A0.set.call(this,t,e,void 0)};A0.set=function(t,e,n){return Zk.set.call(this,t[0],e,n,t[0])};function uR(t,e){const n=t[$a];return(n?ff(n):t)[e]}function yfe(t,e,n){var i;const r=o$(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function o$(t,e){if(!(e in t))return;let n=S0(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=S0(n)}}function q2(t){t.modified_||(t.modified_=!0,t.parent_&&q2(t.parent_))}function cR(t){t.copy_||(t.copy_=z2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var vfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...c){return s.produce(u,f=>n.call(this,f,...c))}}typeof n!="function"&&eo(6),r!==void 0&&typeof r!="function"&&eo(7);let i;if(Gh(e)){const a=CB(this),s=$2(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?H2(a):G2(a)}return _B(a,r),TB(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===r$&&(i=void 0),this.autoFreeze_&&Qk(i,!0),r){const a=[],s=[];qh("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else eo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,u=>e(u,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Gh(t)||eo(8),ey(t)&&(t=bfe(t));const e=CB(this),n=$2(t,void 0);return n[$a].isManual_=!0,G2(e),n}finishDraft(t,e){const n=t&&t[$a];(!n||!n.isManual_)&&eo(9);const{scope_:r}=n;return _B(r,e),TB(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=qh("Patches").applyPatches_;return ey(t)?r(t,e):this.produce(t,i=>r(i,e))}};function $2(t,e){const n=Lx(t)?qh("MapSet").proxyMap_(t,e):i_(t)?qh("MapSet").proxySet_(t,e):gfe(t,e);return(e?e.scope_:s$()).drafts_.push(n),n}function bfe(t){return ey(t)||eo(10,t),l$(t)}function l$(t){if(!Gh(t)||a_(t))return t;const e=t[$a];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=z2(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=z2(t,!0);return cA(n,(i,a)=>{a$(n,i,l$(a))},r),e&&(e.finalized_=!1),n}var xfe=new vfe;xfe.produce;var wfe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},u$=sa({name:"legend",initialState:wfe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:bn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ro(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:bn()},removeLegendPayload:{reducer(t,e){var n=ro(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:bn()}}}),{setLegendSize:aCe,setLegendSettings:sCe,addLegendPayload:Sfe,replaceLegendPayload:Efe,removeLegendPayload:Afe}=u$.actions,_fe=u$.reducer;function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V2.apply(null,arguments)}function RB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(n),!0).forEach(function(r){Cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cfe(t,e,n){return(e=Tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=Nfe(t,"string");return typeof e=="symbol"?e:e+""}function Nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rfe(t){return Array.isArray(t)&&Zo(t[0])&&Zo(t[1])?t.join(" ~ "):t}var Mfe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:u,labelClassName:c,label:f,labelFormatter:h,accessibilityLayer:g=!1}=t,v=()=>{if(a&&a.length){var k={padding:0,margin:0},L=(o?H1(a,o):a).map((M,z)=>{if(M.type==="none")return null;var B=M.formatter||s||Rfe,{value:V,name:U}=M,q=V,Q=U;if(B){var Z=B(V,U,M,z,a);if(Array.isArray(Z))[q,Q]=Z;else if(Z!=null)q=Z;else return null}var ce=dR({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:ce},Zo(Q)?T.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Zo(Q)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},q),T.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:k},L)}return null},w=dR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=dR({margin:0},i),A=!Qr(f),C=A?f:"",P=zt("recharts-default-tooltip",u),R=zt("recharts-tooltip-label",c);A&&h&&a!==void 0&&a!==null&&(C=h(f,a));var I=g?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",V2({className:P,style:w},I),T.createElement("p",{className:R,style:E},T.isValidElement(C)?C:"".concat(C)),v())},_v="recharts-tooltip-wrapper",Pfe={visibility:"hidden"};function kfe(t){var{coordinate:e,translateX:n,translateY:r}=t;return zt(_v,{["".concat(_v,"-right")]:$e(n)&&e&&$e(e.x)&&n>=e.x,["".concat(_v,"-left")]:$e(n)&&e&&$e(e.x)&&n<e.x,["".concat(_v,"-bottom")]:$e(r)&&e&&$e(e.y)&&r>=e.y,["".concat(_v,"-top")]:$e(r)&&e&&$e(e.y)&&r<e.y})}function MB(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:u,viewBoxDimension:c}=t;if(a&&$e(a[r]))return a[r];var f=n[r]-o-(i>0?i:0),h=n[r]+i;if(e[r])return s[r]?f:h;var g=u[r];if(g==null)return 0;if(s[r]){var v=f,w=g;return v<w?Math.max(h,g):Math.max(f,g)}if(c==null)return 0;var E=h+o,A=g+c;return E>A?Math.max(f,g):Math.max(h,g)}function Dfe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ife(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:u}=t,c,f,h;return s.height>0&&s.width>0&&n?(f=MB({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),h=MB({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=Dfe({translateX:f,translateY:h,useTranslate3d:o})):c=Pfe,{cssProperties:c,cssClasses:kfe({translateX:f,translateY:h,coordinate:n})}}function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){W2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W2(t,e,n){return(e=Lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lfe(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jfe extends T.PureComponent{constructor(){super(...arguments),W2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),W2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:u,offset:c,position:f,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:w,lastBoundingBox:E,innerRef:A,hasPortalFromProps:C}=this.props,{cssClasses:P,cssProperties:R}=Ife({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:f,reverseDirection:h,tooltipBox:{height:E.height,width:E.width},useTranslate3d:g,viewBox:v}),I=C?{}:PS(PS({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=PS(PS({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},w);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:k,ref:A},a)}}var c$=()=>{var t;return(t=Ye(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Y2(){return Y2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y2.apply(null,arguments)}function kB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(n),!0).forEach(function(r){Ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ffe(t,e,n){return(e=Ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ufe(t){var e=Bfe(t,"string");return typeof e=="symbol"?e:e+""}function Bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IB={curveBasisClosed:Yle,curveBasisOpen:Kle,curveBasis:Wle,curveBumpX:$le,curveBumpY:Vle,curveLinearClosed:Xle,curveLinear:U1,curveMonotoneX:Jle,curveMonotoneY:Qle,curveNatural:Zle,curveStep:eue,curveStepAfter:nue,curveStepBefore:tue},hA=t=>jn(t.x)&&jn(t.y),LB=t=>t.base!=null&&hA(t.base)&&hA(t),Cv=t=>t.x,Tv=t=>t.y,zfe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Uk(t));return(n==="curveMonotone"||n==="curveBump")&&e?IB["".concat(n).concat(e==="vertical"?"Y":"X")]:IB[n]||U1},Hfe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=zfe(e,i),o=a?n.filter(hA):n,u;if(Array.isArray(r)){var c=n.map((v,w)=>DB(DB({},v),{},{base:r[w]}));i==="vertical"?u=ES().y(Tv).x1(Cv).x0(v=>v.base.x):u=ES().x(Cv).y1(Tv).y0(v=>v.base.y);var f=u.defined(LB).curve(s),h=a?c.filter(LB):c;return f(h)}i==="vertical"&&$e(r)?u=ES().y(Tv).x1(Cv).x0(r):$e(r)?u=ES().x(Cv).y1(Tv).y0(r):u=G8().x(Cv).y(Tv);var g=u.defined(hA).curve(s);return g(o)},iE=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Hfe(t):r;return T.createElement("path",Y2({},io(t),Bk(t),{className:zt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Gfe=["x","y","top","left","width","height","className"];function K2(){return K2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K2.apply(null,arguments)}function OB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(n),!0).forEach(function(r){$fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $fe(t,e,n){return(e=Vfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=Wfe(t,"string");return typeof e=="symbol"?e:e+""}function Wfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yfe(t,e){if(t==null)return{};var n,r,i=Kfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xfe=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Jfe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,u=Yfe(t,Gfe),c=qfe({x:e,y:n,top:r,left:i,width:a,height:s},u);return!$e(e)||!$e(n)||!$e(a)||!$e(s)||!$e(r)||!$e(i)?null:T.createElement("path",K2({},Rs(c),{className:zt("recharts-cross",o),d:Xfe(e,n,a,s,r,i)}))};function Qfe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function jB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(n),!0).forEach(function(r){Zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e,n){return(e=ehe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ehe(t){var e=the(t,"string");return typeof e=="symbol"?e:e+""}function the(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nhe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),rhe=(t,e,n)=>t.map(r=>"".concat(nhe(r)," ").concat(e,"ms ").concat(n)).join(","),ihe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),_0=(t,e)=>Object.keys(e).reduce((n,r)=>FB(FB({},n),{},{[r]:t(r,e[r])}),{});function UB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(n),!0).forEach(function(r){ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ahe(t,e,n){return(e=she(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function she(t){var e=ohe(t,"string");return typeof e=="symbol"?e:e+""}function ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pA=(t,e,n)=>t+(e-t)*n,X2=t=>{var{from:e,to:n}=t;return e!==n},d$=(t,e,n)=>{var r=_0((i,a)=>{if(X2(a)){var[s,o]=t(a.from,a.to,a.velocity);return ur(ur({},a),{},{from:s,velocity:o})}return a},e);return n<1?_0((i,a)=>X2(a)?ur(ur({},a),{},{velocity:pA(a.velocity,r[i].velocity,n),from:pA(a.from,r[i].from,n)}):a,e):d$(t,r,n-1)};function lhe(t,e,n,r,i,a){var s,o=r.reduce((g,v)=>ur(ur({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>_0((g,v)=>v.from,o),c=()=>!Object.values(o).filter(X2).length,f=null,h=g=>{s||(s=g);var v=g-s,w=v/n.dt;o=d$(n,o,w),i(ur(ur(ur({},t),e),u())),s=g,c()||(f=a.setTimeout(h))};return()=>(f=a.setTimeout(h),()=>{var g;(g=f)===null||g===void 0||g()})}function uhe(t,e,n,r,i,a,s){var o=null,u=i.reduce((h,g)=>ur(ur({},h),{},{[g]:[t[g],e[g]]}),{}),c,f=h=>{c||(c=h);var g=(h-c)/r,v=_0((E,A)=>pA(...A,n(g)),u);if(a(ur(ur(ur({},t),e),v)),g<1)o=s.setTimeout(f);else{var w=_0((E,A)=>pA(...A,n(1)),u);a(ur(ur(ur({},t),e),w))}};return()=>(o=s.setTimeout(f),()=>{var h;(h=o)===null||h===void 0||h()})}const che=(t,e,n,r,i,a)=>{var s=ihe(t,e);return n==null?()=>(i(ur(ur({},t),e)),()=>{}):n.isStepper===!0?lhe(t,e,n,s,i,a):uhe(t,e,n,r,s,i,a)};var mA=1e-4,f$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],h$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),BB=(t,e)=>n=>{var r=f$(t,e);return h$(r,n)},dhe=(t,e)=>n=>{var r=f$(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return h$(i,n)},fhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},hhe=(t,e,n,r)=>{var i=BB(t,n),a=BB(e,r),s=dhe(t,n),o=c=>c>1?1:c<0?0:c,u=c=>{for(var f=c>1?1:c,h=f,g=0;g<8;++g){var v=i(h)-f,w=s(h);if(Math.abs(v-f)<mA||w<mA)return a(h);h=o(h-v/w)}return a(h)};return u.isStepper=!1,u},zB=function(){return hhe(...fhe(...arguments))},phe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,u)=>{var c=-(s-o)*n,f=u*r,h=u+(c-f)*i/1e3,g=u*i/1e3+s;return Math.abs(g-o)<mA&&Math.abs(h)<mA?[o,0]:[g,h]};return a.isStepper=!0,a.dt=i,a},mhe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zB(t);case"spring":return phe();default:if(t.split("(")[0]==="cubic-bezier")return zB(t)}return typeof t=="function"?t:null};function ghe(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[u,...c]=o;if(typeof u=="number"){i=t.setTimeout(a.bind(null,c),u);return}a(u),i=t.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class yhe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function vhe(){return ghe(new yhe)}var bhe=T.createContext(vhe);function xhe(t,e){var n=T.useContext(bhe);return T.useMemo(()=>e??n(t),[t,e,n])}var whe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),py={devToolsEnabled:!1,isSsr:whe()},She={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},HB={t:0},fR={t:1};function p$(t){var e=Ya(t,She),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:u,children:c}=e,f=n==="auto"?!py.isSsr:n,h=xhe(e.animationId,e.animationManager),[g,v]=T.useState(f?HB:fR),w=T.useRef(null);return T.useEffect(()=>{f||v(fR)},[f]),T.useEffect(()=>{if(!f||!r)return Rx;var E=che(HB,fR,mhe(a),i,v,h.getTimeoutController()),A=()=>{w.current=E()};return h.start([u,s,A,i,o]),()=>{h.stop(),w.current&&w.current(),o()}},[f,r,i,a,s,u,o,h]),c(g.t)}function m$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(v0(e)),r=T.useRef(t);return r.current!==t&&(n.current=v0(e),r.current=t),n.current}var Ehe=["radius"],Ahe=["radius"];function GB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(n),!0).forEach(function(r){_he(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e,n){return(e=Che(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Che(t){var e=The(t,"string");return typeof e=="symbol"?e:e+""}function The(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gA.apply(null,arguments)}function $B(t,e){if(t==null)return{};var n,r,i=Nhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var VB=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=i[h]>a?a:i[h];c="M".concat(t,",").concat(e+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+o*f[0],",").concat(e)),c+="L ".concat(t+n-o*f[1],",").concat(e),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+s*f[1])),c+="L ".concat(t+n,",").concat(e+r-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-o*f[2],",").concat(e+r)),c+="L ".concat(t+o*f[3],",").concat(e+r),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-s*f[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);c="M ".concat(t,",").concat(e+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+o*v,",").concat(e,`
            L `).concat(t+n-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(e+s*v,`
            L `).concat(t+n,",").concat(e+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-o*v,",").concat(e+r,`
            L `).concat(t+o*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+r-s*v," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},WB={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rhe=t=>{var e=Ya(t,WB),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&i($)}catch{}},[]);var{x:a,y:s,width:o,height:u,radius:c,className:f}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:w,isUpdateAnimationActive:E}=e,A=T.useRef(o),C=T.useRef(u),P=T.useRef(a),R=T.useRef(s),I=T.useMemo(()=>({x:a,y:s,width:o,height:u,radius:c}),[a,s,o,u,c]),k=m$(I,"rectangle-");if(a!==+a||s!==+s||o!==+o||u!==+u||o===0||u===0)return null;var L=zt("recharts-rectangle",f);if(!E){var M=Rs(e),{radius:z}=M,B=$B(M,Ehe);return T.createElement("path",gA({},B,{radius:typeof c=="number"?c:void 0,className:L,d:VB(a,s,o,u,c)}))}var V=A.current,U=C.current,q=P.current,Q=R.current,Z="0px ".concat(r===-1?1:r,"px"),ce="".concat(r,"px 0px"),G=rhe(["strokeDasharray"],g,typeof h=="string"?h:WB.animationEasing);return T.createElement(p$,{animationId:k,key:k,canBegin:r>0,duration:g,easing:h,isActive:E,begin:v},$=>{var ee=$o(V,o,$),re=$o(U,u,$),xe=$o(q,a,$),W=$o(Q,s,$);n.current&&(A.current=ee,C.current=re,P.current=xe,R.current=W);var J;w?$>0?J={transition:G,strokeDasharray:ce}:J={strokeDasharray:Z}:J={strokeDasharray:ce};var le=Rs(e),{radius:ge}=le,we=$B(le,Ahe);return T.createElement("path",gA({},we,{radius:typeof c=="number"?c:void 0,className:L,d:VB(xe,W,ee,re,c),ref:n,style:qB(qB({},J),e.style)}))})};function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return(e=Phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Phe(t){var e=khe(t,"string");return typeof e=="symbol"?e:e+""}function khe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yA=Math.PI/180,Dhe=t=>t*180/Math.PI,Xr=(t,e,n,r)=>({x:t+Math.cos(-yA*r)*n,y:e+Math.sin(-yA*r)*n}),Ihe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Lhe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Ohe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=Lhe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,u=Math.acos(o);return r>a&&(u=2*Math.PI-u),{radius:s,angle:Dhe(u),angleInRadian:u}},jhe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Fhe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},Uhe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=Ohe({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:u,endAngle:c}=jhe(e),f=a,h;if(u<=c){for(;f>c;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=c}else{for(;f>u;)f-=360;for(;f<c;)f+=360;h=f>=c&&f<=u}return h?KB(KB({},e),{},{radius:i,angle:Fhe(f,e)}):null};function g$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=Xr(e,n,r,i),o=Xr(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J2.apply(null,arguments)}var Bhe=(t,e)=>{var n=As(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},kS=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:u}=t,c=o*(s?1:-1)+r,f=Math.asin(o/c)/yA,h=u?i:i+a*f,g=Xr(e,n,c,h),v=Xr(e,n,r,h),w=u?i-a*f:i,E=Xr(e,n,c*Math.cos(f*yA),w);return{center:g,circleTangency:v,lineTangency:E,theta:f}},y$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=Bhe(a,s),u=a+o,c=Xr(e,n,i,a),f=Xr(e,n,i,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var g=Xr(e,n,r,a),v=Xr(e,n,r,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},zhe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:u,endAngle:c}=t,f=As(c-u),{circleTangency:h,lineTangency:g,theta:v}=kS({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:E,theta:A}=kS({cx:e,cy:n,radius:i,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:o}),C=o?Math.abs(u-c):Math.abs(u-c)-v-A;if(C<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):y$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:c});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:I,theta:k}=kS({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:L,lineTangency:M,theta:z}=kS({cx:e,cy:n,radius:r,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),B=o?Math.abs(u-c):Math.abs(u-c)-k-z;if(B<0&&a===0)return"".concat(P,"L").concat(e,",").concat(n,"Z");P+="L".concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else P+="L".concat(e,",").concat(n,"Z");return P},Hhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ghe=t=>{var e=Ya(t,Hhe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:f,className:h}=e;if(a<i||c===f)return null;var g=zt("recharts-sector",h),v=a-i,w=_d(s,v,0,!0),E;return w>0&&Math.abs(c-f)<360?E=zhe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,v/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:f}):E=y$({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:f}),T.createElement("path",J2({},Rs(e),{className:g,d:E}))};function qhe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(tq(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,u=Xr(r,i,a,o),c=Xr(r,i,s,o);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return g$(e)}}var hR={},pR={},mR={},XB;function $he(){return XB||(XB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fq();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(mR)),mR}var JB;function Vhe(){return JB||(JB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$he();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(pR)),pR}var QB;function Whe(){return QB||(QB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hq(),n=Vhe();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(o);for(let c=0;c<o;c++)u[c]=i,i+=s;return u}t.range=r})(hR)),hR}var gR,ZB;function Yhe(){return ZB||(ZB=1,gR=Whe().range),gR}var Khe=Yhe();const v$=uo(Khe);function Ed(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xhe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eD(t){let e,n,r;t.length!==2?(e=Ed,n=(o,u)=>Ed(t(o),u),r=(o,u)=>t(o)-u):(e=t===Ed||t===Xhe?t:Jhe,n=t,r=t);function i(o,u,c=0,f=o.length){if(c<f){if(e(u,u)!==0)return f;do{const h=c+f>>>1;n(o[h],u)<0?c=h+1:f=h}while(c<f)}return c}function a(o,u,c=0,f=o.length){if(c<f){if(e(u,u)!==0)return f;do{const h=c+f>>>1;n(o[h],u)<=0?c=h+1:f=h}while(c<f)}return c}function s(o,u,c=0,f=o.length){const h=i(o,u,c,f-1);return h>c&&r(o[h-1],u)>-r(o[h],u)?h-1:h}return{left:i,center:s,right:a}}function Jhe(){return 0}function b$(t){return t===null?NaN:+t}function*Qhe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Zhe=eD(Ed),Ox=Zhe.right;eD(b$).center;class e5 extends Map{constructor(e,n=npe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(t5(this,e))}has(e){return super.has(t5(this,e))}set(e,n){return super.set(epe(this,e),n)}delete(e){return super.delete(tpe(this,e))}}function t5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function epe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function tpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function npe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rpe(t=Ed){if(t===Ed)return x$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function x$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ipe=Math.sqrt(50),ape=Math.sqrt(10),spe=Math.sqrt(2);function vA(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=ipe?10:a>=ape?5:a>=spe?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),u=Math.round(e*c),o/c<t&&++o,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),u=Math.round(e/c),o*c<t&&++o,u*c>e&&--u),u<o&&.5<=n&&n<2?vA(t,e,n*2):[o,u,c]}function Q2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?vA(e,t,n):vA(t,e,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)u[c]=(a-c)/-s;else for(let c=0;c<o;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)u[c]=(i+c)/-s;else for(let c=0;c<o;++c)u[c]=(i+c)*s;return u}function Z2(t,e,n){return e=+e,t=+t,n=+n,vA(t,e,n)[2]}function eM(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Z2(e,t,n):Z2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function n5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function r5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function w$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?x$:rpe(i);r>n;){if(r-n>600){const u=r-n+1,c=e-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(u-h)/u)*(c-u/2<0?-1:1),v=Math.max(n,Math.floor(e-c*h/u+g)),w=Math.min(r,Math.floor(e+(u-c)*h/u+g));w$(t,e,v,w,i)}const a=t[e];let s=n,o=r;for(Nv(t,n,e),i(t[r],a)>0&&Nv(t,n,r);s<o;){for(Nv(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Nv(t,n,o):(++o,Nv(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Nv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ope(t,e,n){if(t=Float64Array.from(Qhe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return r5(t);if(e>=1)return n5(t);var r,i=(r-1)*e,a=Math.floor(i),s=n5(w$(t,a).subarray(0,a+1)),o=r5(t.subarray(a+1));return s+(o-s)*(i-a)}}function lpe(t,e,n=b$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function upe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ks(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tM=Symbol("implicit");function tD(){var t=new e5,e=[],n=[],r=tM;function i(a){let s=t.get(a);if(s===void 0){if(r!==tM)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new e5;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return tD(e,n).unknown(r)},ks.apply(i,arguments),i}function nD(){var t=tD().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,u=0,c=0,f=.5;delete t.unknown;function h(){var g=e().length,v=i<r,w=v?i:r,E=v?r:i;a=(E-w)/Math.max(1,g-u+c*2),o&&(a=Math.floor(a)),w+=(E-w-a*(g-u))*f,s=a*(1-u),o&&(w=Math.round(w),s=Math.round(s));var A=upe(g).map(function(C){return w+a*C});return n(v?A.reverse():A)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(o=!!g,h()):o},t.padding=function(g){return arguments.length?(u=Math.min(1,c=+g),h()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),h()):u},t.paddingOuter=function(g){return arguments.length?(c=+g,h()):c},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},t.copy=function(){return nD(e(),[r,i]).round(o).paddingInner(u).paddingOuter(c).align(f)},ks.apply(h(),arguments)}function S$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return S$(e())},t}function cpe(){return S$(nD.apply(null,arguments).paddingInner(1))}function rD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function E$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jx(){}var C0=.7,bA=1/C0,bm="\\s*([+-]?\\d+)\\s*",T0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dpe=/^#([0-9a-f]{3,8})$/,fpe=new RegExp(`^rgb\\(${bm},${bm},${bm}\\)$`),hpe=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),ppe=new RegExp(`^rgba\\(${bm},${bm},${bm},${T0}\\)$`),mpe=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${T0}\\)$`),gpe=new RegExp(`^hsl\\(${T0},${Jo},${Jo}\\)$`),ype=new RegExp(`^hsla\\(${T0},${Jo},${Jo},${T0}\\)$`),i5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rD(jx,N0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:a5,formatHex:a5,formatHex8:vpe,formatHsl:bpe,formatRgb:s5,toString:s5});function a5(){return this.rgb().formatHex()}function vpe(){return this.rgb().formatHex8()}function bpe(){return A$(this).formatHsl()}function s5(){return this.rgb().formatRgb()}function N0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?o5(e):n===3?new na(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?DS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?DS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fpe.exec(t))?new na(e[1],e[2],e[3],1):(e=hpe.exec(t))?new na(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ppe.exec(t))?DS(e[1],e[2],e[3],e[4]):(e=mpe.exec(t))?DS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gpe.exec(t))?c5(e[1],e[2]/100,e[3]/100,1):(e=ype.exec(t))?c5(e[1],e[2]/100,e[3]/100,e[4]):i5.hasOwnProperty(t)?o5(i5[t]):t==="transparent"?new na(NaN,NaN,NaN,0):null}function o5(t){return new na(t>>16&255,t>>8&255,t&255,1)}function DS(t,e,n,r){return r<=0&&(t=e=n=NaN),new na(t,e,n,r)}function xpe(t){return t instanceof jx||(t=N0(t)),t?(t=t.rgb(),new na(t.r,t.g,t.b,t.opacity)):new na}function nM(t,e,n,r){return arguments.length===1?xpe(t):new na(t,e,n,r??1)}function na(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rD(na,nM,E$(jx,{brighter(t){return t=t==null?bA:Math.pow(bA,t),new na(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?C0:Math.pow(C0,t),new na(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new na(Uh(this.r),Uh(this.g),Uh(this.b),xA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l5,formatHex:l5,formatHex8:wpe,formatRgb:u5,toString:u5}));function l5(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}`}function wpe(){return`#${wf(this.r)}${wf(this.g)}${wf(this.b)}${wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function u5(){const t=xA(this.opacity);return`${t===1?"rgb(":"rgba("}${Uh(this.r)}, ${Uh(this.g)}, ${Uh(this.b)}${t===1?")":`, ${t})`}`}function xA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Uh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wf(t){return t=Uh(t),(t<16?"0":"")+t.toString(16)}function c5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new to(t,e,n,r)}function A$(t){if(t instanceof to)return new to(t.h,t.s,t.l,t.opacity);if(t instanceof jx||(t=N0(t)),!t)return new to;if(t instanceof to)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,u=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new to(s,o,u,t.opacity)}function Spe(t,e,n,r){return arguments.length===1?A$(t):new to(t,e,n,r??1)}function to(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rD(to,Spe,E$(jx,{brighter(t){return t=t==null?bA:Math.pow(bA,t),new to(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?C0:Math.pow(C0,t),new to(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new na(yR(t>=240?t-240:t+120,i,r),yR(t,i,r),yR(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new to(d5(this.h),IS(this.s),IS(this.l),xA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xA(this.opacity);return`${t===1?"hsl(":"hsla("}${d5(this.h)}, ${IS(this.s)*100}%, ${IS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function d5(t){return t=(t||0)%360,t<0?t+360:t}function IS(t){return Math.max(0,Math.min(1,t||0))}function yR(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const iD=t=>()=>t;function Epe(t,e){return function(n){return t+n*e}}function Ape(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _pe(t){return(t=+t)==1?_$:function(e,n){return n-e?Ape(e,n,t):iD(isNaN(e)?n:e)}}function _$(t,e){var n=e-t;return n?Epe(t,n):iD(isNaN(t)?e:t)}const f5=(function t(e){var n=_pe(e);function r(i,a){var s=n((i=nM(i)).r,(a=nM(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),c=_$(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=t,r})(1);function Cpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Tpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Npe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=my(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Rpe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wA(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mpe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=my(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var rM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vR=new RegExp(rM.source,"g");function Ppe(t){return function(){return t}}function kpe(t){return function(e){return t(e)+""}}function Dpe(t,e){var n=rM.lastIndex=vR.lastIndex=0,r,i,a,s=-1,o=[],u=[];for(t=t+"",e=e+"";(r=rM.exec(t))&&(i=vR.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,u.push({i:s,x:wA(r,i)})),n=vR.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?kpe(u[0].x):Ppe(e):(e=u.length,function(c){for(var f=0,h;f<e;++f)o[(h=u[f]).i]=h.x(c);return o.join("")})}function my(t,e){var n=typeof e,r;return e==null||n==="boolean"?iD(e):(n==="number"?wA:n==="string"?(r=N0(e))?(e=r,f5):Dpe:e instanceof N0?f5:e instanceof Date?Rpe:Tpe(e)?Cpe:Array.isArray(e)?Npe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mpe:wA)(t,e)}function aD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ipe(t,e){e===void 0&&(e=t,t=my);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Lpe(t){return function(){return t}}function SA(t){return+t}var h5=[0,1];function Ri(t){return t}function iM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Lpe(isNaN(e)?NaN:.5)}function Ope(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jpe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=iM(i,r),a=n(s,a)):(r=iM(r,i),a=n(a,s)),function(o){return a(r(o))}}function Fpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=iM(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var u=Ox(t,o,1,r)-1;return a[u](i[u](o))}}function Fx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function s_(){var t=h5,e=h5,n=my,r,i,a,s=Ri,o,u,c;function f(){var g=Math.min(t.length,e.length);return s!==Ri&&(s=Ope(t[0],t[g-1])),o=g>2?Fpe:jpe,u=c=null,h}function h(g){return g==null||isNaN(g=+g)?a:(u||(u=o(t.map(r),e,n)))(r(s(g)))}return h.invert=function(g){return s(i((c||(c=o(e,t.map(r),wA)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,SA),f()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),n=aD,f()},h.clamp=function(g){return arguments.length?(s=g?!0:Ri,f()):s!==Ri},h.interpolate=function(g){return arguments.length?(n=g,f()):n},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,v){return r=g,i=v,f()}}function sD(){return s_()(Ri,Ri)}function Upe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function EA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ty(t){return t=EA(Math.abs(t)),t?t[1]:NaN}function Bpe(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function zpe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R0(t){if(!(e=Hpe.exec(t)))throw new Error("invalid format: "+t);var e;return new oD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}R0.prototype=oD.prototype;function oD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var C$;function qpe(t,e){var n=EA(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(C$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+EA(t,Math.max(0,e+a-1))[0]}function p5(t,e){var n=EA(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const m5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Upe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>p5(t*100,e),r:p5,s:qpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function g5(t){return t}var y5=Array.prototype.map,v5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $pe(t){var e=t.grouping===void 0||t.thousands===void 0?g5:Bpe(y5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?g5:zpe(y5.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h){h=R0(h);var g=h.fill,v=h.align,w=h.sign,E=h.symbol,A=h.zero,C=h.width,P=h.comma,R=h.precision,I=h.trim,k=h.type;k==="n"?(P=!0,k="g"):m5[k]||(R===void 0&&(R=12),I=!0,k="g"),(A||g==="0"&&v==="=")&&(A=!0,g="0",v="=");var L=E==="$"?n:E==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M=E==="$"?r:/[%p]/.test(k)?s:"",z=m5[k],B=/[defgprs%]/.test(k);R=R===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function V(U){var q=L,Q=M,Z,ce,G;if(k==="c")Q=z(U)+Q,U="";else{U=+U;var $=U<0||1/U<0;if(U=isNaN(U)?u:z(Math.abs(U),R),I&&(U=Gpe(U)),$&&+U==0&&w!=="+"&&($=!1),q=($?w==="("?w:o:w==="-"||w==="("?"":w)+q,Q=(k==="s"?v5[8+C$/3]:"")+Q+($&&w==="("?")":""),B){for(Z=-1,ce=U.length;++Z<ce;)if(G=U.charCodeAt(Z),48>G||G>57){Q=(G===46?i+U.slice(Z+1):U.slice(Z))+Q,U=U.slice(0,Z);break}}}P&&!A&&(U=e(U,1/0));var ee=q.length+U.length+Q.length,re=ee<C?new Array(C-ee+1).join(g):"";switch(P&&A&&(U=e(re+U,re.length?C-Q.length:1/0),re=""),v){case"<":U=q+U+Q+re;break;case"=":U=q+re+U+Q;break;case"^":U=re.slice(0,ee=re.length>>1)+q+U+Q+re.slice(ee);break;default:U=re+q+U+Q;break}return a(U)}return V.toString=function(){return h+""},V}function f(h,g){var v=c((h=R0(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(ty(g)/3)))*3,E=Math.pow(10,-w),A=v5[8+w/3];return function(C){return v(E*C)+A}}return{format:c,formatPrefix:f}}var LS,lD,T$;Vpe({thousands:",",grouping:[3],currency:["$",""]});function Vpe(t){return LS=$pe(t),lD=LS.format,T$=LS.formatPrefix,LS}function Wpe(t){return Math.max(0,-ty(Math.abs(t)))}function Ype(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ty(e)/3)))*3-ty(Math.abs(t)))}function Kpe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ty(e)-ty(t))+1}function N$(t,e,n,r){var i=eM(t,e,n),a;switch(r=R0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Ype(i,s))&&(r.precision=a),T$(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Kpe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Wpe(i))&&(r.precision=a-(r.type==="%")*2);break}}return lD(r)}function Id(t){var e=t.domain;return t.ticks=function(n){var r=e();return Q2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return N$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],u,c,f=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);f-- >0;){if(c=Z2(s,o,n),c===u)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;u=c}return t},t}function R$(){var t=sD();return t.copy=function(){return Fx(t,R$())},ks.apply(t,arguments),Id(t)}function M$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,SA),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return M$(t).unknown(e)},t=arguments.length?Array.from(t,SA):[0,1],Id(n)}function P$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function b5(t){return Math.log(t)}function x5(t){return Math.exp(t)}function Xpe(t){return-Math.log(-t)}function Jpe(t){return-Math.exp(-t)}function Qpe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Zpe(t){return t===10?Qpe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function eme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function w5(t){return(e,n)=>-t(-e,n)}function uD(t){const e=t(b5,x5),n=e.domain;let r=10,i,a;function s(){return i=eme(r),a=Zpe(r),n()[0]<0?(i=w5(i),a=w5(a),t(Xpe,Jpe)):t(b5,x5),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const u=n();let c=u[0],f=u[u.length-1];const h=f<c;h&&([c,f]=[f,c]);let g=i(c),v=i(f),w,E;const A=o==null?10:+o;let C=[];if(!(r%1)&&v-g<A){if(g=Math.floor(g),v=Math.ceil(v),c>0){for(;g<=v;++g)for(w=1;w<r;++w)if(E=g<0?w/a(-g):w*a(g),!(E<c)){if(E>f)break;C.push(E)}}else for(;g<=v;++g)for(w=r-1;w>=1;--w)if(E=g>0?w/a(-g):w*a(g),!(E<c)){if(E>f)break;C.push(E)}C.length*2<A&&(C=Q2(c,f,A))}else C=Q2(g,v,Math.min(v-g,A)).map(a);return h?C.reverse():C},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=R0(u)).precision==null&&(u.trim=!0),u=lD(u)),o===1/0)return u;const c=Math.max(1,r*o/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=c?u(f):""}},e.nice=()=>n(P$(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function k$(){const t=uD(s_()).domain([1,10]);return t.copy=()=>Fx(t,k$()).base(t.base()),ks.apply(t,arguments),t}function S5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function E5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function cD(t){var e=1,n=t(S5(e),E5(e));return n.constant=function(r){return arguments.length?t(S5(e=+r),E5(e)):e},Id(n)}function D$(){var t=cD(s_());return t.copy=function(){return Fx(t,D$()).constant(t.constant())},ks.apply(t,arguments)}function A5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function tme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function nme(t){return t<0?-t*t:t*t}function dD(t){var e=t(Ri,Ri),n=1;function r(){return n===1?t(Ri,Ri):n===.5?t(tme,nme):t(A5(n),A5(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Id(e)}function fD(){var t=dD(s_());return t.copy=function(){return Fx(t,fD()).exponent(t.exponent())},ks.apply(t,arguments),t}function rme(){return fD.apply(null,arguments).exponent(.5)}function _5(t){return Math.sign(t)*t*t}function ime(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function I$(){var t=sD(),e=[0,1],n=!1,r;function i(a){var s=ime(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(_5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,SA)).map(_5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return I$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ks.apply(i,arguments),Id(i)}function L$(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=lpe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Ox(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ed),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return L$().domain(t).range(e).unknown(r)},ks.apply(a,arguments)}function O$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[Ox(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return O$().domain([t,e]).range(i).unknown(a)},ks.apply(Id(s),arguments)}function j$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Ox(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return j$().domain(t).range(e).unknown(n)},ks.apply(i,arguments)}const bR=new Date,xR=new Date;function hr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let c;do u.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return u},i.filter=a=>hr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(bR.setTime(+a),xR.setTime(+s),t(bR),t(xR),Math.floor(n(bR,xR))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const AA=hr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);AA.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):AA);AA.range;const pu=1e3,_s=pu*60,mu=_s*60,Tu=mu*24,hD=Tu*7,C5=Tu*30,wR=Tu*365,Sf=hr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pu)},(t,e)=>(e-t)/pu,t=>t.getUTCSeconds());Sf.range;const pD=hr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pu)},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getMinutes());pD.range;const mD=hr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getUTCMinutes());mD.range;const gD=hr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pu-t.getMinutes()*_s)},(t,e)=>{t.setTime(+t+e*mu)},(t,e)=>(e-t)/mu,t=>t.getHours());gD.range;const yD=hr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*mu)},(t,e)=>(e-t)/mu,t=>t.getUTCHours());yD.range;const Ux=hr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_s)/Tu,t=>t.getDate()-1);Ux.range;const o_=hr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tu,t=>t.getUTCDate()-1);o_.range;const F$=hr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tu,t=>Math.floor(t/Tu));F$.range;function Zh(t){return hr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_s)/hD)}const l_=Zh(0),_A=Zh(1),ame=Zh(2),sme=Zh(3),ny=Zh(4),ome=Zh(5),lme=Zh(6);l_.range;_A.range;ame.range;sme.range;ny.range;ome.range;lme.range;function ep(t){return hr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/hD)}const u_=ep(0),CA=ep(1),ume=ep(2),cme=ep(3),ry=ep(4),dme=ep(5),fme=ep(6);u_.range;CA.range;ume.range;cme.range;ry.range;dme.range;fme.range;const vD=hr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vD.range;const bD=hr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bD.range;const Nu=hr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Nu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Nu.range;const Ru=hr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ru.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ru.range;function U$(t,e,n,r,i,a){const s=[[Sf,1,pu],[Sf,5,5*pu],[Sf,15,15*pu],[Sf,30,30*pu],[a,1,_s],[a,5,5*_s],[a,15,15*_s],[a,30,30*_s],[i,1,mu],[i,3,3*mu],[i,6,6*mu],[i,12,12*mu],[r,1,Tu],[r,2,2*Tu],[n,1,hD],[e,1,C5],[e,3,3*C5],[t,1,wR]];function o(c,f,h){const g=f<c;g&&([c,f]=[f,c]);const v=h&&typeof h.range=="function"?h:u(c,f,h),w=v?v.range(c,+f+1):[];return g?w.reverse():w}function u(c,f,h){const g=Math.abs(f-c)/h,v=eD(([,,A])=>A).right(s,g);if(v===s.length)return t.every(eM(c/wR,f/wR,h));if(v===0)return AA.every(Math.max(eM(c,f,h),1));const[w,E]=s[g/s[v-1][2]<s[v][2]/g?v-1:v];return w.every(E)}return[o,u]}const[hme,pme]=U$(Ru,bD,u_,F$,yD,mD),[mme,gme]=U$(Nu,vD,l_,Ux,gD,pD);function SR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ER(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,u=t.shortMonths,c=Mv(i),f=Pv(i),h=Mv(a),g=Pv(a),v=Mv(s),w=Pv(s),E=Mv(o),A=Pv(o),C=Mv(u),P=Pv(u),R={a:$,A:ee,b:re,B:xe,c:null,d:k5,e:k5,f:Bme,g:Xme,G:Qme,H:jme,I:Fme,j:Ume,L:B$,m:zme,M:Hme,p:W,q:J,Q:L5,s:O5,S:Gme,u:qme,U:$me,V:Vme,w:Wme,W:Yme,x:null,X:null,y:Kme,Y:Jme,Z:Zme,"%":I5},I={a:le,A:ge,b:we,B:Te,c:null,d:D5,e:D5,f:rge,g:hge,G:mge,H:ege,I:tge,j:nge,L:H$,m:ige,M:age,p:Ae,q:mt,Q:L5,s:O5,S:sge,u:oge,U:lge,V:uge,w:cge,W:dge,x:null,X:null,y:fge,Y:pge,Z:gge,"%":I5},k={a:V,A:U,b:q,B:Q,c:Z,d:M5,e:M5,f:Dme,g:R5,G:N5,H:P5,I:P5,j:Rme,L:kme,m:Nme,M:Mme,p:B,q:Tme,Q:Lme,s:Ome,S:Pme,u:Sme,U:Eme,V:Ame,w:wme,W:_me,x:ce,X:G,y:R5,Y:N5,Z:Cme,"%":Ime};R.x=L(n,R),R.X=L(r,R),R.c=L(e,R),I.x=L(n,I),I.X=L(r,I),I.c=L(e,I);function L(de,Ne){return function(Ke){var pe=[],Ve=-1,je=0,dt=de.length,Ze,yr,la;for(Ke instanceof Date||(Ke=new Date(+Ke));++Ve<dt;)de.charCodeAt(Ve)===37&&(pe.push(de.slice(je,Ve)),(yr=T5[Ze=de.charAt(++Ve)])!=null?Ze=de.charAt(++Ve):yr=Ze==="e"?" ":"0",(la=Ne[Ze])&&(Ze=la(Ke,yr)),pe.push(Ze),je=Ve+1);return pe.push(de.slice(je,Ve)),pe.join("")}}function M(de,Ne){return function(Ke){var pe=Rv(1900,void 0,1),Ve=z(pe,de,Ke+="",0),je,dt;if(Ve!=Ke.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Ne&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(je=ER(Rv(pe.y,0,1)),dt=je.getUTCDay(),je=dt>4||dt===0?CA.ceil(je):CA(je),je=o_.offset(je,(pe.V-1)*7),pe.y=je.getUTCFullYear(),pe.m=je.getUTCMonth(),pe.d=je.getUTCDate()+(pe.w+6)%7):(je=SR(Rv(pe.y,0,1)),dt=je.getDay(),je=dt>4||dt===0?_A.ceil(je):_A(je),je=Ux.offset(je,(pe.V-1)*7),pe.y=je.getFullYear(),pe.m=je.getMonth(),pe.d=je.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),dt="Z"in pe?ER(Rv(pe.y,0,1)).getUTCDay():SR(Rv(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(dt+5)%7:pe.w+pe.U*7-(dt+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,ER(pe)):SR(pe)}}function z(de,Ne,Ke,pe){for(var Ve=0,je=Ne.length,dt=Ke.length,Ze,yr;Ve<je;){if(pe>=dt)return-1;if(Ze=Ne.charCodeAt(Ve++),Ze===37){if(Ze=Ne.charAt(Ve++),yr=k[Ze in T5?Ne.charAt(Ve++):Ze],!yr||(pe=yr(de,Ke,pe))<0)return-1}else if(Ze!=Ke.charCodeAt(pe++))return-1}return pe}function B(de,Ne,Ke){var pe=c.exec(Ne.slice(Ke));return pe?(de.p=f.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function V(de,Ne,Ke){var pe=v.exec(Ne.slice(Ke));return pe?(de.w=w.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function U(de,Ne,Ke){var pe=h.exec(Ne.slice(Ke));return pe?(de.w=g.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function q(de,Ne,Ke){var pe=C.exec(Ne.slice(Ke));return pe?(de.m=P.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function Q(de,Ne,Ke){var pe=E.exec(Ne.slice(Ke));return pe?(de.m=A.get(pe[0].toLowerCase()),Ke+pe[0].length):-1}function Z(de,Ne,Ke){return z(de,e,Ne,Ke)}function ce(de,Ne,Ke){return z(de,n,Ne,Ke)}function G(de,Ne,Ke){return z(de,r,Ne,Ke)}function $(de){return s[de.getDay()]}function ee(de){return a[de.getDay()]}function re(de){return u[de.getMonth()]}function xe(de){return o[de.getMonth()]}function W(de){return i[+(de.getHours()>=12)]}function J(de){return 1+~~(de.getMonth()/3)}function le(de){return s[de.getUTCDay()]}function ge(de){return a[de.getUTCDay()]}function we(de){return u[de.getUTCMonth()]}function Te(de){return o[de.getUTCMonth()]}function Ae(de){return i[+(de.getUTCHours()>=12)]}function mt(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Ne=L(de+="",R);return Ne.toString=function(){return de},Ne},parse:function(de){var Ne=M(de+="",!1);return Ne.toString=function(){return de},Ne},utcFormat:function(de){var Ne=L(de+="",I);return Ne.toString=function(){return de},Ne},utcParse:function(de){var Ne=M(de+="",!0);return Ne.toString=function(){return de},Ne}}}var T5={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,vme=/^%/,bme=/[\\^$*+?|[\]().{}]/g;function Mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function xme(t){return t.replace(bme,"\\$&")}function Mv(t){return new RegExp("^(?:"+t.map(xme).join("|")+")","i")}function Pv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function wme(t,e,n){var r=Dr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Sme(t,e,n){var r=Dr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Eme(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ame(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _me(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function N5(t,e,n){var r=Dr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function R5(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Cme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Tme(t,e,n){var r=Dr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Nme(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function M5(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Rme(t,e,n){var r=Dr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function P5(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mme(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Pme(t,e,n){var r=Dr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function kme(t,e,n){var r=Dr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Dme(t,e,n){var r=Dr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ime(t,e,n){var r=vme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Lme(t,e,n){var r=Dr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ome(t,e,n){var r=Dr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function k5(t,e){return Mt(t.getDate(),e,2)}function jme(t,e){return Mt(t.getHours(),e,2)}function Fme(t,e){return Mt(t.getHours()%12||12,e,2)}function Ume(t,e){return Mt(1+Ux.count(Nu(t),t),e,3)}function B$(t,e){return Mt(t.getMilliseconds(),e,3)}function Bme(t,e){return B$(t,e)+"000"}function zme(t,e){return Mt(t.getMonth()+1,e,2)}function Hme(t,e){return Mt(t.getMinutes(),e,2)}function Gme(t,e){return Mt(t.getSeconds(),e,2)}function qme(t){var e=t.getDay();return e===0?7:e}function $me(t,e){return Mt(l_.count(Nu(t)-1,t),e,2)}function z$(t){var e=t.getDay();return e>=4||e===0?ny(t):ny.ceil(t)}function Vme(t,e){return t=z$(t),Mt(ny.count(Nu(t),t)+(Nu(t).getDay()===4),e,2)}function Wme(t){return t.getDay()}function Yme(t,e){return Mt(_A.count(Nu(t)-1,t),e,2)}function Kme(t,e){return Mt(t.getFullYear()%100,e,2)}function Xme(t,e){return t=z$(t),Mt(t.getFullYear()%100,e,2)}function Jme(t,e){return Mt(t.getFullYear()%1e4,e,4)}function Qme(t,e){var n=t.getDay();return t=n>=4||n===0?ny(t):ny.ceil(t),Mt(t.getFullYear()%1e4,e,4)}function Zme(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mt(e/60|0,"0",2)+Mt(e%60,"0",2)}function D5(t,e){return Mt(t.getUTCDate(),e,2)}function ege(t,e){return Mt(t.getUTCHours(),e,2)}function tge(t,e){return Mt(t.getUTCHours()%12||12,e,2)}function nge(t,e){return Mt(1+o_.count(Ru(t),t),e,3)}function H$(t,e){return Mt(t.getUTCMilliseconds(),e,3)}function rge(t,e){return H$(t,e)+"000"}function ige(t,e){return Mt(t.getUTCMonth()+1,e,2)}function age(t,e){return Mt(t.getUTCMinutes(),e,2)}function sge(t,e){return Mt(t.getUTCSeconds(),e,2)}function oge(t){var e=t.getUTCDay();return e===0?7:e}function lge(t,e){return Mt(u_.count(Ru(t)-1,t),e,2)}function G$(t){var e=t.getUTCDay();return e>=4||e===0?ry(t):ry.ceil(t)}function uge(t,e){return t=G$(t),Mt(ry.count(Ru(t),t)+(Ru(t).getUTCDay()===4),e,2)}function cge(t){return t.getUTCDay()}function dge(t,e){return Mt(CA.count(Ru(t)-1,t),e,2)}function fge(t,e){return Mt(t.getUTCFullYear()%100,e,2)}function hge(t,e){return t=G$(t),Mt(t.getUTCFullYear()%100,e,2)}function pge(t,e){return Mt(t.getUTCFullYear()%1e4,e,4)}function mge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ry(t):ry.ceil(t),Mt(t.getUTCFullYear()%1e4,e,4)}function gge(){return"+0000"}function I5(){return"%"}function L5(t){return+t}function O5(t){return Math.floor(+t/1e3)}var Bp,q$,$$;yge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yge(t){return Bp=yme(t),q$=Bp.format,Bp.parse,$$=Bp.utcFormat,Bp.utcParse,Bp}function vge(t){return new Date(t)}function bge(t){return t instanceof Date?+t:+new Date(+t)}function xD(t,e,n,r,i,a,s,o,u,c){var f=sD(),h=f.invert,g=f.domain,v=c(".%L"),w=c(":%S"),E=c("%I:%M"),A=c("%I %p"),C=c("%a %d"),P=c("%b %d"),R=c("%B"),I=c("%Y");function k(L){return(u(L)<L?v:o(L)<L?w:s(L)<L?E:a(L)<L?A:r(L)<L?i(L)<L?C:P:n(L)<L?R:I)(L)}return f.invert=function(L){return new Date(h(L))},f.domain=function(L){return arguments.length?g(Array.from(L,bge)):g().map(vge)},f.ticks=function(L){var M=g();return t(M[0],M[M.length-1],L??10)},f.tickFormat=function(L,M){return M==null?k:c(M)},f.nice=function(L){var M=g();return(!L||typeof L.range!="function")&&(L=e(M[0],M[M.length-1],L??10)),L?g(P$(M,L)):f},f.copy=function(){return Fx(f,xD(t,e,n,r,i,a,s,o,u,c))},f}function xge(){return ks.apply(xD(mme,gme,Nu,vD,l_,Ux,gD,pD,Sf,q$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wge(){return ks.apply(xD(hme,pme,Ru,bD,u_,o_,yD,mD,Sf,$$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function c_(){var t=0,e=1,n,r,i,a,s=Ri,o=!1,u;function c(h){return h==null||isNaN(h=+h)?u:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(s=h,c):s};function f(h){return function(g){var v,w;return arguments.length?([v,w]=g,s=h(v,w),c):[s(0),s(1)]}}return c.range=f(my),c.rangeRound=f(aD),c.unknown=function(h){return arguments.length?(u=h,c):u},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function Ld(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function V$(){var t=Id(c_()(Ri));return t.copy=function(){return Ld(t,V$())},Gu.apply(t,arguments)}function W$(){var t=uD(c_()).domain([1,10]);return t.copy=function(){return Ld(t,W$()).base(t.base())},Gu.apply(t,arguments)}function Y$(){var t=cD(c_());return t.copy=function(){return Ld(t,Y$()).constant(t.constant())},Gu.apply(t,arguments)}function wD(){var t=dD(c_());return t.copy=function(){return Ld(t,wD()).exponent(t.exponent())},Gu.apply(t,arguments)}function Sge(){return wD.apply(null,arguments).exponent(.5)}function K$(){var t=[],e=Ri;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ox(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ed),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>ope(t,a/r))},n.copy=function(){return K$(e).domain(t)},Gu.apply(n,arguments)}function d_(){var t=0,e=.5,n=1,r=1,i,a,s,o,u,c=Ri,f,h=!1,g;function v(E){return isNaN(E=+E)?g:(E=.5+((E=+f(E))-a)*(r*E<r*a?o:u),c(h?Math.max(0,Math.min(1,E)):E))}v.domain=function(E){return arguments.length?([t,e,n]=E,i=f(t=+t),a=f(e=+e),s=f(n=+n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(E){return arguments.length?(h=!!E,v):h},v.interpolator=function(E){return arguments.length?(c=E,v):c};function w(E){return function(A){var C,P,R;return arguments.length?([C,P,R]=A,c=Ipe(E,[C,P,R]),v):[c(0),c(.5),c(1)]}}return v.range=w(my),v.rangeRound=w(aD),v.unknown=function(E){return arguments.length?(g=E,v):g},function(E){return f=E,i=E(t),a=E(e),s=E(n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function X$(){var t=Id(d_()(Ri));return t.copy=function(){return Ld(t,X$())},Gu.apply(t,arguments)}function J$(){var t=uD(d_()).domain([.1,1,10]);return t.copy=function(){return Ld(t,J$()).base(t.base())},Gu.apply(t,arguments)}function Q$(){var t=cD(d_());return t.copy=function(){return Ld(t,Q$()).constant(t.constant())},Gu.apply(t,arguments)}function SD(){var t=dD(d_());return t.copy=function(){return Ld(t,SD()).exponent(t.exponent())},Gu.apply(t,arguments)}function Ege(){return SD.apply(null,arguments).exponent(.5)}const Uv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nD,scaleDiverging:X$,scaleDivergingLog:J$,scaleDivergingPow:SD,scaleDivergingSqrt:Ege,scaleDivergingSymlog:Q$,scaleIdentity:M$,scaleImplicit:tM,scaleLinear:R$,scaleLog:k$,scaleOrdinal:tD,scalePoint:cpe,scalePow:fD,scaleQuantile:L$,scaleQuantize:O$,scaleRadial:I$,scaleSequential:V$,scaleSequentialLog:W$,scaleSequentialPow:wD,scaleSequentialQuantile:K$,scaleSequentialSqrt:Sge,scaleSequentialSymlog:Y$,scaleSqrt:rme,scaleSymlog:D$,scaleThreshold:j$,scaleTime:xge,scaleUtc:wge,tickFormat:N$},Symbol.toStringTag,{value:"Module"}));var Od=t=>t.chartData,Age=fe([Od],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ED=(t,e,n,r)=>r?Age(t):Od(t);function Cd(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(jn(e)&&jn(n))return!0}return!1}function j5(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Z$(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(jn(n))i=n;else if(typeof n=="function")return;if(jn(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Cd(s))return s}}function _ge(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Cd(r))return j5(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if($e(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&hB.test(i)){var u=hB.exec(i);if(u==null||e==null)s=void 0;else{var c=+u[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if($e(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&pB.test(a)){var f=pB.exec(a);if(f==null||e==null)o=void 0;else{var h=+f[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[s,o];if(Cd(g))return e==null?g:j5(g,e,n)}}}var gy=1e9,Cge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_D,xn=!0,Ps="[DecimalError] ",Bh=Ps+"Invalid argument: ",AD=Ps+"Exponent out of range: ",yy=Math.floor,hf=Math.pow,Tge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,za,Rr=1e7,pn=7,eV=9007199254740991,TA=yy(eV/pn),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(t){return yu(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,n=e.constructor;return rn(yu(e,new n(t),0,1),n.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return nr(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(za))throw Error(Ps+"NaN");if(n.s<1)throw Error(Ps+(n.s?"NaN":"-Infinity"));return n.eq(za)?new r(0):(xn=!1,e=yu(M0(n,a),M0(t,a),a),xn=!0,rn(e,i))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rV(e,t):tV(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ps+"NaN");return n.s?(xn=!1,e=yu(n,t,0,1).times(t),xn=!0,n.minus(e)):rn(new r(n),i)};De.naturalExponential=De.exp=function(){return nV(this)};De.naturalLogarithm=De.ln=function(){return M0(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tV(e,t):rV(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bh+t);if(e=nr(i)+1,r=i.d.length-1,n=r*pn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};De.squareRoot=De.sqrt=function(){var t,e,n,r,i,a,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Ps+"NaN")}for(t=nr(o),xn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ko(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=yy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(yu(o,a,s+2)).times(.5),Ko(a.d).slice(0,s)===(e=Ko(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(rn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return xn=!0,rn(r,n)};De.times=De.mul=function(t){var e,n,r,i,a,s,o,u,c,f=this,h=f.constructor,g=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,u=g.length,c=v.length,u<c&&(a=g,g=v,v=a,s=u,u=c,c=s),a=[],s=u+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+v[r]*g[i-r-1]+e,a[i--]=o%Rr|0,e=o/Rr|0;a[i]=(a[i]+e)%Rr|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,xn?rn(t,h.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(tl(t,0,gy),e===void 0?e=r.rounding:tl(e,0,8),rn(n,t+nr(n)+1,e))};De.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$h(r,!0):(tl(t,0,gy),e===void 0?e=i.rounding:tl(e,0,8),r=rn(new i(r),t+1,e),n=$h(r,!0,t+1)),n};De.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?$h(i):(tl(t,0,gy),e===void 0?e=a.rounding:tl(e,0,8),r=rn(new a(i),t+nr(i)+1,e),n=$h(r.abs(),!1,t+nr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return rn(new e(t),nr(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,n,r,i,a,s,o=this,u=o.constructor,c=12,f=+(t=new u(t));if(!t.s)return new u(za);if(o=new u(o),!o.s){if(t.s<1)throw Error(Ps+"Infinity");return o}if(o.eq(za))return o;if(r=u.precision,t.eq(za))return rn(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=f<0?-f:f)<=eV){for(i=new u(za),e=Math.ceil(r/pn+4),xn=!1;n%2&&(i=i.times(o),U5(i.d,e)),n=yy(n/2),n!==0;)o=o.times(o),U5(o.d,e);return xn=!0,t.s<0?new u(za).div(i):rn(i,r)}}else if(a<0)throw Error(Ps+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,xn=!1,i=t.times(M0(o,r+c)),xn=!0,i=nV(i),i.s=a,i};De.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=nr(i),r=$h(i,n<=a.toExpNeg||n>=a.toExpPos)):(tl(t,1,gy),e===void 0?e=a.rounding:tl(e,0,8),i=rn(new a(i),t,e),n=nr(i),r=$h(i,t<=n||n<=a.toExpNeg,t)),r};De.toSignificantDigits=De.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(tl(t,1,gy),e===void 0?e=r.rounding:tl(e,0,8)),rn(new r(n),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=nr(t),n=t.constructor;return $h(t,e<=n.toExpNeg||e>=n.toExpPos)};function tV(t,e){var n,r,i,a,s,o,u,c,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),xn?rn(e,h):e;if(u=t.d,c=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,o=c.length):(r=c,i=s,o=u.length),s=Math.ceil(h/pn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=c.length,o-a<0&&(a=o,r=c,c=u,u=r),n=0;a;)n=(u[--a]=u[a]+c[a]+n)/Rr|0,u[a]%=Rr;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,xn?rn(e,h):e}function tl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bh+t)}function Ko(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=pn-r.length,n&&(a+=wc(n)),a+=r;s=t[e],r=s+"",n=pn-r.length,n&&(a+=wc(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var yu=(function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Rr|0,s=a/Rr|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Rr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,u,c,f,h,g,v,w,E,A,C,P,R,I,k,L,M,z,B=r.constructor,V=r.s==i.s?1:-1,U=r.d,q=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(Ps+"Division by zero");for(u=r.e-i.e,M=q.length,k=U.length,v=new B(V),w=v.d=[],c=0;q[c]==(U[c]||0);)++c;if(q[c]>(U[c]||0)&&--u,a==null?P=a=B.precision:s?P=a+(nr(r)-nr(i))+1:P=a,P<0)return new B(0);if(P=P/pn+2|0,c=0,M==1)for(f=0,q=q[0],P++;(c<k||f)&&P--;c++)R=f*Rr+(U[c]||0),w[c]=R/q|0,f=R%q|0;else{for(f=Rr/(q[0]+1)|0,f>1&&(q=t(q,f),U=t(U,f),M=q.length,k=U.length),I=M,E=U.slice(0,M),A=E.length;A<M;)E[A++]=0;z=q.slice(),z.unshift(0),L=q[0],q[1]>=Rr/2&&++L;do f=0,o=e(q,E,M,A),o<0?(C=E[0],M!=A&&(C=C*Rr+(E[1]||0)),f=C/L|0,f>1?(f>=Rr&&(f=Rr-1),h=t(q,f),g=h.length,A=E.length,o=e(h,E,g,A),o==1&&(f--,n(h,M<g?z:q,g))):(f==0&&(o=f=1),h=q.slice()),g=h.length,g<A&&h.unshift(0),n(E,h,A),o==-1&&(A=E.length,o=e(q,E,M,A),o<1&&(f++,n(E,M<A?z:q,A))),A=E.length):o===0&&(f++,E=[0]),w[c++]=f,o&&E[0]?E[A++]=U[I]||0:(E=[U[I]],A=1);while((I++<k||E[0]!==void 0)&&P--)}return w[0]||w.shift(),v.e=u,rn(v,s?a+nr(v)+1:a)}})();function nV(t,e){var n,r,i,a,s,o,u=0,c=0,f=t.constructor,h=f.precision;if(nr(t)>16)throw Error(AD+nr(t));if(!t.s)return new f(za);for(xn=!1,o=h,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(hf(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new f(za),f.precision=o;;){if(i=rn(i.times(t),o),n=n.times(++u),s=a.plus(yu(i,n,o)),Ko(s.d).slice(0,o)===Ko(a.d).slice(0,o)){for(;c--;)a=rn(a.times(a),o);return f.precision=h,e==null?(xn=!0,rn(a,h)):a}a=s}}function nr(t){for(var e=t.e*pn,n=t.d[0];n>=10;n/=10)e++;return e}function AR(t,e,n){if(e>t.LN10.sd())throw xn=!0,n&&(t.precision=n),Error(Ps+"LN10 precision limit exceeded");return rn(new t(t.LN10),e)}function wc(t){for(var e="";t--;)e+="0";return e}function M0(t,e){var n,r,i,a,s,o,u,c,f,h=1,g=10,v=t,w=v.d,E=v.constructor,A=E.precision;if(v.s<1)throw Error(Ps+(v.s?"NaN":"-Infinity"));if(v.eq(za))return new E(0);if(e==null?(xn=!1,c=A):c=e,v.eq(10))return e==null&&(xn=!0),AR(E,c);if(c+=g,E.precision=c,n=Ko(w),r=n.charAt(0),a=nr(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Ko(v.d),r=n.charAt(0),h++;a=nr(v),r>1?(v=new E("0."+n),a++):v=new E(r+"."+n.slice(1))}else return u=AR(E,c+2,A).times(a+""),v=M0(new E(r+"."+n.slice(1)),c-g).plus(u),E.precision=A,e==null?(xn=!0,rn(v,A)):v;for(o=s=v=yu(v.minus(za),v.plus(za),c),f=rn(v.times(v),c),i=3;;){if(s=rn(s.times(f),c),u=o.plus(yu(s,new E(i),c)),Ko(u.d).slice(0,c)===Ko(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(AR(E,c+2,A).times(a+""))),o=yu(o,new E(h),c),E.precision=A,e==null?(xn=!0,rn(o,A)):o;o=u,i+=2}}function F5(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=yy(n/pn),t.d=[],r=(n+1)%pn,n<0&&(r+=pn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pn;r<i;)t.d.push(+e.slice(r,r+=pn));e=e.slice(r),r=pn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),xn&&(t.e>TA||t.e<-TA))throw Error(AD+n)}else t.s=0,t.e=0,t.d=[0];return t}function rn(t,e,n){var r,i,a,s,o,u,c,f,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=pn,i=e,c=h[f=0];else{if(f=Math.ceil((r+1)/pn),a=h.length,f>=a)return t;for(c=a=h[f],s=1;a>=10;a/=10)s++;r%=pn,i=r-pn+s}if(n!==void 0&&(a=hf(10,s-i-1),o=c/a%10|0,u=e<0||h[f+1]!==void 0||c%a,u=n<4?(o||u)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?c/hf(10,s-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return u?(a=nr(t),h.length=1,e=e-a-1,h[0]=hf(10,(pn-e%pn)%pn),t.e=yy(-e/pn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=hf(10,pn-r),h[f]=i>0?(c/hf(10,s-i)%hf(10,i)|0)*a:0),u)for(;;)if(f==0){(h[0]+=a)==Rr&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=Rr)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(xn&&(t.e>TA||t.e<-TA))throw Error(AD+nr(t));return t}function rV(t,e){var n,r,i,a,s,o,u,c,f,h,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),xn?rn(e,v):e;if(u=t.d,h=e.d,r=e.e,c=t.e,u=u.slice(),s=c-r,s){for(f=s<0,f?(n=u,s=-s,o=h.length):(n=h,r=c,o=u.length),i=Math.max(Math.ceil(v/pn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=h.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(u[i]!=h[i]){f=u[i]<h[i];break}s=0}for(f&&(n=u,u=h,h=n,e.s=-e.s),o=u.length,i=h.length-o;i>0;--i)u[o++]=0;for(i=h.length;i>s;){if(u[--i]<h[i]){for(a=i;a&&u[--a]===0;)u[a]=Rr-1;--u[a],u[i]+=Rr}u[i]-=h[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,xn?rn(e,v):e):new g(0)}function $h(t,e,n){var r,i=nr(t),a=Ko(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+wc(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wc(-i-1)+a,n&&(r=n-s)>0&&(a+=wc(r))):i>=s?(a+=wc(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+wc(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=wc(r))),t.s<0?"-"+a:a}function U5(t,e){if(t.length>e)return t.length=e,!0}function iV(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Bh+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return F5(s,a.toString())}else if(typeof a!="string")throw Error(Bh+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Tge.test(a))F5(s,a);else throw Error(Bh+a)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iV,i.config=i.set=Nge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Nge(t){if(!t||typeof t!="object")throw Error(Ps+"Object expected");var e,n,r,i=["precision",1,gy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(yy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bh+n+": "+r);return this}var _D=iV(Cge);za=new _D(1);const Bt=_D;var Rge=t=>t,aV={},sV=t=>t===aV,B5=t=>function e(){return arguments.length===0||arguments.length===1&&sV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},oV=(t,e)=>t===1?e:B5(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==aV).length;return a>=t?e(...r):oV(t-a,B5(function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var c=r.map(f=>sV(f)?o.shift():f);return e(...c,...o)}))}),Mge=t=>oV(t.length,t),aM=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Pge=Mge((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),kge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Rge;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,u)=>u(o),a(...arguments))}},sM=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function lV(t){var e;return t===0?e=1:e=Math.floor(new Bt(t).abs().log(10).toNumber())+1,e}function uV(t,e,n){for(var r=new Bt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var cV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},dV=(t,e,n)=>{if(t.lte(0))return new Bt(0);var r=lV(t.toNumber()),i=new Bt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Bt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=o.mul(i);return e?new Bt(u.toNumber()):new Bt(Math.ceil(u.toNumber()))},Dge=(t,e,n)=>{var r=new Bt(1),i=new Bt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Bt(10).pow(lV(t)-1),i=new Bt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Bt(Math.floor(t)))}else t===0?i=new Bt(Math.floor((e-1)/2)):n||(i=new Bt(Math.floor(t)));var s=Math.floor((e-1)/2),o=kge(Pge(u=>i.add(new Bt(u-s).mul(r)).toNumber()),aM);return o(0,e)},fV=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Bt(0),tickMin:new Bt(0),tickMax:new Bt(0)};var s=dV(new Bt(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Bt(0):(o=new Bt(e).add(n).div(2),o=o.sub(new Bt(o).mod(s)));var u=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Bt(n).sub(o).div(s).toNumber()),f=u+c+1;return f>r?fV(e,n,r,i,a+1):(f<r&&(c=n>0?c+(r-f):c,u=n>0?u:u+(r-f)),{step:s,tickMin:o.sub(new Bt(u).mul(s)),tickMax:o.add(new Bt(c).mul(s))})},Ige=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,u]=cV([n,r]);if(o===-1/0||u===1/0){var c=u===1/0?[o,...aM(0,i-1).map(()=>1/0)]:[...aM(0,i-1).map(()=>-1/0),u];return n>r?sM(c):c}if(o===u)return Dge(o,i,a);var{step:f,tickMin:h,tickMax:g}=fV(o,u,s,a,0),v=uV(h,g.add(new Bt(.1).mul(f)),f);return n>r?sM(v):v},Lge=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=cV([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var u=Math.max(n,2),c=dV(new Bt(o).sub(s).div(u-1),a,0),f=[...uV(new Bt(s),new Bt(o),c),o];return a===!1&&(f=f.map(h=>Math.round(h))),r>i?sM(f):f},Oge=t=>t.rootProps.barCategoryGap,f_=t=>t.rootProps.stackOffset,hV=t=>t.rootProps.reverseStackOrder,CD=t=>t.options.chartName,TD=t=>t.rootProps.syncId,pV=t=>t.rootProps.syncMethod,ND=t=>t.options.eventEmitter,jge=t=>t.rootProps.baseValue,Mi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},fu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},h_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Fge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fu.angleAxisId,includeHidden:!1,name:void 0,reversed:fu.reversed,scale:fu.scale,tick:fu.tick,tickCount:void 0,ticks:void 0,type:fu.type,unit:void 0},Uge={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:Fa.type,unit:void 0},Bge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fu.scale,tick:fu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zge={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:"category",unit:void 0},RD=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Bge:Fge,MD=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?zge:Uge,p_=t=>t.polarOptions,PD=fe([zu,Hu,ei],Ihe),mV=fe([p_,PD],(t,e)=>{if(t!=null)return _d(t.innerRadius,e,0)}),gV=fe([p_,PD],(t,e)=>{if(t!=null)return _d(t.outerRadius,e,e*.8)}),Hge=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},yV=fe([p_],Hge);fe([RD,yV],h_);var vV=fe([PD,mV,gV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});fe([MD,vV],h_);var bV=fe([ln,p_,mV,gV,zu,Hu],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:u,endAngle:c}=e;return{cx:_d(s,i,i/2),cy:_d(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:c,clockWise:!1}}}),pr=(t,e)=>e,m_=(t,e,n)=>n;function kD(t){return t==null?void 0:t.id}function xV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var u,c=(u=o.data)!==null&&u!==void 0?u:r;if(!(c==null||c.length===0)){var f=kD(o);c.forEach((h,g)=>{var v=a==null||i?g:String(vi(h,a,null)),w=vi(h,o.dataKey,0),E;s.has(v)?E=s.get(v):E={},Object.assign(E,{[f]:w}),s.set(v,E)})}}),Array.from(s.values())}function DD(t){return t.stackId!=null&&t.dataKey!=null}var g_=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function y_(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Gge(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var mr=t=>{var e=ln(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},vy=t=>t.tooltip.settings.axisId;function z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(n),!0).forEach(function(r){qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qge(t,e,n){return(e=$ge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ge(t){var e=Vge(t,"string");return typeof e=="symbol"?e:e+""}function Vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oM=[0,"auto"],xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wV=(t,e)=>t.cartesianAxis.xAxis[e],qu=(t,e)=>{var n=wV(t,e);return n??xr},wr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:oM,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dx},SV=(t,e)=>t.cartesianAxis.yAxis[e],$u=(t,e)=>{var n=SV(t,e);return n??wr},Wge={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ID=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Wge},Oi=(t,e,n)=>{switch(e){case"xAxis":return qu(t,n);case"yAxis":return $u(t,n);case"zAxis":return ID(t,n);case"angleAxis":return RD(t,n);case"radiusAxis":return MD(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Yge=(t,e,n)=>{switch(e){case"xAxis":return qu(t,n);case"yAxis":return $u(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Bx=(t,e,n)=>{switch(e){case"xAxis":return qu(t,n);case"yAxis":return $u(t,n);case"angleAxis":return RD(t,n);case"radiusAxis":return MD(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},EV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function AV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var _V=t=>t.graphicalItems.cartesianItems,Kge=fe([pr,m_],AV),CV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),zx=fe([_V,Oi,Kge],CV,{memoizeOptions:{resultEqualityCheck:y_}}),TV=fe([zx],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(DD)),NV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Xge=fe([zx],NV),RV=t=>t.map(e=>e.data).filter(Boolean).flat(1),Jge=fe([zx],RV,{memoizeOptions:{resultEqualityCheck:y_}}),MV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},LD=fe([Jge,ED],MV),PV=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:vi(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:vi(i,r)}))):t.map(r=>({value:r})),v_=fe([LD,Oi,zx],PV);function kV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function aE(t){if(Zo(t)||t instanceof Date){var e=Number(t);if(jn(e))return e}}function H5(t){if(Array.isArray(t)){var e=[aE(t[0]),aE(t[1])];return Cd(e)?e:void 0}var n=aE(t);if(n!=null)return[n,n]}function Mu(t){return t.map(aE).filter(pue)}function Qge(t,e,n){return!n||typeof e!="number"||ao(e)?[]:n.length?Mu(n.flatMap(r=>{var i=vi(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!jn(a)||!jn(s)))return[e-a,e+s]})):[]}var gr=t=>{var e=mr(t),n=vy(t);return Bx(t,e,n)},Hx=fe([gr],t=>t==null?void 0:t.dataKey),Zge=fe([TV,ED,gr],xV),DV=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,u]=s,c=r?[...u].reverse():u,f=c.map(kD);return[o,{stackedData:Ede(t,f,n),graphicalItems:c}]}))},lM=fe([Zge,TV,f_,hV],DV),IV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=Tde(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},eye=fe([Oi],t=>t.allowDataOverflow),OD=t=>{var e;if(t==null||!("domain"in t))return oM;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Mu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:oM},LV=fe([Oi],OD),OV=fe([LV,eye],Z$),tye=fe([lM,Od,pr,OV],IV,{memoizeOptions:{resultEqualityCheck:g_}}),jD=t=>t.errorBars,nye=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>kV(n,r)),RA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},jV=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(u=>{var c,f,h=(c=r[u.id])===null||c===void 0?void 0:c.filter(C=>kV(i,C)),g=vi(o,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey),v=Qge(o,g,h);if(v.length>=2){var w=Math.min(...v),E=Math.max(...v);(a==null||w<a)&&(a=w),(s==null||E>s)&&(s=E)}var A=H5(g);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),s=s==null?A[1]:Math.max(s,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var u=H5(vi(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),jn(a)&&jn(s))return[a,s]},rye=fe([LD,Oi,Xge,jD,pr],jV,{memoizeOptions:{resultEqualityCheck:g_}});function iye(t){var{value:e}=t;if(Zo(e)||e instanceof Date)return e}var aye=(t,e,n)=>{var r=t.map(iye).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Z8(r))?v$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},FV=t=>t.referenceElements.dots,by=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),sye=fe([FV,pr,m_],by),UV=t=>t.referenceElements.areas,oye=fe([UV,pr,m_],by),BV=t=>t.referenceElements.lines,lye=fe([BV,pr,m_],by),zV=(t,e)=>{var n=Mu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},uye=fe(sye,pr,zV),HV=(t,e)=>{var n=Mu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cye=fe([oye,pr],HV);function dye(t){var e;if(t.x!=null)return Mu([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Mu(n)}function fye(t){var e;if(t.y!=null)return Mu([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Mu(n)}var GV=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?dye(r):fye(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hye=fe([lye,pr],GV),pye=fe(uye,hye,cye,(t,e,n)=>RA(t,n,e)),qV=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=u?RA(r,a,i):RA(a,i);return _ge(e,c,t.allowDataOverflow)},mye=fe([Oi,LV,OV,tye,rye,pye,ln,pr],qV,{memoizeOptions:{resultEqualityCheck:g_}}),gye=[0,1],$V=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:u}=t,c=Bu(e,a);if(c&&o==null){var f;return v$(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?aye(r,t,c):i==="expand"?gye:s}},FD=fe([Oi,ln,LD,v_,f_,pr,mye],$V),VV=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Uk(a));return o in Uv?o:"point"}}},Gx=fe([Oi,ln,EV,CD,pr],VV);function yye(t){if(t!=null){if(t in Uv)return Uv[t]();var e="scale".concat(Uk(t));if(e in Uv)return Uv[e]()}}function UD(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=yye(e);if(i!=null){var a=i.domain(n).range(r);return bde(a),a}}}var WV=(t,e,n)=>{var r=OD(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Cd(t))return Ige(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Cd(t))return Lge(t,e.tickCount,e.allowDecimals)}},BD=fe([FD,Bx,Gx],WV),YV=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Cd(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},vye=fe([Oi,FD,BD,pr],YV),bye=fe(v_,Oi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Mu(t.map(o=>o.value))).sort((o,u)=>o-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),KV=fe(bye,ln,Oge,ei,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!jn(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=_d(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),xye=(t,e)=>{var n=qu(t,e);return n==null||typeof n.padding!="string"?0:KV(t,"xAxis",e,n.padding)},wye=(t,e)=>{var n=$u(t,e);return n==null||typeof n.padding!="string"?0:KV(t,"yAxis",e,n.padding)},Sye=fe(qu,xye,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Eye=fe($u,wye,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Aye=fe([ei,Sye,e_,Z1,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),_ye=fe([ei,ln,Eye,e_,Z1,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),qx=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Aye(t,n,r);case"yAxis":return _ye(t,n,r);case"zAxis":return(i=ID(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return yV(t);case"radiusAxis":return vV(t,n);default:return}},XV=fe([Oi,qx],h_),xy=fe([Oi,Gx,vye,XV],UD);fe([zx,jD,pr],nye);function JV(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var b_=(t,e)=>e,x_=(t,e,n)=>n,Cye=fe(J1,b_,x_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(JV)),Tye=fe(Q1,b_,x_,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(JV)),QV=(t,e)=>({width:t.width,height:e.height}),Nye=(t,e)=>{var n=typeof e.width=="number"?e.width:Dx;return{width:n,height:t.height}},Rye=fe(ei,qu,QV),Mye=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Pye=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},kye=fe(Hu,ei,Cye,b_,x_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var u=QV(e,o);s==null&&(s=Mye(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*u.height,s+=(c?-1:1)*u.height}),a}),Dye=fe(zu,ei,Tye,b_,x_,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var u=Nye(e,o);s==null&&(s=Pye(e,r,t));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*u.width,s+=(c?-1:1)*u.width}),a}),Iye=(t,e)=>{var n=qu(t,e);if(n!=null)return kye(t,n.orientation,n.mirror)},Lye=fe([ei,qu,Iye,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Oye=(t,e)=>{var n=$u(t,e);if(n!=null)return Dye(t,n.orientation,n.mirror)},jye=fe([ei,$u,Oye,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Fye=fe(ei,$u,(t,e)=>{var n=typeof e.width=="number"?e.width:Dx;return{width:n,height:t.height}}),ZV=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Bu(t,r),u=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&Z8(u))return u}},zD=fe([ln,v_,Oi,pr],ZV),e9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Bu(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},HD=fe([ln,v_,Bx,pr],e9),G5=fe([ln,Yge,Gx,xy,zD,HD,qx,BD,pr],(t,e,n,r,i,a,s,o,u)=>{if(e!=null){var c=Bu(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),Uye=(t,e,n,r,i,a,s,o,u)=>{if(!(e==null||r==null)){var c=Bu(t,u),{type:f,ticks:h,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=f==="category"&&r.bandwidth?r.bandwidth()/v:0;w=u==="angleAxis"&&a!=null&&a.length>=2?As(a[0]-a[1])*2*w:w;var E=h||i;if(E){var A=E.map((C,P)=>{var R=s?s.indexOf(C):C;return{index:P,coordinate:r(R)+w,value:C,offset:w}});return A.filter(C=>jn(C.coordinate))}return c&&o?o.map((C,P)=>({coordinate:r(C)+w,value:C,index:P,offset:w})).filter(C=>jn(C.coordinate)):r.ticks?r.ticks(g).map(C=>({coordinate:r(C)+w,value:C,offset:w})):r.domain().map((C,P)=>({coordinate:r(C)+w,value:s?s[C]:C,index:P,offset:w}))}},t9=fe([ln,Bx,Gx,xy,BD,qx,zD,HD,pr],Uye),Bye=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Bu(t,s),{tickCount:u}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?As(r[0]-r[1])*2*c:c,o&&a?a.map((f,h)=>({coordinate:n(f)+c,value:f,index:h,offset:c})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+c,value:f,offset:c})):n.domain().map((f,h)=>({coordinate:n(f)+c,value:i?i[f]:f,index:h,offset:c}))}},n9=fe([ln,Bx,xy,qx,zD,HD,pr],Bye),r9=fe(Oi,xy,(t,e)=>{if(!(t==null||e==null))return NA(NA({},t),{},{scale:e})}),zye=fe([Oi,Gx,FD,XV],UD);fe((t,e,n)=>ID(t,n),zye,(t,e)=>{if(!(t==null||e==null))return NA(NA({},t),{},{scale:e})});var Hye=fe([ln,J1,Q1],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),i9=t=>t.options.defaultTooltipEventType,a9=t=>t.options.validateTooltipEventTypes;function s9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function GD(t,e){var n=i9(t),r=a9(t);return s9(e,n,r)}function Gye(t){return Ye(e=>GD(e,t))}var o9=(t,e)=>{var n,r=Number(e);if(!(ao(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},qye=t=>t.tooltip.settings,Ac={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$ye={itemInteraction:{click:Ac,hover:Ac},axisInteraction:{click:Ac,hover:Ac},keyboardInteraction:Ac,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},l9=sa({name:"tooltip",initialState:$ye,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:bn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ro(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:bn()},removeTooltipEntrySettings:{reducer(t,e){var n=ro(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:bn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Vye,replaceTooltipEntrySettings:Wye,removeTooltipEntrySettings:Yye,setTooltipSettingsState:Kye,setActiveMouseOverItemIndex:Xye,mouseLeaveItem:oCe,mouseLeaveChart:u9,setActiveClickItemIndex:lCe,setMouseOverAxisIndex:c9,setMouseClickAxisIndex:Jye,setSyncInteraction:uM,setKeyboardInteraction:cM}=l9.actions,Qye=l9.reducer;function q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(n),!0).forEach(function(r){Zye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zye(t,e,n){return(e=eve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eve(t){var e=tve(t,"string");return typeof e=="symbol"?e:e+""}function tve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nve(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function rve(t){return t.index!=null}var d9=(t,e,n,r)=>{if(e==null)return Ac;var i=nve(t,e,n);if(i==null)return Ac;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(rve(i)){if(a)return OS(OS({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return OS(OS({},Ac),{},{coordinate:i.coordinate})};function ive(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function ave(t,e){var n=ive(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function sve(t,e,n){if(n==null||e==null)return!0;var r=vi(t,e);return r==null||!Cd(n)?!0:ave(r,n)}var qD=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!jn(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(s,Math.min(a,o)),c=e[u];return c==null||sve(c,n,r)?String(u):null},f9=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var u=s[0],c=u==null?void 0:o(u.positions,a);if(c!=null)return c;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},h9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},$x=t=>t.options.tooltipPayloadSearcher,wy=t=>t.tooltip;function $5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(n),!0).forEach(function(r){ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ove(t,e,n){return(e=lve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lve(t){var e=uve(t,"string");return typeof e=="symbol"?e:e+""}function uve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cve(t,e){return t??e}var p9=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:c,dataEndIndex:f}=n,h=[];return t.reduce((g,v)=>{var w,{dataDefinedOnItem:E,settings:A}=v,C=cve(E,o),P=Array.isArray(C)?qq(C,c,f):C,R=(w=A==null?void 0:A.dataKey)!==null&&w!==void 0?w:r,I=A==null?void 0:A.nameKey,k;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&s==="axis"?k=eq(P,r,i):k=a(P,e,u,I),Array.isArray(k))k.forEach(M=>{var z=V5(V5({},A),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push(mB({tooltipEntrySettings:z,dataKey:M.dataKey,payload:M.payload,value:vi(M.payload,M.dataKey),name:M.name}))});else{var L;g.push(mB({tooltipEntrySettings:A,dataKey:R,payload:k,value:vi(k,R),name:(L=vi(k,I))!==null&&L!==void 0?L:A==null?void 0:A.name}))}return g},h)}},$D=fe([gr,ln,EV,CD,mr],VV),dve=fe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),fve=fe([mr,vy],AV),Vx=fe([dve,gr,fve],CV,{memoizeOptions:{resultEqualityCheck:y_}}),hve=fe([Vx],t=>t.filter(DD)),pve=fe([Vx],RV,{memoizeOptions:{resultEqualityCheck:y_}}),Sy=fe([pve,Od],MV),mve=fe([hve,Od,gr],xV),VD=fe([Sy,gr,Vx],PV),m9=fe([gr],OD),gve=fe([gr],t=>t.allowDataOverflow),g9=fe([m9,gve],Z$),yve=fe([Vx],t=>t.filter(DD)),vve=fe([mve,yve,f_,hV],DV),bve=fe([vve,Od,mr,g9],IV),xve=fe([Vx],NV),wve=fe([Sy,gr,xve,jD,mr],jV,{memoizeOptions:{resultEqualityCheck:g_}}),Sve=fe([FV,mr,vy],by),Eve=fe([Sve,mr],zV),Ave=fe([UV,mr,vy],by),_ve=fe([Ave,mr],HV),Cve=fe([BV,mr,vy],by),Tve=fe([Cve,mr],GV),Nve=fe([Eve,Tve,_ve],RA),Rve=fe([gr,m9,g9,bve,wve,Nve,ln,mr],qV),Wx=fe([gr,ln,Sy,VD,f_,mr,Rve],$V),Mve=fe([Wx,gr,$D],WV),Pve=fe([gr,Wx,Mve,mr],YV),y9=t=>{var e=mr(t),n=vy(t),r=!1;return qx(t,e,n,r)},v9=fe([gr,y9],h_),b9=fe([gr,$D,Pve,v9],UD),kve=fe([ln,VD,gr,mr],ZV),Dve=fe([ln,VD,gr,mr],e9),Ive=(t,e,n,r,i,a,s,o)=>{if(e){var{type:u}=e,c=Bu(t,o);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?As(i[0]-i[1])*2*h:h,c&&s?s.map((g,v)=>({coordinate:r(g)+h,value:g,index:v,offset:h})):r.domain().map((g,v)=>({coordinate:r(g)+h,value:a?a[g]:g,index:v,offset:h}))}}},Vu=fe([ln,gr,$D,b9,y9,kve,Dve,mr],Ive),WD=fe([i9,a9,qye],(t,e,n)=>s9(n.shared,t,e)),x9=t=>t.tooltip.settings.trigger,YD=t=>t.tooltip.settings.defaultIndex,Yx=fe([wy,WD,x9,YD],d9),P0=fe([Yx,Sy,Hx,Wx],qD),w9=fe([Vu,P0],o9),Lve=fe([Yx],t=>{if(t)return t.dataKey});fe([Yx],t=>{if(t)return t.graphicalItemId});var S9=fe([wy,WD,x9,YD],h9),Ove=fe([zu,Hu,ln,ei,Vu,YD,S9,$x],f9),jve=fe([Yx,Ove],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Fve=fe([Yx],t=>t.active),Uve=fe([S9,P0,Od,Hx,w9,$x,WD],p9),Bve=fe([Uve],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(r){zve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zve(t,e,n){return(e=Hve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hve(t){var e=Gve(t,"string");return typeof e=="symbol"?e:e+""}function Gve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qve=()=>Ye(gr),$ve=()=>{var t=qve(),e=Ye(Vu),n=Ye(b9);return lA(!t||!n?void 0:Y5(Y5({},t),{},{scale:n}),e)};function K5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K5(Object(n),!0).forEach(function(r){Vve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vve(t,e,n){return(e=Wve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wve(t){var e=Yve(t,"string");return typeof e=="symbol"?e:e+""}function Yve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kve=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Xve=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return zp(zp(zp({},r),Xr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:u}=r;return zp(zp(zp({},r),Xr(r.cx,r.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Jve(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var E9=(t,e,n,r,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<o;u++){var c=u>0?n[u-1].coordinate:n[o-1].coordinate,f=n[u].coordinate,h=u>=o-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(As(f-c)!==As(h-f)){var v=[];if(As(h-f)===As(i[1]-i[0])){g=h;var w=f+i[1]-i[0];v[0]=Math.min(w,(w+c)/2),v[1]=Math.max(w,(w+c)/2)}else{g=c;var E=h+i[1]-i[0];v[0]=Math.min(f,(E+f)/2),v[1]=Math.max(f,(E+f)/2)}var A=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>A[0]&&t<=A[1]||t>=v[0]&&t<=v[1]){({index:s}=n[u]);break}}else{var C=Math.min(c,h),P=Math.max(c,h);if(t>(C+f)/2&&t<=(P+f)/2){({index:s}=n[u]);break}}}else if(e){for(var R=0;R<o;R++)if(R===0&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R>0&&R<o-1&&t>(e[R].coordinate+e[R-1].coordinate)/2&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R===o-1&&t>(e[R].coordinate+e[R-1].coordinate)/2){({index:s}=e[R]);break}}return s},A9=()=>Ye(CD),KD=(t,e)=>e,_9=(t,e,n)=>n,XD=(t,e,n,r)=>r,Qve=fe(Vu,t=>H1(t,e=>e.coordinate)),JD=fe([wy,KD,_9,XD],d9),QD=fe([JD,Sy,Hx,Wx],qD),Zve=(t,e,n)=>{if(e!=null){var r=wy(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},C9=fe([wy,KD,_9,XD],h9),MA=fe([zu,Hu,ln,ei,Vu,XD,C9,$x],f9),e0e=fe([JD,MA],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),T9=fe([Vu,QD],o9),t0e=fe([C9,QD,Od,Hx,T9,$x,KD],p9),n0e=fe([JD,QD],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),r0e=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Jve(t,s)){var o=Nde(t,e),u=E9(o,a,i,n,r),c=Kve(e,i,u,t);return{activeIndex:String(u),activeCoordinate:c}}},i0e=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=Uhe(t,n);if(o){var u=Rde(o,e),c=E9(u,s,a,r,i),f=Xve(e,a,c,o);return{activeIndex:String(c),activeCoordinate:f}}}},a0e=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?r0e(t,e,r,i,a,s,o):i0e(t,e,n,r,i,a,s)},s0e=fe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),o0e=fe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Mi)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Gge}});function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(r){l0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l0e(t,e,n){return(e=u0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u0e(t){var e=c0e(t,"string");return typeof e=="symbol"?e:e+""}function c0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d0e={},f0e={zIndexMap:Object.values(Mi).reduce((t,e)=>J5(J5({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),d0e)},h0e=new Set(Object.values(Mi));function p0e(t){return h0e.has(t)}var N9=sa({name:"zIndex",initialState:f0e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:bn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!p0e(n)&&delete t.zIndexMap[n])},prepare:bn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:bn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:bn()}}}),{registerZIndexPortal:m0e,unregisterZIndexPortal:g0e,registerZIndexPortalId:y0e,unregisterZIndexPortalId:v0e}=N9.actions,b0e=N9.reducer;function Wu(t){var{zIndex:e,children:n}=t,r=ufe(),i=r&&e!==void 0&&e!==0,a=oa(),s=kr();T.useLayoutEffect(()=>i?(s(m0e({zIndex:e})),()=>{s(g0e({zIndex:e}))}):Rx,[s,e,i]);var o=Ye(c=>s0e(c,e,a));if(!i)return n;if(!o)return null;var u=document.getElementById(o);return u?P1.createPortal(n,u):null}function dM(){return dM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dM.apply(null,arguments)}function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(r){x0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x0e(t,e,n){return(e=w0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w0e(t){var e=S0e(t,"string");return typeof e=="symbol"?e:e+""}function S0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E0e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function A0e(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:c,chartName:f}=t,h=n,g=r,v=i;if(!u||!h||f!=="ScatterChart"&&c!=="axis")return null;var w,E,A;if(f==="ScatterChart")w=h,E=Jfe,A=Mi.cursorLine;else if(f==="BarChart")w=Qfe(o,h,a,s),E=Rhe,A=Mi.cursorRectangle;else if(o==="radial"&&tq(h)){var{cx:C,cy:P,radius:R,startAngle:I,endAngle:k}=g$(h);w={cx:C,cy:P,startAngle:I,endAngle:k,innerRadius:R,outerRadius:R},E=Ghe,A=Mi.cursorLine}else w={points:qhe(o,h,a)},E=iE,A=Mi.cursorLine;var L=typeof u=="object"&&"className"in u?u.className:void 0,M=jS(jS(jS(jS({stroke:"#ccc",pointerEvents:"none"},a),w),F1(u)),{},{payload:g,payloadIndex:v,className:zt("recharts-tooltip-cursor",L)});return T.createElement(Wu,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},T.createElement(E0e,{cursor:u,cursorComp:E,cursorProps:M}))}function _0e(t){var e=$ve(),n=e$(),r=Ix(),i=A9();return e==null||n==null||r==null||i==null?null:T.createElement(A0e,dM({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var R9=T.createContext(null),C0e=()=>T.useContext(R9),_R={exports:{}},Z5;function T0e(){return Z5||(Z5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function a(u,c,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||u,g),w=n?n+c:c;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],v]:u._events[w].push(v):(u._events[w]=v,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)e.call(f,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=n?n+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,w=new Array(v);g<v;g++)w[g]=h[g].fn;return w},o.prototype.listenerCount=function(c){var f=n?n+c:c,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,f,h,g,v,w){var E=n?n+c:c;if(!this._events[E])return!1;var A=this._events[E],C=arguments.length,P,R;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,h),!0;case 4:return A.fn.call(A.context,f,h,g),!0;case 5:return A.fn.call(A.context,f,h,g,v),!0;case 6:return A.fn.call(A.context,f,h,g,v,w),!0}for(R=1,P=new Array(C-1);R<C;R++)P[R-1]=arguments[R];A.fn.apply(A.context,P)}else{var I=A.length,k;for(R=0;R<I;R++)switch(A[R].once&&this.removeListener(c,A[R].fn,void 0,!0),C){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,f);break;case 3:A[R].fn.call(A[R].context,f,h);break;case 4:A[R].fn.call(A[R].context,f,h,g);break;default:if(!P)for(k=1,P=new Array(C-1);k<C;k++)P[k-1]=arguments[k];A[R].fn.apply(A[R].context,P)}}return!0},o.prototype.on=function(c,f,h){return a(this,c,f,h,!1)},o.prototype.once=function(c,f,h){return a(this,c,f,h,!0)},o.prototype.removeListener=function(c,f,h,g){var v=n?n+c:c;if(!this._events[v])return this;if(!f)return s(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!g||w.once)&&(!h||w.context===h)&&s(this,v);else{for(var E=0,A=[],C=w.length;E<C;E++)(w[E].fn!==f||g&&!w[E].once||h&&w[E].context!==h)&&A.push(w[E]);A.length?this._events[v]=A.length===1?A[0]:A:s(this,v)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(_R)),_R.exports}var N0e=T0e();const R0e=uo(N0e);var k0=new R0e,fM="recharts.syncEvent.tooltip",ez="recharts.syncEvent.brush";function M0e(t,e){if(e){var n=Number.parseInt(e,10);if(!ao(n))return t==null?void 0:t[n]}}var P0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},M9=sa({name:"options",initialState:P0e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),k0e=M9.reducer,{createEventEmitter:D0e}=M9.actions;function I0e(t){return t.tooltip.syncInteraction}var L0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},P9=sa({name:"chartData",initialState:L0e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:tz,setDataStartEndIndexes:O0e,setComputedData:uCe}=P9.actions,j0e=P9.reducer,F0e=["x","y"];function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){U0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U0e(t,e,n){return(e=B0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B0e(t){var e=z0e(t,"string");return typeof e=="symbol"?e:e+""}function z0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H0e(t,e){if(t==null)return{};var n,r,i=G0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function G0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function q0e(){var t=Ye(TD),e=Ye(ND),n=kr(),r=Ye(pV),i=Ye(Vu),a=Ix(),s=t_(),o=Ye(u=>u.rootProps.className);T.useEffect(()=>{if(t==null)return Rx;var u=(c,f,h)=>{if(e!==h&&t===c){if(r==="index"){var g;if(s&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:w,y:E}=v,A=H0e(v,F0e),{x:C,y:P,width:R,height:I}=f.payload.sourceViewBox,k=Hp(Hp({},A),{},{x:s.x+(R?(w-C)/R:0)*s.width,y:s.y+(I?(E-P)/I:0)*s.height});n(Hp(Hp({},f),{},{payload:Hp(Hp({},f.payload),{},{coordinate:k})}))}else n(f);return}if(i!=null){var L;if(typeof r=="function"){var M={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},z=r(i,M);L=i[z]}else r==="value"&&(L=i.find(G=>String(G.value)===f.payload.label));var{coordinate:B}=f.payload;if(L==null||f.payload.active===!1||B==null||s==null){n(uM({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:U}=B,q=Math.min(V,s.x+s.width),Q=Math.min(U,s.y+s.height),Z={x:a==="horizontal"?L.coordinate:q,y:a==="horizontal"?Q:L.coordinate},ce=uM({active:f.payload.active,coordinate:Z,dataKey:f.payload.dataKey,index:String(L.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(ce)}}};return k0.on(fM,u),()=>{k0.off(fM,u)}},[o,n,e,t,r,i,a,s])}function $0e(){var t=Ye(TD),e=Ye(ND),n=kr();T.useEffect(()=>{if(t==null)return Rx;var r=(i,a,s)=>{e!==s&&t===i&&n(O0e(a))};return k0.on(ez,r),()=>{k0.off(ez,r)}},[n,e,t])}function V0e(){var t=kr();T.useEffect(()=>{t(D0e())},[t]),q0e(),$0e()}function W0e(t,e,n,r,i,a){var s=Ye(v=>Zve(v,t,e)),o=Ye(ND),u=Ye(TD),c=Ye(pV),f=Ye(I0e),h=f==null?void 0:f.active,g=t_();T.useEffect(()=>{if(!h&&u!=null&&o!=null){var v=uM({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});k0.emit(fM,u,v,o)}},[h,n,s,i,r,o,u,c,a,g])}function rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(n),!0).forEach(function(r){Y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0e(t,e,n){return(e=K0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K0e(t){var e=X0e(t,"string");return typeof e=="symbol"?e:e+""}function X0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J0e(t){return t.dataKey}function Q0e(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(Mfe,e)}var az=[],Z0e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ebe(t){var e,n,r=Ya(t,Z0e),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:u,filterNull:c,isAnimationActive:f,offset:h,payloadUniqBy:g,position:v,reverseDirection:w,useTranslate3d:E,wrapperStyle:A,cursor:C,shared:P,trigger:R,defaultIndex:I,portal:k,axisId:L}=r,M=kr(),z=typeof I=="number"?String(I):I;T.useEffect(()=>{M(Kye({shared:P,trigger:R,axisId:L,active:i,defaultIndex:z}))},[M,P,R,L,i,z]);var B=t_(),V=c$(),U=Gye(P),{activeIndex:q,isActive:Q}=(e=Ye(Ae=>n0e(Ae,U,R,z)))!==null&&e!==void 0?e:{},Z=Ye(Ae=>t0e(Ae,U,R,z)),ce=Ye(Ae=>T9(Ae,U,R,z)),G=Ye(Ae=>e0e(Ae,U,R,z)),$=Z,ee=C0e(),re=(n=i??Q)!==null&&n!==void 0?n:!1,[xe,W]=pce([$,re]),J=U==="axis"?ce:void 0;W0e(U,R,G,J,q,re);var le=k??ee;if(le==null||B==null||U==null)return null;var ge=$??az;re||(ge=az),c&&ge.length&&(ge=Bue(ge.filter(Ae=>Ae.value!=null&&(Ae.hide!==!0||r.includeHidden)),g,J0e));var we=ge.length>0,Te=T.createElement(jfe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:f,active:re,coordinate:G,hasPayload:we,offset:h,position:v,reverseDirection:w,useTranslate3d:E,viewBox:B,wrapperStyle:A,lastBoundingBox:xe,innerRef:W,hasPortalFromProps:!!k},Q0e(u,iz(iz({},r),{},{payload:ge,label:J,active:re,activeIndex:q,coordinate:G,accessibilityLayer:V})));return T.createElement(T.Fragment,null,P1.createPortal(Te,le),re&&T.createElement(_0e,{cursor:C,tooltipEventType:U,coordinate:G,payload:ge,index:q}))}function tbe(t,e,n){return(e=nbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nbe(t){var e=rbe(t,"string");return typeof e=="symbol"?e:e+""}function rbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ibe{constructor(e){tbe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function abe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){sbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sbe(t,e,n){return(e=obe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function obe(t){var e=lbe(t,"string");return typeof e=="symbol"?e:e+""}function lbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ube={cacheSize:2e3,enableCache:!0},k9=abe({},ube),oz=new ibe(k9.cacheSize),cbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lz="recharts_measurement_span";function dbe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var uz=(t,e)=>{try{var n=document.getElementById(lz);n||(n=document.createElement("span"),n.setAttribute("id",lz),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,cbe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},c0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||py.isSsr)return{width:0,height:0};if(!k9.enableCache)return uz(e,n);var r=dbe(e,n),i=oz.get(r);if(i)return i;var a=uz(e,n);return oz.set(r,a),a},cz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,D9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pbe=Object.keys(D9),am="NaN";function mbe(t,e){return t*D9[e]}class Zi{static parse(e){var n,[,r,i]=(n=hbe.exec(e))!==null&&n!==void 0?n:[];return new Zi(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ao(e)&&(this.unit=""),n!==""&&!fbe.test(n)&&(this.num=NaN,this.unit=""),pbe.includes(n)&&(this.num=mbe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Zi(NaN,""):new Zi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Zi(NaN,""):new Zi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Zi(NaN,""):new Zi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Zi(NaN,""):new Zi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ao(this.num)}}function I9(t){if(t.includes(am))return am;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=cz.exec(e))!==null&&n!==void 0?n:[],s=Zi.parse(r??""),o=Zi.parse(a??""),u=i==="*"?s.multiply(o):s.divide(o);if(u.isNaN())return am;e=e.replace(cz,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,f,h,g]=(c=dz.exec(e))!==null&&c!==void 0?c:[],v=Zi.parse(f??""),w=Zi.parse(g??""),E=h==="+"?v.add(w):v.subtract(w);if(E.isNaN())return am;e=e.replace(dz,E.toString())}return e}var fz=/\(([^()]*)\)/;function gbe(t){for(var e=t,n;(n=fz.exec(e))!=null;){var[,r]=n;e=e.replace(fz,I9(r))}return e}function ybe(t){var e=t.replace(/\s+/g,"");return e=gbe(e),e=I9(e),e}function vbe(t){try{return ybe(t)}catch{return am}}function CR(t){var e=vbe(t.slice(5,-1));return e===am?"":e}var bbe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xbe=["dx","dy","angle","className","breakAll"];function hM(){return hM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hM.apply(null,arguments)}function hz(t,e){if(t==null)return{};var n,r,i=wbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var L9=/[ \f\n\r\t\v\u2028\u2029]+/,O9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Qr(e)||(n?i=e.toString().split(""):i=e.toString().split(L9));var a=i.map(o=>({word:o,width:c0(o,r).width})),s=n?0:c0("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Sbe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var j9=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||r||u.width+o+n<Number(e)))u.words.push(s),u.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),F9=t=>t.reduce((e,n)=>e.width>n.width?e:n),Ebe="",pz=(t,e,n,r,i,a,s,o)=>{var u=t.slice(0,e),c=O9({breakAll:n,style:r,children:u+Ebe});if(!c)return[!1,[]];var f=j9(c.wordsWithComputedWidth,a,s,o),h=f.length>i||F9(f).width>Number(a);return[h,f]},Abe=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:u}=t,c=$e(a),f=String(s),h=j9(e,r,n,i);if(!c||i)return h;var g=h.length>a||F9(h).width>Number(r);if(!g)return h;for(var v=0,w=f.length-1,E=0,A;v<=w&&E<=f.length-1;){var C=Math.floor((v+w)/2),P=C-1,[R,I]=pz(f,P,u,o,a,r,n,i),[k]=pz(f,C,u,o,a,r,n,i);if(!R&&!k&&(v=C+1),R&&k&&(w=C-1),!R&&k){A=I;break}E++}return A||h},mz=t=>{var e=Qr(t)?[]:t.toString().split(L9);return[{words:e,width:void 0}]},_be=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!py.isSsr){var o,u,c=O9({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:f,spaceWidth:h}=c;o=f,u=h}else return mz(r);return Abe({breakAll:a,children:r,maxLines:s,style:i},o,u,e,!!n)}return mz(r)},U9="#808080",Cbe={angle:0,breakAll:!1,capHeight:"0.71em",fill:U9,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ZD=T.forwardRef((t,e)=>{var n=Ya(t,Cbe),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:u,textAnchor:c,verticalAnchor:f}=n,h=hz(n,bbe),g=T.useMemo(()=>_be({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:v,dy:w,angle:E,className:A,breakAll:C}=h,P=hz(h,xbe);if(!Zo(r)||!Zo(i)||g.length===0)return null;var R=Number(r)+($e(v)?v:0),I=Number(i)+($e(w)?w:0);if(!jn(R)||!jn(I))return null;var k;switch(f){case"start":k=CR("calc(".concat(s,")"));break;case"middle":k=CR("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:k=CR("calc(".concat(g.length-1," * -").concat(a,")"));break}var L=[];if(u){var M=g[0].width,{width:z}=h;L.push("scale(".concat($e(z)&&$e(M)?z/M:1,")"))}return E&&L.push("rotate(".concat(E,", ").concat(R,", ").concat(I,")")),L.length&&(P.transform=L.join(" ")),T.createElement("text",hM({},Rs(P),{ref:e,x:R,y:I,className:zt("recharts-text",A),textAnchor:c,fill:o.includes("url")?U9:o}),g.map((B,V)=>{var U=B.words.join(C?"":" ");return T.createElement("tspan",{x:R,dy:V===0?k:a,key:"".concat(U,"-").concat(V)},U)}))});ZD.displayName="Text";var Tbe=["labelRef"];function Nbe(t,e){if(t==null)return{};var n,r,i=Rbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(n),!0).forEach(function(r){Mbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mbe(t,e,n){return(e=Pbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pbe(t){var e=kbe(t,"string");return typeof e=="symbol"?e:e+""}function kbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(null,arguments)}var B9=T.createContext(null),Dbe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,u=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return T.createElement(B9.Provider,{value:u},o)},z9=()=>{var t=T.useContext(B9),e=t_();return t||Zq(e)},Ibe=T.createContext(null),Lbe=()=>{var t=T.useContext(Ibe),e=Ye(bV);return t||e},Obe=t=>{var{value:e,formatter:n}=t,r=Qr(t.children)?e:t.children;return typeof n=="function"?n(r):r},eI=t=>t!=null&&typeof t=="function",jbe=(t,e)=>{var n=As(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Fbe=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:u,innerRadius:c,outerRadius:f,startAngle:h,endAngle:g,clockWise:v}=i,w=(c+f)/2,E=jbe(h,g),A=E>=0?1:-1,C,P;switch(e){case"insideStart":C=h+A*a,P=v;break;case"insideEnd":C=g-A*a,P=!v;break;case"end":C=g+A*a,P=v;break;default:throw new Error("Unsupported position ".concat(e))}P=E<=0?P:!P;var R=Xr(o,u,w,C),I=Xr(o,u,w,C+(P?1:-1)*359),k="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),L=Qr(t.id)?v0("recharts-radial-line-"):t.id;return T.createElement("text",hu({},r,{dominantBaseline:"central",className:zt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:L,d:k})),T.createElement("textPath",{xlinkHref:"#".concat(L)},n))},Ube=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:u}=t,c=(o+u)/2;if(n==="outside"){var{x:f,y:h}=Xr(r,i,s+e,c);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:v,y:w}=Xr(r,i,g,c);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},pM=t=>"cx"in t&&$e(t.cx),Bbe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!pM(n)&&(a=n);var{x:s,y:o,upperWidth:u,lowerWidth:c,height:f}=e,h=s,g=s+(u-c)/2,v=(h+g)/2,w=(u+c)/2,E=h+u/2,A=f>=0?1:-1,C=A*r,P=A>0?"end":"start",R=A>0?"start":"end",I=u>=0?1:-1,k=I*r,L=I>0?"end":"start",M=I>0?"start":"end";if(i==="top"){var z={x:h+u/2,y:o-C,textAnchor:"middle",verticalAnchor:P};return zn(zn({},z),a?{height:Math.max(o-a.y,0),width:u}:{})}if(i==="bottom"){var B={x:g+c/2,y:o+f+C,textAnchor:"middle",verticalAnchor:R};return zn(zn({},B),a?{height:Math.max(a.y+a.height-(o+f),0),width:c}:{})}if(i==="left"){var V={x:v-k,y:o+f/2,textAnchor:L,verticalAnchor:"middle"};return zn(zn({},V),a?{width:Math.max(V.x-a.x,0),height:f}:{})}if(i==="right"){var U={x:v+w+k,y:o+f/2,textAnchor:M,verticalAnchor:"middle"};return zn(zn({},U),a?{width:Math.max(a.x+a.width-U.x,0),height:f}:{})}var q=a?{width:w,height:f}:{};return i==="insideLeft"?zn({x:v+k,y:o+f/2,textAnchor:M,verticalAnchor:"middle"},q):i==="insideRight"?zn({x:v+w-k,y:o+f/2,textAnchor:L,verticalAnchor:"middle"},q):i==="insideTop"?zn({x:h+u/2,y:o+C,textAnchor:"middle",verticalAnchor:R},q):i==="insideBottom"?zn({x:g+c/2,y:o+f-C,textAnchor:"middle",verticalAnchor:P},q):i==="insideTopLeft"?zn({x:h+k,y:o+C,textAnchor:M,verticalAnchor:R},q):i==="insideTopRight"?zn({x:h+u-k,y:o+C,textAnchor:L,verticalAnchor:R},q):i==="insideBottomLeft"?zn({x:g+k,y:o+f-C,textAnchor:M,verticalAnchor:P},q):i==="insideBottomRight"?zn({x:g+c-k,y:o+f-C,textAnchor:L,verticalAnchor:P},q):i&&typeof i=="object"&&($e(i.x)||_u(i.x))&&($e(i.y)||_u(i.y))?zn({x:s+_d(i.x,w),y:o+_d(i.y,f),textAnchor:"end",verticalAnchor:"end"},q):zn({x:E,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},q)},zbe={angle:0,offset:5,zIndex:Mi.label,position:"middle",textBreakAll:!1};function Sc(t){var e=Ya(t,zbe),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:u,labelRef:c}=e,f=Lbe(),h=z9(),g=r==="center"?h:f??h,v,w,E;if(n==null?v=g:pM(n)?v=n:v=Zq(n),!v||Qr(i)&&Qr(a)&&!T.isValidElement(s)&&typeof s!="function")return null;var A=zn(zn({},e),{},{viewBox:v});if(T.isValidElement(s)){var{labelRef:C}=A,P=Nbe(A,Tbe);return T.cloneElement(s,P)}if(typeof s=="function"){if(w=T.createElement(s,A),T.isValidElement(w))return w}else w=Obe(e);var R=Rs(e);if(pM(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Fbe(e,r,w,R,v);E=Ube(v,e.offset,e.position)}else E=Bbe(e,v);return T.createElement(Wu,{zIndex:e.zIndex},T.createElement(ZD,hu({ref:c,className:zt("recharts-label",o)},R,E,{textAnchor:Sbe(R.textAnchor)?R.textAnchor:E.textAnchor,breakAll:u}),w))}Sc.displayName="Label";var Hbe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Sc,hu({key:"label-implicit"},r)):Zo(t)?T.createElement(Sc,hu({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Sc?T.cloneElement(t,zn({key:"label-implicit"},r)):T.createElement(Sc,hu({key:"label-implicit",content:t},r)):eI(t)?T.createElement(Sc,hu({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Sc,hu({},t,{key:"label-implicit"},r)):null};function Gbe(t){var{label:e,labelRef:n}=t,r=z9();return Hbe(e,r,n)||null}var TR={},NR={},yz;function qbe(){return yz||(yz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(NR)),NR}var RR={},vz;function $be(){return vz||(vz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(RR)),RR}var bz;function Vbe(){return bz||(bz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qbe(),n=$be(),r=zk();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(TR)),TR}var MR,xz;function Wbe(){return xz||(xz=1,MR=Vbe().last),MR}var Ybe=Wbe();const Kbe=uo(Ybe);var Xbe=["valueAccessor"],Jbe=["dataKey","clockWise","id","textBreakAll","zIndex"];function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(null,arguments)}function wz(t,e){if(t==null)return{};var n,r,i=Qbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Zbe=t=>Array.isArray(t.value)?Kbe(t.value):t.value,H9=T.createContext(void 0),exe=H9.Provider,G9=T.createContext(void 0);G9.Provider;function txe(){return T.useContext(H9)}function nxe(){return T.useContext(G9)}function sE(t){var{valueAccessor:e=Zbe}=t,n=wz(t,Xbe),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,u=wz(n,Jbe),c=txe(),f=nxe(),h=c||f;return!h||!h.length?null:T.createElement(Wu,{zIndex:o??Mi.label},T.createElement(Qo,{className:"recharts-label-list"},h.map((g,v)=>{var w,E=Qr(r)?e(g,v):vi(g&&g.payload,r),A=Qr(a)?{}:{id:"".concat(a,"-").concat(v)};return T.createElement(Sc,PA({key:"label-".concat(v)},Rs(g),u,A,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:E,textBreakAll:s,viewBox:g.viewBox,index:v,zIndex:0}))})))}sE.displayName="LabelList";function rxe(t){var{label:e}=t;return e?e===!0?T.createElement(sE,{key:"labelList-implicit"}):T.isValidElement(e)||eI(e)?T.createElement(sE,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(sE,PA({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function mM(){return mM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mM.apply(null,arguments)}var q9=t=>{var{cx:e,cy:n,r,className:i}=t,a=zt("recharts-dot",i);return $e(e)&&$e(n)&&$e(r)?T.createElement("circle",mM({},io(t),Bk(t),{className:a,cx:e,cy:n,r})):null},ixe={radiusAxis:{},angleAxis:{}},$9=sa({name:"polarAxis",initialState:ixe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:cCe,removeRadiusAxis:dCe,addAngleAxis:fCe,removeAngleAxis:hCe}=$9.actions,axe=$9.reducer,V9=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function sxe(t){var{tooltipEntrySettings:e}=t,n=kr(),r=oa(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Vye(e)):i.current!==e&&n(Wye({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(Yye(i.current)),i.current=null)},[n]),null}function oxe(t){var{legendPayload:e}=t,n=kr(),r=oa(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Sfe(e)):i.current!==e&&n(Efe({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(Afe(i.current)),i.current=null)},[n]),null}var PR,lxe=()=>{var[t]=T.useState(()=>v0("uid-"));return t},uxe=(PR=VP.useId)!==null&&PR!==void 0?PR:lxe;function W9(t,e){var n=uxe();return e||(t?"".concat(t,"-").concat(n):n)}var cxe=T.createContext(void 0),dxe=t=>{var{id:e,type:n,children:r}=t,i=W9("recharts-".concat(n),e);return T.createElement(cxe.Provider,{value:i},r(i))},fxe={cartesianItems:[],polarItems:[]},Y9=sa({name:"graphicalItems",initialState:fxe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:bn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ro(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:bn()},removeCartesianGraphicalItem:{reducer(t,e){var n=ro(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:bn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:bn()},removePolarGraphicalItem:{reducer(t,e){var n=ro(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:bn()}}}),{addCartesianGraphicalItem:hxe,replaceCartesianGraphicalItem:pxe,removeCartesianGraphicalItem:mxe,addPolarGraphicalItem:pCe,removePolarGraphicalItem:mCe}=Y9.actions,gxe=Y9.reducer,yxe=t=>{var e=kr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(hxe(t)):n.current!==t&&e(pxe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(mxe(n.current)),n.current=null)},[e]),null},vxe=T.memo(yxe),bxe=["points"];function Sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(n),!0).forEach(function(r){xxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xxe(t,e,n){return(e=wxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wxe(t){var e=Sxe(t,"string");return typeof e=="symbol"?e:e+""}function Sxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kA.apply(null,arguments)}function Exe(t,e){if(t==null)return{};var n,r,i=Axe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Axe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _xe(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=zt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=Exe(a,bxe);return T.createElement(q9,kA({},o,{className:i}))}function Cxe(t,e){return t==null?!1:e?!0:t.length===1}function Txe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:u,zIndex:c=Mi.scatter}=t;if(!Cxe(e,n))return null;var f=V9(n),h=Ile(n),g=e.map((w,E)=>{var A,C,P=kR(kR(kR({r:3},s),h),{},{index:E,cx:(A=w.x)!==null&&A!==void 0?A:void 0,cy:(C=w.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return T.createElement(_xe,{key:"dot-".concat(E),option:n,dotProps:P,className:i})}),v={};return o&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),T.createElement(Wu,{zIndex:c},T.createElement(Qo,kA({className:r},v),g))}function Ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(n),!0).forEach(function(r){Nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nxe(t,e,n){return(e=Rxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rxe(t){var e=Mxe(t,"string");return typeof e=="symbol"?e:e+""}function Mxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pxe={xAxis:{},yAxis:{},zAxis:{}},K9=sa({name:"cartesianAxis",initialState:Pxe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:bn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:bn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:bn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:bn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:bn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:bn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:bn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:bn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:bn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=Az(Az({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:kxe,replaceXAxis:Dxe,removeXAxis:Ixe,addYAxis:Lxe,replaceYAxis:Oxe,removeYAxis:jxe,addZAxis:gCe,replaceZAxis:yCe,removeZAxis:vCe,updateYAxisWidth:Fxe}=K9.actions,Uxe=K9.reducer,Bxe=fe([ei],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),zxe=fe([Bxe,zu,Hu],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),tI=()=>Ye(zxe),Hxe=()=>Ye(Bve);function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(r){Gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gxe(t,e,n){return(e=qxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qxe(t){var e=$xe(t,"string");return typeof e=="symbol"?e:e+""}function $xe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vxe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=DR(DR(DR({},o),F1(i)),Bk(i)),c;return T.isValidElement(i)?c=T.cloneElement(i,u):typeof i=="function"?c=i(u):c=T.createElement(q9,u),T.createElement(Qo,{className:"recharts-active-dot",clipPath:s},c)};function Cz(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Mi.activeDot}=t,o=Ye(P0),u=Hxe();if(e==null||u==null)return null;var c=e.find(f=>u.includes(f.payload));return Qr(c)?null:T.createElement(Wu,{zIndex:s},T.createElement(Vxe,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Wxe="Invariant failed";function tn(t,e){if(!t)throw new Error(Wxe)}var Yxe={},X9=sa({name:"errorBars",initialState:Yxe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:bCe,replaceErrorBar:xCe,removeErrorBar:wCe}=X9.actions,Kxe=X9.reducer;function J9(t,e){var n,r,i=Ye(c=>qu(c,t)),a=Ye(c=>$u(c,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:xr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:wr.allowDataOverflow,u=s||o;return{needClip:u,needClipX:s,needClipY:o}}function Xxe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=tI(),{needClipX:a,needClipY:s,needClip:o}=J9(e,n);if(!o||!i)return null;var{x:u,y:c,width:f,height:h}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?u:u-f/2,y:s?c:c-h/2,width:a?f:f*2,height:s?h:h*2}))}var IR={exports:{}},LR={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tz;function Jxe(){if(Tz)return LR;Tz=1;var t=oy();function e(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return LR.useSyncExternalStoreWithSelector=function(u,c,f,h,g){var v=i(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=s(function(){function A(k){if(!C){if(C=!0,P=k,k=h(k),g!==void 0&&w.hasValue){var L=w.value;if(g(L,k))return R=L}return R=k}if(L=R,n(P,k))return L;var M=h(k);return g!==void 0&&g(L,M)?(P=k,L):(P=k,R=M)}var C=!1,P,R,I=f===void 0?null:f;return[function(){return A(c())},I===null?void 0:function(){return A(I())}]},[c,f,h,g]);var E=r(u,v[0],v[1]);return a(function(){w.hasValue=!0,w.value=E},[E]),o(E),E},LR}var Nz;function Qxe(){return Nz||(Nz=1,IR.exports=Jxe()),IR.exports}Qxe();function Zxe(t){t()}function ewe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Zxe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Rz={notify(){},get:()=>[]};function twe(t,e){let n,r=Rz,i=0,a=!1;function s(E){f();const A=r.subscribe(E);let C=!1;return()=>{C||(C=!0,A(),h())}}function o(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function c(){return a}function f(){i++,n||(n=t.subscribe(u),r=ewe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Rz)}function g(){a||(a=!0,f())}function v(){a&&(a=!1,h())}const w={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:c,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return w}var nwe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rwe=nwe(),iwe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",awe=iwe(),swe=()=>rwe||awe?T.useLayoutEffect:T.useEffect,owe=swe();function Mz(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function lwe(t,e){if(Mz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Mz(t[n[i]],e[n[i]]))return!1;return!0}var OR=Symbol.for("react-redux-context"),jR=typeof globalThis<"u"?globalThis:{};function uwe(){if(!T.createContext)return{};const t=jR[OR]??(jR[OR]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var cwe=uwe();function dwe(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const u=twe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=T.useMemo(()=>i.getState(),[i]);owe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const o=n||cwe;return T.createElement(o.Provider,{value:a},e)}var fwe=dwe,hwe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function pwe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function nI(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(hwe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!lwe(t[r],e[r]))return!1}else if(!pwe(t[r],e[r]))return!1;return!0}var mwe=t=>{var{chartData:e}=t,n=kr(),r=oa();return T.useEffect(()=>r?()=>{}:(n(tz(e)),()=>{n(tz(void 0))}),[e,n,r]),null},Pz={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Q9=sa({name:"brush",initialState:Pz,reducers:{setBrushSettings(t,e){return e.payload==null?Pz:e.payload}}}),{setBrushSettings:SCe}=Q9.actions,gwe=Q9.reducer;function ywe(t,e,n){return(e=vwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vwe(t){var e=bwe(t,"string");return typeof e=="symbol"?e:e+""}function bwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rI{static create(e){return new rI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}ywe(rI,"EPS",1e-4);function xwe(t){return(t%180+180)%180}var wwe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xwe(i),s=a*Math.PI/180,o=Math.atan(r/n),u=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},Swe={dots:[],areas:[],lines:[]},Z9=sa({name:"referenceElements",initialState:Swe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ro(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ro(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ro(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:ECe,removeDot:ACe,addArea:_Ce,removeArea:CCe,addLine:TCe,removeLine:NCe}=Z9.actions,Ewe=Z9.reducer,Awe=T.createContext(void 0),_we=t=>{var{children:e}=t,[n]=T.useState("".concat(v0("recharts"),"-clip")),r=tI();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return T.createElement(Awe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function eW(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Cwe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return wwe(r,n)}function Twe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function DA(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Nwe(t,e){return eW(t,e+1)}function Rwe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,u=0,c=1,f=s,h=function(){var w=r==null?void 0:r[u];if(w===void 0)return{v:eW(r,c)};var E=u,A,C=()=>(A===void 0&&(A=n(w,E)),A),P=w.coordinate,R=u===0||DA(t,P,C,f,o);R||(u=0,f=s,c+=1),R&&(f=P+t*(C()/2+i),u+=c)},g;c<=a.length;)if(g=h(),g)return g.v;return[]}function kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(n),!0).forEach(function(r){Mwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mwe(t,e,n){return(e=Pwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pwe(t){var e=kwe(t,"string");return typeof e=="symbol"?e:e+""}function kwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dwe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:u}=e,c=function(g){var v=a[g],w,E=()=>(w===void 0&&(w=n(v,g)),w);if(g===s-1){var A=t*(v.coordinate+t*E()/2-u);a[g]=v=ci(ci({},v),{},{tickCoord:A>0?v.coordinate-A*t:v.coordinate})}else a[g]=v=ci(ci({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var C=DA(t,v.tickCoord,E,o,u);C&&(u=v.tickCoord-t*(E()/2+i),a[g]=ci(ci({},v),{},{isShow:!0}))}},f=s-1;f>=0;f--)c(f);return a}function Iwe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:u,end:c}=e;if(a){var f=r[o-1],h=n(f,o-1),g=t*(f.coordinate+t*h/2-c);if(s[o-1]=f=ci(ci({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate}),f.tickCoord!=null){var v=DA(t,f.tickCoord,()=>h,u,c);v&&(c=f.tickCoord-t*(h/2+i),s[o-1]=ci(ci({},f),{},{isShow:!0}))}}for(var w=a?o-1:o,E=function(P){var R=s[P],I,k=()=>(I===void 0&&(I=n(R,P)),I);if(P===0){var L=t*(R.coordinate-t*k()/2-u);s[P]=R=ci(ci({},R),{},{tickCoord:L<0?R.coordinate-L*t:R.coordinate})}else s[P]=R=ci(ci({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var M=DA(t,R.tickCoord,k,u,c);M&&(u=R.tickCoord+t*(k()/2+i),s[P]=ci(ci({},R),{},{isShow:!0}))}},A=0;A<w;A++)E(A);return s}function iI(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:u,tickFormatter:c,unit:f,angle:h}=t;if(!i||!i.length||!r)return[];if($e(u)||py.isSsr){var g;return(g=Nwe(i,$e(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],w=o==="top"||o==="bottom"?"width":"height",E=f&&w==="width"?c0(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(R,I)=>{var k=typeof c=="function"?c(R.value,I):R.value;return w==="width"?Cwe(c0(k,{fontSize:e,letterSpacing:n}),E,h):c0(k,{fontSize:e,letterSpacing:n})[w]},C=i.length>=2?As(i[1].coordinate-i[0].coordinate):1,P=Twe(a,C,w);return u==="equidistantPreserveStart"?Rwe(C,P,A,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Iwe(C,P,A,i,s,u==="preserveStartEnd"):v=Dwe(C,P,A,i,s),v.filter(R=>R.isShow))}var Lwe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=n?n.getBoundingClientRect().width:0,u=i+a,c=s+u+o+(n?r:0);return Math.round(c)}return 0},Owe=["axisLine","width","height","className","hide","ticks","axisType"];function jwe(t,e){if(t==null)return{};var n,r,i=Fwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(null,arguments)}function Dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(n),!0).forEach(function(r){Uwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uwe(t,e,n){return(e=Bwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bwe(t){var e=zwe(t,"string");return typeof e=="symbol"?e:e+""}function zwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Mi.axis};function Hwe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var c=er(er(er({},u),io(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);c=er(er({},c),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);c=er(er({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return T.createElement("line",Vh({},c,{className:zt("recharts-cartesian-axis-line",z1(o,"className"))}))}function Gwe(t,e,n,r,i,a,s,o,u){var c,f,h,g,v,w,E=o?-1:1,A=t.tickSize||s,C=$e(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=f=t.coordinate,g=n+ +!o*i,h=g-E*A,w=h-E*u,v=C;break;case"left":h=g=t.coordinate,f=e+ +!o*r,c=f-E*A,v=c-E*u,w=C;break;case"right":h=g=t.coordinate,f=e+ +o*r,c=f+E*A,v=c+E*u,w=C;break;default:c=f=t.coordinate,g=n+ +o*i,h=g+E*A,w=h+E*u,v=C;break}return{line:{x1:c,y1:h,x2:f,y2:g},tick:{x:v,y:w}}}function qwe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function $we(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Vwe(t){var{option:e,tickProps:n,value:r}=t,i,a=zt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,er(er({},n),{},{className:a}));else if(typeof e=="function")i=e(er(er({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=zt(s,e==null?void 0:e.className)),i=T.createElement(ZD,Vh({},n,{className:s}),r)}return i}var Wwe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:u,tickTextProps:c,orientation:f,mirror:h,x:g,y:v,width:w,height:E,tickSize:A,tickMargin:C,fontSize:P,letterSpacing:R,getTicksConfig:I,events:k,axisType:L}=t,M=iI(er(er({},I),{},{ticks:n}),P,R),z=qwe(f,h),B=$we(f,h),V=io(I),U=F1(r),q={};typeof i=="object"&&(q=i);var Q=er(er({},V),{},{fill:"none"},q),Z=M.map($=>er({entry:$},Gwe($,g,v,w,E,f,A,h,C))),ce=Z.map($=>{var{entry:ee,line:re}=$;return T.createElement(Qo,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},i&&T.createElement("line",Vh({},Q,re,{className:zt("recharts-cartesian-axis-tick-line",z1(i,"className"))})))}),G=Z.map(($,ee)=>{var{entry:re,tick:xe}=$,W=er(er(er(er({textAnchor:z,verticalAnchor:B},V),{},{stroke:"none",fill:a},U),xe),{},{index:ee,payload:re,visibleTicksCount:M.length,tickFormatter:s,padding:u},c);return T.createElement(Qo,Vh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},gue(k,re,ee)),r&&T.createElement(Vwe,{option:r,tickProps:W,value:"".concat(typeof s=="function"?s(re.value,ee):re.value).concat(o||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(L,"-ticks")},G.length>0&&T.createElement(Wu,{zIndex:Mi.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(L,"-tick-labels"),ref:e},G)),ce.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(L,"-tick-lines")},ce))}),Ywe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:u}=t,c=jwe(t,Owe),[f,h]=T.useState(""),[g,v]=T.useState(""),w=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Lwe({ticks:w.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=T.useCallback(A=>{if(A){var C=A.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=C;var P=C[0];if(P){var R=window.getComputedStyle(P),I=R.fontSize,k=R.letterSpacing;(I!==f||k!==g)&&(h(I),v(k))}}},[f,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Wu,{zIndex:t.zIndex},T.createElement(Qo,{className:zt("recharts-cartesian-axis",a)},T.createElement(Hwe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:io(t)}),T.createElement(Wwe,{ref:E,axisType:u,events:c,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(Dbe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(Gbe,{label:t.label,labelRef:t.labelRef}),t.children)))}),aI=T.forwardRef((t,e)=>{var n=Ya(t,vu);return T.createElement(Ywe,Vh({},n,{ref:e}))});aI.displayName="CartesianAxis";var Kwe=["x1","y1","x2","y2","key"],Xwe=["offset"],Jwe=["xAxisId","yAxisId"],Qwe=["xAxisId","yAxisId"];function Iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(n),!0).forEach(function(r){Zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zwe(t,e,n){return(e=eSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eSe(t){var e=tSe(t,"string");return typeof e=="symbol"?e:e+""}function tSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(null,arguments)}function IA(t,e){if(t==null)return{};var n,r,i=nSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rSe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return T.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function tW(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:u,key:c}=n,f=IA(n,Kwe),h=(i=io(f))!==null&&i!==void 0?i:{},{offset:g}=h,v=IA(h,Xwe);r=T.createElement("line",Ef({},v,{x1:a,y1:s,x2:o,y2:u,fill:"none",key:c}))}return r}function iSe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=IA(t,Jwe),u=i.map((c,f)=>{var h=pi(pi({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return T.createElement(tW,{key:"line-".concat(f),option:r,lineItemProps:h})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function aSe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=IA(t,Qwe),u=i.map((c,f)=>{var h=pi(pi({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return T.createElement(tW,{option:r,lineItemProps:h,key:"line-".concat(f)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function sSe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var c=o.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==c[0]&&c.unshift(0);var f=c.map((h,g)=>{var v=!c[g+1],w=v?i+s-h:c[g+1]-h;if(w<=0)return null;var E=g%e.length;return T.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:w,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function oSe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var c=u.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==c[0]&&c.unshift(0);var f=c.map((h,g)=>{var v=!c[g+1],w=v?i+s-h:c[g+1]-h;if(w<=0)return null;var E=g%n.length;return T.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:w,height:o,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var lSe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return $q(iI(pi(pi(pi({},vu),n),{},{ticks:Vq(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},uSe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return $q(iI(pi(pi(pi({},vu),n),{},{ticks:Vq(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},cSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Mi.grid};function nW(t){var e=t$(),n=n$(),r=e$(),i=pi(pi({},Ya(t,cSe)),{},{x:$e(t.x)?t.x:r.left,y:$e(t.y)?t.y:r.top,width:$e(t.width)?t.width:r.width,height:$e(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:u,width:c,height:f,syncWithTicks:h,horizontalValues:g,verticalValues:v}=i,w=oa(),E=Ye(B=>G5(B,"xAxis",a,w)),A=Ye(B=>G5(B,"yAxis",s,w));if(!el(c)||!el(f)||!$e(o)||!$e(u))return null;var C=i.verticalCoordinatesGenerator||lSe,P=i.horizontalCoordinatesGenerator||uSe,{horizontalPoints:R,verticalPoints:I}=i;if((!R||!R.length)&&typeof P=="function"){var k=g&&g.length,L=P({yAxis:A?pi(pi({},A),{},{ticks:k?g:A.ticks}):void 0,width:e??c,height:n??f,offset:r},k?!0:h);uA(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(R=L)}if((!I||!I.length)&&typeof C=="function"){var M=v&&v.length,z=C({xAxis:E?pi(pi({},E),{},{ticks:M?v:E.ticks}):void 0,width:e??c,height:n??f,offset:r},M?!0:h);uA(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(I=z)}return T.createElement(Wu,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(rSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(sSe,Ef({},i,{horizontalPoints:R})),T.createElement(oSe,Ef({},i,{verticalPoints:I})),T.createElement(iSe,Ef({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:A})),T.createElement(aSe,Ef({},i,{offset:r,verticalPoints:I,xAxis:E,yAxis:A}))))}nW.displayName="CartesianGrid";function dSe(t){var e=F1(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var rW=(t,e,n,r)=>r9(t,"xAxis",e,r),iW=(t,e,n,r)=>n9(t,"xAxis",e,r),aW=(t,e,n,r)=>r9(t,"yAxis",n,r),sW=(t,e,n,r)=>n9(t,"yAxis",n,r),fSe=fe([ln,rW,aW,iW,sW],(t,e,n,r,i)=>Bu(t,"xAxis")?lA(e,r,!1):lA(n,i,!1)),hSe=(t,e,n,r,i)=>i,oW=fe([_V,hSe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),pSe=(t,e,n,r,i)=>{var a,s=oW(t,e,n,r,i);if(s!=null){var o=ln(t),u=Bu(o,"xAxis"),c;if(u?c=lM(t,"yAxis",n,r):c=lM(t,"xAxis",e,r),c!=null){var{stackId:f}=s,h=kD(s);if(!(f==null||h==null)){var g=(a=c[f])===null||a===void 0?void 0:a.stackedData;return g==null?void 0:g.find(v=>v.key===h)}}}},mSe=fe([ln,rW,aW,iW,sW,pSe,ED,fSe,oW,jge],(t,e,n,r,i,a,s,o,u,c)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:g}=s;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:v}=u,w;if(v&&v.length>0?w=v:w=f==null?void 0:f.slice(h,g+1),w!=null)return ISe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:u,stackedData:a,displayedData:w,chartBaseValue:c,bandSize:o})}}),gSe=["id"],ySe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(null,arguments)}function lW(t,e){if(t==null)return{};var n,r,i=vSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(n),!0).forEach(function(r){bSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bSe(t,e,n){return(e=xSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xSe(t){var e=wSe(t,"string");return typeof e=="symbol"?e:e+""}function wSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LA(t,e){return t&&t!=="none"?t:e}var SSe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:LA(r,i),value:Wq(n,e),payload:t}]},ESe=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:u,tooltipType:c}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:Wq(s,e),hide:o,type:c,color:LA(r,a),unit:u}};return T.createElement(sxe,{tooltipEntrySettings:f})});function ASe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=io(r);return T.createElement(Txe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function _Se(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return sm(sm({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return T.createElement(exe,{value:e?i:void 0},n)}function Oz(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:u,connectNulls:c,isRange:f}=a,{id:h}=a,g=lW(a,gSe),v=io(g),w=Rs(g);return T.createElement(T.Fragment,null,(e==null?void 0:e.length)>1&&T.createElement(Qo,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},T.createElement(iE,zh({},w,{id:h,points:e,connectNulls:c,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&T.createElement(iE,zh({},v,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:e})),u!=="none"&&f&&T.createElement(iE,zh({},v,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:n}))),T.createElement(ASe,{points:e,props:g,clipPathId:i}))}function CSe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!jn(a)||!jn(s))return null;var o=e*Math.abs(a-s),u=Math.max(...r.map(c=>c.x||0));return $e(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(c=>c.x||0),u)),$e(u)?T.createElement("rect",{x:0,y:a<s?a:a-o,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function TSe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!jn(a)||!jn(s))return null;var o=e*Math.abs(a-s),u=Math.max(...r.map(c=>c.y||0));return $e(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(c=>c.y||0),u)),$e(u)?T.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function NSe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?T.createElement(CSe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):T.createElement(TSe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function RSe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:u,animationBegin:c,animationDuration:f,animationEasing:h,onAnimationStart:g,onAnimationEnd:v}=r,w=T.useMemo(()=>({points:s,baseLine:o}),[s,o]),E=m$(w,"recharts-area-"),A=lfe(),[C,P]=T.useState(!1),R=!C,I=T.useCallback(()=>{typeof v=="function"&&v(),P(!1)},[v]),k=T.useCallback(()=>{typeof g=="function"&&g(),P(!0)},[g]);if(A==null)return null;var L=i.current,M=a.current;return T.createElement(_Se,{showLabels:R,points:s},r.children,T.createElement(p$,{animationId:E,begin:c,duration:f,isActive:u,easing:h,onAnimationEnd:I,onAnimationStart:k,key:E},z=>{if(L){var B=L.length/s.length,V=z===1?s:s.map((q,Q)=>{var Z=Math.floor(Q*B);if(L[Z]){var ce=L[Z];return sm(sm({},q),{},{x:$o(ce.x,q.x,z),y:$o(ce.y,q.y,z)})}return q}),U;return $e(o)?U=$o(M,o,z):Qr(o)||ao(o)?U=$o(M,0,z):U=o.map((q,Q)=>{var Z=Math.floor(Q*B);if(Array.isArray(M)&&M[Z]){var ce=M[Z];return sm(sm({},q),{},{x:$o(ce.x,q.x,z),y:$o(ce.y,q.y,z)})}return q}),z>0&&(i.current=V,a.current=U),T.createElement(Oz,{points:V,baseLine:U,needClip:e,clipPathId:n,props:r})}return z>0&&(i.current=s,a.current=o),T.createElement(Qo,null,u&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(n)},T.createElement(NSe,{alpha:z,points:s,baseLine:o,layout:A,strokeWidth:r.strokeWidth}))),T.createElement(Qo,{clipPath:"url(#animationClipPath-".concat(n,")")},T.createElement(Oz,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),T.createElement(rxe,{label:r.label}))}function MSe(t){var{needClip:e,clipPathId:n,props:r}=t,i=T.useRef(null),a=T.useRef();return T.createElement(RSe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class PSe extends T.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:u,yAxisId:c,width:f,height:h,id:g,baseLine:v,zIndex:w}=this.props;if(e)return null;var E=zt("recharts-area",i),A=g,{r:C,strokeWidth:P}=dSe(n),R=V9(n),I=C*2+P,k=o?"url(#clipPath-".concat(R?"":"dots-").concat(A,")"):void 0;return T.createElement(Wu,{zIndex:w},T.createElement(Qo,{className:E},o&&T.createElement("defs",null,T.createElement(Xxe,{clipPathId:A,xAxisId:u,yAxisId:c}),!R&&T.createElement("clipPath",{id:"clipPath-dots-".concat(A)},T.createElement("rect",{x:s-I/2,y:a-I/2,width:f+I,height:h+I}))),T.createElement(MSe,{needClip:o,clipPathId:A,props:this.props})),T.createElement(Cz,{points:r,mainColor:LA(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(v)&&T.createElement(Cz,{points:v,mainColor:LA(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var uW={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Mi.area};function kSe(t){var e,n=Ya(t,uW),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:u,fill:c,fillOpacity:f,hide:h,isAnimationActive:g,legendType:v,stroke:w,xAxisId:E,yAxisId:A}=n,C=lW(n,ySe),P=Ix(),R=A9(),{needClip:I}=J9(E,A),k=oa(),{points:L,isRange:M,baseLine:z}=(e=Ye(Z=>mSe(Z,E,A,k,t.id)))!==null&&e!==void 0?e:{},B=tI();if(P!=="horizontal"&&P!=="vertical"||B==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:V,width:U,x:q,y:Q}=B;return!L||!L.length?null:T.createElement(PSe,zh({},C,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:z,connectNulls:o,dot:u,fill:c,fillOpacity:f,height:V,hide:h,layout:P,isAnimationActive:g==="auto"?!py.isSsr:g,isRange:M,legendType:v,needClip:I,points:L,stroke:w,width:U,left:q,top:Q,xAxisId:E,yAxisId:A}))}var DSe=(t,e,n,r,i)=>{var a=n??e;if($e(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var u=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function ISe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:u,displayedData:c,dataStartIndex:f,xAxisTicks:h,yAxisTicks:g,bandSize:v}=t,w=i&&i.length,E=DSe(a,s,n,o,u),A=a==="horizontal",C=!1,P=c.map((I,k)=>{var L;w?L=i[f+k]:(L=vi(I,r),Array.isArray(L)?C=!0:L=[E,L]);var M=L[1]==null||w&&!e&&vi(I,r)==null;return A?{x:fB({axis:o,ticks:h,bandSize:v,entry:I,index:k}),y:M?null:u.scale(L[1]),value:L,payload:I}:{x:M?null:o.scale(L[1]),y:fB({axis:u,ticks:g,bandSize:v,entry:I,index:k}),value:L,payload:I}}),R;return w||C?R=P.map(I=>{var k=Array.isArray(I.value)?I.value[0]:null;return A?{x:I.x,y:k!=null&&I.y!=null?u.scale(k):null,payload:I.payload}:{x:k!=null?o.scale(k):null,y:I.y,payload:I.payload}}):R=A?u.scale(E):o.scale(E),{points:P,baseLine:R,isRange:C}}function LSe(t){var e=Ya(t,uW),n=oa();return T.createElement(dxe,{id:e.id,type:"area"},r=>T.createElement(T.Fragment,null,T.createElement(oxe,{legendPayload:SSe(e)}),T.createElement(ESe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(vxe,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Ade(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),T.createElement(kSe,zh({},e,{id:r}))))}var cW=T.memo(LSe,nI);cW.displayName="Area";var OSe=["domain","range"],jSe=["domain","range"];function jz(t,e){if(t==null)return{};var n,r,i=FSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fz(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function dW(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=jz(t,OSe),{domain:a,range:s}=e,o=jz(e,jSe);return!Fz(n,a)||!Fz(r,s)?!1:nI(i,o)}var USe=["dangerouslySetInnerHTML","ticks"],BSe=["id"];function gM(){return gM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gM.apply(null,arguments)}function Uz(t,e){if(t==null)return{};var n,r,i=zSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function HSe(t){var e=kr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(kxe(t)):n.current!==t&&e(Dxe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Ixe(n.current)),n.current=null)},[e]),null}var GSe=t=>{var{xAxisId:e,className:n}=t,r=Ye(Kq),i=oa(),a="xAxis",s=Ye(A=>xy(A,a,e,i)),o=Ye(A=>t9(A,a,e,i)),u=Ye(A=>Rye(A,e)),c=Ye(A=>Lye(A,e)),f=Ye(A=>wV(A,e));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=t,v=Uz(t,USe),{id:w}=f,E=Uz(f,BSe);return T.createElement(aI,gM({},v,E,{scale:s,x:c.x,y:c.y,width:u.width,height:u.height,className:zt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},qSe={allowDataOverflow:xr.allowDataOverflow,allowDecimals:xr.allowDecimals,allowDuplicatedCategory:xr.allowDuplicatedCategory,angle:xr.angle,axisLine:vu.axisLine,height:xr.height,hide:!1,includeHidden:xr.includeHidden,interval:xr.interval,minTickGap:xr.minTickGap,mirror:xr.mirror,orientation:xr.orientation,padding:xr.padding,reversed:xr.reversed,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,tickLine:vu.tickLine,tickSize:vu.tickSize,type:xr.type,xAxisId:0},$Se=t=>{var e=Ya(t,qSe);return T.createElement(T.Fragment,null,T.createElement(HSe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(GSe,e))},fW=T.memo($Se,dW);fW.displayName="XAxis";var VSe=["dangerouslySetInnerHTML","ticks"],WSe=["id"];function yM(){return yM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yM.apply(null,arguments)}function Bz(t,e){if(t==null)return{};var n,r,i=YSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KSe(t){var e=kr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Lxe(t)):n.current!==t&&e(Oxe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(jxe(n.current)),n.current=null)},[e]),null}var XSe=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),s=T.useRef(null),o=Ye(Kq),u=oa(),c=kr(),f="yAxis",h=Ye(k=>xy(k,f,e,u)),g=Ye(k=>Fye(k,e)),v=Ye(k=>jye(k,e)),w=Ye(k=>t9(k,f,e,u)),E=Ye(k=>SV(k,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!g||eI(i)||T.isValidElement(i)||E==null)){var k=a.current;if(k){var L=k.getCalculatedWidth();Math.round(g.width)!==Math.round(L)&&c(Fxe({id:e,width:L}))}}},[w,g,c,i,e,r,E]),g==null||v==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:C}=t,P=Bz(t,VSe),{id:R}=E,I=Bz(E,WSe);return T.createElement(aI,yM({},P,I,{ref:a,labelRef:s,scale:h,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:zt("recharts-".concat(f," ").concat(f),n),viewBox:o,ticks:w,axisType:f}))},JSe={allowDataOverflow:wr.allowDataOverflow,allowDecimals:wr.allowDecimals,allowDuplicatedCategory:wr.allowDuplicatedCategory,angle:wr.angle,axisLine:vu.axisLine,hide:!1,includeHidden:wr.includeHidden,interval:wr.interval,minTickGap:wr.minTickGap,mirror:wr.mirror,orientation:wr.orientation,padding:wr.padding,reversed:wr.reversed,scale:wr.scale,tick:wr.tick,tickCount:wr.tickCount,tickLine:vu.tickLine,tickSize:vu.tickSize,type:wr.type,width:wr.width,yAxisId:0},QSe=t=>{var e=Ya(t,JSe);return T.createElement(T.Fragment,null,T.createElement(KSe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(XSe,e))},hW=T.memo(QSe,dW);hW.displayName="YAxis";var ZSe=(t,e)=>e,sI=fe([ZSe,ln,bV,mr,v9,Vu,Qve,ei],a0e),oI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},pW=Ms("mouseClick"),mW=kx();mW.startListening({actionCreator:pW,effect:(t,e)=>{var n=t.payload,r=sI(e.getState(),oI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(Jye({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var vM=Ms("mouseMove"),gW=kx(),FS=null;gW.startListening({actionCreator:vM,effect:(t,e)=>{var n=t.payload;FS!==null&&cancelAnimationFrame(FS);var r=oI(n);FS=requestAnimationFrame(()=>{var i=e.getState(),a=GD(i,i.tooltip.settings.shared);if(a==="axis"){var s=sI(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(c9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(u9())}FS=null})}});var zz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},yW=sa({name:"rootProps",initialState:zz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:zz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),eEe=yW.reducer,{updateOptions:tEe}=yW.actions,vW=sa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:RCe}=vW.actions,nEe=vW.reducer,bW=Ms("keyDown"),xW=Ms("focus"),lI=kx();lI.startListening({actionCreator:bW,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=qD(i,Sy(n),Hx(n),Wx(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var u=Vu(n);if(a==="Enter"){var c=MA(n,"axis","hover",String(i.index));e.dispatch(cM({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=Hye(n),h=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=o+g*h;if(!(u==null||v>=u.length||v<0)){var w=MA(n,"axis","hover",String(v));e.dispatch(cM({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});lI.startListening({actionCreator:xW,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=MA(n,"axis","hover",String(a));e.dispatch(cM({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ls=Ms("externalEvent"),wW=kx(),FR=new Map;wW.startListening({actionCreator:ls,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=FR.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:jve(o),activeDataKey:Lve(o),activeIndex:P0(o),activeLabel:w9(o),activeTooltipIndex:P0(o),isTooltipActive:Fve(o)};n(u,r)}finally{FR.delete(i)}});FR.set(i,s)}}});var rEe=fe([wy],t=>t.tooltipItemPayloads),iEe=fe([rEe,$x,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),SW=Ms("touchMove"),EW=kx();EW.startListening({actionCreator:SW,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=GD(r,r.tooltip.settings.shared);if(i==="axis"){var a=sI(r,oI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(c9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(Pde),f=(s=u.getAttribute(kde))!==null&&s!==void 0?s:void 0,h=iEe(e.getState(),c,f);e.dispatch(Xye({activeDataKey:f,activeIndex:c,activeCoordinate:h}))}}}});var aEe=gq({brush:gwe,cartesianAxis:Uxe,chartData:j0e,errorBars:Kxe,graphicalItems:gxe,layout:pde,legend:_fe,options:k0e,polarAxis:axe,polarOptions:nEe,referenceElements:Ewe,rootProps:eEe,tooltip:Qye,zIndex:b0e}),sEe=function(e){return Uce({reducer:aEe,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([mW.middleware,gW.middleware,lI.middleware,wW.middleware,EW.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Pq({type:"raf"}))},devTools:py.devToolsEnabled})};function oEe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=oa(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=sEe(e));var s=Hk;return T.createElement(fwe,{context:s,store:a.current},n)}function lEe(t){var{layout:e,margin:n}=t,r=kr(),i=oa();return T.useEffect(()=>{i||(r(dde(e)),r(cde(n)))},[r,i,e,n]),null}var uEe=T.memo(lEe,nI);function cEe(t){var e=kr();return T.useEffect(()=>{e(tEe(t))},[e,t]),null}function Hz(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=W9("".concat(r).concat(e)),a=kr();return T.useLayoutEffect(()=>(a(y0e({zIndex:e,elementId:i,isPanorama:n})),()=>{a(v0e({zIndex:e,isPanorama:n}))}),[a,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function Gz(t){var{children:e,isPanorama:n}=t,r=Ye(o0e);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return T.createElement(T.Fragment,null,i.map(s=>T.createElement(Hz,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>T.createElement(Hz,{key:s,zIndex:s,isPanorama:n})))}var dEe=["children"];function fEe(t,e){if(t==null)return{};var n,r,i=hEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(null,arguments)}var pEe={width:"100%",height:"100%",display:"block"},mEe=T.forwardRef((t,e)=>{var n=t$(),r=n$(),i=c$();if(!el(n)||!el(r))return null;var{children:a,otherAttributes:s,title:o,desc:u}=t,c,f;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),T.createElement(j8,OA({},s,{title:o,desc:u,role:f,tabIndex:c,width:n,height:r,style:pEe,ref:e}),a)}),gEe=t=>{var{children:e}=t,n=Ye(e_);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return T.createElement(j8,{width:r,height:i,x:s,y:a},e)},qz=T.forwardRef((t,e)=>{var{children:n}=t,r=fEe(t,dEe),i=oa();return i?T.createElement(gEe,null,T.createElement(Gz,{isPanorama:!0},n)):T.createElement(mEe,OA({ref:e},r),T.createElement(Gz,{isPanorama:!1},n))});function yEe(){var t=kr(),[e,n]=T.useState(null),r=Ye(Mde);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;jn(a)&&a!==r&&t(hde(a))}},[e,t,r]),n}function $z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vEe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$z(Object(n),!0).forEach(function(r){bEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bEe(t,e,n){return(e=xEe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xEe(t){var e=wEe(t,"string");return typeof e=="symbol"?e:e+""}function wEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(null,arguments)}var SEe=()=>(V0e(),null);function jA(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var EEe=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[a,s]=T.useState({containerWidth:jA((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:jA((r=t.style)===null||r===void 0?void 0:r.height)}),o=T.useCallback((c,f)=>{s(h=>{var g=Math.round(c),v=Math.round(f);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),u=T.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=c.getBoundingClientRect();o(f,h);var g=w=>{var{width:E,height:A}=w[0].contentRect;o(E,A)},v=new ResizeObserver(g);v.observe(c),i.current=v}},[e,o]);return T.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),T.createElement(T.Fragment,null,T.createElement(n_,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",Wh({ref:u},t)))}),AEe=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=T.useState({containerWidth:jA(n),containerHeight:jA(r)}),s=T.useCallback((u,c)=>{a(f=>{var h=Math.round(u),g=Math.round(c);return f.containerWidth===h&&f.containerHeight===g?f:{containerWidth:h,containerHeight:g}})},[]),o=T.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:c,height:f}=u.getBoundingClientRect();s(c,f)}},[e,s]);return T.createElement(T.Fragment,null,T.createElement(n_,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Wh({ref:o},t)))}),_Ee=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(n_,{width:n,height:r}),T.createElement("div",Wh({ref:e},t)))}),CEe=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return _u(n)||_u(r)?T.createElement(AEe,Wh({},t,{ref:e})):T.createElement(_Ee,Wh({},t,{ref:e}))});function TEe(t){return t===!0?EEe:CEe}var NEe=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:u,onMouseEnter:c,onMouseLeave:f,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:w,onTouchStart:E,style:A,width:C,responsive:P,dispatchTouchEvents:R=!0}=t,I=T.useRef(null),k=kr(),[L,M]=T.useState(null),[z,B]=T.useState(null),V=yEe(),U=Jk(),q=(U==null?void 0:U.width)>0?U.width:C,Q=(U==null?void 0:U.height)>0?U.height:i,Z=T.useCallback(de=>{V(de),typeof e=="function"&&e(de),M(de),B(de),de!=null&&(I.current=de)},[V,e,M,B]),ce=T.useCallback(de=>{k(pW(de)),k(ls({handler:a,reactEvent:de}))},[k,a]),G=T.useCallback(de=>{k(vM(de)),k(ls({handler:c,reactEvent:de}))},[k,c]),$=T.useCallback(de=>{k(u9()),k(ls({handler:f,reactEvent:de}))},[k,f]),ee=T.useCallback(de=>{k(vM(de)),k(ls({handler:h,reactEvent:de}))},[k,h]),re=T.useCallback(()=>{k(xW())},[k]),xe=T.useCallback(de=>{k(bW(de.key))},[k]),W=T.useCallback(de=>{k(ls({handler:s,reactEvent:de}))},[k,s]),J=T.useCallback(de=>{k(ls({handler:o,reactEvent:de}))},[k,o]),le=T.useCallback(de=>{k(ls({handler:u,reactEvent:de}))},[k,u]),ge=T.useCallback(de=>{k(ls({handler:g,reactEvent:de}))},[k,g]),we=T.useCallback(de=>{k(ls({handler:E,reactEvent:de}))},[k,E]),Te=T.useCallback(de=>{R&&k(SW(de)),k(ls({handler:w,reactEvent:de}))},[k,R,w]),Ae=T.useCallback(de=>{k(ls({handler:v,reactEvent:de}))},[k,v]),mt=TEe(P);return T.createElement(R9.Provider,{value:L},T.createElement(zle.Provider,{value:z},T.createElement(mt,{width:q??(A==null?void 0:A.width),height:Q??(A==null?void 0:A.height),className:zt("recharts-wrapper",r),style:vEe({position:"relative",cursor:"default",width:q,height:Q},A),onClick:ce,onContextMenu:W,onDoubleClick:J,onFocus:re,onKeyDown:xe,onMouseDown:le,onMouseEnter:G,onMouseLeave:$,onMouseMove:ee,onMouseUp:ge,onTouchEnd:Ae,onTouchMove:Te,onTouchStart:we,ref:Z},T.createElement(SEe,null),n)))}),REe=["width","height","responsive","children","className","style","compact","title","desc"];function MEe(t,e){if(t==null)return{};var n,r,i=PEe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PEe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kEe=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:u,title:c,desc:f}=t,h=MEe(t,REe),g=io(h);return u?T.createElement(T.Fragment,null,T.createElement(n_,{width:n,height:r}),T.createElement(qz,{otherAttributes:g,title:c,desc:f},a)):T.createElement(NEe,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(qz,{otherAttributes:g,title:c,desc:f,ref:e},T.createElement(_we,null,a)))});function bM(){return bM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bM.apply(null,arguments)}var DEe={top:5,right:5,bottom:5,left:5},IEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:DEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},LEe=T.forwardRef(function(e,n){var r,i=Ya(e.categoricalChartProps,IEe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:c}=e,f={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(oEe,{preloadedState:{options:f},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},T.createElement(mwe,{chartData:c.data}),T.createElement(uEe,{layout:i.layout,margin:i.margin}),T.createElement(cEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(kEe,bM({},i,{ref:n})))}),OEe=["axis"],jEe=T.forwardRef((t,e)=>T.createElement(LEe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OEe,tooltipPayloadSearcher:M0e,categoricalChartProps:t,ref:e}));const FEe=[{name:"Jan",sales:12e3},{name:"Feb",sales:19e3},{name:"Mar",sales:15e3},{name:"Apr",sales:22e3},{name:"May",sales:28e3},{name:"Jun",sales:24e3},{name:"Jul",sales:32e3},{name:"Aug",sales:38e3}],UEe=({title:t="Revenue Trend",data:e=FEe,className:n=""})=>b.jsxs("div",{className:`flex flex-col h-full w-full ${n}`,children:[b.jsx("div",{className:"flex justify-between items-center mb-6 px-2 shrink-0",children:b.jsx("h3",{className:"text-lg font-medium text-white",children:t})}),b.jsx("div",{className:"flex-1 w-full min-h-0 relative",children:b.jsx("div",{className:"absolute inset-0",children:b.jsx(sfe,{width:"100%",height:"100%",children:b.jsxs(jEe,{data:e,margin:{top:10,right:10,left:-20,bottom:0},children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#81c995",stopOpacity:.3}),b.jsx("stop",{offset:"95%",stopColor:"#81c995",stopOpacity:0})]})}),b.jsx(nW,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),b.jsx(fW,{dataKey:"name",stroke:"#666",tick:{fill:"#999",fontSize:11},axisLine:!1,tickLine:!1,dy:10}),b.jsx(hW,{stroke:"#666",tick:{fill:"#999",fontSize:11},tickFormatter:r=>`${r>=1e3?(r/1e3).toFixed(0)+"k":r}`,axisLine:!1,tickLine:!1}),b.jsx(ebe,{cursor:{stroke:"#81c995",strokeWidth:1,strokeDasharray:"4 4"},contentStyle:{backgroundColor:"#1e1e1e",border:"1px solid #333",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.5)"},itemStyle:{color:"#fff",fontSize:"12px"},labelStyle:{color:"#888",fontSize:"10px",marginBottom:"4px"},formatter:r=>[`${r.toLocaleString()}`,"Revenue"]}),b.jsx(cW,{type:"monotone",dataKey:"sales",stroke:"#81c995",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"})]})})})})]}),BEe="cowritter",zEe="user-data",HEe=()=>localStorage.getItem("github_access_token"),GEe=async(t,e)=>{HEe();try{return localStorage.setItem(`cowritter_site_${t}`,JSON.stringify(e)),await new Promise(n=>setTimeout(n,1500)),{success:!0,message:"Deployed to GitHub Pages",url:`https://co-writter.github.io/${t}`}}catch(n){return console.error("Deployment failed",n),{success:!1,message:"Storage Error"}}},qEe=async t=>{try{const e=localStorage.getItem(`cowritter_site_${t}`);if(e)return JSON.parse(e)}catch{console.warn("Failed to load from local storage simulation")}try{const e=await fetch(`https://raw.githubusercontent.com/${BEe}/${zEe}/main/users/${t}.json`);return e.ok?await e.json():null}catch(e){return console.error("Failed to load profile from GitHub:",e),null}},{useNavigate:$Ee}=bi,VEe=[{id:1,name:"Alice Freeman",email:"alice.f...@gmail.com",location:"Mumbai, IN",time:"2 mins ago",status:"Signed In",action:"Viewed 'The Void Start'",avatar:"A"},{id:2,name:"Bob Script",email:"bob.script...@outlook.com",location:"London, UK",time:"15 mins ago",status:"Signed In",action:"Purchased 'Neural Architectures'",avatar:"B"},{id:3,name:"Guest User",email:"",location:"New York, US",time:"42 mins ago",status:"Guest",action:"Browsing Store",avatar:"?"},{id:4,name:"Diana Prince",email:"diana.p...@gmail.com",location:"Toronto, CA",time:"1 hour ago",status:"Signed In",action:"Added to Cart",avatar:"D"},{id:5,name:"Evan Wright",email:"evan.w...@yahoo.com",location:"Sydney, AU",time:"3 hours ago",status:"Signed In",action:"Viewed Profile",avatar:"E"},{id:6,name:"Guest User",email:"",location:"Berlin, DE",time:"5 hours ago",status:"Guest",action:"Read Preview",avatar:"?"}],WEe=()=>{const{currentUser:t,updateSellerCreatorSite:e,addCreatedBook:n,verifyUser:r,setCurrentUser:i,userType:a}=aa(),s=t,[o,u]=T.useState("overview"),c=$Ee(),[f,h]=T.useState(!1),[g,v]=T.useState(null),w=(s==null?void 0:s.uploadedBooks)||[],[E,A]=T.useState((s==null?void 0:s.creatorSite)||{isEnabled:!1,slug:s==null?void 0:s.name.toLowerCase().replace(/\s+/g,"-"),theme:"dark-minimal",profileImageUrl:(s==null?void 0:s.profileImageUrl)||"",displayName:(s==null?void 0:s.name)||"",tagline:"Author & Digital Creator",showcasedBookIds:[]});if(T.useEffect(()=>{s!=null&&s.creatorSite&&A(s.creatorSite)},[s]),!s)return null;const C=M=>{n(M),u("overview")},P=async()=>{if(!E.slug)return;h(!0),e(E);const M=await GEe(E.slug,{sellerProfile:s,siteConfig:E,books:w});M.success&&v(M.url||null),h(!1)},R=M=>{const{name:z,value:B,type:V}=M.target;if(V==="checkbox"){const{checked:U}=M.target;A(q=>({...q,[z]:U}))}else A(U=>({...U,[z]:B}))},I=({id:M,label:z,icon:B})=>b.jsxs("button",{onClick:()=>u(M),className:`w-full flex items-center gap-4 px-6 py-3.5 text-sm font-medium rounded-r-full transition-all duration-200 group ${o===M?"bg-[#34a853]/15 text-[#81c995] border-l-4 border-[#34a853]":"text-neutral-400 hover:bg-white/5 hover:text-white border-l-4 border-transparent"}`,children:[b.jsx(B,{className:`w-5 h-5 ${o===M?"text-[#81c995]":"text-neutral-500 group-hover:text-white"}`}),z]}),k=({id:M,label:z,icon:B})=>b.jsxs("button",{onClick:()=>u(M),className:`flex flex-col items-center justify-center py-2 px-4 flex-1 transition-colors ${o===M?"text-white":"text-neutral-500 hover:text-neutral-300"}`,children:[b.jsx(B,{className:`w-6 h-6 mb-1 ${o===M?"text-[#81c995]":"text-current"}`}),b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:z})]}),L=s.isAdmin===!0||s.email==="subatomicerror@gmail.com";return b.jsxs("div",{className:"h-screen w-full bg-[#0b0b0b] font-sans text-white pt-16 flex overflow-hidden",children:[b.jsxs("aside",{className:"w-64 flex-shrink-0 border-r border-white/5 hidden md:flex flex-col bg-[#0b0b0b] z-20 h-full overflow-y-auto",children:[b.jsxs("nav",{className:"flex-1 space-y-1 pr-4 mt-6",children:[b.jsx(I,{id:"overview",label:"Overview",icon:SS}),b.jsx(I,{id:"audience",label:"Audience",icon:x2}),b.jsx(I,{id:"studio",label:"Content Manager",icon:aN}),b.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),b.jsx(I,{id:"settings",label:"Site Settings",icon:u0}),L&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),b.jsx(I,{id:"admin",label:"System Admin",icon:G4})]})]}),b.jsxs("div",{className:"p-6 border-t border-white/5",children:[b.jsx("button",{onClick:()=>i(t,Ut.USER),className:"text-xs font-medium text-neutral-500 hover:text-white transition-colors mb-4 block",children:"Switch to Reading Mode"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-800 overflow-hidden border border-white/10",children:s.profileImageUrl?b.jsx("img",{src:s.profileImageUrl,alt:"",className:"w-full h-full object-cover"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-500 font-bold",children:s.name[0]})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("p",{className:"text-sm font-bold truncate flex items-center gap-2",children:[s.name,s.isVerified&&b.jsx(Jr,{className:"w-3 h-3 text-[#34a853]"})]}),b.jsx("p",{className:"text-xs text-neutral-500 truncate",children:L?"System Owner":"Writer Account"})]})]})]})]}),b.jsx("main",{className:"flex-1 h-full overflow-y-auto bg-[#0b0b0b] relative scroll-smooth",children:b.jsxs("div",{className:"p-4 md:p-8 pb-32",children:[" ",b.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[b.jsxs("h1",{className:"text-xl md:text-2xl font-normal text-white",children:[o==="overview"&&(L?"Global Overview":"Dashboard Overview"),o==="audience"&&"Live Audience",o==="studio"&&"Content Manager",o==="settings"&&"Site Configuration",o==="admin"&&"System Administration"]}),o==="overview"&&b.jsx("button",{onClick:()=>c("/ebook-studio"),className:"md:hidden p-3 bg-white rounded-full text-black shadow-lg",children:b.jsx(N8,{className:"w-5 h-5"})})]}),o==="overview"&&b.jsxs("div",{className:"space-y-6 animate-fade-in",children:[b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Revenue",value:L?"1,240,500":"24,500",icon:O1,color:"text-[#81c995]"},{label:"Total Visitors",value:L?"84,320":"1,240",icon:SS,color:"text-[#a8c7fa]"},{label:L?"Total Books":"Active Books",value:L?"342":w.length.toString(),icon:yi,color:"text-[#fdd663]"}].map((M,z)=>b.jsxs("div",{className:"bg-[#1e1e1e] p-6 rounded-3xl border border-white/5",children:[b.jsxs("div",{className:"flex items-start justify-between mb-4",children:[b.jsx("div",{className:`p-3 rounded-full bg-white/5 ${M.color}`,children:b.jsx(M.icon,{className:"w-6 h-6"})}),b.jsx("span",{className:"text-xs font-bold bg-green-900/30 text-green-400 px-2 py-1 rounded-full",children:"+12%"})]}),b.jsx("h3",{className:"text-3xl font-normal text-white mb-1",children:M.value}),b.jsx("p",{className:"text-sm text-neutral-500",children:M.label})]},z))}),b.jsx("div",{className:"bg-[#1e1e1e] rounded-3xl p-8 border border-white/5 h-[300px] md:h-[400px]",children:b.jsx(UEe,{className:"w-full h-full",title:L?"Platform Revenue":"Revenue Trend"})}),!L&&b.jsxs("div",{className:"bg-[#1e1e1e] rounded-3xl overflow-hidden border border-white/5",children:[b.jsxs("div",{className:"px-6 md:px-8 py-6 border-b border-white/5 flex justify-between items-center",children:[b.jsx("h3",{className:"text-lg font-medium",children:"Recent Uploads"}),b.jsx("button",{onClick:()=>u("studio"),className:"text-sm text-[#81c995] font-bold hover:underline",children:"View All"})]}),b.jsxs("div",{className:"divide-y divide-white/5",children:[w.slice(0,5).map(M=>b.jsxs("div",{className:"px-6 md:px-8 py-4 flex items-center justify-between hover:bg-white/5 transition-colors group",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("img",{src:M.coverImageUrl,className:"w-10 h-14 object-cover rounded bg-black",alt:""}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-sm text-white group-hover:text-[#a8c7fa] transition-colors line-clamp-1",children:M.title}),b.jsxs("p",{className:"text-xs text-neutral-500",children:["",M.price]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"text-xs text-neutral-500 hidden sm:block",children:new Date(M.publicationDate).toLocaleDateString()}),b.jsx("button",{onClick:()=>c(`/edit-ebook/${M.id}`),className:"p-2 hover:bg-white/10 rounded-full text-neutral-400 hover:text-white",children:b.jsx($4,{className:"w-4 h-4"})})]})]},M.id)),w.length===0&&b.jsx("p",{className:"p-8 text-center text-neutral-500 text-sm",children:"No books uploaded yet."})]})]})]}),o==="audience"&&b.jsxs("div",{className:"animate-fade-in max-w-5xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-neutral-500 mb-1",children:"Live Feed"}),b.jsx("p",{className:"text-neutral-400 text-xs",children:"Real-time visitor tracking"})]}),b.jsxs("div",{className:"flex items-center gap-2 bg-[#34a853]/10 px-3 py-1.5 rounded-full border border-[#34a853]/20",children:[b.jsxs("span",{className:"relative flex h-2 w-2",children:[b.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#34a853] opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[#34a853]"})]}),b.jsx("span",{className:"text-[10px] font-bold text-[#81c995] uppercase tracking-widest",children:"Active"})]})]}),b.jsx("div",{className:"space-y-3",children:VEe.map(M=>b.jsxs("div",{className:"group bg-[#1e1e1e] hover:bg-[#252525] border border-white/5 hover:border-white/10 rounded-2xl p-4 flex flex-col md:flex-row md:items-center gap-4 transition-all duration-300",children:[b.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-[200px]",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-neutral-800 to-neutral-900 border border-white/10 flex items-center justify-center font-bold text-sm text-white shadow-inner",children:M.avatar}),b.jsxs("div",{children:[b.jsx("div",{className:"font-medium text-white text-sm",children:M.name}),b.jsx("div",{className:"text-xs text-neutral-500",children:M.email})]})]}),b.jsxs("div",{className:"flex items-center gap-2 md:w-[150px] text-neutral-400 text-sm",children:[b.jsx(Dk,{className:"w-4 h-4 text-neutral-600"}),b.jsx("span",{children:M.location})]}),b.jsxs("div",{className:"flex-1 md:w-[250px]",children:[b.jsxs("div",{className:"flex items-center gap-2 text-white text-sm mb-0.5",children:[b.jsx(SS,{className:"w-3 h-3 text-[#a8c7fa]"}),b.jsx("span",{className:"truncate",children:M.action})]}),b.jsxs("div",{className:"text-[10px] text-neutral-500 font-mono flex items-center gap-1",children:[b.jsx(Koe,{className:"w-3 h-3"})," ",M.time]})]}),b.jsx("div",{className:"md:w-[120px] flex justify-end",children:b.jsxs("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest flex items-center gap-1.5 ${M.status==="Signed In"?"bg-[#34a853]/10 text-[#81c995] border border-[#34a853]/20":"bg-white/5 text-neutral-500 border border-white/5"}`,children:[b.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${M.status==="Signed In"?"bg-[#34a853]":"bg-neutral-500"}`}),M.status==="Signed In"?"User":"Guest"]})})]},M.id))})]}),o==="studio"&&b.jsxs("div",{className:"animate-fade-in max-w-5xl mx-auto space-y-12",children:[b.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-3xl overflow-hidden",children:[b.jsxs("div",{className:"p-8 border-b border-white/5 bg-white/[0.02]",children:[b.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Your Manuscripts"}),b.jsx("p",{className:"text-sm text-neutral-500",children:"Edit content, update pricing, or manage visual assets."})]}),b.jsx("div",{className:"divide-y divide-white/5 max-h-[400px] overflow-y-auto custom-scrollbar",children:w.length>0?w.map(M=>b.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-center gap-6 hover:bg-white/[0.02] transition-colors group",children:[b.jsx("img",{src:M.coverImageUrl,alt:M.title,className:"w-16 h-24 object-cover rounded-lg shadow-lg bg-[#0b0b0b] border border-white/10"}),b.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[b.jsx("h3",{className:"font-bold text-white text-lg mb-1 group-hover:text-blue-400 transition-colors",children:M.title}),b.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3 text-xs text-neutral-500 mb-2",children:[b.jsx("span",{className:"uppercase tracking-wider font-bold",children:M.genre}),b.jsx("span",{children:""}),b.jsxs("span",{className:"font-mono",children:["",M.price]})]}),b.jsx("p",{className:"text-xs text-neutral-600 line-clamp-1 max-w-md",children:M.description})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>c(`/read/${M.id}`),className:"p-3 rounded-full border border-white/10 text-neutral-400 hover:text-white hover:bg-white/10 transition-all",title:"Read Preview",children:b.jsx(Joe,{className:"w-5 h-5"})}),b.jsxs("button",{onClick:()=>c(`/edit-ebook/${M.id}`),className:"px-6 py-3 rounded-full bg-white text-black font-bold text-xs uppercase tracking-widest hover:bg-neutral-200 transition-all flex items-center gap-2 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95",children:[b.jsx($4,{className:"w-4 h-4"})," Edit"]})]})]},M.id)):b.jsxs("div",{className:"p-12 text-center text-neutral-500",children:[b.jsx(yi,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),b.jsx("p",{children:"You haven't uploaded any books yet."})]})})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[b.jsx("div",{className:"h-px flex-1 bg-white/10"}),b.jsx("span",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:"Create New"}),b.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),b.jsx(Mle,{onBookUploaded:C})]})]}),o==="settings"&&b.jsxs("div",{className:"animate-fade-in grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-[#1e1e1e] rounded-3xl p-6 md:p-8 border border-white/5",children:[b.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[b.jsx("h2",{className:"text-xl font-medium",children:"Public Profile"}),g&&b.jsxs("a",{href:g,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-xs font-bold text-[#81c995] bg-[#34a853]/10 px-3 py-1 rounded-full",children:[b.jsx("span",{className:"w-2 h-2 rounded-full bg-[#34a853] animate-pulse"})," Live"]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Display Name"}),b.jsx("input",{name:"displayName",value:E.displayName,onChange:R,className:"w-full bg-[#0b0b0b] border border-white/10 rounded-lg p-3 text-sm focus:outline-none focus:border-white/30 text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Tagline"}),b.jsx("textarea",{name:"tagline",value:E.tagline,onChange:R,rows:3,className:"w-full bg-[#0b0b0b] border border-white/10 rounded-lg p-3 text-sm focus:outline-none focus:border-white/30 text-white resize-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Username (Slug)"}),b.jsxs("div",{className:"flex",children:[b.jsx("span",{className:"bg-[#151515] border border-r-0 border-white/10 text-neutral-500 px-3 py-3 text-sm rounded-l-lg hidden sm:block",children:"ebook-engine.github.io/"}),b.jsx("input",{name:"slug",value:E.slug,onChange:R,className:"flex-1 bg-[#0b0b0b] border border-white/10 rounded-lg sm:rounded-l-none p-3 text-sm focus:outline-none focus:border-white/30 text-white"})]})]}),b.jsx("button",{onClick:P,disabled:f,className:"w-full py-4 bg-white text-black font-bold rounded-xl hover:bg-neutral-200 transition-colors flex items-center justify-center gap-2 mt-4",children:f?"Deploying...":b.jsxs(b.Fragment,{children:[b.jsx(aN,{className:"w-5 h-5"})," Publish Site"]})})]})]}),b.jsxs("div",{className:"flex flex-col gap-6",children:[b.jsxs("div",{className:"bg-[#1e1e1e] rounded-3xl p-8 border border-white/5 flex flex-col items-center justify-center text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-4",children:b.jsx(E2,{className:"w-10 h-10 text-white"})}),b.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"GitHub Integration"}),b.jsx("p",{className:"text-sm text-neutral-400 max-w-xs mb-6",children:"Your creator site is hosted for free on GitHub Pages. Changes may take up to 2 minutes to propagate globally."}),g?b.jsxs("div",{className:"bg-[#0b0b0b] p-4 rounded-xl border border-white/10 w-full flex justify-between items-center",children:[b.jsx("span",{className:"text-xs text-neutral-500 truncate",children:g}),b.jsx("a",{href:g,target:"_blank",className:"text-[#81c995] hover:text-white",children:b.jsx(T8,{className:"w-4 h-4"})})]}):b.jsx("div",{className:"bg-[#0b0b0b] p-4 rounded-xl border border-white/10 w-full text-xs text-neutral-600",children:"Not deployed yet."})]}),b.jsx("div",{className:"bg-[#1e1e1e] rounded-3xl p-6 border border-white/5",children:b.jsx("button",{onClick:()=>i(t,Ut.USER),className:"w-full py-3 bg-white/5 hover:bg-white/10 text-white font-medium rounded-xl transition-colors text-sm",children:"Switch to Reader Mode"})})]})]}),o==="admin"&&L&&b.jsx("div",{className:"animate-fade-in space-y-6",children:b.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-3xl p-8",children:[b.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Registered Users"}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b border-white/10 text-neutral-500 text-xs uppercase tracking-widest",children:[b.jsx("th",{className:"py-4 px-2 font-bold",children:"User"}),b.jsx("th",{className:"py-4 px-2 font-bold",children:"Email"}),b.jsx("th",{className:"py-4 px-2 font-bold",children:"Role"}),b.jsx("th",{className:"py-4 px-2 font-bold text-right",children:"Action"})]})}),b.jsx("tbody",{className:"text-sm",children:Object.values(wo).filter(M=>M.id!=="guest").map(M=>b.jsxs("tr",{className:"border-b border-white/5 last:border-0 hover:bg-white/5 transition-colors",children:[b.jsxs("td",{className:"py-4 px-2 font-medium text-white flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-neutral-800 flex items-center justify-center text-xs",children:M.profileImageUrl?b.jsx("img",{src:M.profileImageUrl,alt:"",className:"w-full h-full rounded-full"}):M.name[0]}),M.name]}),b.jsx("td",{className:"py-4 px-2 text-neutral-400",children:M.email}),b.jsx("td",{className:"py-4 px-2",children:b.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] uppercase font-bold ${M.isAdmin?"bg-purple-900/30 text-purple-400 border border-purple-500/20":"uploadedBooks"in M?"bg-blue-900/30 text-blue-400 border border-blue-500/20":"bg-white/5 text-neutral-500"}`,children:M.isAdmin?"Admin":"uploadedBooks"in M?"Writer":"Reader"})}),b.jsx("td",{className:"py-4 px-2 text-right",children:b.jsx("button",{className:"text-xs text-neutral-500 hover:text-white underline",children:"Manage"})})]},M.id))})]})})]})})]})}),b.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-[#0b0b0b]/90 backdrop-blur-xl border-t border-white/10 flex items-center justify-around z-50 pb-safe",children:[b.jsx(k,{id:"overview",label:"Stats",icon:SS}),b.jsx(k,{id:"audience",label:"Visitors",icon:x2}),b.jsx(k,{id:"studio",label:"Content",icon:aN}),b.jsx(k,{id:"settings",label:"Config",icon:u0}),L&&b.jsx(k,{id:"admin",label:"Admin",icon:G4})]})]})},{useNavigate:YEe}=bi,KEe=()=>{const{currentUser:t,userType:e}=aa(),n=YEe();return T.useEffect(()=>{(e===Ut.GUEST||!t)&&n("/login")},[e,t,n]),e===Ut.GUEST||!t?null:b.jsx(b.Fragment,{children:e===Ut.USER?b.jsx(Nle,{}):b.jsx(WEe,{})})},{useNavigate:XEe}=bi,JEe=()=>{const{cart:t,removeFromCart:e,clearCart:n,currentUser:r}=aa(),i=XEe(),[a,s]=T.useState(!1),o=r&&r.id!=="guest",u=t.reduce((w,E)=>w+E.price*E.quantity,0),f=u*.07,h=u+f,g=()=>new Promise(w=>{if(document.getElementById("razorpay-checkout-js")){w(!0);return}const E=document.createElement("script");E.id="razorpay-checkout-js",E.src="https://checkout.razorpay.com/v1/checkout.js",E.onload=()=>{w(!0)},E.onerror=()=>{w(!1)},document.body.appendChild(E)});T.useEffect(()=>{g()},[]);const v=async()=>{if(!o){i("/login");return}if(!await g()||!window.Razorpay){alert("Payment Gateway failed to load. Please check your connection."),s(!1);return}s(!0);const E={key:A8,amount:Math.round(h*100),currency:"INR",name:"Co-Writter Inc.",description:"Book Purchase",image:"https://raw.githubusercontent.com/atherosai/OpenStore.io/main/vite.svg",handler:function(A){console.log("Razorpay Response:",A),alert(`Payment Successful! Transaction ID: ${A.razorpay_payment_id}`),n(),i("/dashboard"),s(!1)},prefill:{name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",contact:""},readonly:{email:!0,name:!0},notes:{items:t.map(A=>`${A.title} (Qty: ${A.quantity})`).join(", "),userId:r==null?void 0:r.id},theme:{color:"#000000"}};try{const A=new window.Razorpay(E);A.on("payment.failed",function(C){alert(`Payment Failed: ${C.error.description}`),s(!1)}),A.open()}catch(A){console.error("Error initializing Razorpay:",A),alert("Could not initiate payment."),s(!1)}};return t.length===0?b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-transparent",children:[b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-white/5 rounded-full blur-[100px] pointer-events-none"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center animate-slide-up",children:[b.jsx("div",{className:"mb-8 opacity-50 grayscale hover:grayscale-0 transition-all duration-700 hover:opacity-100 hover:scale-110",children:b.jsx(Hh,{className:"w-32 h-32 bg-black border border-white/10 rounded-full",isActive:!1})}),b.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Cart is Empty"}),b.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest mb-10",children:"You haven't added any books yet."}),b.jsxs("button",{onClick:()=>i("/store"),className:"group relative px-8 py-4 bg-white text-black font-bold text-xs uppercase tracking-widest rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] flex items-center gap-3 overflow-hidden",children:[b.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[b.jsx(w2,{className:"w-4 h-4"})," Browse Books"]}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})]})]}):b.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-32 pb-20",children:[b.jsxs("header",{className:"mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6 animate-slide-down",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b.jsx("span",{className:"w-2 h-2 bg-google-green rounded-full animate-pulse"}),b.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Secure Checkout"})]}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter",children:"Your Cart"})]}),b.jsxs("p",{className:"text-neutral-400 text-sm font-mono text-right hidden md:block",children:["Order ID: ",Math.random().toString(36).substring(2,9).toUpperCase()]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map((w,E)=>b.jsxs("div",{className:`group flex flex-col sm:flex-row items-center gap-6 p-6 bg-black/40 backdrop-blur-md border border-white/10 rounded-[24px] hover:border-white/30 hover:bg-white/5 transition-all duration-300 animate-slide-up-stagger delay-${E*100}`,children:[b.jsxs("div",{className:"shrink-0 relative",children:[b.jsx("img",{src:w.coverImageUrl,alt:w.title,className:"w-24 h-36 object-cover rounded-lg shadow-2xl border border-white/10 group-hover:scale-105 transition-transform duration-500"}),b.jsx("div",{className:"absolute inset-0 rounded-lg ring-1 ring-inset ring-white/10 group-hover:ring-white/30"})]}),b.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[b.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-2 mb-2",children:b.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 border border-white/5 text-[9px] font-bold text-neutral-300 uppercase tracking-widest",children:w.genre})}),b.jsx("h3",{className:"text-xl font-bold text-white mb-1 leading-tight",children:w.title}),b.jsxs("p",{className:"text-xs text-neutral-500 font-mono uppercase tracking-wide mb-4",children:["By ",w.author]}),b.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-4",children:b.jsxs("button",{onClick:()=>e(w.id),className:"text-[10px] font-bold text-red-500 hover:text-red-400 uppercase tracking-widest flex items-center gap-1 transition-colors",children:[b.jsx(qoe,{className:"w-3 h-3"})," Remove"]})})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"text-3xl font-light text-white tracking-tighter",children:["",(w.price*w.quantity).toFixed(0)]}),b.jsx("p",{className:"text-[10px] text-neutral-600 font-mono uppercase mt-1",children:"Price"})]})]},w.id))}),b.jsx("div",{className:"lg:col-span-1 h-fit sticky top-24 animate-slide-up-stagger delay-300",children:b.jsxs("div",{className:"bg-black/60 backdrop-blur-xl border border-white/10 p-8 rounded-[32px] shadow-[0_0_50px_rgba(0,0,0,0.5)] relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),b.jsx("h2",{className:"text-lg font-bold text-white uppercase tracking-widest mb-8 border-b border-white/10 pb-4",children:"Summary"}),b.jsxs("div",{className:"space-y-4 mb-8",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-neutral-400",children:"Subtotal"}),b.jsxs("span",{className:"text-white font-mono",children:["",u.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-neutral-400",children:"Tax"}),b.jsxs("span",{className:"text-white font-mono",children:["",f.toFixed(2)]})]}),b.jsx("div",{className:"w-full h-px bg-white/10 my-2"}),b.jsxs("div",{className:"flex justify-between items-end",children:[b.jsx("span",{className:"text-white font-bold",children:"Total"}),b.jsxs("span",{className:"text-4xl font-black text-white tracking-tighter",children:["",h.toFixed(0)]})]})]}),o?b.jsx("button",{onClick:v,disabled:a,className:"w-full py-4 bg-white text-black font-black text-xs uppercase tracking-widest rounded-full hover:bg-neutral-200 hover:scale-[1.02] active:scale-[0.98] transition-all shadow-[0_0_20px_rgba(255,255,255,0.2)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?"Processing...":b.jsxs(b.Fragment,{children:[b.jsx($oe,{className:"w-4 h-4"})," Pay Now"]})}):b.jsx("button",{onClick:()=>i("/login"),className:"w-full py-4 bg-white/10 text-white border border-white/20 font-bold text-xs uppercase tracking-widest rounded-full hover:bg-white hover:text-black transition-all",children:"Login to Purchase"}),b.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-[9px] text-neutral-600 font-mono uppercase tracking-widest",children:[b.jsx(Au,{className:"w-3 h-3"})," Instant Download"]})]})})]})]})},{useNavigate:QEe,Link:ZEe}=bi,eAe=()=>b.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[b.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),b.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),b.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),b.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),tAe=()=>{const{currentUser:t,userType:e,setCurrentUser:n,handleEmailLogin:r}=aa(),i=QEe(),[a,s]=T.useState(!1),[o,u]=T.useState("social"),[c,f]=T.useState(""),[h,g]=T.useState(""),[v,w]=T.useState("");$n.useEffect(()=>{t&&e!==Ut.GUEST&&i("/dashboard")},[t,e,i]);const E=()=>{if(s(!0),!window.google||!window.google.accounts||!window.google.accounts.oauth2){console.error("Google Sign-In script not loaded yet."),alert("System initializing... Please try again in a moment."),s(!1);return}window.google.accounts.oauth2.initTokenClient({client_id:Uoe,scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email",callback:async P=>{if(P&&P.access_token)try{const I=await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${P.access_token}`}})).json(),k={id:`google_${I.sub}`,name:I.name,email:I.email,purchaseHistory:[],wishlist:[],isVerified:!1,profileImageUrl:I.picture};n(k,Ut.USER),i("/dashboard")}catch(R){console.error("Failed to fetch user info",R),alert("Authentication failed during profile retrieval.")}finally{s(!1)}else s(!1)},error_callback:P=>{console.error("Google Auth Error:",P),s(!1)}}).requestAccessToken()},A=async C=>{C.preventDefault(),w(""),s(!0);try{const P=await r(c.trim(),h.trim());P.success?i("/dashboard"):w(P.message||"Login failed.")}catch(P){console.error("Login Error:",P),w("System error. Check console for details.")}finally{s(!1)}};return b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-4 relative font-sans selection:bg-white/20",children:b.jsxs("div",{className:"relative z-10 w-full max-w-sm flex flex-col items-center",children:[b.jsx("div",{className:"mb-10 scale-125 animate-float-delayed",children:b.jsx(Hh,{className:"w-24 h-24 border border-white/30 bg-black shadow-[0_0_50px_rgba(255,255,255,0.1)] rounded-full"})}),b.jsxs("div",{className:"w-full bg-black/40 backdrop-blur-2xl border border-white/10 p-8 shadow-[0_0_40px_rgba(0,0,0,0.8)] rounded-[32px] relative overflow-hidden transition-all duration-500 hover:border-white/20 hover:shadow-[0_0_60px_rgba(255,255,255,0.05)]",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"}),b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("h1",{className:"text-2xl font-black tracking-tighter text-white mb-2",children:Ts}),b.jsx("p",{className:"text-[10px] text-neutral-500 font-mono uppercase tracking-[0.2em]",children:"Writing Platform"})]}),b.jsxs("div",{className:"flex bg-white/5 p-1 rounded-full mb-8 border border-white/5",children:[b.jsx("button",{onClick:()=>u("social"),className:`flex-1 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest transition-all ${o==="social"?"bg-white text-black shadow-lg":"text-neutral-500 hover:text-white"}`,children:"Reader"}),b.jsx("button",{onClick:()=>u("email"),className:`flex-1 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest transition-all ${o==="email"?"bg-white text-black shadow-lg":"text-neutral-500 hover:text-white"}`,children:"Admin / Writer"})]}),o==="social"&&b.jsxs("div",{className:"animate-fade-in",children:[b.jsxs("div",{className:"mb-6 relative group",children:[b.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-white/10 to-neutral-700/30 rounded-full blur opacity-0 group-hover:opacity-100 transition duration-700"}),b.jsxs("button",{onClick:E,disabled:a,className:"relative w-full py-4 rounded-full bg-white/5 border border-white/10 text-white font-bold uppercase tracking-widest text-xs flex items-center justify-center gap-4 hover:bg-white/10 hover:border-white/30 transition-all duration-300 shadow-[0_0_20px_rgba(255,255,255,0.02)] hover:shadow-[0_0_30px_rgba(255,255,255,0.05)] hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[a?b.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):b.jsx(eAe,{}),b.jsx("span",{children:"Continue with Google"})]})]}),b.jsx("p",{className:"text-center text-[10px] text-neutral-500 px-4 leading-relaxed",children:"By continuing, you agree to our Terms of Service and confirm you have read our Privacy Policy."})]}),o==="email"&&b.jsxs("form",{onSubmit:A,className:"animate-fade-in space-y-4",children:[b.jsx("div",{children:b.jsx("input",{type:"text",placeholder:"Email or Username",value:c,onChange:C=>f(C.target.value),className:"w-full bg-[#0b0b0b] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-white/40 placeholder-neutral-600 transition-colors",required:!0})}),b.jsx("div",{children:b.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:C=>g(C.target.value),className:"w-full bg-[#0b0b0b] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-white/40 placeholder-neutral-600 transition-colors",required:!0})}),v&&b.jsx("div",{className:"text-red-400 text-xs bg-red-500/10 p-2 rounded-lg border border-red-500/20 text-center",children:v}),b.jsx("button",{type:"submit",disabled:a,className:"w-full py-4 rounded-full bg-white text-black font-bold uppercase tracking-widest text-xs hover:bg-neutral-200 transition-all shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:a?"Authenticating...":"Access Dashboard"}),b.jsx("div",{className:"text-center pt-2",children:b.jsx("p",{className:"text-[10px] text-neutral-600",children:"Restricted access for Owners & Paid Writers."})})]}),b.jsx("div",{className:"mt-6 pt-6 border-t border-white/5 text-center",children:b.jsx(ZEe,{to:"/",className:"text-neutral-600 hover:text-white text-[10px] font-bold uppercase tracking-widest transition-colors",children:"Cancel"})})]}),b.jsx("div",{className:"mt-8 text-center opacity-40 hover:opacity-100 transition-opacity duration-500",children:b.jsx("p",{className:"text-[9px] text-neutral-500 font-mono tracking-widest",children:"POWERED BY AI"})})]})})},{useNavigate:nAe}=bi,rAe=()=>{const{currentUser:t,userType:e,upgradeToSeller:n}=aa(),r=nAe(),[i,a]=T.useState(!1),[s,o]=T.useState("monthly"),u=async()=>{if(!t){r("/login");return}if(!await new Promise(v=>{if(window.Razorpay){v(!0);return}const w=document.createElement("script");w.src="https://checkout.razorpay.com/v1/checkout.js",w.onload=()=>v(!0),w.onerror=()=>v(!1),document.body.appendChild(w)})){alert("Could not load payment gateway. Please try again.");return}a(!0);const g={key:A8,amount:(s==="monthly"?444:4444)*100,currency:"INR",name:"My Ebook Store",description:`Pro Creator Subscription (${s})`,image:"https://raw.githubusercontent.com/atherosai/OpenStore.io/main/vite.svg",handler:function(v){console.log("Subscription Successful",v),n(),alert(`Welcome to the Writer Dashboard! Payment ID: ${v.razorpay_payment_id}`),r("/dashboard"),a(!1)},prefill:{name:t.name,email:t.email},theme:{color:"#000000"}};try{const v=new window.Razorpay(g);v.on("payment.failed",function(w){alert(`Payment Failed: ${w.error.description}`),a(!1)}),v.open()}catch(v){console.error("Payment initialization failed",v),a(!1)}};return b.jsxs("div",{className:"min-h-screen w-full relative bg-black selection:bg-white/20 font-sans",children:[b.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/5 rounded-full blur-[120px]"}),b.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"})]}),b.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-24 pb-20 animate-fade-in max-w-7xl relative z-10",children:[b.jsxs("div",{className:"text-center mb-16 relative",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 relative z-10 tracking-tighter",children:"Choose a Plan"}),b.jsx("p",{className:"text-neutral-400 text-lg max-w-2xl mx-auto relative z-10",children:"Start for free or upgrade to sell your own books and use AI tools."}),b.jsx("div",{className:"flex items-center justify-center mt-8 relative z-10",children:b.jsxs("div",{className:"bg-white/5 p-1 rounded-full border border-white/10 flex relative",children:[b.jsx("button",{onClick:()=>o("monthly"),className:`px-6 py-2 rounded-full text-sm font-bold transition-all duration-300 ${s==="monthly"?"bg-white text-black shadow-glow-white":"text-neutral-500 hover:text-white"}`,children:"Monthly"}),b.jsxs("button",{onClick:()=>o("yearly"),className:`px-6 py-2 rounded-full text-sm font-bold transition-all duration-300 ${s==="yearly"?"bg-white text-black shadow-glow-white":"text-neutral-500 hover:text-white"}`,children:["Yearly ",b.jsx("span",{className:"text-[9px] bg-google-green text-black px-1.5 py-0.5 rounded ml-1",children:"-15%"})]})]})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[b.jsxs("div",{className:"bg-black border border-white/10 p-8 md:p-10 rounded-[32px] relative group shadow-2xl overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white border border-white/10",children:b.jsx(yi,{className:"w-5 h-5"})}),b.jsx("h3",{className:"text-xl font-bold text-white",children:"Reader"})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("span",{className:"text-4xl font-black text-white",children:"Free"}),b.jsx("span",{className:"text-neutral-500 ml-2",children:"/ forever"})]}),b.jsx("p",{className:"text-neutral-400 text-sm mb-8 min-h-[40px]",children:"Read free books and build your personal collection."}),b.jsx("button",{onClick:()=>r("/store"),className:"w-full py-4 rounded-full border border-white/20 text-white font-bold hover:bg-white/10 transition-colors mb-8 uppercase tracking-widest text-xs",children:"Browse Books"}),b.jsx("div",{className:"space-y-4",children:["Read Unlimited Books","Saved Books List","Works on All Devices","Community Reviews","Personal Library"].map((c,f)=>b.jsxs("div",{className:"flex items-center gap-3 text-sm text-neutral-300",children:[b.jsx(Jr,{className:"w-4 h-4 text-google-green flex-shrink-0"}),b.jsx("span",{children:c})]},f))})]}),b.jsxs("div",{className:"bg-black border border-white/10 p-8 md:p-10 rounded-[32px] relative shadow-2xl overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-google-blue to-transparent opacity-50"}),b.jsx("div",{className:"absolute top-6 right-6 px-3 py-1 bg-white text-black text-[10px] font-bold uppercase tracking-widest rounded-full shadow-glow-white",children:"Recommended"}),b.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center shadow-lg",children:b.jsx(Xoe,{className:"w-5 h-5"})}),b.jsx("h3",{className:"text-xl font-bold text-white",children:"Writer"})]}),b.jsxs("div",{className:"mb-6 relative z-10",children:[b.jsxs("span",{className:"text-4xl font-black text-white",children:["",s==="monthly"?"444":"4,444"]}),b.jsxs("span",{className:"text-neutral-500 ml-2",children:["/ ",s==="monthly"?"mo":"yr"]})]}),b.jsx("p",{className:"text-neutral-400 text-sm mb-8 min-h-[40px] relative z-10",children:"Write with AI, publish your books, and sell them online."}),e===Ut.SELLER?b.jsxs("button",{disabled:!0,className:"w-full py-4 rounded-full bg-green-500/10 text-green-400 font-bold border border-green-500/50 mb-8 cursor-default flex items-center justify-center gap-2 uppercase tracking-widest text-xs",children:[b.jsx(Jr,{className:"w-5 h-5"})," Current Plan"]}):b.jsx("button",{onClick:u,disabled:i,className:"w-full py-4 rounded-full bg-white text-black font-bold hover:bg-neutral-200 transition-colors shadow-glow-white mb-8 flex items-center justify-center gap-2 relative z-10 uppercase tracking-widest text-xs",children:i?"Processing...":b.jsxs(b.Fragment,{children:[b.jsx(Au,{className:"w-4 h-4"})," Upgrade to Writer"]})}),b.jsx("div",{className:"space-y-4 relative z-10",children:["Everything in Reader","Publish Unlimited Books","Co-Author Assistant","AI Cover Creator","Your Own Profile Page","See Sales Stats","Keep 70% of Sales","Priority Support"].map((c,f)=>b.jsxs("div",{className:"flex items-center gap-3 text-sm text-white font-medium",children:[b.jsx("div",{className:"p-0.5 bg-white rounded-full",children:b.jsx(Jr,{className:"w-3 h-3 text-black flex-shrink-0"})}),b.jsx("span",{children:c})]},f))})]})]}),b.jsx("div",{className:"mt-20 text-center border-t border-white/10 pt-10",children:b.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-8 md:gap-16 text-neutral-400 text-sm",children:[b.jsxs("div",{className:"flex items-center justify-center gap-3",children:[b.jsx(R8,{className:"w-5 h-5 text-yellow-500"}),b.jsx("span",{children:"Trusted by 10,000+ Creators"})]}),b.jsxs("div",{className:"flex items-center justify-center gap-3",children:[b.jsx("svg",{className:"w-5 h-5 text-google-green",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),b.jsx("span",{children:"Secure Payments"})]}),b.jsxs("div",{className:"flex items-center justify-center gap-3",children:[b.jsx("svg",{className:"w-5 h-5 text-google-blue",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),b.jsx("span",{children:"Cancel Anytime"})]})]})})]})]})},{useParams:iAe,Link:UR}=bi,aAe=()=>{const{slug:t}=iAe(),[e,n]=T.useState(null),[r,i]=T.useState(null),[a,s]=T.useState([]),[o,u]=T.useState(!0);if(T.useEffect(()=>{u(!0);const f=Object.values(wo).find(h=>{var g;return((g=h.creatorSite)==null?void 0:g.slug)===t&&h.id.startsWith("seller")});if(f&&f.creatorSite&&f.creatorSite.isEnabled){n(f),i(f.creatorSite);const h=Oh.filter(g=>f.creatorSite.showcasedBookIds.includes(g.id)&&g.sellerId===f.id);s(h)}else n(null),i(null),s([]);u(!1)},[t]),T.useEffect(()=>(r!=null&&r.theme&&(document.body.className="",document.body.classList.add(`theme-${r.theme}`,"creator-site-body","font-sans")),()=>{document.body.className="font-sans",document.body.style.backgroundColor="#080808"}),[r==null?void 0:r.theme]),o)return b.jsx("div",{className:"flex justify-center items-center min-h-screen bg-brand-bg-dark text-white",children:"Loading Creator Page..."});if(!e||!r)return b.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-brand-bg-dark text-white p-6 text-center",children:[b.jsx(yi,{className:"w-20 h-20 text-brand-accent opacity-50 mb-6"}),b.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Creator Page Not Found"}),b.jsx("p",{className:"text-neutral-400 mb-6",children:"The page you're looking for doesn't exist or hasn't been configured by the seller."}),b.jsxs(UR,{to:"/",className:"px-6 py-2.5 rounded-sm font-semibold transition-all duration-200 bg-brand-accent text-black hover:bg-brand-accent-darker",children:["Back to ",Ts]})]});const c=`theme-${r.theme}`;return b.jsxs("div",{className:`${c} pt-20`,children:[" ",b.jsxs("header",{className:"creator-site-header",children:[r.profileImageUrl&&b.jsx("img",{src:r.profileImageUrl,alt:r.displayName||e.name,className:"creator-site-profile-img"}),b.jsx("h1",{className:"creator-site-display-name",children:r.displayName||e.name}),r.tagline&&b.jsx("p",{className:"creator-site-tagline",children:r.tagline})]}),b.jsx("main",{className:"container mx-auto px-4 py-8",children:a.length>0?b.jsx("div",{className:"creator-site-books-grid",children:a.map(f=>b.jsxs("div",{className:"creator-site-book-card",children:[b.jsx("img",{src:f.coverImageUrl,alt:f.title,className:"creator-site-book-cover"}),b.jsxs("div",{className:"creator-site-book-info",children:[b.jsx("h2",{className:"creator-site-book-title",title:f.title,children:f.title}),b.jsxs("p",{className:"creator-site-book-author",children:["By ",f.author]}),b.jsxs("p",{className:"creator-site-book-price",children:["",f.price.toFixed(2)]}),b.jsxs(UR,{to:`/store?bookId=${f.id}`,className:"creator-site-book-button",target:"_blank",rel:"noopener noreferrer",children:["View on ",Ts]})]})]},f.id))}):b.jsx("p",{className:"text-center text-lg col-span-full py-10",children:"This creator hasn't showcased any eBooks yet."})}),b.jsx("footer",{className:"creator-site-footer",children:b.jsxs("p",{children:[" ",new Date().getFullYear()," ",r.displayName||e.name,". Powered by ",b.jsx(UR,{to:"/",target:"_blank",rel:"noopener noreferrer",children:Ts}),"."]})})]})},{useParams:sAe,useNavigate:oAe}=bi,Gp="w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-sm text-white focus:outline-none focus:border-white/30 transition-all duration-200 placeholder-neutral-600 font-sans",qp="block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",lAe=()=>{const{bookId:t}=sAe(),e=oAe(),n=aa(),{allBooks:r,updateEBook:i,currentUser:a,userType:s}=n,[o,u]=T.useState(null),[c,f]=T.useState(""),[h,g]=T.useState(""),[v,w]=T.useState(""),[E,A]=T.useState(""),[C,P]=T.useState(""),[R,I]=T.useState("paid"),[k,L]=T.useState(""),[M,z]=T.useState(null),[B,V]=T.useState(!0),[U,q]=T.useState(!1),[Q,Z]=T.useState(null);T.useEffect(()=>{if(!t){e("/dashboard");return}const re=r.find(xe=>xe.id===t);re?a&&s===Ut.SELLER&&re.sellerId===a.id?(u(re),f(re.title),g(re.author),w(re.description),A(re.genre),P(re.price.toString()),I(re.price===0?"free":"paid"),L(re.coverImageUrl)):(Z("You do not have permission to edit this eBook."),setTimeout(()=>e("/dashboard"),3e3)):(Z("eBook not found."),setTimeout(()=>e("/dashboard"),3e3)),V(!1)},[t,r,e,a,s]);const ce=re=>{R==="paid"&&P(re)},G=re=>{z(re),L(`data:image/jpeg;base64,${re.imageBytes}`)},$=re=>{if(re.preventDefault(),Z(null),!o){Z("No book selected for editing.");return}if(!c||!h||!v||!E){Z("Please fill in all required fields.");return}let xe=0;if(R==="paid"){if(!C||isNaN(parseFloat(C))||parseFloat(C)<=0){Z("Please enter a valid price.");return}xe=parseFloat(C)}else xe=0;q(!0);const W=M?`data:image/jpeg;base64,${M.imageBytes}`:k,J={...o,title:c,author:h,description:v,genre:E,price:xe,coverImageUrl:W,publicationDate:o.publicationDate};i(J),q(!1),e("/dashboard")};if(B)return b.jsx("div",{className:"min-h-screen bg-[#0b0b0b] flex items-center justify-center",children:b.jsx(y0,{size:"lg",color:"text-white"})});if(Q&&!o)return b.jsxs("div",{className:"min-h-screen bg-[#0b0b0b] flex flex-col items-center justify-center text-center px-6",children:[b.jsx(yi,{className:"w-16 h-16 text-neutral-700 mb-6"}),b.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),b.jsx("p",{className:"text-neutral-500 mb-8",children:Q}),b.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-white text-black font-bold py-3 px-8 rounded-full hover:bg-neutral-200 transition-colors",children:"Back to Dashboard"})]});if(!o)return null;const ee={title:c,genre:E,description:v};return b.jsx("div",{className:"min-h-screen bg-[#0b0b0b] pt-24 pb-20 px-4 md:px-8 font-sans",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors group",children:[b.jsx("div",{className:"w-8 h-8 rounded-full border border-white/10 flex items-center justify-center group-hover:bg-white group-hover:text-black transition-all",children:b.jsx(Hoe,{className:"w-4 h-4"})}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Back"})]}),b.jsxs("h1",{className:"text-xl font-normal text-white flex items-center gap-3",children:["Edit ",b.jsx("span",{className:"text-neutral-500",children:"/"})," ",o.title]})]}),b.jsxs("form",{onSubmit:$,className:"bg-[#1e1e1e] border border-white/5 rounded-3xl p-8 md:p-10 shadow-2xl space-y-8 animate-slide-up",children:[b.jsxs("div",{className:"flex items-center gap-4 border-b border-white/5 pb-8 mb-8",children:[b.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center text-white border border-white/10",children:b.jsx(kk,{className:"w-6 h-6"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-normal text-white",children:"Book Configuration"}),b.jsx("p",{className:"text-neutral-500 text-sm",children:"Update metadata, pricing, and visual assets."})]})]}),Q&&b.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm font-medium",children:Q}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{htmlFor:"title",className:qp,children:"Book Title"}),b.jsx("input",{type:"text",id:"title",value:c,onChange:re=>f(re.target.value),required:!0,className:Gp})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"author",className:qp,children:"Author Name"}),b.jsx("input",{type:"text",id:"author",value:h,onChange:re=>g(re.target.value),required:!0,className:Gp})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"genre",className:qp,children:"Genre"}),b.jsx("input",{type:"text",id:"genre",value:E,onChange:re=>A(re.target.value),required:!0,placeholder:"e.g. Sci-Fi",className:Gp})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{htmlFor:"description",className:qp,children:"Description"}),b.jsx("textarea",{id:"description",value:v,onChange:re=>w(re.target.value),rows:4,required:!0,className:`${Gp} min-h-[120px] resize-none`})]})]}),b.jsxs("div",{className:"p-6 bg-[#0b0b0b] border border-white/5 rounded-2xl",children:[b.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Monetization Strategy"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[b.jsxs("button",{type:"button",onClick:()=>I("paid"),className:`p-5 rounded-2xl border text-left transition-all group ${R==="paid"?"bg-white text-black border-white":"bg-transparent border-white/10 hover:border-white/20"}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R==="paid"?"bg-black text-white":"bg-white/10 text-neutral-400"}`,children:b.jsx(O1,{className:"w-4 h-4"})}),R==="paid"&&b.jsx(Jr,{className:"w-5 h-5 text-black"})]}),b.jsx("h4",{className:`font-bold mb-1 ${R==="paid"?"text-black":"text-white"}`,children:"Premium Asset"}),b.jsx("p",{className:`text-xs ${R==="paid"?"text-neutral-600":"text-neutral-500"}`,children:"Set a price and earn royalties."})]}),b.jsxs("button",{type:"button",onClick:()=>I("free"),className:`p-5 rounded-2xl border text-left transition-all group ${R==="free"?"bg-white text-black border-white":"bg-transparent border-white/10 hover:border-white/20"}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R==="free"?"bg-black text-white":"bg-white/10 text-neutral-400"}`,children:b.jsx(Au,{className:"w-4 h-4"})}),R==="free"&&b.jsx(Jr,{className:"w-5 h-5 text-black"})]}),b.jsx("h4",{className:`font-bold mb-1 ${R==="free"?"text-black":"text-white"}`,children:"Growth Magnet"}),b.jsx("p",{className:`text-xs ${R==="free"?"text-neutral-600":"text-neutral-500"}`,children:"Free distribution for readers."})]})]}),R==="paid"&&b.jsxs("div",{className:"animate-fade-in space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"price",className:qp,children:"List Price (INR)"}),b.jsx("input",{type:"number",id:"price",value:C,onChange:re=>P(re.target.value),step:"0.01",min:"1",required:R==="paid",className:Gp,placeholder:"499"})]}),b.jsx(k8,{bookDetails:ee,onPriceSuggested:ce})]})]}),b.jsxs("div",{className:"p-6 bg-[#0b0b0b] border border-white/5 rounded-2xl",children:[b.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Cover Art"}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[b.jsxs("div",{className:"w-full md:w-1/3 shrink-0",children:[b.jsx("div",{className:"aspect-[3/4] bg-[#1e1e1e] rounded-xl overflow-hidden border border-white/10 relative group",children:k?b.jsx("img",{src:k,alt:"Preview",className:"w-full h-full object-cover"}):b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-neutral-600",children:[b.jsx(yi,{className:"w-12 h-12 mb-2 opacity-50"}),b.jsx("span",{className:"text-xs uppercase tracking-widest",children:"No Cover"})]})}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{htmlFor:"manualCover",className:qp,children:"Manual URL"}),b.jsx("input",{type:"url",id:"manualCover",value:M?"":k,onChange:re=>{L(re.target.value),z(null)},className:Gp,placeholder:"https://..."})]})]}),b.jsx("div",{className:"w-full md:w-2/3",children:b.jsx(D8,{onCoverGenerated:G,currentTitle:c,currentAuthor:h})})]})]}),b.jsxs("div",{className:"pt-6 border-t border-white/5 flex items-center justify-end gap-4",children:[b.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-8 py-4 rounded-full border border-white/10 text-white font-bold text-xs uppercase tracking-widest hover:bg-white/5 transition-colors",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:U,className:"px-8 py-4 rounded-full bg-white text-black font-bold text-xs uppercase tracking-widest hover:bg-neutral-200 transition-all shadow-glow-white disabled:opacity-50 flex items-center gap-2",children:U?b.jsx(y0,{size:"sm",color:"text-black"}):b.jsxs(b.Fragment,{children:[b.jsx(Jr,{className:"w-4 h-4"})," Save Changes"]})})]})]})]})})},Ni=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xM=[.001,0,0,.001,0,0],BR=1.35,ja={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Vo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},D0="pdfjs_internal_editor_",nt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},AW={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Br={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},d0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Hn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Yp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Kx={ERRORS:0,WARNINGS:1,INFOS:5},iy={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},US={moveTo:0,lineTo:1,curveTo:2,closePath:3},_W={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let w_=Kx.WARNINGS;function uAe(t){Number.isInteger(t)&&(w_=t)}function cAe(){return w_}function S_(t){w_>=Kx.INFOS&&console.info(`Info: ${t}`)}function rt(t){w_>=Kx.WARNINGS&&console.warn(`Warning: ${t}`)}function an(t){throw new Error(t)}function wt(t,e){t||an(e)}function dAe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function uI(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=gAe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return dAe(r)?r:null}function cI(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&uI(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function lt(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const tp=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class Vz extends tp{constructor(e,n){super(e,"PasswordException"),this.code=n}}class zR extends tp{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class FA extends tp{constructor(e){super(e,"InvalidPDFException")}}class I0 extends tp{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class fAe extends tp{constructor(e){super(e,"FormatError")}}class Pu extends tp{constructor(e){super(e,"AbortException")}}function CW(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&an("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function Xx(t){typeof t!="string"&&an("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function hAe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function pAe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function mAe(){try{return new Function(""),!0}catch{return!1}}class Pr{static get isLittleEndian(){return lt(this,"isLittleEndian",pAe())}static get isEvalSupported(){return lt(this,"isEvalSupported",mAe())}static get isOffscreenCanvasSupported(){return lt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return lt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return lt(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return lt(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const HR=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var bu,oE,wM;class ke{static makeHexColor(e,n,r){return`#${HR[e]}${HR[n]}${HR[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],a=e[r+1];e[r]=i*n[0]+a*n[2]+n[4],e[r+1]=i*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],a=n[1],s=n[2],o=n[3],u=n[4],c=n[5];for(let f=0;f<6;f+=2){const h=e[r+f],g=e[r+f+1];e[r+f]=h*i+g*s+u,e[r+f+1]=h*a+g*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,r){const i=n[0],a=n[1],s=n[2],o=n[3],u=n[4],c=n[5],f=e[0],h=e[1],g=e[2],v=e[3];let w=i*f+u,E=w,A=i*g+u,C=A,P=o*h+c,R=P,I=o*v+c,k=I;if(a!==0||s!==0){const L=a*f,M=a*g,z=s*h,B=s*v;w+=z,C+=z,A+=B,E+=B,P+=L,k+=L,I+=M,R+=M}r[0]=Math.min(r[0],w,A,E,C),r[1]=Math.min(r[1],P,I,R,k),r[2]=Math.max(r[2],w,A,E,C),r[3]=Math.max(r[3],P,I,R,k)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],a=e[2],s=e[3],o=r**2+i**2,u=r*a+i*s,c=a**2+s**2,f=(o+c)/2,h=Math.sqrt(f**2-(o*c-u**2));n[0]=Math.sqrt(f+h||1),n[1]=Math.sqrt(f-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,a){a[0]=Math.min(a[0],e,r),a[1]=Math.min(a[1],n,i),a[2]=Math.max(a[2],e,r),a[3]=Math.max(a[3],n,i)}static bezierBoundingBox(e,n,r,i,a,s,o,u,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,u),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,u),F(this,bu,wM).call(this,e,r,a,o,n,i,s,u,3*(-e+3*(r-a)+o),6*(e-2*r+a),3*(r-e),c),F(this,bu,wM).call(this,e,r,a,o,n,i,s,u,3*(-n+3*(i-s)+u),6*(n-2*i+s),3*(i-n),c)}}bu=new WeakSet,oE=function(e,n,r,i,a,s,o,u,c,f){if(c<=0||c>=1)return;const h=1-c,g=c*c,v=g*c,w=h*(h*(h*e+3*c*n)+3*g*r)+v*i,E=h*(h*(h*a+3*c*s)+3*g*o)+v*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],E),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],E)},wM=function(e,n,r,i,a,s,o,u,c,f,h,g){if(Math.abs(c)<1e-12){Math.abs(f)>=1e-12&&F(this,bu,oE).call(this,e,n,r,i,a,s,o,u,-h/f,g);return}const v=f**2-4*h*c;if(v<0)return;const w=Math.sqrt(v),E=2*c;F(this,bu,oE).call(this,e,n,r,i,a,s,o,u,(-f+w)/E,g),F(this,bu,oE).call(this,e,n,r,i,a,s,o,u,(-f-w)/E,g)},j(ke,bu);function gAe(t){return decodeURIComponent(escape(t))}let GR=null,Wz=null;function TW(t){return GR||(GR=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Wz=new Map([["","t"]])),t.replaceAll(GR,(e,n,r)=>n?n.normalize("NFKC"):Wz.get(r))}function dI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),CW(t)}const fI="pdfjs_internal_id_";function yAe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const s=a.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const u of a)if(!(typeof u=="number"||o&&u===null))return!1;return!0}function di(t,e,n){return Math.min(Math.max(t,e),n)}function NW(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(CW(t))}function vAe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Xx(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class L0{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){var u;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(L0.shouldBuildText(o))(u=a==null?void 0:a.attributes)!=null&&u.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const c of a.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class hI{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of r.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const u=o.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[u,c]of Object.entries(s))if(c!=null)switch(u){case"class":c.length&&e.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,c)}o&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var h,g;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const o=a!=="richText",u=e.div;if(u.append(s),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=v}o&&u.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const v=document.createTextNode(i.value);s.append(v),o&&L0.shouldBuildText(i.name)&&c.push(v)}return{textDivs:c}}const f=[[i,-1,s]];for(;f.length>0;){const[v,w,E]=f.at(-1);if(w+1===v.children.length){f.pop();continue}const A=v.children[++f.at(-1)[1]];if(A===null)continue;const{name:C}=A;if(C==="#text"){const R=document.createTextNode(A.value);c.push(R),E.append(R);continue}const P=(h=A==null?void 0:A.attributes)!=null&&h.xmlns?document.createElementNS(A.attributes.xmlns,C):document.createElement(C);if(E.append(P),A.attributes&&this.setAttributes({html:P,element:A,storage:n,intent:a,linkService:r}),((g=A.children)==null?void 0:g.length)>0)f.push([A,-1,P]);else if(A.value){const R=document.createTextNode(A.value);o&&L0.shouldBuildText(C)&&c.push(R),P.append(R)}}for(const v of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Cl="http://www.w3.org/2000/svg",yf=class yf{};be(yf,"CSS",96),be(yf,"PDF",72),be(yf,"PDF_TO_CSS_UNITS",yf.CSS/yf.PDF);let ku=yf;async function Ey(t,e="text"){if(Bv(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Jx{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s,r*=n;const u=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let f,h,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,h=0,g=0,v=1;break;case 90:f=0,h=1,g=1,v=0;break;case 270:f=0,h=-1,g=-1,v=0;break;case 0:f=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let w,E,A,C;f===0?(w=Math.abs(c-e[1])*r+a,E=Math.abs(u-e[0])*r+s,A=(e[3]-e[1])*r,C=(e[2]-e[0])*r):(w=Math.abs(u-e[0])*r+a,E=Math.abs(c-e[1])*r+s,A=(e[2]-e[0])*r,C=(e[3]-e[1])*r),this.transform=[f*r,h*r,g*r,v*r,w-f*r*u-g*r*c,E-h*r*u-v*r*c],this.width=A,this.height=C}get rawDims(){const e=this.viewBox;return lt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new Jx({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){const r=[e,n];return ke.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];ke.applyTransform(n,this.transform);const r=[e[2],e[3]];return ke.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return ke.applyInverseTransform(r,this.transform),r}}class E_ extends tp{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function Qx(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function A_(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function RW(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function MW(t,e="document.pdf"){if(typeof t!="string")return e;if(Qx(t))return rt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let u=decodeURIComponent(o);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:o):u}catch{return o}},a=/\.pdf$/i,s=r.pathname.split("/").at(-1);if(a.test(s))return i(s);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(a.test(c))return i(c);const u=Array.from(r.searchParams.keys()).reverse();for(const c of u)if(a.test(c))return i(c)}if(r.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(u)return i(u[0])}return e}class Yz{constructor(){be(this,"started",Object.create(null));be(this,"times",[])}time(e){e in this.started&&rt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||rt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function Bv(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function Va(t){t.preventDefault()}function Cn(t){t.preventDefault(),t.stopPropagation()}function bAe(t){console.log("Deprecated API usage: "+t)}var z0;class O0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;m(this,z0)||D(this,z0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=m(this,z0).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let u=parseInt(n[6],10);u=u>=0&&u<=59?u:0;const c=n[7]||"Z";let f=parseInt(n[8],10);f=f>=0&&f<=23?f:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(s+=f,o+=h):c==="+"&&(s-=f,o-=h),new Date(Date.UTC(r,i,a,s,o,u))}}z0=new WeakMap,j(O0,z0);function PW(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new Jx({viewBox:a,userUnit:1,scale:e,rotation:n})}function Ay(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(rt(`Not a valid color format: "${t}"`),[0,0,0])}function xAe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Ay(r))}e.remove()}function An(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function vo(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function Td(t,e,n=!1,r=!0){if(e instanceof Jx){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=Pr.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${a}px`,f=o?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,h=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(s.width=f,s.height=h):(s.width=h,s.height=f)}r&&t.setAttribute("data-main-rotation",e.rotation)}class oo{constructor(){const{pixelRatio:e}=oo;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,a=-1){let s=1/0,o=1/0,u=1/0;r=oo.capPixels(r,a),r>0&&(s=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,u=i/n);const c=Math.min(s,o,u);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const UA=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class wAe{static get isDarkMode(){var e;return lt(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class kW{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),lt(this,"commentForegroundColor",Ay(r))}}function DW(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function Kz(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.max(n,r,i),s=Math.min(n,r,i),o=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const u=a-s;switch(e[1]=o<.5?u/(a+s):u/(2-a-s),a){case n:e[0]=((r-i)/u+(r<i?6:0))*60;break;case r:e[0]=((i-n)/u+2)*60;break;case i:e[0]=((n-r)/u+4)*60;break}}e[2]=o}function SM(t,e){const n=t[0],r=t[1],i=t[2],a=(1-Math.abs(2*i-1))*r,s=a*(1-Math.abs(n/60%2-1)),o=i-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 2:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=a+o;break;case 5:case 6:e[0]=a+o,e[1]=o,e[2]=s+o;break}}function Xz(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function Jz(t,e,n){SM(t,n),n.map(Xz);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];SM(e,n),n.map(Xz);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const Qz=new Map;function IW(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=Qz.get(n);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),s=i.subarray(3,6);Kz(t,s);const o=i.subarray(6,9);Kz(e,o);const u=o[2]<.5,c=u?12:4.5;if(s[2]=u?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),Jz(s,o,a)<c){let f,h;u?(f=s[2],h=1):(f=0,h=s[2]);const g=.005;for(;h-f>g;){const v=s[2]=(f+h)/2;u===Jz(s,o,a)<c?f=v:h=v}s[2]=u?h:f}return SM(s,a),r=ke.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),Qz.set(n,r),r}function pI({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const s=t.split(/(?:\r\n?|\n)/);for(let o=0,u=s.length;o<u;++o){const c=s[o];a.append(document.createTextNode(c)),o<u-1&&a.append(document.createElement("br"))}i.append(a)}else hI.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}var _c,Cc,cs,ds,H0,Tc,Em,Am,G0,XA,LW,Kr,OW,jW,Kp,zv;const Rl=class Rl{constructor(e){j(this,Kr);j(this,_c,null);j(this,Cc,null);j(this,cs);j(this,ds,null);j(this,H0,null);j(this,Tc,null);j(this,Em,null);j(this,Am,null);D(this,cs,e),m(Rl,G0)||D(Rl,G0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=D(this,_c,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=m(this,cs)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Va,{signal:n}),e.addEventListener("pointerdown",F(Rl,XA,LW),{signal:n}));const r=D(this,ds,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,cs).toolbarPosition;if(i){const{style:a}=e,s=m(this,cs)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return m(this,_c)}hide(){var e;m(this,_c).classList.add("hidden"),(e=m(this,Cc))==null||e.hideDropdown()}show(){var e,n;m(this,_c).classList.remove("hidden"),(e=m(this,H0))==null||e.shown(),(n=m(this,Tc))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=m(this,cs),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",m(Rl,G0)[e]),F(this,Kr,Kp).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),m(this,ds).append(r)}async addAltText(e){const n=await e.render();F(this,Kr,Kp).call(this,n),m(this,ds).append(n,m(this,Kr,zv)),D(this,H0,e)}addComment(e,n=null){if(m(this,Tc))return;const r=e.renderForToolbar();if(!r)return;F(this,Kr,Kp).call(this,r);const i=D(this,Em,m(this,Kr,zv));n?(m(this,ds).insertBefore(r,n),m(this,ds).insertBefore(i,n)):m(this,ds).append(r,i),D(this,Tc,e),e.toolbar=this}addColorPicker(e){if(m(this,Cc))return;D(this,Cc,e);const n=e.renderButton();F(this,Kr,Kp).call(this,n),m(this,ds).append(n,m(this,Kr,zv))}async addEditSignatureButton(e){const n=D(this,Am,await e.renderEditButton(m(this,cs)));F(this,Kr,Kp).call(this,n),m(this,ds).append(n,m(this,Kr,zv))}removeButton(e){var n,r;switch(e){case"comment":(n=m(this,Tc))==null||n.removeToolbarCommentButton(),D(this,Tc,null),(r=m(this,Em))==null||r.remove(),D(this,Em,null);break}}async addButton(e,n){switch(e){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(n);break}}async addButtonBefore(e,n,r){const i=m(this,ds).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){m(this,Am)&&(m(this,Am).title=e)}remove(){var e;m(this,_c).remove(),(e=m(this,Cc))==null||e.destroy(),D(this,Cc,null)}};_c=new WeakMap,Cc=new WeakMap,cs=new WeakMap,ds=new WeakMap,H0=new WeakMap,Tc=new WeakMap,Em=new WeakMap,Am=new WeakMap,G0=new WeakMap,XA=new WeakSet,LW=function(e){e.stopPropagation()},Kr=new WeakSet,OW=function(e){m(this,cs)._focusEventsAllowed=!1,Cn(e)},jW=function(e){m(this,cs)._focusEventsAllowed=!0,Cn(e)},Kp=function(e){const n=m(this,cs)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",F(this,Kr,OW).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",F(this,Kr,jW).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Va,{signal:n}),!0)},zv=function(){const e=document.createElement("div");return e.className="divider",e},j(Rl,XA),j(Rl,G0,null);let EM=Rl;var q0,Af,kl,Du,FW,UW,AM;class SAe{constructor(e){j(this,Du);j(this,q0,null);j(this,Af,null);j(this,kl);D(this,kl,e)}show(e,n,r){const[i,a]=F(this,Du,UW).call(this,n,r),{style:s}=m(this,Af)||D(this,Af,F(this,Du,FW).call(this));e.append(m(this,Af)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Af).remove()}}q0=new WeakMap,Af=new WeakMap,kl=new WeakMap,Du=new WeakSet,FW=function(){const e=D(this,Af,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=m(this,kl)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Va,{signal:n});const r=D(this,q0,document.createElement("div"));return r.className="buttons",e.append(r),m(this,kl).hasCommentManager()&&F(this,Du,AM).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{m(this,kl).commentSelection("floating_button")}),F(this,Du,AM).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{m(this,kl).highlightSelection("floating_button")}),e},UW=function(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const o=a.x+(n?a.width:0);if(s>r){i=o,r=s;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},AM=function(e,n,r,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",r);const o=m(this,kl)._signal;o instanceof AbortSignal&&!o.aborted&&(a.addEventListener("contextmenu",Va,{signal:o}),a.addEventListener("click",i,{signal:o})),m(this,q0).append(a)};function BW(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var JA;class EAe{constructor(){j(this,JA,0)}get id(){return`${D0}${ar(this,JA)._++}`}}JA=new WeakMap;var _m,$0,ii,Cm,lE;const _I=class _I{constructor(){j(this,Cm);j(this,_m,dI());j(this,$0,0);j(this,ii,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return lt(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return F(this,Cm,lE).call(this,`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return F(this,Cm,lE).call(this,e,e)}async getFromBlob(e,n){const r=await n;return F(this,Cm,lE).call(this,e,r)}async getFromId(e){m(this,ii)||D(this,ii,new Map);const n=m(this,ii).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){m(this,ii)||D(this,ii,new Map);let r=m(this,ii).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,_m)}_${ar(this,$0)._++}`,refCounter:1,isSvg:!1},m(this,ii).set(e,r),m(this,ii).set(r.id,r),r}getSvgUrl(e){const n=m(this,ii).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;m(this,ii)||D(this,ii,new Map);const n=m(this,ii).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(r.width,r.height);a.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=a.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,_m)}_`)}};_m=new WeakMap,$0=new WeakMap,ii=new WeakMap,Cm=new WeakSet,lE=async function(e,n){m(this,ii)||D(this,ii,new Map);let r=m(this,ii).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,_m)}_${ar(this,$0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Ey(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=_I._isSVGFittingCanvas,s=new FileReader,o=new Image,u=new Promise((c,f)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},s.onload=async()=>{const h=r.svgUrl=s.result;o.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=s.onerror=f});s.readAsDataURL(i),await u}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){rt(i),r=null}return m(this,ii).set(e,r),r&&m(this,ii).set(r.id,r),r};let _M=_I;var Gn,Nc,V0,En;class AAe{constructor(e=128){j(this,Gn,[]);j(this,Nc,!1);j(this,V0);j(this,En,-1);D(this,V0,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),m(this,Nc))return;const u={cmd:e,undo:n,post:r,type:a};if(m(this,En)===-1){m(this,Gn).length>0&&(m(this,Gn).length=0),D(this,En,0),m(this,Gn).push(u);return}if(s&&m(this,Gn)[m(this,En)].type===a){o&&(u.undo=m(this,Gn)[m(this,En)].undo),m(this,Gn)[m(this,En)]=u;return}const c=m(this,En)+1;c===m(this,V0)?m(this,Gn).splice(0,1):(D(this,En,c),c<m(this,Gn).length&&m(this,Gn).splice(c)),m(this,Gn).push(u)}undo(){if(m(this,En)===-1)return;D(this,Nc,!0);const{undo:e,post:n}=m(this,Gn)[m(this,En)];e(),n==null||n(),D(this,Nc,!1),D(this,En,m(this,En)-1)}redo(){if(m(this,En)<m(this,Gn).length-1){D(this,En,m(this,En)+1),D(this,Nc,!0);const{cmd:e,post:n}=m(this,Gn)[m(this,En)];e(),n==null||n(),D(this,Nc,!1)}}hasSomethingToUndo(){return m(this,En)!==-1}hasSomethingToRedo(){return m(this,En)<m(this,Gn).length-1}cleanType(e){if(m(this,En)!==-1){for(let n=m(this,En);n>=0;n--)if(m(this,Gn)[n].type!==e){m(this,Gn).splice(n+1,m(this,En)-n),D(this,En,n);return}m(this,Gn).length=0,D(this,En,-1)}}destroy(){D(this,Gn,null)}}Gn=new WeakMap,Nc=new WeakMap,V0=new WeakMap,En=new WeakMap;var QA,zW;class Zx{constructor(e){j(this,QA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Pr.platform;for(const[r,i,a={}]of e)for(const s of r){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(F(this,QA,zW).call(this,n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...s,n)(),a||Cn(n))}}QA=new WeakSet,zW=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const ZA=class ZA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return xAe(e),lt(this,"_colors",e)}convert(e){const n=Ay(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return ZA._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?ke.makeHexColor(...n):e}};be(ZA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let CM=ZA;var Tm,xa,Nm,Pn,or,Rm,fs,Mm,hs,ai,Rc,Mc,Pm,Pc,So,ps,_f,W0,Y0,km,K0,Eo,kc,Dm,Dc,Ao,e1,Ic,Im,X0,Lc,Cf,Lm,Oc,J0,Zn,jt,Dl,jc,Fc,Q0,Om,Z0,Uc,_o,Il,eb,tb,ms,Ee,uE,TM,HW,GW,Hv,qW,$W,VW,NM,WW,RM,MM,YW,Ei,Tl,KW,XW,PM,JW,Gv,kM;const lm=class lm{constructor(e,n,r,i,a,s,o,u,c,f,h,g,v,w,E,A){j(this,Ee);j(this,Tm,new AbortController);j(this,xa,null);j(this,Nm,null);j(this,Pn,new Map);j(this,or,new Map);j(this,Rm,null);j(this,fs,null);j(this,Mm,null);j(this,hs,new AAe);j(this,ai,null);j(this,Rc,null);j(this,Mc,null);j(this,Pm,0);j(this,Pc,new Set);j(this,So,null);j(this,ps,null);j(this,_f,new Set);be(this,"_editorUndoBar",null);j(this,W0,!1);j(this,Y0,!1);j(this,km,!1);j(this,K0,null);j(this,Eo,null);j(this,kc,null);j(this,Dm,null);j(this,Dc,!1);j(this,Ao,null);j(this,e1,new EAe);j(this,Ic,!1);j(this,Im,!1);j(this,X0,!1);j(this,Lc,null);j(this,Cf,null);j(this,Lm,null);j(this,Oc,null);j(this,J0,null);j(this,Zn,nt.NONE);j(this,jt,new Set);j(this,Dl,null);j(this,jc,null);j(this,Fc,null);j(this,Q0,null);j(this,Om,null);j(this,Z0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});j(this,Uc,[0,0]);j(this,_o,null);j(this,Il,null);j(this,eb,null);j(this,tb,null);j(this,ms,null);const C=this._signal=m(this,Tm).signal;D(this,Il,e),D(this,eb,n),D(this,tb,r),D(this,Rm,i),D(this,ai,a),D(this,jc,s),D(this,Om,u),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:C}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:C}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:C}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:C}),o._on("setpreference",this.onSetPreference.bind(this),{signal:C}),o._on("switchannotationeditorparams",P=>this.updateParams(P.type,P.value),{signal:C}),window.addEventListener("pointerdown",()=>{D(this,Im,!0)},{capture:!0,signal:C}),window.addEventListener("pointerup",()=>{D(this,Im,!1)},{capture:!0,signal:C}),F(this,Ee,qW).call(this),F(this,Ee,YW).call(this),F(this,Ee,NM).call(this),D(this,fs,u.annotationStorage),D(this,K0,u.filterFactory),D(this,Fc,c),D(this,Dm,f||null),D(this,W0,h),D(this,Y0,g),D(this,km,v),D(this,J0,w||null),this.viewParameters={realScale:ku.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=E||null,this._supportsPinchToZoom=A!==!1,a==null||a.setSidebarUiManager(this)}static get _keyboardManager(){const e=lm.prototype,n=s=>m(s,Il).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:u}=o;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return lt(this,"_keyboardManager",new Zx([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&m(s,Il).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&m(s,Il).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,n,r,i,a,s,o,u,c;(e=m(this,ms))==null||e.resolve(),D(this,ms,null),(n=m(this,Tm))==null||n.abort(),D(this,Tm,null),this._signal=null;for(const f of m(this,or).values())f.destroy();m(this,or).clear(),m(this,Pn).clear(),m(this,_f).clear(),(r=m(this,Oc))==null||r.clear(),D(this,xa,null),m(this,jt).clear(),m(this,hs).destroy(),(i=m(this,Rm))==null||i.destroy(),(a=m(this,ai))==null||a.destroy(),(s=m(this,jc))==null||s.destroy(),(o=m(this,Ao))==null||o.hide(),D(this,Ao,null),(u=m(this,Lm))==null||u.destroy(),D(this,Lm,null),D(this,Nm,null),m(this,Eo)&&(clearTimeout(m(this,Eo)),D(this,Eo,null)),m(this,_o)&&(clearTimeout(m(this,_o)),D(this,_o,null)),(c=this._editorUndoBar)==null||c.destroy(),D(this,Om,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,J0)}get useNewAltTextFlow(){return m(this,Y0)}get useNewAltTextWhenAddingImage(){return m(this,km)}get hcmFilter(){return lt(this,"hcmFilter",m(this,Fc)?m(this,K0).addHCMFilter(m(this,Fc).foreground,m(this,Fc).background):"none")}get direction(){return lt(this,"direction",getComputedStyle(m(this,Il)).direction)}get _highlightColors(){return lt(this,"_highlightColors",m(this,Dm)?new Map(m(this,Dm).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return lt(this,"highlightColors",null);const n=new Map,r=!!m(this,Fc);for(const[i,a]of e){const s=i.endsWith("_HCM");if(r&&s){n.set(i.replace("_HCM",""),a);continue}!r&&!s&&n.set(i,a)}return lt(this,"highlightColors",n)}get highlightColorNames(){return lt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),D(this,Mc,e)}setMainHighlightColorPicker(e){D(this,Lm,e)}editAltText(e,n=!1){var r;(r=m(this,Rm))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!m(this,ai)}editComment(e,n,r,i){var a;(a=m(this,ai))==null||a.showDialog(this,e,n,r,i)}selectComment(e,n){const r=m(this,or).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=m(this,ai))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=m(this,ai))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=m(this,ai))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=m(this,ai))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=m(this,ai))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=m(this,ai))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(m(this,or).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=m(this,jc))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return m(this,jc)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":D(this,km,n);break}}onPageChanging({pageNumber:e}){D(this,Pm,e-1)}focusMainContainer(){m(this,Il).focus()}findParent(e,n){for(const r of m(this,or).values()){const{x:i,y:a,width:s,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+o)return r}return null}disableUserSelect(e=!1){m(this,eb).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,_f).add(e)}removeShouldRescale(e){m(this,_f).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*ku.PDF_TO_CSS_UNITS;for(const r of m(this,_f))r.onScaleChanging();(n=m(this,Mc))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:o}=r,u=r.toString(),f=F(this,Ee,uE).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;r.empty();const g=F(this,Ee,TM).call(this,f),v=m(this,Zn)===nt.NONE,w=()=>{const E=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:o,text:u});v&&this.showAllEditors("highlight",!0,!0),n&&(E==null||E.editComment())};if(v){this.switchToMode(nt.HIGHLIGHT,w);return}w()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!m(this,fs))return null;const n=`${D0}${e}`,r=m(this,fs).getRawValue(n);return r&&m(this,fs).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&m(this,fs)&&!m(this,fs).has(e.id)&&m(this,fs).setValue(e.id,e)}a11yAlert(e,n=null){const r=m(this,tb);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,m(this,Dc)&&(D(this,Dc,!1),F(this,Ee,Hv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of m(this,jt))if(n.div.contains(e)){D(this,Cf,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!m(this,Cf))return;const[e,n]=m(this,Cf);D(this,Cf,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){F(this,Ee,NM).call(this),F(this,Ee,RM).call(this)}removeEditListeners(){F(this,Ee,WW).call(this),F(this,Ee,MM).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of m(this,ps))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of m(this,ps))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,xa))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of m(this,jt)){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of m(this,ps))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){rt(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const u of r){const c=await i.deserialize(u);if(!c)return;a.push(c)}const s=()=>{for(const u of a)F(this,Ee,PM).call(this,u);F(this,Ee,kM).call(this,a)},o=()=>{for(const u of a)u.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){rt(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Zn)!==nt.NONE&&!this.isEditorHandlingKeyboard&&lm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,Dc)&&(D(this,Dc,!1),F(this,Ee,Hv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(F(this,Ee,$W).call(this),F(this,Ee,RM).call(this),F(this,Ee,Ei).call(this,{isEditing:m(this,Zn)!==nt.NONE,isEmpty:F(this,Ee,Gv).call(this),hasSomethingToUndo:m(this,hs).hasSomethingToUndo(),hasSomethingToRedo:m(this,hs).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,Ee,VW).call(this),F(this,Ee,MM).call(this),F(this,Ee,Ei).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,ps)){D(this,ps,e);for(const n of m(this,ps))F(this,Ee,Tl).call(this,n.defaultPropertiesToUpdate)}}getId(){return m(this,e1).id}get currentLayer(){return m(this,or).get(m(this,Pm))}getLayer(e){return m(this,or).get(e)}get currentPageIndex(){return m(this,Pm)}addLayer(e){m(this,or).set(e.pageIndex,e),m(this,Ic)?e.enable():e.disable()}removeLayer(e){m(this,or).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,a=!1){var s,o,u,c,f,h;if(m(this,Zn)!==e&&!(m(this,ms)&&(await m(this,ms).promise,!m(this,ms)))){if(D(this,ms,Promise.withResolvers()),(s=m(this,Mc))==null||s.commitOrRemove(),m(this,Zn)===nt.POPUP&&((o=m(this,ai))==null||o.hideSidebar()),(u=m(this,ai))==null||u.destroyPopup(),D(this,Zn,e),e===nt.NONE){this.setEditingState(!1),F(this,Ee,XW).call(this);for(const g of m(this,Pn).values())g.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),m(this,ms).resolve();return}for(const g of m(this,Pn).values())g.addStandaloneCommentButton();e===nt.SIGNATURE&&await((f=m(this,jc))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await F(this,Ee,KW).call(this),this.unselectAll();for(const g of m(this,or).values())g.updateMode(e);if(e===nt.POPUP){m(this,Nm)||D(this,Nm,await m(this,Om).getAnnotationsByType(new Set(m(this,ps).map(w=>w._editorType))));const g=new Set,v=[];for(const w of m(this,Pn).values()){const{annotationElementId:E,hasComment:A,deleted:C}=w;E&&g.add(E),A&&!C&&v.push(w.getData())}for(const w of m(this,Nm)){const{id:E,popupRef:A,contentsObj:C}=w;A&&(C!=null&&C.str)&&!g.has(E)&&!m(this,Pc).has(E)&&v.push(w)}(h=m(this,ai))==null||h.showSidebar(v)}if(!n){r&&this.addNewEditorFromKeyboard(),m(this,ms).resolve();return}for(const g of m(this,Pn).values())g.uid===n?(this.setSelected(g),a?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();m(this,ms).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==m(this,Zn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(m(this,ps)){switch(e){case bt.CREATE:this.currentLayer.addNewEditor(n);return;case bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,Q0)||D(this,Q0,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of m(this,jt))r.updateParams(e,n);else for(const r of m(this,ps))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var a;for(const s of m(this,Pn).values())s.editorType===e&&s.show(n);(((a=m(this,Q0))==null?void 0:a.get(bt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&F(this,Ee,Tl).call(this,[[bt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(m(this,X0)!==e){D(this,X0,e);for(const n of m(this,or).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of m(this,Pn).values())n.pageIndex===e&&(yield n)}getEditor(e){return m(this,Pn).get(e)}addEditor(e){m(this,Pn).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(m(this,Eo)&&clearTimeout(m(this,Eo)),D(this,Eo,setTimeout(()=>{this.focusMainContainer(),D(this,Eo,null)},0))),m(this,Pn).delete(e.id),e.annotationElementId&&((n=m(this,Oc))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!m(this,Pc).has(e.annotationElementId))&&((r=m(this,fs))==null||r.remove(e.id))}addDeletedAnnotationElement(e){m(this,Pc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Pc).has(e)}removeDeletedAnnotationElement(e){m(this,Pc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,xa)!==e&&(D(this,xa,e),e&&F(this,Ee,Tl).call(this,e.propertiesToUpdate))}updateUI(e){m(this,Ee,JW)===e&&F(this,Ee,Tl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){F(this,Ee,Tl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(m(this,jt).has(e)){m(this,jt).delete(e),e.unselect(),F(this,Ee,Ei).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,jt).add(e),e.select(),F(this,Ee,Tl).call(this,e.propertiesToUpdate),F(this,Ee,Ei).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.id}),(n=m(this,Mc))==null||n.commitOrRemove();for(const r of m(this,jt))r!==e&&r.unselect();m(this,jt).clear(),m(this,jt).add(e),e.select(),F(this,Ee,Tl).call(this,e.propertiesToUpdate),F(this,Ee,Ei).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,jt).has(e)}get firstSelectedEditor(){return m(this,jt).values().next().value}unselect(e){e.unselect(),m(this,jt).delete(e),F(this,Ee,Ei).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,jt).size!==0}get isEnterHandled(){return m(this,jt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;m(this,hs).undo(),F(this,Ee,Ei).call(this,{hasSomethingToUndo:m(this,hs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,Ee,Gv).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){m(this,hs).redo(),F(this,Ee,Ei).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,hs).hasSomethingToRedo(),isEmpty:F(this,Ee,Gv).call(this)})}addCommands(e){m(this,hs).add(e),F(this,Ee,Ei).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,Ee,Gv).call(this)})}cleanUndoStack(e){m(this,hs).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...m(this,jt)],r=()=>{var s;(s=this._editorUndoBar)==null||s.show(i,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},i=()=>{for(const s of n)F(this,Ee,PM).call(this,s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=m(this,xa))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,xa)||this.hasSelection}selectAll(){for(const e of m(this,jt))e.commit();F(this,Ee,kM).call(this,m(this,Pn).values())}unselectAll(){var e;if(!(m(this,xa)&&(m(this,xa).commitOrRemove(),m(this,Zn)!==nt.NONE))&&!((e=m(this,Mc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of m(this,jt))n.unselect();m(this,jt).clear(),F(this,Ee,Ei).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,Uc)[0]+=e,m(this,Uc)[1]+=n;const[i,a]=m(this,Uc),s=[...m(this,jt)],o=1e3;m(this,_o)&&clearTimeout(m(this,_o)),D(this,_o,setTimeout(()=>{D(this,_o,null),m(this,Uc)[0]=m(this,Uc)[1]=0,this.addCommands({cmd:()=>{for(const u of s)m(this,Pn).has(u.id)&&(u.translateInPage(i,a),u.translationDone())},undo:()=>{for(const u of s)m(this,Pn).has(u.id)&&(u.translateInPage(-i,-a),u.translationDone())},mustExec:!1})},o));for(const u of s)u.translateInPage(e,n),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),D(this,So,new Map);for(const e of m(this,jt))m(this,So).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,So))return!1;this.disableUserSelect(!1);const e=m(this,So);D(this,So,null);let n=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,n||(n=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!n)return!1;const r=(i,a,s,o)=>{if(m(this,Pn).has(i.id)){const u=m(this,or).get(o);u?i._setParentAndPosition(u,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)r(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)r(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(m(this,So))for(const r of m(this,So).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,jt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,xa)===e}getActive(){return m(this,xa)}getMode(){return m(this,Zn)}isEditingMode(){return m(this,Zn)!==nt.NONE}get imageManager(){return lt(this,"imageManager",new _M)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,f=n.rangeCount;c<f;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,f,h,g)=>({x:(f-i)/s,y:1-(c+h-r)/a,width:g/s,height:h/a});break;case"180":o=(c,f,h,g)=>({x:1-(c+h-r)/a,y:1-(f+g-i)/s,width:h/a,height:g/s});break;case"270":o=(c,f,h,g)=>({x:1-(f+g-i)/s,y:(c-r)/a,width:g/s,height:h/a});break;default:o=(c,f,h,g)=>({x:(c-r)/a,y:(f-i)/s,width:h/a,height:g/s});break}const u=[];for(let c=0,f=n.rangeCount;c<f;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:g,y:v,width:w,height:E}of h.getClientRects())w===0||E===0||u.push(o(g,v,w,E))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:n}){(m(this,Mm)||D(this,Mm,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=m(this,Mm))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=m(this,Mm))==null?void 0:i.get(e.data.id);if(!n)return;const r=m(this,fs).getRawValue(n);r&&(m(this,Zn)===nt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var a;const i=(a=m(this,Oc))==null?void 0:a.get(e);i&&(i.setCanvas(n,r),m(this,Oc).delete(e))}addMissingCanvas(e,n){(m(this,Oc)||D(this,Oc,new Map)).set(e,n)}};Tm=new WeakMap,xa=new WeakMap,Nm=new WeakMap,Pn=new WeakMap,or=new WeakMap,Rm=new WeakMap,fs=new WeakMap,Mm=new WeakMap,hs=new WeakMap,ai=new WeakMap,Rc=new WeakMap,Mc=new WeakMap,Pm=new WeakMap,Pc=new WeakMap,So=new WeakMap,ps=new WeakMap,_f=new WeakMap,W0=new WeakMap,Y0=new WeakMap,km=new WeakMap,K0=new WeakMap,Eo=new WeakMap,kc=new WeakMap,Dm=new WeakMap,Dc=new WeakMap,Ao=new WeakMap,e1=new WeakMap,Ic=new WeakMap,Im=new WeakMap,X0=new WeakMap,Lc=new WeakMap,Cf=new WeakMap,Lm=new WeakMap,Oc=new WeakMap,J0=new WeakMap,Zn=new WeakMap,jt=new WeakMap,Dl=new WeakMap,jc=new WeakMap,Fc=new WeakMap,Q0=new WeakMap,Om=new WeakMap,Z0=new WeakMap,Uc=new WeakMap,_o=new WeakMap,Il=new WeakMap,eb=new WeakMap,tb=new WeakMap,ms=new WeakMap,Ee=new WeakSet,uE=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},TM=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of m(this,or).values())if(r.hasTextLayer(e))return r;return null},HW=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=F(this,Ee,uE).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,Ao)||D(this,Ao,new SAe(this)),m(this,Ao).show(r,i,this.direction==="ltr"))},GW=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Dl)&&((a=m(this,Ao))==null||a.hide(),D(this,Dl,null),F(this,Ee,Ei).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===m(this,Dl))return;const i=F(this,Ee,uE).call(this,e).closest(".textLayer");if(!i){m(this,Dl)&&((s=m(this,Ao))==null||s.hide(),D(this,Dl,null),F(this,Ee,Ei).call(this,{hasSelectedText:!1}));return}if((o=m(this,Ao))==null||o.hide(),D(this,Dl,n),F(this,Ee,Ei).call(this,{hasSelectedText:!0}),!(m(this,Zn)!==nt.HIGHLIGHT&&m(this,Zn)!==nt.NONE)&&(m(this,Zn)===nt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),D(this,Dc,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=m(this,Zn)===nt.HIGHLIGHT?F(this,Ee,TM).call(this,i):null;if(u==null||u.toggleDrawing(),m(this,Im)){const c=new AbortController,f=this.combinedSignal(c),h=g=>{g.type==="pointerup"&&g.button!==0||(c.abort(),u==null||u.toggleDrawing(!0),g.type==="pointerup"&&F(this,Ee,Hv).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:f}),window.addEventListener("blur",h,{signal:f})}else u==null||u.toggleDrawing(!0),F(this,Ee,Hv).call(this,"main_toolbar")}},Hv=function(e=""){m(this,Zn)===nt.HIGHLIGHT?this.highlightSelection(e):m(this,W0)&&F(this,Ee,HW).call(this)},qW=function(){document.addEventListener("selectionchange",F(this,Ee,GW).bind(this),{signal:this._signal})},$W=function(){if(m(this,kc))return;D(this,kc,new AbortController);const e=this.combinedSignal(m(this,kc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},VW=function(){var e;(e=m(this,kc))==null||e.abort(),D(this,kc,null)},NM=function(){if(m(this,Lc))return;D(this,Lc,new AbortController);const e=this.combinedSignal(m(this,Lc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},WW=function(){var e;(e=m(this,Lc))==null||e.abort(),D(this,Lc,null)},RM=function(){if(m(this,Rc))return;D(this,Rc,new AbortController);const e=this.combinedSignal(m(this,Rc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},MM=function(){var e;(e=m(this,Rc))==null||e.abort(),D(this,Rc,null)},YW=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ei=function(e){Object.entries(e).some(([r,i])=>m(this,Z0)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,Z0),e)}),m(this,Zn)===nt.HIGHLIGHT&&e.hasSelectedEditor===!1&&F(this,Ee,Tl).call(this,[[bt.HIGHLIGHT_FREE,!0]]))},Tl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},KW=async function(){if(!m(this,Ic)){D(this,Ic,!0);const e=[];for(const n of m(this,or).values())e.push(n.enable());await Promise.all(e);for(const n of m(this,Pn).values())n.enable()}},XW=function(){if(this.unselectAll(),m(this,Ic)){D(this,Ic,!1);for(const e of m(this,or).values())e.disable();for(const e of m(this,Pn).values())e.disable()}},PM=function(e){const n=m(this,or).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},JW=function(){let e=null;for(e of m(this,jt));return e},Gv=function(){if(m(this,Pn).size===0)return!0;if(m(this,Pn).size===1)for(const e of m(this,Pn).values())return e.isEmpty();return!1},kM=function(e){for(const n of m(this,jt))n.unselect();m(this,jt).clear();for(const n of e)n.isEmpty()||(m(this,jt).add(n),n.select());F(this,Ee,Ei).call(this,{hasSelectedEditor:this.hasSelection})},be(lm,"TRANSLATE_SMALL",1),be(lm,"TRANSLATE_BIG",10);let Nd=lm;var Sr,Co,zs,jm,To,wa,Fm,No,Vi,Ll,Tf,Ro,Bc,no,qv,cE;const Ai=class Ai{constructor(e){j(this,no);j(this,Sr,null);j(this,Co,!1);j(this,zs,null);j(this,jm,null);j(this,To,null);j(this,wa,null);j(this,Fm,!1);j(this,No,null);j(this,Vi,null);j(this,Ll,null);j(this,Tf,null);j(this,Ro,!1);D(this,Vi,e),D(this,Ro,e._uiManager.useNewAltTextFlow),m(Ai,Bc)||D(Ai,Bc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ai._l10n??(Ai._l10n=e)}async render(){const e=D(this,zs,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=D(this,jm,document.createElement("span"));e.append(n),m(this,Ro)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(Ai,Bc).missing),n.setAttribute("data-l10n-id",m(Ai,Bc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,Vi)._uiManager._signal;e.addEventListener("contextmenu",Va,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),m(this,Vi)._uiManager.editAltText(m(this,Vi)),m(this,Ro)&&m(this,Vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,no,qv)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(D(this,Fm,!0),i(a))},{signal:r}),await F(this,no,cE).call(this),e}finish(){m(this,zs)&&(m(this,zs).focus({focusVisible:m(this,Fm)}),D(this,Fm,!1))}isEmpty(){return m(this,Ro)?m(this,Sr)===null:!m(this,Sr)&&!m(this,Co)}hasData(){return m(this,Ro)?m(this,Sr)!==null||!!m(this,Ll):this.isEmpty()}get guessedText(){return m(this,Ll)}async setGuessedText(e){m(this,Sr)===null&&(D(this,Ll,e),D(this,Tf,await Ai._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),F(this,no,cE).call(this))}toggleAltTextBadge(e=!1){var n;if(!m(this,Ro)||m(this,Sr)){(n=m(this,No))==null||n.remove(),D(this,No,null);return}if(!m(this,No)){const r=D(this,No,document.createElement("div"));r.className="noAltTextBadge",m(this,Vi).div.append(r)}m(this,No).classList.toggle("hidden",!e)}serialize(e){let n=m(this,Sr);return!e&&m(this,Ll)===n&&(n=m(this,Tf)),{altText:n,decorative:m(this,Co),guessedText:m(this,Ll),textWithDisclaimer:m(this,Tf)}}get data(){return{altText:m(this,Sr),decorative:m(this,Co)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(D(this,Ll,r),D(this,Tf,i)),!(m(this,Sr)===e&&m(this,Co)===n)&&(a||(D(this,Sr,e),D(this,Co,n)),F(this,no,cE).call(this))}toggle(e=!1){m(this,zs)&&(!e&&m(this,wa)&&(clearTimeout(m(this,wa)),D(this,wa,null)),m(this,zs).disabled=!e)}shown(){m(this,Vi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,no,qv)}})}destroy(){var e,n;(e=m(this,zs))==null||e.remove(),D(this,zs,null),D(this,jm,null),D(this,To,null),(n=m(this,No))==null||n.remove(),D(this,No,null)}};Sr=new WeakMap,Co=new WeakMap,zs=new WeakMap,jm=new WeakMap,To=new WeakMap,wa=new WeakMap,Fm=new WeakMap,No=new WeakMap,Vi=new WeakMap,Ll=new WeakMap,Tf=new WeakMap,Ro=new WeakMap,Bc=new WeakMap,no=new WeakSet,qv=function(){return m(this,Sr)&&"added"||m(this,Sr)===null&&this.guessedText&&"review"||"missing"},cE=async function(){var i,a,s;const e=m(this,zs);if(!e)return;if(m(this,Ro)){if(e.classList.toggle("done",!!m(this,Sr)),e.setAttribute("data-l10n-id",m(Ai,Bc)[m(this,no,qv)]),(i=m(this,jm))==null||i.setAttribute("data-l10n-id",m(Ai,Bc)[`${m(this,no,qv)}-label`]),!m(this,Sr)){(a=m(this,To))==null||a.remove();return}}else{if(!m(this,Sr)&&!m(this,Co)){e.classList.remove("done"),(s=m(this,To))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=m(this,To);if(!n){D(this,To,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${m(this,Vi).id}`;const o=100,u=m(this,Vi)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(m(this,wa)),D(this,wa,null)},{once:!0}),e.addEventListener("mouseenter",()=>{D(this,wa,setTimeout(()=>{D(this,wa,null),m(this,To).classList.add("show"),m(this,Vi)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:u}),e.addEventListener("mouseleave",()=>{var c;m(this,wa)&&(clearTimeout(m(this,wa)),D(this,wa,null)),(c=m(this,To))==null||c.classList.remove("show")},{signal:u})}m(this,Co)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=m(this,Sr)),n.parentNode||e.append(n);const r=m(this,Vi).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},j(Ai,Bc,null),be(Ai,"_l10n",null);let BA=Ai;var zr,gs,Nf,sn,nb,Rf,Hs,Mf,Pf,kf,rb,DM;class BS{constructor(e){j(this,rb);j(this,zr,null);j(this,gs,null);j(this,Nf,!1);j(this,sn,null);j(this,nb,null);j(this,Rf,null);j(this,Hs,null);j(this,Mf,null);j(this,Pf,!1);j(this,kf,null);D(this,sn,e)}renderForToolbar(){const e=D(this,gs,document.createElement("button"));return e.className="comment",F(this,rb,DM).call(this,e,!1)}renderForStandalone(){const e=D(this,zr,document.createElement("button"));e.className="annotationCommentButton";const n=m(this,sn).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(m(this,sn)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=m(this,sn).commentButtonColor;i&&(r.backgroundColor=i)}return F(this,rb,DM).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=m(this,zr)??m(this,gs))==null||e.focus()},0)}onUpdatedColor(){if(!m(this,zr))return;const e=m(this,sn).commentButtonColor;e&&(m(this,zr).style.backgroundColor=e),m(this,sn)._uiManager.updatePopupColor(m(this,sn))}get commentButtonWidth(){var e;return(((e=m(this,zr))==null?void 0:e.getBoundingClientRect().width)??0)/m(this,sn).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(m(this,kf))return m(this,kf);if(!m(this,zr))return null;const{x:e,y:n,height:r}=m(this,zr).getBoundingClientRect(),{x:i,y:a,width:s,height:o}=m(this,sn).parent.boundingClientRect;return[(e-i)/s,(n+r-a)/o]}set commentPopupPositionInLayer(e){D(this,kf,e)}hasDefaultPopupPosition(){return m(this,kf)===null}removeStandaloneCommentButton(){var e;(e=m(this,zr))==null||e.remove(),D(this,zr,null)}removeToolbarCommentButton(){var e;(e=m(this,gs))==null||e.remove(),D(this,gs,null)}setCommentButtonStates({selected:e,hasPopup:n}){m(this,zr)&&(m(this,zr).classList.toggle("selected",e),m(this,zr).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=m(this,sn).commentButtonPosition;const{width:f,height:h,x:g,y:v}=m(this,sn);r=g+r*f,i=v+i*h}const a=m(this,sn).parent.boundingClientRect,{x:s,y:o,width:u,height:c}=a;m(this,sn)._uiManager.editComment(m(this,sn),s+r*u,o+i*c,{...e,parentDimensions:a})}finish(){m(this,gs)&&(m(this,gs).focus({focusVisible:m(this,Nf)}),D(this,Nf,!1))}isDeleted(){return m(this,Pf)||m(this,Hs)===""}isEmpty(){return m(this,Hs)===null}hasBeenEdited(){return this.isDeleted()||m(this,Hs)!==m(this,nb)}serialize(){return this.data}get data(){return{text:m(this,Hs),richText:m(this,Rf),date:m(this,Mf),deleted:this.isDeleted()}}set data(e){if(e!==m(this,Hs)&&D(this,Rf,null),e===null){D(this,Hs,""),D(this,Pf,!0);return}D(this,Hs,e),D(this,Mf,new Date),D(this,Pf,!1)}setInitialText(e,n=null){D(this,nb,e),this.data=e,D(this,Mf,null),D(this,Rf,n)}shown(){}destroy(){var e,n;(e=m(this,gs))==null||e.remove(),D(this,gs,null),(n=m(this,zr))==null||n.remove(),D(this,zr,null),D(this,Hs,""),D(this,Rf,null),D(this,Mf,null),D(this,sn,null),D(this,Nf,!1),D(this,Pf,!1)}}zr=new WeakMap,gs=new WeakMap,Nf=new WeakMap,sn=new WeakMap,nb=new WeakMap,Rf=new WeakMap,Hs=new WeakMap,Mf=new WeakMap,Pf=new WeakMap,kf=new WeakMap,rb=new WeakSet,DM=function(e,n){if(!m(this,sn)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[m(this,sn)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=m(this,sn)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Va,{signal:r}),n&&(e.addEventListener("focusin",a=>{m(this,sn)._focusEventsAllowed=!1,Cn(a)},{capture:!0,signal:r}),e.addEventListener("focusout",a=>{m(this,sn)._focusEventsAllowed=!0,Cn(a)},{capture:!0,signal:r})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),e===m(this,gs)?this.edit():m(this,sn).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(D(this,Nf,!0),i(a))},{signal:r}),e.addEventListener("pointerenter",()=>{m(this,sn).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{m(this,sn).toggleComment(!1,!1)},{signal:r}),e};var Um,Df,ib,ab,sb,ob,lb,Ol,If,jl,Lf,Fl,Rd,QW,ZW,e7;const CI=class CI{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:o}){j(this,Rd);j(this,Um);j(this,Df,!1);j(this,ib,null);j(this,ab);j(this,sb);j(this,ob);j(this,lb);j(this,Ol,null);j(this,If);j(this,jl,null);j(this,Lf);j(this,Fl,null);D(this,Um,e),D(this,ib,r),D(this,ab,n),D(this,sb,i),D(this,ob,a),D(this,lb,s),D(this,Lf,new AbortController),D(this,If,AbortSignal.any([o,m(this,Lf).signal])),e.addEventListener("touchstart",F(this,Rd,QW).bind(this),{passive:!1,signal:m(this,If)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/oo.pixelRatio}destroy(){var e,n;(e=m(this,Lf))==null||e.abort(),D(this,Lf,null),(n=m(this,Ol))==null||n.abort(),D(this,Ol,null)}};Um=new WeakMap,Df=new WeakMap,ib=new WeakMap,ab=new WeakMap,sb=new WeakMap,ob=new WeakMap,lb=new WeakMap,Ol=new WeakMap,If=new WeakMap,jl=new WeakMap,Lf=new WeakMap,Fl=new WeakMap,Rd=new WeakSet,QW=function(e){var i,a,s;if((i=m(this,ab))!=null&&i.call(this))return;if(e.touches.length===1){if(m(this,Ol))return;const o=D(this,Ol,new AbortController),u=AbortSignal.any([m(this,If),o.signal]),c=m(this,Um),f={capture:!0,signal:u,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=m(this,Ol))==null||v.abort(),D(this,Ol,null))};c.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(Cn(g),h(g))},f),c.addEventListener("pointerup",h,f),c.addEventListener("pointercancel",h,f);return}if(!m(this,Fl)){D(this,Fl,new AbortController);const o=AbortSignal.any([m(this,If),m(this,Fl).signal]),u=m(this,Um),c={signal:o,capture:!1,passive:!1};u.addEventListener("touchmove",F(this,Rd,ZW).bind(this),c);const f=F(this,Rd,e7).bind(this);u.addEventListener("touchend",f,c),u.addEventListener("touchcancel",f,c),c.capture=!0,u.addEventListener("pointerdown",Cn,c),u.addEventListener("pointermove",Cn,c),u.addEventListener("pointercancel",Cn,c),u.addEventListener("pointerup",Cn,c),(a=m(this,sb))==null||a.call(this)}if(Cn(e),e.touches.length!==2||(s=m(this,ib))!=null&&s.call(this)){D(this,jl,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),D(this,jl,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},ZW=function(e){var I;if(!m(this,jl)||e.touches.length!==2)return;Cn(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:s,screenY:o}=r,u=m(this,jl),{touch0X:c,touch0Y:f,touch1X:h,touch1Y:g}=u,v=h-c,w=g-f,E=s-i,A=o-a,C=Math.hypot(E,A)||1,P=Math.hypot(v,w)||1;if(!m(this,Df)&&Math.abs(P-C)<=CI.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=a,u.touch1X=s,u.touch1Y=o,!m(this,Df)){D(this,Df,!0);return}const R=[(i+s)/2,(a+o)/2];(I=m(this,ob))==null||I.call(this,R,P,C)},e7=function(e){var n;e.touches.length>=2||(m(this,Fl)&&(m(this,Fl).abort(),D(this,Fl,null),(n=m(this,lb))==null||n.call(this)),m(this,jl)&&(Cn(e),D(this,jl,null),D(this,Df,!1)))};let j0=CI;var Of,Gs,yn,Zt,Ul,Bm,zc,ub,Hr,jf,Bl,Mo,Hc,cb,Ff,Sa,db,Uf,zl,Po,zm,Hm,ys,Bf,fb,t1,Qe,IM,hb,LM,dE,t7,n7,OM,fE,jM,r7,i7,a7,FM,s7,UM,o7,l7,u7,BM,$v;const it=class it{constructor(e){j(this,Qe);j(this,Of,null);j(this,Gs,null);j(this,yn,null);j(this,Zt,null);j(this,Ul,null);j(this,Bm,!1);j(this,zc,null);j(this,ub,"");j(this,Hr,null);j(this,jf,null);j(this,Bl,null);j(this,Mo,null);j(this,Hc,null);j(this,cb,"");j(this,Ff,!1);j(this,Sa,null);j(this,db,!1);j(this,Uf,!1);j(this,zl,!1);j(this,Po,null);j(this,zm,0);j(this,Hm,0);j(this,ys,null);j(this,Bf,null);be(this,"isSelected",!1);be(this,"_isCopy",!1);be(this,"_editToolbar",null);be(this,"_initialOptions",Object.create(null));be(this,"_initialData",null);be(this,"_isVisible",!0);be(this,"_uiManager",null);be(this,"_focusEventsAllowed",!0);j(this,fb,!1);j(this,t1,it._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[o,u]=this.parentDimensions;this.x=e.x/o,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=it.prototype._resizeWithKeyboard,n=Nd.TRANSLATE_SMALL,r=Nd.TRANSLATE_BIG;return lt(this,"_resizerKeyboardManager",new Zx([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],it.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return lt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new _Ae({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(it._l10n??(it._l10n=e),it._l10nResizer||(it._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),it._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);it._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){an("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,fb)}set _isDraggable(e){var n;D(this,fb,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,t1)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(F(this,Qe,$v).call(this),(n=m(this,Mo))==null||n.remove(),D(this,Mo,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Ff)?D(this,Ff,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){F(this,Qe,IM).call(this,this.parentDimensions,e,n)}translateInPage(e,n){m(this,Sa)||D(this,Sa,[this.x,this.y,this.width,this.height]),F(this,Qe,IM).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){m(this,Sa)||D(this,Sa,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[u,c]=this.getBaseTranslation();s+=u,o+=c;const{style:f}=r;f.left=`${(100*s).toFixed(2)}%`,f.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!m(this,Sa)&&(m(this,Sa)[0]!==this.x||m(this,Sa)[1]!==this.y)}get _hasBeenResized(){return!!m(this,Sa)&&(m(this,Sa)[2]!==this.width||m(this,Sa)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=it,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:s,width:o,height:u}=this;if(o*=r,u*=i,a*=r,s*=i,this._mustFixPosition)switch(e){case 0:a=di(a,0,r-o),s=di(s,0,i-u);break;case 90:a=di(a,0,r-u),s=di(s,o,i);break;case 180:a=di(a,o,r),s=di(s,u,i);break;case 270:a=di(a,u,r),s=di(s,0,i-o);break}this.x=a/=r,this.y=s/=i;const[c,f]=this.getBaseTranslation();a+=c,s+=f,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return F(r=it,hb,LM).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return F(r=it,hb,LM).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=m(this,yn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||m(this,Uf))return this._editToolbar;this._editToolbar=new EM(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=m(this,yn))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return m(this,yn)||(BA.initialize(it._l10n),D(this,yn,new BA(this)),m(this,Of)&&(m(this,yn).data=m(this,Of),D(this,Of,null))),m(this,yn)}get altTextData(){var e;return(e=m(this,yn))==null?void 0:e.data}set altTextData(e){m(this,yn)&&(m(this,yn).data=e)}get guessedAltText(){var e;return(e=m(this,yn))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=m(this,yn))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=m(this,yn))==null?void 0:n.serialize(e)}hasAltText(){return!!m(this,yn)&&!m(this,yn).isEmpty()}hasAltTextData(){var e;return((e=m(this,yn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=m(this,Zt))==null||e.focusButton()}addCommentButton(){return m(this,Zt)||D(this,Zt,new BS(this))}addStandaloneCommentButton(){if(m(this,Ul)){this._uiManager.isEditingMode()&&m(this,Ul).classList.remove("hidden");return}this.hasComment&&(D(this,Ul,m(this,Zt).renderForStandalone()),this.div.append(m(this,Ul)))}removeStandaloneCommentButton(){m(this,Zt).removeStandaloneCommentButton(),D(this,Ul,null)}hideStandaloneCommentButton(){var e;(e=m(this,Ul))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=m(this,Zt);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){m(this,Zt)||D(this,Zt,new BS(this)),m(this,Zt).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(m(this,Zt)||D(this,Zt,new BS(this)),m(this,Zt).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=m(this,Zt))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=m(this,Zt))==null?void 0:e.isDeleted()}get hasComment(){return!!m(this,Zt)&&!m(this,Zt).isEmpty()&&!m(this,Zt).isDeleted()}async editComment(e){m(this,Zt)||D(this,Zt,new BS(this)),m(this,Zt).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){m(this,Zt).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,o=s+a+1,u=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,u,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){m(this,Zt).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=m(this,Bm)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),F(this,Qe,UM).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),BW(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(m(this,Bf)||D(this,Bf,new j0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:F(this,Qe,r7).bind(this),onPinching:F(this,Qe,i7).bind(this),onPinchEnd:F(this,Qe,a7).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:n}=Pr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(D(this,Ff,!0),this._isDraggable){F(this,Qe,s7).call(this,e);return}F(this,Qe,FM).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){m(this,Po)&&clearTimeout(m(this,Po)),D(this,Po,setTimeout(()=>{var e;D(this,Po,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,u]=this.pageTranslation,c=e/i,f=n/i,h=this.x*a,g=this.y*s,v=this.width*a,w=this.height*s;switch(r){case 0:return[h+c+o,s-g-f-w+u,h+c+v+o,s-g-f+u];case 90:return[h+f+o,s-g+c+u,h+f+w+o,s-g+c+v+u];case 180:return[h-c-v+o,s-g+f+u,h-c+o,s-g+f+w+u];case 270:return[h-f-w+o,s-g-c-v+u,h-f+o,s-g-c+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,o=a-r,u=s-i;switch(this.rotation){case 0:return[r,n-s,o,u];case 90:return[r,n-i,u,o];case 180:return[a,n-i,o,u];case 270:return[a,n-s,u,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&it._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=m(this,Zt))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:a,richText:s},uid:o,pageIndex:u,creationDate:c,modificationDate:f}=this;return{id:o,pageIndex:u,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:c,modificationDate:r||f,popupRef:!a,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),D(this,Uf,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),D(this,Uf,!1),!0):!1}isInEditMode(){return m(this,Uf)}shouldGetKeyboardEvents(){return m(this,zl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return n<s&&i>0&&e<a&&r>0}rebuild(){F(this,Qe,UM).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,D(i,Of,e.accessibilityData),i._isCopy=e.isCopy||!1;const[a,s]=i.pageDimensions,[o,u,c,f]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=u/s,i.width=c/a,i.height=f/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=m(this,Hc))==null||e.abort(),D(this,Hc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,Po)&&(clearTimeout(m(this,Po)),D(this,Po,null)),F(this,Qe,$v).call(this),this.removeEditToolbar(),m(this,ys)){for(const r of m(this,ys).values())clearTimeout(r);D(this,ys,null)}this.parent=null,(n=m(this,Bf))==null||n.destroy(),D(this,Bf,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,Qe,t7).call(this),m(this,Hr).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,a,s]=this.getPDFRect();return[it._round(r+(a-r)*e),it._round(i+(s-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return m(this,Zt).commentPopupPositionInLayer}set commentPopupPosition(e){m(this,Zt).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return m(this,Zt).hasDefaultPopupPosition()}get commentButtonWidth(){return m(this,Zt).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){m(this,Zt).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),D(this,Bl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=m(this,Hr).children;if(!m(this,Gs)){D(this,Gs,Array.from(n));const s=F(this,Qe,o7).bind(this),o=F(this,Qe,l7).bind(this),u=this._uiManager._signal;for(const c of m(this,Gs)){const f=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:u}),c.addEventListener("blur",o,{signal:u}),c.addEventListener("focus",F(this,Qe,u7).bind(this,f),{signal:u}),c.setAttribute("data-l10n-id",it._l10nResizer[f])}}const r=m(this,Gs)[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(m(this,Gs).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)m(this,Hr).append(m(this,Hr).firstChild);else if(a>i)for(let o=0;o<a-i;o++)m(this,Hr).firstChild.before(m(this,Hr).lastChild);let s=0;for(const o of n){const c=m(this,Gs)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",it._l10nResizer[c])}}F(this,Qe,BM).call(this,0),D(this,zl,!0),m(this,Hr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){m(this,zl)&&F(this,Qe,jM).call(this,m(this,cb),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){F(this,Qe,$v).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(n=this._editToolbar)==null||n.show(),(r=m(this,yn))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,a;this.isSelected&&(this.isSelected=!1,(e=m(this,Hr))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=m(this,yn))==null||a.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return m(this,db)}set isEditing(e){D(this,db,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){m(this,ys)||D(this,ys,new Map);const{action:r}=e;let i=m(this,ys).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,ys).delete(r),m(this,ys).size===0&&D(this,ys,null)},it._telemetryTimeout),m(this,ys).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),D(this,Bm,!1)}disable(){this.div&&(this.div.tabIndex=-1),D(this,Bm,!0)}updateFakeAnnotationElement(e){if(!m(this,Mo)&&!this.deleted){D(this,Mo,e.addFakeAnnotation(this));return}if(this.deleted){m(this,Mo).remove(),D(this,Mo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&m(this,Mo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Of=new WeakMap,Gs=new WeakMap,yn=new WeakMap,Zt=new WeakMap,Ul=new WeakMap,Bm=new WeakMap,zc=new WeakMap,ub=new WeakMap,Hr=new WeakMap,jf=new WeakMap,Bl=new WeakMap,Mo=new WeakMap,Hc=new WeakMap,cb=new WeakMap,Ff=new WeakMap,Sa=new WeakMap,db=new WeakMap,Uf=new WeakMap,zl=new WeakMap,Po=new WeakMap,zm=new WeakMap,Hm=new WeakMap,ys=new WeakMap,Bf=new WeakMap,fb=new WeakMap,t1=new WeakMap,Qe=new WeakSet,IM=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},hb=new WeakSet,LM=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},dE=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},t7=function(){if(m(this,Hr))return;D(this,Hr,document.createElement("div")),m(this,Hr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,Hr).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",F(this,Qe,n7).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Va,{signal:n}),i.tabIndex=-1}this.div.prepend(m(this,Hr))},n7=function(e,n){var f;n.preventDefault();const{isMac:r}=Pr.platform;if(n.button!==0||n.ctrlKey&&r)return;(f=m(this,yn))==null||f.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,D(this,jf,[n.screenX,n.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,Qe,jM).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Cn,{passive:!1,signal:s}),window.addEventListener("contextmenu",Va,{signal:s}),D(this,Bl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var h;a.abort(),this.parent.togglePointerEvents(!0),(h=m(this,yn))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=u,F(this,Qe,fE).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},OM=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},fE=function(){if(!m(this,Bl))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=m(this,Bl);D(this,Bl,null);const a=this.x,s=this.y,o=this.width,u=this.height;a===e&&s===n&&o===r&&u===i||this.addCommands({cmd:F(this,Qe,OM).bind(this,a,s,o,u),undo:F(this,Qe,OM).bind(this,e,n,r,i),mustExec:!0})},jM=function(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,u=this.height,c=it.MIN_SIZE/r,f=it.MIN_SIZE/i,h=F(this,Qe,dE).call(this,this.rotation),g=(G,$)=>[h[0]*G+h[2]*$,h[1]*G+h[3]*$],v=F(this,Qe,dE).call(this,360-this.rotation),w=(G,$)=>[v[0]*G+v[2]*$,v[1]*G+v[3]*$];let E,A,C=!1,P=!1;switch(e){case"topLeft":C=!0,E=(G,$)=>[0,0],A=(G,$)=>[G,$];break;case"topMiddle":E=(G,$)=>[G/2,0],A=(G,$)=>[G/2,$];break;case"topRight":C=!0,E=(G,$)=>[G,0],A=(G,$)=>[0,$];break;case"middleRight":P=!0,E=(G,$)=>[G,$/2],A=(G,$)=>[0,$/2];break;case"bottomRight":C=!0,E=(G,$)=>[G,$],A=(G,$)=>[0,0];break;case"bottomMiddle":E=(G,$)=>[G/2,$],A=(G,$)=>[G/2,0];break;case"bottomLeft":C=!0,E=(G,$)=>[0,$],A=(G,$)=>[G,0];break;case"middleLeft":P=!0,E=(G,$)=>[0,$/2],A=(G,$)=>[G,$/2];break}const R=E(o,u),I=A(o,u);let k=g(...I);const L=it._round(a+k[0]),M=it._round(s+k[1]);let z=1,B=1,V,U;if(n.fromKeyboard)({deltaX:V,deltaY:U}=n);else{const{screenX:G,screenY:$}=n,[ee,re]=m(this,jf);[V,U]=this.screenToPageTranslation(G-ee,$-re),m(this,jf)[0]=G,m(this,jf)[1]=$}if([V,U]=w(V/r,U/i),C){const G=Math.hypot(o,u);z=B=Math.max(Math.min(Math.hypot(I[0]-R[0]-V,I[1]-R[1]-U)/G,1/o,1/u),c/o,f/u)}else P?z=di(Math.abs(I[0]-R[0]-V),c,1)/o:B=di(Math.abs(I[1]-R[1]-U),f,1)/u;const q=it._round(o*z),Q=it._round(u*B);k=g(...A(q,Q));const Z=L-k[0],ce=M-k[1];m(this,Sa)||D(this,Sa,[this.x,this.y,this.width,this.height]),this.width=q,this.height=Q,this.x=Z,this.y=ce,this.setDims(),this.fixAndSetPosition(),this._onResizing()},r7=function(){var e;D(this,Bl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=m(this,yn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},i7=function(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const s=F(this,Qe,dE).call(this,this.rotation),o=(L,M)=>[s[0]*L+s[2]*M,s[1]*L+s[3]*M],[u,c]=this.parentDimensions,f=this.x,h=this.y,g=this.width,v=this.height,w=it.MIN_SIZE/u,E=it.MIN_SIZE/c;a=Math.max(Math.min(a,1/g,1/v),w/g,E/v);const A=it._round(g*a),C=it._round(v*a);if(A===g&&C===v)return;m(this,Sa)||D(this,Sa,[f,h,g,v]);const P=o(g/2,v/2),R=it._round(f+P[0]),I=it._round(h+P[1]),k=o(A/2,C/2);this.x=R-k[0],this.y=I-k[1],this.width=A,this.height=C,this.setDims(),this.fixAndSetPosition(),this._onResizing()},a7=function(){var e;(e=m(this,yn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),F(this,Qe,fE).call(this)},FM=function(e){const{isMac:n}=Pr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},s7=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},o=c=>{i.abort(),D(this,zc,null),D(this,Ff,!1),this._uiManager.endDragSession()||F(this,Qe,FM).call(this,c),r&&this._onStopDragging()};n&&(D(this,zm,e.clientX),D(this,Hm,e.clientY),D(this,zc,e.pointerId),D(this,ub,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:h,pointerId:g}=c;if(g!==m(this,zc)){Cn(c);return}const[v,w]=this.screenToPageTranslation(f-m(this,zm),h-m(this,Hm));D(this,zm,f),D(this,Hm,h),this._uiManager.dragSelectedEditors(v,w)},s),window.addEventListener("touchmove",Cn,s),window.addEventListener("pointerdown",c=>{c.pointerType===m(this,ub)&&(m(this,Bf)||c.isPrimary)&&o(c),Cn(c)},s));const u=c=>{if(!m(this,zc)||m(this,zc)===c.pointerId){o(c);return}Cn(c)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},UM=function(){if(m(this,Hc)||!this.div)return;D(this,Hc,new AbortController);const e=this._uiManager.combinedSignal(m(this,Hc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},o7=function(e){it._resizerKeyboardManager.exec(this,e)},l7=function(e){var n;m(this,zl)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==m(this,Hr)&&F(this,Qe,$v).call(this)},u7=function(e){D(this,cb,m(this,zl)?e:"")},BM=function(e){if(m(this,Gs))for(const n of m(this,Gs))n.tabIndex=e},$v=function(){D(this,zl,!1),F(this,Qe,BM).call(this,-1),F(this,Qe,fE).call(this)},j(it,hb),be(it,"_l10n",null),be(it,"_l10nResizer",null),be(it,"_borderLineWidth",-1),be(it,"_colorManager",new CM),be(it,"_zIndex",1),be(it,"_telemetryTimeout",1e3);let on=it;class _Ae extends on{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Zz=3285377520,ss=4294901760,bo=65535;class c7{constructor(e){this.h1=e?e&4294967295:Zz,this.h2=e?e&4294967295:Zz}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let E=0,A=e.length;E<A;E++){const C=e.charCodeAt(E);C<=255?n[r++]=C:(n[r++]=C>>>8,n[r++]=C&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let o=0,u=0,c=this.h1,f=this.h2;const h=3432918353,g=461845907,v=h&bo,w=g&bo;for(let E=0;E<i;E++)E&1?(o=s[E],o=o*h&ss|o*v&bo,o=o<<15|o>>>17,o=o*g&ss|o*w&bo,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(u=s[E],u=u*h&ss|u*v&bo,u=u<<15|u>>>17,u=u*g&ss|u*w&bo,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(o=0,a){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*h&ss|o*v&bo,o=o<<15|o>>>17,o=o*g&ss|o*w&bo,i&1?c^=o:f^=o}this.h1=c,this.h2=f}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&ss|e*36045&bo,n=n*4283543511&ss|((n<<16|e>>>16)*2950163797&ss)>>>16,e^=n>>>1,e=e*444984403&ss|e*60499&bo,n=n*3301882366&ss|((n<<16|e>>>16)*3120437893&ss)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const zM=Object.freeze({map:null,hash:"",transfer:void 0});var zf,Hf,Hl,Gr,n1,d7;class mI{constructor(){j(this,n1);j(this,zf,!1);j(this,Hf,null);j(this,Hl,null);j(this,Gr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=m(this,Gr).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return m(this,Gr).get(e)}remove(e){const n=m(this,Gr).get(e);if(n!==void 0&&(n instanceof on&&m(this,Hl).delete(n.annotationElementId),m(this,Gr).delete(e),m(this,Gr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of m(this,Gr).values())if(r instanceof on)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=m(this,Gr).get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,m(this,Gr).set(e,n);i&&F(this,n1,d7).call(this),n instanceof on&&((m(this,Hl)||D(this,Hl,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return m(this,Gr).has(e)}get size(){return m(this,Gr).size}resetModified(){m(this,zf)&&(D(this,zf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new f7(this)}get serializable(){if(m(this,Gr).size===0)return zM;const e=new Map,n=new c7,r=[],i=Object.create(null);let a=!1;for(const[s,o]of m(this,Gr)){const u=o instanceof on?o.serialize(!1,i):o;u&&(e.set(s,u),n.update(`${s}:${JSON.stringify(u)}`),a||(a=!!u.bitmap))}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:zM}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const a of m(this,Gr).values()){if(!(a instanceof on)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const s=a.telemetryFinalData;if(!s)continue;const{type:o}=s;n.has(o)||n.set(o,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[c,f]of Object.entries(s)){if(c==="type")continue;let h=u.get(c);h||(h=new Map,u.set(c,h));const g=h.get(f)??0;h.set(f,g+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[a,s]of n)e[a]=s.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){D(this,Hf,null)}updateEditor(e,n){var i;const r=(i=m(this,Hl))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=m(this,Hl))==null?void 0:n.get(e))||null}get modifiedIds(){if(m(this,Hf))return m(this,Hf);const e=[];if(m(this,Hl))for(const n of m(this,Hl).values())n.serialize()&&e.push(n.annotationElementId);return D(this,Hf,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return m(this,Gr).entries()}}zf=new WeakMap,Hf=new WeakMap,Hl=new WeakMap,Gr=new WeakMap,n1=new WeakSet,d7=function(){m(this,zf)||(D(this,zf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var pb;class f7 extends mI{constructor(n){super();j(this,pb);const{map:r,hash:i,transfer:a}=n.serializable,s=structuredClone(r,a?{transfer:a}:null);D(this,pb,{map:s,hash:i,transfer:a})}get print(){an("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,pb)}get modifiedIds(){return lt(this,"modifiedIds",{ids:new Set,hash:""})}}pb=new WeakMap;var Gm;class CAe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){j(this,Gm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,Gm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||m(this,Gm).has(e.loadedName))){if(wt(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:s}=e,o=new FontFace(i,a,s);this.addNativeFontFace(o);try{await o.load(),m(this,Gm).add(i),r==null||r(e)}catch{rt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}an("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw rt(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return lt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return lt(this,"isSyncFontLoadingSupported",Ni||Pr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(wt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return lt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(I,k){return I.charCodeAt(k)<<24|I.charCodeAt(k+1)<<16|I.charCodeAt(k+2)<<8|I.charCodeAt(k+3)&255}function i(I,k,L,M){const z=I.substring(0,k),B=I.substring(k+L);return z+M+B}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const u=o.getContext("2d");let c=0;function f(I,k){if(++c>30){rt("Load test font never loaded."),k();return}if(u.font="30px "+I,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(f.bind(null,I,k))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,h.length,h);const w=16,E=1482184792;let A=r(g,w);for(a=0,s=h.length-3;a<s;a+=4)A=A-E+r(h,a)|0;a<h.length&&(A=A-E+r(h+"XXX",a)|0),g=i(g,w,4,hAe(A));const C=`url(data:font/opentype;base64,${btoa(g)});`,P=`@font-face {font-family:"${h}";src:${C}}`;this.insertRule(P);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const I of[e.loadedName,h]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=I,R.append(k)}this._document.body.append(R),f(h,()=>{R.remove(),n.complete()})}}Gm=new WeakMap;var $t;class TAe{constructor(e,n=null,r,i){j(this,$t);this.compiledGlyphs=Object.create(null),D(this,$t,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${NW(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(s){rt(`getPathGenerator - ignoring character: "${s}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}get black(){return m(this,$t).black}get bold(){return m(this,$t).bold}get disableFontFace(){return m(this,$t).disableFontFace??!1}get fontExtraProperties(){return m(this,$t).fontExtraProperties??!1}get isInvalidPDFjsFont(){return m(this,$t).isInvalidPDFjsFont}get isType3Font(){return m(this,$t).isType3Font}get italic(){return m(this,$t).italic}get missingFile(){return m(this,$t).missingFile}get remeasure(){return m(this,$t).remeasure}get vertical(){return m(this,$t).vertical}get ascent(){return m(this,$t).ascent}get defaultWidth(){return m(this,$t).defaultWidth}get descent(){return m(this,$t).descent}get bbox(){return m(this,$t).bbox}get fontMatrix(){return m(this,$t).fontMatrix}get fallbackName(){return m(this,$t).fallbackName}get loadedName(){return m(this,$t).loadedName}get mimetype(){return m(this,$t).mimetype}get name(){return m(this,$t).name}get data(){return m(this,$t).data}clearData(){m(this,$t).clearData()}get cssFontInfo(){return m(this,$t).cssFontInfo}get systemFontInfo(){return m(this,$t).systemFontInfo}get defaultVMetrics(){return m(this,$t).defaultVMetrics}}$t=new WeakMap;function NAe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Ni)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function RAe(t){if(Ni&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Xx(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zS(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const HM=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,MAe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",h7=yAe.bind(null,HM,MAe);var Gl,r1;class PAe{constructor(){j(this,Gl,new Map);j(this,r1,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};m(this,r1).then(()=>{for(const[i]of m(this,Gl))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:a}=r;if(a.aborted){rt("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}m(this,Gl).set(n,i)}removeEventListener(e,n){const r=m(this,Gl).get(n);r==null||r(),m(this,Gl).delete(n)}terminate(){for(const[,e]of m(this,Gl))e==null||e();m(this,Gl).clear()}}Gl=new WeakMap,r1=new WeakMap;const HS={DATA:1,ERROR:2},Qn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function eH(){}function qi(t){if(t instanceof Pu||t instanceof FA||t instanceof Vz||t instanceof I0||t instanceof zR)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||an('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Pu(t.message);case"InvalidPDFException":return new FA(t.message);case"PasswordException":return new Vz(t.message,t.code);case"ResponseException":return new I0(t.message,t.status,t.missing);case"UnknownErrorException":return new zR(t.message,t.details)}return new zR(t.message,t.toString())}var qm,Ns,p7,m7,g7,hE;class Vv{constructor(e,n,r){j(this,Ns);j(this,qm,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,Ns,p7).bind(this),{signal:m(this,qm).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,u=this.comObj;return new ReadableStream({start:c=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:n,desiredSize:c.desiredSize},i),f.promise},pull:c=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,u.postMessage({sourceName:s,targetName:o,stream:Qn.PULL,streamId:a,desiredSize:c.desiredSize}),f.promise},cancel:c=>{wt(c instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:s,targetName:o,stream:Qn.CANCEL,streamId:a,reason:qi(c)}),f.promise}},r)}destroy(){var e;(e=m(this,qm))==null||e.abort(),D(this,qm,null)}}qm=new WeakMap,Ns=new WeakSet,p7=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){F(this,Ns,g7).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===HS.DATA)i.resolve(e.data);else if(e.callback===HS.ERROR)i.reject(qi(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:HS.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:HS.ERROR,callbackId:e.callbackId,reason:qi(s)})});return}if(e.streamId){F(this,Ns,m7).call(this,e);return}n(e.data)},m7=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],u={enqueue(c,f=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:Qn.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Qn.CLOSE,streamId:n}),delete s.streamSinks[n])},error(c){wt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:Qn.ERROR,streamId:n,reason:qi(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[n]=u,Promise.try(o,e.data,u).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Qn.START_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:Qn.START_COMPLETE,streamId:n,reason:qi(c)})})},g7=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case Qn.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(qi(e.reason));break;case Qn.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(qi(e.reason));break;case Qn.PULL:if(!o){a.postMessage({sourceName:r,targetName:i,stream:Qn.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||eH).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Qn.PULL_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:Qn.PULL_COMPLETE,streamId:n,reason:qi(c)})});break;case Qn.ENQUEUE:if(wt(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case Qn.CLOSE:if(wt(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),F(this,Ns,hE).call(this,s,n);break;case Qn.ERROR:wt(s,"error should have stream controller"),s.controller.error(qi(e.reason)),F(this,Ns,hE).call(this,s,n);break;case Qn.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(qi(e.reason)),F(this,Ns,hE).call(this,s,n);break;case Qn.CANCEL:if(!o)break;const u=qi(e.reason);Promise.try(o.onCancel||eH,u).then(function(){a.postMessage({sourceName:r,targetName:i,stream:Qn.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:Qn.CANCEL_COMPLETE,streamId:n,reason:qi(c)})}),o.sinkCapability.reject(u),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},hE=async function(e,n){var r,i,a;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[n]};var mb;class y7{constructor({enableHWA:e=!1}){j(this,mb,!1);D(this,mb,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,mb)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){an("Abstract method `_createCanvas` called.")}}mb=new WeakMap;class kAe extends y7{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class v7{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class tH extends v7{async _fetch(e){const n=await Ey(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Xx(n)}}class b7{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}var Gf,$m,ql,$l,si,qf,$f,Me,ri,Wv,Xp,pE,Jp,x7,GM,Qp,Yv,Kv,qM,Xv;class DAe extends b7{constructor({docId:n,ownerDocument:r=globalThis.document}){super();j(this,Me);j(this,Gf);j(this,$m);j(this,ql);j(this,$l);j(this,si);j(this,qf);j(this,$f,0);D(this,$l,n),D(this,si,r)}addFilter(n){if(!n)return"none";let r=m(this,Me,ri).get(n);if(r)return r;const[i,a,s]=F(this,Me,pE).call(this,n),o=n.length===1?i:`${i}${a}${s}`;if(r=m(this,Me,ri).get(o),r)return m(this,Me,ri).set(n,r),r;const u=`g_${m(this,$l)}_transfer_map_${ar(this,$f)._++}`,c=F(this,Me,Jp).call(this,u);m(this,Me,ri).set(n,c),m(this,Me,ri).set(o,c);const f=F(this,Me,Qp).call(this,u);return F(this,Me,Kv).call(this,i,a,s,f),c}addHCMFilter(n,r){var w;const i=`${n}-${r}`,a="base";let s=m(this,Me,Wv).get(a);if((s==null?void 0:s.key)===i||(s?((w=s.filter)==null||w.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},m(this,Me,Wv).set(a,s)),!n||!r))return s.url;const o=F(this,Me,Xv).call(this,n);n=ke.makeHexColor(...o);const u=F(this,Me,Xv).call(this,r);if(r=ke.makeHexColor(...u),m(this,Me,Xp).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const c=new Array(256);for(let E=0;E<=255;E++){const A=E/255;c[E]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=c.join(","),h=`g_${m(this,$l)}_hcm_filter`,g=s.filter=F(this,Me,Qp).call(this,h);F(this,Me,Kv).call(this,f,f,f,g),F(this,Me,GM).call(this,g);const v=(E,A)=>{const C=o[E]/255,P=u[E]/255,R=new Array(A+1);for(let I=0;I<=A;I++)R[I]=C+I/A*(P-C);return R.join(",")};return F(this,Me,Kv).call(this,v(0,5),v(1,5),v(2,5),g),s.url=F(this,Me,Jp).call(this,h),s.url}addAlphaFilter(n){let r=m(this,Me,ri).get(n);if(r)return r;const[i]=F(this,Me,pE).call(this,[n]),a=`alpha_${i}`;if(r=m(this,Me,ri).get(a),r)return m(this,Me,ri).set(n,r),r;const s=`g_${m(this,$l)}_alpha_map_${ar(this,$f)._++}`,o=F(this,Me,Jp).call(this,s);m(this,Me,ri).set(n,o),m(this,Me,ri).set(a,o);const u=F(this,Me,Qp).call(this,s);return F(this,Me,qM).call(this,i,u),o}addLuminosityFilter(n){let r=m(this,Me,ri).get(n||"luminosity");if(r)return r;let i,a;if(n?([i]=F(this,Me,pE).call(this,[n]),a=`luminosity_${i}`):a="luminosity",r=m(this,Me,ri).get(a),r)return m(this,Me,ri).set(n,r),r;const s=`g_${m(this,$l)}_luminosity_map_${ar(this,$f)._++}`,o=F(this,Me,Jp).call(this,s);m(this,Me,ri).set(n,o),m(this,Me,ri).set(a,o);const u=F(this,Me,Qp).call(this,s);return F(this,Me,x7).call(this,u),n&&F(this,Me,qM).call(this,i,u),o}addHighlightHCMFilter(n,r,i,a,s){var P;const o=`${r}-${i}-${a}-${s}`;let u=m(this,Me,Wv).get(n);if((u==null?void 0:u.key)===o||(u?((P=u.filter)==null||P.remove(),u.key=o,u.url="none",u.filter=null):(u={key:o,url:"none",filter:null},m(this,Me,Wv).set(n,u)),!r||!i))return u.url;const[c,f]=[r,i].map(F(this,Me,Xv).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,w]=[a,s].map(F(this,Me,Xv).bind(this));g<h&&([h,g,v,w]=[g,h,w,v]),m(this,Me,Xp).style.color="";const E=(R,I,k)=>{const L=new Array(256),M=(g-h)/k,z=R/255,B=(I-R)/(255*k);let V=0;for(let U=0;U<=k;U++){const q=Math.round(h+U*M),Q=z+U*B;for(let Z=V;Z<=q;Z++)L[Z]=Q;V=q+1}for(let U=V;U<256;U++)L[U]=L[V-1];return L.join(",")},A=`g_${m(this,$l)}_hcm_${n}_filter`,C=u.filter=F(this,Me,Qp).call(this,A);return F(this,Me,GM).call(this,C),F(this,Me,Kv).call(this,E(v[0],w[0],5),E(v[1],w[1],5),E(v[2],w[2],5),C),u.url=F(this,Me,Jp).call(this,A),u.url}destroy(n=!1){var r,i,a,s;n&&((r=m(this,qf))!=null&&r.size)||((i=m(this,ql))==null||i.parentNode.parentNode.remove(),D(this,ql,null),(a=m(this,$m))==null||a.clear(),D(this,$m,null),(s=m(this,qf))==null||s.clear(),D(this,qf,null),D(this,$f,0))}}Gf=new WeakMap,$m=new WeakMap,ql=new WeakMap,$l=new WeakMap,si=new WeakMap,qf=new WeakMap,$f=new WeakMap,Me=new WeakSet,ri=function(){return m(this,$m)||D(this,$m,new Map)},Wv=function(){return m(this,qf)||D(this,qf,new Map)},Xp=function(){if(!m(this,ql)){const n=m(this,si).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,si).createElementNS(Cl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),D(this,ql,m(this,si).createElementNS(Cl,"defs")),n.append(i),i.append(m(this,ql)),m(this,si).body.append(n)}return m(this,ql)},pE=function(n){if(n.length===1){const c=n[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=c[g]/255;const h=f.join(",");return[h,h,h]}const[r,i,a]=n,s=new Array(256),o=new Array(256),u=new Array(256);for(let c=0;c<256;c++)s[c]=r[c]/255,o[c]=i[c]/255,u[c]=a[c]/255;return[s.join(","),o.join(","),u.join(",")]},Jp=function(n){if(m(this,Gf)===void 0){D(this,Gf,"");const r=m(this,si).URL;r!==m(this,si).baseURI&&(Qx(r)?rt('#createUrl: ignore "data:"-URL for performance reasons.'):D(this,Gf,cI(r,"")))}return`url(${m(this,Gf)}#${n})`},x7=function(n){const r=m(this,si).createElementNS(Cl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},GM=function(n){const r=m(this,si).createElementNS(Cl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Qp=function(n){const r=m(this,si).createElementNS(Cl,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),m(this,Me,Xp).append(r),r},Yv=function(n,r,i){const a=m(this,si).createElementNS(Cl,r);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),n.append(a)},Kv=function(n,r,i,a){const s=m(this,si).createElementNS(Cl,"feComponentTransfer");a.append(s),F(this,Me,Yv).call(this,s,"feFuncR",n),F(this,Me,Yv).call(this,s,"feFuncG",r),F(this,Me,Yv).call(this,s,"feFuncB",i)},qM=function(n,r){const i=m(this,si).createElementNS(Cl,"feComponentTransfer");r.append(i),F(this,Me,Yv).call(this,i,"feFuncA",n)},Xv=function(n){return m(this,Me,Xp).style.color=n,Ay(getComputedStyle(m(this,Me,Xp)).getPropertyValue("color"))};class w7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class nH extends w7{async _fetch(e){const n=await Ey(e,"arraybuffer");return new Uint8Array(n)}}class S7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){an("Abstract method `_fetch` called.")}}class rH extends S7{async _fetch(e){const n=await Ey(e,"arraybuffer");return new Uint8Array(n)}}Ni&&rt("Please use the `legacy` build in Node.js environments.");async function gI(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class IAe extends b7{}class LAe extends y7{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class OAe extends v7{async _fetch(e){return gI(e)}}class jAe extends w7{async _fetch(e){return gI(e)}}class FAe extends S7{async _fetch(e){return gI(e)}}const $p="__forcedDependency",{floor:iH,ceil:aH}=Math;function GS(t,e,n,r,i,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],a)}const $M=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Vm,Gc;class UAe{constructor(e,n){j(this,Vm);j(this,Gc);D(this,Vm,e),D(this,Gc,n)}get length(){return m(this,Vm).length}isEmpty(e){return m(this,Vm)[e]===$M}minX(e){return m(this,Gc)[e*4+0]/256}minY(e){return m(this,Gc)[e*4+1]/256}maxX(e){return(m(this,Gc)[e*4+2]+1)/256}maxY(e){return(m(this,Gc)[e*4+3]+1)/256}}Vm=new WeakMap,Gc=new WeakMap;const qS=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var Wi,Yi,Vf,qs,Wf,Vl,Ft,Vt,Wl,Ki,gb,Wm,Yf,Kf,Yl,oi,ko,yb,VM;class BAe{constructor(e,n,r=!1){j(this,yb);j(this,Wi,{__proto__:null});j(this,Yi,{__proto__:null,transform:[],moveText:[],sameLineText:[],[$p]:[]});j(this,Vf,new Map);j(this,qs,[]);j(this,Wf,[]);j(this,Vl,[[1,0,0,1,0,0]]);j(this,Ft,[-1/0,-1/0,1/0,1/0]);j(this,Vt,new Float64Array([1/0,1/0,-1/0,-1/0]));j(this,Wl,-1);j(this,Ki,new Set);j(this,gb,new Map);j(this,Wm,new Map);j(this,Yf);j(this,Kf);j(this,Yl);j(this,oi);j(this,ko);D(this,Yf,e.width),D(this,Kf,e.height),F(this,yb,VM).call(this,n),r&&D(this,ko,new Map)}growOperationsCount(e){e>=m(this,oi).length&&F(this,yb,VM).call(this,e,m(this,oi))}save(e){return D(this,Wi,{__proto__:m(this,Wi)}),D(this,Yi,{__proto__:m(this,Yi),transform:{__proto__:m(this,Yi).transform},moveText:{__proto__:m(this,Yi).moveText},sameLineText:{__proto__:m(this,Yi).sameLineText},[$p]:{__proto__:m(this,Yi)[$p]}}),D(this,Ft,{__proto__:m(this,Ft)}),m(this,qs).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(m(this,Wi));if(n===null)return this;D(this,Wi,n),D(this,Yi,Object.getPrototypeOf(m(this,Yi))),D(this,Ft,Object.getPrototypeOf(m(this,Ft)));const r=m(this,qs).pop();return r!==void 0&&((i=qS(m(this,ko),e))==null||i.dependencies.add(r),m(this,oi)[e]=m(this,oi)[r]),this}recordOpenMarker(e){return m(this,qs).push(e),this}getOpenMarker(){return m(this,qs).length===0?null:m(this,qs).at(-1)}recordCloseMarker(e){var r;const n=m(this,qs).pop();return n!==void 0&&((r=qS(m(this,ko),e))==null||r.dependencies.add(n),m(this,oi)[e]=m(this,oi)[n]),this}beginMarkedContent(e){return m(this,Wf).push(e),this}endMarkedContent(e){var r;const n=m(this,Wf).pop();return n!==void 0&&((r=qS(m(this,ko),e))==null||r.dependencies.add(n),m(this,oi)[e]=m(this,oi)[n]),this}pushBaseTransform(e){return m(this,Vl).push(ke.multiplyByDOMMatrix(m(this,Vl).at(-1),e.getTransform())),this}popBaseTransform(){return m(this,Vl).length>1&&m(this,Vl).pop(),this}recordSimpleData(e,n){return m(this,Wi)[e]=n,this}recordIncrementalData(e,n){return m(this,Yi)[e].push(n),this}resetIncrementalData(e,n){return m(this,Yi)[e].length=0,this}recordNamedData(e,n){return m(this,Vf).set(e,n),this}recordSimpleDataFromNamed(e,n,r){m(this,Wi)[e]=m(this,Vf).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData($p,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in m(this,Wi)&&this.recordFutureForcedDependency(n,m(this,Wi)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of m(this,Ki))this.recordFutureForcedDependency($p,e);return this}resetBBox(e){return m(this,Wl)!==e&&(D(this,Wl,e),m(this,Vt)[0]=1/0,m(this,Vt)[1]=1/0,m(this,Vt)[2]=-1/0,m(this,Vt)[3]=-1/0),this}recordClipBox(e,n,r,i,a,s){const o=ke.multiplyByDOMMatrix(m(this,Vl).at(-1),n.getTransform()),u=[1/0,1/0,-1/0,-1/0];ke.axialAlignedBoundingBox([r,a,i,s],o,u);const c=ke.intersect(m(this,Ft),u);return c?(m(this,Ft)[0]=c[0],m(this,Ft)[1]=c[1],m(this,Ft)[2]=c[2],m(this,Ft)[3]=c[3]):(m(this,Ft)[0]=m(this,Ft)[1]=1/0,m(this,Ft)[2]=m(this,Ft)[3]=-1/0),this}recordBBox(e,n,r,i,a,s){const o=m(this,Ft);if(o[0]===1/0)return this;const u=ke.multiplyByDOMMatrix(m(this,Vl).at(-1),n.getTransform());if(o[0]===-1/0)return ke.axialAlignedBoundingBox([r,a,i,s],u,m(this,Vt)),this;const c=[1/0,1/0,-1/0,-1/0];return ke.axialAlignedBoundingBox([r,a,i,s],u,c),m(this,Vt)[0]=Math.min(m(this,Vt)[0],Math.max(c[0],o[0])),m(this,Vt)[1]=Math.min(m(this,Vt)[1],Math.max(c[1],o[1])),m(this,Vt)[2]=Math.max(m(this,Vt)[2],Math.min(c[2],o[2])),m(this,Vt)[3]=Math.max(m(this,Vt)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,a=0,s=0,o){const u=r.bbox;let c,f;if(u&&(c=u[2]!==u[0]&&u[3]!==u[1]&&m(this,Wm).get(r),c!==!1&&(f=[0,0,0,0],ke.axialAlignedBoundingBox(u,r.fontMatrix,f),(i!==1||a!==0||s!==0)&&ke.scaleMinMax([i,0,0,-i,a,s],f),c)))return this.recordBBox(e,n,f[0],f[2],f[1],f[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return u&&f&&c===void 0&&(c=f[0]<=a-h.actualBoundingBoxLeft&&f[2]>=a+h.actualBoundingBoxRight&&f[1]<=s-h.actualBoundingBoxAscent&&f[3]>=s+h.actualBoundingBoxDescent,m(this,Wm).set(r,c),c)?this.recordBBox(e,n,f[0],f[2],f[1],f[3]):this.recordBBox(e,n,a-h.actualBoundingBoxLeft,a+h.actualBoundingBoxRight,s-h.actualBoundingBoxAscent,s+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return m(this,Vt)[0]=Math.max(0,m(this,Ft)[0]),m(this,Vt)[1]=Math.max(0,m(this,Ft)[1]),m(this,Vt)[2]=Math.min(m(this,Yf),m(this,Ft)[2]),m(this,Vt)[3]=Math.min(m(this,Kf),m(this,Ft)[3]),this}getSimpleIndex(e){return m(this,Wi)[e]}recordDependencies(e,n){const r=m(this,Ki),i=m(this,Wi),a=m(this,Yi);for(const s of n)s in m(this,Wi)?r.add(i[s]):s in a&&a[s].forEach(r.add,r);return this}recordNamedDependency(e,n){return m(this,Vf).has(n)&&m(this,Ki).add(m(this,Vf).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[$p]),m(this,ko)){const r=qS(m(this,ko),e),{dependencies:i}=r;m(this,Ki).forEach(i.add,i),m(this,qs).forEach(i.add,i),m(this,Wf).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(m(this,Wl)===e){const r=iH(m(this,Vt)[0]*256/m(this,Yf)),i=iH(m(this,Vt)[1]*256/m(this,Kf)),a=aH(m(this,Vt)[2]*256/m(this,Yf)),s=aH(m(this,Vt)[3]*256/m(this,Kf));GS(m(this,Yl),e,r,i,a,s);for(const o of m(this,Ki))o!==e&&GS(m(this,Yl),o,r,i,a,s);for(const o of m(this,qs))o!==e&&GS(m(this,Yl),o,r,i,a,s);for(const o of m(this,Wf))o!==e&&GS(m(this,Yl),o,r,i,a,s);n||(m(this,Ki).clear(),D(this,Wl,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(m(this,Ki));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return m(this,Wl)===e&&(D(this,Wl,-1),m(this,Ft)[0]=Math.max(m(this,Ft)[0],m(this,Vt)[0]),m(this,Ft)[1]=Math.max(m(this,Ft)[1],m(this,Vt)[1]),m(this,Ft)[2]=Math.min(m(this,Ft)[2],m(this,Vt)[2]),m(this,Ft)[3]=Math.min(m(this,Ft)[3],m(this,Vt)[3]),n||m(this,Ki).clear()),this}_takePendingDependencies(){const e=m(this,Ki);return D(this,Ki,new Set),e}_extractOperation(e){const n=m(this,gb).get(e);return m(this,gb).delete(e),n}_pushPendingDependencies(e){for(const n of e)m(this,Ki).add(n)}take(){return m(this,Wm).clear(),new UAe(m(this,oi),m(this,Yl))}takeDebugMetadata(){return m(this,ko)}}Wi=new WeakMap,Yi=new WeakMap,Vf=new WeakMap,qs=new WeakMap,Wf=new WeakMap,Vl=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,Wl=new WeakMap,Ki=new WeakMap,gb=new WeakMap,Wm=new WeakMap,Yf=new WeakMap,Kf=new WeakMap,Yl=new WeakMap,oi=new WeakMap,ko=new WeakMap,yb=new WeakSet,VM=function(e,n){const r=new ArrayBuffer(e*4);D(this,Yl,new Uint8ClampedArray(r)),D(this,oi,new Uint32Array(r)),n&&n.length>0?(m(this,oi).set(n),m(this,oi).fill($M,n.length)):m(this,oi).fill($M)};var en,kn,$s,Ym,Km;const TI=class TI{constructor(e,n,r){j(this,en);j(this,kn);j(this,$s);j(this,Ym,0);j(this,Km,0);if(e instanceof TI&&m(e,$s)===!!r)return e;D(this,en,e),D(this,kn,n),D(this,$s,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ar(this,Km)._++,m(this,en).save(m(this,kn)),this}restore(e){return m(this,Km)>0&&(m(this,en).restore(m(this,kn)),ar(this,Km)._--),this}recordOpenMarker(e){return ar(this,Ym)._++,this}getOpenMarker(){return m(this,Ym)>0?m(this,kn):m(this,en).getOpenMarker()}recordCloseMarker(e){return ar(this,Ym)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return m(this,en).pushBaseTransform(e),this}popBaseTransform(){return m(this,en).popBaseTransform(),this}recordSimpleData(e,n){return m(this,en).recordSimpleData(e,m(this,kn)),this}recordIncrementalData(e,n){return m(this,en).recordIncrementalData(e,m(this,kn)),this}resetIncrementalData(e,n){return m(this,en).resetIncrementalData(e,m(this,kn)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return m(this,en).recordSimpleDataFromNamed(e,n,m(this,kn)),this}recordFutureForcedDependency(e,n){return m(this,en).recordFutureForcedDependency(e,m(this,kn)),this}inheritSimpleDataAsFutureForcedDependencies(e){return m(this,en).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return m(this,en).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return m(this,$s)||m(this,en).resetBBox(m(this,kn)),this}recordClipBox(e,n,r,i,a,s){return m(this,$s)||m(this,en).recordClipBox(m(this,kn),n,r,i,a,s),this}recordBBox(e,n,r,i,a,s){return m(this,$s)||m(this,en).recordBBox(m(this,kn),n,r,i,a,s),this}recordCharacterBBox(e,n,r,i,a,s,o){return m(this,$s)||m(this,en).recordCharacterBBox(m(this,kn),n,r,i,a,s,o),this}recordFullPageBBox(e){return m(this,$s)||m(this,en).recordFullPageBBox(m(this,kn)),this}getSimpleIndex(e){return m(this,en).getSimpleIndex(e)}recordDependencies(e,n){return m(this,en).recordDependencies(m(this,kn),n),this}recordNamedDependency(e,n){return m(this,en).recordNamedDependency(m(this,kn),n),this}recordOperation(e){return m(this,en).recordOperation(m(this,kn),!0),this}recordShowTextOperation(e){return m(this,en).recordShowTextOperation(m(this,kn),!0),this}bboxToClipBoxDropOperation(e){return m(this,$s)||m(this,en).bboxToClipBoxDropOperation(m(this,kn),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};en=new WeakMap,kn=new WeakMap,$s=new WeakMap,Ym=new WeakMap,Km=new WeakMap;let zA=TI;const os={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Wr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function WM(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class yI{isModifyingCurrentTransform(){return!1}getPattern(){an("Abstract method `getPattern` called.")}}class zAe extends yI{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===Wr.STROKE||i===Wr.FILL){const s=n.current.getClippedPathBoundingBox(i,An(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,u=Math.ceil(s[3]-s[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,u),f=c.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-s[0],-s[1]),r=ke.transform(r,[1,0,0,1,s[0],s[1]]),f.transform(...n.baseTransform),this.matrix&&f.transform(...this.matrix),WM(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);a.setTransform(h)}else WM(e,this._bbox),a=this._createGradient(e);return a}}function qR(t,e,n,r,i,a,s,o){const u=e.coords,c=e.colors,f=t.data,h=t.width*4;let g;u[n+1]>u[r+1]&&(g=n,n=r,r=g,g=a,a=s,s=g),u[r+1]>u[i+1]&&(g=r,r=i,i=g,g=s,s=o,o=g),u[n+1]>u[r+1]&&(g=n,n=r,r=g,g=a,a=s,s=g);const v=(u[n]+e.offsetX)*e.scaleX,w=(u[n+1]+e.offsetY)*e.scaleY,E=(u[r]+e.offsetX)*e.scaleX,A=(u[r+1]+e.offsetY)*e.scaleY,C=(u[i]+e.offsetX)*e.scaleX,P=(u[i+1]+e.offsetY)*e.scaleY;if(w>=P)return;const R=c[a],I=c[a+1],k=c[a+2],L=c[s],M=c[s+1],z=c[s+2],B=c[o],V=c[o+1],U=c[o+2],q=Math.round(w),Q=Math.round(P);let Z,ce,G,$,ee,re,xe,W;for(let J=q;J<=Q;J++){if(J<A){const Ae=J<w?0:(w-J)/(w-A);Z=v-(v-E)*Ae,ce=R-(R-L)*Ae,G=I-(I-M)*Ae,$=k-(k-z)*Ae}else{let Ae;J>P?Ae=1:A===P?Ae=0:Ae=(A-J)/(A-P),Z=E-(E-C)*Ae,ce=L-(L-B)*Ae,G=M-(M-V)*Ae,$=z-(z-U)*Ae}let le;J<w?le=0:J>P?le=1:le=(w-J)/(w-P),ee=v-(v-C)*le,re=R-(R-B)*le,xe=I-(I-V)*le,W=k-(k-U)*le;const ge=Math.round(Math.min(Z,ee)),we=Math.round(Math.max(Z,ee));let Te=h*J+ge*4;for(let Ae=ge;Ae<=we;Ae++)le=(Z-Ae)/(Z-ee),le<0?le=0:le>1&&(le=1),f[Te++]=ce-(ce-re)*le|0,f[Te++]=G-(G-xe)*le|0,f[Te++]=$-($-W)*le|0,f[Te++]=255}}function HAe(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,u=Math.floor(r.length/o)-1,c=o-1;for(a=0;a<u;a++){let f=a*o;for(let h=0;h<c;h++,f++)qR(t,n,r[f],r[f+1],r[f+o],i[f],i[f+1],i[f+o]),qR(t,n,r[f+o+1],r[f+1],r[f+o],i[f+o+1],i[f+1],i[f+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)qR(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class GAe extends yI{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,f=Math.ceil(this._bounds[3])-u,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),v=c/h,w=f/g,E={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-u,scaleX:1/v,scaleY:1/w},A=h+4,C=g+4,P=r.getCanvas("mesh",A,C),R=P.context,I=R.createImageData(h,g);if(n){const L=I.data;for(let M=0,z=L.length;M<z;M+=4)L[M]=n[0],L[M+1]=n[1],L[M+2]=n[2],L[M+3]=255}for(const L of this._figures)HAe(I,L,E);return R.putImageData(I,2,2),{canvas:P.canvas,offsetX:o-2*v,offsetY:u-2*w,scaleX:v,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){WM(e,this._bbox);const a=new Float32Array(2);if(i===Wr.SHADING)ke.singularValueDecompose2dScale(An(e),a);else if(this.matrix){ke.singularValueDecompose2dScale(this.matrix,a);const[o,u]=a;ke.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=o,a[1]*=u}else ke.singularValueDecompose2dScale(n.baseTransform,a);const s=this._createMeshCanvas(a,i===Wr.SHADING?null:this._background,n.cachedCanvases);return i!==Wr.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class qAe extends yI{getPattern(){return"hotpink"}}function $Ae(t){switch(t[0]){case"RadialAxial":return new zAe(t);case"Mesh":return new GAe(t);case"Dummy":return new qAe}throw new Error(`Unknown IR type: ${t[0]}`)}const sH={COLORED:1,UNCOLORED:2},i1=class i1{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var re,xe;const{bbox:r,operatorList:i,paintType:a,tilingType:s,color:o,canvasGraphicsFactory:u}=this;let{xstep:c,ystep:f}=this;c=Math.abs(c),f=Math.abs(f),S_("TilingType: "+s);const h=r[0],g=r[1],v=r[2],w=r[3],E=v-h,A=w-g,C=new Float32Array(2);ke.singularValueDecompose2dScale(this.matrix,C);const[P,R]=C;ke.singularValueDecompose2dScale(this.baseTransform,C);const I=P*C[0],k=R*C[1];let L=E,M=A,z=!1,B=!1;const V=Math.ceil(c*I),U=Math.ceil(f*k),q=Math.ceil(E*I),Q=Math.ceil(A*k);V>=q?L=c:z=!0,U>=Q?M=f:B=!0;const Z=this.getSizeAndScale(L,this.ctx.canvas.width,I),ce=this.getSizeAndScale(M,this.ctx.canvas.height,k),G=e.cachedCanvases.getCanvas("pattern",Z.size,ce.size),$=G.context,ee=u.createCanvasGraphics($,n);if(ee.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ee,a,o),$.translate(-Z.scale*h,-ce.scale*g),ee.transform(0,Z.scale,0,0,ce.scale,0,0),$.save(),(re=ee.dependencyTracker)==null||re.save(),this.clipBbox(ee,h,g,v,w),ee.baseTransform=An(ee.ctx),ee.executeOperatorList(i),ee.endDrawing(),(xe=ee.dependencyTracker)==null||xe.restore(),$.restore(),z||B){const W=G.canvas;z&&(L=c),B&&(M=f);const J=this.getSizeAndScale(L,this.ctx.canvas.width,I),le=this.getSizeAndScale(M,this.ctx.canvas.height,k),ge=J.size,we=le.size,Te=e.cachedCanvases.getCanvas("pattern-workaround",ge,we),Ae=Te.context,mt=z?Math.floor(E/c):0,de=B?Math.floor(A/f):0;for(let Ne=0;Ne<=mt;Ne++)for(let Ke=0;Ke<=de;Ke++)Ae.drawImage(W,ge*Ne,we*Ke,ge,we,0,0,ge,we);return{canvas:Te.canvas,scaleX:J.scale,scaleY:le.scale,offsetX:h,offsetY:g}}return{canvas:G.canvas,scaleX:Z.scale,scaleY:ce.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,n,r){const i=Math.max(i1.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,o=a-r;e.ctx.rect(n,r,s,o),ke.axialAlignedBoundingBox([n,r,i,a],An(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case sH.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;i.fillStyle=a.fillColor=s,i.strokeStyle=a.strokeColor=o;break;case sH.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new fAe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,a){let s=r;i!==Wr.SHADING&&(s=ke.transform(s,n.baseTransform),this.matrix&&(s=ke.transform(s,this.matrix)));const o=this.createPatternCanvas(n,a);let u=new DOMMatrix(s);u=u.translate(o.offsetX,o.offsetY),u=u.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(u),c}};be(i1,"MAX_PATTERN_SIZE",3e3);let YM=i1;function VAe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=Pr.isLittleEndian?4278190080:255,[u,c]=s?[a,o]:[o,a],f=r>>3,h=r&7,g=t.length;n=new Uint32Array(n.buffer);let v=0;for(let w=0;w<i;w++){for(const A=e+f;e<A;e++){const C=e<g?t[e]:255;n[v++]=C&128?c:u,n[v++]=C&64?c:u,n[v++]=C&32?c:u,n[v++]=C&16?c:u,n[v++]=C&8?c:u,n[v++]=C&4?c:u,n[v++]=C&2?c:u,n[v++]=C&1?c:u}if(h===0)continue;const E=e<g?t[e++]:255;for(let A=0;A<h;A++)n[v++]=E&1<<7-A?c:u}return{srcPos:e,destPos:v}}const oH=16,lH=100,WAe=15,uH=10,ea=16,$R=new DOMMatrix,Ua=new Float32Array(2),om=new Float32Array([1/0,1/0,-1/0,-1/0]);function YAe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,a,s,o){e.transform(n,r,i,a,s,o),this.__originalTransform(n,r,i,a,s,o)},t.setTransform=function(n,r,i,a,s,o){e.setTransform(n,r,i,a,s,o),this.__originalSetTransform(n,r,i,a,s,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,o){e.bezierCurveTo(n,r,i,a,s,o),this.__originalBezierCurveTo(n,r,i,a,s,o)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class KAe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function $S(t,e,n,r,i,a,s,o,u,c){const[f,h,g,v,w,E]=An(t);if(h===0&&g===0){const P=s*f+w,R=Math.round(P),I=o*v+E,k=Math.round(I),L=(s+u)*f+w,M=Math.abs(Math.round(L)-R)||1,z=(o+c)*v+E,B=Math.abs(Math.round(z)-k)||1;return t.setTransform(Math.sign(f),0,0,Math.sign(v),R,k),t.drawImage(e,n,r,i,a,0,0,M,B),t.setTransform(f,h,g,v,w,E),[M,B]}if(f===0&&v===0){const P=o*g+w,R=Math.round(P),I=s*h+E,k=Math.round(I),L=(o+c)*g+w,M=Math.abs(Math.round(L)-R)||1,z=(s+u)*h+E,B=Math.abs(Math.round(z)-k)||1;return t.setTransform(0,Math.sign(h),Math.sign(g),0,R,k),t.drawImage(e,n,r,i,a,0,0,B,M),t.setTransform(f,h,g,v,w,E),[B,M]}t.drawImage(e,n,r,i,a,s,o,u,c);const A=Math.hypot(f,h),C=Math.hypot(g,v);return[A*u,C*c]}class cH{constructor(e,n,r){be(this,"alphaIsShape",!1);be(this,"fontSize",0);be(this,"fontSizeScale",1);be(this,"textMatrix",null);be(this,"textMatrixScale",1);be(this,"fontMatrix",xM);be(this,"leading",0);be(this,"x",0);be(this,"y",0);be(this,"lineX",0);be(this,"lineY",0);be(this,"charSpacing",0);be(this,"wordSpacing",0);be(this,"textHScale",1);be(this,"textRenderingMode",Br.FILL);be(this,"textRise",0);be(this,"fillColor","#000000");be(this,"strokeColor","#000000");be(this,"patternFill",!1);be(this,"patternStroke",!1);be(this,"fillAlpha",1);be(this,"strokeAlpha",1);be(this,"lineWidth",1);be(this,"activeSMask",null);be(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=om.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Wr.FILL,n=null){const r=this.minMax.slice();if(e===Wr.STROKE){n||an("Stroke bounding box must include transform."),ke.singularValueDecompose2dScale(n,Ua);const i=Ua[0]*this.lineWidth/2,a=Ua[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=ke.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(om,0)}getClippedPathBoundingBox(e=Wr.FILL,n=null){return ke.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function dH(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%ea,a=(n-i)/ea,s=i===0?a:a+1,o=t.createImageData(r,ea);let u=0,c;const f=e.data,h=o.data;let g,v,w,E;if(e.kind===d0.GRAYSCALE_1BPP){const A=f.byteLength,C=new Uint32Array(h.buffer,0,h.byteLength>>2),P=C.length,R=r+7>>3,I=4294967295,k=Pr.isLittleEndian?4278190080:255;for(g=0;g<s;g++){for(w=g<a?ea:i,c=0,v=0;v<w;v++){const L=A-u;let M=0;const z=L>R?r:L*8-7,B=z&-8;let V=0,U=0;for(;M<B;M+=8)U=f[u++],C[c++]=U&128?I:k,C[c++]=U&64?I:k,C[c++]=U&32?I:k,C[c++]=U&16?I:k,C[c++]=U&8?I:k,C[c++]=U&4?I:k,C[c++]=U&2?I:k,C[c++]=U&1?I:k;for(;M<z;M++)V===0&&(U=f[u++],V=128),C[c++]=U&V?I:k,V>>=1}for(;c<P;)C[c++]=0;t.putImageData(o,0,g*ea)}}else if(e.kind===d0.RGBA_32BPP){for(v=0,E=r*ea*4,g=0;g<a;g++)h.set(f.subarray(u,u+E)),u+=E,t.putImageData(o,0,v),v+=ea;g<s&&(E=r*i*4,h.set(f.subarray(u,u+E)),t.putImageData(o,0,v))}else if(e.kind===d0.RGB_24BPP)for(w=ea,E=r*w,g=0;g<s;g++){for(g>=a&&(w=i,E=r*w),c=0,v=E;v--;)h[c++]=f[u++],h[c++]=f[u++],h[c++]=f[u++],h[c++]=255;t.putImageData(o,0,g*ea)}else throw new Error(`bad image kind: ${e.kind}`)}function fH(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%ea,a=(n-i)/ea,s=i===0?a:a+1,o=t.createImageData(r,ea);let u=0;const c=e.data,f=o.data;for(let h=0;h<s;h++){const g=h<a?ea:i;({srcPos:u}=VAe({src:c,srcPos:u,dest:f,width:r,height:g,nonBlackColor:0})),t.putImageData(o,0,h*ea)}}function kv(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function VS(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function hH(t,e){if(e)return!0;ke.singularValueDecompose2dScale(t,Ua);const n=Math.fround(oo.pixelRatio*ku.PDF_TO_CSS_UNITS);return Ua[0]<=n&&Ua[1]<=n}const XAe=["butt","round","square"],JAe=["miter","round","bevel"],QAe={},pH={};var lo,KM,XM,JM;const NI=class NI{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:o=null},u,c,f){j(this,lo);this.ctx=e,this.current=new cH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new KAe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const u=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...An(this.compositeCtx))}this.ctx.save(),VS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=An(this.ctx)}executeOperatorList(e,n,r,i,a){var C;const s=e.argsArray,o=e.fnArray;let u=n||0;const c=s.length;if(c===u)return u;const f=c-u>uH&&typeof r=="function",h=f?Date.now()+WAe:0;let g=0;const v=this.commonObjs,w=this.objs;let E,A;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,r),u;if(!a||a(u))if(E=o[u],A=s[u]??null,E!==iy.dependency)A===null?this[E](u):this[E](u,...A);else for(const P of A){(C=this.dependencyTracker)==null||C.recordNamedData(P,u);const R=P.startsWith("g_")?v:w;if(!R.has(P))return R.get(P,r),u}if(u++,u===c)return u;if(f&&++g>uH){if(Date.now()>h)return r(),u;g=0}}}endDrawing(){F(this,lo,KM).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),F(this,lo,XM).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=r,u=i,c="prescale1",f,h;for(;a>2&&o>1||s>2&&u>1;){let g=o,v=u;a>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/g),s>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,s/=u/v),f=this.cachedCanvases.getCanvas(c,g,v),h=f.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,u,0,0,g,v),e=f.canvas,o=g,u=v,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:u}}_createMaskCanvas(e,n){var V,U;const r=this.ctx,{width:i,height:a}=n,s=this.current.fillColor,o=this.current.patternFill,u=An(r);let c,f,h,g;if((n.bitmap||n.data)&&n.count>1){const q=n.bitmap||n.data.buffer;f=JSON.stringify(o?u:[u.slice(0,4),s]),c=this._cachedBitmapsMap.get(q),c||(c=new Map,this._cachedBitmapsMap.set(q,c));const Q=c.get(f);if(Q&&!o){const Z=Math.round(Math.min(u[0],u[2])+u[4]),ce=Math.round(Math.min(u[1],u[3])+u[5]);return(V=this.dependencyTracker)==null||V.recordDependencies(e,os.transformAndFill),{canvas:Q,offsetX:Z,offsetY:ce}}h=Q}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,a),fH(g.context,n));let v=ke.transform(u,[1/i,0,0,-1/a,0,0]);v=ke.transform(v,[1,0,0,1,0,-a]);const w=om.slice();ke.axialAlignedBoundingBox([0,0,i,a],v,w);const[E,A,C,P]=w,R=Math.round(C-E)||1,I=Math.round(P-A)||1,k=this.cachedCanvases.getCanvas("fillCanvas",R,I),L=k.context,M=E,z=A;L.translate(-M,-z),L.transform(...v),h||(h=this._scaleImage(g.canvas,vo(L)),h=h.img,c&&o&&c.set(f,h)),L.imageSmoothingEnabled=hH(An(L),n.interpolate),$S(L,h,0,0,h.width,h.height,0,0,i,a),L.globalCompositeOperation="source-in";const B=ke.transform(vo(L),[1,0,0,1,-M,-z]);return L.fillStyle=o?s.getPattern(r,this,B,Wr.FILL,e):s,L.fillRect(0,0,i,a),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(f,k.canvas)),(U=this.dependencyTracker)==null||U.recordDependencies(e,os.transformAndFill),{canvas:k.canvas,offsetX:Math.round(M),offsetY:Math.round(z)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=XAe[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=JAe[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,a,s,o;for(const[u,c]of n)switch(u){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(a=this.dependencyTracker)==null||a.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(s=this.dependencyTracker)==null||s.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),kv(this.suspendedCtx,s),YAe(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),kv(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],o=i[2]-a,u=i[3]-s;o===0||u===0||(this.genericComposeSMask(n.context,r,o,u,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,o,u,c,f,h){let g=e.canvas,v=u-f,w=c-h;if(s)if(v<0||w<0||v+r>g.width||w+i>g.height){const A=this.cachedCanvases.getCanvas("maskExtension",r,i),C=A.context;C.drawImage(g,-v,-w),C.globalCompositeOperation="destination-atop",C.fillStyle=s,C.fillRect(0,0,r,i),C.globalCompositeOperation="source-over",g=A.canvas,v=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(v,w,r,i),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(v,w,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const E=new Path2D;E.rect(u,c,r,i),n.clip(E),n.globalCompositeOperation="destination-in",n.drawImage(g,v,w,r,i,u,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&kv(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&kv(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,a,s,o){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,a,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[a]=r;if(!i){a||(a=r[0]=new Path2D),this[n](e,a);return}if(this.dependencyTracker!==null){const s=n===iy.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}if(!(a instanceof Path2D)){const s=r[0]=new Path2D;for(let o=0,u=a.length;o<u;)switch(a[o++]){case US.moveTo:s.moveTo(a[o++],a[o++]);break;case US.lineTo:s.lineTo(a[o++],a[o++]);break;case US.curveTo:s.bezierCurveTo(a[o++],a[o++],a[o++],a[o++],a[o++],a[o++]);break;case US.closePath:s.closePath();break;default:rt(`Unrecognized drawing path operator: ${a[o-1]}`);break}a=s}ke.axialAlignedBoundingBox(i,An(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var s;const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,vo(i),Wr.STROKE,e),o){const u=new Path2D;u.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=u}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(s=this.dependencyTracker)==null||s.recordDependencies(e,os.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Wr.STROKE,An(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,f,h;const i=this.ctx,a=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const g=a.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=a.getPattern(i,this,vo(i),Wr.FILL,e),g){const v=new Path2D;v.addPath(n,i.getTransform().invertSelf().multiplySelf(g)),n=v}o=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(f=this.dependencyTracker)==null||f.recordDependencies(e,os.fill),o&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,n,u)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,os.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=QAe}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=pH}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:s,x:o,y:u,fontSize:c,path:f}of n)f&&i.addPath(f,new DOMMatrix(s).preMultiplySelf(a).translate(o,u).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),a=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=i.fontMatrix||xM,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&rt("Invalid font matrix for font "+n),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((g=i.systemFontInfo)==null?void 0:g.css)||`"${s}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const c=i.italic?"italic":"normal";let f=r;r<oH?f=oH:r>lH&&(f=lH),this.current.fontSizeScale=r/f,this.ctx.font=`${c} ${u} ${f}px ${o}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,a,s){var C,P,R,I;const o=this.ctx,u=this.current,c=u.font,f=u.textRenderingMode,h=u.fontSize/u.fontSizeScale,g=f&Br.FILL_STROKE_MASK,v=!!(f&Br.ADD_TO_PATH_FLAG),w=u.patternFill&&!c.missingFile,E=u.patternStroke&&!c.missingFile;let A;if((c.disableFontFace||v||w||E)&&!c.missingFile&&(A=c.getPathGenerator(this.commonObjs,n)),A&&(c.disableFontFace||w||E)){o.save(),o.translate(r,i),o.scale(h,-h),(C=this.dependencyTracker)==null||C.recordCharacterBBox(e,o,c);let k;if(g===Br.FILL||g===Br.FILL_STROKE)if(a){k=o.getTransform(),o.setTransform(...a);const L=F(this,lo,JM).call(this,A,k,a);o.fill(L)}else o.fill(A);if(g===Br.STROKE||g===Br.FILL_STROKE)if(s){k||(k=o.getTransform()),o.setTransform(...s);const{a:L,b:M,c:z,d:B}=k,V=ke.inverseTransform(s),U=ke.transform([L,M,z,B,0,0],V);ke.singularValueDecompose2dScale(U,Ua),o.lineWidth*=Math.max(Ua[0],Ua[1])/h,o.stroke(F(this,lo,JM).call(this,A,k,s))}else o.lineWidth/=h,o.stroke(A);o.restore()}else(g===Br.FILL||g===Br.FILL_STROKE)&&(o.fillText(n,r,i),(P=this.dependencyTracker)==null||P.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n))),(g===Br.STROKE||g===Br.FILL_STROKE)&&(this.dependencyTracker&&((R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n)).recordDependencies(e,os.stroke)),o.strokeText(n,r,i));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:An(o),x:r,y:i,fontSize:h,path:A}),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return lt(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var z,B,V,U;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,os.showText).resetBBox(e),this.current.textRenderingMode&Br.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(z=this.dependencyTracker)==null||z.recordShowTextOperation(e);return}const a=r.fontSize;if(a===0){(B=this.dependencyTracker)==null||B.recordOperation(e);return}const s=this.ctx,o=r.fontSizeScale,u=r.charSpacing,c=r.wordSpacing,f=r.fontDirection,h=r.textHScale*f,g=n.length,v=i.vertical,w=v?1:-1,E=i.defaultVMetrics,A=a*r.fontMatrix[0],C=r.textRenderingMode===Br.FILL&&!i.disableFontFace&&!r.patternFill;s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),f>0?s.scale(h,-1):s.scale(h,1);let P,R;if(r.patternFill){s.save();const q=r.fillColor.getPattern(s,this,vo(s),Wr.FILL,e);P=An(s),s.restore(),s.fillStyle=q}if(r.patternStroke){s.save();const q=r.strokeColor.getPattern(s,this,vo(s),Wr.STROKE,e);R=An(s),s.restore(),s.strokeStyle=q}let I=r.lineWidth;const k=r.textMatrixScale;if(k===0||I===0){const q=r.textRenderingMode&Br.FILL_STROKE_MASK;(q===Br.STROKE||q===Br.FILL_STROKE)&&(I=this.getSinglePixelWidth())}else I/=k;if(o!==1&&(s.scale(o,o),I/=o),s.lineWidth=I,i.isInvalidPDFjsFont){const q=[];let Q=0;for(const ce of n)q.push(ce.unicode),Q+=ce.width;const Z=q.join("");if(s.fillText(Z,0,0),this.dependencyTracker!==null){const ce=s.measureText(Z);this.dependencyTracker.recordBBox(e,this.ctx,-ce.actualBoundingBoxLeft,ce.actualBoundingBoxRight,-ce.actualBoundingBoxAscent,ce.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=Q*A*h,s.restore(),this.compose();return}let L=0,M;for(M=0;M<g;++M){const q=n[M];if(typeof q=="number"){L+=w*q*a/1e3;continue}let Q=!1;const Z=(q.isSpace?c:0)+u,ce=q.fontChar,G=q.accent;let $,ee,re=q.width;if(v){const J=q.vmetric||E,le=-(q.vmetric?J[1]:re*.5)*A,ge=J[2]*A;re=J?-J[0]:re,$=le/o,ee=(L+ge)/o}else $=L/o,ee=0;let xe;if(i.remeasure&&re>0){xe=s.measureText(ce);const J=xe.width*1e3/a*o;if(re<J&&this.isFontSubpixelAAEnabled){const le=re/J;Q=!0,s.save(),s.scale(le,1),$/=le}else re!==J&&($+=(re-J)/2e3*a/o)}if(this.contentVisible&&(q.isInFont||i.missingFile)){if(C&&!G)s.fillText(ce,$,ee),(V=this.dependencyTracker)==null||V.recordCharacterBBox(e,s,xe?{bbox:null}:i,a/o,$,ee,()=>xe??s.measureText(ce));else if(this.paintChar(e,ce,$,ee,P,R),G){const J=$+a*G.offset.x/o,le=ee-a*G.offset.y/o;this.paintChar(e,G.fontChar,J,le,P,R)}}const W=v?re*A-Z*f:re*A+Z*f;L+=W,Q&&s.restore()}v?r.y-=L:r.x+=L*h,s.restore(),this.compose(),(U=this.dependencyTracker)==null||U.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,a=i.font,s=i.fontSize,o=i.fontDirection,u=a.vertical?1:-1,c=i.charSpacing,f=i.wordSpacing,h=i.textHScale*o,g=i.fontMatrix||xM,v=n.length,w=i.textRenderingMode===Br.INVISIBLE;let E,A,C,P;if(w||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const R=this.dependencyTracker;for(this.dependencyTracker=R?new zA(R,e):null,E=0;E<v;++E){if(A=n[E],typeof A=="number"){P=u*A*s/1e3,this.ctx.translate(P,0),i.x+=P*h;continue}const I=(A.isSpace?f:0)+c,k=a.charProcOperatorList[A.operatorListId];k?this.contentVisible&&(this.save(),r.scale(s,s),r.transform(...g),this.executeOperatorList(k),this.restore()):rt(`Type3 character "${A.operatorListId}" is not available.`);const L=[A.width,0];ke.applyTransform(L,g),C=L[0]*s+I,r.translate(C,0),i.x+=C*h}r.restore(),R&&(this.dependencyTracker=R)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,a,s,o){var c;const u=new Path2D;u.rect(i,a,s-i,o-a),this.ctx.clip(u),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,s,a,o).recordClipBox(e,this.ctx,i,s,a,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||An(this.ctx),a={createCanvasGraphics:(s,o)=>new NI(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new zA(this.dependencyTracker,o,!0):null)};r=new YM(n,this.ctx,a,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=$Ae(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var s;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,vo(r),Wr.SHADING,e);const a=vo(r);if(a){const{width:o,height:u}=r.canvas,c=om.slice();ke.axialAlignedBoundingBox([0,0,o,u],a,c);const[f,h,g,v]=c;this.ctx.fillRect(f,h,g-f,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(s=this.dependencyTracker)==null||s.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,os.transform).recordDependencies(e,os.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){an("Should not call beginInlineImage")}beginImageData(){an("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=An(this.ctx),r)){ke.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[a,s,o,u]=r,c=new Path2D;c.rect(a,s,o-a,u-s),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,a,o,s,u),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var R;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||S_("TODO: Support non-isolated groups."),n.knockout&&rt("Knockout groups not supported.");const i=An(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=om.slice();ke.axialAlignedBoundingBox(n.bbox,An(r),a);const s=[0,0,r.canvas.width,r.canvas.height];a=ke.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),u=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-o,1),f=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,c,f]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,c,f),v=g.context;v.translate(-o,-u),v.transform(...i);let w=new Path2D;const[E,A,C,P]=n.bbox;if(w.rect(E,A,C-E,P-A),n.matrix){const I=new Path2D;I.addPath(w,new DOMMatrix(n.matrix)),w=I}v.clip(w),n.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:u,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,u),r.save()),kv(r,v),this.ctx=v,(R=this.dependencyTracker)==null||R.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var a;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(a=this.dependencyTracker)==null||a.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=An(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=om.slice();ke.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,a,s){if(F(this,lo,KM).call(this),VS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],u=r[3]-r[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=u,ke.singularValueDecompose2dScale(An(this.ctx),Ua);const{viewportScale:c}=this,f=Math.ceil(o*this.outputScaleX*c),h=Math.ceil(u*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(n,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Ua[0],0,0,-Ua[1],0,u*Ua[1]),VS(this.ctx)}else{VS(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,u),this.ctx.clip(c)}}this.current=new cH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),F(this,lo,XM).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var o;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,a=this._createMaskCanvas(e,n),s=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,a.offsetX,a.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,a=0,s,o){var h,g,v;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const u=this.ctx;u.save();const c=An(u);u.transform(r,i,a,s,0,0);const f=this._createMaskCanvas(e,n);u.setTransform(1,0,0,1,f.offsetX-c[4],f.offsetY-c[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let w=0,E=o.length;w<E;w+=2){const A=ke.transform(c,[r,i,a,s,o[w],o[w+1]]);u.drawImage(f.canvas,A[4],A[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,A[4],A[4]+f.canvas.width,A[5],A[5]+f.canvas.height)}u.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var s,o,u;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;(s=this.dependencyTracker)==null||s.resetBBox(e).recordDependencies(e,os.transformAndFill);for(const c of n){const{data:f,width:h,height:g,transform:v}=c,w=this.cachedCanvases.getCanvas("maskCanvas",h,g),E=w.context;E.save();const A=this.getObject(e,f,c);fH(E,A),E.globalCompositeOperation="source-in",E.fillStyle=a?i.getPattern(E,this,vo(r),Wr.FILL,e):i,E.fillRect(0,0,h,g),E.restore(),r.save(),r.transform(...v),r.scale(1,-1),$S(r,w.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,h,0,g),r.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){rt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,a){if(!this.contentVisible)return;const s=this.getObject(e,n);if(!s){rt("Dependent image isn't ready yet");return}const o=s.width,u=s.height,c=[];for(let f=0,h=a.length;f<h;f+=2)c.push({transform:[r,0,0,i,a[f],a[f+1]],x:0,y:0,w:o,h:u});this.paintInlineImageXObjectGroup(e,s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,a=this.ctx;this.save(e);const{filter:s}=a;s!=="none"&&s!==""&&(a.filter="none"),a.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;dH(h,n),o=this.applyTransferMapsToCanvas(h)}const u=this._scaleImage(o,vo(a));a.imageSmoothingEnabled=hH(An(a),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,a,0,r,-i,0).recordDependencies(e,os.imageXObject).recordOperation(e),$S(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var s,o,u;if(!this.contentVisible)return;const i=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const c=n.width,f=n.height,g=this.cachedCanvases.getCanvas("inlineImage",c,f).context;dH(g,n),a=this.applyTransferMapsToCanvas(g)}(s=this.dependencyTracker)==null||s.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),$S(i,a,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(u=this.dependencyTracker)==null||u.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,os.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var s,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===pH?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,(s=this.dependencyTracker)==null||s.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=An(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,o;if(r===0&&i===0){const u=Math.abs(n),c=Math.abs(a);if(u===c)if(e===0)s=o=1/u;else{const f=u*e;s=o=f<1?1/f:1}else if(e===0)s=1/u,o=1/c;else{const f=u*e,h=c*e;s=f<1?1/f:1,o=h<1?1/h:1}}else{const u=Math.abs(n*a-r*i),c=Math.hypot(n,r),f=Math.hypot(i,a);if(e===0)s=f/u,o=c/u;else{const h=e*u;s=f>h?f/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s){r.lineWidth=(i||1)*a,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(a,s),$R.a=1/a,$R.d=1/s;const u=new Path2D;if(u.addPath(e,$R),o.length>0){const c=Math.max(a,s);r.setLineDash(o.map(f=>f/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(u),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};lo=new WeakSet,KM=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},XM=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},JM=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let xm=NI;for(const t in iy)xm.prototype[t]!==void 0&&(xm.prototype[iy[t]]=xm.prototype[t]);var Xm,Jm,vb,Qm,mE;const um=class um{constructor(e){j(this,Qm);j(this,Xm);j(this,Jm);j(this,vb);D(this,Xm,e),D(this,Jm,new DataView(m(this,Xm))),D(this,vb,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of um.strings){const f=n.encode(e[c]);r[c]=f,i+=4+f.length}const a=new ArrayBuffer(i),s=new Uint8Array(a),o=new DataView(a);let u=0;for(const c of um.strings){const f=r[c],h=f.length;o.setUint32(u,h),s.set(f,u+4),u+=4+h}return wt(u===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return F(this,Qm,mE).call(this,0)}get fontWeight(){return F(this,Qm,mE).call(this,1)}get italicAngle(){return F(this,Qm,mE).call(this,2)}};Xm=new WeakMap,Jm=new WeakMap,vb=new WeakMap,Qm=new WeakSet,mE=function(e){wt(e<um.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=m(this,Jm).getUint32(n)+4;const r=m(this,Jm).getUint32(n);return m(this,vb).decode(new Uint8Array(m(this,Xm),n+4,r))},be(um,"strings",["fontFamily","fontWeight","italicAngle"]);let HA=um;var qc,Do,Xf,Jf,Jv;const cm=class cm{constructor(e){j(this,Jf);j(this,qc);j(this,Do);j(this,Xf);D(this,qc,e),D(this,Do,new DataView(m(this,qc))),D(this,Xf,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const g of cm.strings){const v=n.encode(e[g]);r[g]=v,i+=4+v.length}i+=4;let a,s,o=1+i;e.style&&(a=n.encode(e.style.style),s=n.encode(e.style.weight),o+=4+a.length+4+s.length);const u=new ArrayBuffer(o),c=new Uint8Array(u),f=new DataView(u);let h=0;f.setUint8(h++,e.guessFallback?1:0),f.setUint32(h,0),h+=4,i=0;for(const g of cm.strings){const v=r[g],w=v.length;i+=4+w,f.setUint32(h,w),c.set(v,h+4),h+=4+w}return f.setUint32(h-i-4,i),e.style&&(f.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length,f.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length),wt(h<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(h)}get guessFallback(){return m(this,Do).getUint8(0)!==0}get css(){return F(this,Jf,Jv).call(this,0)}get loadedName(){return F(this,Jf,Jv).call(this,1)}get baseFontName(){return F(this,Jf,Jv).call(this,2)}get src(){return F(this,Jf,Jv).call(this,3)}get style(){let e=1;e+=4+m(this,Do).getUint32(e);const n=m(this,Do).getUint32(e),r=m(this,Xf).decode(new Uint8Array(m(this,qc),e+4,n));e+=4+n;const i=m(this,Do).getUint32(e),a=m(this,Xf).decode(new Uint8Array(m(this,qc),e+4,i));return{style:r,weight:a}}};qc=new WeakMap,Do=new WeakMap,Xf=new WeakMap,Jf=new WeakSet,Jv=function(e){wt(e<cm.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=m(this,Do).getUint32(n)+4;const r=m(this,Do).getUint32(n);return m(this,Xf).decode(new Uint8Array(m(this,qc),n+4,r))},be(cm,"strings",["css","loadedName","baseFontName","src"]);let GA=cm;var Zm,eg,tg,ng,Ea,Io,bb,Wt,On,Us,gE,Qv;const st=class st{constructor({data:e,extra:n}){j(this,On);j(this,Io);j(this,bb);j(this,Wt);D(this,Io,e),D(this,bb,new TextDecoder),D(this,Wt,new DataView(m(this,Io))),n&&Object.assign(this,n)}get black(){return F(this,On,Us).call(this,0)}get bold(){return F(this,On,Us).call(this,1)}get disableFontFace(){return F(this,On,Us).call(this,2)}get fontExtraProperties(){return F(this,On,Us).call(this,3)}get isInvalidPDFjsFont(){return F(this,On,Us).call(this,4)}get isType3Font(){return F(this,On,Us).call(this,5)}get italic(){return F(this,On,Us).call(this,6)}get missingFile(){return F(this,On,Us).call(this,7)}get remeasure(){return F(this,On,Us).call(this,8)}get vertical(){return F(this,On,Us).call(this,9)}get ascent(){return F(this,On,gE).call(this,0)}get defaultWidth(){return F(this,On,gE).call(this,1)}get descent(){return F(this,On,gE).call(this,2)}get bbox(){let e=m(st,eg);if(m(this,Wt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(m(this,Wt).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=m(st,tg);if(m(this,Wt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(m(this,Wt).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=m(st,ng);if(m(this,Wt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(m(this,Wt).getInt16(e,!0)),e+=2;return r}get fallbackName(){return F(this,On,Qv).call(this,0)}get loadedName(){return F(this,On,Qv).call(this,1)}get mimetype(){return F(this,On,Qv).call(this,2)}get name(){return F(this,On,Qv).call(this,3)}get data(){let e=m(st,Ea);const n=m(this,Wt).getUint32(e);e+=4+n;const r=m(this,Wt).getUint32(e);e+=4+r;const i=m(this,Wt).getUint32(e);e+=4+i;const a=m(this,Wt).getUint32(e);if(a!==0)return new Uint8Array(m(this,Io),e+4,a)}clearData(){let e=m(st,Ea);const n=m(this,Wt).getUint32(e);e+=4+n;const r=m(this,Wt).getUint32(e);e+=4+r;const i=m(this,Wt).getUint32(e);e+=4+i;const a=m(this,Wt).getUint32(e);new Uint8Array(m(this,Io),e+4,a).fill(0),m(this,Wt).setUint32(e,0)}get cssFontInfo(){let e=m(st,Ea);const n=m(this,Wt).getUint32(e);e+=4+n;const r=m(this,Wt).getUint32(e);e+=4+r;const i=m(this,Wt).getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(m(this,Io),e+4,i)),new HA(a.buffer)}get systemFontInfo(){let e=m(st,Ea);const n=m(this,Wt).getUint32(e);e+=4+n;const r=m(this,Wt).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(m(this,Io),e+4,r)),new GA(i.buffer)}static write(e){const n=e.systemFontInfo?GA.write(e.systemFontInfo):null,r=e.cssFontInfo?HA.write(e.cssFontInfo):null,i=new TextEncoder,a={};let s=0;for(const E of st.strings)a[E]=i.encode(e[E]),s+=4+a[E].length;const o=m(st,Ea)+4+s+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(o),c=new Uint8Array(u),f=new DataView(u);let h=0;const g=st.bools.length;let v=0,w=0;for(let E=0;E<g;E++){const A=e[st.bools[E]];v|=(A===void 0?0:A?2:1)<<w,w+=2,(w===8||E===g-1)&&(f.setUint8(h++,v),v=0,w=0)}wt(h===m(st,Zm),"FontInfo.write: Boolean properties offset mismatch");for(const E of st.numbers)f.setFloat64(h,e[E]),h+=8;if(wt(h===m(st,eg),"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(h++,4);for(const E of e.bbox)f.setInt16(h,E,!0),h+=2}else f.setUint8(h++,0),h+=8;if(wt(h===m(st,tg),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(h++,6);for(const E of e.fontMatrix)f.setFloat64(h,E,!0),h+=8}else f.setUint8(h++,0),h+=48;if(wt(h===m(st,ng),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(h++,1);for(const E of e.defaultVMetrics)f.setInt16(h,E,!0),h+=2}else f.setUint8(h++,0),h+=6;wt(h===m(st,Ea),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(m(st,Ea),0),h+=4;for(const E of st.strings){const A=a[E],C=A.length;f.setUint32(h,C),c.set(A,h+4),h+=4+C}if(f.setUint32(m(st,Ea),h-m(st,Ea)-4),!n)f.setUint32(h,0),h+=4;else{const E=n.byteLength;f.setUint32(h,E),wt(h+4+E<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+E}if(!r)f.setUint32(h,0),h+=4;else{const E=r.byteLength;f.setUint32(h,E),wt(h+4+E<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+E}return e.data===void 0?(f.setUint32(h,0),h+=4):(f.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),wt(h<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(h)}};Zm=new WeakMap,eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,Ea=new WeakMap,Io=new WeakMap,bb=new WeakMap,Wt=new WeakMap,On=new WeakSet,Us=function(e){wt(e<st.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=m(this,Wt).getUint8(n)>>r&3;return i===0?void 0:i===2},gE=function(e){return wt(e<st.numbers.length,"Invalid number index"),m(this,Wt).getFloat64(m(st,Zm)+e*8)},Qv=function(e){wt(e<st.strings.length,"Invalid string index");let n=m(st,Ea)+4;for(let a=0;a<e;a++)n+=m(this,Wt).getUint32(n)+4;const r=m(this,Wt).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(m(this,Io),n+4,r)),m(this,bb).decode(i)},be(st,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),be(st,"numbers",["ascent","defaultWidth","descent"]),be(st,"strings",["fallbackName","loadedName","mimetype","name"]),j(st,Zm,Math.ceil(st.bools.length*2/8)),j(st,eg,m(st,Zm)+st.numbers.length*8),j(st,tg,m(st,eg)+1+8),j(st,ng,m(st,tg)+1+48),j(st,Ea,m(st,ng)+1+6);let QM=st;var xb,wb;class Ss{static get workerPort(){return m(this,xb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");D(this,xb,e)}static get workerSrc(){return m(this,wb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");D(this,wb,e)}}xb=new WeakMap,wb=new WeakMap,j(Ss,xb,null),j(Ss,wb,"");var rg,Sb;class ZAe{constructor({parsedData:e,rawData:n}){j(this,rg);j(this,Sb);D(this,rg,e),D(this,Sb,n)}getRaw(){return m(this,Sb)}get(e){return m(this,rg).get(e)??null}[Symbol.iterator](){return m(this,rg).entries()}}rg=new WeakMap,Sb=new WeakMap;const Zp=Symbol("INTERNAL");var Eb,Ab,_b,ig;class e1e{constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){j(this,Eb,!1);j(this,Ab,!1);j(this,_b,!1);j(this,ig,!0);D(this,Eb,!!(e&ja.DISPLAY)),D(this,Ab,!!(e&ja.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(m(this,_b))return m(this,ig);if(!m(this,ig))return!1;const{print:e,view:n}=this.usage;return m(this,Eb)?(n==null?void 0:n.viewState)!=="OFF":m(this,Ab)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Zp&&an("Internal method `_setVisible` called."),D(this,_b,r),D(this,ig,n)}}Eb=new WeakMap,Ab=new WeakMap,_b=new WeakMap,ig=new WeakMap;var $c,Yt,ag,sg,Cb,ZM;class t1e{constructor(e,n=ja.DISPLAY){j(this,Cb);j(this,$c,null);j(this,Yt,new Map);j(this,ag,null);j(this,sg,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,D(this,sg,e.order);for(const r of e.groups)m(this,Yt).set(r.id,new e1e(n,r));if(e.baseState==="OFF")for(const r of m(this,Yt).values())r._setVisible(Zp,!1);for(const r of e.on)m(this,Yt).get(r)._setVisible(Zp,!0);for(const r of e.off)m(this,Yt).get(r)._setVisible(Zp,!1);D(this,ag,this.getHash())}}isVisible(e){if(m(this,Yt).size===0)return!0;if(!e)return S_("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,Yt).has(e.id)?m(this,Yt).get(e.id).visible:(rt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return F(this,Cb,ZM).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!m(this,Yt).has(n))return rt(`Optional content group not found: ${n}`),!0;if(m(this,Yt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!m(this,Yt).has(n))return rt(`Optional content group not found: ${n}`),!0;if(!m(this,Yt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!m(this,Yt).has(n))return rt(`Optional content group not found: ${n}`),!0;if(!m(this,Yt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!m(this,Yt).has(n))return rt(`Optional content group not found: ${n}`),!0;if(m(this,Yt).get(n).visible)return!1}return!0}return rt(`Unknown optional content policy ${e.policy}.`),!0}return rt(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var a;const i=m(this,Yt).get(e);if(!i){rt(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=m(this,Yt).get(o))==null||a._setVisible(Zp,!1,!0));i._setVisible(Zp,!!n,!0),D(this,$c,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=m(this,Yt).get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}D(this,$c,null)}get hasInitialVisibility(){return m(this,ag)===null||this.getHash()===m(this,ag)}getOrder(){return m(this,Yt).size?m(this,sg)?m(this,sg).slice():[...m(this,Yt).keys()]:null}getGroup(e){return m(this,Yt).get(e)||null}getHash(){if(m(this,$c)!==null)return m(this,$c);const e=new c7;for(const[n,r]of m(this,Yt))e.update(`${n}:${r.visible}`);return D(this,$c,e.hexdigest())}[Symbol.iterator](){return m(this,Yt).entries()}}$c=new WeakMap,Yt=new WeakMap,ag=new WeakMap,sg=new WeakMap,Cb=new WeakSet,ZM=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=F(this,Cb,ZM).call(this,a);else if(m(this,Yt).has(a))s=m(this,Yt).get(a).visible;else return rt(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class n1e{constructor(e,{disableRange:n=!1,disableStream:r=!1}){wt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,c)=>{this._onReceiveData({begin:u,chunk:c})}),e.addProgressListener((u,c)=>{this._onProgress({loaded:u,total:c})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});wt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,a;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){wt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new r1e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new i1e(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class r1e{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=A_(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class i1e{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function a1e(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let f=o(n);return f=unescape(f),f=u(f),f=c(f),a(f)}if(n=s(t),n){const f=c(n);return a(f)}if(n=r("filename","i").exec(t),n){n=n[1];let f=o(n);return f=c(f),a(f)}function r(f,h){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(f,h){if(f){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(f,{fatal:!0}),v=Xx(h);h=g.decode(v),e=!1}catch{}}return h}function a(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function s(f){const h=[];let g;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(f))!==null;){let[,E,A,C]=g;if(E=parseInt(E,10),E in h){if(E===0)break;continue}h[E]=[A,C]}const w=[];for(let E=0;E<h.length&&E in h;++E){let[A,C]=h[E];C=o(C),A&&(C=unescape(C),E===0&&(C=u(C))),w.push(C)}return w.join("")}function o(f){if(f.startsWith('"')){const h=f.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}f=h.join('"')}return f}function u(f){const h=f.indexOf("'");if(h===-1)return f;const g=f.slice(0,h),w=f.slice(h+1).replace(/^[^']*'/,"");return i(g,w)}function c(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,w){if(v==="q"||v==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,A){return String.fromCharCode(parseInt(A,16))}),i(g,w);try{w=atob(w)}catch{}return i(g,w)})}return""}function E7(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function __(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function A7({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function _7(t){const e=t.get("Content-Disposition");if(e){let n=a1e(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(A_(n))return n}return null}function ew(t,e){return new I0(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function C7(t){return t===200||t===206}function T7(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function N7(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(rt(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class s1e{constructor(e){be(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=E7(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return wt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o1e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new l1e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class o1e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,T7(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=__(a.url),!C7(a.status))throw ew(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:u}=A7({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=u||this._contentLength,this._filename=_7(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Pu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:N7(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class l1e{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,T7(a,this._withCredentials,this._abortController)).then(o=>{const u=__(o.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!C7(o.status))throw ew(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:N7(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const VR=200,WR=206;function u1e(t){const e=t.response;return typeof e!="string"?e:Xx(e).buffer}class c1e{constructor({url:e,httpHeaders:n,withCredentials:r}){be(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=E7(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=WR):i.expectedStatus=VR,n.responseType="arraybuffer",wt(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||VR;if(!(a===VR&&r.expectedStatus===WR)&&a!==r.expectedStatus){r.onError(i.status);return}const o=u1e(i);if(a===WR){const u=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(rt('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class d1e{constructor(e){this._source=e,this._manager=new c1e(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return wt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new f1e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new h1e(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class f1e{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=__(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[u,...c]=o.split(": ");return[u,c.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=A7({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=_7(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ew(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class h1e{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=__((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=ew(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const p1e=/^[a-z][a-z0-9\-+.]+:/i;function m1e(t){if(p1e.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class g1e{constructor(e){this.source=e,this.url=m1e(e.url),wt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return wt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new y1e(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new v1e(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class y1e{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=ew(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Pu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class v1e{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Dv=Symbol("INITIAL_DATA");var Aa,Tb,eP;class R7{constructor(){j(this,Tb);j(this,Aa,Object.create(null))}get(e,n=null){if(n){const i=F(this,Tb,eP).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=m(this,Aa)[e];if(!r||r.data===Dv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=m(this,Aa)[e];return!!n&&n.data!==Dv}delete(e){const n=m(this,Aa)[e];return!n||n.data===Dv?!1:(delete m(this,Aa)[e],!0)}resolve(e,n=null){const r=F(this,Tb,eP).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in m(this,Aa)){const{data:r}=m(this,Aa)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}D(this,Aa,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Aa)){const{data:n}=m(this,Aa)[e];n!==Dv&&(yield[e,n])}}}Aa=new WeakMap,Tb=new WeakSet,eP=function(e){var n;return(n=m(this,Aa))[e]||(n[e]={...Promise.withResolvers(),data:Dv})};const b1e=1e5,mH=30;var RH,Vc,Xi,Nb,Rb,Qf,Kl,Mb,Pb,Zf,og,lg,Wc,ug,kb,cg,eh,Db,Ib,Ln,dg,th,Lb,Yc,fg,Iu,M7,P7,tP,qa,yE,nP,k7,D7;let F0=(Ln=class{constructor({textContentSource:e,container:n,viewport:r}){j(this,Iu);j(this,Vc,Promise.withResolvers());j(this,Xi,null);j(this,Nb,!1);j(this,Rb,!!((RH=globalThis.FontInspector)!=null&&RH.enabled));j(this,Qf,null);j(this,Kl,null);j(this,Mb,0);j(this,Pb,0);j(this,Zf,null);j(this,og,null);j(this,lg,0);j(this,Wc,0);j(this,ug,Object.create(null));j(this,kb,[]);j(this,cg,null);j(this,eh,[]);j(this,Db,new WeakMap);j(this,Ib,null);var u;if(e instanceof ReadableStream)D(this,cg,e);else if(typeof e=="object")D(this,cg,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');D(this,Xi,D(this,og,n)),D(this,Wc,r.scale*oo.pixelRatio),D(this,lg,r.rotation),D(this,Kl,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;D(this,Ib,[1,0,0,-1,-s,o+a]),D(this,Pb,i),D(this,Mb,a),F(u=Ln,qa,k7).call(u),Td(n,r),m(this,Vc).promise.finally(()=>{m(Ln,fg).delete(this),D(this,Kl,null),D(this,ug,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Pr.platform;return lt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,Zf).read().then(({value:n,done:r})=>{if(r){m(this,Vc).resolve();return}m(this,Qf)??D(this,Qf,n.lang),Object.assign(m(this,ug),n.styles),F(this,Iu,M7).call(this,n.items),e()},m(this,Vc).reject)};return D(this,Zf,m(this,cg).getReader()),m(Ln,fg).add(this),e(),m(this,Vc).promise}update({viewport:e,onBefore:n=null}){var a;const r=e.scale*oo.pixelRatio,i=e.rotation;if(i!==m(this,lg)&&(n==null||n(),D(this,lg,i),Td(m(this,og),{rotation:i})),r!==m(this,Wc)){n==null||n(),D(this,Wc,r);const s={div:null,properties:null,ctx:F(a=Ln,qa,yE).call(a,m(this,Qf))};for(const o of m(this,eh))s.properties=m(this,Db).get(o),s.div=o,F(this,Iu,tP).call(this,s)}}cancel(){var n;const e=new Pu("TextLayer task cancelled.");(n=m(this,Zf))==null||n.cancel(e).catch(()=>{}),D(this,Zf,null),m(this,Vc).reject(e)}get textDivs(){return m(this,eh)}get textContentItemsStr(){return m(this,kb)}static cleanup(){if(!(m(this,fg).size>0)){m(this,dg).clear();for(const{canvas:e}of m(this,th).values())e.remove();m(this,th).clear()}}},Vc=new WeakMap,Xi=new WeakMap,Nb=new WeakMap,Rb=new WeakMap,Qf=new WeakMap,Kl=new WeakMap,Mb=new WeakMap,Pb=new WeakMap,Zf=new WeakMap,og=new WeakMap,lg=new WeakMap,Wc=new WeakMap,ug=new WeakMap,kb=new WeakMap,cg=new WeakMap,eh=new WeakMap,Db=new WeakMap,Ib=new WeakMap,dg=new WeakMap,th=new WeakMap,Lb=new WeakMap,Yc=new WeakMap,fg=new WeakMap,Iu=new WeakSet,M7=function(e){var i,a;if(m(this,Nb))return;(a=m(this,Kl)).ctx??(a.ctx=F(i=Ln,qa,yE).call(i,m(this,Qf)));const n=m(this,eh),r=m(this,kb);for(const s of e){if(n.length>b1e){rt("Ignoring additional textDivs for performance reasons."),D(this,Nb,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=m(this,Xi);D(this,Xi,document.createElement("span")),m(this,Xi).classList.add("markedContent"),s.id&&m(this,Xi).setAttribute("id",`${s.id}`),o.append(m(this,Xi))}else s.type==="endMarkedContent"&&D(this,Xi,m(this,Xi).parentNode);continue}r.push(s.str),F(this,Iu,P7).call(this,s)}},P7=function(e){var E;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,eh).push(n);const i=ke.transform(m(this,Ib),e.transform);let a=Math.atan2(i[1],i[0]);const s=m(this,ug)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=m(this,Rb)&&s.fontSubstitution||s.fontFamily;o=Ln.fontFamilyMap.get(o)||o;const u=Math.hypot(i[2],i[3]),c=u*F(E=Ln,qa,D7).call(E,o,s,m(this,Qf));let f,h;a===0?(f=i[4],h=i[5]-c):(f=i[4]+c*Math.sin(a),h=i[5]-c*Math.cos(a));const g="calc(var(--total-scale-factor) *",v=n.style;m(this,Xi)===m(this,og)?(v.left=`${(100*f/m(this,Pb)).toFixed(2)}%`,v.top=`${(100*h/m(this,Mb)).toFixed(2)}%`):(v.left=`${g}${f.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(m(Ln,Yc)*u).toFixed(2)}px)`,v.fontFamily=o,r.fontSize=u,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,m(this,Rb)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);A!==C&&Math.max(A,C)/Math.min(A,C)>1.5&&(w=!0)}if(w&&(r.canvasWidth=s.vertical?e.height:e.width),m(this,Db).set(n,r),m(this,Kl).div=n,m(this,Kl).properties=r,F(this,Iu,tP).call(this,m(this,Kl)),r.hasText&&m(this,Xi).append(n),r.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),m(this,Xi).append(A)}},tP=function(e){var o;const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(m(Ln,Yc)>1&&(s=`scale(${1/m(Ln,Yc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:c,fontSize:f}=r;F(o=Ln,qa,nP).call(o,i,f*m(this,Wc),u);const{width:h}=i.measureText(n.textContent);h>0&&(s=`scaleX(${c*m(this,Wc)/h}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)},qa=new WeakSet,yE=function(e=null){let n=m(this,th).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,th).set(e,n),m(this,Lb).set(n,{size:0,family:""})}return n},nP=function(e,n,r){const i=m(this,Lb).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},k7=function(){if(m(this,Yc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),D(this,Yc,e.getBoundingClientRect().height),e.remove()},D7=function(e,n,r){const i=m(this,dg).get(e);if(i)return i;const a=F(this,qa,yE).call(this,r);a.canvas.width=a.canvas.height=mH,F(this,qa,nP).call(this,a,mH,e);const s=a.measureText(""),o=s.fontBoundingBoxAscent,u=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let c=.8;return o?c=o/(o+u):(Pr.platform.isFirefox&&rt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),m(this,dg).set(e,c),c},j(Ln,qa),j(Ln,dg,new Map),j(Ln,th,new Map),j(Ln,Lb,new WeakMap),j(Ln,Yc,null),j(Ln,fg,new Set),Ln);const x1e=100;function vI(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new rP,{docId:n}=e,r=t.url?NAe(t.url):null,i=t.data?RAe(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,u=t.range instanceof bI?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let f=t.worker instanceof ay?t.worker:null;const h=t.verbosity,g=typeof t.docBaseUrl=="string"&&!Qx(t.docBaseUrl)?t.docBaseUrl:null,v=zS(t.cMapUrl),w=t.cMapPacked!==!1,E=t.CMapReaderFactory||(Ni?OAe:tH),A=zS(t.iccUrl),C=zS(t.standardFontDataUrl),P=t.StandardFontDataFactory||(Ni?jAe:nH),R=zS(t.wasmUrl),I=t.WasmFactory||(Ni?FAe:rH),k=t.stopAtErrors!==!0,L=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,M=t.isEvalSupported!==!1,z=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Ni,B=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Ni&&(Pr.platform.isFirefox||!globalThis.chrome),V=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,U=typeof t.disableFontFace=="boolean"?t.disableFontFace:Ni,q=t.fontExtraProperties===!0,Q=t.enableXfa===!0,Z=t.ownerDocument||globalThis.document,ce=t.disableRange===!0,G=t.disableStream===!0,$=t.disableAutoFetch===!0,ee=t.pdfBug===!0,re=t.CanvasFactory||(Ni?LAe:kAe),xe=t.FilterFactory||(Ni?IAe:DAe),W=t.enableHWA===!0,J=t.useWasm!==!1,le=u?u.length:t.length??NaN,ge=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Ni&&!U,we=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(E===tH&&P===nH&&I===rH&&v&&C&&R&&Bv(v,document.baseURI)&&Bv(C,document.baseURI)&&Bv(R,document.baseURI)),Te=null;uAe(h);const Ae={canvasFactory:new re({ownerDocument:Z,enableHWA:W}),filterFactory:new xe({docId:n,ownerDocument:Z}),cMapReaderFactory:we?null:new E({baseUrl:v,isCompressed:w}),standardFontDataFactory:we?null:new P({baseUrl:C}),wasmFactory:we?null:new I({baseUrl:R})};f||(f=ay.create({verbosity:h,port:Ss.workerPort}),e._worker=f);const mt={docId:n,apiVersion:"5.4.296",data:i,password:o,disableAutoFetch:$,rangeChunkSize:c,length:le,docBaseUrl:g,enableXfa:Q,evaluatorOptions:{maxImageSize:L,disableFontFace:U,ignoreErrors:k,isEvalSupported:M,isOffscreenCanvasSupported:z,isImageDecoderSupported:B,canvasMaxAreaInBytes:V,fontExtraProperties:q,useSystemFonts:ge,useWasm:J,useWorkerFetch:we,cMapUrl:v,iccUrl:A,standardFontDataUrl:C,wasmUrl:R}},de={ownerDocument:Z,pdfBug:ee,styleElement:Te,loadingParams:{disableAutoFetch:$,enableXfa:Q}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ne=f.messageHandler.sendWithPromise("GetDocRequest",mt,i?[i.buffer]:null);let Ke;if(u)Ke=new n1e(u,{disableRange:ce,disableStream:G});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const pe=Bv(r)?s1e:Ni?g1e:d1e;Ke=new pe({url:r,length:le,httpHeaders:a,withCredentials:s,rangeChunkSize:c,disableRange:ce,disableStream:G})}return Ne.then(pe=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ve=new Vv(n,pe,f.port),je=new E1e(Ve,e,Ke,de,Ae,W);e._transport=je,Ve.send("Ready",null)})}).catch(e._capability.reject),e}var a1;const s1=class s1{constructor(){be(this,"_capability",Promise.withResolvers());be(this,"_transport",null);be(this,"_worker",null);be(this,"docId",`d${ar(s1,a1)._++}`);be(this,"destroyed",!1);be(this,"onPassword",null);be(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(a){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,a}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};a1=new WeakMap,j(s1,a1,0);let rP=s1;var nh,Ob,jb,Fb,Ub,MH;let bI=(MH=class{constructor(e,n,r=!1,i=null){j(this,nh,Promise.withResolvers());j(this,Ob,[]);j(this,jb,[]);j(this,Fb,[]);j(this,Ub,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){m(this,Ub).push(e)}addProgressListener(e){m(this,Fb).push(e)}addProgressiveReadListener(e){m(this,jb).push(e)}addProgressiveDoneListener(e){m(this,Ob).push(e)}onDataRange(e,n){for(const r of m(this,Ub))r(e,n)}onDataProgress(e,n){m(this,nh).promise.then(()=>{for(const r of m(this,Fb))r(e,n)})}onDataProgressiveRead(e){m(this,nh).promise.then(()=>{for(const n of m(this,jb))n(e)})}onDataProgressiveDone(){m(this,nh).promise.then(()=>{for(const e of m(this,Ob))e()})}transportReady(){m(this,nh).resolve()}requestDataRange(e,n){an("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},nh=new WeakMap,Ob=new WeakMap,jb=new WeakMap,Fb=new WeakMap,Ub=new WeakMap,MH);class w1e{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return lt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Xl,rh,Zv;class S1e{constructor(e,n,r,i=!1){j(this,rh);j(this,Xl,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new Yz:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new R7,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new Jx({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return lt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:a=Vo.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:u=null,annotationCanvasMap:c=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:w=null}){var B,V,U;(B=this._stats)==null||B.time("Overall");const E=this._transport.getRenderingIntent(i,a,h,g),{renderingIntent:A,cacheKey:C}=E;D(this,Xl,!1),u||(u=this._transport.getOptionalContentConfig(A));let P=this._intentStates.get(C);P||(P=Object.create(null),this._intentStates.set(C,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);const R=!!(A&ja.PRINT);P.displayReadyCapability||(P.displayReadyCapability=Promise.withResolvers(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(V=this._stats)==null||V.time("Page Request"),this._pumpOperatorList(E));const I=!!(this._pdfBug&&((U=globalThis.StepperManager)!=null&&U.enabled)),k=!this.recordedBBoxes&&(v||I),L=q=>{var Q,Z;if(P.renderTasks.delete(M),k){const ce=(Q=M.gfx)==null?void 0:Q.dependencyTracker.take();ce&&(M.stepper&&M.stepper.setOperatorBBoxes(ce,M.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=ce))}R&&D(this,Xl,!0),F(this,rh,Zv).call(this),q?(M.capability.reject(q),this._abortOperatorList({intentState:P,reason:q instanceof Error?q:new Error(q)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Z=globalThis.Stats)!=null&&Z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new iP({callback:L,params:{canvas:n,canvasContext:e,dependencyTracker:k?new BAe(n,P.operatorList.length,I):null,viewport:r,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:w});(P.renderTasks||(P.renderTasks=new Set)).add(M);const z=M.task;return Promise.all([P.displayReadyCapability.promise,u]).then(([q,Q])=>{var Z;if(this.destroyed){L();return}if((Z=this._stats)==null||Z.time("Rendering"),!(Q.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:q,optionalContentConfig:Q}),M.operatorListChanged()}).catch(L),z}getOperatorList({intent:e="display",annotationMode:n=Vo.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(u))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let u;return o.opListReadCapability||(u=Object.create(null),u.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(u),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>L0.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:u,done:c}){if(c){r(o);return}o.lang??(o.lang=u.lang),Object.assign(o.styles,u.styles),o.items.push(...u.items),a()},i)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),D(this,Xl,!1),Promise.all(e)}cleanup(e=!1){D(this,Xl,!0);const n=F(this,rh,Zv).call(this);return e&&n&&this._stats&&(this._stats=new Yz),n}_startRenderPage(e,n){var i,a;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=r.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&F(this,rh,Zv).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),c=this._intentStates.get(n);c.streamReader=u;const f=()=>{u.read().then(({value:h,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),f())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const g of c.renderTasks)g.operatorListChanged();F(this,rh,Zv).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};f()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof E_){let i=x1e;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Pu(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Xl=new WeakMap,rh=new WeakSet,Zv=function(){if(!m(this,Xl)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),D(this,Xl,!1),!0};var Kc,Vs,Jl,ih,o1,ah,sh,Pi,vE,I7,L7,e0,hg,bE;const gn=class gn{constructor({name:e=null,port:n=null,verbosity:r=cAe()}={}){j(this,Pi);j(this,Kc,Promise.withResolvers());j(this,Vs,null);j(this,Jl,null);j(this,ih,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(m(gn,sh).has(n))throw new Error("Cannot use more than one PDFWorker per port.");m(gn,sh).set(n,this),F(this,Pi,I7).call(this,n)}else F(this,Pi,L7).call(this)}get promise(){return m(this,Kc).promise}get port(){return m(this,Jl)}get messageHandler(){return m(this,Vs)}destroy(){var e,n;this.destroyed=!0,(e=m(this,ih))==null||e.terminate(),D(this,ih,null),m(gn,sh).delete(m(this,Jl)),D(this,Jl,null),(n=m(this,Vs))==null||n.destroy(),D(this,Vs,null)}static create(e){const n=m(this,sh).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new gn(e)}static get workerSrc(){if(Ss.workerSrc)return Ss.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return lt(this,"_setupFakeWorkerGlobal",(async()=>m(this,hg,bE)?m(this,hg,bE):(await import(this.workerSrc)).WorkerMessageHandler)())}};Kc=new WeakMap,Vs=new WeakMap,Jl=new WeakMap,ih=new WeakMap,o1=new WeakMap,ah=new WeakMap,sh=new WeakMap,Pi=new WeakSet,vE=function(){m(this,Kc).resolve(),m(this,Vs).send("configure",{verbosity:this.verbosity})},I7=function(e){D(this,Jl,e),D(this,Vs,new Vv("main","worker",e)),m(this,Vs).on("ready",()=>{}),F(this,Pi,vE).call(this)},L7=function(){if(m(gn,ah)||m(gn,hg,bE)){F(this,Pi,e0).call(this);return}let{workerSrc:e}=gn;try{gn._isSameOrigin(window.location,e)||(e=gn._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Vv("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?m(this,Kc).reject(new Error("Worker was destroyed")):F(this,Pi,e0).call(this)},a=new AbortController;n.addEventListener("error",()=>{m(this,ih)||i()},{signal:a.signal}),r.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}D(this,Vs,r),D(this,Jl,n),D(this,ih,n),F(this,Pi,vE).call(this)}),r.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{F(this,Pi,e0).call(this)}});const s=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{S_("The worker has been disabled.")}F(this,Pi,e0).call(this)},e0=function(){m(gn,ah)||(rt("Setting up fake worker."),D(gn,ah,!0)),gn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){m(this,Kc).reject(new Error("Worker was destroyed"));return}const n=new PAe;D(this,Jl,n);const r=`fake${ar(gn,o1)._++}`,i=new Vv(r+"_worker",r,n);e.setup(i,n),D(this,Vs,new Vv(r,r+"_worker",n)),F(this,Pi,vE).call(this)}).catch(e=>{m(this,Kc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},hg=new WeakSet,bE=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},j(gn,hg),j(gn,o1,0),j(gn,ah,!1),j(gn,sh,new WeakMap),Ni&&(D(gn,ah,!0),Ss.workerSrc||(Ss.workerSrc="./pdf.worker.mjs")),gn._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},gn._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},gn.fromPort=e=>{if(bAe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return gn.create(e)};let ay=gn;var Ql,Lo,pg,mg,Zl,oh,t0;class E1e{constructor(e,n,r,i,a,s){j(this,oh);j(this,Ql,new Map);j(this,Lo,new Map);j(this,pg,new Map);j(this,mg,new Map);j(this,Zl,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new R7,this.fontLoader=new CAe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return lt(this,"annotationStorage",new mI)}getRenderingIntent(e,n=Vo.ENABLE,r=null,i=!1,a=!1){let s=ja.DISPLAY,o=zM;switch(e){case"any":s=ja.ANY;break;case"display":break;case"print":s=ja.PRINT;break;default:rt(`getRenderingIntent - invalid intent: ${e}`)}const u=s&ja.PRINT&&r instanceof f7?r:this.annotationStorage;switch(n){case Vo.DISABLE:s+=ja.ANNOTATIONS_DISABLE;break;case Vo.ENABLE:break;case Vo.ENABLE_FORMS:s+=ja.ANNOTATIONS_FORMS;break;case Vo.ENABLE_STORAGE:s+=ja.ANNOTATIONS_STORAGE,o=u.serializable;break;default:rt(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=ja.IS_EDITING),a&&(s+=ja.OPLIST);const{ids:c,hash:f}=u.modifiedIds,h=[s,o.hash,f];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,Zl))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,Lo).values())e.push(i._destroy());m(this,Lo).clear(),m(this,pg).clear(),m(this,mg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,a;this.commonObjs.clear(),this.fontLoader.clear(),m(this,Ql).clear(),this.filterFactory.destroy(),F0.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Pu("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{wt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}wt(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=u=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{wt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}wt(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new w1e(r,this))}),e.on("DocException",r=>{n._capability.reject(qi(r))}),e.on("PasswordRequest",r=>{D(this,Zl,Promise.withResolvers());try{if(!n.onPassword)throw qi(r);const i=a=>{a instanceof Error?m(this,Zl).reject(a):m(this,Zl).resolve({password:a})};n.onPassword(i,r.code)}catch(i){m(this,Zl).reject(i)}return m(this,Zl).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,Lo).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const h=a.error;rt(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const o=new QM(a),u=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(h,g)=>globalThis.FontInspector.fontAdded(h,g):null,c=new TAe(o,u,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:f}=a;wt(f,"The imageRef must be defined.");for(const h of m(this,Lo).values())for(const[,g]of h.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{var u;if(this.destroyed)return;const o=m(this,Lo).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(u=s==null?void 0:s.bitmap)==null||u.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&rt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=m(this,pg).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&m(this,mg).set(a.refStr,e);const s=new S1e(n,a,this,this._params.pdfBug);return m(this,Lo).set(n,s),s});return m(this,pg).set(n,i),i}getPageIndex(e){return HM(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return F(this,oh,t0).call(this,"GetFieldObjects")}hasJSActions(){return F(this,oh,t0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return F(this,oh,t0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return F(this,oh,t0).call(this,"GetOptionalContentConfig").then(n=>new t1e(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=m(this,Ql).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new ZAe(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return m(this,Ql).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of m(this,Lo).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,Ql).clear(),this.filterFactory.destroy(!0),F0.cleanup()}}cachedPageNumber(e){if(!HM(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,mg).get(n)??null}}Ql=new WeakMap,Lo=new WeakMap,pg=new WeakMap,mg=new WeakMap,Zl=new WeakMap,oh=new WeakSet,t0=function(e,n=null){const r=m(this,Ql).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return m(this,Ql).set(e,i),i};var Xc;class A1e{constructor(e){j(this,Xc,null);be(this,"onContinue",null);be(this,"onError",null);D(this,Xc,e)}get promise(){return m(this,Xc).capability.promise}cancel(e=0){m(this,Xc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Xc).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=m(this,Xc);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Xc=new WeakMap;var Jc,lh;const vf=class vf{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:u,filterFactory:c,useRequestAnimationFrame:f=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:w=null}){j(this,Jc,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new A1e(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=v,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var u,c;if(this.cancelled)return;if(this._canvas){if(m(vf,lh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(vf,lh).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new xm(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,a;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,Jc)&&(window.cancelAnimationFrame(m(this,Jc)),D(this,Jc,null)),m(vf,lh).delete(this._canvas),e||(e=new E_(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(a=(i=this.task).onError)==null||a.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?D(this,Jc,window.requestAnimationFrame(()=>{D(this,Jc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(vf,lh).delete(this._canvas),this.callback())))}};Jc=new WeakMap,lh=new WeakMap,j(vf,lh,new WeakSet);let iP=vf;const O7="5.4.296",j7="f56dc8601";var _a,uh,gg,lr,Bb,yg,eu,zb,Qc,Ws,Hb,Kt,aP,sP,oP,pf,F7,xc;const $i=class $i{constructor({editor:e=null,uiManager:n=null}){j(this,Kt);j(this,_a,null);j(this,uh,null);j(this,gg);j(this,lr,null);j(this,Bb,!1);j(this,yg,!1);j(this,eu,null);j(this,zb);j(this,Qc,null);j(this,Ws,null);var r,i;e?(D(this,yg,!1),D(this,eu,e)):D(this,yg,!0),D(this,Ws,(e==null?void 0:e._uiManager)||n),D(this,zb,m(this,Ws)._eventBus),D(this,gg,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=m(this,Ws))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),m($i,Hb)||D($i,Hb,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return lt(this,"_keyboardManager",new Zx([[["Escape","mac+Escape"],$i.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],$i.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],$i.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],$i.prototype._moveToPrevious],[["Home","mac+Home"],$i.prototype._moveToBeginning],[["End","mac+End"],$i.prototype._moveToEnd]]))}renderButton(){const e=D(this,_a,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",m(this,eu)&&(e.ariaControls=`${m(this,eu).id}_colorpicker_dropdown`);const n=m(this,Ws)._signal;e.addEventListener("click",F(this,Kt,pf).bind(this),{signal:n}),e.addEventListener("keydown",F(this,Kt,oP).bind(this),{signal:n});const r=D(this,uh,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=m(this,gg),e.append(r),e}renderMainDropdown(){const e=D(this,lr,F(this,Kt,aP).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===m(this,_a)){F(this,Kt,pf).call(this,e);return}const n=e.target.getAttribute("data-color");n&&F(this,Kt,sP).call(this,n,e)}_moveToNext(e){var n,r;if(!m(this,Kt,xc)){F(this,Kt,pf).call(this,e);return}if(e.target===m(this,_a)){(n=m(this,lr).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=m(this,lr))==null?void 0:n.firstChild)||e.target===m(this,_a)){m(this,Kt,xc)&&this._hideDropdownFromKeyboard();return}m(this,Kt,xc)||F(this,Kt,pf).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!m(this,Kt,xc)){F(this,Kt,pf).call(this,e);return}(n=m(this,lr).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!m(this,Kt,xc)){F(this,Kt,pf).call(this,e);return}(n=m(this,lr).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=m(this,lr))==null||e.classList.add("hidden"),m(this,_a).ariaExpanded="false",(n=m(this,Qc))==null||n.abort(),D(this,Qc,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,yg)){if(!m(this,Kt,xc)){(e=m(this,eu))==null||e.unselect();return}this.hideDropdown(),m(this,_a).focus({preventScroll:!0,focusVisible:m(this,Bb)})}}updateColor(e){if(m(this,uh)&&(m(this,uh).style.backgroundColor=e),!m(this,lr))return;const n=m(this,Ws).highlightColors.values();for(const r of m(this,lr).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=m(this,_a))==null||e.remove(),D(this,_a,null),D(this,uh,null),(n=m(this,lr))==null||n.remove(),D(this,lr,null)}};_a=new WeakMap,uh=new WeakMap,gg=new WeakMap,lr=new WeakMap,Bb=new WeakMap,yg=new WeakMap,eu=new WeakMap,zb=new WeakMap,Qc=new WeakMap,Ws=new WeakMap,Hb=new WeakMap,Kt=new WeakSet,aP=function(){const e=document.createElement("div"),n=m(this,Ws)._signal;e.addEventListener("contextmenu",Va,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),m(this,eu)&&(e.id=`${m(this,eu).id}_colorpicker_dropdown`);for(const[r,i]of m(this,Ws).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",m($i,Hb)[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===m(this,gg),a.addEventListener("click",F(this,Kt,sP).bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",F(this,Kt,oP).bind(this),{signal:n}),e},sP=function(e,n){n.stopPropagation(),m(this,zb).dispatch("switchannotationeditorparams",{source:this,type:bt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},oP=function(e){$i._keyboardManager.exec(this,e)},pf=function(e){if(m(this,Kt,xc)){this.hideDropdown();return}if(D(this,Bb,e.detail===0),m(this,Qc)||(D(this,Qc,new AbortController),window.addEventListener("pointerdown",F(this,Kt,F7).bind(this),{signal:m(this,Ws).combinedSignal(m(this,Qc))})),m(this,_a).ariaExpanded="true",m(this,lr)){m(this,lr).classList.remove("hidden");return}const n=D(this,lr,F(this,Kt,aP).call(this));m(this,_a).append(n)},F7=function(e){var n;(n=m(this,lr))!=null&&n.contains(e.target)||this.hideDropdown()},xc=function(){return m(this,lr)&&!m(this,lr).classList.contains("hidden")},j($i,Hb,null);let U0=$i;var Oo,Gb,vg,qb;const bf=class bf{constructor(e){j(this,Oo,null);j(this,Gb,null);j(this,vg,null);D(this,Gb,e),D(this,vg,e._uiManager),m(bf,qb)||D(bf,qb,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(m(this,Oo))return m(this,Oo);const{editorType:e,colorType:n,colorValue:r}=m(this,Gb),i=D(this,Oo,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",m(bf,qb)[e]),i.addEventListener("input",()=>{m(this,vg).updateParams(n,i.value)},{signal:m(this,vg)._signal}),i}update(e){m(this,Oo)&&(m(this,Oo).value=e)}destroy(){var e;(e=m(this,Oo))==null||e.remove(),D(this,Oo,null)}hideDropdown(){}};Oo=new WeakMap,Gb=new WeakMap,vg=new WeakMap,qb=new WeakMap,j(bf,qb,null);let qA=bf;function gH(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Iv(t){return Math.max(0,Math.min(255,255*t))}class yH{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Iv(e),[e,e,e]}static G_HTML([e]){const n=gH(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Iv)}static RGB_HTML(e){return`#${e.map(gH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Iv(1-Math.min(1,e+i)),Iv(1-Math.min(1,r+i)),Iv(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class _1e{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){an("Abstract method `_createSVG` called.")}}class B0 extends _1e{_createSVG(e){return document.createElementNS(Cl,e)}}const C1e=9,Yh=new WeakSet,T1e=new Date().getTimezoneOffset()*60*1e3;class vH{static create(e){switch(e.data.annotationType){case Hn.LINK:return new xI(e);case Hn.TEXT:return new R1e(e);case Hn.WIDGET:switch(e.data.fieldType){case"Tx":return new M1e(e);case"Btn":return e.data.radioButton?new z7(e):e.data.checkBox?new k1e(e):new D1e(e);case"Ch":return new I1e(e);case"Sig":return new P1e(e)}return new np(e);case Hn.POPUP:return new uP(e);case Hn.FREETEXT:return new V7(e);case Hn.LINE:return new O1e(e);case Hn.SQUARE:return new j1e(e);case Hn.CIRCLE:return new F1e(e);case Hn.POLYLINE:return new W7(e);case Hn.CARET:return new B1e(e);case Hn.INK:return new wI(e);case Hn.POLYGON:return new U1e(e);case Hn.HIGHLIGHT:return new Y7(e);case Hn.UNDERLINE:return new z1e(e);case Hn.SQUIGGLY:return new H1e(e);case Hn.STRIKEOUT:return new G1e(e);case Hn.STAMP:return new K7(e);case Hn.FILEATTACHMENT:return new q1e(e);default:return new Tn(e)}}}var ch,bg,vs,$b,lP;const RI=class RI{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){j(this,$b);j(this,ch,null);j(this,bg,!1);j(this,vs,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return RI._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let a=-1/0,s=-1/0;if((n==null?void 0:n.length)>=8){for(let u=0;u<n.length;u+=8)n[u+1]>s?(s=n[u+1],a=n[u+2]):n[u+1]===s&&(a=Math.max(a,n[u+2]));return[a,s]}if((r==null?void 0:r.length)>=1){for(const u of r)for(let c=0,f=u.length;c<f;c+=2)u[c+1]>s?(s=u[c+1],a=u[c]):u[c+1]===s&&(a=Math.max(a,u[c]));if(a!==1/0)return[a,s]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/r,e[1]=100*(e[1]-s)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${D0}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${D0}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=m(this,vs))==null?void 0:e.popup)||this.popup)==null||n.remove(),D(this,vs,this.popup=null)}updateEdited(e){var a;if(!this.container)return;e.rect&&(m(this,ch)||D(this,ch,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&F(this,$b,lP).call(this,n);let i=((a=m(this,vs))==null?void 0:a.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=m(this,vs).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),D(this,vs,null),this.popup=null))}resetEdited(){var e;m(this,ch)&&(F(this,$b,lP).call(this,m(this,ch).rect),(e=m(this,vs))==null||e.popup.resetEdited(),D(this,ch,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof np)&&!(this instanceof xI)&&(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof uP){const{rotation:E}=n;return!n.hasOwnCanvas&&E!==0&&this.setRotation(E,a),a}const{width:o,height:u}=this;if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const E=n.borderStyle.horizontalCornerRadius,A=n.borderStyle.verticalCornerRadius;if(E>0||A>0){const P=`calc(${E}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;s.borderRadius=P}else if(this instanceof z7){const P=`calc(${o}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;s.borderRadius=P}switch(n.borderStyle.style){case Yp.SOLID:s.borderStyle="solid";break;case Yp.DASHED:s.borderStyle="dashed";break;case Yp.BEVELED:rt("Unimplemented border style: beveled");break;case Yp.INSET:rt("Unimplemented border style: inset");break;case Yp.UNDERLINE:s.borderBottomStyle="solid";break}const C=n.borderColor||null;C?(D(this,bg,!0),s.borderColor=ke.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):s.borderWidth=0}const c=ke.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:h,pageX:g,pageY:v}=i.rawDims;s.left=`${100*(c[0]-g)/f}%`,s.top=`${100*(c[1]-v)/h}%`;const{rotation:w}=n;return n.hasOwnCanvas||w===0?(s.width=`${100*o/f}%`,s.height=`${100*u/h}%`):this.setRotation(w,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),n.style.width=`${100*a/r}%`,n.style.height=`${100*s/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],o=a.slice(1);i.target.style[r]=yH[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:yH[`${s}_rgb`](o)})};return lt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const a=e[i]||r[i];a==null||a(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(E=>Math.fround(E));if(e.length===8){const[E,A,C,P]=e.subarray(2,6);if(i===E&&a===A&&n===C&&r===P)return}const{style:s}=this.container;let o;if(m(this,bg)){const{borderColor:E,borderWidth:A}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const u=i-n,c=a-r,{svgFactory:f}=this,h=f.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=f.createElement("defs");h.append(g);const v=f.createElement("clipPath"),w=`clippath_${this.data.id}`;v.setAttribute("id",w),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let E=2,A=e.length;E<A;E+=8){const C=e[E],P=e[E+1],R=e[E+2],I=e[E+3],k=f.createElement("rect"),L=(R-n)/u,M=(a-P)/c,z=(C-R)/u,B=(P-I)/c;k.setAttribute("x",L),k.setAttribute("y",M),k.setAttribute("width",z),k.setAttribute("height",B),v.append(k),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${M}" width="${z}" height="${B}"/>`)}m(this,bg)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${w})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate);const a=D(this,vs,new uP({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(m(this,vs)||this.popup||this.data.popupRef)}get extraPopupElement(){return m(this,vs)}render(){an("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===n)continue;const u=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${s}"]`);if(c&&!Yh.has(c)){rt(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:u,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&Yh.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ch=new WeakMap,bg=new WeakMap,vs=new WeakMap,$b=new WeakSet,lP=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:u}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-o)/a}%`,n.top=`${100*(s-e[3]+u)/s}%`,i===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)};let Tn=RI;class N1e extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Ba,mf,U7,B7;class xI extends Tn{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});j(this,Ba);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let a=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),a=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),a=!0):n.attachment?(F(this,Ba,U7).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),a=!0):n.setOCGState?(F(this,Ba,B7).call(this,i,n.setOCGState,n.overlaidText),a=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),a=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),a=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,Ba,mf).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),F(this,Ba,mf).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(r.actions)){const s=i.get(a);s&&(n[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:a}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),F(this,Ba,mf).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),F(this,Ba,mf).call(this),!this._fieldObjects){rt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var h;i==null||i();const{fields:a,refs:s,include:o}=r,u=[];if(a.length!==0||s.length!==0){const g=new Set(s);for(const v of a){const w=this._fieldObjects[v]||[];for(const{id:E}of w)g.add(E)}for(const v of Object.values(this._fieldObjects))for(const w of v)g.has(w.id)===o&&u.push(w)}else for(const g of Object.values(this._fieldObjects))u.push(...g);const c=this.annotationStorage,f=[];for(const g of u){const{id:v}=g;switch(f.push(v),g.type){case"text":{const E=g.defaultValue||"";c.setValue(v,{value:E});break}case"checkbox":case"radiobutton":{const E=g.defaultValue===g.exportValues;c.setValue(v,{value:E});break}case"combobox":case"listbox":{const E=g.defaultValue||"";c.setValue(v,{value:E});break}default:continue}const w=document.querySelector(`[data-element-id="${v}"]`);if(w){if(!Yh.has(w)){rt(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Ba=new WeakSet,mf=function(){this.container.setAttribute("data-internal-link","")},U7=function(n,r,i="",a=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,a),!1},F(this,Ba,mf).call(this)},B7=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),F(this,Ba,mf).call(this)};class R1e extends Tn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class np extends Tn{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Pr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var o;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,n,r,i){var a,s,o;for(const[u,c]of r)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,u,c,i),c==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":ke.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||C1e,a=e.style;let s;const o=2,u=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),f=Math.round(c/(BR*i))||1,h=c/f;s=Math.min(i,u(h/BR))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,u(c/BR))}a.fontSize=`calc(${s}px * var(--total-scale-factor))`,a.color=ke.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class M1e extends np{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){var i,a;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let o=s.value||"";const u=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;u&&o.length>u&&(o=o.slice(0,u));let c=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const f={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Yh.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,w=!!g&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),u&&(r.maxLength=u),r.addEventListener("input",A=>{e.setValue(n,{value:A.target.value}),this.setPropertyOnSiblings(r,"value",A.target.value,"value"),f.formattedValue=null}),r.addEventListener("resetform",A=>{const C=this.data.defaultFieldValue??"";r.value=f.userValue=C,f.formattedValue=null});let E=A=>{const{formattedValue:C}=f;C!=null&&(A.target.value=C),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",C=>{var R;if(f.focused)return;const{target:P}=C;if(w&&(P.type=g,v&&(P.step=v)),f.userValue){const I=f.userValue;if(w)if(g==="time"){const k=new Date(I),L=[k.getHours(),k.getMinutes(),k.getSeconds()];P.value=L.map(M=>M.toString().padStart(2,"0")).join(":")}else P.value=new Date(I-T1e).toISOString().split(g==="date"?"T":".",1)[0];else P.value=I}f.lastCommittedValue=P.value,f.commitKey=1,(R=this.data.actions)!=null&&R.Focus||(f.focused=!0)}),r.addEventListener("updatefromsandbox",C=>{this.showElementAndHideCanvas(C.target);const P={value(R){f.userValue=R.detail.value??"",w||e.setValue(n,{value:f.userValue.toString()}),R.target.value=f.userValue},formattedValue(R){const{formattedValue:I}=R.detail;f.formattedValue=I,I!=null&&R.target!==document.activeElement&&(R.target.value=I);const k={formattedValue:I};w&&(k.value=I),e.setValue(n,k)},selRange(R){R.target.setSelectionRange(...R.detail.selRange)},charLimit:R=>{var M;const{charLimit:I}=R.detail,{target:k}=R;if(I===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",I);let L=f.userValue;!L||L.length<=I||(L=L.slice(0,I),k.value=f.userValue=L,e.setValue(n,{value:L}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(P,C)}),r.addEventListener("keydown",C=>{var I;f.commitKey=1;let P=-1;if(C.key==="Escape"?P=0:C.key==="Enter"&&!this.data.multiLine?P=2:C.key==="Tab"&&(f.commitKey=3),P===-1)return;const{value:R}=C.target;f.lastCommittedValue!==R&&(f.lastCommittedValue=R,f.userValue=R,(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:P,selStart:C.target.selectionStart,selEnd:C.target.selectionEnd}}))});const A=E;E=null,r.addEventListener("blur",C=>{var I,k;if(!f.focused||!C.relatedTarget)return;(I=this.data.actions)!=null&&I.Blur||(f.focused=!1);const{target:P}=C;let{value:R}=P;if(w){if(R&&g==="time"){const L=R.split(":").map(M=>parseInt(M,10));R=new Date(2e3,0,1,L[0],L[1],L[2]||0).valueOf(),P.step=""}else R.includes("T")||(R=`${R}T00:00`),R=new Date(R).valueOf();P.type="text"}f.userValue=R,f.lastCommittedValue!==R&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:f.commitKey,selStart:C.target.selectionStart,selEnd:C.target.selectionEnd}})),A(C)}),(a=this.data.actions)!=null&&a.Keystroke&&r.addEventListener("beforeinput",C=>{var B;f.lastCommittedValue=null;const{data:P,target:R}=C,{value:I,selectionStart:k,selectionEnd:L}=R;let M=k,z=L;switch(C.inputType){case"deleteWordBackward":{const V=I.substring(0,k).match(/\w*[^\w]*$/);V&&(M-=V[0].length);break}case"deleteWordForward":{const V=I.substring(k).match(/^[^\w]*\w*/);V&&(z+=V[0].length);break}case"deleteContentBackward":k===L&&(M-=1);break;case"deleteContentForward":k===L&&(z+=1);break}C.preventDefault(),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:I,change:P||"",willCommit:!1,selStart:M,selEnd:z}})}),this._setEventListeners(r,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],C=>C.target.value)}if(E&&r.addEventListener("blur",E),this.data.comb){const C=(this.data.rect[2]-this.data.rect[0])/u;r.classList.add("comb"),r.style.letterSpacing=`calc(${C}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class P1e extends np{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class k1e extends np{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Yh.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:u}=s.target;for(const c of this._getElementsByName(o,r)){const f=u&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=f),e.setValue(c.id,{value:f})}e.setValue(r,{value:u})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(r,{value:u.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class z7 extends np{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(Yh.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:u}=s.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:u})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",o=>{const u={value:c=>{const f=s===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const g=f&&h.id===r;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class D1e extends xI{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class I1e extends np{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Yh.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const h=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===h});for(const f of this.data.options){const h=document.createElement("option");h.textContent=f.displayValue,h.value=f.exportValue,r.value.includes(f.exportValue)&&(h.setAttribute("selected",!0),a=!1),i.append(h)}let s=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),s=()=>{f.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=f=>{const h=f?"value":"textContent",{options:g,multiple:v}=i;return v?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let u=o(!1);const c=f=>{const h=f.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const h={value(g){s==null||s();const v=g.detail.value,w=new Set(Array.isArray(v)?v:[v]);for(const E of i.options)E.selected=w.has(E.value);e.setValue(n,{value:o(!0)}),u=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const v=i.options,w=g.detail.remove;v[w].selected=!1,i.remove(w),v.length>0&&Array.prototype.findIndex.call(v,A=>A.selected)===-1&&(v[0].selected=!0),e.setValue(n,{value:o(!0),items:c(g)}),u=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),u=o(!1)},insert(g){const{index:v,displayValue:w,exportValue:E}=g.detail.insert,A=i.children[v],C=document.createElement("option");C.textContent=w,C.value=E,A?A.before(C):i.append(C),e.setValue(n,{value:o(!0),items:c(g)}),u=o(!1)},items(g){const{items:v}=g.detail;for(;i.length!==0;)i.remove(0);for(const w of v){const{displayValue:E,exportValue:A}=w,C=document.createElement("option");C.textContent=E,C.value=A,i.append(C)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(g)}),u=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const w of g.target.options)w.selected=v.has(w.index);e.setValue(n,{value:o(!0)}),u=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,f)}),i.addEventListener("input",f=>{var v;const h=o(!0),g=o(!1);e.setValue(n,{value:h}),f.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:u,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Vb,cP;class uP extends Tn{constructor(n){const{data:r,elements:i,parent:a}=n,s=!!a._commentManager;super(n,{isRenderable:!s&&Tn._hasPopupData(r)});j(this,Vb);if(this.elements=i,s&&Tn._hasPopupData(r)){const o=this.popup=F(this,Vb,cP).call(this);for(const u of i)u.popup=o}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=F(this,Vb,cP).call(this),i=[];for(const a of this.elements)a.popup=r,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${fI}${a}`).join(",")),this.container}}Vb=new WeakSet,cP=function(){return new L1e({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ca,Zc,l1,u1,xg,wg,Dn,jo,ed,dh,Sg,Eg,Fo,Ta,tu,nu,Er,ru,td,Wb,iu,Ag,fh,nd,li,rd,ct,xE,dP,fP,hP,wE,pP,H7,G7,q7,$7,SE,EE,mP;class L1e{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:u,rect:c,parentRect:f,open:h,commentManager:g=null}){j(this,ct);j(this,Ca,null);j(this,Zc,F(this,ct,q7).bind(this));j(this,l1,F(this,ct,mP).bind(this));j(this,u1,F(this,ct,EE).bind(this));j(this,xg,F(this,ct,SE).bind(this));j(this,wg,null);j(this,Dn,null);j(this,jo,null);j(this,ed,null);j(this,dh,null);j(this,Sg,null);j(this,Eg,null);j(this,Fo,!1);j(this,Ta,null);j(this,tu,null);j(this,nu,null);j(this,Er,null);j(this,ru,null);j(this,td,null);j(this,Wb,null);j(this,iu,null);j(this,Ag,null);j(this,fh,null);j(this,nd,!1);j(this,li,null);j(this,rd,null);D(this,Dn,e),D(this,Ag,i),D(this,jo,s),D(this,iu,o),D(this,Sg,u),D(this,wg,n),D(this,Wb,c),D(this,Eg,f),D(this,dh,r),D(this,Ca,g),D(this,li,r[0]),D(this,ed,O0.toDateObject(a)),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),g?this.renderCommentButton():(F(this,ct,xE).call(this),m(this,Dn).hidden=!0,h&&F(this,ct,SE).call(this))}renderCommentButton(){if(m(this,Er)||(m(this,ru)||F(this,ct,dP).call(this),!m(this,ru)))return;const{signal:e}=D(this,tu,new AbortController),n=!!m(this,li).extraPopupElement,r=()=>{m(this,Ca).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{m(this,Ca).toggleCommentPopup(this,!1,!0,!n)},a=()=>{m(this,Ca).toggleCommentPopup(this,!1,!1)};if(n){D(this,Er,m(this,li).container);for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",m(this,Zc),{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=D(this,Er,document.createElement("button"));s.className="annotationCommentButton";const o=m(this,li).container;s.style.zIndex=o.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),F(this,ct,hP).call(this),F(this,ct,fP).call(this),s.addEventListener("keydown",m(this,Zc),{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),o.after(s)}}get commentButtonColor(){const{color:e,opacity:n}=m(this,li).commentData;return e?m(this,Sg)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=m(this,Er))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}=m(this,li).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return m(this,Er)}get comment(){return m(this,rd)||D(this,rd,m(this,li).commentText),m(this,rd)}set comment(e){e!==this.comment&&(m(this,li).commentText=D(this,rd,e))}get parentBoundingClientRect(){return m(this,li).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){m(this,Er)&&(m(this,Er).classList.toggle("selected",e),m(this,Er).ariaExpanded=n)}setSelectedCommentButton(e){m(this,Er).classList.toggle("selected",e)}get commentPopupPosition(){if(m(this,td))return m(this,td);const{x:e,y:n,height:r}=m(this,Er).getBoundingClientRect(),{x:i,y:a,width:s,height:o}=m(this,li).layer.getBoundingClientRect();return[(e-i)/s,(n+r-a)/o]}set commentPopupPosition(e){D(this,td,e)}hasDefaultPopupPosition(){return m(this,td)===null}get commentButtonPosition(){return m(this,ru)}get commentButtonWidth(){return m(this,Er).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=m(this,td)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:a,y:s,width:o,height:u}=i;m(this,Ca).showDialog(null,this,a+n*o,s+r*u,{...e,parentDimensions:i})}render(){var r,i;if(m(this,Ta))return;const e=D(this,Ta,document.createElement("div"));if(e.className="popup",m(this,wg)){const a=e.style.outlineColor=ke.makeHexColor(...m(this,wg));e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=m(this,Ag))!=null&&r.str){const a=document.createElement("span");a.className="title",n.append(a),{dir:a.dir,str:a.textContent}=m(this,Ag)}if(e.append(n),m(this,ed)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,ed).valueOf()})),a.dateTime=m(this,ed).toISOString(),n.append(a)}pI({html:m(this,ct,wE)||m(this,jo).str,dir:(i=m(this,jo))==null?void 0:i.dir,className:"popupContent"},e),m(this,Dn).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(m(this,Ca)){r?(this.remove(),D(this,rd,null)):n&&(n.deleted?this.remove():(F(this,ct,hP).call(this),D(this,rd,n.text))),e&&(D(this,ru,null),F(this,ct,dP).call(this),F(this,ct,fP).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}F(this,ct,xE).call(this),m(this,fh)||D(this,fh,{contentsObj:m(this,jo),richText:m(this,iu)}),e&&D(this,nu,null),n&&n.text&&(D(this,iu,F(this,ct,G7).call(this,n.text)),D(this,ed,O0.toDateObject(n.date)),D(this,jo,null)),(i=m(this,Ta))==null||i.remove(),D(this,Ta,null)}resetEdited(){var e;m(this,fh)&&({contentsObj:ar(this,jo)._,richText:ar(this,iu)._}=m(this,fh),D(this,fh,null),(e=m(this,Ta))==null||e.remove(),D(this,Ta,null),D(this,nu,null))}remove(){var e,n,r;if((e=m(this,tu))==null||e.abort(),D(this,tu,null),(n=m(this,Ta))==null||n.remove(),D(this,Ta,null),D(this,nd,!1),D(this,Fo,!1),(r=m(this,Er))==null||r.remove(),D(this,Er,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){D(this,nd,this.isVisible),m(this,nd)&&(m(this,Dn).hidden=!0)}maybeShow(){m(this,Ca)||(F(this,ct,xE).call(this),m(this,nd)&&(m(this,Ta)||F(this,ct,EE).call(this),D(this,nd,!1),m(this,Dn).hidden=!1))}get isVisible(){return m(this,Ca)?!1:m(this,Dn).hidden===!1}}Ca=new WeakMap,Zc=new WeakMap,l1=new WeakMap,u1=new WeakMap,xg=new WeakMap,wg=new WeakMap,Dn=new WeakMap,jo=new WeakMap,ed=new WeakMap,dh=new WeakMap,Sg=new WeakMap,Eg=new WeakMap,Fo=new WeakMap,Ta=new WeakMap,tu=new WeakMap,nu=new WeakMap,Er=new WeakMap,ru=new WeakMap,td=new WeakMap,Wb=new WeakMap,iu=new WeakMap,Ag=new WeakMap,fh=new WeakMap,nd=new WeakMap,li=new WeakMap,rd=new WeakMap,ct=new WeakSet,xE=function(){var n;if(m(this,tu))return;D(this,tu,new AbortController);const{signal:e}=m(this,tu);for(const r of this.trigger)r.addEventListener("click",m(this,xg),{signal:e}),r.addEventListener("pointerenter",m(this,u1),{signal:e}),r.addEventListener("pointerleave",m(this,l1),{signal:e}),r.classList.add("popupTriggerArea");for(const r of m(this,dh))(n=r.container)==null||n.addEventListener("keydown",m(this,Zc),{signal:e})},dP=function(){const e=m(this,dh).find(n=>n.hasCommentButton);e&&D(this,ru,e._normalizePoint(e.commentButtonPosition))},fP=function(){if(m(this,li).extraPopupElement&&!m(this,li).editor)return;this.renderCommentButton();const[e,n]=m(this,ru),{style:r}=m(this,Er);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},hP=function(){m(this,li).extraPopupElement||(this.renderCommentButton(),m(this,Er).style.backgroundColor=this.commentButtonColor||"")},wE=function(){const e=m(this,iu),n=m(this,jo);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&m(this,iu).html||null},pP=function(){var e,n,r;return((r=(n=(e=m(this,ct,wE))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},H7=function(){var e,n,r;return((r=(n=(e=m(this,ct,wE))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},G7=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:m(this,ct,H7),fontSize:m(this,ct,pP)?`calc(${m(this,ct,pP)}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r},q7=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,Fo))&&F(this,ct,SE).call(this)},$7=function(){if(m(this,nu)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=m(this,Sg);let s=!!m(this,Eg),o=s?m(this,Eg):m(this,Wb);for(const w of m(this,dh))if(!o||ke.intersect(w.data.rect,o)!==null){o=w.data.rect,s=!0;break}const u=ke.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),f=s?o[2]-o[0]+5:0,h=u[0]+f,g=u[1];D(this,nu,[100*(h-i)/n,100*(g-a)/r]);const{style:v}=m(this,Dn);v.left=`${m(this,nu)[0]}%`,v.top=`${m(this,nu)[1]}%`},SE=function(){if(m(this,Ca)){m(this,Ca).toggleCommentPopup(this,!1);return}D(this,Fo,!m(this,Fo)),m(this,Fo)?(F(this,ct,EE).call(this),m(this,Dn).addEventListener("click",m(this,xg)),m(this,Dn).addEventListener("keydown",m(this,Zc))):(F(this,ct,mP).call(this),m(this,Dn).removeEventListener("click",m(this,xg)),m(this,Dn).removeEventListener("keydown",m(this,Zc)))},EE=function(){m(this,Ta)||this.render(),this.isVisible?m(this,Fo)&&m(this,Dn).classList.add("focused"):(F(this,ct,$7).call(this),m(this,Dn).hidden=!1,m(this,Dn).style.zIndex=parseInt(m(this,Dn).style.zIndex)+1e3)},mP=function(){m(this,Dn).classList.remove("focused"),!(m(this,Fo)||!this.isVisible)&&(m(this,Dn).hidden=!0,m(this,Dn).style.zIndex=parseInt(m(this,Dn).style.zIndex)-1e3)};class V7 extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=nt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Yb;class O1e extends Tn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Yb,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=D(this,Yb,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Yb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yb=new WeakMap;var Kb;class j1e extends Tn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Kb,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=D(this,Kb,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",r-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Kb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kb=new WeakMap;var Xb;class F1e extends Tn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Xb,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=D(this,Xb,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Xb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xb=new WeakMap;var Jb;class W7 extends Tn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Jb,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:a},width:s,height:o}=this;if(!r)return this.container;const u=this.svgFactory.create(s,o,!0);let c=[];for(let h=0,g=r.length;h<g;h+=2){const v=r[h]-n[0],w=n[3]-r[h+1];c.push(`${v},${w}`)}c=c.join(" ");const f=D(this,Jb,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",c),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Jb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jb=new WeakMap;class U1e extends W7{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B1e extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Qb,hh,Zb,gP;class wI extends Tn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Zb);j(this,Qb,null);j(this,hh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?nt.HIGHLIGHT:nt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:a,popupRef:s}}=this,{transform:o,width:u,height:c}=F(this,Zb,gP).call(this,r,n),f=this.svgFactory.create(u,c,!0),h=D(this,Qb,this.svgFactory.createElement("svg:g"));f.append(h),h.setAttribute("stroke-width",a.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=i.length;g<v;g++){const w=this.svgFactory.createElement(this.svgElementName);m(this,hh).push(w),w.setAttribute("points",i[g].join(",")),h.append(w)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:a}=n,s=m(this,Qb);if(r>=0&&s.setAttribute("stroke-width",r||1),i)for(let o=0,u=m(this,hh).length;o<u;o++)m(this,hh)[o].setAttribute("points",i[o].join(","));if(a){const{transform:o,width:u,height:c}=F(this,Zb,gP).call(this,this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${u} ${c}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return m(this,hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qb=new WeakMap,hh=new WeakMap,Zb=new WeakSet,gP=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class Y7 extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=nt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class z1e extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class H1e extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class G1e extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class K7 extends Tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=nt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var ex,tx,yP;class q1e extends Tn{constructor(n){var i;super(n,{isRenderable:!0});j(this,tx);j(this,ex,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",F(this,tx,yP).bind(this)),D(this,ex,i);const{isMac:a}=Pr.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&F(this,tx,yP).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return m(this,ex)}addHighlightArea(){this.container.classList.add("highlightArea")}}ex=new WeakMap,tx=new WeakSet,yP=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var _g,ph,Cg,id,nx,mh,Md,vP,bP,Tg;let SI=(Tg=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o,commentManager:u,linkService:c,annotationStorage:f}){j(this,Md);j(this,_g,null);j(this,ph,null);j(this,Cg,null);j(this,id,new Map);j(this,nx,null);j(this,mh,null);this.div=e,D(this,_g,n),D(this,ph,r),D(this,nx,o||null),D(this,mh,c||null),D(this,Cg,f||new mI),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return m(this,id).size>0}async render(e){var s,o,u;const{annotations:n}=e,r=this.div;Td(r,this.viewport);const i=new Map,a={data:null,layer:r,linkService:m(this,mh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new B0,annotationStorage:m(this,Cg),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const f=c.annotationType===Hn.POPUP;if(f){const v=i.get(c.id);if(!v)continue;a.elements=v}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;a.data=c;const h=vH.create(a);if(!h.isRenderable)continue;if(!f&&c.popupRef){const v=i.get(c.popupRef);v?v.push(h):i.set(c.popupRef,[h])}const g=h.render();c.hidden&&(g.style.visibility="hidden"),await F(this,Md,vP).call(this,g,c.id,a.elements),(o=(s=h.extraPopupElement)==null?void 0:s.popup)==null||o.renderCommentButton(),h._isEditable&&(m(this,id).set(h.data.id,h),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(h))}F(this,Md,bP).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:m(this,mh),svgFactory:new B0,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=Tg._defaultBorderStyle),n.data=r;const i=vH.create(n);if(!i.isRenderable)continue;const a=i.render();await F(this,Md,vP).call(this,a,r.id,null)}}update({viewport:e}){const n=this.div;this.viewport=e,Td(n,{rotation:e.rotation}),F(this,Md,bP).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(m(this,id).values())}getEditableAnnotation(e){return m(this,id).get(e)}addFakeAnnotation(e){var o;const{div:n}=this,{id:r,rotation:i}=e,a=new N1e({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:m(this,mh),annotationStorage:m(this,Cg)}),s=a.render();return n.append(s),(o=m(this,_g))==null||o.moveElementInDOM(n,s,s,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return lt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Yp.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},_g=new WeakMap,ph=new WeakMap,Cg=new WeakMap,id=new WeakMap,nx=new WeakMap,mh=new WeakMap,Md=new WeakSet,vP=async function(e,n,r){var o,u;const i=e.firstChild||e,a=i.id=`${fI}${n}`,s=await((o=m(this,nx))==null?void 0:o.getAriaAttributes(a));if(s)for(const[c,f]of s)i.setAttribute(c,f);r?r.at(-1).container.after(e):(this.div.append(e),(u=m(this,_g))==null||u.moveElementInDOM(this.div,e,i,!1))},bP=function(){var n;if(!m(this,ph))return;const e=this.div;for(const[r,i]of m(this,ph)){const a=e.querySelector(`[data-annotation-id="${r}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):a.append(i);const o=m(this,id).get(r);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,a.id,i),o._hasNoCanvas=!1):o.canvas=i)}m(this,ph).clear()},Tg);const WS=/\r\n?|\n/g;var Na,rx,gh,Ra,rr,X7,J7,Q7,AE,xu,_E,CE,Z7,wP,eY;const fn=class fn extends on{constructor(n){super({...n,name:"freeTextEditor"});j(this,rr);j(this,Na,"");j(this,rx,`${this.id}-editor`);j(this,gh,null);j(this,Ra);be(this,"_colorPicker",null);this.color=n.color||fn._defaultColor||on._defaultLineColor,D(this,Ra,n.fontSize||fn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const n=fn.prototype,r=s=>s.isEmpty(),i=Nd.TRANSLATE_SMALL,a=Nd.TRANSLATE_BIG;return lt(this,"_keyboardManager",new Zx([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,a],checker:r}]]))}static initialize(n,r){on.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case bt.FREETEXT_SIZE:fn._defaultFontSize=r;break;case bt.FREETEXT_COLOR:fn._defaultColor=r;break}}updateParams(n,r){switch(n){case bt.FREETEXT_SIZE:F(this,rr,X7).call(this,r);break;case bt.FREETEXT_COLOR:F(this,rr,J7).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[bt.FREETEXT_SIZE,fn._defaultFontSize],[bt.FREETEXT_COLOR,fn._defaultColor||on._defaultLineColor]]}get propertiesToUpdate(){return[[bt.FREETEXT_SIZE,m(this,Ra)],[bt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new qA(this)),[["colorPicker",this._colorPicker]]}get colorType(){return bt.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-fn._internalPadding*n,-(fn._internalPadding+m(this,Ra))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),D(this,gh,new AbortController);const n=this._uiManager.combinedSignal(m(this,gh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,rx)),this._isDraggable=!0,(n=m(this,gh))==null||n.abort(),D(this,gh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=m(this,Na),r=D(this,Na,F(this,rr,Q7).call(this).trimEnd());if(n===r)return;const i=a=>{if(D(this,Na,a),!a){this.remove();return}F(this,rr,CE).call(this),this._uiManager.rebuild(this),F(this,rr,AE).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),F(this,rr,AE).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){fn._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,rx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Ra)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[u,c]=this.getInitialTranslation();[u,c]=this.pageTranslationToScreen(u,c);const[f,h]=this.pageDimensions,[g,v]=this.pageTranslation;let w,E;switch(this.rotation){case 0:w=n+(o[0]-g)/f,E=r+this.height-(o[1]-v)/h;break;case 90:w=n+(o[0]-g)/f,E=r-(o[1]-v)/h,[u,c]=[c,-u];break;case 180:w=n-this.width+(o[0]-g)/f,E=r-(o[1]-v)/h,[u,c]=[-u,-c];break;case 270:w=n+(o[0]-g-this.height*h)/f,E=r+(o[1]-v-this.width*f)/h,[u,c]=[-c,u];break}this.setAt(w*a,E*s,u,c)}else this._moveAfterPaste(n,r);F(this,rr,CE).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var w,E,A;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const a=F(w=fn,xu,wP).call(w,r.getData("text")||"").replaceAll(WS,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:u,startOffset:c}=o,f=[],h=[];if(u.nodeType===Node.TEXT_NODE){const C=u.parentElement;if(h.push(u.nodeValue.slice(c).replaceAll(WS,"")),C!==this.editorDiv){let P=f;for(const R of this.editorDiv.childNodes){if(R===C){P=h;continue}P.push(F(E=fn,xu,_E).call(E,R))}}f.push(u.nodeValue.slice(0,c).replaceAll(WS,""))}else if(u===this.editorDiv){let C=f,P=0;for(const R of this.editorDiv.childNodes)P++===c&&(C=h),C.push(F(A=fn,xu,_E).call(A,R))}D(this,Na,`${f.join(`
`)}${a}${h.join(`
`)}`),F(this,rr,CE).call(this);const g=new Range;let v=Math.sumPrecise(f.map(C=>C.length));for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const P=C.nodeValue.length;if(v<=P){g.setStart(C,v),g.setEnd(C,v);break}v-=P}s.removeAllRanges(),s.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=fn._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var o;let a=null;if(n instanceof V7){const{data:{defaultAppearanceData:{fontSize:u,fontColor:c},rect:f,rotation:h,id:g,popupRef:v,richText:w,contentsObj:E,creationDate:A,modificationDate:C},textContent:P,textPosition:R,parent:{page:{pageNumber:I}}}=n;if(!P||P.length===0)return null;a=n={annotationType:nt.FREETEXT,color:Array.from(c),fontSize:u,value:P.join(`
`),position:R,pageIndex:I-1,rect:f.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(E==null?void 0:E.str)||null,richText:w,creationDate:A,modificationDate:C}}const s=await super.deserialize(n,r,i);return D(s,Ra,n.fontSize),s.color=ke.makeHexColor(...n.color),D(s,Na,F(o=fn,xu,wP).call(o,n.value)),s._initialData=a,n.comment&&s.setCommentData(n),s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=on._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:m(this,Ra),value:F(this,rr,Z7).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!F(this,rr,eY).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${m(this,Ra)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const a of m(this,Na).split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),r.append(s)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:m(this,Na)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Na=new WeakMap,rx=new WeakMap,gh=new WeakMap,Ra=new WeakMap,rr=new WeakSet,X7=function(n){const r=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-m(this,Ra))*this.parentScale),D(this,Ra,a),F(this,rr,AE).call(this)},i=m(this,Ra);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},J7=function(n){const r=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q7=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const a of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(n.push(F(i=fn,xu,_E).call(i,a)),r=a);return n.join(`
`)},AE=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,u=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},xu=new WeakSet,_E=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(WS,"")},CE=function(){if(this.editorDiv.replaceChildren(),!!m(this,Na))for(const n of m(this,Na).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},Z7=function(){return m(this,Na).replaceAll(""," ")},wP=function(n){return n.replaceAll(" ","")},eY=function(n){const{value:r,fontSize:i,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,u)=>o!==a[u])||n.pageIndex!==s},j(fn,xu),be(fn,"_freeTextDefaultContent",""),be(fn,"_internalPadding",0),be(fn,"_defaultColor",null),be(fn,"_defaultFontSize",10),be(fn,"_type","freetext"),be(fn,"_editorType",nt.FREETEXT);let xP=fn;class Pe{toSVGPath(){an("Abstract method `toSVGPath` must be implemented.")}get box(){an("Abstract getter `box` must be implemented.")}serialize(e,n){an("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,u=e.length;o<u;o+=2)s[o]=n+e[o]*i,s[o+1]=r+e[o+1]*a;return s}static _rescaleAndSwap(e,n,r,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,u=e.length;o<u;o+=2)s[o]=n+e[o+1]*i,s[o+1]=r+e[o]*a;return s}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let a=0,s=e.length;a<s;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,s){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+s)/6,(r+a)/2,(i+s)/2]}}be(Pe,"PRECISION",1e-4);var Ma,Ys,Ng,Rg,Uo,ft,yh,vh,ix,ax,Mg,Pg,ad,sx,c1,d1,dr,n0,tY,nY,rY,iY,aY,sY;const Ml=class Ml{constructor({x:e,y:n},r,i,a,s,o=0){j(this,dr);j(this,Ma);j(this,Ys,[]);j(this,Ng);j(this,Rg);j(this,Uo,[]);j(this,ft,new Float32Array(18));j(this,yh);j(this,vh);j(this,ix);j(this,ax);j(this,Mg);j(this,Pg);j(this,ad,[]);D(this,Ma,r),D(this,Pg,a*i),D(this,Rg,s),m(this,ft).set([NaN,NaN,NaN,NaN,e,n],6),D(this,Ng,o),D(this,ax,m(Ml,sx)*i),D(this,ix,m(Ml,d1)*i),D(this,Mg,i),m(this,ad).push(e,n)}isEmpty(){return isNaN(m(this,ft)[8])}add({x:e,y:n}){var B;D(this,yh,e),D(this,vh,n);const[r,i,a,s]=m(this,Ma);let[o,u,c,f]=m(this,ft).subarray(8,12);const h=e-c,g=n-f,v=Math.hypot(h,g);if(v<m(this,ix))return!1;const w=v-m(this,ax),E=w/v,A=E*h,C=E*g;let P=o,R=u;o=c,u=f,c+=A,f+=C,(B=m(this,ad))==null||B.push(e,n);const I=-C/w,k=A/w,L=I*m(this,Pg),M=k*m(this,Pg);return m(this,ft).set(m(this,ft).subarray(2,8),0),m(this,ft).set([c+L,f+M],4),m(this,ft).set(m(this,ft).subarray(14,18),12),m(this,ft).set([c-L,f-M],16),isNaN(m(this,ft)[6])?(m(this,Uo).length===0&&(m(this,ft).set([o+L,u+M],2),m(this,Uo).push(NaN,NaN,NaN,NaN,(o+L-r)/a,(u+M-i)/s),m(this,ft).set([o-L,u-M],14),m(this,Ys).push(NaN,NaN,NaN,NaN,(o-L-r)/a,(u-M-i)/s)),m(this,ft).set([P,R,o,u,c,f],6),!this.isEmpty()):(m(this,ft).set([P,R,o,u,c,f],6),Math.abs(Math.atan2(R-u,P-o)-Math.atan2(C,A))<Math.PI/2?([o,u,c,f]=m(this,ft).subarray(2,6),m(this,Uo).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/a,((u+f)/2-i)/s),[o,u,P,R]=m(this,ft).subarray(14,18),m(this,Ys).push(NaN,NaN,NaN,NaN,((P+o)/2-r)/a,((R+u)/2-i)/s),!0):([P,R,o,u,c,f]=m(this,ft).subarray(0,6),m(this,Uo).push(((P+5*o)/6-r)/a,((R+5*u)/6-i)/s,((5*o+c)/6-r)/a,((5*u+f)/6-i)/s,((o+c)/2-r)/a,((u+f)/2-i)/s),[c,f,o,u,P,R]=m(this,ft).subarray(12,18),m(this,Ys).push(((P+5*o)/6-r)/a,((R+5*u)/6-i)/s,((5*o+c)/6-r)/a,((5*u+f)/6-i)/s,((o+c)/2-r)/a,((u+f)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,Uo),n=m(this,Ys);if(isNaN(m(this,ft)[6])&&!this.isEmpty())return F(this,dr,tY).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);F(this,dr,rY).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return F(this,dr,nY).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,a,s){return new oY(e,n,r,i,a,s)}getOutlines(){var h;const e=m(this,Uo),n=m(this,Ys),r=m(this,ft),[i,a,s,o]=m(this,Ma),u=new Float32Array((((h=m(this,ad))==null?void 0:h.length)??0)+2);for(let g=0,v=u.length-2;g<v;g+=2)u[g]=(m(this,ad)[g]-i)/s,u[g+1]=(m(this,ad)[g+1]-a)/o;if(u[u.length-2]=(m(this,yh)-i)/s,u[u.length-1]=(m(this,vh)-a)/o,isNaN(r[6])&&!this.isEmpty())return F(this,dr,iY).call(this,u);const c=new Float32Array(m(this,Uo).length+24+m(this,Ys).length);let f=e.length;for(let g=0;g<f;g+=2){if(isNaN(e[g])){c[g]=c[g+1]=NaN;continue}c[g]=e[g],c[g+1]=e[g+1]}f=F(this,dr,sY).call(this,c,f);for(let g=n.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(n[g+v])){c[f]=c[f+1]=NaN,f+=2;continue}c[f]=n[g+v],c[f+1]=n[g+v+1],f+=2}return F(this,dr,aY).call(this,c,f),this.newFreeDrawOutline(c,u,m(this,Ma),m(this,Mg),m(this,Ng),m(this,Rg))}};Ma=new WeakMap,Ys=new WeakMap,Ng=new WeakMap,Rg=new WeakMap,Uo=new WeakMap,ft=new WeakMap,yh=new WeakMap,vh=new WeakMap,ix=new WeakMap,ax=new WeakMap,Mg=new WeakMap,Pg=new WeakMap,ad=new WeakMap,sx=new WeakMap,c1=new WeakMap,d1=new WeakMap,dr=new WeakSet,n0=function(){const e=m(this,ft).subarray(4,6),n=m(this,ft).subarray(16,18),[r,i,a,s]=m(this,Ma);return[(m(this,yh)+(e[0]-n[0])/2-r)/a,(m(this,vh)+(e[1]-n[1])/2-i)/s,(m(this,yh)+(n[0]-e[0])/2-r)/a,(m(this,vh)+(n[1]-e[1])/2-i)/s]},tY=function(){const[e,n,r,i]=m(this,Ma),[a,s,o,u]=F(this,dr,n0).call(this);return`M${(m(this,ft)[2]-e)/r} ${(m(this,ft)[3]-n)/i} L${(m(this,ft)[4]-e)/r} ${(m(this,ft)[5]-n)/i} L${a} ${s} L${o} ${u} L${(m(this,ft)[16]-e)/r} ${(m(this,ft)[17]-n)/i} L${(m(this,ft)[14]-e)/r} ${(m(this,ft)[15]-n)/i} Z`},nY=function(e){const n=m(this,Ys);e.push(`L${n[4]} ${n[5]} Z`)},rY=function(e){const[n,r,i,a]=m(this,Ma),s=m(this,ft).subarray(4,6),o=m(this,ft).subarray(16,18),[u,c,f,h]=F(this,dr,n0).call(this);e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${u} ${c} L${f} ${h} L${(o[0]-n)/i} ${(o[1]-r)/a}`)},iY=function(e){const n=m(this,ft),[r,i,a,s]=m(this,Ma),[o,u,c,f]=F(this,dr,n0).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,o,u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(h,e,m(this,Ma),m(this,Mg),m(this,Ng),m(this,Rg))},aY=function(e,n){const r=m(this,Ys);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},sY=function(e,n){const r=m(this,ft).subarray(4,6),i=m(this,ft).subarray(16,18),[a,s,o,u]=m(this,Ma),[c,f,h,g]=F(this,dr,n0).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/u],n),n+=24},j(Ml,sx,8),j(Ml,c1,2),j(Ml,d1,m(Ml,sx)+m(Ml,c1));let $A=Ml;var kg,bh,au,ox,Pa,lx,qn,f1,lY;class oY extends Pe{constructor(n,r,i,a,s,o){super();j(this,f1);j(this,kg);j(this,bh,new Float32Array(4));j(this,au);j(this,ox);j(this,Pa);j(this,lx);j(this,qn);D(this,qn,n),D(this,Pa,r),D(this,kg,i),D(this,lx,a),D(this,au,s),D(this,ox,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],F(this,f1,lY).call(this,o);const[u,c,f,h]=m(this,bh);for(let g=0,v=n.length;g<v;g+=2)n[g]=(n[g]-u)/f,n[g+1]=(n[g+1]-c)/h;for(let g=0,v=r.length;g<v;g+=2)r[g]=(r[g]-u)/f,r[g+1]=(r[g+1]-c)/h}toSVGPath(){const n=[`M${m(this,qn)[4]} ${m(this,qn)[5]}`];for(let r=6,i=m(this,qn).length;r<i;r+=6){if(isNaN(m(this,qn)[r])){n.push(`L${m(this,qn)[r+4]} ${m(this,qn)[r+5]}`);continue}n.push(`C${m(this,qn)[r]} ${m(this,qn)[r+1]} ${m(this,qn)[r+2]} ${m(this,qn)[r+3]} ${m(this,qn)[r+4]} ${m(this,qn)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,a],s){const o=i-n,u=a-r;let c,f;switch(s){case 0:c=Pe._rescale(m(this,qn),n,a,o,-u),f=Pe._rescale(m(this,Pa),n,a,o,-u);break;case 90:c=Pe._rescaleAndSwap(m(this,qn),n,r,o,u),f=Pe._rescaleAndSwap(m(this,Pa),n,r,o,u);break;case 180:c=Pe._rescale(m(this,qn),i,r,-o,u),f=Pe._rescale(m(this,Pa),i,r,-o,u);break;case 270:c=Pe._rescaleAndSwap(m(this,qn),i,a,-o,-u),f=Pe._rescaleAndSwap(m(this,Pa),i,a,-o,-u);break}return{outline:Array.from(c),points:[Array.from(f)]}}get box(){return m(this,bh)}newOutliner(n,r,i,a,s,o=0){return new $A(n,r,i,a,s,o)}getNewOutline(n,r){const[i,a,s,o]=m(this,bh),[u,c,f,h]=m(this,kg),g=s*f,v=o*h,w=i*f+u,E=a*h+c,A=this.newOutliner({x:m(this,Pa)[0]*g+w,y:m(this,Pa)[1]*v+E},m(this,kg),m(this,lx),n,m(this,ox),r??m(this,au));for(let C=2;C<m(this,Pa).length;C+=2)A.add({x:m(this,Pa)[C]*g+w,y:m(this,Pa)[C+1]*v+E});return A.getOutlines()}}kg=new WeakMap,bh=new WeakMap,au=new WeakMap,ox=new WeakMap,Pa=new WeakMap,lx=new WeakMap,qn=new WeakMap,f1=new WeakSet,lY=function(n){const r=m(this,qn);let i=r[4],a=r[5];const s=[i,a,i,a];let o=i,u=a,c=i,f=a;const h=n?Math.max:Math.min,g=new Float32Array(4);for(let w=6,E=r.length;w<E;w+=6){const A=r[w+4],C=r[w+5];isNaN(r[w])?(ke.pointBoundingBox(A,C,s),u>C?(o=A,u=C):u===C&&(o=h(o,A)),f<C?(c=A,f=C):f===C&&(c=h(c,A))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,ke.bezierBoundingBox(i,a,...r.slice(w,w+6),g),ke.rectBoundingBox(g[0],g[1],g[2],g[3],s),u>g[1]?(o=g[0],u=g[1]):u===g[1]&&(o=h(o,g[0])),f<g[3]?(c=g[2],f=g[3]):f===g[3]&&(c=h(c,g[2]))),i=A,a=C}const v=m(this,bh);v[0]=s[0]-m(this,au),v[1]=s[1]-m(this,au),v[2]=s[2]-s[0]+2*m(this,au),v[3]=s[3]-s[1]+2*m(this,au),this.firstPoint=[o,u],this.lastPoint=[c,f]};var ux,cx,dx,sd,Ks,ki,uY,TE,cY,dY,EP;class SP{constructor(e,n=0,r=0,i=!0){j(this,ki);j(this,ux);j(this,cx);j(this,dx);j(this,sd,[]);j(this,Ks,[]);const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:E,y:A,width:C,height:P}of e){const R=Math.floor((E-n)/s)*s,I=Math.ceil((E+C+n)/s)*s,k=Math.floor((A-n)/s)*s,L=Math.ceil((A+P+n)/s)*s,M=[R,k,L,!0],z=[I,k,L,!1];m(this,sd).push(M,z),ke.rectBoundingBox(R,k,I,L,a)}const o=a[2]-a[0]+2*r,u=a[3]-a[1]+2*r,c=a[0]-r,f=a[1]-r;let h=i?-1/0:1/0,g=1/0;const v=m(this,sd).at(i?-1:-2),w=[v[0],v[2]];for(const E of m(this,sd)){const[A,C,P,R]=E;!R&&i?C<g?(g=C,h=A):C===g&&(h=Math.max(h,A)):R&&!i&&(C<g?(g=C,h=A):C===g&&(h=Math.min(h,A))),E[0]=(A-c)/o,E[1]=(C-f)/u,E[2]=(P-f)/u}D(this,ux,new Float32Array([c,f,o,u])),D(this,cx,[h,g]),D(this,dx,w)}getOutlines(){m(this,sd).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of m(this,sd))n[3]?(e.push(...F(this,ki,EP).call(this,n)),F(this,ki,cY).call(this,n)):(F(this,ki,dY).call(this,n),e.push(...F(this,ki,EP).call(this,n)));return F(this,ki,uY).call(this,e)}}ux=new WeakMap,cx=new WeakMap,dx=new WeakMap,sd=new WeakMap,Ks=new WeakMap,ki=new WeakSet,uY=function(e){const n=[],r=new Set;for(const s of e){const[o,u,c]=s;n.push([o,u,s],[o,c,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const u=n[s][2],c=n[s+1][2];u.push(c),c.push(u),r.add(u),r.add(c)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[o,u,c,f,h]=s;r.delete(s);let g=o,v=u;for(a=[o,c],i.push(a);;){let w;if(r.has(f))w=f;else if(r.has(h))w=h;else break;r.delete(w),[o,u,c,f,h]=w,g!==o&&(a.push(g,v,o,v===u?u:c),g=o),v=v===u?c:u}a.push(g,v)}return new $1e(i,m(this,ux),m(this,cx),m(this,dx))},TE=function(e){const n=m(this,Ks);let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1},cY=function([,e,n]){const r=F(this,ki,TE).call(this,e);m(this,Ks).splice(r,0,[e,n])},dY=function([,e,n]){const r=F(this,ki,TE).call(this,e);for(let i=r;i<m(this,Ks).length;i++){const[a,s]=m(this,Ks)[i];if(a!==e)break;if(a===e&&s===n){m(this,Ks).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=m(this,Ks)[i];if(a!==e)break;if(a===e&&s===n){m(this,Ks).splice(i,1);return}}},EP=function(e){const[n,r,i]=e,a=[[n,r,i]],s=F(this,ki,TE).call(this,i);for(let o=0;o<s;o++){const[u,c]=m(this,Ks)[o];for(let f=0,h=a.length;f<h;f++){const[,g,v]=a[f];if(!(c<=g||v<=u)){if(g>=u){if(v>c)a[f][1]=c;else{if(h===1)return[];a.splice(f,1),f--,h--}continue}a[f][2]=u,v>c&&a.push([n,c,v])}}}return a};var fx,Dg;class $1e extends Pe{constructor(n,r,i,a){super();j(this,fx);j(this,Dg);D(this,Dg,n),D(this,fx,r),this.firstPoint=i,this.lastPoint=a}toSVGPath(){const n=[];for(const r of m(this,Dg)){let[i,a]=r;n.push(`M${i} ${a}`);for(let s=2;s<r.length;s+=2){const o=r[s],u=r[s+1];o===i?(n.push(`V${u}`),a=u):u===a&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,a],s){const o=[],u=i-n,c=a-r;for(const f of m(this,Dg)){const h=new Array(f.length);for(let g=0;g<f.length;g+=2)h[g]=n+f[g]*u,h[g+1]=a-f[g+1]*c;o.push(h)}return o}get box(){return m(this,fx)}get classNamesForOutlining(){return["highlightOutline"]}}fx=new WeakMap,Dg=new WeakMap;class AP extends $A{newFreeDrawOutline(e,n,r,i,a,s){return new V1e(e,n,r,i,a,s)}}class V1e extends oY{newOutliner(e,n,r,i,a,s=0){return new AP(e,n,r,i,a,s)}}var Ig,hx,su,xh,px,Ji,mx,gx,wh,ka,Da,qr,Lg,Og,ui,jg,bs,yx,ut,_P,NE,fY,hY,pY,CP,gf,Es,em,mY,RE,ME,gY,yY,vY,bY,xY;const Dt=class Dt extends on{constructor(n){super({...n,name:"highlightEditor"});j(this,ut);j(this,Ig,null);j(this,hx,0);j(this,su);j(this,xh,null);j(this,px,null);j(this,Ji,null);j(this,mx,null);j(this,gx,0);j(this,wh,null);j(this,ka,null);j(this,Da,null);j(this,qr,!1);j(this,Lg,null);j(this,Og,null);j(this,ui,null);j(this,jg,"");j(this,bs);j(this,yx,"");this.color=n.color||Dt._defaultColor,D(this,bs,n.thickness||Dt._defaultThickness),this.opacity=n.opacity||Dt._defaultOpacity,D(this,su,n.boxes||null),D(this,yx,n.methodOfCreation||""),D(this,jg,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(D(this,qr,!0),F(this,ut,NE).call(this,n),F(this,ut,gf).call(this)):m(this,su)&&(D(this,Ig,n.anchorNode),D(this,hx,n.anchorOffset),D(this,mx,n.focusNode),D(this,gx,n.focusOffset),F(this,ut,_P).call(this),F(this,ut,gf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=Dt.prototype;return lt(this,"_keyboardManager",new Zx([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,qr)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:m(this,bs),methodOfCreation:m(this,yx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;on.initialize(n,r),Dt._defaultColor||(Dt._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case bt.HIGHLIGHT_COLOR:Dt._defaultColor=r;break;case bt.HIGHLIGHT_THICKNESS:Dt._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return m(this,Og)}get commentButtonPosition(){return m(this,Lg)}updateParams(n,r){switch(n){case bt.HIGHLIGHT_COLOR:F(this,ut,fY).call(this,r);break;case bt.HIGHLIGHT_THICKNESS:F(this,ut,hY).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,Dt._defaultColor],[bt.HIGHLIGHT_THICKNESS,Dt._defaultThickness]]}get propertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,this.color||Dt._defaultColor],[bt.HIGHLIGHT_THICKNESS,m(this,bs)||Dt._defaultThickness],[bt.HIGHLIGHT_FREE,m(this,qr)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(m(this,Da),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=m(this,px))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",D(this,px,new U0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,ut,ME).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,F(this,ut,ME).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){F(this,ut,CP).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,ut,gf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?F(this,ut,CP).call(this):n&&(F(this,ut,gf).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var a,s,o;const{drawLayer:r}=this.parent;let i;m(this,qr)?(n=(n-this.rotation+360)%360,i=F(a=Dt,Es,em).call(a,m(this,ka).box,n)):i=F(s=Dt,Es,em).call(s,[this.x,this.y,this.width,this.height],n),r.updateProperties(m(this,Da),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(m(this,ui),{bbox:F(o=Dt,Es,em).call(o,m(this,Ji).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();m(this,jg)&&(n.setAttribute("aria-label",m(this,jg)),n.setAttribute("role","mark")),m(this,qr)?n.classList.add("free"):this.div.addEventListener("keydown",F(this,ut,mY).bind(this),{signal:this._uiManager._signal});const r=D(this,wh,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,xh),this.setDims(this.width,this.height),BW(this,m(this,wh),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(m(this,ui),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(m(this,ui),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:F(this,ut,RE).call(this,!0);break;case 1:case 3:F(this,ut,RE).call(this,!1);break}}select(){var n;super.select(),m(this,ui)&&((n=this.parent)==null||n.drawLayer.updateProperties(m(this,ui),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),m(this,ui)&&((n=this.parent)==null||n.drawLayer.updateProperties(m(this,ui),{rootClass:{selected:!1}}),m(this,qr)||F(this,ut,RE).call(this,!1))}get _mustFixPosition(){return!m(this,qr)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(m(this,Da),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(m(this,ui),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:a,y:s}){const{x:o,y:u,width:c,height:f}=i.getBoundingClientRect(),h=new AbortController,g=n.combinedSignal(h),v=w=>{h.abort(),F(this,Es,bY).call(this,n,w)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Cn,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Va,{signal:g}),i.addEventListener("pointermove",F(this,Es,vY).bind(this,n),{signal:g}),this._freeHighlight=new AP({x:a,y:s},[o,u,c,f],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var E,A,C,P;let a=null;if(n instanceof Y7){const{data:{quadPoints:R,rect:I,rotation:k,id:L,color:M,opacity:z,popupRef:B,richText:V,contentsObj:U,creationDate:q,modificationDate:Q},parent:{page:{pageNumber:Z}}}=n;a=n={annotationType:nt.HIGHLIGHT,color:Array.from(M),opacity:z,quadPoints:R,boxes:null,pageIndex:Z-1,rect:I.slice(0),rotation:k,annotationElementId:L,id:L,deleted:!1,popupRef:B,richText:V,comment:(U==null?void 0:U.str)||null,creationDate:q,modificationDate:Q}}else if(n instanceof wI){const{data:{inkLists:R,rect:I,rotation:k,id:L,color:M,borderStyle:{rawWidth:z},popupRef:B,richText:V,contentsObj:U,creationDate:q,modificationDate:Q},parent:{page:{pageNumber:Z}}}=n;a=n={annotationType:nt.HIGHLIGHT,color:Array.from(M),thickness:z,inkLists:R,boxes:null,pageIndex:Z-1,rect:I.slice(0),rotation:k,annotationElementId:L,id:L,deleted:!1,popupRef:B,richText:V,comment:(U==null?void 0:U.str)||null,creationDate:q,modificationDate:Q}}const{color:s,quadPoints:o,inkLists:u,opacity:c}=n,f=await super.deserialize(n,r,i);f.color=ke.makeHexColor(...s),f.opacity=c||1,u&&D(f,bs,n.thickness),f._initialData=a,n.comment&&f.setCommentData(n);const[h,g]=f.pageDimensions,[v,w]=f.pageTranslation;if(o){const R=D(f,su,[]);for(let I=0;I<o.length;I+=8)R.push({x:(o[I]-v)/h,y:1-(o[I+1]-w)/g,width:(o[I+2]-o[I])/h,height:(o[I+1]-o[I+5])/g});F(E=f,ut,_P).call(E),F(A=f,ut,gf).call(A),f.rotate(f.rotation)}else if(u){D(f,qr,!0);const R=u[0],I={x:R[0]-v,y:g-(R[1]-w)},k=new AP(I,[0,0,h,g],1,m(f,bs)/2,!0,.001);for(let z=0,B=R.length;z<B;z+=2)I.x=R[z]-v,I.y=g-(R[z+1]-w),k.add(I);const{id:L,clipPathId:M}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:k.toSVGPath()}},!0,!0);F(C=f,ut,NE).call(C,{highlightOutlines:k.getOutlines(),highlightId:L,clipPathId:M}),F(P=f,ut,gf).call(P),f.rotate(f.parentRotation)}return f}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=on._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:m(this,bs),quadPoints:F(this,ut,gY).call(this),outlines:F(this,ut,yY).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!F(this,ut,xY).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Ig=new WeakMap,hx=new WeakMap,su=new WeakMap,xh=new WeakMap,px=new WeakMap,Ji=new WeakMap,mx=new WeakMap,gx=new WeakMap,wh=new WeakMap,ka=new WeakMap,Da=new WeakMap,qr=new WeakMap,Lg=new WeakMap,Og=new WeakMap,ui=new WeakMap,jg=new WeakMap,bs=new WeakMap,yx=new WeakMap,ut=new WeakSet,_P=function(){const n=new SP(m(this,su),.001);D(this,ka,n.getOutlines()),[this.x,this.y,this.width,this.height]=m(this,ka).box;const r=new SP(m(this,su),.0025,.001,this._uiManager.direction==="ltr");D(this,Ji,r.getOutlines());const{firstPoint:i}=m(this,ka);D(this,Lg,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:a}=m(this,Ji);D(this,Og,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},NE=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var g,v;if(D(this,ka,n),D(this,Ji,n.getNewOutline(m(this,bs)/2+1.5,.0025)),r>=0)D(this,Da,r),D(this,xh,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),D(this,ui,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:m(this,Ji).box,path:{d:m(this,Ji).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(m(this,Da),{bbox:F(g=Dt,Es,em).call(g,m(this,ka).box,(w-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(m(this,ui),{bbox:F(v=Dt,Es,em).call(v,m(this,Ji).box,w),path:{d:m(this,Ji).toSVGPath()}})}const[s,o,u,c]=n.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=u,this.height=c;break;case 90:{const[w,E]=this.parentDimensions;this.x=o,this.y=1-s,this.width=u*E/w,this.height=c*w/E;break}case 180:this.x=1-s,this.y=1-o,this.width=u,this.height=c;break;case 270:{const[w,E]=this.parentDimensions;this.x=1-o,this.y=s,this.width=u*E/w,this.height=c*w/E;break}}const{firstPoint:f}=n;D(this,Lg,[(f[0]-s)/u,(f[1]-o)/c]);const{lastPoint:h}=m(this,Ji);D(this,Og,[(h[0]-s)/u,(h[1]-o)/c])},fY=function(n){const r=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:r.bind(this,n,Dt._defaultOpacity),undo:r.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},hY=function(n){const r=m(this,bs),i=a=>{D(this,bs,a),F(this,ut,pY).call(this,a)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},pY=function(n){m(this,qr)&&(F(this,ut,NE).call(this,{highlightOutlines:m(this,ka).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},CP=function(){m(this,Da)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Da)),D(this,Da,null),this.parent.drawLayer.remove(m(this,ui)),D(this,ui,null))},gf=function(n=this.parent){m(this,Da)===null&&({id:ar(this,Da)._,clipPathId:ar(this,xh)._}=n.drawLayer.draw({bbox:m(this,ka).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:m(this,qr)},path:{d:m(this,ka).toSVGPath()}},!1,!0),D(this,ui,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:m(this,qr)},bbox:m(this,Ji).box,path:{d:m(this,Ji).toSVGPath()}},m(this,qr))),m(this,wh)&&(m(this,wh).style.clipPath=m(this,xh)))},Es=new WeakSet,em=function([n,r,i,a],s){switch(s){case 90:return[1-r-a,n,a,i];case 180:return[1-n-i,1-r-a,i,a];case 270:return[r,1-n-i,a,i]}return[n,r,i,a]},mY=function(n){Dt._keyboardManager.exec(this,n)},RE=function(n){if(!m(this,Ig))return;const r=window.getSelection();n?r.setPosition(m(this,Ig),m(this,hx)):r.setPosition(m(this,mx),m(this,gx))},ME=function(){return m(this,qr)?this.rotation:0},gY=function(){if(m(this,qr))return null;const[n,r]=this.pageDimensions,[i,a]=this.pageTranslation,s=m(this,su),o=new Float32Array(s.length*8);let u=0;for(const{x:c,y:f,width:h,height:g}of s){const v=c*n+i,w=(1-f)*r+a;o[u]=o[u+4]=v,o[u+1]=o[u+3]=w,o[u+2]=o[u+6]=v+h*n,o[u+5]=o[u+7]=w-g*r,u+=8}return o},yY=function(n){return m(this,ka).serialize(n,F(this,ut,ME).call(this))},vY=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},bY=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},xY=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,a)=>i!==r[a])},j(Dt,Es),be(Dt,"_defaultColor",null),be(Dt,"_defaultOpacity",1),be(Dt,"_defaultThickness",12),be(Dt,"_type","highlight"),be(Dt,"_editorType",nt.HIGHLIGHT),be(Dt,"_freeHighlightId",-1),be(Dt,"_freeHighlight",null),be(Dt,"_freeHighlightClipId","");let VA=Dt;var Sh;class wY{constructor(){j(this,Sh,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){m(this,Sh)[e]=n}toSVGProperties(){const e=m(this,Sh);return D(this,Sh,Object.create(null)),{root:e}}reset(){D(this,Sh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){an("Not implemented")}}Sh=new WeakMap;var Ia,Fg,Ar,Eh,Ah,od,ld,ud,_h,St,TP,NP,RP,r0,SY,PE,i0,tm;const Oe=class Oe extends on{constructor(n){super(n);j(this,St);j(this,Ia,null);j(this,Fg);be(this,"_colorPicker",null);be(this,"_drawId",null);D(this,Fg,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(F(this,St,TP).call(this,n),F(this,St,r0).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[a,s]of Object.entries(r))i.has(a)?Object.assign(n[a],s):n[a]=s;return n}static getDefaultDrawingOptions(n){an("Not implemented")}static get typesMap(){an("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(m(Oe,Ar).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)n.push([i,r[a]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,a]of this.constructor.typesMap)n.push([i,r[a]]);return n}_updateProperty(n,r,i){const a=this._drawingOptions,s=a[r],o=u=>{var f;a.updateProperty(r,u);const c=m(this,Ia).updateProperty(r,u);c&&F(this,St,i0).call(this,c),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Oe._mergeSVGProperties(m(this,Ia).getPathResizingSVGProperties(F(this,St,PE).call(this)),{bbox:F(this,St,tm).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Oe._mergeSVGProperties(m(this,Ia).getPathResizedSVGProperties(F(this,St,PE).call(this)),{bbox:F(this,St,tm).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:F(this,St,tm).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Oe._mergeSVGProperties(m(this,Ia).getPathTranslatedSVGProperties(F(this,St,PE).call(this),this.parentDimensions),{bbox:F(this,St,tm).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,m(this,Fg)&&(D(this,Fg,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){F(this,St,RP).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,St,r0).call(this),F(this,St,i0).call(this,m(this,Ia).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),F(this,St,RP).call(this)):n&&(this._uiManager.addShouldRescale(this),F(this,St,r0).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Oe._mergeSVGProperties({bbox:F(this,St,tm).call(this)},m(this,Ia).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&F(this,St,i0).call(this,m(this,Ia).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,a,s){an("Not implemented")}static startDrawing(n,r,i,a){var A;const{target:s,offsetX:o,offsetY:u,pointerId:c,pointerType:f}=a;if(m(Oe,ld)&&m(Oe,ld)!==f)return;const{viewport:{rotation:h}}=n,{width:g,height:v}=s.getBoundingClientRect(),w=D(Oe,Eh,new AbortController),E=n.combinedSignal(w);if(m(Oe,od)||D(Oe,od,c),m(Oe,ld)??D(Oe,ld,f),window.addEventListener("pointerup",C=>{var P;m(Oe,od)===C.pointerId?this._endDraw(C):(P=m(Oe,ud))==null||P.delete(C.pointerId)},{signal:E}),window.addEventListener("pointercancel",C=>{var P;m(Oe,od)===C.pointerId?this._currentParent.endDrawingSession():(P=m(Oe,ud))==null||P.delete(C.pointerId)},{signal:E}),window.addEventListener("pointerdown",C=>{m(Oe,ld)===C.pointerType&&((m(Oe,ud)||D(Oe,ud,new Set)).add(C.pointerId),m(Oe,Ar).isCancellable()&&(m(Oe,Ar).removeLastElement(),m(Oe,Ar).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",Va,{signal:E}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),s.addEventListener("touchmove",C=>{C.timeStamp===m(Oe,_h)&&Cn(C)},{signal:E}),n.toggleDrawing(),(A=r._editorUndoBar)==null||A.hide(),m(Oe,Ar)){n.drawLayer.updateProperties(this._currentDrawId,m(Oe,Ar).startNew(o,u,g,v,h));return}r.updateUIForDefaultProperties(this),D(Oe,Ar,this.createDrawerInstance(o,u,g,v,h)),D(Oe,Ah,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(m(Oe,Ah).toSVGProperties(),m(Oe,Ar).defaultSVGProperties),!0,!1)}static _drawMove(n){var s;if(D(Oe,_h,-1),!m(Oe,Ar))return;const{offsetX:r,offsetY:i,pointerId:a}=n;if(m(Oe,od)===a){if(((s=m(Oe,ud))==null?void 0:s.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,m(Oe,Ar).add(r,i)),D(Oe,_h,n.timeStamp),Cn(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,D(Oe,Ar,null),D(Oe,Ah,null),D(Oe,ld,null),D(Oe,_h,NaN)),m(Oe,Eh)&&(m(Oe,Eh).abort(),D(Oe,Eh,null),D(Oe,od,NaN),D(Oe,ud,null))}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,m(Oe,Ar).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=m(Oe,Ar),a=this._currentDrawId,s=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(a,i.setLastElement(s))},undo:()=>{r.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(bt.DRAW_STEP),!m(Oe,Ar).isEmpty()){const{pageDimensions:[i,a],scale:s}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:m(Oe,Ar).getOutlines(i*s,a*s,s,this._INNER_MARGIN),drawingOptions:m(Oe,Ah),mustBeCommitted:!n});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,a,s,o){an("Not implemented")}static async deserialize(n,r,i){var h,g;const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:u}}=r.viewport,c=this.deserializeDraw(o,u,a,s,this._INNER_MARGIN,n),f=await super.deserialize(n,r,i);return f.createDrawingOptions(n),F(h=f,St,TP).call(h,{drawOutlines:c}),F(g=f,St,r0).call(g),f.onScaleChanging(),f.rotate(),f}serializeDraw(n){const[r,i]=this.pageTranslation,[a,s]=this.pageDimensions;return m(this,Ia).serialize([r,i,a,s],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Ia=new WeakMap,Fg=new WeakMap,Ar=new WeakMap,Eh=new WeakMap,Ah=new WeakMap,od=new WeakMap,ld=new WeakMap,ud=new WeakMap,_h=new WeakMap,St=new WeakSet,TP=function({drawOutlines:n,drawId:r,drawingOptions:i}){D(this,Ia,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=F(this,St,NP).call(this,n,this.parent),F(this,St,i0).call(this,n.box)},NP=function(n,r){const{id:i}=r.drawLayer.draw(Oe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},RP=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},r0=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=F(this,St,NP).call(this,m(this,Ia),n)}},SY=function([n,r,i,a]){const{parentDimensions:[s,o],rotation:u}=this;switch(u){case 90:return[r,1-n,i*(o/s),a*(s/o)];case 180:return[1-n,1-r,i,a];case 270:return[1-r,n,i*(o/s),a*(s/o)];default:return[n,r,i,a]}},PE=function(){const{x:n,y:r,width:i,height:a,parentDimensions:[s,o],rotation:u}=this;switch(u){case 90:return[1-r,n,i*(s/o),a*(o/s)];case 180:return[1-n,1-r,i,a];case 270:return[r,1-n,i*(s/o),a*(o/s)];default:return[n,r,i,a]}},i0=function(n){[this.x,this.y,this.width,this.height]=F(this,St,SY).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},tm=function(){const{x:n,y:r,width:i,height:a,rotation:s,parentRotation:o,parentDimensions:[u,c]}=this;switch((s*4+o)/90){case 1:return[1-r-a,n,a,i];case 2:return[1-n-i,1-r-a,i,a];case 3:return[r,1-n-i,a,i];case 4:return[n,r-i*(u/c),a*(c/u),i*(u/c)];case 5:return[1-r,n,i*(u/c),a*(c/u)];case 6:return[1-n-a*(c/u),1-r,a*(c/u),i*(u/c)];case 7:return[r-i*(u/c),1-n-a*(c/u),i*(u/c),a*(c/u)];case 8:return[n-i,r-a,i,a];case 9:return[1-r,n-i,a,i];case 10:return[1-n,1-r,i,a];case 11:return[r-a,1-n,a,i];case 12:return[n-a*(c/u),r,a*(c/u),i*(u/c)];case 13:return[1-r-i*(u/c),n-a*(c/u),i*(u/c),a*(c/u)];case 14:return[1-n,1-r-i*(u/c),a*(c/u),i*(u/c)];case 15:return[r,1-n,i*(u/c),a*(c/u)];default:return[n,r,i,a]}},be(Oe,"_currentDrawId",-1),be(Oe,"_currentParent",null),j(Oe,Ar,null),j(Oe,Eh,null),j(Oe,Ah,null),j(Oe,od,NaN),j(Oe,ld,null),j(Oe,ud,null),j(Oe,_h,NaN),be(Oe,"_INNER_MARGIN",3);let WA=Oe;var Bo,_r,Cr,Ch,Ug,_i,$r,xs,Th,Nh,Rh,Bg,kE;class W1e{constructor(e,n,r,i,a,s){j(this,Bg);j(this,Bo,new Float64Array(6));j(this,_r);j(this,Cr);j(this,Ch);j(this,Ug);j(this,_i);j(this,$r,"");j(this,xs,0);j(this,Th,new tw);j(this,Nh);j(this,Rh);D(this,Nh,r),D(this,Rh,i),D(this,Ch,a),D(this,Ug,s),[e,n]=F(this,Bg,kE).call(this,e,n);const o=D(this,_r,[NaN,NaN,NaN,NaN,e,n]);D(this,_i,[e,n]),D(this,Cr,[{line:o,points:m(this,_i)}]),m(this,Bo).set(o,0)}updateProperty(e,n){e==="stroke-width"&&D(this,Ug,n)}isEmpty(){return!m(this,Cr)||m(this,Cr).length===0}isCancellable(){return m(this,_i).length<=10}add(e,n){[e,n]=F(this,Bg,kE).call(this,e,n);const[r,i,a,s]=m(this,Bo).subarray(2,6),o=e-a,u=n-s;return Math.hypot(m(this,Nh)*o,m(this,Rh)*u)<=2?null:(m(this,_i).push(e,n),isNaN(r)?(m(this,Bo).set([a,s,e,n],2),m(this,_r).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(m(this,Bo)[0])&&m(this,_r).splice(6,6),m(this,Bo).set([r,i,a,s,e,n],0),m(this,_r).push(...Pe.createBezierPoints(r,i,a,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(m(this,_i).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){D(this,Nh,r),D(this,Rh,i),D(this,Ch,a),[e,n]=F(this,Bg,kE).call(this,e,n);const s=D(this,_r,[NaN,NaN,NaN,NaN,e,n]);D(this,_i,[e,n]);const o=m(this,Cr).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),m(this,Cr).push({line:s,points:m(this,_i)}),m(this,Bo).set(s,0),D(this,xs,0),this.toSVGPath(),null}getLastElement(){return m(this,Cr).at(-1)}setLastElement(e){return m(this,Cr)?(m(this,Cr).push(e),D(this,_r,e.line),D(this,_i,e.points),D(this,xs,0),{path:{d:this.toSVGPath()}}):m(this,Th).setLastElement(e)}removeLastElement(){if(!m(this,Cr))return m(this,Th).removeLastElement();m(this,Cr).pop(),D(this,$r,"");for(let e=0,n=m(this,Cr).length;e<n;e++){const{line:r,points:i}=m(this,Cr)[e];D(this,_r,r),D(this,_i,i),D(this,xs,0),this.toSVGPath()}return{path:{d:m(this,$r)}}}toSVGPath(){const e=Pe.svgRound(m(this,_r)[4]),n=Pe.svgRound(m(this,_r)[5]);if(m(this,_i).length===2)return D(this,$r,`${m(this,$r)} M ${e} ${n} Z`),m(this,$r);if(m(this,_i).length<=6){const i=m(this,$r).lastIndexOf("M");D(this,$r,`${m(this,$r).slice(0,i)} M ${e} ${n}`),D(this,xs,6)}if(m(this,_i).length===4){const i=Pe.svgRound(m(this,_r)[10]),a=Pe.svgRound(m(this,_r)[11]);return D(this,$r,`${m(this,$r)} L ${i} ${a}`),D(this,xs,12),m(this,$r)}const r=[];m(this,xs)===0&&(r.push(`M ${e} ${n}`),D(this,xs,6));for(let i=m(this,xs),a=m(this,_r).length;i<a;i+=6){const[s,o,u,c,f,h]=m(this,_r).slice(i,i+6).map(Pe.svgRound);r.push(`C${s} ${o} ${u} ${c} ${f} ${h}`)}return D(this,$r,m(this,$r)+r.join(" ")),D(this,xs,m(this,_r).length),m(this,$r)}getOutlines(e,n,r,i){const a=m(this,Cr).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),m(this,Th).build(m(this,Cr),e,n,r,m(this,Ch),m(this,Ug),i),D(this,Bo,null),D(this,_r,null),D(this,Cr,null),D(this,$r,null),m(this,Th)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Bo=new WeakMap,_r=new WeakMap,Cr=new WeakMap,Ch=new WeakMap,Ug=new WeakMap,_i=new WeakMap,$r=new WeakMap,xs=new WeakMap,Th=new WeakMap,Nh=new WeakMap,Rh=new WeakMap,Bg=new WeakSet,kE=function(e,n){return Pe._normalizePoint(e,n,m(this,Nh),m(this,Rh),m(this,Ch))};var Ci,vx,bx,La,zo,Ho,zg,Hg,Mh,Yr,Nl,EY,AY,_Y;class tw extends Pe{constructor(){super(...arguments);j(this,Yr);j(this,Ci);j(this,vx,0);j(this,bx);j(this,La);j(this,zo);j(this,Ho);j(this,zg);j(this,Hg);j(this,Mh)}build(n,r,i,a,s,o,u){D(this,zo,r),D(this,Ho,i),D(this,zg,a),D(this,Hg,s),D(this,Mh,o),D(this,bx,u??0),D(this,La,n),F(this,Yr,AY).call(this)}get thickness(){return m(this,Mh)}setLastElement(n){return m(this,La).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return m(this,La).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of m(this,La)){if(n.push(`M${Pe.svgRound(r[4])} ${Pe.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${Pe.svgRound(r[10])} ${Pe.svgRound(r[11])}`);continue}for(let i=6,a=r.length;i<a;i+=6){const[s,o,u,c,f,h]=r.subarray(i,i+6).map(Pe.svgRound);n.push(`C${s} ${o} ${u} ${c} ${f} ${h}`)}}return n.join("")}serialize([n,r,i,a],s){const o=[],u=[],[c,f,h,g]=F(this,Yr,EY).call(this);let v,w,E,A,C,P,R,I,k;switch(m(this,Hg)){case 0:k=Pe._rescale,v=n,w=r+a,E=i,A=-a,C=n+c*i,P=r+(1-f-g)*a,R=n+(c+h)*i,I=r+(1-f)*a;break;case 90:k=Pe._rescaleAndSwap,v=n,w=r,E=i,A=a,C=n+f*i,P=r+c*a,R=n+(f+g)*i,I=r+(c+h)*a;break;case 180:k=Pe._rescale,v=n+i,w=r,E=-i,A=a,C=n+(1-c-h)*i,P=r+f*a,R=n+(1-c)*i,I=r+(f+g)*a;break;case 270:k=Pe._rescaleAndSwap,v=n+i,w=r+a,E=-i,A=-a,C=n+(1-f-g)*i,P=r+(1-c-h)*a,R=n+(1-f)*i,I=r+(1-c)*a;break}for(const{line:L,points:M}of m(this,La))o.push(k(L,v,w,E,A,s?new Array(L.length):null)),u.push(k(M,v,w,E,A,s?new Array(M.length):null));return{lines:o,points:u,rect:[C,P,R,I]}}static deserialize(n,r,i,a,s,{paths:{lines:o,points:u},rotation:c,thickness:f}){const h=[];let g,v,w,E,A;switch(c){case 0:A=Pe._rescale,g=-n/i,v=r/a+1,w=1/i,E=-1/a;break;case 90:A=Pe._rescaleAndSwap,g=-r/a,v=-n/i,w=1/a,E=1/i;break;case 180:A=Pe._rescale,g=n/i+1,v=-r/a,w=-1/i,E=1/a;break;case 270:A=Pe._rescaleAndSwap,g=r/a+1,v=n/i+1,w=-1/a,E=-1/i;break}if(!o){o=[];for(const P of u){const R=P.length;if(R===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,P[0],P[1]]));continue}if(R===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,P[0],P[1],NaN,NaN,NaN,NaN,P[2],P[3]]));continue}const I=new Float32Array(3*(R-2));o.push(I);let[k,L,M,z]=P.subarray(0,4);I.set([NaN,NaN,NaN,NaN,k,L],0);for(let B=4;B<R;B+=2){const V=P[B],U=P[B+1];I.set(Pe.createBezierPoints(k,L,M,z,V,U),(B-2)*3),[k,L,M,z]=[M,z,V,U]}}}for(let P=0,R=o.length;P<R;P++)h.push({line:A(o[P].map(I=>I??NaN),g,v,w,E),points:A(u[P].map(I=>I??NaN),g,v,w,E)});const C=new this.prototype.constructor;return C.build(h,i,a,1,c,f,s),C}get box(){return m(this,Ci)}updateProperty(n,r){return n==="stroke-width"?F(this,Yr,_Y).call(this,r):null}updateParentDimensions([n,r],i){const[a,s]=F(this,Yr,Nl).call(this);D(this,zo,n),D(this,Ho,r),D(this,zg,i);const[o,u]=F(this,Yr,Nl).call(this),c=o-a,f=u-s,h=m(this,Ci);return h[0]-=c,h[1]-=f,h[2]+=2*c,h[3]+=2*f,h}updateRotation(n){return D(this,vx,n),{path:{transform:this.rotationTransform}}}get viewBox(){return m(this,Ci).map(Pe.svgRound).join(" ")}get defaultProperties(){const[n,r]=m(this,Ci);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(n)} ${Pe.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=m(this,Ci);let i=0,a=0,s=0,o=0,u=0,c=0;switch(m(this,vx)){case 90:a=r/n,s=-n/r,u=n;break;case 180:i=-1,o=-1,u=n,c=r;break;case 270:a=-r/n,s=n/r,c=r;break;default:return""}return`matrix(${i} ${a} ${s} ${o} ${Pe.svgRound(u)} ${Pe.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,a]){const[s,o]=F(this,Yr,Nl).call(this),[u,c,f,h]=m(this,Ci);if(Math.abs(f-s)<=Pe.PRECISION||Math.abs(h-o)<=Pe.PRECISION){const A=n+i/2-(u+f/2),C=r+a/2-(c+h/2);return{path:{"transform-origin":`${Pe.svgRound(n)} ${Pe.svgRound(r)}`,transform:`${this.rotationTransform} translate(${A} ${C})`}}}const g=(i-2*s)/(f-2*s),v=(a-2*o)/(h-2*o),w=f/i,E=h/a;return{path:{"transform-origin":`${Pe.svgRound(u)} ${Pe.svgRound(c)}`,transform:`${this.rotationTransform} scale(${w} ${E}) translate(${Pe.svgRound(s)} ${Pe.svgRound(o)}) scale(${g} ${v}) translate(${Pe.svgRound(-s)} ${Pe.svgRound(-o)})`}}}getPathResizedSVGProperties([n,r,i,a]){const[s,o]=F(this,Yr,Nl).call(this),u=m(this,Ci),[c,f,h,g]=u;if(u[0]=n,u[1]=r,u[2]=i,u[3]=a,Math.abs(h-s)<=Pe.PRECISION||Math.abs(g-o)<=Pe.PRECISION){const C=n+i/2-(c+h/2),P=r+a/2-(f+g/2);for(const{line:R,points:I}of m(this,La))Pe._translate(R,C,P,R),Pe._translate(I,C,P,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(n)} ${Pe.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*s)/(h-2*s),w=(a-2*o)/(g-2*o),E=-v*(c+s)+n+s,A=-w*(f+o)+r+o;if(v!==1||w!==1||E!==0||A!==0)for(const{line:C,points:P}of m(this,La))Pe._rescale(C,E,A,v,w,C),Pe._rescale(P,E,A,v,w,P);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pe.svgRound(n)} ${Pe.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[a,s]=i,o=m(this,Ci),u=n-o[0],c=r-o[1];if(m(this,zo)===a&&m(this,Ho)===s)for(const{line:f,points:h}of m(this,La))Pe._translate(f,u,c,f),Pe._translate(h,u,c,h);else{const f=m(this,zo)/a,h=m(this,Ho)/s;D(this,zo,a),D(this,Ho,s);for(const{line:g,points:v}of m(this,La))Pe._rescale(g,u,c,f,h,g),Pe._rescale(v,u,c,f,h,v);o[2]*=f,o[3]*=h}return o[0]=n,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Pe.svgRound(n)} ${Pe.svgRound(r)}`}}}get defaultSVGProperties(){const n=m(this,Ci);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Pe.svgRound(n[0])} ${Pe.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Ci=new WeakMap,vx=new WeakMap,bx=new WeakMap,La=new WeakMap,zo=new WeakMap,Ho=new WeakMap,zg=new WeakMap,Hg=new WeakMap,Mh=new WeakMap,Yr=new WeakSet,Nl=function(n=m(this,Mh)){const r=m(this,bx)+n/2*m(this,zg);return m(this,Hg)%180===0?[r/m(this,zo),r/m(this,Ho)]:[r/m(this,Ho),r/m(this,zo)]},EY=function(){const[n,r,i,a]=m(this,Ci),[s,o]=F(this,Yr,Nl).call(this,0);return[n+s,r+o,i-2*s,a-2*o]},AY=function(){const n=D(this,Ci,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of m(this,La)){if(a.length<=12){for(let u=4,c=a.length;u<c;u+=6)ke.pointBoundingBox(a[u],a[u+1],n);continue}let s=a[4],o=a[5];for(let u=6,c=a.length;u<c;u+=6){const[f,h,g,v,w,E]=a.subarray(u,u+6);ke.bezierBoundingBox(s,o,f,h,g,v,w,E,n),s=w,o=E}}const[r,i]=F(this,Yr,Nl).call(this);n[0]=di(n[0]-r,0,1),n[1]=di(n[1]-i,0,1),n[2]=di(n[2]+r,0,1),n[3]=di(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},_Y=function(n){const[r,i]=F(this,Yr,Nl).call(this);D(this,Mh,n);const[a,s]=F(this,Yr,Nl).call(this),[o,u]=[a-r,s-i],c=m(this,Ci);return c[0]-=o,c[1]-=u,c[2]+=2*o,c[3]+=2*u,c};class C_ extends wY{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:on._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new C_(this._viewParameters);return e.updateAll(this),e}}var h1,CY;const dm=class dm extends WA{constructor(n){super({...n,name:"inkEditor"});j(this,h1);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){on.initialize(n,r),this._defaultDrawingOptions=new C_(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return lt(this,"typesMap",new Map([[bt.INK_THICKNESS,"stroke-width"],[bt.INK_COLOR,"stroke"],[bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,a,s){return new W1e(n,r,i,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,a,s,o){return tw.deserialize(n,r,i,a,s,o)}static async deserialize(n,r,i){let a=null;if(n instanceof wI){const{data:{inkLists:o,rect:u,rotation:c,id:f,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:w,richText:E,contentsObj:A,creationDate:C,modificationDate:P},parent:{page:{pageNumber:R}}}=n;a=n={annotationType:nt.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:R-1,rect:u.slice(0),rotation:c,annotationElementId:f,id:f,deleted:!1,popupRef:w,richText:E,comment:(A==null?void 0:A.str)||null,creationDate:C,modificationDate:P}}const s=await super.deserialize(n,r,i);return s._initialData=a,n.comment&&s.setCommentData(n),s}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new qA(this)),[["colorPicker",this._colorPicker]]}get colorType(){return bt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=dm.getDefaultDrawingOptions({stroke:ke.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":o}}=this,u=Object.assign(super.serialize(n),{color:on._colorManager.convert(a),opacity:s,thickness:o,paths:{lines:r,points:i}});return this.addComment(u),n?(u.isCopy=!0,u):this.annotationElementId&&!F(this,h1,CY).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};h1=new WeakSet,CY=function(n){const{color:r,thickness:i,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((o,u)=>o!==r[u])||n.thickness!==i||n.opacity!==a||n.pageIndex!==s},be(dm,"_type","ink"),be(dm,"_editorType",nt.INK),be(dm,"_defaultDrawingOptions",null);let MP=dm;class PP extends tw{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const YS=8,Lv=3;var Ph,It,kP,Xs,TY,NY,DP,DE,RY,MY,PY,IP,LP,kY;class Wo{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},a,s,o,u){let c=new OffscreenCanvas(1,1),f=c.getContext("2d",{alpha:!1});const h=200,g=f.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:w,actualBoundingBoxAscent:E,actualBoundingBoxDescent:A,fontBoundingBoxAscent:C,fontBoundingBoxDescent:P,width:R}=f.measureText(e),I=1.5,k=Math.ceil(Math.max(Math.abs(v)+Math.abs(w)||0,R)*I),L=Math.ceil(Math.max(Math.abs(E)+Math.abs(A)||h,Math.abs(C)+Math.abs(P)||h)*I);c=new OffscreenCanvas(k,L),f=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,k,L),f.fillStyle="black",f.fillText(e,k*(I-1)/2,L*(3-I)/2);const M=F(this,It,IP).call(this,f.getImageData(0,0,k,L).data),z=F(this,It,PY).call(this,M),B=F(this,It,LP).call(this,z),V=F(this,It,DP).call(this,M,k,L,B);return this.processDrawnLines({lines:{curves:V,width:k,height:L},pageWidth:a,pageHeight:s,rotation:o,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,a){const[s,o,u]=F(this,It,kY).call(this,e),[c,f]=F(this,It,MY).call(this,s,o,u,Math.hypot(o,u)*m(this,Ph).sigmaSFactor,m(this,Ph).sigmaR,m(this,Ph).kernelSize),h=F(this,It,LP).call(this,f),g=F(this,It,DP).call(this,c,o,u,h);return this.processDrawnLines({lines:{curves:g,width:o,height:u},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:s,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:u,width:c,height:f}=e,h=e.thickness??0,g=[],v=Math.min(n/c,r/f),w=v/n,E=v/r,A=[];for(const{points:P}of u){const R=s?F(this,It,RY).call(this,P):P;if(!R)continue;A.push(R);const I=R.length,k=new Float32Array(I),L=new Float32Array(3*(I===2?2:I-2));if(g.push({line:L,points:k}),I===2){k[0]=R[0]*w,k[1]=R[1]*E,L.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[M,z,B,V]=R;M*=w,z*=E,B*=w,V*=E,k.set([M,z,B,V],0),L.set([NaN,NaN,NaN,NaN,M,z],0);for(let U=4;U<I;U+=2){const q=k[U]=R[U]*w,Q=k[U+1]=R[U+1]*E;L.set(Pe.createBezierPoints(M,z,B,V,q,Q),(U-2)*3),[M,z,B,V]=[B,V,q,Q]}}if(g.length===0)return null;const C=o?new PP:new tw;return C.build(g,n,r,1,i,o?0:h,a),{outline:C,newCurves:A,areContours:o,thickness:h,width:c,height:f}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:a}){let s=1/0,o=-1/0,u=0;for(const R of e){u+=R.length;for(let I=2,k=R.length;I<k;I++){const L=R[I]-R[I-2];s=Math.min(s,L),o=Math.max(o,L)}}let c;s>=-128&&o<=127?c=Int8Array:s>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const f=e.length,h=YS+Lv*f,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*c.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=i,g[v++]=a,g[v++]=n?0:1,g[v++]=Math.max(0,Math.floor(r??0)),g[v++]=f,g[v++]=c.BYTES_PER_ELEMENT;for(const R of e)g[v++]=R.length-2,g[v++]=R[0],g[v++]=R[1];const w=new CompressionStream("deflate-raw"),E=w.writable.getWriter();await E.ready,E.write(g);const A=c.prototype.constructor;for(const R of e){const I=new A(R.length-2);for(let k=2,L=R.length;k<L;k++)I[k-2]=R[k]-R[k-2];E.write(I)}E.close();const C=await new Response(w.readable).arrayBuffer(),P=new Uint8Array(C);return NW(P)}static async decompressSignature(e){try{const n=vAe(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,o=0;for await(const R of r)s||(s=new Uint8Array(new Uint32Array(R.buffer,0,4)[0])),s.set(R,o),o+=R.length;const u=new Uint32Array(s.buffer,0,s.length>>2),c=u[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const f=u[2],h=u[3],g=u[4]===0,v=u[5],w=u[6],E=u[7],A=[],C=(YS+Lv*w)*Uint32Array.BYTES_PER_ELEMENT;let P;switch(E){case Int8Array.BYTES_PER_ELEMENT:P=new Int8Array(s.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:P=new Int16Array(s.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:P=new Int32Array(s.buffer,C);break}o=0;for(let R=0;R<w;R++){const I=u[Lv*R+YS],k=new Float32Array(I+2);A.push(k);for(let L=0;L<Lv-1;L++)k[L]=u[Lv*R+YS+L+1];for(let L=0;L<I;L++)k[L+2]=k[L]+P[o++]}return{areContours:g,thickness:v,outlines:A,width:f,height:h}}catch(n){return rt(`decompressSignature: ${n}`),null}}}Ph=new WeakMap,It=new WeakSet,kP=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},Xs=new WeakMap,TY=function(e,n,r,i,a,s,o){const u=F(this,It,kP).call(this,r,i,a,s);for(let c=0;c<8;c++){const f=(-c+u-o+16)%8,h=m(this,Xs)[2*f],g=m(this,Xs)[2*f+1];if(e[(r+h)*n+(i+g)]!==0)return f}return-1},NY=function(e,n,r,i,a,s,o){const u=F(this,It,kP).call(this,r,i,a,s);for(let c=0;c<8;c++){const f=(c+u+o+16)%8,h=m(this,Xs)[2*f],g=m(this,Xs)[2*f+1];if(e[(r+h)*n+(i+g)]!==0)return f}return-1},DP=function(e,n,r,i){const a=e.length,s=new Int32Array(a);for(let f=0;f<a;f++)s[f]=e[f]<=i?1:0;for(let f=1;f<r-1;f++)s[f*n]=s[f*n+n-1]=0;for(let f=0;f<n;f++)s[f]=s[n*r-1-f]=0;let o=1,u;const c=[];for(let f=1;f<r-1;f++){u=1;for(let h=1;h<n-1;h++){const g=f*n+h,v=s[g];if(v===0)continue;let w=f,E=h;if(v===1&&s[g-1]===0)o+=1,E-=1;else if(v>=1&&s[g+1]===0)o+=1,E+=1,v>1&&(u=v);else{v!==1&&(u=Math.abs(v));continue}const A=[h,f],C=E===h+1,P={isHole:C,points:A,id:o,parent:0};c.push(P);let R;for(const U of c)if(U.id===u){R=U;break}R?R.isHole?P.parent=C?R.parent:u:P.parent=C?u:R.parent:P.parent=C?u:0;const I=F(this,It,TY).call(this,s,n,f,h,w,E,0);if(I===-1){s[g]=-o,s[g]!==1&&(u=Math.abs(s[g]));continue}let k=m(this,Xs)[2*I],L=m(this,Xs)[2*I+1];const M=f+k,z=h+L;w=M,E=z;let B=f,V=h;for(;;){const U=F(this,It,NY).call(this,s,n,B,V,w,E,1);k=m(this,Xs)[2*U],L=m(this,Xs)[2*U+1];const q=B+k,Q=V+L;A.push(Q,q);const Z=B*n+V;if(s[Z+1]===0?s[Z]=-o:s[Z]===1&&(s[Z]=o),q===f&&Q===h&&B===M&&V===z){s[g]!==1&&(u=Math.abs(s[g]));break}else w=B,E=V,B=q,V=Q}}}return c},DE=function(e,n,r,i){if(r-n<=4){for(let M=n;M<r-2;M+=2)i.push(e[M],e[M+1]);return}const a=e[n],s=e[n+1],o=e[r-4]-a,u=e[r-3]-s,c=Math.hypot(o,u),f=o/c,h=u/c,g=f*s-h*a,v=u/o,w=1/c,E=Math.atan(v),A=Math.cos(E),C=Math.sin(E),P=w*(Math.abs(A)+Math.abs(C)),R=w*(1-P+P**2),I=Math.max(Math.atan(Math.abs(C+A)*R),Math.atan(Math.abs(C-A)*R));let k=0,L=n;for(let M=n+2;M<r-2;M+=2){const z=Math.abs(g-f*e[M+1]+h*e[M]);z>k&&(L=M,k=z)}k>(c*I)**2?(F(this,It,DE).call(this,e,n,L+2,i),F(this,It,DE).call(this,e,L,r,i)):i.push(a,s)},RY=function(e){const n=[],r=e.length;return F(this,It,DE).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},MY=function(e,n,r,i,a,s){const o=new Float32Array(s**2),u=-2*i**2,c=s>>1;for(let E=0;E<s;E++){const A=(E-c)**2;for(let C=0;C<s;C++)o[E*s+C]=Math.exp((A+(C-c)**2)/u)}const f=new Float32Array(256),h=-2*a**2;for(let E=0;E<256;E++)f[E]=Math.exp(E**2/h);const g=e.length,v=new Uint8Array(g),w=new Uint32Array(256);for(let E=0;E<r;E++)for(let A=0;A<n;A++){const C=E*n+A,P=e[C];let R=0,I=0;for(let L=0;L<s;L++){const M=E+L-c;if(!(M<0||M>=r))for(let z=0;z<s;z++){const B=A+z-c;if(B<0||B>=n)continue;const V=e[M*n+B],U=o[L*s+z]*f[Math.abs(V-P)];R+=V*U,I+=U}}const k=v[C]=Math.round(R/I);w[k]++}return[v,w]},PY=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},IP=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,a=1/0;for(let o=0,u=r.length;o<u;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),a=Math.min(a,c)}const s=255/(i-a);for(let o=0,u=r.length;o<u;o++)r[o]=(r[o]-a)*s;return r},LP=function(e){let n,r=-1/0,i=-1/0;const a=e.findIndex(u=>u!==0);let s=a,o=a;for(n=a;n<256;n++){const u=e[n];u>r&&(n-s>i&&(i=n-s,o=n-1),r=u,s=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},kY=function(e){const n=e,{width:r,height:i}=e,{maxDim:a}=m(this,Ph);let s=r,o=i;if(r>a||i>a){let g=r,v=i,w=Math.log2(Math.max(r,i)/a);const E=Math.floor(w);w=w===E?E-1:E;for(let C=0;C<w;C++){s=Math.ceil(g/2),o=Math.ceil(v/2);const P=new OffscreenCanvas(s,o);P.getContext("2d").drawImage(e,0,0,g,v,0,0,s,o),g=s,v=o,e!==n&&e.close(),e=P.transferToImageBitmap()}const A=Math.min(a/s,a/o);s=Math.round(s*A),o=Math.round(o*A)}const c=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,s,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,s,o);const f=c.getImageData(0,0,s,o).data;return[F(this,It,IP).call(this,f),s,o]},j(Wo,It),j(Wo,Ph,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),j(Wo,Xs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class EI extends wY{constructor(){super(),super.updateProperties({fill:on._defaultLineColor,"stroke-width":0})}clone(){const e=new EI;return e.updateAll(this),e}}class AI extends C_{constructor(e){super(e),super.updateProperties({stroke:on._defaultLineColor,"stroke-width":1})}clone(){const e=new AI(this._viewParameters);return e.updateAll(this),e}}var cd,Go,dd,kh;const ba=class ba extends WA{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});j(this,cd,!1);j(this,Go,null);j(this,dd,null);j(this,kh,null);this._willKeepAspectRatio=!0,D(this,dd,n.signatureData||null),D(this,Go,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){on.initialize(n,r),this._defaultDrawingOptions=new EI,this._defaultDrawnSignatureOptions=new AI(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return lt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!m(this,Go)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(m(this,dd)){const{lines:a,mustSmooth:s,areContours:o,description:u,uuid:c,heightInPage:f}=m(this,dd),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,w=Wo.processDrawnLines({lines:a,pageWidth:h,pageHeight:g,rotation:v,innerMargin:ba._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(w,f,u,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:m(this,Go)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){D(this,kh,n),this.addEditToolbar()}getUuid(){return m(this,kh)}get description(){return m(this,Go)}set description(n){D(this,Go,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:a,height:s}=m(this,dd),o=Math.max(a,s),u=Wo.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:a,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,a){const{x:s,y:o}=this,{outline:u}=D(this,dd,n);D(this,cd,u instanceof PP),this.description=i;let c;m(this,cd)?c=ba.getDefaultDrawingOptions():(c=ba._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:c});const[,f]=this.pageDimensions;let h=r/f;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return Wo.process(n,r,i,a,ba._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:a},rotation:s}=this.parent.viewport;return Wo.extractContoursFromText(n,r,i,a,s,ba._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return Wo.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:a,innerMargin:ba._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=ba.getDefaultDrawingOptions():(this._drawingOptions=ba._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(n),{isSignature:!0,areContours:m(this,cd),color:[0,0,0],thickness:m(this,cd)?0:a});return this.addComment(s),n?(s.paths={lines:r,points:i},s.uuid=m(this,kh),s.isCopy=!0):s.lines=r,m(this,Go)&&(s.accessibilityData={type:"Figure",alt:m(this,Go)}),s}static deserializeDraw(n,r,i,a,s,o){return o.areContours?PP.deserialize(n,r,i,a,s,o):tw.deserialize(n,r,i,a,s,o)}static async deserialize(n,r,i){var s;const a=await super.deserialize(n,r,i);return D(a,cd,n.areContours),a.description=((s=n.accessibilityData)==null?void 0:s.alt)||"",D(a,kh,n.uuid),a}};cd=new WeakMap,Go=new WeakMap,dd=new WeakMap,kh=new WeakMap,be(ba,"_type","signature"),be(ba,"_editorType",nt.SIGNATURE),be(ba,"_defaultDrawingOptions",null);let OP=ba;var vn,Tr,fd,ou,hd,Gg,lu,Dh,qo,Oa,qg,Et,a0,s0,IE,LE,OE,FP,jE,DY;class jP extends on{constructor(n){super({...n,name:"stampEditor"});j(this,Et);j(this,vn,null);j(this,Tr,null);j(this,fd,null);j(this,ou,null);j(this,hd,null);j(this,Gg,"");j(this,lu,null);j(this,Dh,!1);j(this,qo,null);j(this,Oa,!1);j(this,qg,!1);D(this,ou,n.bitmapUrl),D(this,hd,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){on.initialize(n,r)}static isHandlingMimeForPasting(n){return UA.includes(n)}static paste(n,r){r.pasteEditor({mode:nt.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=n||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const c=u.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;m(this,Tr)&&(D(this,vn,null),this._uiManager.imageManager.deleteId(m(this,Tr)),(n=m(this,lu))==null||n.remove(),D(this,lu,null),m(this,qo)&&(clearTimeout(m(this,qo)),D(this,qo,null))),super.remove()}rebuild(){if(!this.parent){m(this,Tr)&&F(this,Et,IE).call(this);return}super.rebuild(),this.div!==null&&(m(this,Tr)&&m(this,lu)===null&&F(this,Et,IE).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(m(this,fd)||m(this,vn)||m(this,ou)||m(this,hd)||m(this,Tr)||m(this,Dh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),m(this,Dh)||(m(this,vn)?F(this,Et,LE).call(this):F(this,Et,IE).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(D(this,Tr,i),a&&D(this,vn,a),D(this,Dh,!1),F(this,Et,LE).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;m(this,qo)!==null&&clearTimeout(m(this,qo)),D(this,qo,setTimeout(()=>{D(this,qo,null),F(this,Et,FP).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:a,height:s}=m(this,vn),o=new oo;let u=m(this,vn),c=a,f=s,h=null;if(r){if(a>r||s>r){const M=Math.min(r/a,r/s);c=Math.floor(a*M),f=Math.floor(s*M)}h=document.createElement("canvas");const v=h.width=Math.ceil(c*o.sx),w=h.height=Math.ceil(f*o.sy);m(this,Oa)||(u=F(this,Et,OE).call(this,v,w));const E=h.getContext("2d");E.filter=this._uiManager.hcmFilter;let A="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":wAe.isDarkMode&&(A="#8f8f9d",C="#42414d");const P=15,R=P*o.sx,I=P*o.sy,k=new OffscreenCanvas(R*2,I*2),L=k.getContext("2d");L.fillStyle=A,L.fillRect(0,0,R*2,I*2),L.fillStyle=C,L.fillRect(0,0,R,I),L.fillRect(R,I,R,I),E.fillStyle=E.createPattern(k,"repeat"),E.fillRect(0,0,v,w),E.drawImage(u,0,0,u.width,u.height,0,0,v,w)}let g=null;if(i){let v,w;if(o.symmetric&&u.width<n&&u.height<n)v=u.width,w=u.height;else if(u=m(this,vn),a>n||s>n){const C=Math.min(n/a,n/s);v=Math.floor(a*C),w=Math.floor(s*C),m(this,Oa)||(u=F(this,Et,OE).call(this,v,w))}const A=new OffscreenCanvas(v,w).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,v,w),g={width:v,height:w,data:A.getImageData(0,0,v,w).data}}return{canvas:h,width:c,height:f,imageData:g}}static async deserialize(n,r,i){var A;let a=null,s=!1;if(n instanceof K7){const{data:{rect:C,rotation:P,id:R,structParent:I,popupRef:k,richText:L,contentsObj:M,creationDate:z,modificationDate:B},container:V,parent:{page:{pageNumber:U}},canvas:q}=n;let Q,Z;q?(delete n.canvas,{id:Q,bitmap:Z}=i.imageManager.getFromCanvas(V.id,q),q.remove()):(s=!0,n._hasNoCanvas=!0);const ce=((A=await r._structTree.getAriaAttributes(`${fI}${R}`))==null?void 0:A.get("aria-label"))||"";a=n={annotationType:nt.STAMP,bitmapId:Q,bitmap:Z,pageIndex:U-1,rect:C.slice(0),rotation:P,annotationElementId:R,id:R,deleted:!1,accessibilityData:{decorative:!1,altText:ce},isSvg:!1,structParent:I,popupRef:k,richText:L,comment:(M==null?void 0:M.str)||null,creationDate:z,modificationDate:B}}const o=await super.deserialize(n,r,i),{rect:u,bitmap:c,bitmapUrl:f,bitmapId:h,isSvg:g,accessibilityData:v}=n;s?(i.addMissingCanvas(n.id,o),D(o,Dh,!0)):h&&i.imageManager.isValidId(h)?(D(o,Tr,h),c&&D(o,vn,c)):D(o,ou,f),D(o,Oa,g);const[w,E]=o.pageDimensions;return o.width=(u[2]-u[0])/w,o.height=(u[3]-u[1])/E,v&&(o.altTextData=v),o._initialData=a,n.comment&&o.setCommentData(n),D(o,qg,!!a),o}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:m(this,Tr),isSvg:m(this,Oa)});if(this.addComment(i),n)return i.bitmapUrl=F(this,Et,jE).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const u=F(this,Et,DY).call(this,i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=m(this,Oa)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,Tr)))r.stamps.set(m(this,Tr),{area:o,serialized:i}),i.bitmap=F(this,Et,jE).call(this,!1);else if(m(this,Oa)){const u=r.stamps.get(m(this,Tr));o>u.area&&(u.area=o,u.serialized.bitmap.close(),u.serialized.bitmap=F(this,Et,jE).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}vn=new WeakMap,Tr=new WeakMap,fd=new WeakMap,ou=new WeakMap,hd=new WeakMap,Gg=new WeakMap,lu=new WeakMap,Dh=new WeakMap,qo=new WeakMap,Oa=new WeakMap,qg=new WeakMap,Et=new WeakSet,a0=function(n,r=!1){if(!n){this.remove();return}D(this,vn,n.bitmap),r||(D(this,Tr,n.id),D(this,Oa,n.isSvg)),n.file&&D(this,Gg,n.file.name),F(this,Et,LE).call(this)},s0=function(){if(D(this,fd,null),this._uiManager.enableWaiting(!1),!!m(this,lu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,vn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,vn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},IE=function(){if(m(this,Tr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Tr)).then(i=>F(this,Et,a0).call(this,i,!0)).finally(()=>F(this,Et,s0).call(this));return}if(m(this,ou)){const i=m(this,ou);D(this,ou,null),this._uiManager.enableWaiting(!0),D(this,fd,this._uiManager.imageManager.getFromUrl(i).then(a=>F(this,Et,a0).call(this,a)).finally(()=>F(this,Et,s0).call(this)));return}if(m(this,hd)){const i=m(this,hd);D(this,hd,null),this._uiManager.enableWaiting(!0),D(this,fd,this._uiManager.imageManager.getFromFile(i).then(a=>F(this,Et,a0).call(this,a)).finally(()=>F(this,Et,s0).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=UA.join(",");const r=this._uiManager._signal;D(this,fd,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,Et,a0).call(this,a)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>F(this,Et,s0).call(this))),n.click()},LE=function(){var c;const{div:n}=this;let{width:r,height:i}=m(this,vn);const[a,s]=this.pageDimensions,o=.75;if(this.width)r=this.width*a,i=this.height*s;else if(r>o*a||i>o*s){const f=Math.min(o*a/r,o*s/i);r*=f,i*=f}this._uiManager.enableWaiting(!1);const u=D(this,lu,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=r/a,this.height=i/s,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),F(this,Et,FP).call(this),m(this,qg)||(this.parent.addUndoableEditor(this),D(this,qg,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Gg)&&this.div.setAttribute("aria-description",m(this,Gg)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},OE=function(n,r){const{width:i,height:a}=m(this,vn);let s=i,o=a,u=m(this,vn);for(;s>2*n||o>2*r;){const c=s,f=o;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(s,o);h.getContext("2d").drawImage(u,0,0,c,f,0,0,s,o),u=h.transferToImageBitmap()}return u},FP=function(){const[n,r]=this.parentDimensions,{width:i,height:a}=this,s=new oo,o=Math.ceil(i*n*s.sx),u=Math.ceil(a*r*s.sy),c=m(this,lu);if(!c||c.width===o&&c.height===u)return;c.width=o,c.height=u;const f=m(this,Oa)?m(this,vn):F(this,Et,OE).call(this,o,u),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(f,0,0,f.width,f.height,0,0,o,u)},jE=function(n){if(n){if(m(this,Oa)){const a=this._uiManager.imageManager.getSvgUrl(m(this,Tr));if(a)return a}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,vn),r.getContext("2d").drawImage(m(this,vn),0,0),r.toDataURL()}if(m(this,Oa)){const[r,i]=this.pageDimensions,a=Math.round(this.width*r*ku.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*ku.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(m(this,vn),0,0,m(this,vn).width,m(this,vn).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(m(this,vn))},DY=function(n){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,a=n.pageIndex===r,s=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}},be(jP,"_type","stamp"),be(jP,"_editorType",nt.STAMP);var Ih,$g,pd,md,uu,Qi,gd,Vg,Wg,Js,cu,Nr,du,yd,Yg,Ue,vd,nn,UP,IY,xo,BP,zP,FE;const Bs=class Bs{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:u,viewport:c,l10n:f}){j(this,nn);j(this,Ih);j(this,$g,!1);j(this,pd,null);j(this,md,null);j(this,uu,null);j(this,Qi,new Map);j(this,gd,!1);j(this,Vg,!1);j(this,Wg,!1);j(this,Js,null);j(this,cu,null);j(this,Nr,null);j(this,du,null);j(this,yd,null);j(this,Yg,-1);j(this,Ue);const h=[...m(Bs,vd).values()];if(!Bs._initialized){Bs._initialized=!0;for(const g of h)g.initialize(f,e)}e.registerEditorTypes(h),D(this,Ue,e),this.pageIndex=n,this.div=r,D(this,Ih,a),D(this,pd,s),this.viewport=c,D(this,Nr,u),this.drawLayer=o,this._structTree=i,m(this,Ue).addLayer(this)}get isEmpty(){return m(this,Qi).size===0}get isInvisible(){return this.isEmpty&&m(this,Ue).getMode()===nt.NONE}updateToolbar(e){m(this,Ue).updateToolbar(e)}updateMode(e=m(this,Ue).getMode()){switch(F(this,nn,FE).call(this),e){case nt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case nt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case nt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===nt.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of m(Bs,vd).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=m(this,Nr))==null?void 0:n.div)}setEditingState(e){m(this,Ue).setEditingState(e)}addCommands(e){m(this,Ue).addCommands(e)}cleanUndoStack(e){m(this,Ue).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=m(this,pd))==null||n.div.classList.toggle("disabled",!e)}async enable(){var r;D(this,Wg,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=m(this,yd))==null||r.abort(),D(this,yd,null);const e=new Set;for(const i of m(this,nn,UP))i.enableEditing(),i.show(!0),i.annotationElementId&&(m(this,Ue).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=m(this,pd);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),m(this,Ue).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}D(this,Wg,!1),m(this,Ue)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(D(this,Vg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),m(this,Nr)&&!m(this,yd)){D(this,yd,new AbortController);const i=m(this,Ue).combinedSignal(m(this,yd));m(this,Nr).div.addEventListener("pointerdown",a=>{const{clientX:o,clientY:u,timeStamp:c}=a,f=m(this,Yg);if(c-f>500){D(this,Yg,c);return}D(this,Yg,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const g=document.elementsFromPoint(o,u);if(h.toggle("getElements",!1),!this.div.contains(g[0]))return;let v;const w=new RegExp(`^${D0}[0-9]+$`);for(const A of g)if(w.test(A.id)){v=A.id;break}if(!v)return;const E=m(this,Qi).get(v);(E==null?void 0:E.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:i,capture:!0})}const e=m(this,pd);if(e){const i=new Map,a=new Map;for(const o of m(this,nn,UP)){if(o.disableEditing(),!o.annotationElementId){o.updateFakeAnnotationElement(e);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else a.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}const s=e.getEditableAnnotations();for(const o of s){const{id:u}=o.data;if(m(this,Ue).isDeletedAnnotationElement(u)){o.updateEdited({deleted:!0});continue}let c=a.get(u);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(u),c&&(m(this,Ue).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}F(this,nn,FE).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of m(Bs,vd).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),D(this,Vg,!1)}getEditableAnnotation(e){var n;return((n=m(this,pd))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,Ue).getActive()!==e&&m(this,Ue).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,Nr))!=null&&e.div&&!m(this,du)){D(this,du,new AbortController);const n=m(this,Ue).combinedSignal(m(this,du));m(this,Nr).div.addEventListener("pointerdown",F(this,nn,IY).bind(this),{signal:n}),m(this,Nr).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,Nr))!=null&&e.div&&m(this,du)&&(m(this,du).abort(),D(this,du,null),m(this,Nr).div.classList.remove("highlighting"))}enableClick(){if(m(this,md))return;D(this,md,new AbortController);const e=m(this,Ue).combinedSignal(m(this,md));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=m(this,md))==null||e.abort(),D(this,md,null)}attach(e){m(this,Qi).set(e.id,e);const{annotationElementId:n}=e;n&&m(this,Ue).isDeletedAnnotationElement(n)&&m(this,Ue).removeDeletedAnnotationElement(e)}detach(e){var n;m(this,Qi).delete(e.id),(n=m(this,Ih))==null||n.removePointerInTextLayer(e.contentDiv),!m(this,Vg)&&e.annotationElementId&&m(this,Ue).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,Ue).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,Ue).addDeletedAnnotationElement(e.annotationElementId),on.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,Ue).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!m(this,Wg)),m(this,Ue).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!m(this,uu)&&(e._focusEventsAllowed=!1,D(this,uu,setTimeout(()=>{D(this,uu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,Ue)._signal}),n.focus())},0))),e._structTreeParentId=(r=m(this,Ih))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of m(this,Qi).values())if(n.uid===e)return n;return null}getNextId(){return m(this,Ue).getId()}combinedSignal(e){return m(this,Ue).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,nn,xo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await m(this,Ue).updateMode(e.mode);const{offsetX:r,offsetY:i}=F(this,nn,zP).call(this),a=this.getNextId(),s=F(this,nn,BP).call(this,{parent:this,id:a,x:r,y:i,uiManager:m(this,Ue),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=m(Bs,vd).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,m(this,Ue)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=F(this,nn,BP).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,Ue),isCentered:n,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(F(this,nn,zP).call(this),!0,e)}setSelected(e){m(this,Ue).setSelected(e)}toggleSelected(e){m(this,Ue).toggleSelected(e)}unselect(e){m(this,Ue).unselect(e)}pointerup(e){var i;const{isMac:n}=Pr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!m(this,gd)||(D(this,gd,!1),(i=m(this,nn,xo))!=null&&i.isDrawer&&m(this,nn,xo).supportMultipleDrawings))return;if(!m(this,$g)){D(this,$g,!0);return}const r=m(this,Ue).getMode();if(r===nt.STAMP||r===nt.SIGNATURE){m(this,Ue).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(m(this,Ue).getMode()===nt.HIGHLIGHT&&this.enableTextSelection(),m(this,gd)){D(this,gd,!1);return}const{isMac:n}=Pr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(D(this,gd,!0),(i=m(this,nn,xo))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=m(this,Ue).getActive();D(this,$g,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),m(this,Js)){m(this,nn,xo).startDrawing(this,m(this,Ue),!1,e);return}m(this,Ue).setCurrentDrawingSession(this),D(this,Js,new AbortController);const n=m(this,Ue).combinedSignal(m(this,Js));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(D(this,cu,null),this.commitOrRemove())},{signal:n}),m(this,nn,xo).startDrawing(this,m(this,Ue),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&D(this,cu,n);return}m(this,cu)&&setTimeout(()=>{var n;(n=m(this,cu))==null||n.focus(),D(this,cu,null)},0)}endDrawingSession(e=!1){return m(this,Js)?(m(this,Ue).setCurrentDrawingSession(null),m(this,Js).abort(),D(this,Js,null),D(this,cu,null),m(this,nn,xo).endDrawing(e)):null}findNewParent(e,n,r){const i=m(this,Ue).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return m(this,Js)?(this.endDrawingSession(),!0):!1}onScaleChanging(){m(this,Js)&&m(this,nn,xo).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=m(this,Ue).getActive())==null?void 0:e.parent)===this&&(m(this,Ue).commitOrRemove(),m(this,Ue).setActiveEditor(null)),m(this,uu)&&(clearTimeout(m(this,uu)),D(this,uu,null));for(const r of m(this,Qi).values())(n=m(this,Ih))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,Qi).clear(),m(this,Ue).removeLayer(this)}render({viewport:e}){this.viewport=e,Td(this.div,e);for(const n of m(this,Ue).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){m(this,Ue).commitOrRemove(),F(this,nn,FE).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Td(this.div,{rotation:r}),n!==r)for(const i of m(this,Qi).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return m(this,Ue).viewParameters.realScale}};Ih=new WeakMap,$g=new WeakMap,pd=new WeakMap,md=new WeakMap,uu=new WeakMap,Qi=new WeakMap,gd=new WeakMap,Vg=new WeakMap,Wg=new WeakMap,Js=new WeakMap,cu=new WeakMap,Nr=new WeakMap,du=new WeakMap,yd=new WeakMap,Yg=new WeakMap,Ue=new WeakMap,vd=new WeakMap,nn=new WeakSet,UP=function(){return m(this,Qi).size!==0?m(this,Qi).values():m(this,Ue).getEditors(this.pageIndex)},IY=function(e){m(this,Ue).unselectAll();const{target:n}=e;if(n===m(this,Nr).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&m(this,Nr).div.contains(n)){const{isMac:r}=Pr.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,Ue).showAllEditors("highlight",!0,!0),m(this,Nr).div.classList.add("free"),this.toggleDrawing(),VA.startHighlighting(this,m(this,Ue).direction==="ltr",{target:m(this,Nr).div,x:e.x,y:e.y}),m(this,Nr).div.addEventListener("pointerup",()=>{m(this,Nr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,Ue)._signal}),e.preventDefault()}},xo=function(){return m(Bs,vd).get(m(this,Ue).getMode())},BP=function(e){const n=m(this,nn,xo);return n?new n.prototype.constructor(e):null},zP=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,a=Math.max(0,e),s=Math.max(0,n),o=Math.min(window.innerWidth,e+r),u=Math.min(window.innerHeight,n+i),c=(a+o)/2-e,f=(s+u)/2-n,[h,g]=this.viewport.rotation%180===0?[c,f]:[f,c];return{offsetX:h,offsetY:g}},FE=function(){for(const e of m(this,Qi).values())e.isEmpty()&&e.remove()},be(Bs,"_initialized",!1),j(Bs,vd,new Map([xP,MP,jP,VA,OP].map(e=>[e._editorType,e])));let YA=Bs;var Qs,Ti,Lh,xx,p1,LY,nl,HP,OY,GP;const sr=class sr{constructor({pageIndex:e}){j(this,nl);j(this,Qs,null);j(this,Ti,new Map);j(this,Lh,new Map);this.pageIndex=e}setParent(e){if(!m(this,Qs)){D(this,Qs,e);return}if(m(this,Qs)!==e){if(m(this,Ti).size>0)for(const n of m(this,Ti).values())n.remove(),e.append(n);D(this,Qs,e)}}static get _svgFactory(){return lt(this,"_svgFactory",new B0)}draw(e,n=!1,r=!1){const i=ar(sr,xx)._++,a=F(this,nl,HP).call(this),s=sr._svgFactory.createElement("defs");a.append(s);const o=sr._svgFactory.createElement("path");s.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("vector-effect","non-scaling-stroke"),n&&m(this,Lh).set(i,o);const c=r?F(this,nl,OY).call(this,s,u):null,f=sr._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(a,e),m(this,Ti).set(i,a),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=ar(sr,xx)._++,i=F(this,nl,HP).call(this),a=sr._svgFactory.createElement("defs");i.append(a);const s=sr._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let u;if(n){const h=sr._svgFactory.createElement("mask");a.append(h),u=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",u),h.setAttribute("maskUnits","objectBoundingBox");const g=sr._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=sr._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const c=sr._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),u&&c.setAttribute("mask",`url(#${u})`);const f=c.cloneNode();return i.append(f),c.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),m(this,Ti).set(r,i),r}finalizeDraw(e,n){m(this,Lh).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var u;if(!n)return;const{root:r,bbox:i,rootClass:a,path:s}=n,o=typeof e=="number"?m(this,Ti).get(e):e;if(o){if(r&&F(this,nl,GP).call(this,o,r),i&&F(u=sr,p1,LY).call(u,o,i),a){const{classList:c}=o;for(const[f,h]of Object.entries(a))c.toggle(f,h)}if(s){const f=o.firstChild.firstChild;F(this,nl,GP).call(this,f,s)}}}updateParent(e,n){if(n===this)return;const r=m(this,Ti).get(e);r&&(m(n,Qs).append(r),m(this,Ti).delete(e),m(n,Ti).set(e,r))}remove(e){m(this,Lh).delete(e),m(this,Qs)!==null&&(m(this,Ti).get(e).remove(),m(this,Ti).delete(e))}destroy(){D(this,Qs,null);for(const e of m(this,Ti).values())e.remove();m(this,Ti).clear(),m(this,Lh).clear()}};Qs=new WeakMap,Ti=new WeakMap,Lh=new WeakMap,xx=new WeakMap,p1=new WeakSet,LY=function(e,[n,r,i,a]){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},nl=new WeakSet,HP=function(){const e=sr._svgFactory.create(1,1,!0);return m(this,Qs).append(e),e.setAttribute("aria-hidden",!0),e},OY=function(e,n){const r=sr._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=sr._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i},GP=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},j(sr,p1),j(sr,xx,0);let KA=sr;globalThis._pdfjsTestingUtils={HighlightOutliner:SP};globalThis.pdfjsLib={AbortException:Pu,AnnotationEditorLayer:YA,AnnotationEditorParamsType:bt,AnnotationEditorType:nt,AnnotationEditorUIManager:Nd,AnnotationLayer:SI,AnnotationMode:Vo,AnnotationType:Hn,applyOpacity:DW,build:j7,ColorPicker:U0,createValidAbsoluteUrl:uI,CSSConstants:kW,DOMSVGFactory:B0,DrawLayer:KA,FeatureTest:Pr,fetchData:Ey,findContrastColor:IW,getDocument:vI,getFilenameFromUrl:RW,getPdfFilenameFromUrl:MW,getRGB:Ay,getUuid:dI,getXfaPageViewport:PW,GlobalWorkerOptions:Ss,ImageKind:d0,InvalidPDFException:FA,isDataScheme:Qx,isPdfFile:A_,isValidExplicitDest:h7,MathClamp:di,noContextMenu:Va,normalizeUnicode:TW,OPS:iy,OutputScale:oo,PasswordResponses:_W,PDFDataRangeTransport:bI,PDFDateString:O0,PDFWorker:ay,PermissionFlag:AW,PixelsPerInch:ku,RenderingCancelledException:E_,renderRichText:pI,ResponseException:I0,setLayerDimensions:Td,shadow:lt,SignatureExtractor:Wo,stopEvent:Cn,SupportedImageMimeTypes:UA,TextLayer:F0,TouchManager:j0,updateUrlHash:cI,Util:ke,VerbosityLevel:Kx,version:O7,XfaLayer:hI};const Y1e=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Pu,AnnotationEditorLayer:YA,AnnotationEditorParamsType:bt,AnnotationEditorType:nt,AnnotationEditorUIManager:Nd,AnnotationLayer:SI,AnnotationMode:Vo,AnnotationType:Hn,CSSConstants:kW,ColorPicker:U0,DOMSVGFactory:B0,DrawLayer:KA,FeatureTest:Pr,GlobalWorkerOptions:Ss,ImageKind:d0,InvalidPDFException:FA,MathClamp:di,OPS:iy,OutputScale:oo,PDFDataRangeTransport:bI,PDFDateString:O0,PDFWorker:ay,PasswordResponses:_W,PermissionFlag:AW,PixelsPerInch:ku,RenderingCancelledException:E_,ResponseException:I0,SignatureExtractor:Wo,SupportedImageMimeTypes:UA,TextLayer:F0,TouchManager:j0,Util:ke,VerbosityLevel:Kx,XfaLayer:hI,applyOpacity:DW,build:j7,createValidAbsoluteUrl:uI,fetchData:Ey,findContrastColor:IW,getDocument:vI,getFilenameFromUrl:RW,getPdfFilenameFromUrl:MW,getRGB:Ay,getUuid:dI,getXfaPageViewport:PW,isDataScheme:Qx,isPdfFile:A_,isValidExplicitDest:h7,noContextMenu:Va,normalizeUnicode:TW,renderRichText:pI,setLayerDimensions:Td,shadow:lt,stopEvent:Cn,updateUrlHash:cI,version:O7},Symbol.toStringTag,{value:"Module"}));var bH=Object.prototype.hasOwnProperty;function xH(t,e,n){for(n of t.keys())if(wm(n,e))return n}function wm(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&wm(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=xH(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=xH(e,i),!i)||!wm(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(bH.call(t,n)&&++r&&!bH.call(e,n)||!(n in e)||!wm(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function nw(t){let e=!1;return{promise:new Promise((r,i)=>{t.then(a=>!e&&r(a)).catch(a=>!e&&i(a))}),cancel(){e=!0}}}const K1e=["onCopy","onCut","onPaste"],X1e=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],J1e=["onFocus","onBlur"],Q1e=["onInput","onInvalid","onReset","onSubmit"],Z1e=["onLoad","onError"],e_e=["onKeyDown","onKeyPress","onKeyUp"],t_e=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],n_e=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],r_e=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],i_e=["onSelect"],a_e=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],s_e=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],o_e=["onScroll"],l_e=["onWheel"],u_e=["onAnimationStart","onAnimationEnd","onAnimationIteration"],c_e=["onTransitionEnd"],d_e=["onToggle"],f_e=["onChange"],h_e=[...K1e,...X1e,...J1e,...Q1e,...Z1e,...e_e,...t_e,...n_e,...r_e,...i_e,...a_e,...s_e,...o_e,...l_e,...u_e,...c_e,...f_e,...d_e];function jY(t,e){const n={};for(const r of h_e){const i=t[r];i&&(e?n[r]=(a=>i(a,e(r))):n[r]=i)}return n}var YR,wH;function p_e(){if(wH)return YR;wH=1;var t=function(){};return YR=t,YR}var m_e=p_e();const mi=uo(m_e),FY=T.createContext(null),g_e="noopener noreferrer nofollow";class y_e{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return tn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){tn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||g_e,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(n=>{tn(this.pdfDocument),tn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{tn(Array.isArray(n));const r=n[0];new Promise(i=>{tn(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(a=>{i(a)}).catch(()=>{tn(!1)}):typeof r=="number"?i(r):tn(!1)}).then(i=>{const a=i+1;tn(this.pdfViewer),tn(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:a})})})}goToPage(e){const n=e-1;tn(this.pdfViewer),tn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Sm({children:t,type:e}){return b.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const SH={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function v_e(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function sy(){return T.useReducer(v_e,{value:void 0,error:void 0})}const T_=typeof window<"u",UY=T_&&window.location.protocol==="file:";function b_e(t){return typeof t<"u"}function cf(t){return b_e(t)&&t!==null}function x_e(t){return typeof t=="string"}function w_e(t){return t instanceof ArrayBuffer}function S_e(t){return tn(T_),t instanceof Blob}function qP(t){return x_e(t)&&/^data:/.test(t)}function EH(t){tn(qP(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function E_e(){return T_&&window.devicePixelRatio||1}const BY="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function AH(){mi(!UY,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${BY}`)}function A_e(){mi(!UY,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${BY}`)}function Kh(t){t!=null&&t.cancel&&t.cancel()}function $P(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function __e(t){return t.name==="RenderingCancelledException"}function C_e(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return n(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}const{PDFDataRangeTransport:T_e}=Y1e,N_e=(t,e)=>{switch(e){case SH.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case SH.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function _H(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const R_e=T.forwardRef(function({children:e,className:n,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:a,file:s,inputRef:o,imageResourcesPath:u,loading:c="Loading PDF",noData:f="No PDF file specified.",onItemClick:h,onLoadError:g,onLoadProgress:v,onLoadSuccess:w,onPassword:E=N_e,onSourceError:A,onSourceSuccess:C,options:P,renderMode:R,rotate:I,scale:k,...L},M){const[z,B]=sy(),{value:V,error:U}=z,[q,Q]=sy(),{value:Z,error:ce}=q,G=T.useRef(new y_e),$=T.useRef([]),ee=T.useRef(void 0),re=T.useRef(void 0);s&&s!==ee.current&&_H(s)&&(mi(!wm(s,ee.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ee.current=s),P&&P!==re.current&&(mi(!wm(P,re.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),re.current=P);const xe=T.useRef({scrollPageIntoView:Ve=>{const{dest:je,pageNumber:dt,pageIndex:Ze=dt-1}=Ve;if(h){h({dest:je,pageIndex:Ze,pageNumber:dt});return}const yr=$.current[Ze];if(yr){yr.scrollIntoView();return}mi(!1,`An internal link leading to page ${dt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});T.useImperativeHandle(M,()=>({linkService:G,pages:$,viewer:xe}),[]);function W(){C&&C()}function J(){U&&(mi(!1,U.toString()),A&&A(U))}function le(){B({type:"RESET"})}T.useEffect(le,[s,B]);const ge=T.useCallback(async()=>{if(!s)return null;if(typeof s=="string")return qP(s)?{data:EH(s)}:(AH(),{url:s});if(s instanceof T_e)return{range:s};if(w_e(s))return{data:s};if(T_&&S_e(s))return{data:await C_e(s)};if(tn(typeof s=="object"),tn(_H(s)),"url"in s&&typeof s.url=="string"){if(qP(s.url)){const{url:Ve,...je}=s;return{data:EH(Ve),...je}}AH()}return s},[s]);T.useEffect(()=>{const Ve=nw(ge());return Ve.promise.then(je=>{B({type:"RESOLVE",value:je})}).catch(je=>{B({type:"REJECT",error:je})}),()=>{Kh(Ve)}},[ge,B]),T.useEffect(()=>{if(!(typeof V>"u")){if(V===!1){J();return}W()}},[V]);function we(){Z&&(w&&w(Z),$.current=new Array(Z.numPages),G.current.setDocument(Z))}function Te(){ce&&(mi(!1,ce.toString()),g&&g(ce))}T.useEffect(function(){Q({type:"RESET"})},[Q,V]),T.useEffect(function(){if(!V)return;const je=P?{...V,...P}:V,dt=vI(je);v&&(dt.onProgress=v),E&&(dt.onPassword=E);const Ze=dt,yr=Ze.promise.then(la=>{Q({type:"RESOLVE",value:la})}).catch(la=>{Ze.destroyed||Q({type:"REJECT",error:la})});return()=>{yr.finally(()=>Ze.destroy())}},[P,Q,V]),T.useEffect(()=>{if(!(typeof Z>"u")){if(Z===!1){Te();return}we()}},[Z]),T.useEffect(function(){G.current.setViewer(xe.current),G.current.setExternalLinkRel(i),G.current.setExternalLinkTarget(a)},[i,a]);const Ae=T.useCallback((Ve,je)=>{$.current[Ve]=je},[]),mt=T.useCallback(Ve=>{delete $.current[Ve]},[]),de=T.useMemo(()=>({imageResourcesPath:u,linkService:G.current,onItemClick:h,pdf:Z,registerPage:Ae,renderMode:R,rotate:I,scale:k,unregisterPage:mt}),[u,h,Z,Ae,R,I,k,mt]),Ne=T.useMemo(()=>jY(L,()=>Z),[L,Z]);function Ke(){function Ve(dt){return!!(dt!=null&&dt.pdf)}if(!Ve(de))throw new Error("pdf is undefined");const je=typeof e=="function"?e(de):e;return b.jsx(FY.Provider,{value:de,children:je})}function pe(){return s?Z==null?b.jsx(Sm,{type:"loading",children:typeof c=="function"?c():c}):Z===!1?b.jsx(Sm,{type:"error",children:typeof r=="function"?r():r}):Ke():b.jsx(Sm,{type:"no-data",children:typeof f=="function"?f():f})}return b.jsx("div",{className:zt("react-pdf__Document",n),ref:o,...Ne,children:pe()})});function zY(){return T.useContext(FY)}function HY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(a){for(var s=0,o=n;s<o.length;s++){var u=o[s];typeof u=="function"?u(a):u&&(u.current=a)}}}const GY=T.createContext(null);function N_(){return T.useContext(GY)}function M_e(){const t=zY(),e=N_();tn(e);const n={...t,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:u,page:c,pdf:f,renderForms:h,rotate:g,scale:v=1}=n;tn(f),tn(c),tn(i);const[w,E]=sy(),{value:A,error:C}=w,P=T.useRef(null);mi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){A&&s&&s(A)}function I(){C&&(mi(!1,C.toString()),a&&a(C))}T.useEffect(function(){E({type:"RESET"})},[E,c]),T.useEffect(function(){if(!c)return;const B=nw(c.getAnnotations()),V=B;return B.promise.then(U=>{E({type:"RESOLVE",value:U})}).catch(U=>{E({type:"REJECT",error:U})}),()=>{Kh(V)}},[E,c]),T.useEffect(()=>{if(A!==void 0){if(A===!1){I();return}R()}},[A]);function k(){u&&u()}function L(z){mi(!1,`${z}`),o&&o(z)}const M=T.useMemo(()=>c.getViewport({scale:v,rotation:g}),[c,g,v]);return T.useEffect(function(){if(!f||!c||!i||!A)return;const{current:B}=P;if(!B)return;const V=M.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:f.annotationStorage,commentManager:null,div:B,l10n:null,linkService:i,page:c,structTreeLayer:null,viewport:V},q={annotations:A,annotationStorage:f.annotationStorage,div:B,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:V};B.innerHTML="";try{new SI(U).render(q),k()}catch(Q){L(Q)}return()=>{}},[A,r,i,c,f,h,M]),b.jsx("div",{className:zt("react-pdf__Page__annotations","annotationLayer"),ref:P})}const qY={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},P_e=/^H(\d+)$/;function k_e(t){return t in qY}function R_(t){return"children"in t}function $Y(t){return R_(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function D_e(t){const e={};if(R_(t)){const{role:n}=t,r=n.match(P_e);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(k_e(n)){const i=qY[n];i&&(e.role=i)}}return e}function VY(t){const e={};if(R_(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),$Y(t)){const[n]=t.children;if(n){const r=VY(n);return{...e,...r}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function I_e(t){return t?{...D_e(t),...VY(t)}:null}function WY({className:t,node:e}){const n=T.useMemo(()=>I_e(e),[e]),r=T.useMemo(()=>!R_(e)||$Y(e)?null:e.children.map((i,a)=>b.jsx(WY,{node:i},a)),[e]);return b.jsx("span",{className:t,...n,children:r})}function L_e(){const t=N_();tn(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=sy(),{value:a,error:s}=r,{customTextRenderer:o,page:u}=t;function c(){a&&n&&n(a)}function f(){s&&(mi(!1,s.toString()),e&&e(s))}return T.useEffect(function(){i({type:"RESET"})},[i,u]),T.useEffect(function(){if(o||!u)return;const g=nw(u.getStructTree()),v=g;return g.promise.then(w=>{i({type:"RESOLVE",value:w})}).catch(w=>{i({type:"REJECT",error:w})}),()=>Kh(v)},[o,u,i]),T.useEffect(()=>{if(a!==void 0){if(a===!1){f();return}c()}},[a]),a?b.jsx(WY,{className:"react-pdf__Page__structTree structTree",node:a}):null}const CH=Vo;function O_e(t){const e=N_();tn(e);const n={...e,...t},{_className:r,canvasBackground:i,devicePixelRatio:a=E_e(),onRenderError:s,onRenderSuccess:o,page:u,renderForms:c,renderTextLayer:f,rotate:h,scale:g}=n,{canvasRef:v}=t;tn(u);const w=T.useRef(null);function E(){u&&o&&o($P(u,g))}function A(I){__e(I)||(mi(!1,I.toString()),s&&s(I))}const C=T.useMemo(()=>u.getViewport({scale:g*a,rotation:h}),[a,u,h,g]),P=T.useMemo(()=>u.getViewport({scale:g,rotation:h}),[u,h,g]);T.useEffect(function(){if(!u)return;u.cleanup();const{current:k}=w;if(!k)return;k.width=C.width,k.height=C.height,k.style.width=`${Math.floor(P.width)}px`,k.style.height=`${Math.floor(P.height)}px`,k.style.visibility="hidden";const L={annotationMode:c?CH.ENABLE_FORMS:CH.ENABLE,canvas:k,canvasContext:k.getContext("2d",{alpha:!1}),viewport:C};i&&(L.background=i);const M=u.render(L),z=M;return M.promise.then(()=>{k.style.visibility="",E()}).catch(A),()=>Kh(z)},[i,u,c,C,P]);const R=T.useCallback(()=>{const{current:I}=w;I&&(I.width=0,I.height=0)},[]);return T.useEffect(()=>R,[R]),b.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:HY(v,w),style:{display:"block",userSelect:"none"},children:f?b.jsx(L_e,{}):null})}function j_e(t){return"str"in t}function F_e(){const t=N_();tn(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:s,pageIndex:o,pageNumber:u,rotate:c,scale:f}=t;tn(s);const[h,g]=sy(),{value:v,error:w}=h,E=T.useRef(null);mi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){v&&r&&r(v)}function C(){w&&(mi(!1,w.toString()),n&&n(w))}T.useEffect(function(){g({type:"RESET"})},[s,g]),T.useEffect(function(){if(!s)return;const z=nw(s.getTextContent()),B=z;return z.promise.then(V=>{g({type:"RESOLVE",value:V})}).catch(V=>{g({type:"REJECT",error:V})}),()=>Kh(B)},[s,g]),T.useEffect(()=>{if(v!==void 0){if(v===!1){C();return}A()}},[v]);const P=T.useCallback(()=>{a&&a()},[a]),R=T.useCallback(M=>{mi(!1,M.toString()),i&&i(M)},[i]);function I(){const M=E.current;M&&M.classList.add("selecting")}function k(){const M=E.current;M&&M.classList.remove("selecting")}const L=T.useMemo(()=>s.getViewport({scale:f,rotation:c}),[s,c,f]);return T.useLayoutEffect(function(){if(!s||!v)return;const{current:z}=E;if(!z)return;z.innerHTML="";const B=s.streamTextContent({includeMarkedContent:!0}),V={container:z,textContentSource:B,viewport:L},U=new F0(V),q=U;return U.render().then(()=>{const Q=document.createElement("div");Q.className="endOfContent",z.append(Q);const Z=z.querySelectorAll('[role="presentation"]');if(e){let ce=0;v.items.forEach((G,$)=>{if(!j_e(G))return;const ee=Z[ce];if(!ee)return;const re=e({pageIndex:o,pageNumber:u,itemIndex:$,...G});ee.innerHTML=re,ce+=G.str&&G.hasEOL?2:1})}P()}).catch(R),()=>Kh(q)},[e,R,P,s,o,u,v,L]),b.jsx("div",{className:zt("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:I,ref:E})}const TH=1;function U_e(t){const n={...zY(),...t},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:s,children:o,className:u,customRenderer:c,customTextRenderer:f,devicePixelRatio:h,error:g="Failed to load the page.",height:v,inputRef:w,loading:E="Loading page",noData:A="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:P,onGetStructTreeError:R,onGetStructTreeSuccess:I,onGetTextError:k,onGetTextSuccess:L,onLoadError:M,onLoadSuccess:z,onRenderAnnotationLayerError:B,onRenderAnnotationLayerSuccess:V,onRenderError:U,onRenderSuccess:q,onRenderTextLayerError:Q,onRenderTextLayerSuccess:Z,pageIndex:ce,pageNumber:G,pdf:$,registerPage:ee,renderAnnotationLayer:re=!0,renderForms:xe=!1,renderMode:W="canvas",renderTextLayer:J=!0,rotate:le,scale:ge=TH,unregisterPage:we,width:Te,...Ae}=n,[mt,de]=sy(),{value:Ne,error:Ke}=mt,pe=T.useRef(null);tn($);const Ve=cf(G)?G-1:ce??null,je=G??(cf(ce)?ce+1:null),dt=le??(Ne?Ne.rotate:null),Ze=T.useMemo(()=>{if(!Ne)return null;let xi=1;const Fn=ge??TH;if(Te||v){const Wn=Ne.getViewport({scale:1,rotation:dt});Te?xi=Te/Wn.width:v&&(xi=v/Wn.height)}return Fn*xi},[v,Ne,dt,ge,Te]);T.useEffect(function(){return()=>{cf(Ve)&&i&&we&&we(Ve)}},[i,$,Ve,we]);function yr(){if(z){if(!Ne||!Ze)return;z($P(Ne,Ze))}if(i&&ee){if(!cf(Ve)||!pe.current)return;ee(Ve,pe.current)}}function la(){Ke&&(mi(!1,Ke.toString()),M&&M(Ke))}T.useEffect(function(){de({type:"RESET"})},[de,$,Ve]),T.useEffect(function(){if(!$||!je)return;const Fn=nw($.getPage(je)),Wn=Fn;return Fn.promise.then(al=>{de({type:"RESOLVE",value:al})}).catch(al=>{de({type:"REJECT",error:al})}),()=>Kh(Wn)},[de,$,je]),T.useEffect(()=>{if(Ne!==void 0){if(Ne===!1){la();return}yr()}},[Ne,Ze]);const fo=T.useMemo(()=>cf(Ve)&&je&&cf(dt)&&cf(Ze)?{_className:r,canvasBackground:a,customTextRenderer:f,devicePixelRatio:h,onGetAnnotationsError:C,onGetAnnotationsSuccess:P,onGetStructTreeError:R,onGetStructTreeSuccess:I,onGetTextError:k,onGetTextSuccess:L,onRenderAnnotationLayerError:B,onRenderAnnotationLayerSuccess:V,onRenderError:U,onRenderSuccess:q,onRenderTextLayerError:Q,onRenderTextLayerSuccess:Z,page:Ne,pageIndex:Ve,pageNumber:je,renderForms:xe,renderTextLayer:J,rotate:dt,scale:Ze}:null,[r,a,f,h,C,P,R,I,k,L,B,V,U,q,Q,Z,Ne,Ve,je,xe,J,dt,Ze]),jd=T.useMemo(()=>jY(Ae,()=>Ne&&(Ze?$P(Ne,Ze):void 0)),[Ae,Ne,Ze]),ho=`${Ve}@${Ze}/${dt}`;function _y(){switch(W){case"custom":return tn(c),b.jsx(c,{},`${ho}_custom`);case"none":return null;case"canvas":default:return b.jsx(O_e,{canvasRef:s},`${ho}_canvas`)}}function Cy(){return J?b.jsx(F_e,{},`${ho}_text`):null}function wn(){return re?b.jsx(M_e,{},`${ho}_annotations`):null}function il(){function xi(Wn){return!!(Wn!=null&&Wn.page)}if(!xi(fo))throw new Error("page is undefined");const Fn=typeof o=="function"?o(fo):o;return b.jsxs(GY.Provider,{value:fo,children:[_y(),Cy(),wn(),Fn]})}function Fd(){return je?$===null||Ne===void 0||Ne===null?b.jsx(Sm,{type:"loading",children:typeof E=="function"?E():E}):$===!1||Ne===!1?b.jsx(Sm,{type:"error",children:typeof g=="function"?g():g}):il():b.jsx(Sm,{type:"no-data",children:typeof A=="function"?A():A})}return b.jsx("div",{className:zt(r,u),"data-page-number":je,ref:HY(w,pe),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ze}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...jd,children:Fd()})}A_e();Ss.workerSrc="pdf.worker.mjs";const{useParams:B_e,useNavigate:z_e}=bi;Ss.workerSrc="https://esm.sh/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs";const H_e=()=>{const{bookId:t}=B_e(),e=z_e(),{currentUser:n,userType:r,allBooks:i}=aa(),[a,s]=T.useState(null),[o,u]=T.useState(!0),[c,f]=T.useState(!1),[h,g]=T.useState(!1),[v,w]=T.useState({theme:"dark",fontSize:18,lineHeight:1.8,fontFamily:"serif"}),[E,A]=T.useState(0),[C,P]=T.useState(1),[R,I]=T.useState(1.2),[k,L]=T.useState(null),[M,z]=T.useState(0),B=T.useRef(null);T.useEffect(()=>{(async()=>{var re,xe,W;if(!t)return;u(!0);let ee=i.find(J=>J.id===t);if(!ee&&n&&(r===Ut.SELLER?ee=(re=n.uploadedBooks)==null?void 0:re.find(J=>J.id===t):r===Ut.USER&&(ee=(xe=n.purchaseHistory)==null?void 0:xe.find(J=>J.id===t))),ee){const J=ee.price===0;let le=J;if(!le&&n&&(r===Ut.SELLER?le=ee.sellerId===n.id:r===Ut.USER&&(le=(W=n.purchaseHistory)==null?void 0:W.some(ge=>ge.id===t))),le){if(s(ee),ee.pdfUrl)try{const we=await(await fetch(ee.pdfUrl)).blob(),Te=URL.createObjectURL(we);L(Te)}catch{L(ee.pdfUrl)}}else if(!n&&!J){e("/login");return}else if(n){alert("Access denied. Please purchase this book."),e("/store");return}}u(!1)})()},[t,n,r,e,i]),T.useEffect(()=>()=>{k&&k.startsWith("blob:")&&URL.revokeObjectURL(k)},[k]);const V=()=>{switch(v.theme){case"light":return"bg-[#f8f9fa] text-neutral-900 selection:bg-yellow-200";case"sepia":return"bg-[#f4ecd8] text-[#5b4636] selection:bg-[#d6cbb1]";case"dark":default:return"bg-[#0a0a0a] text-[#d4d4d4] selection:bg-white/20"}},U=()=>{switch(v.theme){case"light":return"bg-white shadow-[0_0_50px_rgba(0,0,0,0.1)] border-neutral-200";case"sepia":return"bg-[#faf4e8] shadow-[0_0_50px_rgba(91,70,54,0.1)] border-[#e3d8c4]";case"dark":default:return"bg-[#111] shadow-[0_0_50px_rgba(0,0,0,0.8)] border-white/5"}},q=()=>{switch(v.fontFamily){case"sans":return"font-sans";case"mono":return"font-mono";case"serif":default:return"font-serif"}},Q=$=>$.split(/(!\[.*?\]\(.*?\))/g).map((re,xe)=>{const W=re.match(/!\[(.*?)\]\((.*?)\)/);return W?b.jsxs("div",{className:"my-8 flex flex-col items-center group",children:[b.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl border border-white/10 bg-black",children:b.jsx("img",{src:W[2],alt:W[1],className:"max-h-[500px] w-auto object-contain transition-transform duration-500 hover:scale-[1.02]"})}),W[1]&&b.jsx("span",{className:"text-[10px] text-neutral-500 mt-3 font-mono uppercase tracking-widest",children:W[1]})]},xe):b.jsx("div",{className:"whitespace-pre-wrap",children:re.split(`
`).map((J,le)=>{if(!J.trim())return b.jsx("div",{className:"h-4"},le);if(J.startsWith("# "))return b.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 mt-8 leading-tight",children:J.replace("# ","")},le);if(J.startsWith("## "))return b.jsx("h2",{className:"text-2xl font-bold mb-4 mt-6 leading-snug opacity-90",children:J.replace("## ","")},le);if(J.startsWith("### "))return b.jsx("h3",{className:"text-xl font-bold mb-3 mt-5 leading-snug opacity-80",children:J.replace("### ","")},le);if(J.startsWith("- "))return b.jsx("li",{className:"ml-6 list-disc mb-2 pl-2",children:J.replace("- ","")},le);const ge=J.split(/(\*\*.*?\*\*)/g);return b.jsx("p",{className:"mb-4 leading-relaxed",children:ge.map((we,Te)=>we.startsWith("**")&&we.endsWith("**")?b.jsx("strong",{className:"font-bold opacity-100",children:we.slice(2,-2)},Te):we)},le)})},xe)});if(o)return b.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center relative overflow-hidden",children:[b.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),b.jsx(Hh,{className:"w-16 h-16 mb-6 border border-white/20 bg-black shadow-[0_0_30px_white/20] rounded-full"}),b.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest animate-pulse",children:"Initializing Reader Engine..."})]});if(!a)return null;const Z=a.pages&&a.pages.length>0?a.pages:[{id:"1",title:"Cover",pageNumber:1,content:"No content available."}],ce=Z[M],G=a.pdfUrl?Math.round(C/E*100):Math.round((M+1)/Z.length*100);return b.jsxs("div",{className:`min-h-screen w-full flex flex-col fixed inset-0 z-50 transition-colors duration-500 font-sans ${V()}`,children:[b.jsxs("header",{className:`
                h-16 flex items-center justify-between px-4 md:px-8 border-b z-40 relative backdrop-blur-xl transition-colors duration-300
                ${v.theme==="dark"?"bg-black/80 border-white/10":v.theme==="light"?"bg-white/80 border-black/5":"bg-[#f4ecd8]/80 border-[#5b4636]/10"}
            `,children:[b.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1 min-w-0",children:[b.jsx("button",{onClick:()=>e(-1),className:"group p-2 rounded-full hover:bg-black/5 transition-all",title:"Exit",children:b.jsx(XE,{className:`w-5 h-5 ${v.theme==="dark"?"text-neutral-400 group-hover:text-white":"text-neutral-500 group-hover:text-black"}`})}),b.jsx("button",{onClick:()=>f(!0),className:"group p-2 rounded-full hover:bg-black/5 transition-all",title:"Table of Contents",children:b.jsx(C8,{className:`w-5 h-5 ${v.theme==="dark"?"text-neutral-400 group-hover:text-white":"text-neutral-500 group-hover:text-black"}`})}),b.jsx("h1",{className:"text-sm font-bold truncate opacity-80 flex-1 min-w-0",children:a.title})]}),b.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[!a.pdfUrl&&b.jsxs("div",{className:"relative",children:[b.jsx("button",{onClick:()=>g(!h),className:`p-2 rounded-full transition-all border ${h?"bg-black/5":"bg-transparent border-transparent"} ${v.theme==="dark"?"hover:bg-white/10 text-neutral-300":"hover:bg-black/5 text-neutral-600"}`,children:b.jsx("span",{className:"font-serif font-bold text-lg",children:"Aa"})}),h&&b.jsxs("div",{className:`absolute top-12 right-0 w-72 p-5 rounded-2xl shadow-2xl border animate-slide-up origin-top-right z-50
                                    ${v.theme==="dark"?"bg-[#1a1a1a] border-white/10 text-white":"bg-white border-neutral-200 text-neutral-900"}
                                `,children:[b.jsx("div",{className:"flex bg-black/5 rounded-lg p-1 mb-6 border border-black/5",children:[{id:"light",icon:b.jsx(Qoe,{className:"w-4 h-4"}),label:"Light"},{id:"sepia",icon:b.jsx("div",{className:"w-3 h-3 rounded-full bg-[#d6cbb1]"}),label:"Sepia"},{id:"dark",icon:b.jsx(Zoe,{className:"w-4 h-4"}),label:"Dark"}].map($=>b.jsxs("button",{onClick:()=>w(ee=>({...ee,theme:$.id})),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-xs font-bold uppercase tracking-wider transition-all
                                                    ${v.theme===$.id?v.theme==="dark"?"bg-white text-black":"bg-black text-white":"hover:bg-black/5 text-neutral-500"}
                                                `,children:[$.icon," ",$.label]},$.id))}),b.jsxs("div",{className:"mb-6",children:[b.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-2",children:"Typography"}),b.jsx("div",{className:"flex gap-2",children:[{id:"sans",label:"Sans",font:"font-sans"},{id:"serif",label:"Serif",font:"font-serif"},{id:"mono",label:"Mono",font:"font-mono"}].map($=>b.jsx("button",{onClick:()=>w(ee=>({...ee,fontFamily:$.id})),className:`flex-1 py-3 border rounded-lg text-sm transition-all ${$.font}
                                                        ${v.fontFamily===$.id?"border-current bg-current/5":"border-transparent bg-black/5 hover:bg-black/10"}
                                                    `,children:$.label},$.id))})]}),b.jsxs("div",{className:"mb-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50",children:"Size"}),b.jsxs("span",{className:"text-xs font-mono",children:[v.fontSize,"px"]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>w($=>({...$,fontSize:Math.max(12,$.fontSize-1)})),className:"p-2 hover:bg-black/5 rounded",children:b.jsx("span",{className:"text-xs font-bold",children:"A-"})}),b.jsx("input",{type:"range",min:"12",max:"32",value:v.fontSize,onChange:$=>w(ee=>({...ee,fontSize:parseInt($.target.value)})),className:"flex-1 h-1 bg-neutral-500/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-current [&::-webkit-slider-thumb]:rounded-full"}),b.jsx("button",{onClick:()=>w($=>({...$,fontSize:Math.min(32,$.fontSize+1)})),className:"p-2 hover:bg-black/5 rounded",children:b.jsx("span",{className:"text-lg font-bold",children:"A+"})})]})]})]})]}),b.jsxs("div",{className:"hidden md:flex items-center gap-3 px-3 py-1.5 rounded-full border border-current/10 bg-current/5",children:[b.jsxs("span",{className:"text-xs font-bold tabular-nums",children:[G,"%"]}),b.jsx("div",{className:"w-16 h-1 bg-current/20 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-current transition-all duration-300",style:{width:`${G}%`}})})]})]})]}),c&&b.jsxs("div",{className:"fixed inset-0 z-[60] flex",children:[b.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>f(!1)}),b.jsxs("div",{className:`relative w-80 h-full shadow-2xl flex flex-col animate-slide-right border-r ${v.theme==="dark"?"bg-[#0f0f0f] border-white/10":"bg-white border-neutral-200"}`,children:[b.jsxs("div",{className:"p-6 border-b border-current/10 flex items-center justify-between",children:[b.jsx("h3",{className:"font-bold text-sm uppercase tracking-widest",children:"Chapters"}),b.jsx("button",{onClick:()=>f(!1),children:b.jsx(XE,{className:"w-5 h-5"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:Z.map(($,ee)=>b.jsxs("button",{onClick:()=>{var re;z(ee),f(!1),(re=B.current)==null||re.scrollTo(0,0)},className:`w-full text-left p-4 rounded-xl transition-all border ${M===ee?"bg-current/10 border-current/20 font-bold":"bg-transparent border-transparent hover:bg-current/5 text-current/60"}`,children:[b.jsxs("span",{className:"text-xs opacity-50 block mb-1",children:["Chapter ",ee+1]}),b.jsx("span",{className:"text-sm",children:$.title})]},$.id))})]})]}),b.jsx("main",{className:"flex-1 relative overflow-hidden flex flex-col pb-24",children:a.pdfUrl&&k?b.jsxs("div",{className:"flex-1 relative bg-black/50 overflow-auto flex justify-center p-4 md:p-10 custom-scrollbar pb-32",children:[b.jsx("div",{className:"shadow-[0_0_60px_rgba(0,0,0,0.5)] border border-white/5 transition-transform origin-top",style:{transform:`scale(${R})`},children:b.jsx(R_e,{file:k,onLoadSuccess:({numPages:$})=>A($),loading:b.jsx("div",{className:"text-white p-10 font-mono text-xs",children:"Loading Document..."}),error:b.jsx("div",{className:"text-red-400 p-10 font-mono text-xs",children:"PDF Error"}),children:b.jsx(U_e,{pageNumber:C,scale:1,className:"shadow-2xl",renderTextLayer:!1,renderAnnotationLayer:!1})})}),b.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/80 backdrop-blur-xl border border-white/10 p-2 rounded-full flex items-center gap-4 shadow-2xl z-40 text-white",children:[b.jsx("button",{onClick:()=>P($=>Math.max(1,$-1)),disabled:C<=1,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 disabled:opacity-30",children:b.jsx(W4,{className:"w-5 h-5"})}),b.jsxs("span",{className:"font-mono text-xs font-bold",children:[C," / ",E]}),b.jsx("button",{onClick:()=>P($=>Math.min(E,$+1)),disabled:C>=E,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 disabled:opacity-30",children:b.jsx(Y4,{className:"w-5 h-5"})}),b.jsx("div",{className:"w-px h-6 bg-white/20 mx-2"}),b.jsx("button",{onClick:()=>I($=>Math.max(.5,$-.1)),className:"p-2 hover:text-white text-neutral-400",children:b.jsx(Yoe,{className:"w-4 h-4"})}),b.jsx("button",{onClick:()=>I($=>Math.min(2,$+.1)),className:"p-2 hover:text-white text-neutral-400",children:b.jsx(N8,{className:"w-4 h-4"})})]})]}):b.jsx("div",{ref:B,className:"flex-1 overflow-y-auto custom-scrollbar scroll-smooth",children:b.jsx("div",{className:"max-w-3xl mx-auto py-8 md:py-12 px-4 md:px-0",children:b.jsxs("div",{className:`
                                min-h-[calc(100vh-200px)] p-6 md:p-16 rounded-[12px] transition-all duration-300 border
                                ${U()}
                            `,children:[b.jsxs("div",{className:"mb-8 md:mb-12 text-center pb-8 border-b border-current/10",children:[b.jsxs("h4",{className:"text-[10px] md:text-xs font-bold uppercase tracking-[0.2em] opacity-40 mb-3",children:["Chapter ",M+1]}),b.jsx("h2",{className:`text-2xl md:text-5xl font-bold leading-tight ${v.fontFamily==="serif"?"font-serif":"font-sans"}`,children:ce.title})]}),b.jsx("article",{className:`prose prose-base md:prose-lg max-w-none transition-all duration-300 ${q()}`,style:{fontSize:`${v.fontSize}px`,lineHeight:v.lineHeight,color:"currentColor"},children:b.jsx("div",{className:"opacity-90",children:Q(ce.content||"Start writing to see content here...")})}),b.jsxs("div",{className:"mt-12 md:mt-20 pt-10 border-t border-current/10 flex flex-col md:flex-row gap-4 justify-between items-center opacity-50 text-[10px] md:text-xs font-mono uppercase tracking-widest text-center md:text-left",children:[b.jsx("span",{children:a.title}),b.jsxs("span",{children:[M+1," / ",Z.length]})]})]})})})}),!a.pdfUrl&&b.jsx("div",{className:`fixed bottom-0 left-0 right-0 p-4 border-t z-50 backdrop-blur-xl ${v.theme==="dark"?"bg-black/90 border-white/10":v.theme==="light"?"bg-white/90 border-black/10":"bg-[#f4ecd8]/90 border-[#5b4636]/10"}`,children:b.jsxs("div",{className:"max-w-2xl mx-auto flex items-center justify-between gap-4",children:[b.jsxs("button",{onClick:()=>{var $;M>0&&(z(ee=>ee-1),($=B.current)==null||$.scrollTo(0,0))},disabled:M===0,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-full transition-all border ${v.theme==="dark"?"hover:bg-white/10 border-white/10 text-white disabled:opacity-30":"hover:bg-black/5 border-black/10 text-black disabled:opacity-30"}`,children:[b.jsx(W4,{className:"w-4 h-4"}),b.jsx("span",{className:"font-bold text-xs uppercase tracking-wider",children:"Prev"})]}),b.jsxs("div",{className:`text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 ${v.theme==="dark"?"text-white":"text-black"}`,children:[M+1," / ",Z.length]}),b.jsxs("button",{onClick:()=>{var $;M<Z.length-1&&(z(ee=>ee+1),($=B.current)==null||$.scrollTo(0,0))},disabled:M===Z.length-1,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-full transition-all border ${v.theme==="dark"?"hover:bg-white/10 border-white/10 text-white disabled:opacity-30":"hover:bg-black/5 border-black/10 text-black disabled:opacity-30"}`,children:[b.jsx("span",{className:"font-bold text-xs uppercase tracking-wider",children:"Next"}),b.jsx(Y4,{className:"w-4 h-4"})]})]})})]})},{useParams:G_e,Link:q_e}=bi,$_e=()=>{const{username:t}=G_e(),{allBooks:e}=aa(),[n,r]=T.useState(null),[i,a]=T.useState(null),[s,o]=T.useState([]),[u,c]=T.useState(!0);if(T.useEffect(()=>{(async()=>{if(c(!0),!t){c(!1);return}const g=await qEe(t);if(g&&g.sellerProfile){r(g.sellerProfile),a(g.siteConfig);const v=g.books||[];o(v),c(!1);return}setTimeout(()=>{const v=Object.values(wo).find(w=>{var E,A;return((E=w.creatorSite)==null?void 0:E.slug)===t||((A=w.username)==null?void 0:A.replace("@",""))===t||w.id===t});if(v&&v.creatorSite){r(v),a(v.creatorSite);const w=[...Oh,...e],A=Array.from(new Map(w.map(C=>[C.id,C])).values()).filter(C=>v.creatorSite.showcasedBookIds.includes(C.id)&&C.sellerId===v.id);o(A)}c(!1)},800)})()},[t,e]),T.useEffect(()=>(document.body.style.backgroundColor=(i==null?void 0:i.theme)==="light-elegant"?"#ffffff":"#0a0a0a",document.body.style.color=(i==null?void 0:i.theme)==="light-elegant"?"#000000":"#ffffff",()=>{document.body.style.backgroundColor="",document.body.style.color=""}),[i]),u)return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-black text-white font-mono",children:[b.jsx("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mb-4"}),b.jsx("p",{className:"uppercase tracking-widest text-xs",children:"Resolving host: ebook-engine.github.io..."})]});if(!n||!i)return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-black text-neutral-500 font-mono text-center p-6",children:[b.jsx("div",{className:"mb-4",children:"404"}),b.jsx("h1",{className:"text-xl text-white mb-2",children:"Site Not Found"}),b.jsxs("p",{className:"text-sm",children:['The GitHub Pages site for "',t,'" does not exist.']})]});const f=i.theme==="light-elegant";return b.jsxs("div",{className:`min-h-screen font-sans ${f?"bg-white text-neutral-900":"bg-[#050505] text-white"}`,children:[b.jsxs("div",{className:"bg-[#1a1a1a] text-neutral-400 text-[10px] font-mono py-1 px-4 flex items-center gap-4 border-b border-[#333]",children:[b.jsxs("div",{className:"flex gap-1.5",children:[b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),b.jsxs("div",{className:"flex-1 bg-[#000] rounded px-3 py-0.5 flex items-center gap-2",children:[b.jsx(E2,{className:"w-3 h-3 text-neutral-500"}),b.jsxs("span",{children:["https://ebook-engine.github.io/",i.slug]})]})]}),b.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[b.jsxs("header",{className:"text-center mb-20 animate-slide-up",children:[b.jsx("div",{className:`w-32 h-32 mx-auto rounded-full overflow-hidden mb-6 border-4 ${f?"border-neutral-100 shadow-xl":"border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]"}`,children:i.profileImageUrl?b.jsx("img",{src:i.profileImageUrl,alt:n.name,className:"w-full h-full object-cover"}):b.jsx("div",{className:`w-full h-full flex items-center justify-center text-3xl font-bold ${f?"bg-neutral-100":"bg-white/10"}`,children:n.name.charAt(0)})}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black tracking-tight mb-4",children:i.displayName}),b.jsx("p",{className:`text-lg md:text-xl font-light max-w-2xl mx-auto leading-relaxed ${f?"text-neutral-600":"text-neutral-400"}`,children:i.tagline}),b.jsxs("div",{className:"flex justify-center gap-6 mt-8",children:[b.jsxs("button",{className:`flex items-center gap-2 px-6 py-2 rounded-full border transition-all ${f?"border-neutral-200 hover:bg-neutral-100":"border-white/10 hover:bg-white/10"}`,children:[b.jsx(E2,{className:"w-4 h-4"}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Follow"})]}),b.jsxs("button",{className:`flex items-center gap-2 px-6 py-2 rounded-full border transition-all ${f?"border-neutral-200 hover:bg-neutral-100":"border-white/10 hover:bg-white/10"}`,children:[b.jsx(Dk,{className:"w-4 h-4"}),b.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Website"})]})]})]}),b.jsxs("main",{children:[b.jsxs("div",{className:`flex items-center gap-4 mb-10 ${f?"border-neutral-200":"border-white/10"} border-b pb-4`,children:[b.jsx(yi,{className:`w-5 h-5 ${f?"text-neutral-400":"text-neutral-500"}`}),b.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest",children:"Published Works"})]}),s.length>0?b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:s.map(h=>b.jsxs("div",{className:`group flex gap-6 p-6 rounded-2xl transition-all hover:-translate-y-1 ${f?"bg-neutral-50 hover:bg-white hover:shadow-xl":"bg-white/5 hover:bg-white/10 hover:shadow-[0_10px_40px_rgba(0,0,0,0.5)]"}`,children:[b.jsx("div",{className:`w-24 h-36 flex-shrink-0 shadow-lg rounded overflow-hidden ${f?"":"border border-white/10"}`,children:b.jsx("img",{src:h.coverImageUrl,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),b.jsxs("div",{className:"flex flex-col justify-center",children:[b.jsxs("div",{className:"mb-auto",children:[b.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full mb-2 inline-block ${f?"bg-neutral-200 text-neutral-600":"bg-white/10 text-neutral-400"}`,children:h.genre}),b.jsx("h3",{className:"text-xl font-bold leading-tight mb-1",children:h.title}),b.jsxs("p",{className:`text-sm ${f?"text-neutral-500":"text-neutral-400"}`,children:[h.description.substring(0,60),"..."]})]}),b.jsxs("div",{className:"flex items-center justify-between mt-4",children:[b.jsx("span",{className:"font-mono text-lg font-medium",children:h.price===0?"Free":`${h.price}`}),b.jsxs(q_e,{to:`/store?bookId=${h.id}`,className:`flex items-center gap-2 text-xs font-bold uppercase tracking-widest hover:underline ${f?"text-blue-600":"text-blue-400"}`,children:["Get Book ",b.jsx(T8,{className:"w-3 h-3"})]})]})]})]},h.id))}):b.jsx("div",{className:`text-center py-20 border border-dashed rounded-xl ${f?"border-neutral-300 text-neutral-400":"border-white/10 text-neutral-600"}`,children:b.jsx("p",{className:"font-mono text-xs uppercase tracking-widest",children:"No books deployed yet."})})]}),b.jsx("footer",{className:`mt-32 pt-10 border-t text-center ${f?"border-neutral-200 text-neutral-400":"border-white/10 text-neutral-600"}`,children:b.jsxs("p",{className:"text-xs font-mono",children:[" ",new Date().getFullYear()," ",i.displayName,". Hosted via Ebook-Engine."]})})]})]})},V_e=()=>b.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:b.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Contact Support"}),b.jsx("p",{className:"text-neutral-400 text-lg",children:"We are here to help you."})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"md:col-span-2 bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:[b.jsx("h3",{className:"text-2xl font-bold text-white mb-8",children:"Get in Touch"}),b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Merchant Name"}),b.jsx("p",{className:"text-white font-medium text-lg",children:Ts}),b.jsx("p",{className:"text-neutral-400 text-sm mt-1",children:"Created by OpenDev Labs"})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Registered Address"}),b.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:["Gala No. 1, 1st Floor, Malwa,",b.jsx("br",{}),"Patanwala Industrial Estate, LBS Marg,",b.jsx("br",{}),"Ghatkopar West, Mumbai - 400086."]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Support Channels"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center",children:b.jsx(Voe,{className:"w-4 h-4"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-neutral-500 uppercase font-bold",children:"Email Us"}),b.jsx("a",{href:"mailto:opendev-labs.help@gmail.com",className:"text-white hover:text-brand-accent transition-colors",children:"opendev-labs.help@gmail.com"})]})]}),b.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-black border border-white/20 text-white flex items-center justify-center",children:b.jsx(Dk,{className:"w-4 h-4"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-neutral-500 uppercase font-bold",children:"Website"}),b.jsx("a",{href:"https://opendev-labs.github.io",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-brand-accent transition-colors",children:"opendev-labs.github.io"})]})]})]})]})]})]}),b.jsxs("div",{className:"flex flex-col gap-6",children:[b.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-[32px] p-8 flex flex-col justify-between flex-grow",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Response Time"}),b.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed mb-6",children:"Our support team usually responds within 24 hours. For urgent inquiries regarding payments, please include your Transaction ID."})]}),b.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/5",children:[b.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Operational Hours"}),b.jsx("p",{className:"text-white font-medium",children:"Mon - Fri"}),b.jsx("p",{className:"text-neutral-400 text-sm",children:"9:00 AM - 6:00 PM IST"})]})]}),b.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-[32px] p-8",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Connect"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("a",{href:"https://instagram.com/iamyash.io",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-neutral-300 hover:text-white transition-colors group",children:[b.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-pink-600 group-hover:text-white transition-all",children:b.jsx(K4,{className:"w-4 h-4"})}),b.jsx("span",{className:"text-sm font-medium",children:"@iamyash.io"})]}),b.jsxs("a",{href:"https://instagram.com/opendev-labs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-neutral-300 hover:text-white transition-colors group",children:[b.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-pink-600 group-hover:text-white transition-all",children:b.jsx(K4,{className:"w-4 h-4"})}),b.jsx("span",{className:"text-sm font-medium",children:"@opendev-labs"})]})]})]})]})]})]})}),W_e=()=>b.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:b.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:b.jsx(Au,{className:"w-8 h-8 text-white"})}),b.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Shipping Policy"}),b.jsx("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:"Instant Digital Delivery"})]}),b.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:b.jsxs("div",{className:"space-y-8 text-neutral-300 leading-relaxed",children:[b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Digital Delivery"}),b.jsxs("p",{children:[Ts," is a digital marketplace. We do not ship physical products. Upon successful payment, delivery of your eBook is ",b.jsx("strong",{children:"instant"}),"."]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Accessing Your Order"}),b.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-neutral-400",children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Dashboard:"}),' Access via "Purchase History" immediately.']}),b.jsxs("li",{children:[b.jsx("strong",{children:"Email:"})," A download link is sent to your registered email."]})]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Shipping Costs"}),b.jsxs("p",{children:["There are ",b.jsx("strong",{children:"zero shipping charges"})," applicable to any purchase on ",Ts,"."]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"4. Delays"}),b.jsx("p",{children:"If you do not receive access within 5 minutes of payment, please verify your email spam folder or contact support."})]})]})})]})}),Y_e=()=>b.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:b.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:b.jsx(O1,{className:"w-8 h-8 text-white"})}),b.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Refund Policy"}),b.jsx("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:"Digital Goods & Services"})]}),b.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:b.jsxs("div",{className:"space-y-8 text-neutral-300 leading-relaxed",children:[b.jsxs("div",{className:"p-6 bg-red-900/10 border border-red-500/20 rounded-2xl",children:[b.jsx("h3",{className:"text-red-400 font-bold mb-2 uppercase tracking-widest text-xs",children:"Important Notice"}),b.jsxs("p",{className:"text-sm text-neutral-300",children:["Due to the nature of digital goods (eBooks), which can be downloaded instantly, orders are generally ",b.jsx("strong",{children:"non-refundable"})," once processed."]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Cancellations"}),b.jsx("p",{children:"As our products are instant digital downloads, orders cannot be cancelled once the payment is processed and the download link has been generated."})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Eligibility for Refunds"}),b.jsx("p",{children:"We may consider a refund request under these exceptional circumstances:"}),b.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1 text-neutral-400",children:[b.jsx("li",{children:"The eBook file is corrupt or technically defective."}),b.jsx("li",{children:"Duplicate payment for the same item."})]}),b.jsx("p",{className:"mt-2 text-sm text-neutral-500",children:"Requests must be made within 7 days of purchase."})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Processing Timeline"}),b.jsx("p",{children:"Approved refunds are processed within 5-7 working days. The amount will be credited back to your original payment method."})]})]})})]})}),K_e=()=>b.jsxs("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:[b.jsx("div",{className:"fixed inset-0 z-[-1] pointer-events-none",children:b.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-[400px] h-[400px] bg-white/5 rounded-full blur-[100px]"})}),b.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:b.jsx(yi,{className:"w-8 h-8 text-white"})}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Terms of Service"}),b.jsxs("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:["Effective Date: ",new Date().toLocaleDateString()]})]}),b.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:b.jsxs("div",{className:"space-y-10 text-neutral-300 leading-relaxed",children:[b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Agreement to Terms"}),b.jsxs("p",{children:["By accessing ",b.jsx("span",{className:"text-white font-mono",children:"ebook-engine.github.io"}),", you agree to be bound by these Terms of Service. If you do not agree to abide by the terms of this Agreement, you are not authorized to use or access the Website."]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Intellectual Property"}),b.jsxs("p",{children:["The Platform and its original content, features, and functionality are owned by ",Ts," and are protected by international copyright, trademark, patent, trade secret, and other intellectual property or proprietary rights laws."]}),b.jsxs("p",{className:"mt-2 text-sm text-neutral-500 bg-white/5 p-4 rounded-xl border border-white/5",children:[b.jsx("strong",{children:"Note on AI Content:"})," Content generated via our AI tools belongs to the user (you), subject to the terms of the underlying model providers (Google Gemini)."]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Google API Services"}),b.jsx("p",{children:"Our application integrates with Google API Services. By using these features, you acknowledge and agree to be bound by Google's Terms of Service."}),b.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 text-neutral-400",children:[b.jsx("li",{children:"We do not transfer user data to third parties for surveillance."}),b.jsx("li",{children:"We do not sell user data sourced from Google APIs."}),b.jsx("li",{children:"We do not use user data for advertising purposes."})]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"4. User Accounts"}),b.jsx("p",{children:"When you create an account with us, you must provide information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account on our Service."})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"5. Limitation of Liability"}),b.jsxs("p",{children:["In no event shall ",Ts,", nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."]})]}),b.jsxs("section",{children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"6. Governing Law"}),b.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, without regard to its conflict of law provisions."})]})]})})]})]}),X_e=()=>b.jsxs("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:[b.jsx("div",{className:"fixed inset-0 z-[-1] pointer-events-none",children:b.jsx("div",{className:"absolute top-[20%] right-[10%] w-[500px] h-[500px] bg-white/5 rounded-full blur-[120px]"})}),b.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("div",{className:"flex justify-center mb-6",children:b.jsx(Hh,{className:"w-20 h-20 border border-white/20 bg-black shadow-[0_0_30px_rgba(255,255,255,0.1)] rounded-full",isActive:!0})}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Privacy Policy"}),b.jsxs("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:["Last Updated: ",new Date().toLocaleDateString()]})]}),b.jsxs("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-50 hidden md:block",children:b.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-900/20 border border-green-500/30 rounded-full",children:[b.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),b.jsx("span",{className:"text-[10px] font-bold text-green-500 uppercase tracking-widest",children:"Google Core Security Active"})]})}),b.jsxs("div",{className:"space-y-12 text-neutral-300 leading-relaxed",children:[b.jsxs("section",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[b.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"01"}),"Introduction"]}),b.jsxs("p",{children:["At ",Ts,", accessible from ",b.jsx("span",{className:"text-white font-mono",children:"ebook-engine.github.io"}),", the privacy of our visitors and creators is our top priority. This Privacy Policy document contains types of information that is collected and recorded by ",Ts," and how we use it."]})]}),b.jsxs("section",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[b.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"02"}),"Google Core Data & Security"]}),b.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[b.jsx("p",{className:"mb-4 text-sm font-medium text-white",children:"We comply with Google API Services User Data Policy, including the Limited Use requirements."}),b.jsxs("ul",{className:"space-y-3",children:[b.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[b.jsx(Jr,{className:"w-5 h-5 text-google-blue shrink-0"}),b.jsxs("span",{children:[b.jsx("strong",{children:"Authentication:"})," We use Google OAuth 2.0 to securely authenticate users. Your password is never stored on our servers."]})]}),b.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[b.jsx(Jr,{className:"w-5 h-5 text-google-blue shrink-0"}),b.jsxs("span",{children:[b.jsx("strong",{children:"Database Integrity:"})," User data (such as eBook drafts) is processed using ephemeral secure sessions. Long-term storage leverages secure cloud infrastructure."]})]}),b.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[b.jsx(Jr,{className:"w-5 h-5 text-google-blue shrink-0"}),b.jsxs("span",{children:[b.jsx("strong",{children:"Gemini AI:"})," Content generated via Google Gemini is transmitted over encrypted (TLS 1.3) channels."]})]})]})]})]}),b.jsxs("section",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[b.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"03"}),"Information Collection"]}),b.jsx("p",{className:"mb-4",children:"We collect information to provide better services to all our users:"}),b.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-neutral-400",children:[b.jsx("li",{children:"Personal identification (Name, Email address, Profile Picture)."}),b.jsx("li",{children:"Log Data (IP address, browser version, visit duration)."}),b.jsx("li",{children:"Transactional Data (Purchase history of eBooks)."})]})]}),b.jsxs("section",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[b.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"04"}),"Data Usage & Rights"]}),b.jsx("p",{children:"We use the collected data to maintain our service, notify you about changes, provide customer support, and detect technical issues."}),b.jsx("p",{className:"mt-4",children:"You have the right to request copies of your personal data, request corrections, or request deletion of your account at any time via the User Dashboard."})]})]}),b.jsx("div",{className:"mt-12 pt-8 border-t border-white/5 text-center",children:b.jsx("p",{className:"text-xs text-neutral-600 uppercase tracking-widest",children:"Protected by Ebook-Engine Secure Enclave"})})]})]})]}),{BrowserRouter:J_e,Routes:Q_e,Route:Ur,useLocation:Z_e}=bi,NH=({to:t})=>($n.useEffect(()=>{window.location.href=t},[t]),b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black text-white",children:b.jsx("div",{className:"animate-pulse",children:"Redirecting to Studio..."})})),eCe=()=>{const t=Z_e();return $n.useLayoutEffect(()=>{window.scrollTo(0,0)},[t.pathname]),b.jsx("div",{className:"flex-grow flex flex-col animate-page-enter will-change-transform origin-top",children:b.jsxs(Q_e,{location:t,children:[b.jsx(Ur,{path:"/",element:b.jsx(Sle,{})}),b.jsx(Ur,{path:"/login",element:b.jsx(tAe,{})}),b.jsx(Ur,{path:"/store",element:b.jsx(Cle,{})}),b.jsx(Ur,{path:"/pricing",element:b.jsx(rAe,{})}),b.jsx(Ur,{path:"/dashboard",element:b.jsx(KEe,{})}),b.jsx(Ur,{path:"/checkout",element:b.jsx(JEe,{})}),b.jsx(Ur,{path:"/s/:slug",element:b.jsx(aAe,{})}),b.jsx(Ur,{path:"/site/:username",element:b.jsx($_e,{})}),b.jsx(Ur,{path:"/edit-ebook/:bookId",element:b.jsx(lAe,{})}),b.jsx(Ur,{path:"/ebook-studio",element:b.jsx(NH,{to:"https://co-writter.vercel.app"})}),b.jsx(Ur,{path:"/studio",element:b.jsx(NH,{to:"https://co-writter.vercel.app"})}),b.jsx(Ur,{path:"/read/:bookId",element:b.jsx(H_e,{})}),b.jsx(Ur,{path:"/contact",element:b.jsx(V_e,{})}),b.jsx(Ur,{path:"/shipping-policy",element:b.jsx(W_e,{})}),b.jsx(Ur,{path:"/refund-policy",element:b.jsx(Y_e,{})}),b.jsx(Ur,{path:"/terms-and-conditions",element:b.jsx(K_e,{})}),b.jsx(Ur,{path:"/privacy-policy",element:b.jsx(X_e,{})})]})},t.pathname)},tCe=()=>b.jsx(cle,{children:b.jsx(J_e,{children:b.jsxs("div",{className:"flex flex-col min-h-screen bg-black font-sans text-foreground overflow-x-hidden relative",children:[b.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(20,20,30,1)_0%,rgba(0,0,0,1)_100%)]"}),b.jsx("div",{className:"absolute top-[20%] left-[15%] w-32 h-32 border border-white/5 rounded-full animate-float opacity-30 blur-[1px]"}),b.jsx("div",{className:"absolute bottom-[25%] right-[20%] w-64 h-64 border border-white/5 rotate-45 animate-float-delayed opacity-20"}),b.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10 pointer-events-none"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent animate-[grid-flow_8s_linear_infinite]"})]}),b.jsxs("div",{className:"flex-grow relative z-10 flex flex-col w-full",children:[b.jsx(hle,{}),b.jsx("main",{className:"flex-grow flex flex-col",children:b.jsx(eCe,{})}),b.jsx(mle,{})]})]})})}),YY=document.getElementById("root");if(!YY)throw new Error("Could not find root element to mount to");const nCe=hJ.createRoot(YY);nCe.render(b.jsx($n.StrictMode,{children:b.jsx(tCe,{})}));
