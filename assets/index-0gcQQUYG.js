var lJ=Object.defineProperty;var v3=t=>{throw TypeError(t)};var uJ=(t,e,n)=>e in t?lJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var we=(t,e,n)=>uJ(t,typeof e!="symbol"?e+"":e,n),GT=(t,e,n)=>e.has(t)||v3("Cannot "+n);var m=(t,e,n)=>(GT(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?v3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),L=(t,e,n,r)=>(GT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),F=(t,e,n)=>(GT(t,e,"access private method"),n);var ur=(t,e,n,r)=>({set _(i){L(t,e,i,n)},get _(){return m(t,e,r)}});function cJ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function vo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $T={exports:{}},vv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b3;function dJ(){if(b3)return vv;b3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return vv.Fragment=e,vv.jsx=n,vv.jsxs=n,vv}var x3;function fJ(){return x3||(x3=1,$T.exports=dJ()),$T.exports}var y=fJ(),qT={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3;function hJ(){if(w3)return nt;w3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=g&&Y[g]||Y["@@iterator"],typeof Y=="function"?Y:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function _(Y,te,ce){this.props=Y,this.context=te,this.refs=A,this.updater=ce||w}_.prototype.isReactComponent={},_.prototype.setState=function(Y,te){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,te,"setState")},_.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function M(){}M.prototype=_.prototype;function R(Y,te,ce){this.props=Y,this.context=te,this.refs=A,this.updater=ce||w}var I=R.prototype=new M;I.constructor=R,E(I,_.prototype),I.isPureReactComponent=!0;var D=Array.isArray;function k(){}var P={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function z(Y,te,ce){var me=ce.ref;return{$$typeof:t,type:Y,key:te,ref:me!==void 0?me:null,props:ce}}function W(Y,te){return z(Y.type,te,Y.props)}function U(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function q(Y){var te={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ce){return te[ce]})}var Z=/\/+/g;function V(Y,te){return typeof Y=="object"&&Y!==null&&Y.key!=null?q(""+Y.key):te.toString(36)}function Q(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(k,k):(Y.status="pending",Y.then(function(te){Y.status==="pending"&&(Y.status="fulfilled",Y.value=te)},function(te){Y.status==="pending"&&(Y.status="rejected",Y.reason=te)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function H(Y,te,ce,me,Ee){var Me=typeof Y;(Me==="undefined"||Me==="boolean")&&(Y=null);var Ce=!1;if(Y===null)Ce=!0;else switch(Me){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(Y.$$typeof){case t:case e:Ce=!0;break;case f:return Ce=Y._init,H(Ce(Y._payload),te,ce,me,Ee)}}if(Ce)return Ee=Ee(Y),Ce=me===""?"."+V(Y,0):me,D(Ee)?(ce="",Ce!=null&&(ce=Ce.replace(Z,"$&/")+"/"),H(Ee,te,ce,"",function(Re){return Re})):Ee!=null&&(U(Ee)&&(Ee=W(Ee,ce+(Ee.key==null||Y&&Y.key===Ee.key?"":(""+Ee.key).replace(Z,"$&/")+"/")+Ce)),te.push(Ee)),1;Ce=0;var ft=me===""?".":me+":";if(D(Y))for(var fe=0;fe<Y.length;fe++)me=Y[fe],Me=ft+V(me,fe),Ce+=H(me,te,ce,Me,Ee);else if(fe=v(Y),typeof fe=="function")for(Y=fe.call(Y),fe=0;!(me=Y.next()).done;)me=me.value,Me=ft+V(me,fe++),Ce+=H(me,te,ce,Me,Ee);else if(Me==="object"){if(typeof Y.then=="function")return H(Q(Y),te,ce,me,Ee);throw te=String(Y),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function $(Y,te,ce){if(Y==null)return Y;var me=[],Ee=0;return H(Y,me,"","",function(Me){return te.call(ce,Me,Ee++)}),me}function J(Y){if(Y._status===-1){var te=Y._result;te=te(),te.then(function(ce){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ce)},function(ce){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ce)}),Y._status===-1&&(Y._status=0,Y._result=te)}if(Y._status===1)return Y._result.default;throw Y._result}var ae=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Se={map:$,forEach:function(Y,te,ce){$(Y,function(){te.apply(this,arguments)},ce)},count:function(Y){var te=0;return $(Y,function(){te++}),te},toArray:function(Y){return $(Y,function(te){return te})||[]},only:function(Y){if(!U(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return nt.Activity=h,nt.Children=Se,nt.Component=_,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=R,nt.StrictMode=r,nt.Suspense=u,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,nt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return P.H.useMemoCache(Y)}},nt.cache=function(Y){return function(){return Y.apply(null,arguments)}},nt.cacheSignal=function(){return null},nt.cloneElement=function(Y,te,ce){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var me=E({},Y.props),Ee=Y.key;if(te!=null)for(Me in te.key!==void 0&&(Ee=""+te.key),te)!B.call(te,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&te.ref===void 0||(me[Me]=te[Me]);var Me=arguments.length-2;if(Me===1)me.children=ce;else if(1<Me){for(var Ce=Array(Me),ft=0;ft<Me;ft++)Ce[ft]=arguments[ft+2];me.children=Ce}return z(Y.type,Ee,me)},nt.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},nt.createElement=function(Y,te,ce){var me,Ee={},Me=null;if(te!=null)for(me in te.key!==void 0&&(Me=""+te.key),te)B.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ee[me]=te[me]);var Ce=arguments.length-2;if(Ce===1)Ee.children=ce;else if(1<Ce){for(var ft=Array(Ce),fe=0;fe<Ce;fe++)ft[fe]=arguments[fe+2];Ee.children=ft}if(Y&&Y.defaultProps)for(me in Ce=Y.defaultProps,Ce)Ee[me]===void 0&&(Ee[me]=Ce[me]);return z(Y,Me,Ee)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(Y){return{$$typeof:o,render:Y}},nt.isValidElement=U,nt.lazy=function(Y){return{$$typeof:f,_payload:{_status:-1,_result:Y},_init:J}},nt.memo=function(Y,te){return{$$typeof:c,type:Y,compare:te===void 0?null:te}},nt.startTransition=function(Y){var te=P.T,ce={};P.T=ce;try{var me=Y(),Ee=P.S;Ee!==null&&Ee(ce,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(k,ae)}catch(Me){ae(Me)}finally{te!==null&&ce.types!==null&&(te.types=ce.types),P.T=te}},nt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},nt.use=function(Y){return P.H.use(Y)},nt.useActionState=function(Y,te,ce){return P.H.useActionState(Y,te,ce)},nt.useCallback=function(Y,te){return P.H.useCallback(Y,te)},nt.useContext=function(Y){return P.H.useContext(Y)},nt.useDebugValue=function(){},nt.useDeferredValue=function(Y,te){return P.H.useDeferredValue(Y,te)},nt.useEffect=function(Y,te){return P.H.useEffect(Y,te)},nt.useEffectEvent=function(Y){return P.H.useEffectEvent(Y)},nt.useId=function(){return P.H.useId()},nt.useImperativeHandle=function(Y,te,ce){return P.H.useImperativeHandle(Y,te,ce)},nt.useInsertionEffect=function(Y,te){return P.H.useInsertionEffect(Y,te)},nt.useLayoutEffect=function(Y,te){return P.H.useLayoutEffect(Y,te)},nt.useMemo=function(Y,te){return P.H.useMemo(Y,te)},nt.useOptimistic=function(Y,te){return P.H.useOptimistic(Y,te)},nt.useReducer=function(Y,te,ce){return P.H.useReducer(Y,te,ce)},nt.useRef=function(Y){return P.H.useRef(Y)},nt.useState=function(Y){return P.H.useState(Y)},nt.useSyncExternalStore=function(Y,te,ce){return P.H.useSyncExternalStore(Y,te,ce)},nt.useTransition=function(){return P.H.useTransition()},nt.version="19.2.1",nt}var S3;function dy(){return S3||(S3=1,qT.exports=hJ()),qT.exports}var T=dy();const Wn=vo(T),XP=cJ({__proto__:null,default:Wn},[T]);var VT={exports:{}},bv={},WT={exports:{}},YT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E3;function pJ(){return E3||(E3=1,(function(t){function e(H,$){var J=H.length;H.push($);e:for(;0<J;){var ae=J-1>>>1,Se=H[ae];if(0<i(Se,$))H[ae]=$,H[J]=Se,J=ae;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var $=H[0],J=H.pop();if(J!==$){H[0]=J;e:for(var ae=0,Se=H.length,Y=Se>>>1;ae<Y;){var te=2*(ae+1)-1,ce=H[te],me=te+1,Ee=H[me];if(0>i(ce,J))me<Se&&0>i(Ee,ce)?(H[ae]=Ee,H[me]=J,ae=me):(H[ae]=ce,H[te]=J,ae=te);else if(me<Se&&0>i(Ee,J))H[ae]=Ee,H[me]=J,ae=me;else break e}}return $}function i(H,$){var J=H.sortIndex-$.sortIndex;return J!==0?J:H.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],c=[],f=1,h=null,g=3,v=!1,w=!1,E=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I(H){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=H)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function D(H){if(E=!1,I(H),!w)if(n(u)!==null)w=!0,k||(k=!0,q());else{var $=n(c);$!==null&&Q(D,$.startTime-H)}}var k=!1,P=-1,B=5,z=-1;function W(){return A?!0:!(t.unstable_now()-z<B)}function U(){if(A=!1,k){var H=t.unstable_now();z=H;var $=!0;try{e:{w=!1,E&&(E=!1,M(P),P=-1),v=!0;var J=g;try{t:{for(I(H),h=n(u);h!==null&&!(h.expirationTime>H&&W());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,g=h.priorityLevel;var Se=ae(h.expirationTime<=H);if(H=t.unstable_now(),typeof Se=="function"){h.callback=Se,I(H),$=!0;break t}h===n(u)&&r(u),I(H)}else r(u);h=n(u)}if(h!==null)$=!0;else{var Y=n(c);Y!==null&&Q(D,Y.startTime-H),$=!1}}break e}finally{h=null,g=J,v=!1}$=void 0}}finally{$?q():k=!1}}}var q;if(typeof R=="function")q=function(){R(U)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,V=Z.port2;Z.port1.onmessage=U,q=function(){V.postMessage(null)}}else q=function(){_(U,0)};function Q(H,$){P=_(function(){H(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var J=g;g=$;try{return H()}finally{g=J}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(H,$){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=g;g=H;try{return $()}finally{g=J}},t.unstable_scheduleCallback=function(H,$,J){var ae=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ae+J:ae):J=ae,H){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=J+Se,H={id:f++,callback:$,priorityLevel:H,startTime:J,expirationTime:Se,sortIndex:-1},J>ae?(H.sortIndex=J,e(c,H),n(u)===null&&H===n(c)&&(E?(M(P),P=-1):E=!0,Q(D,J-ae))):(H.sortIndex=Se,e(u,H),w||v||(w=!0,k||(k=!0,q()))),H},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(H){var $=g;return function(){var J=g;g=$;try{return H.apply(this,arguments)}finally{g=J}}}})(YT)),YT}var A3;function mJ(){return A3||(A3=1,WT.exports=pJ()),WT.exports}var KT={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3;function gJ(){if(C3)return oi;C3=1;var t=dy();function e(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,c,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:u,containerInfo:c,implementation:f}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,oi.createPortal=function(u,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(u,c,null,f)},oi.flushSync=function(u){var c=s.T,f=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=c,r.p=f,r.d.f()}},oi.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},oi.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},oi.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,v=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},oi.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=o(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},oi.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,h=o(f,c.crossOrigin);r.d.L(u,f,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},oi.preloadModule=function(u,c){if(typeof u=="string")if(c){var f=o(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},oi.requestFormReset=function(u){r.d.r(u)},oi.unstable_batchedUpdates=function(u,c){return u(c)},oi.useFormState=function(u,c,f){return s.H.useFormState(u,c,f)},oi.useFormStatus=function(){return s.H.useHostTransitionStatus()},oi.version="19.2.1",oi}var _3;function IH(){if(_3)return KT.exports;_3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),KT.exports=gJ(),KT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3;function yJ(){if(T3)return bv;T3=1;var t=mJ(),e=dy(),n=IH();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var d=l,p=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(p=d.return),l=d.return;while(l)}return d.tag===3?p:null}function s(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function o(l){if(l.tag===31){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(r(188))}function c(l){var d=l.alternate;if(!d){if(d=a(l),d===null)throw Error(r(188));return d!==l?null:l}for(var p=l,b=d;;){var C=p.return;if(C===null)break;var N=C.alternate;if(N===null){if(b=C.return,b!==null){p=b;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===p)return u(C),l;if(N===b)return u(C),d;N=N.sibling}throw Error(r(188))}if(p.return!==b.return)p=C,b=N;else{for(var O=!1,G=C.child;G;){if(G===p){O=!0,p=C,b=N;break}if(G===b){O=!0,b=C,p=N;break}G=G.sibling}if(!O){for(G=N.child;G;){if(G===p){O=!0,p=N,b=C;break}if(G===b){O=!0,b=N,p=C;break}G=G.sibling}if(!O)throw Error(r(189))}}if(p.alternate!==b)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:d}function f(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=f(l),d!==null)return d;l=l.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var Z=Symbol.for("react.client.reference");function V(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Z?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case E:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case k:return"SuspenseList";case z:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case w:return"Portal";case R:return l.displayName||"Context";case M:return(l._context.displayName||"Context")+".Consumer";case I:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return d=l.displayName||null,d!==null?d:V(l.type)||"Memo";case B:d=l._payload,l=l._init;try{return V(l(d))}catch{}}return null}var Q=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ae=[],Se=-1;function Y(l){return{current:l}}function te(l){0>Se||(l.current=ae[Se],ae[Se]=null,Se--)}function ce(l,d){Se++,ae[Se]=l.current,l.current=d}var me=Y(null),Ee=Y(null),Me=Y(null),Ce=Y(null);function ft(l,d){switch(ce(Me,d),ce(Ee,l),ce(me,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?zj(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=zj(d),l=Hj(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}te(me),ce(me,l)}function fe(){te(me),te(Ee),te(Me)}function Re(l){l.memoizedState!==null&&ce(Ce,l);var d=me.current,p=Hj(d,l.type);d!==p&&(ce(Ee,l),ce(me,p))}function Ke(l){Ee.current===l&&(te(me),te(Ee)),Ce.current===l&&(te(Ce),pv._currentValue=J)}var ne,be;function ve(l){if(ne===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);ne=d&&d[1]||"",be=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+l+be}var Te=!1;function Be(l,d){if(!l||Te)return"";Te=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(de){var le=de}Reflect.construct(l,[],ye)}else{try{ye.call()}catch(de){le=de}l.call(ye.prototype)}}else{try{throw Error()}catch(de){le=de}(ye=l())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(de){if(de&&le&&typeof de.stack=="string")return[de.stack,le.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),O=N[0],G=N[1];if(O&&G){var K=O.split(`
`),oe=G.split(`
`);for(C=b=0;b<K.length&&!K[b].includes("DetermineComponentFrameRoot");)b++;for(;C<oe.length&&!oe[C].includes("DetermineComponentFrameRoot");)C++;if(b===K.length||C===oe.length)for(b=K.length-1,C=oe.length-1;1<=b&&0<=C&&K[b]!==oe[C];)C--;for(;1<=b&&0<=C;b--,C--)if(K[b]!==oe[C]){if(b!==1||C!==1)do if(b--,C--,0>C||K[b]!==oe[C]){var pe=`
`+K[b].replace(" at new "," at ");return l.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",l.displayName)),pe}while(1<=b&&0<=C);break}}}finally{Te=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?ve(p):""}function St(l,d){switch(l.tag){case 26:case 27:case 5:return ve(l.type);case 16:return ve("Lazy");case 13:return l.child!==d&&d!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Be(l.type,!1);case 11:return Be(l.type.render,!1);case 1:return Be(l.type,!0);case 31:return ve("Activity");default:return""}}function dn(l){try{var d="",p=null;do d+=St(l,p),p=l,l=l.return;while(l);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var Hi=Object.prototype.hasOwnProperty,ai=t.unstable_scheduleCallback,Ci=t.unstable_cancelCallback,sr=t.unstable_shouldYield,ma=t.unstable_requestPaint,Lt=t.unstable_now,wr=t.unstable_getCurrentPriorityLevel,Gi=t.unstable_ImmediatePriority,or=t.unstable_UserBlockingPriority,Bn=t.unstable_NormalPriority,Kn=t.unstable_LowPriority,cl=t.unstable_IdlePriority,kC=t.log,Ry=t.unstable_setDisableYieldValue,Gd=null,An=null;function Bs(l){if(typeof kC=="function"&&Ry(l),An&&typeof An.setStrictMode=="function")try{An.setStrictMode(Gd,l)}catch{}}var si=Math.clz32?Math.clz32:lw,ow=Math.log,DC=Math.LN2;function lw(l){return l>>>=0,l===0?32:31-(ow(l)/DC|0)|0}var dl=256,$d=262144,Qu=4194304;function fl(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function qd(l,d,p){var b=l.pendingLanes;if(b===0)return 0;var C=0,N=l.suspendedLanes,O=l.pingedLanes;l=l.warmLanes;var G=b&134217727;return G!==0?(b=G&~N,b!==0?C=fl(b):(O&=G,O!==0?C=fl(O):p||(p=G&~l,p!==0&&(C=fl(p))))):(G=b&~N,G!==0?C=fl(G):O!==0?C=fl(O):p||(p=b&~l,p!==0&&(C=fl(p)))),C===0?0:d!==0&&d!==C&&(d&N)===0&&(N=C&-C,p=d&-d,N>=p||N===32&&(p&4194048)!==0)?d:C}function Vd(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function uw(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wd(){var l=Qu;return Qu<<=1,(Qu&62914560)===0&&(Qu=4194304),l}function Zu(l){for(var d=[],p=0;31>p;p++)d.push(l);return d}function ec(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function IC(l,d,p,b,C,N){var O=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var G=l.entanglements,K=l.expirationTimes,oe=l.hiddenUpdates;for(p=O&~p;0<p;){var pe=31-si(p),ye=1<<pe;G[pe]=0,K[pe]=-1;var le=oe[pe];if(le!==null)for(oe[pe]=null,pe=0;pe<le.length;pe++){var de=le[pe];de!==null&&(de.lane&=-536870913)}p&=~ye}b!==0&&cw(l,b,0),N!==0&&C===0&&l.tag!==0&&(l.suspendedLanes|=N&~(O&~d))}function cw(l,d,p){l.pendingLanes|=d,l.suspendedLanes&=~d;var b=31-si(d);l.entangledLanes|=d,l.entanglements[b]=l.entanglements[b]|1073741824|p&261930}function X(l,d){var p=l.entangledLanes|=d;for(l=l.entanglements;p;){var b=31-si(p),C=1<<b;C&d|l[b]&d&&(l[b]|=d),p&=~C}}function re(l,d){var p=d&-d;return p=(p&42)!==0?1:ue(p),(p&(l.suspendedLanes|d))!==0?0:p}function ue(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function xe(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Ae(){var l=$.p;return l!==0?l:(l=window.event,l===void 0?32:d3(l.type))}function qe(l,d){var p=$.p;try{return $.p=l,d()}finally{$.p=p}}var je=Math.random().toString(36).slice(2),Ne="__reactFiber$"+je,ke="__reactProps$"+je,Ge="__reactContainer$"+je,Qe="__reactEvents$"+je,We="__reactListeners$"+je,tt="__reactHandles$"+je,kt="__reactResources$"+je,fn="__reactMarker$"+je;function Mn(l){delete l[Ne],delete l[ke],delete l[Qe],delete l[We],delete l[tt]}function Ct(l){var d=l[Ne];if(d)return d;for(var p=l.parentNode;p;){if(d=p[Ge]||p[Ne]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(l=Kj(l);l!==null;){if(p=l[Ne])return p;l=Kj(l)}return d}l=p,p=l.parentNode}return null}function _t(l){if(l=l[Ne]||l[Ge]){var d=l.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return l}return null}function ga(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function ns(l){var d=l[kt];return d||(d=l[kt]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Zt(l){l[fn]=!0}var ya=new Set,op={};function va(l,d){$i(l,d),$i(l+"Capture",d)}function $i(l,d){for(op[l]=d,l=0;l<d.length;l++)ya.add(d[l])}var lp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yd={},gt={};function Sr(l){return Hi.call(gt,l)?!0:Hi.call(Yd,l)?!1:lp.test(l)?gt[l]=!0:(Yd[l]=!0,!1)}function zs(l,d,p){if(Sr(d))if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+p)}}function rs(l,d,p){if(p===null)l.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+p)}}function Tt(l,d,p,b){if(b===null)l.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(d,p,""+b)}}function Ur(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function My(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function LC(l,d,p){var b=Object.getOwnPropertyDescriptor(l.constructor.prototype,d);if(!l.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var C=b.get,N=b.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return C.call(this)},set:function(O){p=""+O,N.call(this,O)}}),Object.defineProperty(l,d,{enumerable:b.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function OC(l){if(!l._valueTracker){var d=My(l)?"checked":"value";l._valueTracker=LC(l,d,""+l[d])}}function II(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var p=d.getValue(),b="";return l&&(b=My(l)?l.checked?"true":"false":l.value),l=b,l!==p?(d.setValue(l),!0):!1}function dw(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var nK=/[\n"\\]/g;function is(l){return l.replace(nK,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function jC(l,d,p,b,C,N,O,G){l.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?l.type=O:l.removeAttribute("type"),d!=null?O==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+Ur(d)):l.value!==""+Ur(d)&&(l.value=""+Ur(d)):O!=="submit"&&O!=="reset"||l.removeAttribute("value"),d!=null?FC(l,O,Ur(d)):p!=null?FC(l,O,Ur(p)):b!=null&&l.removeAttribute("value"),C==null&&N!=null&&(l.defaultChecked=!!N),C!=null&&(l.checked=C&&typeof C!="function"&&typeof C!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?l.name=""+Ur(G):l.removeAttribute("name")}function LI(l,d,p,b,C,N,O,G){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(l.type=N),d!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||d!=null)){OC(l);return}p=p!=null?""+Ur(p):"",d=d!=null?""+Ur(d):p,G||d===l.value||(l.value=d),l.defaultValue=d}b=b??C,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=G?l.checked:!!b,l.defaultChecked=!!b,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(l.name=O),OC(l)}function FC(l,d,p){d==="number"&&dw(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function up(l,d,p,b){if(l=l.options,d){d={};for(var C=0;C<p.length;C++)d["$"+p[C]]=!0;for(p=0;p<l.length;p++)C=d.hasOwnProperty("$"+l[p].value),l[p].selected!==C&&(l[p].selected=C),C&&b&&(l[p].defaultSelected=!0)}else{for(p=""+Ur(p),d=null,C=0;C<l.length;C++){if(l[C].value===p){l[C].selected=!0,b&&(l[C].defaultSelected=!0);return}d!==null||l[C].disabled||(d=l[C])}d!==null&&(d.selected=!0)}}function OI(l,d,p){if(d!=null&&(d=""+Ur(d),d!==l.value&&(l.value=d),p==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=p!=null?""+Ur(p):""}function jI(l,d,p,b){if(d==null){if(b!=null){if(p!=null)throw Error(r(92));if(Q(b)){if(1<b.length)throw Error(r(93));b=b[0]}p=b}p==null&&(p=""),d=p}p=Ur(d),l.defaultValue=p,b=l.textContent,b===p&&b!==""&&b!==null&&(l.value=b),OC(l)}function cp(l,d){if(d){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=d;return}}l.textContent=d}var rK=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function FI(l,d,p){var b=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?b?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":b?l.setProperty(d,p):typeof p!="number"||p===0||rK.has(d)?d==="float"?l.cssFloat=p:l[d]=(""+p).trim():l[d]=p+"px"}function UI(l,d,p){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,p!=null){for(var b in p)!p.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var C in d)b=d[C],d.hasOwnProperty(C)&&p[C]!==b&&FI(l,C,b)}else for(var N in d)d.hasOwnProperty(N)&&FI(l,N,d[N])}function UC(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iK=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aK=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fw(l){return aK.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function hl(){}var BC=null;function zC(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var dp=null,fp=null;function BI(l){var d=_t(l);if(d&&(l=d.stateNode)){var p=l[ke]||null;e:switch(l=d.stateNode,d.type){case"input":if(jC(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+is(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var b=p[d];if(b!==l&&b.form===l.form){var C=b[ke]||null;if(!C)throw Error(r(90));jC(b,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(d=0;d<p.length;d++)b=p[d],b.form===l.form&&II(b)}break e;case"textarea":OI(l,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&up(l,!!p.multiple,d,!1)}}}var HC=!1;function zI(l,d,p){if(HC)return l(d,p);HC=!0;try{var b=l(d);return b}finally{if(HC=!1,(dp!==null||fp!==null)&&(Zw(),dp&&(d=dp,l=fp,fp=dp=null,BI(d),l)))for(d=0;d<l.length;d++)BI(l[d])}}function Py(l,d){var p=l.stateNode;if(p===null)return null;var b=p[ke]||null;if(b===null)return null;p=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,d,typeof p));return p}var pl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),GC=!1;if(pl)try{var ky={};Object.defineProperty(ky,"passive",{get:function(){GC=!0}}),window.addEventListener("test",ky,ky),window.removeEventListener("test",ky,ky)}catch{GC=!1}var tc=null,$C=null,hw=null;function HI(){if(hw)return hw;var l,d=$C,p=d.length,b,C="value"in tc?tc.value:tc.textContent,N=C.length;for(l=0;l<p&&d[l]===C[l];l++);var O=p-l;for(b=1;b<=O&&d[p-b]===C[N-b];b++);return hw=C.slice(l,1<b?1-b:void 0)}function pw(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function mw(){return!0}function GI(){return!1}function qi(l){function d(p,b,C,N,O){this._reactName=p,this._targetInst=C,this.type=b,this.nativeEvent=N,this.target=O,this.currentTarget=null;for(var G in l)l.hasOwnProperty(G)&&(p=l[G],this[G]=p?p(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?mw:GI,this.isPropagationStopped=GI,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=mw)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=mw)},persist:function(){},isPersistent:mw}),d}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gw=qi(Kd),Dy=h({},Kd,{view:0,detail:0}),sK=qi(Dy),qC,VC,Iy,yw=h({},Dy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:YC,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Iy&&(Iy&&l.type==="mousemove"?(qC=l.screenX-Iy.screenX,VC=l.screenY-Iy.screenY):VC=qC=0,Iy=l),qC)},movementY:function(l){return"movementY"in l?l.movementY:VC}}),$I=qi(yw),oK=h({},yw,{dataTransfer:0}),lK=qi(oK),uK=h({},Dy,{relatedTarget:0}),WC=qi(uK),cK=h({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),dK=qi(cK),fK=h({},Kd,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),hK=qi(fK),pK=h({},Kd,{data:0}),qI=qi(pK),mK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vK(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=yK[l])?!!d[l]:!1}function YC(){return vK}var bK=h({},Dy,{key:function(l){if(l.key){var d=mK[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=pw(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?gK[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:YC,charCode:function(l){return l.type==="keypress"?pw(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?pw(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),xK=qi(bK),wK=h({},yw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),VI=qi(wK),SK=h({},Dy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:YC}),EK=qi(SK),AK=h({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),CK=qi(AK),_K=h({},yw,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),TK=qi(_K),NK=h({},Kd,{newState:0,oldState:0}),RK=qi(NK),MK=[9,13,27,32],KC=pl&&"CompositionEvent"in window,Ly=null;pl&&"documentMode"in document&&(Ly=document.documentMode);var PK=pl&&"TextEvent"in window&&!Ly,WI=pl&&(!KC||Ly&&8<Ly&&11>=Ly),YI=" ",KI=!1;function XI(l,d){switch(l){case"keyup":return MK.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JI(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var hp=!1;function kK(l,d){switch(l){case"compositionend":return JI(d);case"keypress":return d.which!==32?null:(KI=!0,YI);case"textInput":return l=d.data,l===YI&&KI?null:l;default:return null}}function DK(l,d){if(hp)return l==="compositionend"||!KC&&XI(l,d)?(l=HI(),hw=$C=tc=null,hp=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return WI&&d.locale!=="ko"?null:d.data;default:return null}}var IK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QI(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!IK[l.type]:d==="textarea"}function ZI(l,d,p,b){dp?fp?fp.push(b):fp=[b]:dp=b,d=sS(d,"onChange"),0<d.length&&(p=new gw("onChange","change",null,p,b),l.push({event:p,listeners:d}))}var Oy=null,jy=null;function LK(l){Lj(l,0)}function vw(l){var d=ga(l);if(II(d))return l}function eL(l,d){if(l==="change")return d}var tL=!1;if(pl){var XC;if(pl){var JC="oninput"in document;if(!JC){var nL=document.createElement("div");nL.setAttribute("oninput","return;"),JC=typeof nL.oninput=="function"}XC=JC}else XC=!1;tL=XC&&(!document.documentMode||9<document.documentMode)}function rL(){Oy&&(Oy.detachEvent("onpropertychange",iL),jy=Oy=null)}function iL(l){if(l.propertyName==="value"&&vw(jy)){var d=[];ZI(d,jy,l,zC(l)),zI(LK,d)}}function OK(l,d,p){l==="focusin"?(rL(),Oy=d,jy=p,Oy.attachEvent("onpropertychange",iL)):l==="focusout"&&rL()}function jK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return vw(jy)}function FK(l,d){if(l==="click")return vw(d)}function UK(l,d){if(l==="input"||l==="change")return vw(d)}function BK(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var ba=typeof Object.is=="function"?Object.is:BK;function Fy(l,d){if(ba(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var p=Object.keys(l),b=Object.keys(d);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var C=p[b];if(!Hi.call(d,C)||!ba(l[C],d[C]))return!1}return!0}function aL(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function sL(l,d){var p=aL(l);l=0;for(var b;p;){if(p.nodeType===3){if(b=l+p.textContent.length,l<=d&&b>=d)return{node:p,offset:d-l};l=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=aL(p)}}function oL(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?oL(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function lL(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=dw(l.document);d instanceof l.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)l=d.contentWindow;else break;d=dw(l.document)}return d}function QC(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var zK=pl&&"documentMode"in document&&11>=document.documentMode,pp=null,ZC=null,Uy=null,e_=!1;function uL(l,d,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;e_||pp==null||pp!==dw(b)||(b=pp,"selectionStart"in b&&QC(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Uy&&Fy(Uy,b)||(Uy=b,b=sS(ZC,"onSelect"),0<b.length&&(d=new gw("onSelect","select",null,d,p),l.push({event:d,listeners:b}),d.target=pp)))}function Xd(l,d){var p={};return p[l.toLowerCase()]=d.toLowerCase(),p["Webkit"+l]="webkit"+d,p["Moz"+l]="moz"+d,p}var mp={animationend:Xd("Animation","AnimationEnd"),animationiteration:Xd("Animation","AnimationIteration"),animationstart:Xd("Animation","AnimationStart"),transitionrun:Xd("Transition","TransitionRun"),transitionstart:Xd("Transition","TransitionStart"),transitioncancel:Xd("Transition","TransitionCancel"),transitionend:Xd("Transition","TransitionEnd")},t_={},cL={};pl&&(cL=document.createElement("div").style,"AnimationEvent"in window||(delete mp.animationend.animation,delete mp.animationiteration.animation,delete mp.animationstart.animation),"TransitionEvent"in window||delete mp.transitionend.transition);function Jd(l){if(t_[l])return t_[l];if(!mp[l])return l;var d=mp[l],p;for(p in d)if(d.hasOwnProperty(p)&&p in cL)return t_[l]=d[p];return l}var dL=Jd("animationend"),fL=Jd("animationiteration"),hL=Jd("animationstart"),HK=Jd("transitionrun"),GK=Jd("transitionstart"),$K=Jd("transitioncancel"),pL=Jd("transitionend"),mL=new Map,n_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");n_.push("scrollEnd");function Hs(l,d){mL.set(l,d),va(d,[l])}var bw=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},as=[],gp=0,r_=0;function xw(){for(var l=gp,d=r_=gp=0;d<l;){var p=as[d];as[d++]=null;var b=as[d];as[d++]=null;var C=as[d];as[d++]=null;var N=as[d];if(as[d++]=null,b!==null&&C!==null){var O=b.pending;O===null?C.next=C:(C.next=O.next,O.next=C),b.pending=C}N!==0&&gL(p,C,N)}}function ww(l,d,p,b){as[gp++]=l,as[gp++]=d,as[gp++]=p,as[gp++]=b,r_|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function i_(l,d,p,b){return ww(l,d,p,b),Sw(l)}function Qd(l,d){return ww(l,null,null,d),Sw(l)}function gL(l,d,p){l.lanes|=p;var b=l.alternate;b!==null&&(b.lanes|=p);for(var C=!1,N=l.return;N!==null;)N.childLanes|=p,b=N.alternate,b!==null&&(b.childLanes|=p),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(C=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,C&&d!==null&&(C=31-si(p),l=N.hiddenUpdates,b=l[C],b===null?l[C]=[d]:b.push(d),d.lane=p|536870912),N):null}function Sw(l){if(50<ov)throw ov=0,hT=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var yp={};function qK(l,d,p,b){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(l,d,p,b){return new qK(l,d,p,b)}function a_(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ml(l,d){var p=l.alternate;return p===null?(p=xa(l.tag,d,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=d,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,d=l.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function yL(l,d){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,d=p.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function Ew(l,d,p,b,C,N){var O=0;if(b=l,typeof l=="function")a_(l)&&(O=1);else if(typeof l=="string")O=XX(l,p,me.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case z:return l=xa(31,p,d,C),l.elementType=z,l.lanes=N,l;case E:return Zd(p.children,C,N,d);case A:O=8,C|=24;break;case _:return l=xa(12,p,d,C|2),l.elementType=_,l.lanes=N,l;case D:return l=xa(13,p,d,C),l.elementType=D,l.lanes=N,l;case k:return l=xa(19,p,d,C),l.elementType=k,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:O=10;break e;case M:O=9;break e;case I:O=11;break e;case P:O=14;break e;case B:O=16,b=null;break e}O=29,p=Error(r(130,l===null?"null":typeof l,"")),b=null}return d=xa(O,p,d,C),d.elementType=l,d.type=b,d.lanes=N,d}function Zd(l,d,p,b){return l=xa(7,l,b,d),l.lanes=p,l}function s_(l,d,p){return l=xa(6,l,null,d),l.lanes=p,l}function vL(l){var d=xa(18,null,null,0);return d.stateNode=l,d}function o_(l,d,p){return d=xa(4,l.children!==null?l.children:[],l.key,d),d.lanes=p,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var bL=new WeakMap;function ss(l,d){if(typeof l=="object"&&l!==null){var p=bL.get(l);return p!==void 0?p:(d={value:l,source:d,stack:dn(d)},bL.set(l,d),d)}return{value:l,source:d,stack:dn(d)}}var vp=[],bp=0,Aw=null,By=0,os=[],ls=0,nc=null,xo=1,wo="";function gl(l,d){vp[bp++]=By,vp[bp++]=Aw,Aw=l,By=d}function xL(l,d,p){os[ls++]=xo,os[ls++]=wo,os[ls++]=nc,nc=l;var b=xo;l=wo;var C=32-si(b)-1;b&=~(1<<C),p+=1;var N=32-si(d)+C;if(30<N){var O=C-C%5;N=(b&(1<<O)-1).toString(32),b>>=O,C-=O,xo=1<<32-si(d)+C|p<<C|b,wo=N+l}else xo=1<<N|p<<C|b,wo=l}function l_(l){l.return!==null&&(gl(l,1),xL(l,1,0))}function u_(l){for(;l===Aw;)Aw=vp[--bp],vp[bp]=null,By=vp[--bp],vp[bp]=null;for(;l===nc;)nc=os[--ls],os[ls]=null,wo=os[--ls],os[ls]=null,xo=os[--ls],os[ls]=null}function wL(l,d){os[ls++]=xo,os[ls++]=wo,os[ls++]=nc,xo=d.id,wo=d.overflow,nc=l}var Br=null,hn=null,xt=!1,rc=null,us=!1,c_=Error(r(519));function ic(l){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zy(ss(d,l)),c_}function SL(l){var d=l.stateNode,p=l.type,b=l.memoizedProps;switch(d[Ne]=l,d[ke]=b,p){case"dialog":mt("cancel",d),mt("close",d);break;case"iframe":case"object":case"embed":mt("load",d);break;case"video":case"audio":for(p=0;p<uv.length;p++)mt(uv[p],d);break;case"source":mt("error",d);break;case"img":case"image":case"link":mt("error",d),mt("load",d);break;case"details":mt("toggle",d);break;case"input":mt("invalid",d),LI(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":mt("invalid",d);break;case"textarea":mt("invalid",d),jI(d,b.value,b.defaultValue,b.children)}p=b.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||b.suppressHydrationWarning===!0||Uj(d.textContent,p)?(b.popover!=null&&(mt("beforetoggle",d),mt("toggle",d)),b.onScroll!=null&&mt("scroll",d),b.onScrollEnd!=null&&mt("scrollend",d),b.onClick!=null&&(d.onclick=hl),d=!0):d=!1,d||ic(l,!0)}function EL(l){for(Br=l.return;Br;)switch(Br.tag){case 5:case 31:case 13:us=!1;return;case 27:case 3:us=!0;return;default:Br=Br.return}}function xp(l){if(l!==Br)return!1;if(!xt)return EL(l),xt=!0,!1;var d=l.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||NT(l.type,l.memoizedProps)),p=!p),p&&hn&&ic(l),EL(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));hn=Yj(l)}else if(d===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));hn=Yj(l)}else d===27?(d=hn,vc(l.type)?(l=DT,DT=null,hn=l):hn=d):hn=Br?ds(l.stateNode.nextSibling):null;return!0}function ef(){hn=Br=null,xt=!1}function d_(){var l=rc;return l!==null&&(Ki===null?Ki=l:Ki.push.apply(Ki,l),rc=null),l}function zy(l){rc===null?rc=[l]:rc.push(l)}var f_=Y(null),tf=null,yl=null;function ac(l,d,p){ce(f_,d._currentValue),d._currentValue=p}function vl(l){l._currentValue=f_.current,te(f_)}function h_(l,d,p){for(;l!==null;){var b=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),l===p)break;l=l.return}}function p_(l,d,p,b){var C=l.child;for(C!==null&&(C.return=l);C!==null;){var N=C.dependencies;if(N!==null){var O=C.child;N=N.firstContext;e:for(;N!==null;){var G=N;N=C;for(var K=0;K<d.length;K++)if(G.context===d[K]){N.lanes|=p,G=N.alternate,G!==null&&(G.lanes|=p),h_(N.return,p,l),b||(O=null);break e}N=G.next}}else if(C.tag===18){if(O=C.return,O===null)throw Error(r(341));O.lanes|=p,N=O.alternate,N!==null&&(N.lanes|=p),h_(O,p,l),O=null}else O=C.child;if(O!==null)O.return=C;else for(O=C;O!==null;){if(O===l){O=null;break}if(C=O.sibling,C!==null){C.return=O.return,O=C;break}O=O.return}C=O}}function wp(l,d,p,b){l=null;for(var C=d,N=!1;C!==null;){if(!N){if((C.flags&524288)!==0)N=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var O=C.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var G=C.type;ba(C.pendingProps.value,O.value)||(l!==null?l.push(G):l=[G])}}else if(C===Ce.current){if(O=C.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(l!==null?l.push(pv):l=[pv])}C=C.return}l!==null&&p_(d,l,p,b),d.flags|=262144}function Cw(l){for(l=l.firstContext;l!==null;){if(!ba(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function nf(l){tf=l,yl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function zr(l){return AL(tf,l)}function _w(l,d){return tf===null&&nf(l),AL(l,d)}function AL(l,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},yl===null){if(l===null)throw Error(r(308));yl=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else yl=yl.next=d;return p}var VK=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(p,b){l.push(b)}};this.abort=function(){d.aborted=!0,l.forEach(function(p){return p()})}},WK=t.unstable_scheduleCallback,YK=t.unstable_NormalPriority,Xn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m_(){return{controller:new VK,data:new Map,refCount:0}}function Hy(l){l.refCount--,l.refCount===0&&WK(YK,function(){l.controller.abort()})}var Gy=null,g_=0,Sp=0,Ep=null;function KK(l,d){if(Gy===null){var p=Gy=[];g_=0,Sp=bT(),Ep={status:"pending",value:void 0,then:function(b){p.push(b)}}}return g_++,d.then(CL,CL),d}function CL(){if(--g_===0&&Gy!==null){Ep!==null&&(Ep.status="fulfilled");var l=Gy;Gy=null,Sp=0,Ep=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function XK(l,d){var p=[],b={status:"pending",value:null,reason:null,then:function(C){p.push(C)}};return l.then(function(){b.status="fulfilled",b.value=d;for(var C=0;C<p.length;C++)(0,p[C])(d)},function(C){for(b.status="rejected",b.reason=C,C=0;C<p.length;C++)(0,p[C])(void 0)}),b}var _L=H.S;H.S=function(l,d){uj=Lt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&KK(l,d),_L!==null&&_L(l,d)};var rf=Y(null);function y_(){var l=rf.current;return l!==null?l:en.pooledCache}function Tw(l,d){d===null?ce(rf,rf.current):ce(rf,d.pool)}function TL(){var l=y_();return l===null?null:{parent:Xn._currentValue,pool:l}}var Ap=Error(r(460)),v_=Error(r(474)),Nw=Error(r(542)),Rw={then:function(){}};function NL(l){return l=l.status,l==="fulfilled"||l==="rejected"}function RL(l,d,p){switch(p=l[p],p===void 0?l.push(d):p!==d&&(d.then(hl,hl),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,PL(l),l;default:if(typeof d.status=="string")d.then(hl,hl);else{if(l=en,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(b){if(d.status==="pending"){var C=d;C.status="fulfilled",C.value=b}},function(b){if(d.status==="pending"){var C=d;C.status="rejected",C.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,PL(l),l}throw sf=d,Ap}}function af(l){try{var d=l._init;return d(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(sf=p,Ap):p}}var sf=null;function ML(){if(sf===null)throw Error(r(459));var l=sf;return sf=null,l}function PL(l){if(l===Ap||l===Nw)throw Error(r(483))}var Cp=null,$y=0;function Mw(l){var d=$y;return $y+=1,Cp===null&&(Cp=[]),RL(Cp,l,d)}function qy(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Pw(l,d){throw d.$$typeof===g?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function kL(l){function d(ie,ee){if(l){var se=ie.deletions;se===null?(ie.deletions=[ee],ie.flags|=16):se.push(ee)}}function p(ie,ee){if(!l)return null;for(;ee!==null;)d(ie,ee),ee=ee.sibling;return null}function b(ie){for(var ee=new Map;ie!==null;)ie.key!==null?ee.set(ie.key,ie):ee.set(ie.index,ie),ie=ie.sibling;return ee}function C(ie,ee){return ie=ml(ie,ee),ie.index=0,ie.sibling=null,ie}function N(ie,ee,se){return ie.index=se,l?(se=ie.alternate,se!==null?(se=se.index,se<ee?(ie.flags|=67108866,ee):se):(ie.flags|=67108866,ee)):(ie.flags|=1048576,ee)}function O(ie){return l&&ie.alternate===null&&(ie.flags|=67108866),ie}function G(ie,ee,se,ge){return ee===null||ee.tag!==6?(ee=s_(se,ie.mode,ge),ee.return=ie,ee):(ee=C(ee,se),ee.return=ie,ee)}function K(ie,ee,se,ge){var Xe=se.type;return Xe===E?pe(ie,ee,se.props.children,ge,se.key):ee!==null&&(ee.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===B&&af(Xe)===ee.type)?(ee=C(ee,se.props),qy(ee,se),ee.return=ie,ee):(ee=Ew(se.type,se.key,se.props,null,ie.mode,ge),qy(ee,se),ee.return=ie,ee)}function oe(ie,ee,se,ge){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==se.containerInfo||ee.stateNode.implementation!==se.implementation?(ee=o_(se,ie.mode,ge),ee.return=ie,ee):(ee=C(ee,se.children||[]),ee.return=ie,ee)}function pe(ie,ee,se,ge,Xe){return ee===null||ee.tag!==7?(ee=Zd(se,ie.mode,ge,Xe),ee.return=ie,ee):(ee=C(ee,se),ee.return=ie,ee)}function ye(ie,ee,se){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=s_(""+ee,ie.mode,se),ee.return=ie,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case v:return se=Ew(ee.type,ee.key,ee.props,null,ie.mode,se),qy(se,ee),se.return=ie,se;case w:return ee=o_(ee,ie.mode,se),ee.return=ie,ee;case B:return ee=af(ee),ye(ie,ee,se)}if(Q(ee)||q(ee))return ee=Zd(ee,ie.mode,se,null),ee.return=ie,ee;if(typeof ee.then=="function")return ye(ie,Mw(ee),se);if(ee.$$typeof===R)return ye(ie,_w(ie,ee),se);Pw(ie,ee)}return null}function le(ie,ee,se,ge){var Xe=ee!==null?ee.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Xe!==null?null:G(ie,ee,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return se.key===Xe?K(ie,ee,se,ge):null;case w:return se.key===Xe?oe(ie,ee,se,ge):null;case B:return se=af(se),le(ie,ee,se,ge)}if(Q(se)||q(se))return Xe!==null?null:pe(ie,ee,se,ge,null);if(typeof se.then=="function")return le(ie,ee,Mw(se),ge);if(se.$$typeof===R)return le(ie,ee,_w(ie,se),ge);Pw(ie,se)}return null}function de(ie,ee,se,ge,Xe){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ie=ie.get(se)||null,G(ee,ie,""+ge,Xe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return ie=ie.get(ge.key===null?se:ge.key)||null,K(ee,ie,ge,Xe);case w:return ie=ie.get(ge.key===null?se:ge.key)||null,oe(ee,ie,ge,Xe);case B:return ge=af(ge),de(ie,ee,se,ge,Xe)}if(Q(ge)||q(ge))return ie=ie.get(se)||null,pe(ee,ie,ge,Xe,null);if(typeof ge.then=="function")return de(ie,ee,se,Mw(ge),Xe);if(ge.$$typeof===R)return de(ie,ee,se,_w(ee,ge),Xe);Pw(ee,ge)}return null}function Fe(ie,ee,se,ge){for(var Xe=null,Nt=null,ze=ee,lt=ee=0,vt=null;ze!==null&&lt<se.length;lt++){ze.index>lt?(vt=ze,ze=null):vt=ze.sibling;var Rt=le(ie,ze,se[lt],ge);if(Rt===null){ze===null&&(ze=vt);break}l&&ze&&Rt.alternate===null&&d(ie,ze),ee=N(Rt,ee,lt),Nt===null?Xe=Rt:Nt.sibling=Rt,Nt=Rt,ze=vt}if(lt===se.length)return p(ie,ze),xt&&gl(ie,lt),Xe;if(ze===null){for(;lt<se.length;lt++)ze=ye(ie,se[lt],ge),ze!==null&&(ee=N(ze,ee,lt),Nt===null?Xe=ze:Nt.sibling=ze,Nt=ze);return xt&&gl(ie,lt),Xe}for(ze=b(ze);lt<se.length;lt++)vt=de(ze,ie,lt,se[lt],ge),vt!==null&&(l&&vt.alternate!==null&&ze.delete(vt.key===null?lt:vt.key),ee=N(vt,ee,lt),Nt===null?Xe=vt:Nt.sibling=vt,Nt=vt);return l&&ze.forEach(function(Ec){return d(ie,Ec)}),xt&&gl(ie,lt),Xe}function Ze(ie,ee,se,ge){if(se==null)throw Error(r(151));for(var Xe=null,Nt=null,ze=ee,lt=ee=0,vt=null,Rt=se.next();ze!==null&&!Rt.done;lt++,Rt=se.next()){ze.index>lt?(vt=ze,ze=null):vt=ze.sibling;var Ec=le(ie,ze,Rt.value,ge);if(Ec===null){ze===null&&(ze=vt);break}l&&ze&&Ec.alternate===null&&d(ie,ze),ee=N(Ec,ee,lt),Nt===null?Xe=Ec:Nt.sibling=Ec,Nt=Ec,ze=vt}if(Rt.done)return p(ie,ze),xt&&gl(ie,lt),Xe;if(ze===null){for(;!Rt.done;lt++,Rt=se.next())Rt=ye(ie,Rt.value,ge),Rt!==null&&(ee=N(Rt,ee,lt),Nt===null?Xe=Rt:Nt.sibling=Rt,Nt=Rt);return xt&&gl(ie,lt),Xe}for(ze=b(ze);!Rt.done;lt++,Rt=se.next())Rt=de(ze,ie,lt,Rt.value,ge),Rt!==null&&(l&&Rt.alternate!==null&&ze.delete(Rt.key===null?lt:Rt.key),ee=N(Rt,ee,lt),Nt===null?Xe=Rt:Nt.sibling=Rt,Nt=Rt);return l&&ze.forEach(function(oJ){return d(ie,oJ)}),xt&&gl(ie,lt),Xe}function Vt(ie,ee,se,ge){if(typeof se=="object"&&se!==null&&se.type===E&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case v:e:{for(var Xe=se.key;ee!==null;){if(ee.key===Xe){if(Xe=se.type,Xe===E){if(ee.tag===7){p(ie,ee.sibling),ge=C(ee,se.props.children),ge.return=ie,ie=ge;break e}}else if(ee.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===B&&af(Xe)===ee.type){p(ie,ee.sibling),ge=C(ee,se.props),qy(ge,se),ge.return=ie,ie=ge;break e}p(ie,ee);break}else d(ie,ee);ee=ee.sibling}se.type===E?(ge=Zd(se.props.children,ie.mode,ge,se.key),ge.return=ie,ie=ge):(ge=Ew(se.type,se.key,se.props,null,ie.mode,ge),qy(ge,se),ge.return=ie,ie=ge)}return O(ie);case w:e:{for(Xe=se.key;ee!==null;){if(ee.key===Xe)if(ee.tag===4&&ee.stateNode.containerInfo===se.containerInfo&&ee.stateNode.implementation===se.implementation){p(ie,ee.sibling),ge=C(ee,se.children||[]),ge.return=ie,ie=ge;break e}else{p(ie,ee);break}else d(ie,ee);ee=ee.sibling}ge=o_(se,ie.mode,ge),ge.return=ie,ie=ge}return O(ie);case B:return se=af(se),Vt(ie,ee,se,ge)}if(Q(se))return Fe(ie,ee,se,ge);if(q(se)){if(Xe=q(se),typeof Xe!="function")throw Error(r(150));return se=Xe.call(se),Ze(ie,ee,se,ge)}if(typeof se.then=="function")return Vt(ie,ee,Mw(se),ge);if(se.$$typeof===R)return Vt(ie,ee,_w(ie,se),ge);Pw(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,ee!==null&&ee.tag===6?(p(ie,ee.sibling),ge=C(ee,se),ge.return=ie,ie=ge):(p(ie,ee),ge=s_(se,ie.mode,ge),ge.return=ie,ie=ge),O(ie)):p(ie,ee)}return function(ie,ee,se,ge){try{$y=0;var Xe=Vt(ie,ee,se,ge);return Cp=null,Xe}catch(ze){if(ze===Ap||ze===Nw)throw ze;var Nt=xa(29,ze,null,ie.mode);return Nt.lanes=ge,Nt.return=ie,Nt}finally{}}}var of=kL(!0),DL=kL(!1),sc=!1;function b_(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function x_(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function oc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function lc(l,d,p){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Dt&2)!==0){var C=b.pending;return C===null?d.next=d:(d.next=C.next,C.next=d),b.pending=d,d=Sw(l),gL(l,null,p),d}return ww(l,b,d,p),Sw(l)}function Vy(l,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var b=d.lanes;b&=l.pendingLanes,p|=b,d.lanes=p,X(l,p)}}function w_(l,d){var p=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var C=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var O={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?C=N=O:N=N.next=O,p=p.next}while(p!==null);N===null?C=N=d:N=N.next=d}else C=N=d;p={baseState:b.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=d}var S_=!1;function Wy(){if(S_){var l=Ep;if(l!==null)throw l}}function Yy(l,d,p,b){S_=!1;var C=l.updateQueue;sc=!1;var N=C.firstBaseUpdate,O=C.lastBaseUpdate,G=C.shared.pending;if(G!==null){C.shared.pending=null;var K=G,oe=K.next;K.next=null,O===null?N=oe:O.next=oe,O=K;var pe=l.alternate;pe!==null&&(pe=pe.updateQueue,G=pe.lastBaseUpdate,G!==O&&(G===null?pe.firstBaseUpdate=oe:G.next=oe,pe.lastBaseUpdate=K))}if(N!==null){var ye=C.baseState;O=0,pe=oe=K=null,G=N;do{var le=G.lane&-536870913,de=le!==G.lane;if(de?(yt&le)===le:(b&le)===le){le!==0&&le===Sp&&(S_=!0),pe!==null&&(pe=pe.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Fe=l,Ze=G;le=d;var Vt=p;switch(Ze.tag){case 1:if(Fe=Ze.payload,typeof Fe=="function"){ye=Fe.call(Vt,ye,le);break e}ye=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ze.payload,le=typeof Fe=="function"?Fe.call(Vt,ye,le):Fe,le==null)break e;ye=h({},ye,le);break e;case 2:sc=!0}}le=G.callback,le!==null&&(l.flags|=64,de&&(l.flags|=8192),de=C.callbacks,de===null?C.callbacks=[le]:de.push(le))}else de={lane:le,tag:G.tag,payload:G.payload,callback:G.callback,next:null},pe===null?(oe=pe=de,K=ye):pe=pe.next=de,O|=le;if(G=G.next,G===null){if(G=C.shared.pending,G===null)break;de=G,G=de.next,de.next=null,C.lastBaseUpdate=de,C.shared.pending=null}}while(!0);pe===null&&(K=ye),C.baseState=K,C.firstBaseUpdate=oe,C.lastBaseUpdate=pe,N===null&&(C.shared.lanes=0),hc|=O,l.lanes=O,l.memoizedState=ye}}function IL(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function LL(l,d){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)IL(p[l],d)}var _p=Y(null),kw=Y(0);function OL(l,d){l=Tl,ce(kw,l),ce(_p,d),Tl=l|d.baseLanes}function E_(){ce(kw,Tl),ce(_p,_p.current)}function A_(){Tl=kw.current,te(_p),te(kw)}var wa=Y(null),cs=null;function uc(l){var d=l.alternate;ce(zn,zn.current&1),ce(wa,l),cs===null&&(d===null||_p.current!==null||d.memoizedState!==null)&&(cs=l)}function C_(l){ce(zn,zn.current),ce(wa,l),cs===null&&(cs=l)}function jL(l){l.tag===22?(ce(zn,zn.current),ce(wa,l),cs===null&&(cs=l)):cc()}function cc(){ce(zn,zn.current),ce(wa,wa.current)}function Sa(l){te(wa),cs===l&&(cs=null),te(zn)}var zn=Y(0);function Dw(l){for(var d=l;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||PT(p)||kT(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var bl=0,st=null,$t=null,Jn=null,Iw=!1,Tp=!1,lf=!1,Lw=0,Ky=0,Np=null,JK=0;function Pn(){throw Error(r(321))}function __(l,d){if(d===null)return!1;for(var p=0;p<d.length&&p<l.length;p++)if(!ba(l[p],d[p]))return!1;return!0}function T_(l,d,p,b,C,N){return bl=N,st=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,H.H=l===null||l.memoizedState===null?xO:H_,lf=!1,N=p(b,C),lf=!1,Tp&&(N=UL(d,p,b,C)),FL(l),N}function FL(l){H.H=Qy;var d=$t!==null&&$t.next!==null;if(bl=0,Jn=$t=st=null,Iw=!1,Ky=0,Np=null,d)throw Error(r(300));l===null||Qn||(l=l.dependencies,l!==null&&Cw(l)&&(Qn=!0))}function UL(l,d,p,b){st=l;var C=0;do{if(Tp&&(Np=null),Ky=0,Tp=!1,25<=C)throw Error(r(301));if(C+=1,Jn=$t=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}H.H=wO,N=d(p,b)}while(Tp);return N}function QK(){var l=H.H,d=l.useState()[0];return d=typeof d.then=="function"?Xy(d):d,l=l.useState()[0],($t!==null?$t.memoizedState:null)!==l&&(st.flags|=1024),d}function N_(){var l=Lw!==0;return Lw=0,l}function R_(l,d,p){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~p}function M_(l){if(Iw){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Iw=!1}bl=0,Jn=$t=st=null,Tp=!1,Ky=Lw=0,Np=null}function _i(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?st.memoizedState=Jn=l:Jn=Jn.next=l,Jn}function Hn(){if($t===null){var l=st.alternate;l=l!==null?l.memoizedState:null}else l=$t.next;var d=Jn===null?st.memoizedState:Jn.next;if(d!==null)Jn=d,$t=l;else{if(l===null)throw st.alternate===null?Error(r(467)):Error(r(310));$t=l,l={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Jn===null?st.memoizedState=Jn=l:Jn=Jn.next=l}return Jn}function Ow(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xy(l){var d=Ky;return Ky+=1,Np===null&&(Np=[]),l=RL(Np,l,d),d=st,(Jn===null?d.memoizedState:Jn.next)===null&&(d=d.alternate,H.H=d===null||d.memoizedState===null?xO:H_),l}function jw(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Xy(l);if(l.$$typeof===R)return zr(l)}throw Error(r(438,String(l)))}function P_(l){var d=null,p=st.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var b=st.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(C){return C.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=Ow(),st.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(l),b=0;b<l;b++)p[b]=W;return d.index++,p}function xl(l,d){return typeof d=="function"?d(l):d}function Fw(l){var d=Hn();return k_(d,$t,l)}function k_(l,d,p){var b=l.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=p;var C=l.baseQueue,N=b.pending;if(N!==null){if(C!==null){var O=C.next;C.next=N.next,N.next=O}d.baseQueue=C=N,b.pending=null}if(N=l.baseState,C===null)l.memoizedState=N;else{d=C.next;var G=O=null,K=null,oe=d,pe=!1;do{var ye=oe.lane&-536870913;if(ye!==oe.lane?(yt&ye)===ye:(bl&ye)===ye){var le=oe.revertLane;if(le===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ye===Sp&&(pe=!0);else if((bl&le)===le){oe=oe.next,le===Sp&&(pe=!0);continue}else ye={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(G=K=ye,O=N):K=K.next=ye,st.lanes|=le,hc|=le;ye=oe.action,lf&&p(N,ye),N=oe.hasEagerState?oe.eagerState:p(N,ye)}else le={lane:ye,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(G=K=le,O=N):K=K.next=le,st.lanes|=ye,hc|=ye;oe=oe.next}while(oe!==null&&oe!==d);if(K===null?O=N:K.next=G,!ba(N,l.memoizedState)&&(Qn=!0,pe&&(p=Ep,p!==null)))throw p;l.memoizedState=N,l.baseState=O,l.baseQueue=K,b.lastRenderedState=N}return C===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function D_(l){var d=Hn(),p=d.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var b=p.dispatch,C=p.pending,N=d.memoizedState;if(C!==null){p.pending=null;var O=C=C.next;do N=l(N,O.action),O=O.next;while(O!==C);ba(N,d.memoizedState)||(Qn=!0),d.memoizedState=N,d.baseQueue===null&&(d.baseState=N),p.lastRenderedState=N}return[N,b]}function BL(l,d,p){var b=st,C=Hn(),N=xt;if(N){if(p===void 0)throw Error(r(407));p=p()}else p=d();var O=!ba(($t||C).memoizedState,p);if(O&&(C.memoizedState=p,Qn=!0),C=C.queue,O_(GL.bind(null,b,C,l),[l]),C.getSnapshot!==d||O||Jn!==null&&Jn.memoizedState.tag&1){if(b.flags|=2048,Rp(9,{destroy:void 0},HL.bind(null,b,C,p,d),null),en===null)throw Error(r(349));N||(bl&127)!==0||zL(b,d,p)}return p}function zL(l,d,p){l.flags|=16384,l={getSnapshot:d,value:p},d=st.updateQueue,d===null?(d=Ow(),st.updateQueue=d,d.stores=[l]):(p=d.stores,p===null?d.stores=[l]:p.push(l))}function HL(l,d,p,b){d.value=p,d.getSnapshot=b,$L(d)&&qL(l)}function GL(l,d,p){return p(function(){$L(d)&&qL(l)})}function $L(l){var d=l.getSnapshot;l=l.value;try{var p=d();return!ba(l,p)}catch{return!0}}function qL(l){var d=Qd(l,2);d!==null&&Xi(d,l,2)}function I_(l){var d=_i();if(typeof l=="function"){var p=l;if(l=p(),lf){Bs(!0);try{p()}finally{Bs(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:l},d}function VL(l,d,p,b){return l.baseState=p,k_(l,$t,typeof b=="function"?b:xl)}function ZK(l,d,p,b,C){if(zw(l))throw Error(r(485));if(l=d.action,l!==null){var N={payload:C,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){N.listeners.push(O)}};H.T!==null?p(!0):N.isTransition=!1,b(N),p=d.pending,p===null?(N.next=d.pending=N,WL(d,N)):(N.next=p.next,d.pending=p.next=N)}}function WL(l,d){var p=d.action,b=d.payload,C=l.state;if(d.isTransition){var N=H.T,O={};H.T=O;try{var G=p(C,b),K=H.S;K!==null&&K(O,G),YL(l,d,G)}catch(oe){L_(l,d,oe)}finally{N!==null&&O.types!==null&&(N.types=O.types),H.T=N}}else try{N=p(C,b),YL(l,d,N)}catch(oe){L_(l,d,oe)}}function YL(l,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){KL(l,d,b)},function(b){return L_(l,d,b)}):KL(l,d,p)}function KL(l,d,p){d.status="fulfilled",d.value=p,XL(d),l.state=p,d=l.pending,d!==null&&(p=d.next,p===d?l.pending=null:(p=p.next,d.next=p,WL(l,p)))}function L_(l,d,p){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=p,XL(d),d=d.next;while(d!==b)}l.action=null}function XL(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function JL(l,d){return d}function QL(l,d){if(xt){var p=en.formState;if(p!==null){e:{var b=st;if(xt){if(hn){t:{for(var C=hn,N=us;C.nodeType!==8;){if(!N){C=null;break t}if(C=ds(C.nextSibling),C===null){C=null;break t}}N=C.data,C=N==="F!"||N==="F"?C:null}if(C){hn=ds(C.nextSibling),b=C.data==="F!";break e}}ic(b)}b=!1}b&&(d=p[0])}}return p=_i(),p.memoizedState=p.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JL,lastRenderedState:d},p.queue=b,p=yO.bind(null,st,b),b.dispatch=p,b=I_(!1),N=z_.bind(null,st,!1,b.queue),b=_i(),C={state:d,dispatch:null,action:l,pending:null},b.queue=C,p=ZK.bind(null,st,C,N,p),C.dispatch=p,b.memoizedState=l,[d,p,!1]}function ZL(l){var d=Hn();return eO(d,$t,l)}function eO(l,d,p){if(d=k_(l,d,JL)[0],l=Fw(xl)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=Xy(d)}catch(O){throw O===Ap?Nw:O}else b=d;d=Hn();var C=d.queue,N=C.dispatch;return p!==d.memoizedState&&(st.flags|=2048,Rp(9,{destroy:void 0},eX.bind(null,C,p),null)),[b,N,l]}function eX(l,d){l.action=d}function tO(l){var d=Hn(),p=$t;if(p!==null)return eO(d,p,l);Hn(),d=d.memoizedState,p=Hn();var b=p.queue.dispatch;return p.memoizedState=l,[d,b,!1]}function Rp(l,d,p,b){return l={tag:l,create:p,deps:b,inst:d,next:null},d=st.updateQueue,d===null&&(d=Ow(),st.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=l.next=l:(b=p.next,p.next=l,l.next=b,d.lastEffect=l),l}function nO(){return Hn().memoizedState}function Uw(l,d,p,b){var C=_i();st.flags|=l,C.memoizedState=Rp(1|d,{destroy:void 0},p,b===void 0?null:b)}function Bw(l,d,p,b){var C=Hn();b=b===void 0?null:b;var N=C.memoizedState.inst;$t!==null&&b!==null&&__(b,$t.memoizedState.deps)?C.memoizedState=Rp(d,N,p,b):(st.flags|=l,C.memoizedState=Rp(1|d,N,p,b))}function rO(l,d){Uw(8390656,8,l,d)}function O_(l,d){Bw(2048,8,l,d)}function tX(l){st.flags|=4;var d=st.updateQueue;if(d===null)d=Ow(),st.updateQueue=d,d.events=[l];else{var p=d.events;p===null?d.events=[l]:p.push(l)}}function iO(l){var d=Hn().memoizedState;return tX({ref:d,nextImpl:l}),function(){if((Dt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function aO(l,d){return Bw(4,2,l,d)}function sO(l,d){return Bw(4,4,l,d)}function oO(l,d){if(typeof d=="function"){l=l();var p=d(l);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function lO(l,d,p){p=p!=null?p.concat([l]):null,Bw(4,4,oO.bind(null,d,l),p)}function j_(){}function uO(l,d){var p=Hn();d=d===void 0?null:d;var b=p.memoizedState;return d!==null&&__(d,b[1])?b[0]:(p.memoizedState=[l,d],l)}function cO(l,d){var p=Hn();d=d===void 0?null:d;var b=p.memoizedState;if(d!==null&&__(d,b[1]))return b[0];if(b=l(),lf){Bs(!0);try{l()}finally{Bs(!1)}}return p.memoizedState=[b,d],b}function F_(l,d,p){return p===void 0||(bl&1073741824)!==0&&(yt&261930)===0?l.memoizedState=d:(l.memoizedState=p,l=dj(),st.lanes|=l,hc|=l,p)}function dO(l,d,p,b){return ba(p,d)?p:_p.current!==null?(l=F_(l,p,b),ba(l,d)||(Qn=!0),l):(bl&42)===0||(bl&1073741824)!==0&&(yt&261930)===0?(Qn=!0,l.memoizedState=p):(l=dj(),st.lanes|=l,hc|=l,d)}function fO(l,d,p,b,C){var N=$.p;$.p=N!==0&&8>N?N:8;var O=H.T,G={};H.T=G,z_(l,!1,d,p);try{var K=C(),oe=H.S;if(oe!==null&&oe(G,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var pe=XK(K,b);Jy(l,d,pe,Ca(l))}else Jy(l,d,b,Ca(l))}catch(ye){Jy(l,d,{then:function(){},status:"rejected",reason:ye},Ca())}finally{$.p=N,O!==null&&G.types!==null&&(O.types=G.types),H.T=O}}function nX(){}function U_(l,d,p,b){if(l.tag!==5)throw Error(r(476));var C=hO(l).queue;fO(l,C,d,J,p===null?nX:function(){return pO(l),p(b)})}function hO(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:J},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:p},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function pO(l){var d=hO(l);d.next===null&&(d=l.alternate.memoizedState),Jy(l,d.next.queue,{},Ca())}function B_(){return zr(pv)}function mO(){return Hn().memoizedState}function gO(){return Hn().memoizedState}function rX(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var p=Ca();l=oc(p);var b=lc(d,l,p);b!==null&&(Xi(b,d,p),Vy(b,d,p)),d={cache:m_()},l.payload=d;return}d=d.return}}function iX(l,d,p){var b=Ca();p={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},zw(l)?vO(d,p):(p=i_(l,d,p,b),p!==null&&(Xi(p,l,b),bO(p,d,b)))}function yO(l,d,p){var b=Ca();Jy(l,d,p,b)}function Jy(l,d,p,b){var C={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(zw(l))vO(d,C);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=d.lastRenderedReducer,N!==null))try{var O=d.lastRenderedState,G=N(O,p);if(C.hasEagerState=!0,C.eagerState=G,ba(G,O))return ww(l,d,C,0),en===null&&xw(),!1}catch{}finally{}if(p=i_(l,d,C,b),p!==null)return Xi(p,l,b),bO(p,d,b),!0}return!1}function z_(l,d,p,b){if(b={lane:2,revertLane:bT(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},zw(l)){if(d)throw Error(r(479))}else d=i_(l,p,b,2),d!==null&&Xi(d,l,2)}function zw(l){var d=l.alternate;return l===st||d!==null&&d===st}function vO(l,d){Tp=Iw=!0;var p=l.pending;p===null?d.next=d:(d.next=p.next,p.next=d),l.pending=d}function bO(l,d,p){if((p&4194048)!==0){var b=d.lanes;b&=l.pendingLanes,p|=b,d.lanes=p,X(l,p)}}var Qy={readContext:zr,use:jw,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};Qy.useEffectEvent=Pn;var xO={readContext:zr,use:jw,useCallback:function(l,d){return _i().memoizedState=[l,d===void 0?null:d],l},useContext:zr,useEffect:rO,useImperativeHandle:function(l,d,p){p=p!=null?p.concat([l]):null,Uw(4194308,4,oO.bind(null,d,l),p)},useLayoutEffect:function(l,d){return Uw(4194308,4,l,d)},useInsertionEffect:function(l,d){Uw(4,2,l,d)},useMemo:function(l,d){var p=_i();d=d===void 0?null:d;var b=l();if(lf){Bs(!0);try{l()}finally{Bs(!1)}}return p.memoizedState=[b,d],b},useReducer:function(l,d,p){var b=_i();if(p!==void 0){var C=p(d);if(lf){Bs(!0);try{p(d)}finally{Bs(!1)}}}else C=d;return b.memoizedState=b.baseState=C,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:C},b.queue=l,l=l.dispatch=iX.bind(null,st,l),[b.memoizedState,l]},useRef:function(l){var d=_i();return l={current:l},d.memoizedState=l},useState:function(l){l=I_(l);var d=l.queue,p=yO.bind(null,st,d);return d.dispatch=p,[l.memoizedState,p]},useDebugValue:j_,useDeferredValue:function(l,d){var p=_i();return F_(p,l,d)},useTransition:function(){var l=I_(!1);return l=fO.bind(null,st,l.queue,!0,!1),_i().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,p){var b=st,C=_i();if(xt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=d(),en===null)throw Error(r(349));(yt&127)!==0||zL(b,d,p)}C.memoizedState=p;var N={value:p,getSnapshot:d};return C.queue=N,rO(GL.bind(null,b,N,l),[l]),b.flags|=2048,Rp(9,{destroy:void 0},HL.bind(null,b,N,p,d),null),p},useId:function(){var l=_i(),d=en.identifierPrefix;if(xt){var p=wo,b=xo;p=(b&~(1<<32-si(b)-1)).toString(32)+p,d="_"+d+"R_"+p,p=Lw++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=JK++,d="_"+d+"r_"+p.toString(32)+"_";return l.memoizedState=d},useHostTransitionStatus:B_,useFormState:QL,useActionState:QL,useOptimistic:function(l){var d=_i();d.memoizedState=d.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=z_.bind(null,st,!0,p),p.dispatch=d,[l,d]},useMemoCache:P_,useCacheRefresh:function(){return _i().memoizedState=rX.bind(null,st)},useEffectEvent:function(l){var d=_i(),p={impl:l};return d.memoizedState=p,function(){if((Dt&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}},H_={readContext:zr,use:jw,useCallback:uO,useContext:zr,useEffect:O_,useImperativeHandle:lO,useInsertionEffect:aO,useLayoutEffect:sO,useMemo:cO,useReducer:Fw,useRef:nO,useState:function(){return Fw(xl)},useDebugValue:j_,useDeferredValue:function(l,d){var p=Hn();return dO(p,$t.memoizedState,l,d)},useTransition:function(){var l=Fw(xl)[0],d=Hn().memoizedState;return[typeof l=="boolean"?l:Xy(l),d]},useSyncExternalStore:BL,useId:mO,useHostTransitionStatus:B_,useFormState:ZL,useActionState:ZL,useOptimistic:function(l,d){var p=Hn();return VL(p,$t,l,d)},useMemoCache:P_,useCacheRefresh:gO};H_.useEffectEvent=iO;var wO={readContext:zr,use:jw,useCallback:uO,useContext:zr,useEffect:O_,useImperativeHandle:lO,useInsertionEffect:aO,useLayoutEffect:sO,useMemo:cO,useReducer:D_,useRef:nO,useState:function(){return D_(xl)},useDebugValue:j_,useDeferredValue:function(l,d){var p=Hn();return $t===null?F_(p,l,d):dO(p,$t.memoizedState,l,d)},useTransition:function(){var l=D_(xl)[0],d=Hn().memoizedState;return[typeof l=="boolean"?l:Xy(l),d]},useSyncExternalStore:BL,useId:mO,useHostTransitionStatus:B_,useFormState:tO,useActionState:tO,useOptimistic:function(l,d){var p=Hn();return $t!==null?VL(p,$t,l,d):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:P_,useCacheRefresh:gO};wO.useEffectEvent=iO;function G_(l,d,p,b){d=l.memoizedState,p=p(b,d),p=p==null?d:h({},d,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var $_={enqueueSetState:function(l,d,p){l=l._reactInternals;var b=Ca(),C=oc(b);C.payload=d,p!=null&&(C.callback=p),d=lc(l,C,b),d!==null&&(Xi(d,l,b),Vy(d,l,b))},enqueueReplaceState:function(l,d,p){l=l._reactInternals;var b=Ca(),C=oc(b);C.tag=1,C.payload=d,p!=null&&(C.callback=p),d=lc(l,C,b),d!==null&&(Xi(d,l,b),Vy(d,l,b))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var p=Ca(),b=oc(p);b.tag=2,d!=null&&(b.callback=d),d=lc(l,b,p),d!==null&&(Xi(d,l,p),Vy(d,l,p))}};function SO(l,d,p,b,C,N,O){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,N,O):d.prototype&&d.prototype.isPureReactComponent?!Fy(p,b)||!Fy(C,N):!0}function EO(l,d,p,b){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,b),d.state!==l&&$_.enqueueReplaceState(d,d.state,null)}function uf(l,d){var p=d;if("ref"in d){p={};for(var b in d)b!=="ref"&&(p[b]=d[b])}if(l=l.defaultProps){p===d&&(p=h({},p));for(var C in l)p[C]===void 0&&(p[C]=l[C])}return p}function AO(l){bw(l)}function CO(l){console.error(l)}function _O(l){bw(l)}function Hw(l,d){try{var p=l.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function TO(l,d,p){try{var b=l.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function q_(l,d,p){return p=oc(p),p.tag=3,p.payload={element:null},p.callback=function(){Hw(l,d)},p}function NO(l){return l=oc(l),l.tag=3,l}function RO(l,d,p,b){var C=p.type.getDerivedStateFromError;if(typeof C=="function"){var N=b.value;l.payload=function(){return C(N)},l.callback=function(){TO(d,p,b)}}var O=p.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(l.callback=function(){TO(d,p,b),typeof C!="function"&&(pc===null?pc=new Set([this]):pc.add(this));var G=b.stack;this.componentDidCatch(b.value,{componentStack:G!==null?G:""})})}function aX(l,d,p,b,C){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=p.alternate,d!==null&&wp(d,p,C,!0),p=wa.current,p!==null){switch(p.tag){case 31:case 13:return cs===null?eS():p.alternate===null&&kn===0&&(kn=3),p.flags&=-257,p.flags|=65536,p.lanes=C,b===Rw?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([b]):d.add(b),gT(l,b,C)),!1;case 22:return p.flags|=65536,b===Rw?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([b]):p.add(b)),gT(l,b,C)),!1}throw Error(r(435,p.tag))}return gT(l,b,C),eS(),!1}if(xt)return d=wa.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=C,b!==c_&&(l=Error(r(422),{cause:b}),zy(ss(l,p)))):(b!==c_&&(d=Error(r(423),{cause:b}),zy(ss(d,p))),l=l.current.alternate,l.flags|=65536,C&=-C,l.lanes|=C,b=ss(b,p),C=q_(l.stateNode,b,C),w_(l,C),kn!==4&&(kn=2)),!1;var N=Error(r(520),{cause:b});if(N=ss(N,p),sv===null?sv=[N]:sv.push(N),kn!==4&&(kn=2),d===null)return!0;b=ss(b,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,l=C&-C,p.lanes|=l,l=q_(p.stateNode,b,l),w_(p,l),!1;case 1:if(d=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(pc===null||!pc.has(N))))return p.flags|=65536,C&=-C,p.lanes|=C,C=NO(C),RO(C,l,p,b),w_(p,C),!1}p=p.return}while(p!==null);return!1}var V_=Error(r(461)),Qn=!1;function Hr(l,d,p,b){d.child=l===null?DL(d,null,p,b):of(d,l.child,p,b)}function MO(l,d,p,b,C){p=p.render;var N=d.ref;if("ref"in b){var O={};for(var G in b)G!=="ref"&&(O[G]=b[G])}else O=b;return nf(d),b=T_(l,d,p,O,N,C),G=N_(),l!==null&&!Qn?(R_(l,d,C),wl(l,d,C)):(xt&&G&&l_(d),d.flags|=1,Hr(l,d,b,C),d.child)}function PO(l,d,p,b,C){if(l===null){var N=p.type;return typeof N=="function"&&!a_(N)&&N.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=N,kO(l,d,N,b,C)):(l=Ew(p.type,null,b,d,d.mode,C),l.ref=d.ref,l.return=d,d.child=l)}if(N=l.child,!eT(l,C)){var O=N.memoizedProps;if(p=p.compare,p=p!==null?p:Fy,p(O,b)&&l.ref===d.ref)return wl(l,d,C)}return d.flags|=1,l=ml(N,b),l.ref=d.ref,l.return=d,d.child=l}function kO(l,d,p,b,C){if(l!==null){var N=l.memoizedProps;if(Fy(N,b)&&l.ref===d.ref)if(Qn=!1,d.pendingProps=b=N,eT(l,C))(l.flags&131072)!==0&&(Qn=!0);else return d.lanes=l.lanes,wl(l,d,C)}return W_(l,d,p,b,C)}function DO(l,d,p,b){var C=b.children,N=l!==null?l.memoizedState:null;if(l===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((d.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,l!==null){for(b=d.child=l.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;b=C&~N}else b=0,d.child=null;return IO(l,d,N,p,b)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&Tw(d,N!==null?N.cachePool:null),N!==null?OL(d,N):E_(),jL(d);else return b=d.lanes=536870912,IO(l,d,N!==null?N.baseLanes|p:p,p,b)}else N!==null?(Tw(d,N.cachePool),OL(d,N),cc(),d.memoizedState=null):(l!==null&&Tw(d,null),E_(),cc());return Hr(l,d,C,p),d.child}function Zy(l,d){return l!==null&&l.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function IO(l,d,p,b,C){var N=y_();return N=N===null?null:{parent:Xn._currentValue,pool:N},d.memoizedState={baseLanes:p,cachePool:N},l!==null&&Tw(d,null),E_(),jL(d),l!==null&&wp(l,d,b,!0),d.childLanes=C,null}function Gw(l,d){return d=qw({mode:d.mode,children:d.children},l.mode),d.ref=l.ref,l.child=d,d.return=l,d}function LO(l,d,p){return of(d,l.child,null,p),l=Gw(d,d.pendingProps),l.flags|=2,Sa(d),d.memoizedState=null,l}function sX(l,d,p){var b=d.pendingProps,C=(d.flags&128)!==0;if(d.flags&=-129,l===null){if(xt){if(b.mode==="hidden")return l=Gw(d,b),d.lanes=536870912,Zy(null,l);if(C_(d),(l=hn)?(l=Wj(l,us),l=l!==null&&l.data==="&"?l:null,l!==null&&(d.memoizedState={dehydrated:l,treeContext:nc!==null?{id:xo,overflow:wo}:null,retryLane:536870912,hydrationErrors:null},p=vL(l),p.return=d,d.child=p,Br=d,hn=null)):l=null,l===null)throw ic(d);return d.lanes=536870912,null}return Gw(d,b)}var N=l.memoizedState;if(N!==null){var O=N.dehydrated;if(C_(d),C)if(d.flags&256)d.flags&=-257,d=LO(l,d,p);else if(d.memoizedState!==null)d.child=l.child,d.flags|=128,d=null;else throw Error(r(558));else if(Qn||wp(l,d,p,!1),C=(p&l.childLanes)!==0,Qn||C){if(b=en,b!==null&&(O=re(b,p),O!==0&&O!==N.retryLane))throw N.retryLane=O,Qd(l,O),Xi(b,l,O),V_;eS(),d=LO(l,d,p)}else l=N.treeContext,hn=ds(O.nextSibling),Br=d,xt=!0,rc=null,us=!1,l!==null&&wL(d,l),d=Gw(d,b),d.flags|=4096;return d}return l=ml(l.child,{mode:b.mode,children:b.children}),l.ref=d.ref,d.child=l,l.return=d,l}function $w(l,d){var p=d.ref;if(p===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(l===null||l.ref!==p)&&(d.flags|=4194816)}}function W_(l,d,p,b,C){return nf(d),p=T_(l,d,p,b,void 0,C),b=N_(),l!==null&&!Qn?(R_(l,d,C),wl(l,d,C)):(xt&&b&&l_(d),d.flags|=1,Hr(l,d,p,C),d.child)}function OO(l,d,p,b,C,N){return nf(d),d.updateQueue=null,p=UL(d,b,p,C),FL(l),b=N_(),l!==null&&!Qn?(R_(l,d,N),wl(l,d,N)):(xt&&b&&l_(d),d.flags|=1,Hr(l,d,p,N),d.child)}function jO(l,d,p,b,C){if(nf(d),d.stateNode===null){var N=yp,O=p.contextType;typeof O=="object"&&O!==null&&(N=zr(O)),N=new p(b,N),d.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=$_,d.stateNode=N,N._reactInternals=d,N=d.stateNode,N.props=b,N.state=d.memoizedState,N.refs={},b_(d),O=p.contextType,N.context=typeof O=="object"&&O!==null?zr(O):yp,N.state=d.memoizedState,O=p.getDerivedStateFromProps,typeof O=="function"&&(G_(d,p,O,b),N.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(O=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),O!==N.state&&$_.enqueueReplaceState(N,N.state,null),Yy(d,b,N,C),Wy(),N.state=d.memoizedState),typeof N.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(l===null){N=d.stateNode;var G=d.memoizedProps,K=uf(p,G);N.props=K;var oe=N.context,pe=p.contextType;O=yp,typeof pe=="object"&&pe!==null&&(O=zr(pe));var ye=p.getDerivedStateFromProps;pe=typeof ye=="function"||typeof N.getSnapshotBeforeUpdate=="function",G=d.pendingProps!==G,pe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(G||oe!==O)&&EO(d,N,b,O),sc=!1;var le=d.memoizedState;N.state=le,Yy(d,b,N,C),Wy(),oe=d.memoizedState,G||le!==oe||sc?(typeof ye=="function"&&(G_(d,p,ye,b),oe=d.memoizedState),(K=sc||SO(d,p,K,b,le,oe,O))?(pe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(d.flags|=4194308)):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=oe),N.props=b,N.state=oe,N.context=O,b=K):(typeof N.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{N=d.stateNode,x_(l,d),O=d.memoizedProps,pe=uf(p,O),N.props=pe,ye=d.pendingProps,le=N.context,oe=p.contextType,K=yp,typeof oe=="object"&&oe!==null&&(K=zr(oe)),G=p.getDerivedStateFromProps,(oe=typeof G=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==ye||le!==K)&&EO(d,N,b,K),sc=!1,le=d.memoizedState,N.state=le,Yy(d,b,N,C),Wy();var de=d.memoizedState;O!==ye||le!==de||sc||l!==null&&l.dependencies!==null&&Cw(l.dependencies)?(typeof G=="function"&&(G_(d,p,G,b),de=d.memoizedState),(pe=sc||SO(d,p,pe,b,le,de,K)||l!==null&&l.dependencies!==null&&Cw(l.dependencies))?(oe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,de,K),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,de,K)),typeof N.componentDidUpdate=="function"&&(d.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===l.memoizedProps&&le===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&le===l.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=de),N.props=b,N.state=de,N.context=K,b=pe):(typeof N.componentDidUpdate!="function"||O===l.memoizedProps&&le===l.memoizedState||(d.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&le===l.memoizedState||(d.flags|=1024),b=!1)}return N=b,$w(l,d),b=(d.flags&128)!==0,N||b?(N=d.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:N.render(),d.flags|=1,l!==null&&b?(d.child=of(d,l.child,null,C),d.child=of(d,null,p,C)):Hr(l,d,p,C),d.memoizedState=N.state,l=d.child):l=wl(l,d,C),l}function FO(l,d,p,b){return ef(),d.flags|=256,Hr(l,d,p,b),d.child}var Y_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function K_(l){return{baseLanes:l,cachePool:TL()}}function X_(l,d,p){return l=l!==null?l.childLanes&~p:0,d&&(l|=Aa),l}function UO(l,d,p){var b=d.pendingProps,C=!1,N=(d.flags&128)!==0,O;if((O=N)||(O=l!==null&&l.memoizedState===null?!1:(zn.current&2)!==0),O&&(C=!0,d.flags&=-129),O=(d.flags&32)!==0,d.flags&=-33,l===null){if(xt){if(C?uc(d):cc(),(l=hn)?(l=Wj(l,us),l=l!==null&&l.data!=="&"?l:null,l!==null&&(d.memoizedState={dehydrated:l,treeContext:nc!==null?{id:xo,overflow:wo}:null,retryLane:536870912,hydrationErrors:null},p=vL(l),p.return=d,d.child=p,Br=d,hn=null)):l=null,l===null)throw ic(d);return kT(l)?d.lanes=32:d.lanes=536870912,null}var G=b.children;return b=b.fallback,C?(cc(),C=d.mode,G=qw({mode:"hidden",children:G},C),b=Zd(b,C,p,null),G.return=d,b.return=d,G.sibling=b,d.child=G,b=d.child,b.memoizedState=K_(p),b.childLanes=X_(l,O,p),d.memoizedState=Y_,Zy(null,b)):(uc(d),J_(d,G))}var K=l.memoizedState;if(K!==null&&(G=K.dehydrated,G!==null)){if(N)d.flags&256?(uc(d),d.flags&=-257,d=Q_(l,d,p)):d.memoizedState!==null?(cc(),d.child=l.child,d.flags|=128,d=null):(cc(),G=b.fallback,C=d.mode,b=qw({mode:"visible",children:b.children},C),G=Zd(G,C,p,null),G.flags|=2,b.return=d,G.return=d,b.sibling=G,d.child=b,of(d,l.child,null,p),b=d.child,b.memoizedState=K_(p),b.childLanes=X_(l,O,p),d.memoizedState=Y_,d=Zy(null,b));else if(uc(d),kT(G)){if(O=G.nextSibling&&G.nextSibling.dataset,O)var oe=O.dgst;O=oe,b=Error(r(419)),b.stack="",b.digest=O,zy({value:b,source:null,stack:null}),d=Q_(l,d,p)}else if(Qn||wp(l,d,p,!1),O=(p&l.childLanes)!==0,Qn||O){if(O=en,O!==null&&(b=re(O,p),b!==0&&b!==K.retryLane))throw K.retryLane=b,Qd(l,b),Xi(O,l,b),V_;PT(G)||eS(),d=Q_(l,d,p)}else PT(G)?(d.flags|=192,d.child=l.child,d=null):(l=K.treeContext,hn=ds(G.nextSibling),Br=d,xt=!0,rc=null,us=!1,l!==null&&wL(d,l),d=J_(d,b.children),d.flags|=4096);return d}return C?(cc(),G=b.fallback,C=d.mode,K=l.child,oe=K.sibling,b=ml(K,{mode:"hidden",children:b.children}),b.subtreeFlags=K.subtreeFlags&65011712,oe!==null?G=ml(oe,G):(G=Zd(G,C,p,null),G.flags|=2),G.return=d,b.return=d,b.sibling=G,d.child=b,Zy(null,b),b=d.child,G=l.child.memoizedState,G===null?G=K_(p):(C=G.cachePool,C!==null?(K=Xn._currentValue,C=C.parent!==K?{parent:K,pool:K}:C):C=TL(),G={baseLanes:G.baseLanes|p,cachePool:C}),b.memoizedState=G,b.childLanes=X_(l,O,p),d.memoizedState=Y_,Zy(l.child,b)):(uc(d),p=l.child,l=p.sibling,p=ml(p,{mode:"visible",children:b.children}),p.return=d,p.sibling=null,l!==null&&(O=d.deletions,O===null?(d.deletions=[l],d.flags|=16):O.push(l)),d.child=p,d.memoizedState=null,p)}function J_(l,d){return d=qw({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function qw(l,d){return l=xa(22,l,null,d),l.lanes=0,l}function Q_(l,d,p){return of(d,l.child,null,p),l=J_(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function BO(l,d,p){l.lanes|=d;var b=l.alternate;b!==null&&(b.lanes|=d),h_(l.return,d,p)}function Z_(l,d,p,b,C,N){var O=l.memoizedState;O===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:C,treeForkCount:N}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=b,O.tail=p,O.tailMode=C,O.treeForkCount=N)}function zO(l,d,p){var b=d.pendingProps,C=b.revealOrder,N=b.tail;b=b.children;var O=zn.current,G=(O&2)!==0;if(G?(O=O&1|2,d.flags|=128):O&=1,ce(zn,O),Hr(l,d,b,p),b=xt?By:0,!G&&l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&BO(l,p,d);else if(l.tag===19)BO(l,p,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(C){case"forwards":for(p=d.child,C=null;p!==null;)l=p.alternate,l!==null&&Dw(l)===null&&(C=p),p=p.sibling;p=C,p===null?(C=d.child,d.child=null):(C=p.sibling,p.sibling=null),Z_(d,!1,C,p,N,b);break;case"backwards":case"unstable_legacy-backwards":for(p=null,C=d.child,d.child=null;C!==null;){if(l=C.alternate,l!==null&&Dw(l)===null){d.child=C;break}l=C.sibling,C.sibling=p,p=C,C=l}Z_(d,!0,p,null,N,b);break;case"together":Z_(d,!1,null,null,void 0,b);break;default:d.memoizedState=null}return d.child}function wl(l,d,p){if(l!==null&&(d.dependencies=l.dependencies),hc|=d.lanes,(p&d.childLanes)===0)if(l!==null){if(wp(l,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,p=ml(l,l.pendingProps),d.child=p,p.return=d;l.sibling!==null;)l=l.sibling,p=p.sibling=ml(l,l.pendingProps),p.return=d;p.sibling=null}return d.child}function eT(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&Cw(l)))}function oX(l,d,p){switch(d.tag){case 3:ft(d,d.stateNode.containerInfo),ac(d,Xn,l.memoizedState.cache),ef();break;case 27:case 5:Re(d);break;case 4:ft(d,d.stateNode.containerInfo);break;case 10:ac(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,C_(d),null;break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(uc(d),d.flags|=128,null):(p&d.child.childLanes)!==0?UO(l,d,p):(uc(d),l=wl(l,d,p),l!==null?l.sibling:null);uc(d);break;case 19:var C=(l.flags&128)!==0;if(b=(p&d.childLanes)!==0,b||(wp(l,d,p,!1),b=(p&d.childLanes)!==0),C){if(b)return zO(l,d,p);d.flags|=128}if(C=d.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),ce(zn,zn.current),b)break;return null;case 22:return d.lanes=0,DO(l,d,p,d.pendingProps);case 24:ac(d,Xn,l.memoizedState.cache)}return wl(l,d,p)}function HO(l,d,p){if(l!==null)if(l.memoizedProps!==d.pendingProps)Qn=!0;else{if(!eT(l,p)&&(d.flags&128)===0)return Qn=!1,oX(l,d,p);Qn=(l.flags&131072)!==0}else Qn=!1,xt&&(d.flags&1048576)!==0&&xL(d,By,d.index);switch(d.lanes=0,d.tag){case 16:e:{var b=d.pendingProps;if(l=af(d.elementType),d.type=l,typeof l=="function")a_(l)?(b=uf(l,b),d.tag=1,d=jO(null,d,l,b,p)):(d.tag=0,d=W_(null,d,l,b,p));else{if(l!=null){var C=l.$$typeof;if(C===I){d.tag=11,d=MO(null,d,l,b,p);break e}else if(C===P){d.tag=14,d=PO(null,d,l,b,p);break e}}throw d=V(l)||l,Error(r(306,d,""))}}return d;case 0:return W_(l,d,d.type,d.pendingProps,p);case 1:return b=d.type,C=uf(b,d.pendingProps),jO(l,d,b,C,p);case 3:e:{if(ft(d,d.stateNode.containerInfo),l===null)throw Error(r(387));b=d.pendingProps;var N=d.memoizedState;C=N.element,x_(l,d),Yy(d,b,null,p);var O=d.memoizedState;if(b=O.cache,ac(d,Xn,b),b!==N.cache&&p_(d,[Xn],p,!0),Wy(),b=O.element,N.isDehydrated)if(N={element:b,isDehydrated:!1,cache:O.cache},d.updateQueue.baseState=N,d.memoizedState=N,d.flags&256){d=FO(l,d,b,p);break e}else if(b!==C){C=ss(Error(r(424)),d),zy(C),d=FO(l,d,b,p);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(hn=ds(l.firstChild),Br=d,xt=!0,rc=null,us=!0,p=DL(d,null,b,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(ef(),b===C){d=wl(l,d,p);break e}Hr(l,d,b,p)}d=d.child}return d;case 26:return $w(l,d),l===null?(p=Zj(d.type,null,d.pendingProps,null))?d.memoizedState=p:xt||(p=d.type,l=d.pendingProps,b=oS(Me.current).createElement(p),b[Ne]=d,b[ke]=l,Gr(b,p,l),Zt(b),d.stateNode=b):d.memoizedState=Zj(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Re(d),l===null&&xt&&(b=d.stateNode=Xj(d.type,d.pendingProps,Me.current),Br=d,us=!0,C=hn,vc(d.type)?(DT=C,hn=ds(b.firstChild)):hn=C),Hr(l,d,d.pendingProps.children,p),$w(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&xt&&((C=b=hn)&&(b=jX(b,d.type,d.pendingProps,us),b!==null?(d.stateNode=b,Br=d,hn=ds(b.firstChild),us=!1,C=!0):C=!1),C||ic(d)),Re(d),C=d.type,N=d.pendingProps,O=l!==null?l.memoizedProps:null,b=N.children,NT(C,N)?b=null:O!==null&&NT(C,O)&&(d.flags|=32),d.memoizedState!==null&&(C=T_(l,d,QK,null,null,p),pv._currentValue=C),$w(l,d),Hr(l,d,b,p),d.child;case 6:return l===null&&xt&&((l=p=hn)&&(p=FX(p,d.pendingProps,us),p!==null?(d.stateNode=p,Br=d,hn=null,l=!0):l=!1),l||ic(d)),null;case 13:return UO(l,d,p);case 4:return ft(d,d.stateNode.containerInfo),b=d.pendingProps,l===null?d.child=of(d,null,b,p):Hr(l,d,b,p),d.child;case 11:return MO(l,d,d.type,d.pendingProps,p);case 7:return Hr(l,d,d.pendingProps,p),d.child;case 8:return Hr(l,d,d.pendingProps.children,p),d.child;case 12:return Hr(l,d,d.pendingProps.children,p),d.child;case 10:return b=d.pendingProps,ac(d,d.type,b.value),Hr(l,d,b.children,p),d.child;case 9:return C=d.type._context,b=d.pendingProps.children,nf(d),C=zr(C),b=b(C),d.flags|=1,Hr(l,d,b,p),d.child;case 14:return PO(l,d,d.type,d.pendingProps,p);case 15:return kO(l,d,d.type,d.pendingProps,p);case 19:return zO(l,d,p);case 31:return sX(l,d,p);case 22:return DO(l,d,p,d.pendingProps);case 24:return nf(d),b=zr(Xn),l===null?(C=y_(),C===null&&(C=en,N=m_(),C.pooledCache=N,N.refCount++,N!==null&&(C.pooledCacheLanes|=p),C=N),d.memoizedState={parent:b,cache:C},b_(d),ac(d,Xn,C)):((l.lanes&p)!==0&&(x_(l,d),Yy(d,null,null,p),Wy()),C=l.memoizedState,N=d.memoizedState,C.parent!==b?(C={parent:b,cache:b},d.memoizedState=C,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=C),ac(d,Xn,b)):(b=N.cache,ac(d,Xn,b),b!==C.cache&&p_(d,[Xn],p,!0))),Hr(l,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function Sl(l){l.flags|=4}function tT(l,d,p,b,C){if((d=(l.mode&32)!==0)&&(d=!1),d){if(l.flags|=16777216,(C&335544128)===C)if(l.stateNode.complete)l.flags|=8192;else if(mj())l.flags|=8192;else throw sf=Rw,v_}else l.flags&=-16777217}function GO(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!i3(d))if(mj())l.flags|=8192;else throw sf=Rw,v_}function Vw(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?Wd():536870912,l.lanes|=d,Dp|=d)}function ev(l,d){if(!xt)switch(l.tailMode){case"hidden":d=l.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function pn(l){var d=l.alternate!==null&&l.alternate.child===l.child,p=0,b=0;if(d)for(var C=l.child;C!==null;)p|=C.lanes|C.childLanes,b|=C.subtreeFlags&65011712,b|=C.flags&65011712,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)p|=C.lanes|C.childLanes,b|=C.subtreeFlags,b|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=b,l.childLanes=p,d}function lX(l,d,p){var b=d.pendingProps;switch(u_(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(d),null;case 1:return pn(d),null;case 3:return p=d.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),vl(Xn),fe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(xp(d)?Sl(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,d_())),pn(d),null;case 26:var C=d.type,N=d.memoizedState;return l===null?(Sl(d),N!==null?(pn(d),GO(d,N)):(pn(d),tT(d,C,null,b,p))):N?N!==l.memoizedState?(Sl(d),pn(d),GO(d,N)):(pn(d),d.flags&=-16777217):(l=l.memoizedProps,l!==b&&Sl(d),pn(d),tT(d,C,l,b,p)),null;case 27:if(Ke(d),p=Me.current,C=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==b&&Sl(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return pn(d),null}l=me.current,xp(d)?SL(d):(l=Xj(C,b,p),d.stateNode=l,Sl(d))}return pn(d),null;case 5:if(Ke(d),C=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==b&&Sl(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return pn(d),null}if(N=me.current,xp(d))SL(d);else{var O=oS(Me.current);switch(N){case 1:N=O.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:N=O.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":N=O.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":N=O.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":N=O.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof b.is=="string"?O.createElement("select",{is:b.is}):O.createElement("select"),b.multiple?N.multiple=!0:b.size&&(N.size=b.size);break;default:N=typeof b.is=="string"?O.createElement(C,{is:b.is}):O.createElement(C)}}N[Ne]=d,N[ke]=b;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)N.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=N;e:switch(Gr(N,C,b),C){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Sl(d)}}return pn(d),tT(d,d.type,l===null?null:l.memoizedProps,d.pendingProps,p),null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==b&&Sl(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(l=Me.current,xp(d)){if(l=d.stateNode,p=d.memoizedProps,b=null,C=Br,C!==null)switch(C.tag){case 27:case 5:b=C.memoizedProps}l[Ne]=d,l=!!(l.nodeValue===p||b!==null&&b.suppressHydrationWarning===!0||Uj(l.nodeValue,p)),l||ic(d,!0)}else l=oS(l).createTextNode(b),l[Ne]=d,d.stateNode=l}return pn(d),null;case 31:if(p=d.memoizedState,l===null||l.memoizedState!==null){if(b=xp(d),p!==null){if(l===null){if(!b)throw Error(r(318));if(l=d.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[Ne]=d}else ef(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;pn(d),l=!1}else p=d_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return d.flags&256?(Sa(d),d):(Sa(d),null);if((d.flags&128)!==0)throw Error(r(558))}return pn(d),null;case 13:if(b=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(C=xp(d),b!==null&&b.dehydrated!==null){if(l===null){if(!C)throw Error(r(318));if(C=d.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[Ne]=d}else ef(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;pn(d),C=!1}else C=d_(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=C),C=!0;if(!C)return d.flags&256?(Sa(d),d):(Sa(d),null)}return Sa(d),(d.flags&128)!==0?(d.lanes=p,d):(p=b!==null,l=l!==null&&l.memoizedState!==null,p&&(b=d.child,C=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(C=b.alternate.memoizedState.cachePool.pool),N=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==C&&(b.flags|=2048)),p!==l&&p&&(d.child.flags|=8192),Vw(d,d.updateQueue),pn(d),null);case 4:return fe(),l===null&&ET(d.stateNode.containerInfo),pn(d),null;case 10:return vl(d.type),pn(d),null;case 19:if(te(zn),b=d.memoizedState,b===null)return pn(d),null;if(C=(d.flags&128)!==0,N=b.rendering,N===null)if(C)ev(b,!1);else{if(kn!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(N=Dw(l),N!==null){for(d.flags|=128,ev(b,!1),l=N.updateQueue,d.updateQueue=l,Vw(d,l),d.subtreeFlags=0,l=p,p=d.child;p!==null;)yL(p,l),p=p.sibling;return ce(zn,zn.current&1|2),xt&&gl(d,b.treeForkCount),d.child}l=l.sibling}b.tail!==null&&Lt()>Jw&&(d.flags|=128,C=!0,ev(b,!1),d.lanes=4194304)}else{if(!C)if(l=Dw(N),l!==null){if(d.flags|=128,C=!0,l=l.updateQueue,d.updateQueue=l,Vw(d,l),ev(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!xt)return pn(d),null}else 2*Lt()-b.renderingStartTime>Jw&&p!==536870912&&(d.flags|=128,C=!0,ev(b,!1),d.lanes=4194304);b.isBackwards?(N.sibling=d.child,d.child=N):(l=b.last,l!==null?l.sibling=N:d.child=N,b.last=N)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Lt(),l.sibling=null,p=zn.current,ce(zn,C?p&1|2:p&1),xt&&gl(d,b.treeForkCount),l):(pn(d),null);case 22:case 23:return Sa(d),A_(),b=d.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(p&536870912)!==0&&(d.flags&128)===0&&(pn(d),d.subtreeFlags&6&&(d.flags|=8192)):pn(d),p=d.updateQueue,p!==null&&Vw(d,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==p&&(d.flags|=2048),l!==null&&te(rf),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),vl(Xn),pn(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function uX(l,d){switch(u_(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return vl(Xn),fe(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Ke(d),null;case 31:if(d.memoizedState!==null){if(Sa(d),d.alternate===null)throw Error(r(340));ef()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 13:if(Sa(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));ef()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return te(zn),null;case 4:return fe(),null;case 10:return vl(d.type),null;case 22:case 23:return Sa(d),A_(),l!==null&&te(rf),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return vl(Xn),null;case 25:return null;default:return null}}function $O(l,d){switch(u_(d),d.tag){case 3:vl(Xn),fe();break;case 26:case 27:case 5:Ke(d);break;case 4:fe();break;case 31:d.memoizedState!==null&&Sa(d);break;case 13:Sa(d);break;case 19:te(zn);break;case 10:vl(d.type);break;case 22:case 23:Sa(d),A_(),l!==null&&te(rf);break;case 24:vl(Xn)}}function tv(l,d){try{var p=d.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var C=b.next;p=C;do{if((p.tag&l)===l){b=void 0;var N=p.create,O=p.inst;b=N(),O.destroy=b}p=p.next}while(p!==C)}}catch(G){Ft(d,d.return,G)}}function dc(l,d,p){try{var b=d.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var N=C.next;b=N;do{if((b.tag&l)===l){var O=b.inst,G=O.destroy;if(G!==void 0){O.destroy=void 0,C=d;var K=p,oe=G;try{oe()}catch(pe){Ft(C,K,pe)}}}b=b.next}while(b!==N)}}catch(pe){Ft(d,d.return,pe)}}function qO(l){var d=l.updateQueue;if(d!==null){var p=l.stateNode;try{LL(d,p)}catch(b){Ft(l,l.return,b)}}}function VO(l,d,p){p.props=uf(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(b){Ft(l,d,b)}}function nv(l,d){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var b=l.stateNode;break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof p=="function"?l.refCleanup=p(b):p.current=b}}catch(C){Ft(l,d,C)}}function So(l,d){var p=l.ref,b=l.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(C){Ft(l,d,C)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(C){Ft(l,d,C)}else p.current=null}function WO(l){var d=l.type,p=l.memoizedProps,b=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&b.focus();break e;case"img":p.src?b.src=p.src:p.srcSet&&(b.srcset=p.srcSet)}}catch(C){Ft(l,l.return,C)}}function nT(l,d,p){try{var b=l.stateNode;PX(b,l.type,p,d),b[ke]=d}catch(C){Ft(l,l.return,C)}}function YO(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&vc(l.type)||l.tag===4}function rT(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||YO(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&vc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function iT(l,d,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(l),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=hl));else if(b!==4&&(b===27&&vc(l.type)&&(p=l.stateNode,d=null),l=l.child,l!==null))for(iT(l,d,p),l=l.sibling;l!==null;)iT(l,d,p),l=l.sibling}function Ww(l,d,p){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?p.insertBefore(l,d):p.appendChild(l);else if(b!==4&&(b===27&&vc(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Ww(l,d,p),l=l.sibling;l!==null;)Ww(l,d,p),l=l.sibling}function KO(l){var d=l.stateNode,p=l.memoizedProps;try{for(var b=l.type,C=d.attributes;C.length;)d.removeAttributeNode(C[0]);Gr(d,b,p),d[Ne]=l,d[ke]=p}catch(N){Ft(l,l.return,N)}}var El=!1,Zn=!1,aT=!1,XO=typeof WeakSet=="function"?WeakSet:Set,Er=null;function cX(l,d){if(l=l.containerInfo,_T=pS,l=lL(l),QC(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var C=b.anchorOffset,N=b.focusNode;b=b.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var O=0,G=-1,K=-1,oe=0,pe=0,ye=l,le=null;t:for(;;){for(var de;ye!==p||C!==0&&ye.nodeType!==3||(G=O+C),ye!==N||b!==0&&ye.nodeType!==3||(K=O+b),ye.nodeType===3&&(O+=ye.nodeValue.length),(de=ye.firstChild)!==null;)le=ye,ye=de;for(;;){if(ye===l)break t;if(le===p&&++oe===C&&(G=O),le===N&&++pe===b&&(K=O),(de=ye.nextSibling)!==null)break;ye=le,le=ye.parentNode}ye=de}p=G===-1||K===-1?null:{start:G,end:K}}else p=null}p=p||{start:0,end:0}}else p=null;for(TT={focusedElem:l,selectionRange:p},pS=!1,Er=d;Er!==null;)if(d=Er,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,Er=l;else for(;Er!==null;){switch(d=Er,N=d.alternate,l=d.flags,d.tag){case 0:if((l&4)!==0&&(l=d.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)C=l[p],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&N!==null){l=void 0,p=d,C=N.memoizedProps,N=N.memoizedState,b=p.stateNode;try{var Fe=uf(p.type,C);l=b.getSnapshotBeforeUpdate(Fe,N),b.__reactInternalSnapshotBeforeUpdate=l}catch(Ze){Ft(p,p.return,Ze)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,p=l.nodeType,p===9)MT(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":MT(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,Er=l;break}Er=d.return}}function JO(l,d,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:Cl(l,p),b&4&&tv(5,p);break;case 1:if(Cl(l,p),b&4)if(l=p.stateNode,d===null)try{l.componentDidMount()}catch(O){Ft(p,p.return,O)}else{var C=uf(p.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(C,d,l.__reactInternalSnapshotBeforeUpdate)}catch(O){Ft(p,p.return,O)}}b&64&&qO(p),b&512&&nv(p,p.return);break;case 3:if(Cl(l,p),b&64&&(l=p.updateQueue,l!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{LL(l,d)}catch(O){Ft(p,p.return,O)}}break;case 27:d===null&&b&4&&KO(p);case 26:case 5:Cl(l,p),d===null&&b&4&&WO(p),b&512&&nv(p,p.return);break;case 12:Cl(l,p);break;case 31:Cl(l,p),b&4&&ej(l,p);break;case 13:Cl(l,p),b&4&&tj(l,p),b&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=bX.bind(null,p),UX(l,p))));break;case 22:if(b=p.memoizedState!==null||El,!b){d=d!==null&&d.memoizedState!==null||Zn,C=El;var N=Zn;El=b,(Zn=d)&&!N?_l(l,p,(p.subtreeFlags&8772)!==0):Cl(l,p),El=C,Zn=N}break;case 30:break;default:Cl(l,p)}}function QO(l){var d=l.alternate;d!==null&&(l.alternate=null,QO(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Mn(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var vn=null,Vi=!1;function Al(l,d,p){for(p=p.child;p!==null;)ZO(l,d,p),p=p.sibling}function ZO(l,d,p){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(Gd,p)}catch{}switch(p.tag){case 26:Zn||So(p,d),Al(l,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Zn||So(p,d);var b=vn,C=Vi;vc(p.type)&&(vn=p.stateNode,Vi=!1),Al(l,d,p),dv(p.stateNode),vn=b,Vi=C;break;case 5:Zn||So(p,d);case 6:if(b=vn,C=Vi,vn=null,Al(l,d,p),vn=b,Vi=C,vn!==null)if(Vi)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(p.stateNode)}catch(N){Ft(p,d,N)}else try{vn.removeChild(p.stateNode)}catch(N){Ft(p,d,N)}break;case 18:vn!==null&&(Vi?(l=vn,qj(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),zp(l)):qj(vn,p.stateNode));break;case 4:b=vn,C=Vi,vn=p.stateNode.containerInfo,Vi=!0,Al(l,d,p),vn=b,Vi=C;break;case 0:case 11:case 14:case 15:dc(2,p,d),Zn||dc(4,p,d),Al(l,d,p);break;case 1:Zn||(So(p,d),b=p.stateNode,typeof b.componentWillUnmount=="function"&&VO(p,d,b)),Al(l,d,p);break;case 21:Al(l,d,p);break;case 22:Zn=(b=Zn)||p.memoizedState!==null,Al(l,d,p),Zn=b;break;default:Al(l,d,p)}}function ej(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{zp(l)}catch(p){Ft(d,d.return,p)}}}function tj(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{zp(l)}catch(p){Ft(d,d.return,p)}}function dX(l){switch(l.tag){case 31:case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new XO),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new XO),d;default:throw Error(r(435,l.tag))}}function Yw(l,d){var p=dX(l);d.forEach(function(b){if(!p.has(b)){p.add(b);var C=xX.bind(null,l,b);b.then(C,C)}})}function Wi(l,d){var p=d.deletions;if(p!==null)for(var b=0;b<p.length;b++){var C=p[b],N=l,O=d,G=O;e:for(;G!==null;){switch(G.tag){case 27:if(vc(G.type)){vn=G.stateNode,Vi=!1;break e}break;case 5:vn=G.stateNode,Vi=!1;break e;case 3:case 4:vn=G.stateNode.containerInfo,Vi=!0;break e}G=G.return}if(vn===null)throw Error(r(160));ZO(N,O,C),vn=null,Vi=!1,N=C.alternate,N!==null&&(N.return=null),C.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)nj(d,l),d=d.sibling}var Gs=null;function nj(l,d){var p=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Wi(d,l),Yi(l),b&4&&(dc(3,l,l.return),tv(3,l),dc(5,l,l.return));break;case 1:Wi(d,l),Yi(l),b&512&&(Zn||p===null||So(p,p.return)),b&64&&El&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:var C=Gs;if(Wi(d,l),Yi(l),b&512&&(Zn||p===null||So(p,p.return)),b&4){var N=p!==null?p.memoizedState:null;if(b=l.memoizedState,p===null)if(b===null)if(l.stateNode===null){e:{b=l.type,p=l.memoizedProps,C=C.ownerDocument||C;t:switch(b){case"title":N=C.getElementsByTagName("title")[0],(!N||N[fn]||N[Ne]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=C.createElement(b),C.head.insertBefore(N,C.querySelector("head > title"))),Gr(N,b,p),N[Ne]=l,Zt(N),b=N;break e;case"link":var O=n3("link","href",C).get(b+(p.href||""));if(O){for(var G=0;G<O.length;G++)if(N=O[G],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){O.splice(G,1);break t}}N=C.createElement(b),Gr(N,b,p),C.head.appendChild(N);break;case"meta":if(O=n3("meta","content",C).get(b+(p.content||""))){for(G=0;G<O.length;G++)if(N=O[G],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){O.splice(G,1);break t}}N=C.createElement(b),Gr(N,b,p),C.head.appendChild(N);break;default:throw Error(r(468,b))}N[Ne]=l,Zt(N),b=N}l.stateNode=b}else r3(C,l.type,l.stateNode);else l.stateNode=t3(C,b,l.memoizedProps);else N!==b?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,b===null?r3(C,l.type,l.stateNode):t3(C,b,l.memoizedProps)):b===null&&l.stateNode!==null&&nT(l,l.memoizedProps,p.memoizedProps)}break;case 27:Wi(d,l),Yi(l),b&512&&(Zn||p===null||So(p,p.return)),p!==null&&b&4&&nT(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Wi(d,l),Yi(l),b&512&&(Zn||p===null||So(p,p.return)),l.flags&32){C=l.stateNode;try{cp(C,"")}catch(Fe){Ft(l,l.return,Fe)}}b&4&&l.stateNode!=null&&(C=l.memoizedProps,nT(l,C,p!==null?p.memoizedProps:C)),b&1024&&(aT=!0);break;case 6:if(Wi(d,l),Yi(l),b&4){if(l.stateNode===null)throw Error(r(162));b=l.memoizedProps,p=l.stateNode;try{p.nodeValue=b}catch(Fe){Ft(l,l.return,Fe)}}break;case 3:if(cS=null,C=Gs,Gs=lS(d.containerInfo),Wi(d,l),Gs=C,Yi(l),b&4&&p!==null&&p.memoizedState.isDehydrated)try{zp(d.containerInfo)}catch(Fe){Ft(l,l.return,Fe)}aT&&(aT=!1,rj(l));break;case 4:b=Gs,Gs=lS(l.stateNode.containerInfo),Wi(d,l),Yi(l),Gs=b;break;case 12:Wi(d,l),Yi(l);break;case 31:Wi(d,l),Yi(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Yw(l,b)));break;case 13:Wi(d,l),Yi(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Xw=Lt()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Yw(l,b)));break;case 22:C=l.memoizedState!==null;var K=p!==null&&p.memoizedState!==null,oe=El,pe=Zn;if(El=oe||C,Zn=pe||K,Wi(d,l),Zn=pe,El=oe,Yi(l),b&8192)e:for(d=l.stateNode,d._visibility=C?d._visibility&-2:d._visibility|1,C&&(p===null||K||El||Zn||cf(l)),p=null,d=l;;){if(d.tag===5||d.tag===26){if(p===null){K=p=d;try{if(N=K.stateNode,C)O=N.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{G=K.stateNode;var ye=K.memoizedProps.style,le=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;G.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Fe){Ft(K,K.return,Fe)}}}else if(d.tag===6){if(p===null){K=d;try{K.stateNode.nodeValue=C?"":K.memoizedProps}catch(Fe){Ft(K,K.return,Fe)}}}else if(d.tag===18){if(p===null){K=d;try{var de=K.stateNode;C?Vj(de,!0):Vj(K.stateNode,!1)}catch(Fe){Ft(K,K.return,Fe)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=l.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,Yw(l,p))));break;case 19:Wi(d,l),Yi(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,Yw(l,b)));break;case 30:break;case 21:break;default:Wi(d,l),Yi(l)}}function Yi(l){var d=l.flags;if(d&2){try{for(var p,b=l.return;b!==null;){if(YO(b)){p=b;break}b=b.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var C=p.stateNode,N=rT(l);Ww(l,N,C);break;case 5:var O=p.stateNode;p.flags&32&&(cp(O,""),p.flags&=-33);var G=rT(l);Ww(l,G,O);break;case 3:case 4:var K=p.stateNode.containerInfo,oe=rT(l);iT(l,oe,K);break;default:throw Error(r(161))}}catch(pe){Ft(l,l.return,pe)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function rj(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;rj(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Cl(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)JO(l,d.alternate,d),d=d.sibling}function cf(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:dc(4,d,d.return),cf(d);break;case 1:So(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&VO(d,d.return,p),cf(d);break;case 27:dv(d.stateNode);case 26:case 5:So(d,d.return),cf(d);break;case 22:d.memoizedState===null&&cf(d);break;case 30:cf(d);break;default:cf(d)}l=l.sibling}}function _l(l,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,C=l,N=d,O=N.flags;switch(N.tag){case 0:case 11:case 15:_l(C,N,p),tv(4,N);break;case 1:if(_l(C,N,p),b=N,C=b.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(oe){Ft(b,b.return,oe)}if(b=N,C=b.updateQueue,C!==null){var G=b.stateNode;try{var K=C.shared.hiddenCallbacks;if(K!==null)for(C.shared.hiddenCallbacks=null,C=0;C<K.length;C++)IL(K[C],G)}catch(oe){Ft(b,b.return,oe)}}p&&O&64&&qO(N),nv(N,N.return);break;case 27:KO(N);case 26:case 5:_l(C,N,p),p&&b===null&&O&4&&WO(N),nv(N,N.return);break;case 12:_l(C,N,p);break;case 31:_l(C,N,p),p&&O&4&&ej(C,N);break;case 13:_l(C,N,p),p&&O&4&&tj(C,N);break;case 22:N.memoizedState===null&&_l(C,N,p),nv(N,N.return);break;case 30:break;default:_l(C,N,p)}d=d.sibling}}function sT(l,d){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Hy(p))}function oT(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Hy(l))}function $s(l,d,p,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)ij(l,d,p,b),d=d.sibling}function ij(l,d,p,b){var C=d.flags;switch(d.tag){case 0:case 11:case 15:$s(l,d,p,b),C&2048&&tv(9,d);break;case 1:$s(l,d,p,b);break;case 3:$s(l,d,p,b),C&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Hy(l)));break;case 12:if(C&2048){$s(l,d,p,b),l=d.stateNode;try{var N=d.memoizedProps,O=N.id,G=N.onPostCommit;typeof G=="function"&&G(O,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(K){Ft(d,d.return,K)}}else $s(l,d,p,b);break;case 31:$s(l,d,p,b);break;case 13:$s(l,d,p,b);break;case 23:break;case 22:N=d.stateNode,O=d.alternate,d.memoizedState!==null?N._visibility&2?$s(l,d,p,b):rv(l,d):N._visibility&2?$s(l,d,p,b):(N._visibility|=2,Mp(l,d,p,b,(d.subtreeFlags&10256)!==0||!1)),C&2048&&sT(O,d);break;case 24:$s(l,d,p,b),C&2048&&oT(d.alternate,d);break;default:$s(l,d,p,b)}}function Mp(l,d,p,b,C){for(C=C&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var N=l,O=d,G=p,K=b,oe=O.flags;switch(O.tag){case 0:case 11:case 15:Mp(N,O,G,K,C),tv(8,O);break;case 23:break;case 22:var pe=O.stateNode;O.memoizedState!==null?pe._visibility&2?Mp(N,O,G,K,C):rv(N,O):(pe._visibility|=2,Mp(N,O,G,K,C)),C&&oe&2048&&sT(O.alternate,O);break;case 24:Mp(N,O,G,K,C),C&&oe&2048&&oT(O.alternate,O);break;default:Mp(N,O,G,K,C)}d=d.sibling}}function rv(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=l,b=d,C=b.flags;switch(b.tag){case 22:rv(p,b),C&2048&&sT(b.alternate,b);break;case 24:rv(p,b),C&2048&&oT(b.alternate,b);break;default:rv(p,b)}d=d.sibling}}var iv=8192;function Pp(l,d,p){if(l.subtreeFlags&iv)for(l=l.child;l!==null;)aj(l,d,p),l=l.sibling}function aj(l,d,p){switch(l.tag){case 26:Pp(l,d,p),l.flags&iv&&l.memoizedState!==null&&JX(p,Gs,l.memoizedState,l.memoizedProps);break;case 5:Pp(l,d,p);break;case 3:case 4:var b=Gs;Gs=lS(l.stateNode.containerInfo),Pp(l,d,p),Gs=b;break;case 22:l.memoizedState===null&&(b=l.alternate,b!==null&&b.memoizedState!==null?(b=iv,iv=16777216,Pp(l,d,p),iv=b):Pp(l,d,p));break;default:Pp(l,d,p)}}function sj(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function av(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var b=d[p];Er=b,lj(b,l)}sj(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)oj(l),l=l.sibling}function oj(l){switch(l.tag){case 0:case 11:case 15:av(l),l.flags&2048&&dc(9,l,l.return);break;case 3:av(l);break;case 12:av(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,Kw(l)):av(l);break;default:av(l)}}function Kw(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var b=d[p];Er=b,lj(b,l)}sj(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:dc(8,d,d.return),Kw(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,Kw(d));break;default:Kw(d)}l=l.sibling}}function lj(l,d){for(;Er!==null;){var p=Er;switch(p.tag){case 0:case 11:case 15:dc(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Hy(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,Er=b;else e:for(p=l;Er!==null;){b=Er;var C=b.sibling,N=b.return;if(QO(b),b===p){Er=null;break e}if(C!==null){C.return=N,Er=C;break e}Er=N}}}var fX={getCacheForType:function(l){var d=zr(Xn),p=d.data.get(l);return p===void 0&&(p=l(),d.data.set(l,p)),p},cacheSignal:function(){return zr(Xn).controller.signal}},hX=typeof WeakMap=="function"?WeakMap:Map,Dt=0,en=null,pt=null,yt=0,jt=0,Ea=null,fc=!1,kp=!1,lT=!1,Tl=0,kn=0,hc=0,df=0,uT=0,Aa=0,Dp=0,sv=null,Ki=null,cT=!1,Xw=0,uj=0,Jw=1/0,Qw=null,pc=null,lr=0,mc=null,Ip=null,Nl=0,dT=0,fT=null,cj=null,ov=0,hT=null;function Ca(){return(Dt&2)!==0&&yt!==0?yt&-yt:H.T!==null?bT():Ae()}function dj(){if(Aa===0)if((yt&536870912)===0||xt){var l=$d;$d<<=1,($d&3932160)===0&&($d=262144),Aa=l}else Aa=536870912;return l=wa.current,l!==null&&(l.flags|=32),Aa}function Xi(l,d,p){(l===en&&(jt===2||jt===9)||l.cancelPendingCommit!==null)&&(Lp(l,0),gc(l,yt,Aa,!1)),ec(l,p),((Dt&2)===0||l!==en)&&(l===en&&((Dt&2)===0&&(df|=p),kn===4&&gc(l,yt,Aa,!1)),Eo(l))}function fj(l,d,p){if((Dt&6)!==0)throw Error(r(327));var b=!p&&(d&127)===0&&(d&l.expiredLanes)===0||Vd(l,d),C=b?gX(l,d):mT(l,d,!0),N=b;do{if(C===0){kp&&!b&&gc(l,d,0,!1);break}else{if(p=l.current.alternate,N&&!pX(p)){C=mT(l,d,!1),N=!1;continue}if(C===2){if(N=d,l.errorRecoveryDisabledLanes&N)var O=0;else O=l.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){d=O;e:{var G=l;C=sv;var K=G.current.memoizedState.isDehydrated;if(K&&(Lp(G,O).flags|=256),O=mT(G,O,!1),O!==2){if(lT&&!K){G.errorRecoveryDisabledLanes|=N,df|=N,C=4;break e}N=Ki,Ki=C,N!==null&&(Ki===null?Ki=N:Ki.push.apply(Ki,N))}C=O}if(N=!1,C!==2)continue}}if(C===1){Lp(l,0),gc(l,d,0,!0);break}e:{switch(b=l,N=C,N){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:gc(b,d,Aa,!fc);break e;case 2:Ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(C=Xw+300-Lt(),10<C)){if(gc(b,d,Aa,!fc),qd(b,0,!0)!==0)break e;Nl=d,b.timeoutHandle=Gj(hj.bind(null,b,p,Ki,Qw,cT,d,Aa,df,Dp,fc,N,"Throttled",-0,0),C);break e}hj(b,p,Ki,Qw,cT,d,Aa,df,Dp,fc,N,null,-0,0)}}break}while(!0);Eo(l)}function hj(l,d,p,b,C,N,O,G,K,oe,pe,ye,le,de){if(l.timeoutHandle=-1,ye=d.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hl},aj(d,N,ye);var Fe=(N&62914560)===N?Xw-Lt():(N&4194048)===N?uj-Lt():0;if(Fe=QX(ye,Fe),Fe!==null){Nl=N,l.cancelPendingCommit=Fe(wj.bind(null,l,d,N,p,b,C,O,G,K,pe,ye,null,le,de)),gc(l,N,O,!oe);return}}wj(l,d,N,p,b,C,O,G,K)}function pX(l){for(var d=l;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var C=p[b],N=C.getSnapshot;C=C.value;try{if(!ba(N(),C))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function gc(l,d,p,b){d&=~uT,d&=~df,l.suspendedLanes|=d,l.pingedLanes&=~d,b&&(l.warmLanes|=d),b=l.expirationTimes;for(var C=d;0<C;){var N=31-si(C),O=1<<N;b[N]=-1,C&=~O}p!==0&&cw(l,p,d)}function Zw(){return(Dt&6)===0?(lv(0),!1):!0}function pT(){if(pt!==null){if(jt===0)var l=pt.return;else l=pt,yl=tf=null,M_(l),Cp=null,$y=0,l=pt;for(;l!==null;)$O(l.alternate,l),l=l.return;pt=null}}function Lp(l,d){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,IX(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Nl=0,pT(),en=l,pt=p=ml(l.current,null),yt=d,jt=0,Ea=null,fc=!1,kp=Vd(l,d),lT=!1,Dp=Aa=uT=df=hc=kn=0,Ki=sv=null,cT=!1,(d&8)!==0&&(d|=d&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=d;0<b;){var C=31-si(b),N=1<<C;d|=l[C],b&=~N}return Tl=d,xw(),p}function pj(l,d){st=null,H.H=Qy,d===Ap||d===Nw?(d=ML(),jt=3):d===v_?(d=ML(),jt=4):jt=d===V_?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Ea=d,pt===null&&(kn=1,Hw(l,ss(d,l.current)))}function mj(){var l=wa.current;return l===null?!0:(yt&4194048)===yt?cs===null:(yt&62914560)===yt||(yt&536870912)!==0?l===cs:!1}function gj(){var l=H.H;return H.H=Qy,l===null?Qy:l}function yj(){var l=H.A;return H.A=fX,l}function eS(){kn=4,fc||(yt&4194048)!==yt&&wa.current!==null||(kp=!0),(hc&134217727)===0&&(df&134217727)===0||en===null||gc(en,yt,Aa,!1)}function mT(l,d,p){var b=Dt;Dt|=2;var C=gj(),N=yj();(en!==l||yt!==d)&&(Qw=null,Lp(l,d)),d=!1;var O=kn;e:do try{if(jt!==0&&pt!==null){var G=pt,K=Ea;switch(jt){case 8:pT(),O=6;break e;case 3:case 2:case 9:case 6:wa.current===null&&(d=!0);var oe=jt;if(jt=0,Ea=null,Op(l,G,K,oe),p&&kp){O=0;break e}break;default:oe=jt,jt=0,Ea=null,Op(l,G,K,oe)}}mX(),O=kn;break}catch(pe){pj(l,pe)}while(!0);return d&&l.shellSuspendCounter++,yl=tf=null,Dt=b,H.H=C,H.A=N,pt===null&&(en=null,yt=0,xw()),O}function mX(){for(;pt!==null;)vj(pt)}function gX(l,d){var p=Dt;Dt|=2;var b=gj(),C=yj();en!==l||yt!==d?(Qw=null,Jw=Lt()+500,Lp(l,d)):kp=Vd(l,d);e:do try{if(jt!==0&&pt!==null){d=pt;var N=Ea;t:switch(jt){case 1:jt=0,Ea=null,Op(l,d,N,1);break;case 2:case 9:if(NL(N)){jt=0,Ea=null,bj(d);break}d=function(){jt!==2&&jt!==9||en!==l||(jt=7),Eo(l)},N.then(d,d);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:NL(N)?(jt=0,Ea=null,bj(d)):(jt=0,Ea=null,Op(l,d,N,7));break;case 5:var O=null;switch(pt.tag){case 26:O=pt.memoizedState;case 5:case 27:var G=pt;if(O?i3(O):G.stateNode.complete){jt=0,Ea=null;var K=G.sibling;if(K!==null)pt=K;else{var oe=G.return;oe!==null?(pt=oe,tS(oe)):pt=null}break t}}jt=0,Ea=null,Op(l,d,N,5);break;case 6:jt=0,Ea=null,Op(l,d,N,6);break;case 8:pT(),kn=6;break e;default:throw Error(r(462))}}yX();break}catch(pe){pj(l,pe)}while(!0);return yl=tf=null,H.H=b,H.A=C,Dt=p,pt!==null?0:(en=null,yt=0,xw(),kn)}function yX(){for(;pt!==null&&!sr();)vj(pt)}function vj(l){var d=HO(l.alternate,l,Tl);l.memoizedProps=l.pendingProps,d===null?tS(l):pt=d}function bj(l){var d=l,p=d.alternate;switch(d.tag){case 15:case 0:d=OO(p,d,d.pendingProps,d.type,void 0,yt);break;case 11:d=OO(p,d,d.pendingProps,d.type.render,d.ref,yt);break;case 5:M_(d);default:$O(p,d),d=pt=yL(d,Tl),d=HO(p,d,Tl)}l.memoizedProps=l.pendingProps,d===null?tS(l):pt=d}function Op(l,d,p,b){yl=tf=null,M_(d),Cp=null,$y=0;var C=d.return;try{if(aX(l,C,d,p,yt)){kn=1,Hw(l,ss(p,l.current)),pt=null;return}}catch(N){if(C!==null)throw pt=C,N;kn=1,Hw(l,ss(p,l.current)),pt=null;return}d.flags&32768?(xt||b===1?l=!0:kp||(yt&536870912)!==0?l=!1:(fc=l=!0,(b===2||b===9||b===3||b===6)&&(b=wa.current,b!==null&&b.tag===13&&(b.flags|=16384))),xj(d,l)):tS(d)}function tS(l){var d=l;do{if((d.flags&32768)!==0){xj(d,fc);return}l=d.return;var p=lX(d.alternate,d,Tl);if(p!==null){pt=p;return}if(d=d.sibling,d!==null){pt=d;return}pt=d=l}while(d!==null);kn===0&&(kn=5)}function xj(l,d){do{var p=uX(l.alternate,l);if(p!==null){p.flags&=32767,pt=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(l=l.sibling,l!==null)){pt=l;return}pt=l=p}while(l!==null);kn=6,pt=null}function wj(l,d,p,b,C,N,O,G,K){l.cancelPendingCommit=null;do nS();while(lr!==0);if((Dt&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(N=d.lanes|d.childLanes,N|=r_,IC(l,p,N,O,G,K),l===en&&(pt=en=null,yt=0),Ip=d,mc=l,Nl=p,dT=N,fT=C,cj=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,wX(Bn,function(){return _j(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=H.T,H.T=null,C=$.p,$.p=2,O=Dt,Dt|=4;try{cX(l,d,p)}finally{Dt=O,$.p=C,H.T=b}}lr=1,Sj(),Ej(),Aj()}}function Sj(){if(lr===1){lr=0;var l=mc,d=Ip,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var b=$.p;$.p=2;var C=Dt;Dt|=4;try{nj(d,l);var N=TT,O=lL(l.containerInfo),G=N.focusedElem,K=N.selectionRange;if(O!==G&&G&&G.ownerDocument&&oL(G.ownerDocument.documentElement,G)){if(K!==null&&QC(G)){var oe=K.start,pe=K.end;if(pe===void 0&&(pe=oe),"selectionStart"in G)G.selectionStart=oe,G.selectionEnd=Math.min(pe,G.value.length);else{var ye=G.ownerDocument||document,le=ye&&ye.defaultView||window;if(le.getSelection){var de=le.getSelection(),Fe=G.textContent.length,Ze=Math.min(K.start,Fe),Vt=K.end===void 0?Ze:Math.min(K.end,Fe);!de.extend&&Ze>Vt&&(O=Vt,Vt=Ze,Ze=O);var ie=sL(G,Ze),ee=sL(G,Vt);if(ie&&ee&&(de.rangeCount!==1||de.anchorNode!==ie.node||de.anchorOffset!==ie.offset||de.focusNode!==ee.node||de.focusOffset!==ee.offset)){var se=ye.createRange();se.setStart(ie.node,ie.offset),de.removeAllRanges(),Ze>Vt?(de.addRange(se),de.extend(ee.node,ee.offset)):(se.setEnd(ee.node,ee.offset),de.addRange(se))}}}}for(ye=[],de=G;de=de.parentNode;)de.nodeType===1&&ye.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<ye.length;G++){var ge=ye[G];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}pS=!!_T,TT=_T=null}finally{Dt=C,$.p=b,H.T=p}}l.current=d,lr=2}}function Ej(){if(lr===2){lr=0;var l=mc,d=Ip,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var b=$.p;$.p=2;var C=Dt;Dt|=4;try{JO(l,d.alternate,d)}finally{Dt=C,$.p=b,H.T=p}}lr=3}}function Aj(){if(lr===4||lr===3){lr=0,ma();var l=mc,d=Ip,p=Nl,b=cj;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?lr=5:(lr=0,Ip=mc=null,Cj(l,l.pendingLanes));var C=l.pendingLanes;if(C===0&&(pc=null),xe(p),d=d.stateNode,An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(Gd,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=H.T,C=$.p,$.p=2,H.T=null;try{for(var N=l.onRecoverableError,O=0;O<b.length;O++){var G=b[O];N(G.value,{componentStack:G.stack})}}finally{H.T=d,$.p=C}}(Nl&3)!==0&&nS(),Eo(l),C=l.pendingLanes,(p&261930)!==0&&(C&42)!==0?l===hT?ov++:(ov=0,hT=l):ov=0,lv(0)}}function Cj(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Hy(d)))}function nS(){return Sj(),Ej(),Aj(),_j()}function _j(){if(lr!==5)return!1;var l=mc,d=dT;dT=0;var p=xe(Nl),b=H.T,C=$.p;try{$.p=32>p?32:p,H.T=null,p=fT,fT=null;var N=mc,O=Nl;if(lr=0,Ip=mc=null,Nl=0,(Dt&6)!==0)throw Error(r(331));var G=Dt;if(Dt|=4,oj(N.current),ij(N,N.current,O,p),Dt=G,lv(0,!1),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(Gd,N)}catch{}return!0}finally{$.p=C,H.T=b,Cj(l,d)}}function Tj(l,d,p){d=ss(p,d),d=q_(l.stateNode,d,2),l=lc(l,d,2),l!==null&&(ec(l,2),Eo(l))}function Ft(l,d,p){if(l.tag===3)Tj(l,l,p);else for(;d!==null;){if(d.tag===3){Tj(d,l,p);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(pc===null||!pc.has(b))){l=ss(p,l),p=NO(2),b=lc(d,p,2),b!==null&&(RO(p,b,d,l),ec(b,2),Eo(b));break}}d=d.return}}function gT(l,d,p){var b=l.pingCache;if(b===null){b=l.pingCache=new hX;var C=new Set;b.set(d,C)}else C=b.get(d),C===void 0&&(C=new Set,b.set(d,C));C.has(p)||(lT=!0,C.add(p),l=vX.bind(null,l,d,p),d.then(l,l))}function vX(l,d,p){var b=l.pingCache;b!==null&&b.delete(d),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,en===l&&(yt&p)===p&&(kn===4||kn===3&&(yt&62914560)===yt&&300>Lt()-Xw?(Dt&2)===0&&Lp(l,0):uT|=p,Dp===yt&&(Dp=0)),Eo(l)}function Nj(l,d){d===0&&(d=Wd()),l=Qd(l,d),l!==null&&(ec(l,d),Eo(l))}function bX(l){var d=l.memoizedState,p=0;d!==null&&(p=d.retryLane),Nj(l,p)}function xX(l,d){var p=0;switch(l.tag){case 31:case 13:var b=l.stateNode,C=l.memoizedState;C!==null&&(p=C.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),Nj(l,p)}function wX(l,d){return ai(l,d)}var rS=null,jp=null,yT=!1,iS=!1,vT=!1,yc=0;function Eo(l){l!==jp&&l.next===null&&(jp===null?rS=jp=l:jp=jp.next=l),iS=!0,yT||(yT=!0,EX())}function lv(l,d){if(!vT&&iS){vT=!0;do for(var p=!1,b=rS;b!==null;){if(l!==0){var C=b.pendingLanes;if(C===0)var N=0;else{var O=b.suspendedLanes,G=b.pingedLanes;N=(1<<31-si(42|l)+1)-1,N&=C&~(O&~G),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,kj(b,N))}else N=yt,N=qd(b,b===en?N:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(N&3)===0||Vd(b,N)||(p=!0,kj(b,N));b=b.next}while(p);vT=!1}}function SX(){Rj()}function Rj(){iS=yT=!1;var l=0;yc!==0&&DX()&&(l=yc);for(var d=Lt(),p=null,b=rS;b!==null;){var C=b.next,N=Mj(b,d);N===0?(b.next=null,p===null?rS=C:p.next=C,C===null&&(jp=p)):(p=b,(l!==0||(N&3)!==0)&&(iS=!0)),b=C}lr!==0&&lr!==5||lv(l),yc!==0&&(yc=0)}function Mj(l,d){for(var p=l.suspendedLanes,b=l.pingedLanes,C=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var O=31-si(N),G=1<<O,K=C[O];K===-1?((G&p)===0||(G&b)!==0)&&(C[O]=uw(G,d)):K<=d&&(l.expiredLanes|=G),N&=~G}if(d=en,p=yt,p=qd(l,l===d?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b=l.callbackNode,p===0||l===d&&(jt===2||jt===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&Ci(b),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||Vd(l,p)){if(d=p&-p,d===l.callbackPriority)return d;switch(b!==null&&Ci(b),xe(p)){case 2:case 8:p=or;break;case 32:p=Bn;break;case 268435456:p=cl;break;default:p=Bn}return b=Pj.bind(null,l),p=ai(p,b),l.callbackPriority=d,l.callbackNode=p,d}return b!==null&&b!==null&&Ci(b),l.callbackPriority=2,l.callbackNode=null,2}function Pj(l,d){if(lr!==0&&lr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(nS()&&l.callbackNode!==p)return null;var b=yt;return b=qd(l,l===en?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),b===0?null:(fj(l,b,d),Mj(l,Lt()),l.callbackNode!=null&&l.callbackNode===p?Pj.bind(null,l):null)}function kj(l,d){if(nS())return null;fj(l,d,!0)}function EX(){LX(function(){(Dt&6)!==0?ai(Gi,SX):Rj()})}function bT(){if(yc===0){var l=Sp;l===0&&(l=dl,dl<<=1,(dl&261888)===0&&(dl=256)),yc=l}return yc}function Dj(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:fw(""+l)}function Ij(l,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,l.id&&p.setAttribute("form",l.id),d.parentNode.insertBefore(p,d),l=new FormData(l),p.parentNode.removeChild(p),l}function AX(l,d,p,b,C){if(d==="submit"&&p&&p.stateNode===C){var N=Dj((C[ke]||null).action),O=b.submitter;O&&(d=(d=O[ke]||null)?Dj(d.formAction):O.getAttribute("formAction"),d!==null&&(N=d,O=null));var G=new gw("action","action",null,b,C);l.push({event:G,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(yc!==0){var K=O?Ij(C,O):new FormData(C);U_(p,{pending:!0,data:K,method:C.method,action:N},null,K)}}else typeof N=="function"&&(G.preventDefault(),K=O?Ij(C,O):new FormData(C),U_(p,{pending:!0,data:K,method:C.method,action:N},N,K))},currentTarget:C}]})}}for(var xT=0;xT<n_.length;xT++){var wT=n_[xT],CX=wT.toLowerCase(),_X=wT[0].toUpperCase()+wT.slice(1);Hs(CX,"on"+_X)}Hs(dL,"onAnimationEnd"),Hs(fL,"onAnimationIteration"),Hs(hL,"onAnimationStart"),Hs("dblclick","onDoubleClick"),Hs("focusin","onFocus"),Hs("focusout","onBlur"),Hs(HK,"onTransitionRun"),Hs(GK,"onTransitionStart"),Hs($K,"onTransitionCancel"),Hs(pL,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uv));function Lj(l,d){d=(d&4)!==0;for(var p=0;p<l.length;p++){var b=l[p],C=b.event;b=b.listeners;e:{var N=void 0;if(d)for(var O=b.length-1;0<=O;O--){var G=b[O],K=G.instance,oe=G.currentTarget;if(G=G.listener,K!==N&&C.isPropagationStopped())break e;N=G,C.currentTarget=oe;try{N(C)}catch(pe){bw(pe)}C.currentTarget=null,N=K}else for(O=0;O<b.length;O++){if(G=b[O],K=G.instance,oe=G.currentTarget,G=G.listener,K!==N&&C.isPropagationStopped())break e;N=G,C.currentTarget=oe;try{N(C)}catch(pe){bw(pe)}C.currentTarget=null,N=K}}}}function mt(l,d){var p=d[Qe];p===void 0&&(p=d[Qe]=new Set);var b=l+"__bubble";p.has(b)||(Oj(d,l,2,!1),p.add(b))}function ST(l,d,p){var b=0;d&&(b|=4),Oj(p,l,b,d)}var aS="_reactListening"+Math.random().toString(36).slice(2);function ET(l){if(!l[aS]){l[aS]=!0,ya.forEach(function(p){p!=="selectionchange"&&(TX.has(p)||ST(p,!1,l),ST(p,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[aS]||(d[aS]=!0,ST("selectionchange",!1,d))}}function Oj(l,d,p,b){switch(d3(d)){case 2:var C=tJ;break;case 8:C=nJ;break;default:C=FT}p=C.bind(null,d,p,l),C=void 0,!GC||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(C=!0),b?C!==void 0?l.addEventListener(d,p,{capture:!0,passive:C}):l.addEventListener(d,p,!0):C!==void 0?l.addEventListener(d,p,{passive:C}):l.addEventListener(d,p,!1)}function AT(l,d,p,b,C){var N=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var O=b.tag;if(O===3||O===4){var G=b.stateNode.containerInfo;if(G===C)break;if(O===4)for(O=b.return;O!==null;){var K=O.tag;if((K===3||K===4)&&O.stateNode.containerInfo===C)return;O=O.return}for(;G!==null;){if(O=Ct(G),O===null)return;if(K=O.tag,K===5||K===6||K===26||K===27){b=N=O;continue e}G=G.parentNode}}b=b.return}zI(function(){var oe=N,pe=zC(p),ye=[];e:{var le=mL.get(l);if(le!==void 0){var de=gw,Fe=l;switch(l){case"keypress":if(pw(p)===0)break e;case"keydown":case"keyup":de=xK;break;case"focusin":Fe="focus",de=WC;break;case"focusout":Fe="blur",de=WC;break;case"beforeblur":case"afterblur":de=WC;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=$I;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=lK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=EK;break;case dL:case fL:case hL:de=dK;break;case pL:de=CK;break;case"scroll":case"scrollend":de=sK;break;case"wheel":de=TK;break;case"copy":case"cut":case"paste":de=hK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=VI;break;case"toggle":case"beforetoggle":de=RK}var Ze=(d&4)!==0,Vt=!Ze&&(l==="scroll"||l==="scrollend"),ie=Ze?le!==null?le+"Capture":null:le;Ze=[];for(var ee=oe,se;ee!==null;){var ge=ee;if(se=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||se===null||ie===null||(ge=Py(ee,ie),ge!=null&&Ze.push(cv(ee,ge,se))),Vt)break;ee=ee.return}0<Ze.length&&(le=new de(le,Fe,null,p,pe),ye.push({event:le,listeners:Ze}))}}if((d&7)===0){e:{if(le=l==="mouseover"||l==="pointerover",de=l==="mouseout"||l==="pointerout",le&&p!==BC&&(Fe=p.relatedTarget||p.fromElement)&&(Ct(Fe)||Fe[Ge]))break e;if((de||le)&&(le=pe.window===pe?pe:(le=pe.ownerDocument)?le.defaultView||le.parentWindow:window,de?(Fe=p.relatedTarget||p.toElement,de=oe,Fe=Fe?Ct(Fe):null,Fe!==null&&(Vt=a(Fe),Ze=Fe.tag,Fe!==Vt||Ze!==5&&Ze!==27&&Ze!==6)&&(Fe=null)):(de=null,Fe=oe),de!==Fe)){if(Ze=$I,ge="onMouseLeave",ie="onMouseEnter",ee="mouse",(l==="pointerout"||l==="pointerover")&&(Ze=VI,ge="onPointerLeave",ie="onPointerEnter",ee="pointer"),Vt=de==null?le:ga(de),se=Fe==null?le:ga(Fe),le=new Ze(ge,ee+"leave",de,p,pe),le.target=Vt,le.relatedTarget=se,ge=null,Ct(pe)===oe&&(Ze=new Ze(ie,ee+"enter",Fe,p,pe),Ze.target=se,Ze.relatedTarget=Vt,ge=Ze),Vt=ge,de&&Fe)t:{for(Ze=NX,ie=de,ee=Fe,se=0,ge=ie;ge;ge=Ze(ge))se++;ge=0;for(var Xe=ee;Xe;Xe=Ze(Xe))ge++;for(;0<se-ge;)ie=Ze(ie),se--;for(;0<ge-se;)ee=Ze(ee),ge--;for(;se--;){if(ie===ee||ee!==null&&ie===ee.alternate){Ze=ie;break t}ie=Ze(ie),ee=Ze(ee)}Ze=null}else Ze=null;de!==null&&jj(ye,le,de,Ze,!1),Fe!==null&&Vt!==null&&jj(ye,Vt,Fe,Ze,!0)}}e:{if(le=oe?ga(oe):window,de=le.nodeName&&le.nodeName.toLowerCase(),de==="select"||de==="input"&&le.type==="file")var Nt=eL;else if(QI(le))if(tL)Nt=UK;else{Nt=jK;var ze=OK}else de=le.nodeName,!de||de.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?oe&&UC(oe.elementType)&&(Nt=eL):Nt=FK;if(Nt&&(Nt=Nt(l,oe))){ZI(ye,Nt,p,pe);break e}ze&&ze(l,le,oe),l==="focusout"&&oe&&le.type==="number"&&oe.memoizedProps.value!=null&&FC(le,"number",le.value)}switch(ze=oe?ga(oe):window,l){case"focusin":(QI(ze)||ze.contentEditable==="true")&&(pp=ze,ZC=oe,Uy=null);break;case"focusout":Uy=ZC=pp=null;break;case"mousedown":e_=!0;break;case"contextmenu":case"mouseup":case"dragend":e_=!1,uL(ye,p,pe);break;case"selectionchange":if(zK)break;case"keydown":case"keyup":uL(ye,p,pe)}var lt;if(KC)e:{switch(l){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else hp?XI(l,p)&&(vt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(vt="onCompositionStart");vt&&(WI&&p.locale!=="ko"&&(hp||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&hp&&(lt=HI()):(tc=pe,$C="value"in tc?tc.value:tc.textContent,hp=!0)),ze=sS(oe,vt),0<ze.length&&(vt=new qI(vt,l,null,p,pe),ye.push({event:vt,listeners:ze}),lt?vt.data=lt:(lt=JI(p),lt!==null&&(vt.data=lt)))),(lt=PK?kK(l,p):DK(l,p))&&(vt=sS(oe,"onBeforeInput"),0<vt.length&&(ze=new qI("onBeforeInput","beforeinput",null,p,pe),ye.push({event:ze,listeners:vt}),ze.data=lt)),AX(ye,l,oe,p,pe)}Lj(ye,d)})}function cv(l,d,p){return{instance:l,listener:d,currentTarget:p}}function sS(l,d){for(var p=d+"Capture",b=[];l!==null;){var C=l,N=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||N===null||(C=Py(l,p),C!=null&&b.unshift(cv(l,C,N)),C=Py(l,d),C!=null&&b.push(cv(l,C,N))),l.tag===3)return b;l=l.return}return[]}function NX(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function jj(l,d,p,b,C){for(var N=d._reactName,O=[];p!==null&&p!==b;){var G=p,K=G.alternate,oe=G.stateNode;if(G=G.tag,K!==null&&K===b)break;G!==5&&G!==26&&G!==27||oe===null||(K=oe,C?(oe=Py(p,N),oe!=null&&O.unshift(cv(p,oe,K))):C||(oe=Py(p,N),oe!=null&&O.push(cv(p,oe,K)))),p=p.return}O.length!==0&&l.push({event:d,listeners:O})}var RX=/\r\n?/g,MX=/\u0000|\uFFFD/g;function Fj(l){return(typeof l=="string"?l:""+l).replace(RX,`
`).replace(MX,"")}function Uj(l,d){return d=Fj(d),Fj(l)===d}function qt(l,d,p,b,C,N){switch(p){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||cp(l,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&cp(l,""+b);break;case"className":rs(l,"class",b);break;case"tabIndex":rs(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(l,p,b);break;case"style":UI(l,b,N);break;case"data":if(d!=="object"){rs(l,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||p!=="href")){l.removeAttribute(p);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(p);break}b=fw(""+b),l.setAttribute(p,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(d!=="input"&&qt(l,d,"name",C.name,C,null),qt(l,d,"formEncType",C.formEncType,C,null),qt(l,d,"formMethod",C.formMethod,C,null),qt(l,d,"formTarget",C.formTarget,C,null)):(qt(l,d,"encType",C.encType,C,null),qt(l,d,"method",C.method,C,null),qt(l,d,"target",C.target,C,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(p);break}b=fw(""+b),l.setAttribute(p,b);break;case"onClick":b!=null&&(l.onclick=hl);break;case"onScroll":b!=null&&mt("scroll",l);break;case"onScrollEnd":b!=null&&mt("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(p=b.__html,p!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}p=fw(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,""+b):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":b===!0?l.setAttribute(p,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(p,b):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(p,b):l.removeAttribute(p);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(p):l.setAttribute(p,b);break;case"popover":mt("beforetoggle",l),mt("toggle",l),zs(l,"popover",b);break;case"xlinkActuate":Tt(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Tt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Tt(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Tt(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Tt(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Tt(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Tt(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Tt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Tt(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":zs(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=iK.get(p)||p,zs(l,p,b))}}function CT(l,d,p,b,C,N){switch(p){case"style":UI(l,b,N);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(p=b.__html,p!=null){if(C.children!=null)throw Error(r(60));l.innerHTML=p}}break;case"children":typeof b=="string"?cp(l,b):(typeof b=="number"||typeof b=="bigint")&&cp(l,""+b);break;case"onScroll":b!=null&&mt("scroll",l);break;case"onScrollEnd":b!=null&&mt("scrollend",l);break;case"onClick":b!=null&&(l.onclick=hl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!op.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(C=p.endsWith("Capture"),d=p.slice(2,C?p.length-7:void 0),N=l[ke]||null,N=N!=null?N[p]:null,typeof N=="function"&&l.removeEventListener(d,N,C),typeof b=="function")){typeof N!="function"&&N!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(d,b,C);break e}p in l?l[p]=b:b===!0?l.setAttribute(p,""):zs(l,p,b)}}}function Gr(l,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",l),mt("load",l);var b=!1,C=!1,N;for(N in p)if(p.hasOwnProperty(N)){var O=p[N];if(O!=null)switch(N){case"src":b=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:qt(l,d,N,O,p,null)}}C&&qt(l,d,"srcSet",p.srcSet,p,null),b&&qt(l,d,"src",p.src,p,null);return;case"input":mt("invalid",l);var G=N=O=C=null,K=null,oe=null;for(b in p)if(p.hasOwnProperty(b)){var pe=p[b];if(pe!=null)switch(b){case"name":C=pe;break;case"type":O=pe;break;case"checked":K=pe;break;case"defaultChecked":oe=pe;break;case"value":N=pe;break;case"defaultValue":G=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,d));break;default:qt(l,d,b,pe,p,null)}}LI(l,N,G,K,oe,O,C,!1);return;case"select":mt("invalid",l),b=O=N=null;for(C in p)if(p.hasOwnProperty(C)&&(G=p[C],G!=null))switch(C){case"value":N=G;break;case"defaultValue":O=G;break;case"multiple":b=G;default:qt(l,d,C,G,p,null)}d=N,p=O,l.multiple=!!b,d!=null?up(l,!!b,d,!1):p!=null&&up(l,!!b,p,!0);return;case"textarea":mt("invalid",l),N=C=b=null;for(O in p)if(p.hasOwnProperty(O)&&(G=p[O],G!=null))switch(O){case"value":b=G;break;case"defaultValue":C=G;break;case"children":N=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(91));break;default:qt(l,d,O,G,p,null)}jI(l,b,C,N);return;case"option":for(K in p)if(p.hasOwnProperty(K)&&(b=p[K],b!=null))switch(K){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:qt(l,d,K,b,p,null)}return;case"dialog":mt("beforetoggle",l),mt("toggle",l),mt("cancel",l),mt("close",l);break;case"iframe":case"object":mt("load",l);break;case"video":case"audio":for(b=0;b<uv.length;b++)mt(uv[b],l);break;case"image":mt("error",l),mt("load",l);break;case"details":mt("toggle",l);break;case"embed":case"source":case"link":mt("error",l),mt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in p)if(p.hasOwnProperty(oe)&&(b=p[oe],b!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:qt(l,d,oe,b,p,null)}return;default:if(UC(d)){for(pe in p)p.hasOwnProperty(pe)&&(b=p[pe],b!==void 0&&CT(l,d,pe,b,p,void 0));return}}for(G in p)p.hasOwnProperty(G)&&(b=p[G],b!=null&&qt(l,d,G,b,p,null))}function PX(l,d,p,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,N=null,O=null,G=null,K=null,oe=null,pe=null;for(de in p){var ye=p[de];if(p.hasOwnProperty(de)&&ye!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":K=ye;default:b.hasOwnProperty(de)||qt(l,d,de,null,b,ye)}}for(var le in b){var de=b[le];if(ye=p[le],b.hasOwnProperty(le)&&(de!=null||ye!=null))switch(le){case"type":N=de;break;case"name":C=de;break;case"checked":oe=de;break;case"defaultChecked":pe=de;break;case"value":O=de;break;case"defaultValue":G=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,d));break;default:de!==ye&&qt(l,d,le,de,b,ye)}}jC(l,O,G,K,oe,pe,N,C);return;case"select":de=O=G=le=null;for(N in p)if(K=p[N],p.hasOwnProperty(N)&&K!=null)switch(N){case"value":break;case"multiple":de=K;default:b.hasOwnProperty(N)||qt(l,d,N,null,b,K)}for(C in b)if(N=b[C],K=p[C],b.hasOwnProperty(C)&&(N!=null||K!=null))switch(C){case"value":le=N;break;case"defaultValue":G=N;break;case"multiple":O=N;default:N!==K&&qt(l,d,C,N,b,K)}d=G,p=O,b=de,le!=null?up(l,!!p,le,!1):!!b!=!!p&&(d!=null?up(l,!!p,d,!0):up(l,!!p,p?[]:"",!1));return;case"textarea":de=le=null;for(G in p)if(C=p[G],p.hasOwnProperty(G)&&C!=null&&!b.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:qt(l,d,G,null,b,C)}for(O in b)if(C=b[O],N=p[O],b.hasOwnProperty(O)&&(C!=null||N!=null))switch(O){case"value":le=C;break;case"defaultValue":de=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:C!==N&&qt(l,d,O,C,b,N)}OI(l,le,de);return;case"option":for(var Fe in p)if(le=p[Fe],p.hasOwnProperty(Fe)&&le!=null&&!b.hasOwnProperty(Fe))switch(Fe){case"selected":l.selected=!1;break;default:qt(l,d,Fe,null,b,le)}for(K in b)if(le=b[K],de=p[K],b.hasOwnProperty(K)&&le!==de&&(le!=null||de!=null))switch(K){case"selected":l.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:qt(l,d,K,le,b,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in p)le=p[Ze],p.hasOwnProperty(Ze)&&le!=null&&!b.hasOwnProperty(Ze)&&qt(l,d,Ze,null,b,le);for(oe in b)if(le=b[oe],de=p[oe],b.hasOwnProperty(oe)&&le!==de&&(le!=null||de!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,d));break;default:qt(l,d,oe,le,b,de)}return;default:if(UC(d)){for(var Vt in p)le=p[Vt],p.hasOwnProperty(Vt)&&le!==void 0&&!b.hasOwnProperty(Vt)&&CT(l,d,Vt,void 0,b,le);for(pe in b)le=b[pe],de=p[pe],!b.hasOwnProperty(pe)||le===de||le===void 0&&de===void 0||CT(l,d,pe,le,b,de);return}}for(var ie in p)le=p[ie],p.hasOwnProperty(ie)&&le!=null&&!b.hasOwnProperty(ie)&&qt(l,d,ie,null,b,le);for(ye in b)le=b[ye],de=p[ye],!b.hasOwnProperty(ye)||le===de||le==null&&de==null||qt(l,d,ye,le,b,de)}function Bj(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kX(){if(typeof performance.getEntriesByType=="function"){for(var l=0,d=0,p=performance.getEntriesByType("resource"),b=0;b<p.length;b++){var C=p[b],N=C.transferSize,O=C.initiatorType,G=C.duration;if(N&&G&&Bj(O)){for(O=0,G=C.responseEnd,b+=1;b<p.length;b++){var K=p[b],oe=K.startTime;if(oe>G)break;var pe=K.transferSize,ye=K.initiatorType;pe&&Bj(ye)&&(K=K.responseEnd,O+=pe*(K<G?1:(G-oe)/(K-oe)))}if(--b,d+=8*(N+O)/(C.duration/1e3),l++,10<l)break}}if(0<l)return d/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var _T=null,TT=null;function oS(l){return l.nodeType===9?l:l.ownerDocument}function zj(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hj(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function NT(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var RT=null;function DX(){var l=window.event;return l&&l.type==="popstate"?l===RT?!1:(RT=l,!0):(RT=null,!1)}var Gj=typeof setTimeout=="function"?setTimeout:void 0,IX=typeof clearTimeout=="function"?clearTimeout:void 0,$j=typeof Promise=="function"?Promise:void 0,LX=typeof queueMicrotask=="function"?queueMicrotask:typeof $j<"u"?function(l){return $j.resolve(null).then(l).catch(OX)}:Gj;function OX(l){setTimeout(function(){throw l})}function vc(l){return l==="head"}function qj(l,d){var p=d,b=0;do{var C=p.nextSibling;if(l.removeChild(p),C&&C.nodeType===8)if(p=C.data,p==="/$"||p==="/&"){if(b===0){l.removeChild(C),zp(d);return}b--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")b++;else if(p==="html")dv(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,dv(p);for(var N=p.firstChild;N;){var O=N.nextSibling,G=N.nodeName;N[fn]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=O}}else p==="body"&&dv(l.ownerDocument.body);p=C}while(p);zp(d)}function Vj(l,d){var p=l;l=0;do{var b=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=b}while(p)}function MT(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":MT(p),Mn(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function jX(l,d,p,b){for(;l.nodeType===1;){var C=p;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[fn])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(N=l.getAttribute("rel"),N==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(N!==C.rel||l.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||l.getAttribute("title")!==(C.title==null?null:C.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(N=l.getAttribute("src"),(N!==(C.src==null?null:C.src)||l.getAttribute("type")!==(C.type==null?null:C.type)||l.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&N&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var N=C.name==null?null:""+C.name;if(C.type==="hidden"&&l.getAttribute("name")===N)return l}else return l;if(l=ds(l.nextSibling),l===null)break}return null}function FX(l,d,p){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=ds(l.nextSibling),l===null))return null;return l}function Wj(l,d){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=ds(l.nextSibling),l===null))return null;return l}function PT(l){return l.data==="$?"||l.data==="$~"}function kT(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function UX(l,d){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=d;else if(l.data!=="$?"||p.readyState!=="loading")d();else{var b=function(){d(),p.removeEventListener("DOMContentLoaded",b)};p.addEventListener("DOMContentLoaded",b),l._reactRetry=b}}function ds(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return l}var DT=null;function Yj(l){l=l.nextSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(d===0)return ds(l.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}l=l.nextSibling}return null}function Kj(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return l;d--}else p!=="/$"&&p!=="/&"||d++}l=l.previousSibling}return null}function Xj(l,d,p){switch(d=oS(p),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function dv(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Mn(l)}var fs=new Map,Jj=new Set;function lS(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Rl=$.d;$.d={f:BX,r:zX,D:HX,C:GX,L:$X,m:qX,X:WX,S:VX,M:YX};function BX(){var l=Rl.f(),d=Zw();return l||d}function zX(l){var d=_t(l);d!==null&&d.tag===5&&d.type==="form"?pO(d):Rl.r(l)}var Fp=typeof document>"u"?null:document;function Qj(l,d,p){var b=Fp;if(b&&typeof d=="string"&&d){var C=is(d);C='link[rel="'+l+'"][href="'+C+'"]',typeof p=="string"&&(C+='[crossorigin="'+p+'"]'),Jj.has(C)||(Jj.add(C),l={rel:l,crossOrigin:p,href:d},b.querySelector(C)===null&&(d=b.createElement("link"),Gr(d,"link",l),Zt(d),b.head.appendChild(d)))}}function HX(l){Rl.D(l),Qj("dns-prefetch",l,null)}function GX(l,d){Rl.C(l,d),Qj("preconnect",l,d)}function $X(l,d,p){Rl.L(l,d,p);var b=Fp;if(b&&l&&d){var C='link[rel="preload"][as="'+is(d)+'"]';d==="image"&&p&&p.imageSrcSet?(C+='[imagesrcset="'+is(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(C+='[imagesizes="'+is(p.imageSizes)+'"]')):C+='[href="'+is(l)+'"]';var N=C;switch(d){case"style":N=Up(l);break;case"script":N=Bp(l)}fs.has(N)||(l=h({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:l,as:d},p),fs.set(N,l),b.querySelector(C)!==null||d==="style"&&b.querySelector(fv(N))||d==="script"&&b.querySelector(hv(N))||(d=b.createElement("link"),Gr(d,"link",l),Zt(d),b.head.appendChild(d)))}}function qX(l,d){Rl.m(l,d);var p=Fp;if(p&&l){var b=d&&typeof d.as=="string"?d.as:"script",C='link[rel="modulepreload"][as="'+is(b)+'"][href="'+is(l)+'"]',N=C;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Bp(l)}if(!fs.has(N)&&(l=h({rel:"modulepreload",href:l},d),fs.set(N,l),p.querySelector(C)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(hv(N)))return}b=p.createElement("link"),Gr(b,"link",l),Zt(b),p.head.appendChild(b)}}}function VX(l,d,p){Rl.S(l,d,p);var b=Fp;if(b&&l){var C=ns(b).hoistableStyles,N=Up(l);d=d||"default";var O=C.get(N);if(!O){var G={loading:0,preload:null};if(O=b.querySelector(fv(N)))G.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":d},p),(p=fs.get(N))&&IT(l,p);var K=O=b.createElement("link");Zt(K),Gr(K,"link",l),K._p=new Promise(function(oe,pe){K.onload=oe,K.onerror=pe}),K.addEventListener("load",function(){G.loading|=1}),K.addEventListener("error",function(){G.loading|=2}),G.loading|=4,uS(O,d,b)}O={type:"stylesheet",instance:O,count:1,state:G},C.set(N,O)}}}function WX(l,d){Rl.X(l,d);var p=Fp;if(p&&l){var b=ns(p).hoistableScripts,C=Bp(l),N=b.get(C);N||(N=p.querySelector(hv(C)),N||(l=h({src:l,async:!0},d),(d=fs.get(C))&&LT(l,d),N=p.createElement("script"),Zt(N),Gr(N,"link",l),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(C,N))}}function YX(l,d){Rl.M(l,d);var p=Fp;if(p&&l){var b=ns(p).hoistableScripts,C=Bp(l),N=b.get(C);N||(N=p.querySelector(hv(C)),N||(l=h({src:l,async:!0,type:"module"},d),(d=fs.get(C))&&LT(l,d),N=p.createElement("script"),Zt(N),Gr(N,"link",l),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},b.set(C,N))}}function Zj(l,d,p,b){var C=(C=Me.current)?lS(C):null;if(!C)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=Up(p.href),p=ns(C).hoistableStyles,b=p.get(d),b||(b={type:"style",instance:null,count:0,state:null},p.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Up(p.href);var N=ns(C).hoistableStyles,O=N.get(l);if(O||(C=C.ownerDocument||C,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(l,O),(N=C.querySelector(fv(l)))&&!N._p&&(O.instance=N,O.state.loading=5),fs.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},fs.set(l,p),N||KX(C,l,p,O.state))),d&&b===null)throw Error(r(528,""));return O}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Bp(p),p=ns(C).hoistableScripts,b=p.get(d),b||(b={type:"script",instance:null,count:0,state:null},p.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Up(l){return'href="'+is(l)+'"'}function fv(l){return'link[rel="stylesheet"]['+l+"]"}function e3(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function KX(l,d,p,b){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=l.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Gr(d,"link",p),Zt(d),l.head.appendChild(d))}function Bp(l){return'[src="'+is(l)+'"]'}function hv(l){return"script[async]"+l}function t3(l,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var b=l.querySelector('style[data-href~="'+is(p.href)+'"]');if(b)return d.instance=b,Zt(b),b;var C=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),Zt(b),Gr(b,"style",C),uS(b,p.precedence,l),d.instance=b;case"stylesheet":C=Up(p.href);var N=l.querySelector(fv(C));if(N)return d.state.loading|=4,d.instance=N,Zt(N),N;b=e3(p),(C=fs.get(C))&&IT(b,C),N=(l.ownerDocument||l).createElement("link"),Zt(N);var O=N;return O._p=new Promise(function(G,K){O.onload=G,O.onerror=K}),Gr(N,"link",b),d.state.loading|=4,uS(N,p.precedence,l),d.instance=N;case"script":return N=Bp(p.src),(C=l.querySelector(hv(N)))?(d.instance=C,Zt(C),C):(b=p,(C=fs.get(N))&&(b=h({},p),LT(b,C)),l=l.ownerDocument||l,C=l.createElement("script"),Zt(C),Gr(C,"link",b),l.head.appendChild(C),d.instance=C);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,uS(b,p.precedence,l));return d.instance}function uS(l,d,p){for(var b=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=b.length?b[b.length-1]:null,N=C,O=0;O<b.length;O++){var G=b[O];if(G.dataset.precedence===d)N=G;else if(N!==C)break}N?N.parentNode.insertBefore(l,N.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(l,d.firstChild))}function IT(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function LT(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var cS=null;function n3(l,d,p){if(cS===null){var b=new Map,C=cS=new Map;C.set(p,b)}else C=cS,b=C.get(p),b||(b=new Map,C.set(p,b));if(b.has(l))return b;for(b.set(l,null),p=p.getElementsByTagName(l),C=0;C<p.length;C++){var N=p[C];if(!(N[fn]||N[Ne]||l==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var O=N.getAttribute(d)||"";O=l+O;var G=b.get(O);G?G.push(N):b.set(O,[N])}}return b}function r3(l,d,p){l=l.ownerDocument||l,l.head.insertBefore(p,d==="title"?l.querySelector("head > title"):null)}function XX(l,d,p){if(p===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function i3(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function JX(l,d,p,b){if(p.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var C=Up(b.href),N=d.querySelector(fv(C));if(N){d=N._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(l.count++,l=dS.bind(l),d.then(l,l)),p.state.loading|=4,p.instance=N,Zt(N);return}N=d.ownerDocument||d,b=e3(b),(C=fs.get(C))&&IT(b,C),N=N.createElement("link"),Zt(N);var O=N;O._p=new Promise(function(G,K){O.onload=G,O.onerror=K}),Gr(N,"link",b),p.instance=N}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=dS.bind(l),d.addEventListener("load",p),d.addEventListener("error",p))}}var OT=0;function QX(l,d){return l.stylesheets&&l.count===0&&hS(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var b=setTimeout(function(){if(l.stylesheets&&hS(l,l.stylesheets),l.unsuspend){var N=l.unsuspend;l.unsuspend=null,N()}},6e4+d);0<l.imgBytes&&OT===0&&(OT=62500*kX());var C=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&hS(l,l.stylesheets),l.unsuspend)){var N=l.unsuspend;l.unsuspend=null,N()}},(l.imgBytes>OT?50:800)+d);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(b),clearTimeout(C)}}:null}function dS(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hS(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var fS=null;function hS(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,fS=new Map,d.forEach(ZX,l),fS=null,dS.call(l))}function ZX(l,d){if(!(d.state.loading&4)){var p=fS.get(l);if(p)var b=p.get(null);else{p=new Map,fS.set(l,p);for(var C=l.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<C.length;N++){var O=C[N];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(p.set(O.dataset.precedence,O),b=O)}b&&p.set(null,b)}C=d.instance,O=C.getAttribute("data-precedence"),N=p.get(O)||b,N===b&&p.set(null,C),p.set(O,C),this.count++,b=dS.bind(this),C.addEventListener("load",b),C.addEventListener("error",b),N?N.parentNode.insertBefore(C,N.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(C,l.firstChild)),d.state.loading|=4}}var pv={$$typeof:R,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function eJ(l,d,p,b,C,N,O,G,K){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zu(0),this.hiddenUpdates=Zu(null),this.identifierPrefix=b,this.onUncaughtError=C,this.onCaughtError=N,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function a3(l,d,p,b,C,N,O,G,K,oe,pe,ye){return l=new eJ(l,d,p,O,K,oe,pe,ye,G),d=1,N===!0&&(d|=24),N=xa(3,null,null,d),l.current=N,N.stateNode=l,d=m_(),d.refCount++,l.pooledCache=d,d.refCount++,N.memoizedState={element:b,isDehydrated:p,cache:d},b_(N),l}function s3(l){return l?(l=yp,l):yp}function o3(l,d,p,b,C,N){C=s3(C),b.context===null?b.context=C:b.pendingContext=C,b=oc(d),b.payload={element:p},N=N===void 0?null:N,N!==null&&(b.callback=N),p=lc(l,b,d),p!==null&&(Xi(p,l,d),Vy(p,l,d))}function l3(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<d?p:d}}function jT(l,d){l3(l,d),(l=l.alternate)&&l3(l,d)}function u3(l){if(l.tag===13||l.tag===31){var d=Qd(l,67108864);d!==null&&Xi(d,l,67108864),jT(l,67108864)}}function c3(l){if(l.tag===13||l.tag===31){var d=Ca();d=ue(d);var p=Qd(l,d);p!==null&&Xi(p,l,d),jT(l,d)}}var pS=!0;function tJ(l,d,p,b){var C=H.T;H.T=null;var N=$.p;try{$.p=2,FT(l,d,p,b)}finally{$.p=N,H.T=C}}function nJ(l,d,p,b){var C=H.T;H.T=null;var N=$.p;try{$.p=8,FT(l,d,p,b)}finally{$.p=N,H.T=C}}function FT(l,d,p,b){if(pS){var C=UT(b);if(C===null)AT(l,d,b,mS,p),f3(l,b);else if(iJ(C,l,d,p,b))b.stopPropagation();else if(f3(l,b),d&4&&-1<rJ.indexOf(l)){for(;C!==null;){var N=_t(C);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var O=fl(N.pendingLanes);if(O!==0){var G=N;for(G.pendingLanes|=2,G.entangledLanes|=2;O;){var K=1<<31-si(O);G.entanglements[1]|=K,O&=~K}Eo(N),(Dt&6)===0&&(Jw=Lt()+500,lv(0))}}break;case 31:case 13:G=Qd(N,2),G!==null&&Xi(G,N,2),Zw(),jT(N,2)}if(N=UT(b),N===null&&AT(l,d,b,mS,p),N===C)break;C=N}C!==null&&b.stopPropagation()}else AT(l,d,b,null,p)}}function UT(l){return l=zC(l),BT(l)}var mS=null;function BT(l){if(mS=null,l=Ct(l),l!==null){var d=a(l);if(d===null)l=null;else{var p=d.tag;if(p===13){if(l=s(d),l!==null)return l;l=null}else if(p===31){if(l=o(d),l!==null)return l;l=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return mS=l,null}function d3(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wr()){case Gi:return 2;case or:return 8;case Bn:case Kn:return 32;case cl:return 268435456;default:return 32}default:return 32}}var zT=!1,bc=null,xc=null,wc=null,mv=new Map,gv=new Map,Sc=[],rJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f3(l,d){switch(l){case"focusin":case"focusout":bc=null;break;case"dragenter":case"dragleave":xc=null;break;case"mouseover":case"mouseout":wc=null;break;case"pointerover":case"pointerout":mv.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":gv.delete(d.pointerId)}}function yv(l,d,p,b,C,N){return l===null||l.nativeEvent!==N?(l={blockedOn:d,domEventName:p,eventSystemFlags:b,nativeEvent:N,targetContainers:[C]},d!==null&&(d=_t(d),d!==null&&u3(d)),l):(l.eventSystemFlags|=b,d=l.targetContainers,C!==null&&d.indexOf(C)===-1&&d.push(C),l)}function iJ(l,d,p,b,C){switch(d){case"focusin":return bc=yv(bc,l,d,p,b,C),!0;case"dragenter":return xc=yv(xc,l,d,p,b,C),!0;case"mouseover":return wc=yv(wc,l,d,p,b,C),!0;case"pointerover":var N=C.pointerId;return mv.set(N,yv(mv.get(N)||null,l,d,p,b,C)),!0;case"gotpointercapture":return N=C.pointerId,gv.set(N,yv(gv.get(N)||null,l,d,p,b,C)),!0}return!1}function h3(l){var d=Ct(l.target);if(d!==null){var p=a(d);if(p!==null){if(d=p.tag,d===13){if(d=s(p),d!==null){l.blockedOn=d,qe(l.priority,function(){c3(p)});return}}else if(d===31){if(d=o(p),d!==null){l.blockedOn=d,qe(l.priority,function(){c3(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function gS(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var p=UT(l.nativeEvent);if(p===null){p=l.nativeEvent;var b=new p.constructor(p.type,p);BC=b,p.target.dispatchEvent(b),BC=null}else return d=_t(p),d!==null&&u3(d),l.blockedOn=p,!1;d.shift()}return!0}function p3(l,d,p){gS(l)&&p.delete(d)}function aJ(){zT=!1,bc!==null&&gS(bc)&&(bc=null),xc!==null&&gS(xc)&&(xc=null),wc!==null&&gS(wc)&&(wc=null),mv.forEach(p3),gv.forEach(p3)}function yS(l,d){l.blockedOn===d&&(l.blockedOn=null,zT||(zT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aJ)))}var vS=null;function m3(l){vS!==l&&(vS=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vS===l&&(vS=null);for(var d=0;d<l.length;d+=3){var p=l[d],b=l[d+1],C=l[d+2];if(typeof b!="function"){if(BT(b||p)===null)continue;break}var N=_t(p);N!==null&&(l.splice(d,3),d-=3,U_(N,{pending:!0,data:C,method:p.method,action:b},b,C))}}))}function zp(l){function d(K){return yS(K,l)}bc!==null&&yS(bc,l),xc!==null&&yS(xc,l),wc!==null&&yS(wc,l),mv.forEach(d),gv.forEach(d);for(var p=0;p<Sc.length;p++){var b=Sc[p];b.blockedOn===l&&(b.blockedOn=null)}for(;0<Sc.length&&(p=Sc[0],p.blockedOn===null);)h3(p),p.blockedOn===null&&Sc.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(b=0;b<p.length;b+=3){var C=p[b],N=p[b+1],O=C[ke]||null;if(typeof N=="function")O||m3(p);else if(O){var G=null;if(N&&N.hasAttribute("formAction")){if(C=N,O=N[ke]||null)G=O.formAction;else if(BT(C)!==null)continue}else G=O.action;typeof G=="function"?p[b+1]=G:(p.splice(b,3),b-=3),m3(p)}}}function g3(){function l(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(O){return C=O})},focusReset:"manual",scroll:"manual"})}function d(){C!==null&&(C(),C=null),b||setTimeout(p,20)}function p(){if(!b&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,C=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){b=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),C!==null&&(C(),C=null)}}}function HT(l){this._internalRoot=l}bS.prototype.render=HT.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var p=d.current,b=Ca();o3(p,b,l,d,null,null)},bS.prototype.unmount=HT.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;o3(l.current,2,null,l,null,null),Zw(),d[Ge]=null}};function bS(l){this._internalRoot=l}bS.prototype.unstable_scheduleHydration=function(l){if(l){var d=Ae();l={blockedOn:null,target:l,priority:d};for(var p=0;p<Sc.length&&d!==0&&d<Sc[p].priority;p++);Sc.splice(p,0,l),p===0&&h3(l)}};var y3=e.version;if(y3!=="19.2.1")throw Error(r(527,y3,"19.2.1"));$.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(d),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var sJ={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xS.isDisabled&&xS.supportsFiber)try{Gd=xS.inject(sJ),An=xS}catch{}}return bv.createRoot=function(l,d){if(!i(l))throw Error(r(299));var p=!1,b="",C=AO,N=CO,O=_O;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(C=d.onUncaughtError),d.onCaughtError!==void 0&&(N=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError)),d=a3(l,1,!1,null,null,p,b,null,C,N,O,g3),l[Ge]=d.current,ET(l),new HT(d)},bv.hydrateRoot=function(l,d,p){if(!i(l))throw Error(r(299));var b=!1,C="",N=AO,O=CO,G=_O,K=null;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(O=p.onCaughtError),p.onRecoverableError!==void 0&&(G=p.onRecoverableError),p.formState!==void 0&&(K=p.formState)),d=a3(l,1,!0,d,p??null,b,C,K,N,O,G,g3),d.context=s3(null),p=d.current,b=Ca(),b=ue(b),C=oc(b),C.callback=null,lc(p,C,b),p=b,d.current.lanes=p,ec(d,p),Eo(d),l[Ge]=d.current,ET(l),new bS(d)},bv.version="19.2.1",bv}var N3;function vJ(){if(N3)return VT.exports;N3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),VT.exports=yJ(),VT.exports}var bJ=vJ();const xJ=vo(bJ);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LH=t=>{throw TypeError(t)},wJ=(t,e,n)=>e.has(t)||LH("Cannot "+n),XT=(t,e,n)=>(wJ(t,e,"read from private field"),n?n.call(t):e.get(t)),SJ=(t,e,n)=>e.has(t)?LH("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),OH=(t=>(t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE",t))(OH||{}),R3="popstate";function jH(t={}){let{initialEntries:e=["/"],initialIndex:n,v5Compat:r=!1}=t,i;i=e.map((v,w)=>f(v,typeof v=="string"?null:v.state,w===0?"default":void 0));let a=u(n??i.length-1),s="POP",o=null;function u(v){return Math.min(Math.max(v,0),i.length-1)}function c(){return i[a]}function f(v,w=null,E){let A=_u(i?c().pathname:"/",v,w,E);return Qt(A.pathname.charAt(0)==="/",`relative pathnames are not supported in memory history: ${JSON.stringify(v)}`),A}function h(v){return typeof v=="string"?v:ni(v)}return{get index(){return a},get action(){return s},get location(){return c()},createHref:h,createURL(v){return new URL(h(v),"http://localhost")},encodeLocation(v){let w=typeof v=="string"?es(v):v;return{pathname:w.pathname||"",search:w.search||"",hash:w.hash||""}},push(v,w){s="PUSH";let E=f(v,w);a+=1,i.splice(a,i.length,E),r&&o&&o({action:s,location:E,delta:1})},replace(v,w){s="REPLACE";let E=f(v,w);i[a]=E,r&&o&&o({action:s,location:E,delta:0})},go(v){s="POP";let w=u(a+v),E=i[w];a=w,o&&o({action:s,location:E,delta:v})},listen(v){return o=v,()=>{o=null}}}}function yA(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return _u("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ni(i)}return UH(e,n,null,t)}function FH(t={}){function e(i,a){let{pathname:s="/",search:o="",hash:u=""}=es(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),_u("",{pathname:s,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let s=i.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof a=="string"?a:ni(a))}function r(i,a){Qt(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return UH(e,n,r,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EJ(){return Math.random().toString(36).substring(2,10)}function M3(t,e){return{usr:t.state,key:t.key,idx:e}}function _u(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?es(e):e,state:n,key:e&&e.key||r||EJ()}}function ni({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function es(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function UH(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function h(){o="POP";let A=f(),_=A==null?null:A-c;c=A,u&&u({action:o,location:E.location,delta:_})}function g(A,_){o="PUSH";let M=_u(E.location,A,_);n&&n(M,A),c=f()+1;let R=M3(M,c),I=E.createHref(M);try{s.pushState(R,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(I)}a&&u&&u({action:o,location:E.location,delta:1})}function v(A,_){o="REPLACE";let M=_u(E.location,A,_);n&&n(M,A),c=f();let R=M3(M,c),I=E.createHref(M);s.replaceState(R,"",I),a&&u&&u({action:o,location:E.location,delta:0})}function w(A){return BH(A)}let E={get action(){return o},get location(){return t(i,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(R3,h),u=A,()=>{i.removeEventListener(R3,h),u=null}},createHref(A){return e(i,A)},createURL:w,encodeLocation(A){let _=w(A);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:v,go(A){return s.go(A)}};return E}function BH(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ve(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ni(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function AJ(t){return{defaultValue:t}}var Fv,el=class{constructor(t){if(SJ(this,Fv,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(XT(this,Fv).has(t))return XT(this,Fv).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){XT(this,Fv).set(t,e)}};Fv=new WeakMap;var CJ=new Set(["lazy","caseSensitive","path","id","index","children"]);function _J(t){return CJ.has(t)}var TJ=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function NJ(t){return TJ.has(t)}function RJ(t){return t.index===!0}function Nd(t,e,n=[],r={},i=!1){return t.map((a,s)=>{let o=[...n,String(s)],u=typeof a.id=="string"?a.id:o.join("-");if(Ve(a.index!==!0||!a.children,"Cannot specify children on an index route"),Ve(i||!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),RJ(a)){let c={...a,id:u};return r[u]=P3(c,e(c)),c}else{let c={...a,id:u,children:void 0};return r[u]=P3(c,e(c)),a.children&&(c.children=Nd(a.children,e,o,r,i)),c}})}function P3(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function ua(t,e,n="/"){return Uv(t,e,n,!1)}function Uv(t,e,n,r){let i=typeof e=="string"?es(e):e,a=gr(i.pathname||"/",n);if(a==null)return null;let s=HH(t);MJ(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=qH(a);o=UJ(s[u],c,r)}return o}function zH(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function HH(t,e=[],n=[],r="",i=!1){let a=(s,o,u=i,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Ve(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=nl([r,f.relativePath]),g=n.concat(f);s.children&&s.children.length>0&&(Ve(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),HH(s.children,e,g,h,u)),!(s.path==null&&!s.index)&&e.push({path:h,score:jJ(h,s.index),routesMeta:g})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,o);else for(let c of GH(s.path))a(s,o,!0,c)}),e}function GH(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=GH(r.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function MJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PJ=/^:[\w-]+$/,kJ=3,DJ=2,IJ=1,LJ=10,OJ=-2,k3=t=>t==="*";function jJ(t,e){let n=t.split("/"),r=n.length;return n.some(k3)&&(r+=OJ),e&&(r+=DJ),n.filter(i=>!k3(i)).reduce((i,a)=>i+(PJ.test(a)?kJ:a===""?IJ:LJ),r)}function FJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UJ(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",h=Zg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Zg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:nl([a,h.pathname]),pathnameBase:GJ(nl([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=nl([a,h.pathnameBase]))}return s}function BJ(t,e={}){let n=t;n.endsWith("*")&&n!=="*"&&!n.endsWith("/*")&&(Qt(!1,`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=s=>s==null?"":typeof s=="string"?s:String(s),a=n.split(/\/+/).map((s,o,u)=>{if(o===u.length-1&&s==="*")return i(e["*"]);const f=s.match(/^:([\w-]+)(\??)$/);if(f){const[,h,g]=f;let v=e[h];return Ve(g==="?"||v!=null,`Missing ":${h}" param`),encodeURIComponent(i(v))}return s.replace(/\?$/g,"")}).filter(s=>!!s);return r+a.join("/")}function Zg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$H(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:h},g)=>{if(f==="*"){let w=o[g]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const v=o[g];return h&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function $H(t,e=!1,n=!0){Qt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function gr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zJ({basename:t,pathname:e}){return e==="/"?t:nl([t,e])}var HJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vA=t=>HJ.test(t);function VH(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?es(t):t,a;if(n)if(vA(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Qt(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=D3(n.substring(1),"/"):a=D3(n,e)}else a=e;return{pathname:a,search:$J(r),hash:qJ(i)}}function D3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function JT(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bA(t){let e=WH(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xA(t,e,n,r=!1){let i;typeof t=="string"?i=es(t):(i={...t},Ve(!i.pathname||!i.pathname.includes("?"),JT("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),JT("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),JT("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let u=VH(i,o),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var nl=t=>t.join("/").replace(/\/\/+/g,"/"),GJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$J=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,VJ=class{constructor(t,e){this.type="DataWithResponseInit",this.data=t,this.init=e||null}};function YH(t,e){return new VJ(t,typeof e=="number"?{status:e}:e)}var Ax=(t,e=302)=>{let n=e;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",t),new Response(null,{...n,headers:r})},KH=(t,e)=>{let n=Ax(t,e);return n.headers.set("X-Remix-Reload-Document","true"),n},XH=(t,e)=>{let n=Ax(t,e);return n.headers.set("X-Remix-Replace","true"),n},ji=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Yn(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function wu(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ed=Symbol("Uninstrumented");function JH(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(i=>i({id:e.id,index:e.index,path:e.path,instrument(a){let s=Object.keys(n);for(let o of s)a[o]&&n[o].push(a[o])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let i=Af(n.lazy,e.lazy,()=>{});i&&(r.lazy=i)}if(typeof e.lazy=="object"){let i=e.lazy;["middleware","loader","action"].forEach(a=>{let s=i[a],o=n[`lazy.${a}`];if(typeof s=="function"&&o.length>0){let u=Af(o,s,()=>{});u&&(r.lazy=Object.assign(r.lazy||{},{[a]:u}))}})}return["loader","action"].forEach(i=>{let a=e[i];if(typeof a=="function"&&n[i].length>0){let s=a[Ed]??a,o=Af(n[i],s,(...u)=>I3(u[0]));o&&(o[Ed]=s,r[i]=o)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(i=>{let a=i[Ed]??i,s=Af(n.middleware,a,(...o)=>I3(o[0]));return s?(s[Ed]=a,s):i})),r}function WJ(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(i){let a=Object.keys(i);for(let s of a)i[s]&&n[s].push(i[s])}})),n.navigate.length>0){let r=t.navigate[Ed]??t.navigate,i=Af(n.navigate,r,(...a)=>{let[s,o]=a;return{to:typeof s=="number"||typeof s=="string"?s:s?ni(s):".",...L3(t,o??{})}});i&&(i[Ed]=r,t.navigate=i)}if(n.fetch.length>0){let r=t.fetch[Ed]??t.fetch,i=Af(n.fetch,r,(...a)=>{let[s,,o,u]=a;return{href:o??".",fetcherKey:s,...L3(t,u??{})}});i&&(i[Ed]=r,t.fetch=i)}return t}function YJ(t,e){let n={request:[]};e.forEach(i=>i({instrument(a){let s=Object.keys(a);for(let o of s)a[o]&&n[o].push(a[o])}}));let r=t;return n.request.length>0&&(r=Af(n.request,t,(...i)=>{let[a,s]=i;return{request:ZH(a),context:s!=null?e6(s):s}})),r}function Af(t,e,n){return t.length===0?null:async(...r)=>{let i=await QH(t,n(...r),()=>e(...r),t.length-1);if(i.type==="error")throw i.value;return i.value}}async function QH(t,e,n,r){let i=t[r],a;if(i){let s,o=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=QH(t,e,n,r-1),a=await s,Ve(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await i(o,e)}catch(u){console.error("An instrumentation function threw an error:",u)}s||await o(),await s}else try{a={type:"success",value:await n()}}catch(s){a={type:"error",value:s}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function I3(t){let{request:e,context:n,params:r,unstable_pattern:i}=t;return{request:ZH(e),params:{...r},unstable_pattern:i,context:e6(n)}}function L3(t,e){return{currentUrl:ni(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function ZH(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function e6(t){if(XJ(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var KJ=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function XJ(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===KJ}var t6=["POST","PUT","PATCH","DELETE"],JJ=new Set(t6),QJ=["GET",...t6],ZJ=new Set(QJ),n6=new Set([301,302,303,307,308]),eQ=new Set([307,308]),c0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},r6=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),i6="remix-router-transitions",a6=Symbol("ResetLoaderData");function Cx(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ve(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||r6,a=i;if(t.unstable_instrumentations){let X=t.unstable_instrumentations;a=re=>({...i(re),...JH(X.map(ue=>ue.route).filter(Boolean),re)})}let s={},o=Nd(t.routes,a,void 0,s),u,c=t.basename||"/";c.startsWith("/")||(c=`/${c}`);let f=t.dataStrategy||sQ,h={...t.future},g=null,v=new Set,w=null,E=null,A=null,_=t.hydrationData!=null,M=ua(o,t.history.location,c),R=!1,I=null,D;if(M==null&&!t.patchRoutesOnNavigation){let X=rr(404,{pathname:t.history.location.pathname}),{matches:re,route:ue}=sm(o);D=!0,M=re,I={[ue.id]:X}}else if(M&&!t.hydrationData&&Wd(M,o,t.history.location.pathname).active&&(M=null),M)if(M.some(X=>X.route.lazy))D=!1;else if(!M.some(X=>JP(X.route)))D=!0;else{let X=t.hydrationData?t.hydrationData.loaderData:null,re=t.hydrationData?t.hydrationData.errors:null;if(re){let ue=M.findIndex(xe=>re[xe.route.id]!==void 0);D=M.slice(0,ue+1).every(xe=>!Q2(xe.route,X,re))}else D=M.every(ue=>!Q2(ue.route,X,re))}else{D=!1,M=[];let X=Wd(null,o,t.history.location.pathname);X.active&&X.matches&&(R=!0,M=X.matches)}let k,P={historyAction:t.history.action,location:t.history.location,matches:M,initialized:D,navigation:c0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||I,fetchers:new Map,blockers:new Map},B="POP",z=null,W=!1,U,q=!1,Z=new Map,V=null,Q=!1,H=!1,$=new Set,J=new Map,ae=0,Se=-1,Y=new Map,te=new Set,ce=new Map,me=new Map,Ee=new Set,Me=new Map,Ce,ft=null;function fe(){if(g=t.history.listen(({action:X,location:re,delta:ue})=>{if(Ce){Ce(),Ce=void 0;return}Qt(Me.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let xe=$d({currentLocation:P.location,nextLocation:re,historyAction:X});if(xe&&ue!=null){let Ae=new Promise(qe=>{Ce=qe});t.history.go(ue*-1),dl(xe,{state:"blocked",location:re,proceed(){dl(xe,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Ae.then(()=>t.history.go(ue))},reset(){let qe=new Map(P.blockers);qe.set(xe,Tc),ne({blockers:qe})}}),z==null||z.resolve(),z=null;return}return Be(X,re)}),n){fQ(e,Z);let X=()=>hQ(e,Z);e.addEventListener("pagehide",X),V=()=>e.removeEventListener("pagehide",X)}return P.initialized||Be("POP",P.location,{initialHydration:!0}),k}function Re(){g&&g(),V&&V(),v.clear(),U&&U.abort(),P.fetchers.forEach((X,re)=>Ry(re)),P.blockers.forEach((X,re)=>lw(re))}function Ke(X){return v.add(X),()=>v.delete(X)}function ne(X,re={}){X.matches&&(X.matches=X.matches.map(Ae=>{let qe=s[Ae.route.id],je=Ae.route;return je.element!==qe.element||je.errorElement!==qe.errorElement||je.hydrateFallbackElement!==qe.hydrateFallbackElement?{...Ae,route:qe}:Ae})),P={...P,...X};let ue=[],xe=[];P.fetchers.forEach((Ae,qe)=>{Ae.state==="idle"&&(Ee.has(qe)?ue.push(qe):xe.push(qe))}),Ee.forEach(Ae=>{!P.fetchers.has(Ae)&&!J.has(Ae)&&ue.push(Ae)}),[...v].forEach(Ae=>Ae(P,{deletedFetchers:ue,newErrors:X.errors??null,viewTransitionOpts:re.viewTransitionOpts,flushSync:re.flushSync===!0})),ue.forEach(Ae=>Ry(Ae)),xe.forEach(Ae=>P.fetchers.delete(Ae))}function be(X,re,{flushSync:ue}={}){var Qe,We;let xe=P.actionData!=null&&P.navigation.formMethod!=null&&vi(P.navigation.formMethod)&&P.navigation.state==="loading"&&((Qe=X.state)==null?void 0:Qe._isRedirect)!==!0,Ae;re.actionData?Object.keys(re.actionData).length>0?Ae=re.actionData:Ae=null:xe?Ae=P.actionData:Ae=null;let qe=re.loaderData?W3(P.loaderData,re.loaderData,re.matches||[],re.errors):P.loaderData,je=P.blockers;je.size>0&&(je=new Map(je),je.forEach((tt,kt)=>je.set(kt,Tc)));let Ne=Q?!1:uw(X,re.matches||P.matches),ke=W===!0||P.navigation.formMethod!=null&&vi(P.navigation.formMethod)&&((We=X.state)==null?void 0:We._isRedirect)!==!0;u&&(o=u,u=void 0),Q||B==="POP"||(B==="PUSH"?t.history.push(X,X.state):B==="REPLACE"&&t.history.replace(X,X.state));let Ge;if(B==="POP"){let tt=Z.get(P.location.pathname);tt&&tt.has(X.pathname)?Ge={currentLocation:P.location,nextLocation:X}:Z.has(X.pathname)&&(Ge={currentLocation:X,nextLocation:P.location})}else if(q){let tt=Z.get(P.location.pathname);tt?tt.add(X.pathname):(tt=new Set([X.pathname]),Z.set(P.location.pathname,tt)),Ge={currentLocation:P.location,nextLocation:X}}ne({...re,actionData:Ae,loaderData:qe,historyAction:B,location:X,initialized:!0,navigation:c0,revalidation:"idle",restoreScrollPosition:Ne,preventScrollReset:ke,blockers:je},{viewTransitionOpts:Ge,flushSync:ue===!0}),B="POP",W=!1,q=!1,Q=!1,H=!1,z==null||z.resolve(),z=null,ft==null||ft.resolve(),ft=null}async function ve(X,re){if(z==null||z.resolve(),z=null,typeof X=="number"){z||(z=X3());let kt=z.promise;return t.history.go(X),kt}let ue=J2(P.location,P.matches,c,X,re==null?void 0:re.fromRouteId,re==null?void 0:re.relative),{path:xe,submission:Ae,error:qe}=j3(!1,ue,re),je=P.location,Ne=_u(P.location,xe,re&&re.state);Ne={...Ne,...t.history.encodeLocation(Ne)};let ke=re&&re.replace!=null?re.replace:void 0,Ge="PUSH";ke===!0?Ge="REPLACE":ke===!1||Ae!=null&&vi(Ae.formMethod)&&Ae.formAction===P.location.pathname+P.location.search&&(Ge="REPLACE");let Qe=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,We=(re&&re.flushSync)===!0,tt=$d({currentLocation:je,nextLocation:Ne,historyAction:Ge});if(tt){dl(tt,{state:"blocked",location:Ne,proceed(){dl(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),ve(X,re)},reset(){let kt=new Map(P.blockers);kt.set(tt,Tc),ne({blockers:kt})}});return}await Be(Ge,Ne,{submission:Ae,pendingError:qe,preventScrollReset:Qe,replace:re&&re.replace,enableViewTransition:re&&re.viewTransition,flushSync:We})}function Te(){ft||(ft=X3()),or(),ne({revalidation:"loading"});let X=ft.promise;return P.navigation.state==="submitting"?X:P.navigation.state==="idle"?(Be(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),X):(Be(B||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:q===!0}),X)}async function Be(X,re,ue){U&&U.abort(),U=null,B=X,Q=(ue&&ue.startUninterruptedRevalidation)===!0,Vd(P.location,P.matches),W=(ue&&ue.preventScrollReset)===!0,q=(ue&&ue.enableViewTransition)===!0;let xe=u||o,Ae=ue&&ue.overrideNavigation,qe=ue!=null&&ue.initialHydration&&P.matches&&P.matches.length>0&&!R?P.matches:ua(xe,re,c),je=(ue&&ue.flushSync)===!0;if(qe&&P.initialized&&!H&&lQ(P.location,re)&&!(ue&&ue.submission&&vi(ue.submission.formMethod))){be(re,{matches:qe},{flushSync:je});return}let Ne=Wd(qe,xe,re.pathname);if(Ne.active&&Ne.matches&&(qe=Ne.matches),!qe){let{error:Mn,notFoundMatches:Ct,route:_t}=Qu(re.pathname);be(re,{matches:Ct,loaderData:{},errors:{[_t.id]:Mn}},{flushSync:je});return}U=new AbortController;let ke=Xp(t.history,re,U.signal,ue&&ue.submission),Ge=t.getContext?await t.getContext():new el,Qe;if(ue&&ue.pendingError)Qe=[Ns(qe).route.id,{type:"error",error:ue.pendingError}];else if(ue&&ue.submission&&vi(ue.submission.formMethod)){let Mn=await St(ke,re,ue.submission,qe,Ge,Ne.active,ue&&ue.initialHydration===!0,{replace:ue.replace,flushSync:je});if(Mn.shortCircuited)return;if(Mn.pendingActionResult){let[Ct,_t]=Mn.pendingActionResult;if(Ir(_t)&&Yn(_t.error)&&_t.error.status===404){U=null,be(re,{matches:Mn.matches,loaderData:{},errors:{[Ct]:_t.error}});return}}qe=Mn.matches||qe,Qe=Mn.pendingActionResult,Ae=QT(re,ue.submission),je=!1,Ne.active=!1,ke=Xp(t.history,ke.url,ke.signal)}let{shortCircuited:We,matches:tt,loaderData:kt,errors:fn}=await dn(ke,re,qe,Ge,Ne.active,Ae,ue&&ue.submission,ue&&ue.fetcherSubmission,ue&&ue.replace,ue&&ue.initialHydration===!0,je,Qe);We||(U=null,be(re,{matches:tt||qe,...Y3(Qe),loaderData:kt,errors:fn}))}async function St(X,re,ue,xe,Ae,qe,je,Ne={}){or();let ke=cQ(re,ue);if(ne({navigation:ke},{flushSync:Ne.flushSync===!0}),qe){let We=await Zu(xe,re.pathname,X.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){if(We.partialMatches.length===0){let{matches:kt,route:fn}=sm(o);return{matches:kt,pendingActionResult:[fn.id,{type:"error",error:We.error}]}}let tt=Ns(We.partialMatches).route.id;return{matches:We.partialMatches,pendingActionResult:[tt,{type:"error",error:We.error}]}}else if(We.matches)xe=We.matches;else{let{notFoundMatches:tt,error:kt,route:fn}=Qu(re.pathname);return{matches:tt,pendingActionResult:[fn.id,{type:"error",error:kt}]}}}let Ge,Qe=gm(xe,re);if(!Qe.route.action&&!Qe.route.lazy)Ge={type:"error",error:rr(405,{method:X.method,pathname:re.pathname,routeId:Qe.route.id})};else{let We=Cd(a,s,X,xe,Qe,je?[]:r,Ae),tt=await wr(X,We,Ae,null);if(Ge=tt[Qe.route.id],!Ge){for(let kt of xe)if(tt[kt.route.id]){Ge=tt[kt.route.id];break}}if(X.signal.aborted)return{shortCircuited:!0}}if(Ad(Ge)){let We;return Ne&&Ne.replace!=null?We=Ne.replace:We=$3(Ge.response.headers.get("Location"),new URL(X.url),c)===P.location.pathname+P.location.search,await Lt(X,Ge,!0,{submission:ue,replace:We}),{shortCircuited:!0}}if(Ir(Ge)){let We=Ns(xe,Qe.route.id);return(Ne&&Ne.replace)!==!0&&(B="PUSH"),{matches:xe,pendingActionResult:[We.route.id,Ge,Qe.route.id]}}return{matches:xe,pendingActionResult:[Qe.route.id,Ge]}}async function dn(X,re,ue,xe,Ae,qe,je,Ne,ke,Ge,Qe,We){let tt=qe||QT(re,je),kt=je||Ne||K3(tt),fn=!Q&&!Ge;if(Ae){if(fn){let Sr=Hi(We);ne({navigation:tt,...Sr!==void 0?{actionData:Sr}:{}},{flushSync:Qe})}let gt=await Zu(ue,re.pathname,X.signal);if(gt.type==="aborted")return{shortCircuited:!0};if(gt.type==="error"){if(gt.partialMatches.length===0){let{matches:zs,route:rs}=sm(o);return{matches:zs,loaderData:{},errors:{[rs.id]:gt.error}}}let Sr=Ns(gt.partialMatches).route.id;return{matches:gt.partialMatches,loaderData:{},errors:{[Sr]:gt.error}}}else if(gt.matches)ue=gt.matches;else{let{error:Sr,notFoundMatches:zs,route:rs}=Qu(re.pathname);return{matches:zs,loaderData:{},errors:{[rs.id]:Sr}}}}let Mn=u||o,{dsMatches:Ct,revalidatingFetchers:_t}=F3(X,xe,a,s,t.history,P,ue,kt,re,Ge?[]:r,Ge===!0,H,$,Ee,ce,te,Mn,c,t.patchRoutesOnNavigation!=null,We);if(Se=++ae,!t.dataStrategy&&!Ct.some(gt=>gt.shouldLoad)&&!Ct.some(gt=>gt.route.middleware&&gt.route.middleware.length>0)&&_t.length===0){let gt=si();return be(re,{matches:ue,loaderData:{},errors:We&&Ir(We[1])?{[We[0]]:We[1].error}:null,...Y3(We),...gt?{fetchers:new Map(P.fetchers)}:{}},{flushSync:Qe}),{shortCircuited:!0}}if(fn){let gt={};if(!Ae){gt.navigation=tt;let Sr=Hi(We);Sr!==void 0&&(gt.actionData=Sr)}_t.length>0&&(gt.fetchers=ai(_t)),ne(gt,{flushSync:Qe})}_t.forEach(gt=>{An(gt.key),gt.controller&&J.set(gt.key,gt.controller)});let ga=()=>_t.forEach(gt=>An(gt.key));U&&U.signal.addEventListener("abort",ga);let{loaderResults:ns,fetcherResults:Zt}=await Gi(Ct,_t,X,xe);if(X.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",ga),_t.forEach(gt=>J.delete(gt.key));let ya=wS(ns);if(ya)return await Lt(X,ya.result,!0,{replace:ke}),{shortCircuited:!0};if(ya=wS(Zt),ya)return te.add(ya.key),await Lt(X,ya.result,!0,{replace:ke}),{shortCircuited:!0};let{loaderData:op,errors:va}=V3(P,ue,ns,We,_t,Zt);Ge&&P.errors&&(va={...P.errors,...va});let $i=si(),lp=ow(Se),Yd=$i||lp||_t.length>0;return{matches:ue,loaderData:op,errors:va,...Yd?{fetchers:new Map(P.fetchers)}:{}}}function Hi(X){if(X&&!Ir(X[1]))return{[X[0]]:X[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function ai(X){return X.forEach(re=>{let ue=P.fetchers.get(re.key),xe=xv(void 0,ue?ue.data:void 0);P.fetchers.set(re.key,xe)}),new Map(P.fetchers)}async function Ci(X,re,ue,xe){An(X);let Ae=(xe&&xe.flushSync)===!0,qe=u||o,je=J2(P.location,P.matches,c,ue,re,xe==null?void 0:xe.relative),Ne=ua(qe,je,c),ke=Wd(Ne,qe,je);if(ke.active&&ke.matches&&(Ne=ke.matches),!Ne){Kn(X,re,rr(404,{pathname:je}),{flushSync:Ae});return}let{path:Ge,submission:Qe,error:We}=j3(!0,je,xe);if(We){Kn(X,re,We,{flushSync:Ae});return}let tt=t.getContext?await t.getContext():new el,kt=(xe&&xe.preventScrollReset)===!0;if(Qe&&vi(Qe.formMethod)){await sr(X,re,Ge,Ne,tt,ke.active,Ae,kt,Qe);return}ce.set(X,{routeId:re,path:Ge}),await ma(X,re,Ge,Ne,tt,ke.active,Ae,kt,Qe)}async function sr(X,re,ue,xe,Ae,qe,je,Ne,ke){or(),ce.delete(X);let Ge=P.fetchers.get(X);Bn(X,dQ(ke,Ge),{flushSync:je});let Qe=new AbortController,We=Xp(t.history,ue,Qe.signal,ke);if(qe){let Tt=await Zu(xe,new URL(We.url).pathname,We.signal,X);if(Tt.type==="aborted")return;if(Tt.type==="error"){Kn(X,re,Tt.error,{flushSync:je});return}else if(Tt.matches)xe=Tt.matches;else{Kn(X,re,rr(404,{pathname:ue}),{flushSync:je});return}}let tt=gm(xe,ue);if(!tt.route.action&&!tt.route.lazy){let Tt=rr(405,{method:ke.formMethod,pathname:ue,routeId:re});Kn(X,re,Tt,{flushSync:je});return}J.set(X,Qe);let kt=ae,fn=Cd(a,s,We,xe,tt,r,Ae),Mn=await wr(We,fn,Ae,X),Ct=Mn[tt.route.id];if(!Ct){for(let Tt of fn)if(Mn[Tt.route.id]){Ct=Mn[Tt.route.id];break}}if(We.signal.aborted){J.get(X)===Qe&&J.delete(X);return}if(Ee.has(X)){if(Ad(Ct)||Ir(Ct)){Bn(X,Ml(void 0));return}}else{if(Ad(Ct))if(J.delete(X),Se>kt){Bn(X,Ml(void 0));return}else return te.add(X),Bn(X,xv(ke)),Lt(We,Ct,!1,{fetcherSubmission:ke,preventScrollReset:Ne});if(Ir(Ct)){Kn(X,re,Ct.error);return}}let _t=P.navigation.location||P.location,ga=Xp(t.history,_t,Qe.signal),ns=u||o,Zt=P.navigation.state!=="idle"?ua(ns,P.navigation.location,c):P.matches;Ve(Zt,"Didn't find any matches after fetcher action");let ya=++ae;Y.set(X,ya);let op=xv(ke,Ct.data);P.fetchers.set(X,op);let{dsMatches:va,revalidatingFetchers:$i}=F3(ga,Ae,a,s,t.history,P,Zt,ke,_t,r,!1,H,$,Ee,ce,te,ns,c,t.patchRoutesOnNavigation!=null,[tt.route.id,Ct]);$i.filter(Tt=>Tt.key!==X).forEach(Tt=>{let Ur=Tt.key,My=P.fetchers.get(Ur),LC=xv(void 0,My?My.data:void 0);P.fetchers.set(Ur,LC),An(Ur),Tt.controller&&J.set(Ur,Tt.controller)}),ne({fetchers:new Map(P.fetchers)});let lp=()=>$i.forEach(Tt=>An(Tt.key));Qe.signal.addEventListener("abort",lp);let{loaderResults:Yd,fetcherResults:gt}=await Gi(va,$i,ga,Ae);if(Qe.signal.aborted)return;if(Qe.signal.removeEventListener("abort",lp),Y.delete(X),J.delete(X),$i.forEach(Tt=>J.delete(Tt.key)),P.fetchers.has(X)){let Tt=Ml(Ct.data);P.fetchers.set(X,Tt)}let Sr=wS(Yd);if(Sr)return Lt(ga,Sr.result,!1,{preventScrollReset:Ne});if(Sr=wS(gt),Sr)return te.add(Sr.key),Lt(ga,Sr.result,!1,{preventScrollReset:Ne});let{loaderData:zs,errors:rs}=V3(P,Zt,Yd,void 0,$i,gt);ow(ya),P.navigation.state==="loading"&&ya>Se?(Ve(B,"Expected pending action"),U&&U.abort(),be(P.navigation.location,{matches:Zt,loaderData:zs,errors:rs,fetchers:new Map(P.fetchers)})):(ne({errors:rs,loaderData:W3(P.loaderData,zs,Zt,rs),fetchers:new Map(P.fetchers)}),H=!1)}async function ma(X,re,ue,xe,Ae,qe,je,Ne,ke){let Ge=P.fetchers.get(X);Bn(X,xv(ke,Ge?Ge.data:void 0),{flushSync:je});let Qe=new AbortController,We=Xp(t.history,ue,Qe.signal);if(qe){let _t=await Zu(xe,new URL(We.url).pathname,We.signal,X);if(_t.type==="aborted")return;if(_t.type==="error"){Kn(X,re,_t.error,{flushSync:je});return}else if(_t.matches)xe=_t.matches;else{Kn(X,re,rr(404,{pathname:ue}),{flushSync:je});return}}let tt=gm(xe,ue);J.set(X,Qe);let kt=ae,fn=Cd(a,s,We,xe,tt,r,Ae),Ct=(await wr(We,fn,Ae,X))[tt.route.id];if(J.get(X)===Qe&&J.delete(X),!We.signal.aborted){if(Ee.has(X)){Bn(X,Ml(void 0));return}if(Ad(Ct))if(Se>kt){Bn(X,Ml(void 0));return}else{te.add(X),await Lt(We,Ct,!1,{preventScrollReset:Ne});return}if(Ir(Ct)){Kn(X,re,Ct.error);return}Bn(X,Ml(Ct.data))}}async function Lt(X,re,ue,{submission:xe,fetcherSubmission:Ae,preventScrollReset:qe,replace:je}={}){ue||(z==null||z.resolve(),z=null),re.response.headers.has("X-Remix-Revalidate")&&(H=!0);let Ne=re.response.headers.get("Location");Ve(Ne,"Expected a Location header on the redirect Response"),Ne=$3(Ne,new URL(X.url),c);let ke=_u(P.location,Ne,{_isRedirect:!0});if(n){let fn=!1;if(re.response.headers.has("X-Remix-Reload-Document"))fn=!0;else if(vA(Ne)){const Mn=BH(Ne,!0);fn=Mn.origin!==e.location.origin||gr(Mn.pathname,c)==null}if(fn){je?e.location.replace(Ne):e.location.assign(Ne);return}}U=null;let Ge=je===!0||re.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Qe,formAction:We,formEncType:tt}=P.navigation;!xe&&!Ae&&Qe&&We&&tt&&(xe=K3(P.navigation));let kt=xe||Ae;if(eQ.has(re.response.status)&&kt&&vi(kt.formMethod))await Be(Ge,ke,{submission:{...kt,formAction:Ne},preventScrollReset:qe||W,enableViewTransition:ue?q:void 0});else{let fn=QT(ke,xe);await Be(Ge,ke,{overrideNavigation:fn,fetcherSubmission:Ae,preventScrollReset:qe||W,enableViewTransition:ue?q:void 0})}}async function wr(X,re,ue,xe){let Ae,qe={};try{Ae=await h6(f,X,re,xe,ue,!1)}catch(je){return re.filter(Ne=>Ne.shouldLoad).forEach(Ne=>{qe[Ne.route.id]={type:"error",error:je}}),qe}if(X.signal.aborted)return qe;for(let[je,Ne]of Object.entries(Ae))if(w6(Ne)){let ke=Ne.result;qe[je]={type:"redirect",response:g6(ke,X,je,re,c)}}else qe[je]=await m6(Ne);return qe}async function Gi(X,re,ue,xe){let Ae=wr(ue,X,xe,null),qe=Promise.all(re.map(async ke=>{if(ke.matches&&ke.match&&ke.request&&ke.controller){let Qe=(await wr(ke.request,ke.matches,xe,ke.key))[ke.match.route.id];return{[ke.key]:Qe}}else return Promise.resolve({[ke.key]:{type:"error",error:rr(404,{pathname:ke.path})}})})),je=await Ae,Ne=(await qe).reduce((ke,Ge)=>Object.assign(ke,Ge),{});return{loaderResults:je,fetcherResults:Ne}}function or(){H=!0,ce.forEach((X,re)=>{J.has(re)&&$.add(re),An(re)})}function Bn(X,re,ue={}){P.fetchers.set(X,re),ne({fetchers:new Map(P.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Kn(X,re,ue,xe={}){let Ae=Ns(P.matches,re);Ry(X),ne({errors:{[Ae.route.id]:ue},fetchers:new Map(P.fetchers)},{flushSync:(xe&&xe.flushSync)===!0})}function cl(X){return me.set(X,(me.get(X)||0)+1),Ee.has(X)&&Ee.delete(X),P.fetchers.get(X)||wA}function kC(X,re){An(X,re==null?void 0:re.reason),Bn(X,Ml(null))}function Ry(X){let re=P.fetchers.get(X);J.has(X)&&!(re&&re.state==="loading"&&Y.has(X))&&An(X),ce.delete(X),Y.delete(X),te.delete(X),Ee.delete(X),$.delete(X),P.fetchers.delete(X)}function Gd(X){let re=(me.get(X)||0)-1;re<=0?(me.delete(X),Ee.add(X)):me.set(X,re),ne({fetchers:new Map(P.fetchers)})}function An(X,re){let ue=J.get(X);ue&&(ue.abort(re),J.delete(X))}function Bs(X){for(let re of X){let ue=cl(re),xe=Ml(ue.data);P.fetchers.set(re,xe)}}function si(){let X=[],re=!1;for(let ue of te){let xe=P.fetchers.get(ue);Ve(xe,`Expected fetcher: ${ue}`),xe.state==="loading"&&(te.delete(ue),X.push(ue),re=!0)}return Bs(X),re}function ow(X){let re=[];for(let[ue,xe]of Y)if(xe<X){let Ae=P.fetchers.get(ue);Ve(Ae,`Expected fetcher: ${ue}`),Ae.state==="loading"&&(An(ue),Y.delete(ue),re.push(ue))}return Bs(re),re.length>0}function DC(X,re){let ue=P.blockers.get(X)||Tc;return Me.get(X)!==re&&Me.set(X,re),ue}function lw(X){P.blockers.delete(X),Me.delete(X)}function dl(X,re){let ue=P.blockers.get(X)||Tc;Ve(ue.state==="unblocked"&&re.state==="blocked"||ue.state==="blocked"&&re.state==="blocked"||ue.state==="blocked"&&re.state==="proceeding"||ue.state==="blocked"&&re.state==="unblocked"||ue.state==="proceeding"&&re.state==="unblocked",`Invalid blocker state transition: ${ue.state} -> ${re.state}`);let xe=new Map(P.blockers);xe.set(X,re),ne({blockers:xe})}function $d({currentLocation:X,nextLocation:re,historyAction:ue}){if(Me.size===0)return;Me.size>1&&Qt(!1,"A router only supports one blocker at a time");let xe=Array.from(Me.entries()),[Ae,qe]=xe[xe.length-1],je=P.blockers.get(Ae);if(!(je&&je.state==="proceeding")&&qe({currentLocation:X,nextLocation:re,historyAction:ue}))return Ae}function Qu(X){let re=rr(404,{pathname:X}),ue=u||o,{matches:xe,route:Ae}=sm(ue);return{notFoundMatches:xe,route:Ae,error:re}}function fl(X,re,ue){if(w=X,A=re,E=ue||null,!_&&P.navigation===c0){_=!0;let xe=uw(P.location,P.matches);xe!=null&&ne({restoreScrollPosition:xe})}return()=>{w=null,A=null,E=null}}function qd(X,re){return E&&E(X,re.map(xe=>zH(xe,P.loaderData)))||X.key}function Vd(X,re){if(w&&A){let ue=qd(X,re);w[ue]=A()}}function uw(X,re){if(w){let ue=qd(X,re),xe=w[ue];if(typeof xe=="number")return xe}return null}function Wd(X,re,ue){if(t.patchRoutesOnNavigation)if(X){if(Object.keys(X[0].params).length>0)return{active:!0,matches:Uv(re,ue,c,!0)}}else return{active:!0,matches:Uv(re,ue,c,!0)||[]};return{active:!1,matches:null}}async function Zu(X,re,ue,xe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:X};let Ae=X;for(;;){let qe=u==null,je=u||o,Ne=s;try{await t.patchRoutesOnNavigation({signal:ue,path:re,matches:Ae,fetcherKey:xe,patch:(Qe,We)=>{ue.aborted||U3(Qe,We,je,Ne,a,!1)}})}catch(Qe){return{type:"error",error:Qe,partialMatches:Ae}}finally{qe&&!ue.aborted&&(o=[...o])}if(ue.aborted)return{type:"aborted"};let ke=ua(je,re,c),Ge=null;if(ke){if(Object.keys(ke[0].params).length===0)return{type:"success",matches:ke};if(Ge=Uv(je,re,c,!0),!(Ge&&Ae.length<Ge.length&&ec(Ae,Ge.slice(0,Ae.length))))return{type:"success",matches:ke}}if(Ge||(Ge=Uv(je,re,c,!0)),!Ge||ec(Ae,Ge))return{type:"success",matches:null};Ae=Ge}}function ec(X,re){return X.length===re.length&&X.every((ue,xe)=>ue.route.id===re[xe].route.id)}function IC(X){s={},u=Nd(X,a,void 0,s)}function cw(X,re,ue=!1){let xe=u==null;U3(X,re,u||o,s,a,ue),xe&&(o=[...o],ne({}))}return k={get basename(){return c},get future(){return h},get state(){return P},get routes(){return o},get window(){return e},initialize:fe,subscribe:Ke,enableScrollRestoration:fl,navigate:ve,fetch:Ci,revalidate:Te,createHref:X=>t.history.createHref(X),encodeLocation:X=>t.history.encodeLocation(X),getFetcher:cl,resetFetcher:kC,deleteFetcher:Gd,dispose:Re,getBlocker:DC,deleteBlocker:lw,patchRoutes:cw,_internalFetchControllers:J,_internalSetRoutes:IC,_internalSetStateDoNotUseOrYouWillBreakYourApp(X){ne(X)}},t.unstable_instrumentations&&(k=WJ(k,t.unstable_instrumentations.map(X=>X.router).filter(Boolean))),k}function s6(t,e){Ve(t.length>0,"You must provide a non-empty routes array to createStaticHandler");let n={},r=(e?e.basename:null)||"/",i=(e==null?void 0:e.mapRouteProperties)||r6,a=i;if(e!=null&&e.unstable_instrumentations){let v=e.unstable_instrumentations;a=w=>({...i(w),...JH(v.map(E=>E.route).filter(Boolean),w)})}let s=Nd(t,a,void 0,n);async function o(v,{requestContext:w,filterMatchesToLoad:E,skipLoaderErrorBubbling:A,skipRevalidation:_,dataStrategy:M,generateMiddlewareResponse:R}={}){let I=new URL(v.url),D=v.method,k=_u("",ni(I),null,"default"),P=ua(s,k,r);if(w=w??new el,!nR(D)&&D!=="HEAD"){let z=rr(405,{method:D}),{matches:W,route:U}=sm(s),q={basename:r,location:k,matches:W,loaderData:{},actionData:null,errors:{[U.id]:z},statusCode:z.status,loaderHeaders:{},actionHeaders:{}};return R?R(()=>Promise.resolve(q)):q}else if(!P){let z=rr(404,{pathname:k.pathname}),{matches:W,route:U}=sm(s),q={basename:r,location:k,matches:W,loaderData:{},actionData:null,errors:{[U.id]:z},statusCode:z.status,loaderHeaders:{},actionHeaders:{}};return R?R(()=>Promise.resolve(q)):q}if(R){Ve(w instanceof el,"When using middleware in `staticHandler.query()`, any provided `requestContext` must be an instance of `RouterContextProvider`");try{await H3(P,n,a);let z,W=await G3({request:v,unstable_pattern:wu(P),matches:P,params:P[0].params,context:w},async()=>await R(async(q,Z={})=>{let V=await c(q,k,P,w,M||null,A===!0,null,"filterMatchesToLoad"in Z?Z.filterMatchesToLoad??null:E??null,_===!0);return Tn(V)?V:(z={location:k,basename:r,...V},z)}),async(U,q)=>{var Z;if(G1(U))return U;if(Tn(U))try{U=new ji(U.status,U.statusText,await p6(U))}catch(V){U=V}if(_d(U)&&(U=b6(U)),z){q in z.loaderData&&(z.loaderData[q]=void 0);let V=o6(s,z,U,A?q:Ns(P,q).route.id);return R(()=>Promise.resolve(V))}else{let V=A?q:Ns(P,((Z=P.find(H=>H.route.id===q||H.route.loader))==null?void 0:Z.route.id)||q).route.id,Q={matches:P,location:k,basename:r,loaderData:{},actionData:null,errors:{[V]:U},statusCode:Yn(U)?U.status:500,actionHeaders:{},loaderHeaders:{}};return R(()=>Promise.resolve(Q))}});return Ve(Tn(W),"Expected a response in query()"),W}catch(z){if(Tn(z))return z;throw z}}let B=await c(v,k,P,w,M||null,A===!0,null,E||null,_===!0);return Tn(B)?B:{location:k,basename:r,...B}}async function u(v,{routeId:w,requestContext:E,dataStrategy:A,generateMiddlewareResponse:_}={}){let M=new URL(v.url),R=v.method,I=_u("",ni(M),null,"default"),D=ua(s,I,r);if(E=E??new el,!nR(R)&&R!=="HEAD"&&R!=="OPTIONS")throw rr(405,{method:R});if(!D)throw rr(404,{pathname:I.pathname});let k=w?D.find(z=>z.route.id===w):gm(D,I);if(w&&!k)throw rr(403,{pathname:I.pathname,routeId:w});if(!k)throw rr(404,{pathname:I.pathname});if(_)return Ve(E instanceof el,"When using middleware in `staticHandler.queryRoute()`, any provided `requestContext` must be an instance of `RouterContextProvider`"),await H3(D,n,a),await G3({request:v,unstable_pattern:wu(D),matches:D,params:D[0].params,context:E},async()=>await _(async U=>{let q=await c(U,I,D,E,A||null,!1,k,null,!1),Z=B(q);return Tn(Z)?Z:typeof Z=="string"?new Response(Z):Response.json(Z)}),W=>{if(_d(W))return Promise.resolve(tR(W));if(Tn(W))return Promise.resolve(W);throw W});let P=await c(v,I,D,E,A||null,!1,k,null,!1);return B(P);function B(z){if(Tn(z))return z;let W=z.errors?Object.values(z.errors)[0]:void 0;if(W!==void 0)throw W;if(z.actionData)return Object.values(z.actionData)[0];if(z.loaderData)return Object.values(z.loaderData)[0]}}async function c(v,w,E,A,_,M,R,I,D){Ve(v.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(vi(v.method))return await f(v,E,R||gm(E,w),A,_,M,R!=null,I,D);let k=await h(v,E,A,_,M,R,I);return Tn(k)?k:{...k,actionData:null,actionHeaders:{}}}catch(k){if(x6(k)&&Tn(k.result)){if(k.type==="error")throw k.result;return k.result}if(G1(k))return k;throw k}}async function f(v,w,E,A,_,M,R,I,D){let k;if(!E.route.action&&!E.route.lazy){let z=rr(405,{method:v.method,pathname:new URL(v.url).pathname,routeId:E.route.id});if(R)throw z;k={type:"error",error:z}}else{let z=Cd(a,n,v,w,E,[],A);k=(await g(v,z,R,A,_))[E.route.id],v.signal.aborted&&O3(v,R)}if(Ad(k))throw new Response(null,{status:k.response.status,headers:{Location:k.response.headers.get("Location")}});if(R){if(Ir(k))throw k.error;return{matches:[E],loaderData:{},actionData:{[E.route.id]:k.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{}}}if(D)if(Ir(k)){let z=M?E:Ns(w,E.route.id);return{statusCode:Yn(k.error)?k.error.status:k.statusCode!=null?k.statusCode:500,actionData:null,actionHeaders:{...k.headers?{[E.route.id]:k.headers}:{}},matches:w,loaderData:{},errors:{[z.route.id]:k.error},loaderHeaders:{}}}else return{actionData:{[E.route.id]:k.data},actionHeaders:k.headers?{[E.route.id]:k.headers}:{},matches:w,loaderData:{},errors:null,statusCode:k.statusCode||200,loaderHeaders:{}};let P=new Request(v.url,{headers:v.headers,redirect:v.redirect,signal:v.signal});if(Ir(k)){let z=M?E:Ns(w,E.route.id);return{...await h(P,w,A,_,M,null,I,[z.route.id,k]),statusCode:Yn(k.error)?k.error.status:k.statusCode!=null?k.statusCode:500,actionData:null,actionHeaders:{...k.headers?{[E.route.id]:k.headers}:{}}}}return{...await h(P,w,A,_,M,null,I),actionData:{[E.route.id]:k.data},...k.statusCode?{statusCode:k.statusCode}:{},actionHeaders:k.headers?{[E.route.id]:k.headers}:{}}}async function h(v,w,E,A,_,M,R,I){let D=M!=null;if(D&&!(M!=null&&M.route.loader)&&!(M!=null&&M.route.lazy))throw rr(400,{method:v.method,pathname:new URL(v.url).pathname,routeId:M==null?void 0:M.route.id});let k;if(M)k=Cd(a,n,v,w,M,[],E);else{let z=I&&Ir(I[1])?w.findIndex(U=>U.route.id===I[0])-1:void 0,W=wu(w);k=w.map((U,q)=>z!=null&&q>z?m0(a,n,v,W,U,[],E,!1):m0(a,n,v,W,U,[],E,(U.route.loader||U.route.lazy)!=null&&(!R||R(U))))}if(!A&&!k.some(z=>z.shouldLoad))return{matches:w,loaderData:{},errors:I&&Ir(I[1])?{[I[0]]:I[1].error}:null,statusCode:200,loaderHeaders:{}};let P=await g(v,k,D,E,A);return v.signal.aborted&&O3(v,D),{...y6(w,P,I,!0,_),matches:w}}async function g(v,w,E,A,_){let M=await h6(_||Z2,v,w,null,A,!0),R={};return await Promise.all(w.map(async I=>{if(!(I.route.id in M))return;let D=M[I.route.id];if(w6(D)){let k=D.result;throw g6(k,v,I.route.id,w,r)}if(E){if(Tn(D.result))throw D;if(_d(D.result))throw tR(D.result)}R[I.route.id]=await m6(D)})),R}return{dataRoutes:s,query:o,queryRoute:u}}function o6(t,e,n,r){let i=r||e._deepestRenderedBoundaryId||t[0].id;return{...e,statusCode:Yn(n)?n.status:500,errors:{[i]:n}}}function O3(t,e){if(t.signal.reason!==void 0)throw t.signal.reason;let n=e?"queryRoute":"query";throw new Error(`${n}() call aborted without an \`AbortSignal.reason\`: ${t.method} ${t.url}`)}function tQ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function J2(t,e,n,r,i,a){let s,o;if(i){s=[];for(let c of e)if(s.push(c),c.route.id===i){o=c;break}}else s=e,o=e[e.length-1];let u=xA(r||".",bA(s),gr(t.pathname,n)||t.pathname,a==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&o){let c=ZP(u.search);if(o.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&c){let f=new URLSearchParams(u.search),h=f.getAll("index");f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=zJ({basename:n,pathname:u.pathname})),ni(u)}function j3(t,e,n){if(!n||!tQ(n))return{path:e};if(n.formMethod&&!nR(n.formMethod))return{path:e,error:rr(405,{method:n.formMethod})};let r=()=>({path:e,error:rr(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),s=v6(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!vi(a))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[v,w])=>`${g}${v}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!vi(a))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}Ve(typeof FormData=="function","FormData is not available in this environment");let o,u;if(n.formData)o=eR(n.formData),u=n.formData;else if(n.body instanceof FormData)o=eR(n.body),u=n.body;else if(n.body instanceof URLSearchParams)o=n.body,u=q3(o);else if(n.body==null)o=new URLSearchParams,u=new FormData;else try{o=new URLSearchParams(n.body),u=q3(o)}catch{return r()}let c={formMethod:a,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(vi(c.formMethod))return{path:e,submission:c};let f=es(e);return t&&f.search&&ZP(f.search)&&o.append("index",""),f.search=`?${o}`,{path:ni(f),submission:c}}function F3(t,e,n,r,i,a,s,o,u,c,f,h,g,v,w,E,A,_,M,R){var V;let I=R?Ir(R[1])?R[1].error:R[1].data:void 0,D=i.createURL(a.location),k=i.createURL(u),P;if(f&&a.errors){let Q=Object.keys(a.errors)[0];P=s.findIndex(H=>H.route.id===Q)}else if(R&&Ir(R[1])){let Q=R[0];P=s.findIndex(H=>H.route.id===Q)-1}let B=R?R[1].statusCode:void 0,z=B&&B>=400,W={currentUrl:D,currentParams:((V=a.matches[0])==null?void 0:V.params)||{},nextUrl:k,nextParams:s[0].params,...o,actionResult:I,actionStatus:B},U=wu(s),q=s.map((Q,H)=>{let{route:$}=Q,J=null;if(P!=null&&H>P?J=!1:$.lazy?J=!0:JP($)?f?J=Q2($,a.loaderData,a.errors):nQ(a.loaderData,a.matches[H],Q)&&(J=!0):J=!1,J!==null)return m0(n,r,t,U,Q,c,e,J);let ae=z?!1:h||D.pathname+D.search===k.pathname+k.search||D.search!==k.search||rQ(a.matches[H],Q),Se={...W,defaultShouldRevalidate:ae},Y=H1(Q,Se);return m0(n,r,t,U,Q,c,e,Y,Se)}),Z=[];return w.forEach((Q,H)=>{if(f||!s.some(me=>me.route.id===Q.routeId)||v.has(H))return;let $=a.fetchers.get(H),J=$&&$.state!=="idle"&&$.data===void 0,ae=ua(A,Q.path,_);if(!ae){if(M&&J)return;Z.push({key:H,routeId:Q.routeId,path:Q.path,matches:null,match:null,request:null,controller:null});return}if(E.has(H))return;let Se=gm(ae,Q.path),Y=new AbortController,te=Xp(i,Q.path,Y.signal),ce=null;if(g.has(H))g.delete(H),ce=Cd(n,r,te,ae,Se,c,e);else if(J)h&&(ce=Cd(n,r,te,ae,Se,c,e));else{let me={...W,defaultShouldRevalidate:z?!1:h};H1(Se,me)&&(ce=Cd(n,r,te,ae,Se,c,e,me))}ce&&Z.push({key:H,routeId:Q.routeId,path:Q.path,matches:ce,match:Se,request:te,controller:Y})}),{dsMatches:q,revalidatingFetchers:Z}}function JP(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function Q2(t,e,n){if(t.lazy)return!0;if(!JP(t))return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function nQ(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function rQ(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function H1(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function U3(t,e,n,r,i,a){let s;if(t){let c=r[t];Ve(c,`No route found to patch children into: routeId = ${t}`),c.children||(c.children=[]),s=c.children}else s=n;let o=[],u=[];if(e.forEach(c=>{let f=s.find(h=>l6(c,h));f?u.push({existingRoute:f,newRoute:c}):o.push(c)}),o.length>0){let c=Nd(o,i,[t||"_","patch",String((s==null?void 0:s.length)||"0")],r);s.push(...c)}if(a&&u.length>0)for(let c=0;c<u.length;c++){let{existingRoute:f,newRoute:h}=u[c],g=f,[v]=Nd([h],i,[],{},!0);Object.assign(g,{element:v.element?v.element:g.element,errorElement:v.errorElement?v.errorElement:g.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:g.hydrateFallbackElement})}}function l6(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>l6(n,a))}):!1}var B3=new WeakMap,QP=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Ve(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let s=B3.get(i);s||(s={},B3.set(i,s));let o=s[t];if(o)return o;let u=(async()=>{let c=_J(t),h=i[t]!==void 0&&t!=="hasErrorBoundary";if(c)Qt(!c,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(h)Qt(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let g=await a();g!=null&&(Object.assign(i,{[t]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return s[t]=u,u},z3=new WeakMap;function iQ(t,e,n,r,i){let a=n[t.id];if(Ve(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let f=z3.get(a);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let h=(async()=>{Ve(typeof t.lazy=="function","No lazy route function found");let g=await t.lazy(),v={};for(let w in g){let E=g[w];if(E===void 0)continue;let A=NJ(w),M=a[w]!==void 0&&w!=="hasErrorBoundary";A?Qt(!A,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?Qt(!M,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):v[w]=E}Object.assign(a,v),Object.assign(a,{...r(a),lazy:void 0})})();return z3.set(a,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let s=Object.keys(t.lazy),o=[],u;for(let f of s){if(i&&i.includes(f))continue;let h=QP({key:f,route:t,manifest:n,mapRouteProperties:r});h&&(o.push(h),f===e&&(u=h))}let c=o.length>0?Promise.all(o).then(()=>{}):void 0;return c==null||c.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}function aQ(t){return t!==void 0}function H3(t,e,n){let r=t.map(({route:i})=>{if(!(typeof i.lazy!="object"||!i.lazy.middleware))return QP({key:"middleware",route:i,manifest:e,mapRouteProperties:n})}).filter(aQ);return r.length>0?Promise.all(r):void 0}async function Z2(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function sQ(t){return t.matches.some(e=>e.route.middleware)?u6(t,()=>Z2(t)):Z2(t)}function G3(t,e,n){return c6(t,e,r,Tn,n);function r(i){return _d(i)?tR(i):i}}function u6(t,e){return c6(t,e,r=>r,uQ,n);function n(r,i,a){if(a)return Promise.resolve(Object.assign(a.value,{[i]:{type:"error",result:r}}));{let{matches:s}=t,o=Math.min(Math.max(s.findIndex(c=>c.route.id===i),0),Math.max(s.findIndex(c=>c.shouldCallHandler()),0)),u=Ns(s,s[o].route.id).route.id;return Promise.resolve({[u]:{type:"error",result:r}})}}}async function c6(t,e,n,r,i){let{matches:a,request:s,params:o,context:u,unstable_pattern:c}=t,f=a.flatMap(g=>g.route.middleware?g.route.middleware.map(v=>[g.route.id,v]):[]);return await d6({request:s,params:o,context:u,unstable_pattern:c},f,e,n,r,i)}async function d6(t,e,n,r,i,a,s=0){let{request:o}=t;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let u=e[s];if(!u)return await n();let[c,f]=u,h,g=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await d6(t,e,n,r,i,a,s+1)},h.value}catch(v){return h={value:await a(v,c,h)},h.value}};try{let v=await f(t,g),w=v!=null?r(v):void 0;return i(w)?w:h?w??h.value:(h={value:await g()},h.value)}catch(v){return await a(v,c,h)}}function f6(t,e,n,r,i){let a=QP({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),s=iQ(r.route,vi(n.method)?"action":"loader",e,t,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function m0(t,e,n,r,i,a,s,o,u=null){let c=!1,f=f6(t,e,n,i,a);return{...i,_lazyPromises:f,shouldLoad:o,shouldRevalidateArgs:u,shouldCallHandler(h){return c=!0,u?typeof h=="boolean"?H1(i,{...u,defaultShouldRevalidate:h}):H1(i,u):o},resolve(h){let{lazy:g,loader:v,middleware:w}=i.route,E=c||o||h&&!vi(n.method)&&(g||v),A=w&&w.length>0&&!v&&!g;return E&&(vi(n.method)||!A)?oQ({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:f==null?void 0:f.handler,lazyRoutePromise:f==null?void 0:f.route,handlerOverride:h,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Cd(t,e,n,r,i,a,s,o=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,shouldRevalidateArgs:o,shouldCallHandler:()=>!1,_lazyPromises:f6(t,e,n,u,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:m0(t,e,n,wu(r),u,a,s,!0,o))}async function h6(t,e,n,r,i,a){n.some(c=>{var f;return(f=c._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(n.map(c=>{var f;return(f=c._lazyPromises)==null?void 0:f.middleware}));let s={request:e,unstable_pattern:wu(n),params:n[0].params,context:i,matches:n},u=await t({...s,fetcherKey:r,runClientMiddleware:a?()=>{throw new Error("You cannot call `runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:c=>{let f=s;return u6(f,()=>c({...f,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(c=>{var f,h;return[(f=c._lazyPromises)==null?void 0:f.handler,(h=c._lazyPromises)==null?void 0:h.route]}))}catch{}return u}async function oQ({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:a,scopedContext:s}){let o,u,c=vi(t.method),f=c?"action":"loader",h=g=>{let v,w=new Promise((_,M)=>v=M);u=()=>v(),t.signal.addEventListener("abort",u);let E=_=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${n.route.id}]`)):g({request:t,unstable_pattern:e,params:n.params,context:s},..._!==void 0?[_]:[]),A=(async()=>{try{return{type:"data",result:await(a?a(M=>E(M)):E())}}catch(_){return{type:"error",result:_}}})();return Promise.race([A,w])};try{let g=c?n.route.action:n.route.loader;if(r||i)if(g){let v,[w]=await Promise.all([h(g).catch(E=>{v=E}),r,i]);if(v!==void 0)throw v;o=w}else{await r;let v=c?n.route.action:n.route.loader;if(v)[o]=await Promise.all([h(v),i]);else if(f==="action"){let w=new URL(t.url),E=w.pathname+w.search;throw rr(405,{method:t.method,pathname:E,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)o=await h(g);else{let v=new URL(t.url),w=v.pathname+v.search;throw rr(404,{pathname:w})}}catch(g){return{type:"error",result:g}}finally{u&&t.signal.removeEventListener("abort",u)}return o}async function p6(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function m6(t){var r,i,a,s,o;let{result:e,type:n}=t;if(Tn(e)){let u;try{u=await p6(e)}catch(c){return{type:"error",error:c}}return n==="error"?{type:"error",error:new ji(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}return n==="error"?_d(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:b6(e),statusCode:Yn(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yn(e)?e.status:void 0}:_d(e)?{type:"data",data:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function g6(t,e,n,r,i){let a=t.headers.get("Location");if(Ve(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!vA(a)){let s=r.slice(0,r.findIndex(o=>o.route.id===n)+1);a=J2(new URL(e.url),s,i,a),t.headers.set("Location",a)}return t}function $3(t,e,n){if(vA(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=gr(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function Xp(t,e,n,r){let i=t.createURL(v6(e)).toString(),a={signal:n};if(r&&vi(r.formMethod)){let{formMethod:s,formEncType:o}=r;a.method=s.toUpperCase(),o==="application/json"?(a.headers=new Headers({"Content-Type":o}),a.body=JSON.stringify(r.json)):o==="text/plain"?a.body=r.text:o==="application/x-www-form-urlencoded"&&r.formData?a.body=eR(r.formData):a.body=r.formData}return new Request(i,a)}function eR(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function q3(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function y6(t,e,n,r=!1,i=!1){let a={},s=null,o,u=!1,c={},f=n&&Ir(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let g=h.route.id,v=e[g];if(Ve(!Ad(v),"Cannot handle redirect results in processLoaderData"),Ir(v)){let w=v.error;if(f!==void 0&&(w=f,f=void 0),s=s||{},i)s[g]=w;else{let E=Ns(t,g);s[E.route.id]==null&&(s[E.route.id]=w)}r||(a[g]=a6),u||(u=!0,o=Yn(v.error)?v.error.status:500),v.headers&&(c[g]=v.headers)}else a[g]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(o=v.statusCode),v.headers&&(c[g]=v.headers)}),f!==void 0&&n&&(s={[n[0]]:f},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function V3(t,e,n,r,i,a){let{loaderData:s,errors:o}=y6(e,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:f,controller:h}=u;if(h&&h.signal.aborted)return;let g=a[c];if(Ve(g,"Did not find corresponding fetcher result"),Ir(g)){let v=Ns(t.matches,f==null?void 0:f.route.id);o&&o[v.route.id]||(o={...o,[v.route.id]:g.error}),t.fetchers.delete(c)}else if(Ad(g))Ve(!1,"Unhandled fetcher revalidation redirect");else{let v=Ml(g.data);t.fetchers.set(c,v)}}),{loaderData:s,errors:o}}function W3(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==a6).reduce((a,[s,o])=>(a[s]=o,a),{});for(let a of n){let s=a.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&a.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Y3(t){return t?Ir(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ns(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function sm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function rr(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let s="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(s="Bad Request",r&&e&&n?o=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):t===403?(s="Forbidden",o=`Route "${n}" does not match URL "${e}"`):t===404?(s="Not Found",o=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",r&&e&&n?o=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(o=`Invalid request method "${r.toUpperCase()}"`)),new ji(t||500,s,new Error(o),!0)}function wS(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ad(i))return{key:r,result:i}}}function v6(t){let e=typeof t=="string"?es(t):t;return ni({...e,hash:""})}function lQ(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function tR(t){return Response.json(t.data,t.init??void 0)}function b6(t){var e,n;return new ji(((e=t.init)==null?void 0:e.status)??500,((n=t.init)==null?void 0:n.statusText)??"Internal Server Error",t.data)}function uQ(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&x6(n))}function x6(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function w6(t){return Tn(t.result)&&n6.has(t.result.status)}function Ir(t){return t.type==="error"}function Ad(t){return(t&&t.type)==="redirect"}function _d(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Tn(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function SA(t){return n6.has(t)}function G1(t){return Tn(t)&&SA(t.status)&&t.headers.has("Location")}function nR(t){return ZJ.has(t.toUpperCase())}function vi(t){return JJ.has(t.toUpperCase())}function ZP(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function gm(t,e){let n=typeof e=="string"?es(e).search:e.search;if(t[t.length-1].route.index&&ZP(n||""))return t[t.length-1];let r=WH(t);return r[r.length-1]}function K3(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function QT(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function cQ(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xv(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dQ(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ml(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fQ(t,e){try{let n=t.sessionStorage.getItem(i6);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function hQ(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(i6,JSON.stringify(n))}catch(r){Qt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function X3(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var ul=T.createContext(null);ul.displayName="DataRouter";var Uu=T.createContext(null);Uu.displayName="DataRouterState";var S6=T.createContext(!1);function pQ(){return T.useContext(S6)}var _x=T.createContext({isTransitioning:!1});_x.displayName="ViewTransition";var Tx=T.createContext(new Map);Tx.displayName="Fetchers";var ey=T.createContext(null);ey.displayName="Await";var mQ=t=>T.createElement(ey.Provider,t),Ui=T.createContext(null);Ui.displayName="Navigation";var Zh=T.createContext(null);Zh.displayName="Location";var da=T.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var ek=T.createContext(null);ek.displayName="RouteError";function E6(t,{relative:e}={}){Ve(jd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Ui),{hash:i,pathname:a,search:s}=fy(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:nl([n,a])),r.createHref({pathname:o,search:s,hash:i})}function jd(){return T.useContext(Zh)!=null}function fa(){return Ve(jd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Zh).location}function gQ(){return T.useContext(Zh).navigationType}function yQ(t){Ve(jd(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:e}=fa();return T.useMemo(()=>Zg(t,qH(e)),[e,t])}var A6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C6(t){T.useContext(Ui).static||T.useLayoutEffect(t)}function EA(){let{isDataRoute:t}=T.useContext(da);return t?MQ():vQ()}function vQ(){Ve(jd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ul),{basename:e,navigator:n}=T.useContext(Ui),{matches:r}=T.useContext(da),{pathname:i}=fa(),a=JSON.stringify(bA(r)),s=T.useRef(!1);return C6(()=>{s.current=!0}),T.useCallback((u,c={})=>{if(Qt(s.current,A6),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=xA(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:nl([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,i,t])}var _6=T.createContext(null);function bQ(){return T.useContext(_6)}function T6(t){let e=T.useContext(da).outlet;return T.useMemo(()=>e&&T.createElement(_6.Provider,{value:t},e),[e,t])}function AA(){let{matches:t}=T.useContext(da),e=t[t.length-1];return e?e.params:{}}function fy(t,{relative:e}={}){let{matches:n}=T.useContext(da),{pathname:r}=fa(),i=JSON.stringify(bA(n));return T.useMemo(()=>xA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function N6(t,e){return tk(t,e)}function tk(t,e,n,r,i){var M;Ve(jd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Ui),{matches:s}=T.useContext(da),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",h=o&&o.route;{let R=h&&h.path||"";D6(c,!h||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=fa(),v;if(e){let R=typeof e=="string"?es(e):e;Ve(f==="/"||((M=R.pathname)==null?void 0:M.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=g;let w=v.pathname||"/",E=w;if(f!=="/"){let R=f.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=ua(t,{pathname:E});Qt(h||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Qt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=R6(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:nl([f,a.encodeLocation?a.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:nl([f,a.encodeLocation?a.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),s,n,r,i);return e&&_?T.createElement(Zh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function xQ(){let t=Nx(),e=Yn(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,s)}var wQ=T.createElement(xQ,null),SQ=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(da.Provider,{value:this.props.routeContext},T.createElement(ek.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EQ({routeContext:t,match:e,children:n}){let r=T.useContext(ul);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(da.Provider,{value:t},n)}function R6(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let f=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Ve(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:g,errors:v}=n,w=h.route.loader&&!g.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&r?(f,h)=>{var g,v;r(f,{location:n.location,params:((v=(g=n.matches)==null?void 0:g[0])==null?void 0:v.params)??{},unstable_pattern:wu(n.matches),errorInfo:h})}:void 0;return a.reduceRight((f,h,g)=>{let v,w=!1,E=null,A=null;n&&(v=s&&h.route.id?s[h.route.id]:void 0,E=h.route.errorElement||wQ,o&&(u<0&&g===0?(D6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):u===g&&(w=!0,A=h.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,g+1)),M=()=>{let R;return v?R=E:w?R=A:h.route.Component?R=T.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=f,T.createElement(EQ,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:R})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?T.createElement(SQ,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:M(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:c}):M()},null)}function nk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rk(t){let e=T.useContext(ul);return Ve(e,nk(t)),e}function Bu(t){let e=T.useContext(Uu);return Ve(e,nk(t)),e}function AQ(t){let e=T.useContext(da);return Ve(e,nk(t)),e}function hy(t){let e=AQ(t),n=e.matches[e.matches.length-1];return Ve(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function CQ(){return hy("useRouteId")}function M6(){return Bu("useNavigation").navigation}function _Q(){let t=rk("useRevalidator"),e=Bu("useRevalidator"),n=T.useCallback(async()=>{await t.router.revalidate()},[t.router]);return T.useMemo(()=>({revalidate:n,state:e.revalidation}),[n,e.revalidation])}function CA(){let{matches:t,loaderData:e}=Bu("useMatches");return T.useMemo(()=>t.map(n=>zH(n,e)),[t,e])}function _A(){let t=Bu("useLoaderData"),e=hy("useLoaderData");return t.loaderData[e]}function TQ(t){return Bu("useRouteLoaderData").loaderData[t]}function TA(){let t=Bu("useActionData"),e=hy("useLoaderData");return t.actionData?t.actionData[e]:void 0}function Nx(){var r;let t=T.useContext(ek),e=Bu("useRouteError"),n=hy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function P6(){let t=T.useContext(ey);return t==null?void 0:t._data}function NQ(){let t=T.useContext(ey);return t==null?void 0:t._error}var RQ=0;function k6(t){let{router:e,basename:n}=rk("useBlocker"),r=Bu("useBlocker"),[i,a]=T.useState(""),s=T.useCallback(o=>{if(typeof t!="function")return!!t;if(n==="/")return t(o);let{currentLocation:u,nextLocation:c,historyAction:f}=o;return t({currentLocation:{...u,pathname:gr(u.pathname,n)||u.pathname},nextLocation:{...c,pathname:gr(c.pathname,n)||c.pathname},historyAction:f})},[n,t]);return T.useEffect(()=>{let o=String(++RQ);return a(o),()=>e.deleteBlocker(o)},[e]),T.useEffect(()=>{i!==""&&e.getBlocker(i,s)},[e,i,s]),i&&r.blockers.has(i)?r.blockers.get(i):Tc}function MQ(){let{router:t}=rk("useNavigate"),e=hy("useNavigate"),n=T.useRef(!1);return C6(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{Qt(n.current,A6),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var J3={};function D6(t,e,n){!e&&!J3[t]&&(J3[t]=!0,Qt(!1,n))}function PQ(...t){var a;const e=hy("useRoute"),n=t[0]??e,r=Bu("useRoute"),i=r.matches.find(({route:s})=>s.id===n);if(i!==void 0)return{handle:i.route.handle,loaderData:r.loaderData[n],actionData:(a=r.actionData)==null?void 0:a[n]}}var Q3={};function g0(t,e){!t&&!Q3[e]&&(Q3[e]=!0,console.warn(e))}var kQ="useOptimistic",Z3=XP[kQ],DQ=()=>{};function IQ(t){return Z3?Z3(t):[t,DQ]}function ep(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Qt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:T.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Qt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Qt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var Rx=["HydrateFallback","hydrateFallbackElement"];function I6(t,e){return Cx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:jH({initialEntries:e==null?void 0:e.initialEntries,initialIndex:e==null?void 0:e.initialIndex}),hydrationData:e==null?void 0:e.hydrationData,routes:t,hydrationRouteProperties:Rx,mapRouteProperties:ep,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}var LQ=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function L6({router:t,flushSync:e,unstable_onError:n,unstable_useTransitions:r}){let[i,a]=T.useState(t.state),[s,o]=IQ(i),[u,c]=T.useState(),[f,h]=T.useState({isTransitioning:!1}),[g,v]=T.useState(),[w,E]=T.useState(),[A,_]=T.useState(),M=T.useRef(new Map),R=T.useCallback((P,{deletedFetchers:B,newErrors:z,flushSync:W,viewTransitionOpts:U})=>{z&&n&&Object.values(z).forEach(Z=>{var V;return n(Z,{location:P.location,params:((V=P.matches[0])==null?void 0:V.params)??{},unstable_pattern:wu(P.matches)})}),P.fetchers.forEach((Z,V)=>{Z.data!==void 0&&M.current.set(V,Z.data)}),B.forEach(Z=>M.current.delete(Z)),g0(W===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let q=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(g0(U==null||q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!U||!q){e&&W?e(()=>a(P)):r===!1?a(P):T.startTransition(()=>{r===!0&&o(Z=>e4(Z,P)),a(P)});return}if(e&&W){e(()=>{w&&(g==null||g.resolve(),w.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:U.currentLocation,nextLocation:U.nextLocation})});let Z=t.window.document.startViewTransition(()=>{e(()=>a(P))});Z.finished.finally(()=>{e(()=>{v(void 0),E(void 0),c(void 0),h({isTransitioning:!1})})}),e(()=>E(Z));return}w?(g==null||g.resolve(),w.skipTransition(),_({state:P,currentLocation:U.currentLocation,nextLocation:U.nextLocation})):(c(P),h({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}))},[t.window,e,w,g,r,o,n]);T.useLayoutEffect(()=>t.subscribe(R),[t,R]),T.useEffect(()=>{f.isTransitioning&&!f.flushSync&&v(new LQ)},[f]),T.useEffect(()=>{if(g&&u&&t.window){let P=u,B=g.promise,z=t.window.document.startViewTransition(async()=>{r===!1?a(P):T.startTransition(()=>{r===!0&&o(W=>e4(W,P)),a(P)}),await B});z.finished.finally(()=>{v(void 0),E(void 0),c(void 0),h({isTransitioning:!1})}),E(z)}},[u,g,t.window,r,o]),T.useEffect(()=>{g&&u&&s.location.key===u.location.key&&g.resolve()},[g,w,s.location,u]),T.useEffect(()=>{!f.isTransitioning&&A&&(c(A.state),h({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),_(void 0))},[f.isTransitioning,A]);let I=T.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:P=>t.navigate(P),push:(P,B,z)=>t.navigate(P,{state:B,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(P,B,z)=>t.navigate(P,{replace:!0,state:B,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[t]),D=t.basename||"/",k=T.useMemo(()=>({router:t,navigator:I,static:!1,basename:D,unstable_onError:n}),[t,I,D,n]);return T.createElement(T.Fragment,null,T.createElement(ul.Provider,{value:k},T.createElement(Uu.Provider,{value:s},T.createElement(Tx.Provider,{value:M.current},T.createElement(_x.Provider,{value:f},T.createElement(Fd,{basename:D,location:s.location,navigationType:s.historyAction,navigator:I,unstable_useTransitions:r===!0},T.createElement(OQ,{routes:t.routes,future:t.future,state:s,unstable_onError:n})))))),null)}function e4(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var OQ=T.memo(jQ);function jQ({routes:t,future:e,state:n,unstable_onError:r}){return tk(t,void 0,n,r,e)}function FQ({basename:t,children:e,initialEntries:n,initialIndex:r,unstable_useTransitions:i}){let a=T.useRef();a.current==null&&(a.current=jH({initialEntries:n,initialIndex:r,v5Compat:!0}));let s=a.current,[o,u]=T.useState({action:s.action,location:s.location}),c=T.useCallback(f=>{i===!1?u(f):T.startTransition(()=>u(f))},[i]);return T.useLayoutEffect(()=>s.listen(c),[s,c]),T.createElement(Fd,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:i===!0})}function UQ({to:t,replace:e,state:n,relative:r}){Ve(jd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Ui);Qt(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(da),{pathname:s}=fa(),o=EA(),u=xA(t,bA(a),s,r==="path"),c=JSON.stringify(u);return T.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function O6(t){return T6(t.context)}function j6(t){Ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fd({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Ve(!jd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=es(n));let{pathname:c="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,w=T.useMemo(()=>{let E=gr(c,o);return E==null?null:{location:{pathname:E,search:f,hash:h,state:g,key:v},navigationType:r}},[o,c,f,h,g,v,r]);return Qt(w!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(Ui.Provider,{value:u},T.createElement(Zh.Provider,{children:e,value:w}))}function BQ({children:t,location:e}){return N6(y0(t),e)}function zQ({children:t,errorElement:e,resolve:n}){let r=T.useContext(ul),i=T.useContext(Uu),a=T.useCallback((s,o)=>{var u;r&&r.unstable_onError&&i&&r.unstable_onError(s,{location:i.location,params:((u=i.matches[0])==null?void 0:u.params)||{},unstable_pattern:wu(i.matches),errorInfo:o})},[r,i]);return T.createElement(HQ,{resolve:n,errorElement:e,onError:a},T.createElement(GQ,null,t))}var HQ=class extends T.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("<Await> caught the following error during render",t,e)}render(){let{children:t,errorElement:e,resolve:n}=this.props,r=null,i=0;if(!(n instanceof Promise))i=1,r=Promise.resolve(),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_data",{get:()=>n});else if(this.state.error){i=2;let a=this.state.error;r=Promise.reject().catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),Object.defineProperty(r,"_error",{get:()=>a})}else n._tracked?(r=n,i="_error"in r?2:"_data"in r?1:0):(i=0,Object.defineProperty(n,"_tracked",{get:()=>!0}),r=n.then(a=>Object.defineProperty(n,"_data",{get:()=>a}),a=>{var s,o;(o=(s=this.props).onError)==null||o.call(s,a),Object.defineProperty(n,"_error",{get:()=>a})}));if(i===2&&!e)throw r._error;if(i===2)return T.createElement(ey.Provider,{value:r,children:e});if(i===1)return T.createElement(ey.Provider,{value:r,children:t});throw r}};function GQ({children:t}){let e=P6(),n=typeof t=="function"?t(e):t;return T.createElement(T.Fragment,null,n)}function y0(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,y0(r.props.children,a));return}Ve(r.type===j6,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ve(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=y0(r.props.children,a)),n.push(s)}),n}var $Q=y0;function qQ(t){return R6(t)}function F6(){return{params:AA(),loaderData:_A(),actionData:TA(),matches:CA()}}function VQ({children:t}){const e=F6();return T.cloneElement(t,e)}function U6(t){return function(){const n=F6();return T.createElement(t,n)}}function B6(){return{params:AA(),loaderData:_A(),actionData:TA()}}function WQ({children:t}){const e=B6();return T.cloneElement(t,e)}function z6(t){return function(){const n=B6();return T.createElement(t,n)}}function H6(){return{params:AA(),loaderData:_A(),actionData:TA(),error:Nx()}}function YQ({children:t}){const e=H6();return T.cloneElement(t,e)}function G6(t){return function(){const n=H6();return T.createElement(t,n)}}var QS="get",ZS="application/x-www-form-urlencoded";function NA(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function KQ(t){return NA(t)&&t.tagName.toLowerCase()==="button"}function XQ(t){return NA(t)&&t.tagName.toLowerCase()==="form"}function JQ(t){return NA(t)&&t.tagName.toLowerCase()==="input"}function QQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZQ(t,e){return t.button===0&&(!e||e==="_self")&&!QQ(t)}function $1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function eZ(t,e){let n=$1(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var SS=null;function tZ(){if(SS===null)try{new FormData(document.createElement("form"),0),SS=!1}catch{SS=!0}return SS}var nZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ZT(t){return t!=null&&!nZ.has(t)?(Qt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ZS}"`),null):t}function rZ(t,e){let n,r,i,a,s;if(XQ(t)){let o=t.getAttribute("action");r=o?gr(o,e):null,n=t.getAttribute("method")||QS,i=ZT(t.getAttribute("enctype"))||ZS,a=new FormData(t)}else if(KQ(t)||JQ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?gr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||QS,i=ZT(t.getAttribute("formenctype"))||ZT(o.getAttribute("enctype"))||ZS,a=new FormData(o,t),!tZ()){let{name:c,type:f,value:h}=t;if(f==="image"){let g=c?`${c}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else c&&a.append(c,h)}}else{if(NA(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=QS,r=null,i=ZS,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}var $6=-1,q6=-2,V6=-3,W6=-4,ik=-5,Y6=-6,K6=-7,X6="B",J6="D",ym="E",rR="M",Q6="N",vm="P",Z6="R",iR="S",e8="Y",t8="U",aR="Z",n8=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};function iZ(){const t=new TextDecoder;let e="";return new TransformStream({transform(n,r){const i=t.decode(n,{stream:!0}),a=(e+i).split(`
`);e=a.pop()||"";for(const s of a)r.enqueue(s)},flush(n){e&&n.enqueue(e)}})}function gs(t){const{indices:e}=this,n=e.get(t);if(n)return[n];if(t===void 0)return K6;if(t===null)return ik;if(Number.isNaN(t))return q6;if(t===Number.POSITIVE_INFINITY)return Y6;if(t===Number.NEGATIVE_INFINITY)return V6;if(t===0&&1/t<0)return W6;const r=this.index++;return e.set(t,r),aZ.call(this,t,r),r}function aZ(t,e){const{deferred:n,plugins:r,postPlugins:i}=this,a=this.stringified,s=[[t,e]];for(;s.length>0;){const[o,u]=s.pop(),c=h=>Object.keys(h).map(g=>`"_${gs.call(this,g)}":${gs.call(this,h[g])}`).join(",");let f=null;switch(typeof o){case"boolean":case"number":case"string":a[u]=JSON.stringify(o);break;case"bigint":a[u]=`["${X6}","${o}"]`;break;case"symbol":{const h=Symbol.keyFor(o);h?a[u]=`["${e8}",${JSON.stringify(h)}]`:f=new Error("Cannot encode symbol unless created with Symbol.for()");break}case"object":{if(!o){a[u]=`${ik}`;break}const h=Array.isArray(o);let g=!1;if(!h&&r)for(const v of r){const w=v(o);if(Array.isArray(w)){g=!0;const[E,...A]=w;a[u]=`[${JSON.stringify(E)}`,A.length>0&&(a[u]+=`,${A.map(_=>gs.call(this,_)).join(",")}`),a[u]+="]";break}}if(!g){let v=h?"[":"{";if(h){for(let w=0;w<o.length;w++)v+=(w?",":"")+(w in o?gs.call(this,o[w]):$6);a[u]=`${v}]`}else if(o instanceof Date){const w=o.getTime();a[u]=`["${J6}",${Number.isNaN(w)?JSON.stringify("invalid"):w}]`}else o instanceof URL?a[u]=`["${t8}",${JSON.stringify(o.href)}]`:o instanceof RegExp?a[u]=`["${Z6}",${JSON.stringify(o.source)},${JSON.stringify(o.flags)}]`:o instanceof Set?o.size>0?a[u]=`["${iR}",${[...o].map(w=>gs.call(this,w)).join(",")}]`:a[u]=`["${iR}"]`:o instanceof Map?o.size>0?a[u]=`["${rR}",${[...o].flatMap(([w,E])=>[gs.call(this,w),gs.call(this,E)]).join(",")}]`:a[u]=`["${rR}"]`:o instanceof Promise?(a[u]=`["${vm}",${u}]`,n[u]=o):o instanceof Error?(a[u]=`["${ym}",${JSON.stringify(o.message)}`,o.name!=="Error"&&(a[u]+=`,${JSON.stringify(o.name)}`),a[u]+="]"):Object.getPrototypeOf(o)===null?a[u]=`["${Q6}",{${c(o)}}]`:oZ(o)?a[u]=`{${c(o)}}`:f=new Error("Cannot encode object with prototype")}break}default:{const h=Array.isArray(o);let g=!1;if(!h&&r)for(const v of r){const w=v(o);if(Array.isArray(w)){g=!0;const[E,...A]=w;a[u]=`[${JSON.stringify(E)}`,A.length>0&&(a[u]+=`,${A.map(_=>gs.call(this,_)).join(",")}`),a[u]+="]";break}}g||(f=new Error("Cannot encode function or unexpected type"))}}if(f){let h=!1;if(i)for(const g of i){const v=g(o);if(Array.isArray(v)){h=!0;const[w,...E]=v;a[u]=`[${JSON.stringify(w)}`,E.length>0&&(a[u]+=`,${E.map(A=>gs.call(this,A)).join(",")}`),a[u]+="]";break}}if(!h)throw f}}}var sZ=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oZ(t){const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===sZ}var eN=typeof window<"u"?window:typeof globalThis<"u"?globalThis:void 0;function sR(t){const{hydrated:e,values:n}=this;if(typeof t=="number")return t4.call(this,t);if(!Array.isArray(t)||!t.length)throw new SyntaxError;const r=n.length;for(const i of t)n.push(i);return e.length=n.length,t4.call(this,r)}function t4(t){const{hydrated:e,values:n,deferred:r,plugins:i}=this;let a;const s=[[t,u=>{a=u}]];let o=[];for(;s.length>0;){const[u,c]=s.pop();switch(u){case K6:c(void 0);continue;case ik:c(null);continue;case q6:c(NaN);continue;case Y6:c(1/0);continue;case V6:c(-1/0);continue;case W6:c(-0);continue}if(e[u]){c(e[u]);continue}const f=n[u];if(!f||typeof f!="object"){e[u]=f,c(f);continue}if(Array.isArray(f))if(typeof f[0]=="string"){const[h,g,v]=f;switch(h){case J6:c(e[u]=new Date(g));continue;case t8:c(e[u]=new URL(g));continue;case X6:c(e[u]=BigInt(g));continue;case Z6:c(e[u]=new RegExp(g,v));continue;case e8:c(e[u]=Symbol.for(g));continue;case iR:const w=new Set;e[u]=w;for(let I=f.length-1;I>0;I--)s.push([f[I],D=>{w.add(D)}]);c(w);continue;case rR:const E=new Map;e[u]=E;for(let I=f.length-2;I>0;I-=2){const D=[];s.push([f[I+1],k=>{D[1]=k}]),s.push([f[I],k=>{D[0]=k}]),o.push(()=>{E.set(D[0],D[1])})}c(E);continue;case Q6:const A=Object.create(null);e[u]=A;for(const I of Object.keys(g).reverse()){const D=[];s.push([g[I],k=>{D[1]=k}]),s.push([Number(I.slice(1)),k=>{D[0]=k}]),o.push(()=>{A[D[0]]=D[1]})}c(A);continue;case vm:if(e[g])c(e[u]=e[g]);else{const I=new n8;r[g]=I,c(e[u]=I.promise)}continue;case ym:const[,_,M]=f;let R=M&&eN&&eN[M]?new eN[M](_):new Error(_);e[u]=R,c(R);continue;case aR:c(e[u]=e[g]);continue;default:if(Array.isArray(i)){const I=[],D=f.slice(1);for(let k=0;k<D.length;k++){const P=D[k];s.push([P,B=>{I[k]=B}])}o.push(()=>{for(const k of i){const P=k(f[0],...I);if(P){c(e[u]=P.value);return}}throw new SyntaxError});continue}throw new SyntaxError}}else{const h=[];e[u]=h;for(let g=0;g<f.length;g++){const v=f[g];v!==$6&&s.push([v,w=>{h[g]=w}])}c(h);continue}else{const h={};e[u]=h;for(const g of Object.keys(f).reverse()){const v=[];s.push([f[g],w=>{v[1]=w}]),s.push([Number(g.slice(1)),w=>{v[0]=w}]),o.push(()=>{h[v[0]]=v[1]})}c(h);continue}}for(;o.length>0;)o.pop()();return a}async function lZ(t,e){const{plugins:n}=e??{},r=new n8,i=t.pipeThrough(iZ()).getReader(),a={values:[],hydrated:[],deferred:{},plugins:n},s=await uZ.call(a,i);let o=r.promise;return s.done?r.resolve():o=cZ.call(a,i).then(r.resolve).catch(u=>{for(const c of Object.values(a.deferred))c.reject(u);r.reject(u)}),{done:o.then(()=>i.closed),value:s.value}}async function uZ(t){const e=await t.read();if(!e.value)throw new SyntaxError;let n;try{n=JSON.parse(e.value)}catch{throw new SyntaxError}return{done:e.done,value:sR.call(this,n)}}async function cZ(t){let e=await t.read();for(;!e.done;){if(!e.value)continue;const n=e.value;switch(n[0]){case vm:{const r=n.indexOf(":"),i=Number(n.slice(1,r)),a=this.deferred[i];if(!a)throw new Error(`Deferred ID ${i} not found in stream`);const s=n.slice(r+1);let o;try{o=JSON.parse(s)}catch{throw new SyntaxError}const u=sR.call(this,o);a.resolve(u);break}case ym:{const r=n.indexOf(":"),i=Number(n.slice(1,r)),a=this.deferred[i];if(!a)throw new Error(`Deferred ID ${i} not found in stream`);const s=n.slice(r+1);let o;try{o=JSON.parse(s)}catch{throw new SyntaxError}const u=sR.call(this,o);a.reject(u);break}default:throw new SyntaxError}e=await t.read()}}function dZ(t,e){const{plugins:n,postPlugins:r,signal:i}=e??{},a={deferred:{},index:0,indices:new Map,stringified:[],plugins:n,postPlugins:r,signal:i},s=new TextEncoder;let o=0;return new ReadableStream({async start(c){const f=gs.call(a,t);if(Array.isArray(f))throw new Error("This should never happen");f<0?c.enqueue(s.encode(`${f}
`)):(c.enqueue(s.encode(`[${a.stringified.join(",")}]
`)),o=a.stringified.length-1);const h=new WeakSet;if(Object.keys(a.deferred).length){let g;const v=new Promise((w,E)=>{if(g=w,i){const A=()=>E(i.reason||new Error("Signal was aborted."));i.aborted?A():i.addEventListener("abort",_=>{A()})}});for(;Object.keys(a.deferred).length>0;){for(const[w,E]of Object.entries(a.deferred))h.has(E)||h.add(a.deferred[Number(w)]=Promise.race([v,E]).then(A=>{const _=gs.call(a,A);if(Array.isArray(_))c.enqueue(s.encode(`${vm}${w}:[["${aR}",${_[0]}]]
`)),a.index++,o++;else if(_<0)c.enqueue(s.encode(`${vm}${w}:${_}
`));else{const M=a.stringified.slice(o+1).join(",");c.enqueue(s.encode(`${vm}${w}:[${M}]
`)),o=a.stringified.length-1}},A=>{(!A||typeof A!="object"||!(A instanceof Error))&&(A=new Error("An unknown error occurred"));const _=gs.call(a,A);if(Array.isArray(_))c.enqueue(s.encode(`${ym}${w}:[["${aR}",${_[0]}]]
`)),a.index++,o++;else if(_<0)c.enqueue(s.encode(`${ym}${w}:${_}
`));else{const M=a.stringified.slice(o+1).join(",");c.enqueue(s.encode(`${ym}${w}:[${M}]
`)),o=a.stringified.length-1}}).finally(()=>{delete a.deferred[Number(w)]}));await Promise.race(Object.values(a.deferred))}g()}await Promise.all(Object.values(a.deferred)),c.close()}})}async function fZ(t){let e={signal:t.signal};if(t.method!=="GET"){e.method=t.method;let n=t.headers.get("Content-Type");n&&/\bapplication\/json\b/.test(n)?(e.headers={"Content-Type":n},e.body=JSON.stringify(await t.json())):n&&/\btext\/plain\b/.test(n)?(e.headers={"Content-Type":n},e.body=await t.text()):n&&/\bapplication\/x-www-form-urlencoded\b/.test(n)?e.body=new URLSearchParams(await t.text()):e.body=await t.formData()}return e}var hZ={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},pZ=/[&><\u2028\u2029]/g;function ak(t){return t.replace(pZ,e=>hZ[e])}function bi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}var Tu=Symbol("SingleFetchRedirect"),r8=class extends Error{},sk=202,i8=new Set([100,101,204,205]);function a8({context:t,identifier:e,reader:n,textDecoder:r,nonce:i}){if(!t.renderMeta||!t.renderMeta.didRenderScripts)return null;t.renderMeta.streamCache||(t.renderMeta.streamCache={});let{streamCache:a}=t.renderMeta,s=a[e];if(s||(s=a[e]=n.read().then(f=>{a[e].result={done:f.done,value:r.decode(f.value,{stream:!0})}}).catch(f=>{a[e].error=f})),s.error)throw s.error;if(s.result===void 0)throw s;let{done:o,value:u}=s.result,c=u?T.createElement("script",{nonce:i,dangerouslySetInnerHTML:{__html:`window.__reactRouterContext.streamController.enqueue(${ak(JSON.stringify(u))});`}}):null;return o?T.createElement(T.Fragment,null,c,T.createElement("script",{nonce:i,dangerouslySetInnerHTML:{__html:"window.__reactRouterContext.streamController.close();"}})):T.createElement(T.Fragment,null,c,T.createElement(T.Suspense,null,T.createElement(a8,{context:t,identifier:e+1,reader:n,textDecoder:r,nonce:i})))}function s8(t,e,n,r,i){let a=mZ(t,s=>{let o=e.routes[s.route.id];bi(o,"Route not found in manifest");let u=n[s.route.id];return{hasLoader:o.hasLoader,hasClientLoader:o.hasClientLoader,hasShouldRevalidate:!!(u!=null&&u.shouldRevalidate)}},SZ,r,i);return async s=>s.runClientMiddleware(a)}function mZ(t,e,n,r,i,a=()=>!0){return async s=>{let{request:o,matches:u,fetcherKey:c}=s,f=t();if(o.method!=="GET")return gZ(s,n,i);let h=u.some(g=>{let{hasLoader:v,hasClientLoader:w}=e(g);return g.shouldCallHandler()&&v&&!w});return!r&&!h?yZ(s,e,n,i):c?xZ(s,n,i):vZ(s,f,e,n,r,i,a)}}async function gZ(t,e,n){let r=t.matches.find(s=>s.shouldCallHandler());bi(r,"No action match found");let i,a=await r.resolve(async s=>await s(async()=>{let{data:u,status:c}=await e(t,n,[r.route.id]);return i=c,v0(u,r.route.id)}));return Tn(a.result)||Yn(a.result)||_d(a.result)?{[r.route.id]:a}:{[r.route.id]:{type:a.type,result:YH(a.result,i)}}}async function yZ(t,e,n,r){let i=t.matches.filter(s=>s.shouldCallHandler()),a={};return await Promise.all(i.map(s=>s.resolve(async o=>{try{let{hasClientLoader:u}=e(s),c=s.route.id,f=u?await o(async()=>{let{data:h}=await n(t,r,[c]);return v0(h,c)}):await o();a[s.route.id]={type:"data",result:f}}catch(u){a[s.route.id]={type:"error",result:u}}}))),a}async function vZ(t,e,n,r,i,a,s=()=>!0){let o=new Set,u=!1,c=t.matches.map(()=>n4()),f=n4(),h={},g=Promise.all(t.matches.map(async(w,E)=>w.resolve(async A=>{c[E].resolve();let _=w.route.id,{hasLoader:M,hasClientLoader:R,hasShouldRevalidate:I}=n(w),D=!w.shouldRevalidateArgs||w.shouldRevalidateArgs.actionStatus==null||w.shouldRevalidateArgs.actionStatus<400;if(!w.shouldCallHandler(D)){u||(u=w.shouldRevalidateArgs!=null&&M&&I===!0);return}if(s(w)&&R){M&&(u=!0);try{let P=await A(async()=>{let{data:B}=await r(t,a,[_]);return v0(B,_)});h[_]={type:"data",result:P}}catch(P){h[_]={type:"error",result:P}}return}M&&o.add(_);try{let P=await A(async()=>{let B=await f.promise;return v0(B,_)});h[_]={type:"data",result:P}}catch(P){h[_]={type:"error",result:P}}})));if(await Promise.all(c.map(w=>w.promise)),(!e.state.initialized&&e.state.navigation.state==="idle"||o.size===0)&&!window.__reactRouterHdrActive)f.resolve({routes:{}});else{let w=i&&u&&o.size>0?[...o.keys()]:void 0;try{let E=await r(t,a,w);f.resolve(E.data)}catch(E){f.reject(E)}}return await g,await bZ(f.promise,t.matches,o,h),h}async function bZ(t,e,n,r){var i;try{let a,s=await t;if("routes"in s){for(let o of e)if(o.route.id in s.routes){let u=s.routes[o.route.id];if("error"in u){a=u.error,((i=r[o.route.id])==null?void 0:i.result)==null&&(r[o.route.id]={type:"error",result:a});break}}}a!==void 0&&Array.from(n.values()).forEach(o=>{r[o].result instanceof r8&&(r[o].result=a)})}catch{}}async function xZ(t,e,n){let r=t.matches.find(s=>s.shouldCallHandler());bi(r,"No fetcher match found");let i=r.route.id,a=await r.resolve(async s=>s(async()=>{let{data:o}=await e(t,n,[i]);return v0(o,i)}));return{[r.route.id]:a}}function wZ(t){let e=t.searchParams.getAll("index");t.searchParams.delete("index");let n=[];for(let r of e)r&&n.push(r);for(let r of n)t.searchParams.append("index",r);return t}function o8(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&gr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function SZ(t,e,n){let{request:r}=t,i=o8(r.url,e,"data");r.method==="GET"&&(i=wZ(i),n&&i.searchParams.set("_routes",n.join(",")));let a=await fetch(i,await fZ(r));if(a.status>=400&&!a.headers.has("X-Remix-Response"))throw new ji(a.status,a.statusText,await a.text());if(a.status===204&&a.headers.has("X-Remix-Redirect"))return{status:sk,data:{redirect:{redirect:a.headers.get("X-Remix-Redirect"),status:Number(a.headers.get("X-Remix-Status")||"302"),revalidate:a.headers.get("X-Remix-Revalidate")==="true",reload:a.headers.get("X-Remix-Reload-Document")==="true",replace:a.headers.get("X-Remix-Replace")==="true"}}};if(i8.has(a.status)){let s={};return n&&r.method!=="GET"&&(s[n[0]]={data:void 0}),{status:a.status,data:{routes:s}}}bi(a.body,"No response body to decode");try{let s=await RA(a.body,window),o;if(r.method==="GET"){let u=s.value;Tu in u?o={redirect:u[Tu]}:o={routes:u}}else{let u=s.value,c=n==null?void 0:n[0];bi(c,"No routeId found for single fetch call decoding"),"redirect"in u?o={redirect:u}:o={routes:{[c]:u}}}return{status:a.status,data:o}}catch{throw new Error("Unable to decode turbo-stream response")}}function RA(t,e){return lZ(t,{plugins:[(n,...r)=>{if(n==="SanitizedError"){let[i,a,s]=r,o=Error;i&&i in e&&typeof e[i]=="function"&&(o=e[i]);let u=new o(a);return u.stack=s,{value:u}}if(n==="ErrorResponse"){let[i,a,s]=r;return{value:new ji(a,s,i)}}if(n==="SingleFetchRedirect")return{value:{[Tu]:r[0]}};if(n==="SingleFetchClassInstance")return{value:r[0]};if(n==="SingleFetchFallback")return{value:void 0}}]})}function v0(t,e){if("redirect"in t){let{redirect:r,revalidate:i,reload:a,replace:s,status:o}=t.redirect;throw Ax(r,{status:o,headers:{...i?{"X-Remix-Revalidate":"yes"}:null,...a?{"X-Remix-Reload-Document":"yes"}:null,...s?{"X-Remix-Replace":"yes"}:null}})}let n=t.routes[e];if(n==null)throw new r8(`No result found for routeId "${e}"`);if("error"in n)throw n.error;if("data"in n)return n.data;throw new Error(`Invalid response found for routeId "${e}"`)}function n4(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}async function l8(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EZ(t,e,n){let r=t.map(a=>{var u;let s=e[a.route.id],o=n.routes[a.route.id];return[o&&o.css?o.css.map(c=>({rel:"stylesheet",href:c})):[],((u=s==null?void 0:s.links)==null?void 0:u.call(s))||[]]}).flat(2),i=lk(t,n);return f8(r,i)}function u8(t){return t.css?t.css.map(e=>({rel:"stylesheet",href:e})):[]}async function AZ(t){if(!t.css)return;let e=u8(t);await Promise.all(e.map(d8))}async function c8(t,e){if(!t.css&&!e.links||!RZ())return;let n=[];if(t.css&&n.push(...u8(t)),e.links&&n.push(...e.links()),n.length===0)return;let r=[];for(let i of n)!ok(i)&&i.rel==="stylesheet"&&r.push({...i,rel:"preload",as:"style"});await Promise.all(r.map(d8))}async function d8(t){return new Promise(e=>{if(t.media&&!window.matchMedia(t.media).matches||document.querySelector(`link[rel="stylesheet"][href="${t.href}"]`))return e();let n=document.createElement("link");Object.assign(n,t);function r(){document.head.contains(n)&&document.head.removeChild(n)}n.onload=()=>{r(),e()},n.onerror=()=>{r(),e()},document.head.appendChild(n)})}function ok(t){return t!=null&&typeof t.page=="string"}function CZ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _Z(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await l8(a,n);return s.links?s.links():[]}return[]}));return f8(r.flat(1).filter(CZ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function r4(t,e,n,r,i,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>s(u,c)||o(u,c)):a==="data"?e.filter((u,c)=>{var h;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function lk(t,e,{includeHydrateFallback:n}={}){return TZ(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function TZ(t){return[...new Set(t)]}function NZ(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function f8(t,e){let n=new Set,r=new Set(e);return t.reduce((i,a)=>{if(e&&!ok(a)&&a.as==="script"&&a.href&&r.has(a.href))return i;let o=JSON.stringify(NZ(a));return n.has(o)||(n.add(o),i.push({key:o,link:a})),i},[])}var ES;function RZ(){if(ES!==void 0)return ES;let t=document.createElement("link");return ES=t.relList.supports("preload"),t=null,ES}function MZ(){return T.createElement(oR,{title:"Loading...",renderScripts:!0},T.createElement("script",{dangerouslySetInnerHTML:{__html:`
              console.log(
                " Hey developer . You can provide a way better UX than this " +
                "when your app is loading JS modules and/or running \`clientLoader\` " +
                "functions. Check out https://reactrouter.com/start/framework/route-module#hydratefallback " +
                "for more information."
              );
            `}}))}function uk(t){let e={};return Object.values(t).forEach(n=>{if(n){let r=n.parentId||"";e[r]||(e[r]=[]),e[r].push(n)}}),e}function h8(t,e,n){let r=g8(e),i=e.HydrateFallback&&(!n||t.id==="root")?e.HydrateFallback:t.id==="root"?MZ:void 0,a=e.ErrorBoundary?e.ErrorBoundary:t.id==="root"?()=>T.createElement(S8,{error:Nx()}):void 0;return t.id==="root"&&e.Layout?{...r?{element:T.createElement(e.Layout,null,T.createElement(r,null))}:{Component:r},...a?{errorElement:T.createElement(e.Layout,null,T.createElement(a,null))}:{ErrorBoundary:a},...i?{hydrateFallbackElement:T.createElement(e.Layout,null,T.createElement(i,null))}:{HydrateFallback:i}}:{Component:r,ErrorBoundary:a,HydrateFallback:i}}function p8(t,e,n,r,i="",a=uk(t),s=Promise.resolve({Component:()=>null})){return(a[i]||[]).map(o=>{let u=e[o.id];bi(u,"No `routeModule` available to create server routes");let c={...h8(o,u,r),caseSensitive:o.caseSensitive,id:o.id,index:o.index,path:o.path,handle:u.handle,lazy:r?()=>s:void 0,loader:o.hasLoader||o.hasClientLoader?()=>null:void 0},f=p8(t,e,n,r,o.id,a,s);return f.length>0&&(c.children=f),c})}function m8(t,e,n,r,i,a){return Mx(e,n,r,i,a,"",uk(e),t)}function AS(t,e){if(t==="loader"&&!e.hasLoader||t==="action"&&!e.hasAction){let r=`You are trying to call ${t==="action"?"serverAction()":"serverLoader()"} on a route that does not have a server ${t} (routeId: "${e.id}")`;throw console.error(r),new ji(400,"Bad Request",new Error(r),!0)}}function tN(t,e){let n=t==="clientAction"?"a":"an",r=`Route "${e}" does not have ${n} ${t}, but you are trying to submit to it. To fix this, please add ${n} \`${t}\` function to the route`;throw console.error(r),new ji(405,"Method Not Allowed",new Error(r),!0)}function Mx(t,e,n,r,i,a="",s=uk(t),o){return(s[a]||[]).map(u=>{var M,R,I;let c=e[u.id];function f(D){return bi(typeof D=="function","No single fetch function available for route handler"),D()}function h(D){return u.hasLoader?f(D):Promise.resolve(null)}function g(D){if(!u.hasAction)throw tN("action",u.id);return f(D)}function v(D){import(D)}function w(D){D.clientActionModule&&v(D.clientActionModule),D.clientLoaderModule&&v(D.clientLoaderModule)}async function E(D){let k=e[u.id],P=k?c8(u,k):Promise.resolve();try{return D()}finally{await P}}let A={id:u.id,index:u.index,path:u.path};if(c){Object.assign(A,{...A,...h8(u,c,i),middleware:c.clientMiddleware,handle:c.handle,shouldRevalidate:i4(A.path,c,u,r,o)});let D=n&&n.loaderData&&u.id in n.loaderData,k=D?(M=n==null?void 0:n.loaderData)==null?void 0:M[u.id]:void 0,P=n&&n.errors&&u.id in n.errors,B=P?(R=n==null?void 0:n.errors)==null?void 0:R[u.id]:void 0,z=o==null&&(((I=c.clientLoader)==null?void 0:I.hydrate)===!0||!u.hasLoader);A.loader=async({request:W,params:U,context:q,unstable_pattern:Z},V)=>{try{return await E(async()=>(bi(c,"No `routeModule` available for critical-route loader"),c.clientLoader?c.clientLoader({request:W,params:U,context:q,unstable_pattern:Z,async serverLoader(){if(AS("loader",u),z){if(D)return k;if(P)throw B}return h(V)}}):h(V)))}finally{z=!1}},A.loader.hydrate=Px(u.id,c.clientLoader,u.hasLoader,i),A.action=({request:W,params:U,context:q,unstable_pattern:Z},V)=>E(async()=>{if(bi(c,"No `routeModule` available for critical-route action"),!c.clientAction){if(i)throw tN("clientAction",u.id);return g(V)}return c.clientAction({request:W,params:U,context:q,unstable_pattern:Z,async serverAction(){return AS("action",u),g(V)}})})}else{u.hasClientLoader||(A.loader=(P,B)=>E(()=>h(B))),u.hasClientAction||(A.action=(P,B)=>E(()=>{if(i)throw tN("clientAction",u.id);return g(B)}));let D;async function k(){return D?await D:(D=(async()=>{(u.clientLoaderModule||u.clientActionModule)&&await new Promise(B=>setTimeout(B,0));let P=kZ(u,e);return w(u),await P})(),await D)}A.lazy={loader:u.hasClientLoader?async()=>{let{clientLoader:P}=u.clientLoaderModule?await import(u.clientLoaderModule):await k();return bi(P,"No `clientLoader` export found"),(B,z)=>P({...B,async serverLoader(){return AS("loader",u),h(z)}})}:void 0,action:u.hasClientAction?async()=>{let P=u.clientActionModule?import(u.clientActionModule):k();w(u);let{clientAction:B}=await P;return bi(B,"No `clientAction` export found"),(z,W)=>B({...z,async serverAction(){return AS("action",u),g(W)}})}:void 0,middleware:u.hasClientMiddleware?async()=>{let{clientMiddleware:P}=u.clientMiddlewareModule?await import(u.clientMiddlewareModule):await k();return bi(P,"No `clientMiddleware` export found"),P}:void 0,shouldRevalidate:async()=>{let P=await k();return i4(A.path,P,u,r,o)},handle:async()=>(await k()).handle,Component:async()=>(await k()).Component,ErrorBoundary:u.hasErrorBoundary?async()=>(await k()).ErrorBoundary:void 0}}let _=Mx(t,e,n,r,i,u.id,s,o);return _.length>0&&(A.children=_),A})}function i4(t,e,n,r,i){if(i)return PZ(n.id,e.shouldRevalidate,i);if(!r&&n.hasLoader&&!n.hasClientLoader){let a=t?$H(t)[1].map(o=>o.paramName):[];const s=o=>a.some(u=>o.currentParams[u]!==o.nextParams[u]);if(e.shouldRevalidate){let o=e.shouldRevalidate;return u=>o({...u,defaultShouldRevalidate:s(u)})}else return o=>s(o)}return e.shouldRevalidate}function PZ(t,e,n){let r=!1;return i=>r?e?e(i):i.defaultShouldRevalidate:(r=!0,n.has(t))}async function kZ(t,e){let n=l8(t,e),r=AZ(t),i=await n;return await Promise.all([r,c8(t,i)]),{Component:g8(i),ErrorBoundary:i.ErrorBoundary,clientMiddleware:i.clientMiddleware,clientAction:i.clientAction,clientLoader:i.clientLoader,handle:i.handle,links:i.links,meta:i.meta,shouldRevalidate:i.shouldRevalidate}}function g8(t){if(t.default==null)return;if(!(typeof t.default=="object"&&Object.keys(t.default).length===0))return t.default}function Px(t,e,n,r){return r&&t!=="root"||e!=null&&(e.hydrate===!0||n!==!0)}var e1=new Set,DZ=1e3,q1=new Set,IZ=7680;function ck(t,e){return t.mode==="lazy"&&e===!0}function LZ({sri:t,...e},n){let r=new Set(n.state.matches.map(o=>o.route.id)),i=n.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push(`/${i.join("/")}`),i.pop();a.forEach(o=>{let u=ua(n.routes,o,n.basename);u&&u.forEach(c=>r.add(c.route.id))});let s=[...r].reduce((o,u)=>Object.assign(o,{[u]:e.routes[u]}),{});return{...e,routes:s,sri:t?!0:void 0}}function y8(t,e,n,r,i,a){if(ck(r,n))return async({path:s,patch:o,signal:u,fetcherKey:c})=>{q1.has(s)||await x8([s],c?window.location.href:s,t,e,n,i,a,r.manifestPath,o,u)}}function v8(t,e,n,r,i,a){T.useEffect(()=>{var f,h;if(!ck(i,r)||((h=(f=window.navigator)==null?void 0:f.connection)==null?void 0:h.saveData)===!0)return;function s(g){let v=g.tagName==="FORM"?g.getAttribute("action"):g.getAttribute("href");if(!v)return;let w=g.tagName==="A"?g.pathname:new URL(v,window.location.origin).pathname;q1.has(w)||e1.add(w)}async function o(){document.querySelectorAll("a[data-discover], form[data-discover]").forEach(s);let g=Array.from(e1.keys()).filter(v=>q1.has(v)?(e1.delete(v),!1):!0);if(g.length!==0)try{await x8(g,null,e,n,r,a,t.basename,i.manifestPath,t.patchRoutes)}catch(v){console.error("Failed to fetch manifest patches",v)}}let u=jZ(o,100);o();let c=new MutationObserver(()=>u());return c.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-discover","href","action"]}),()=>c.disconnect()},[r,a,e,n,t,i])}function b8(t,e){let n=t||"/__manifest";return e==null?n:`${e}${n}`.replace(/\/+/g,"/")}var nN="react-router-manifest-version";async function x8(t,e,n,r,i,a,s,o,u,c){const f=new URLSearchParams;f.set("paths",t.sort().join(",")),f.set("version",n.version);let h=new URL(b8(o,s),window.location.origin);if(h.search=f.toString(),h.toString().length>IZ){e1.clear();return}let g;try{let A=await fetch(h,{signal:c});if(A.ok){if(A.status===204&&A.headers.has("X-Remix-Reload-Document")){if(!e){console.warn("Detected a manifest version mismatch during eager route discovery. The next navigation/fetch to an undiscovered route will result in a new document navigation to sync up with the latest manifest.");return}try{if(sessionStorage.getItem(nN)===n.version){console.error("Unable to discover routes due to manifest version mismatch.");return}sessionStorage.setItem(nN,n.version)}catch{}window.location.href=e,console.warn("Detected manifest version mismatch, reloading..."),await new Promise(()=>{})}else if(A.status>=400)throw new Error(await A.text())}else throw new Error(`${A.status} ${A.statusText}`);try{sessionStorage.removeItem(nN)}catch{}g=await A.json()}catch(A){if(c!=null&&c.aborted)return;throw A}let v=new Set(Object.keys(n.routes)),w=Object.values(g).reduce((A,_)=>(_&&!v.has(_.id)&&(A[_.id]=_),A),{});Object.assign(n.routes,w),t.forEach(A=>OZ(A,q1));let E=new Set;Object.values(w).forEach(A=>{A&&(!A.parentId||!w[A.parentId])&&E.add(A.parentId)}),E.forEach(A=>u(A||null,Mx(w,r,null,i,a,A)))}function OZ(t,e){if(e.size>=DZ){let n=e.values().next().value;e.delete(n)}e.add(t)}function jZ(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function dk(){let t=T.useContext(ul);return bi(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MA(){let t=T.useContext(Uu);return bi(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zu=T.createContext(void 0);zu.displayName="FrameworkContext";function py(){let t=T.useContext(zu);return bi(t,"You must render this element inside a <HydratedRouter> element"),t}function FZ(t,e){let n=T.useContext(zu),[r,i]=T.useState(!1),[a,s]=T.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:h}=e,g=T.useRef(null);T.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=_=>{_.forEach(M=>{s(M.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return g.current&&A.observe(g.current),()=>{A.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:wv(o,v),onBlur:wv(u,w),onMouseEnter:wv(c,v),onMouseLeave:wv(f,w),onTouchStart:wv(h,v)}]:[!1,g,{}]}function wv(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fk(t,e,n){if(n&&!V1)return[t[0]];if(e){let r=t.findIndex(i=>e[i.route.id]!==void 0);return t.slice(0,r+1)}return t}var a4="data-react-router-critical-css";function UZ({nonce:t}){let{isSpaMode:e,manifest:n,routeModules:r,criticalCss:i}=py(),{errors:a,matches:s}=MA(),o=fk(s,a,e),u=T.useMemo(()=>EZ(o,r,n),[o,r,n]);return T.createElement(T.Fragment,null,typeof i=="string"?T.createElement("style",{[a4]:"",dangerouslySetInnerHTML:{__html:i}}):null,typeof i=="object"?T.createElement("link",{[a4]:"",rel:"stylesheet",href:i.href,nonce:t}):null,u.map(({key:c,link:f})=>ok(f)?T.createElement(hk,{key:c,nonce:t,...f}):T.createElement("link",{key:c,nonce:t,...f})))}function hk({page:t,...e}){let{router:n}=dk(),r=T.useMemo(()=>ua(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(zZ,{page:t,matches:r,...e}):null}function BZ(t){let{manifest:e,routeModules:n}=py(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return _Z(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function zZ({page:t,matches:e,...n}){let r=fa(),{manifest:i,routeModules:a}=py(),{basename:s}=dk(),{loaderData:o,matches:u}=MA(),c=T.useMemo(()=>r4(t,e,u,i,r,"data"),[t,e,u,i,r]),f=T.useMemo(()=>r4(t,e,u,i,r,"assets"),[t,e,u,i,r]),h=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(_=>{var R;let M=i.routes[_.route.id];!M||!M.hasLoader||(!c.some(I=>I.route.id===_.route.id)&&_.route.id in o&&((R=a[_.route.id])!=null&&R.shouldRevalidate)||M.hasClientLoader?E=!0:w.add(_.route.id))}),w.size===0)return[];let A=o8(t,s,"data");return E&&w.size>0&&A.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[A.pathname+A.search]},[s,o,r,i,c,e,t,a]),g=T.useMemo(()=>lk(f,i),[f,i]),v=BZ(f);return T.createElement(T.Fragment,null,h.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:E})=>T.createElement("link",{key:w,nonce:n.nonce,...E})))}function HZ(){let{isSpaMode:t,routeModules:e}=py(),{errors:n,matches:r,loaderData:i}=MA(),a=fa(),s=fk(r,n,t),o=null;n&&(o=n[s[s.length-1].route.id]);let u=[],c=null,f=[];for(let h=0;h<s.length;h++){let g=s[h],v=g.route.id,w=i[v],E=g.params,A=e[v],_=[],M={id:v,data:w,loaderData:w,meta:[],params:g.params,pathname:g.pathname,handle:g.route.handle,error:o};if(f[h]=M,A!=null&&A.meta?_=typeof A.meta=="function"?A.meta({data:w,loaderData:w,params:E,location:a,matches:f,error:o}):Array.isArray(A.meta)?[...A.meta]:A.meta:c&&(_=[...c]),_=_||[],!Array.isArray(_))throw new Error("The route at "+g.route.path+` returns an invalid value. All route meta functions must return an array of meta objects.

To reference the meta function API, see https://remix.run/route/meta`);M.meta=_,f[h]=M,u=[..._],c=u}return T.createElement(T.Fragment,null,u.flat().map(h=>{if(!h)return null;if("tagName"in h){let{tagName:g,...v}=h;if(!GZ(g))return console.warn(`A meta object uses an invalid tagName: ${g}. Expected either 'link' or 'meta'`),null;let w=g;return T.createElement(w,{key:JSON.stringify(v),...v})}if("title"in h)return T.createElement("title",{key:"title"},String(h.title));if("charset"in h&&(h.charSet??(h.charSet=h.charset),delete h.charset),"charSet"in h&&h.charSet!=null)return typeof h.charSet=="string"?T.createElement("meta",{key:"charSet",charSet:h.charSet}):null;if("script:ld+json"in h)try{let g=JSON.stringify(h["script:ld+json"]);return T.createElement("script",{key:`script:ld+json:${g}`,type:"application/ld+json",dangerouslySetInnerHTML:{__html:ak(g)}})}catch{return null}return T.createElement("meta",{key:JSON.stringify(h),...h})}))}function GZ(t){return typeof t=="string"&&/^(meta|link)$/.test(t)}var V1=!1;function $Z(){V1=!0}function w8(t){let{manifest:e,serverHandoffString:n,isSpaMode:r,renderMeta:i,routeDiscovery:a,ssr:s}=py(),{router:o,static:u,staticContext:c}=dk(),{matches:f}=MA(),h=pQ(),g=ck(a,s);i&&(i.didRenderScripts=!0);let v=fk(f,null,r);T.useEffect(()=>{$Z()},[]);let w=T.useMemo(()=>{var I;if(h)return null;let M=c?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",R=u?`${(I=e.hmr)!=null&&I.runtime?`import ${JSON.stringify(e.hmr.runtime)};`:""}${g?"":`import ${JSON.stringify(e.url)}`};
${v.map((D,k)=>{let P=`route${k}`,B=e.routes[D.route.id];bi(B,`Route ${D.route.id} not found in manifest`);let{clientActionModule:z,clientLoaderModule:W,clientMiddlewareModule:U,hydrateFallbackModule:q,module:Z}=B,V=[...z?[{module:z,varName:`${P}_clientAction`}]:[],...W?[{module:W,varName:`${P}_clientLoader`}]:[],...U?[{module:U,varName:`${P}_clientMiddleware`}]:[],...q?[{module:q,varName:`${P}_HydrateFallback`}]:[],{module:Z,varName:`${P}_main`}];if(V.length===1)return`import * as ${P} from ${JSON.stringify(Z)};`;let Q=V.map($=>`import * as ${$.varName} from "${$.module}";`).join(`
`),H=`const ${P} = {${V.map($=>`...${$.varName}`).join(",")}};`;return[Q,H].join(`
`)}).join(`
`)}
  ${g?`window.__reactRouterManifest = ${JSON.stringify(LZ(e,o),null,2)};`:""}
  window.__reactRouterRouteModules = {${v.map((D,k)=>`${JSON.stringify(D.route.id)}:route${k}`).join(",")}};

import(${JSON.stringify(e.entry.module)});`:" ";return T.createElement(T.Fragment,null,T.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:M},type:void 0}),T.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:R},type:"module",async:!0}))},[]),E=V1||h?[]:qZ(e.entry.imports.concat(lk(v,e,{includeHydrateFallback:!0}))),A=typeof e.sri=="object"?e.sri:{};return g0(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),V1||h?null:T.createElement(T.Fragment,null,typeof e.sri=="object"?T.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:A})}}):null,g?null:T.createElement("link",{rel:"modulepreload",href:e.url,crossOrigin:t.crossOrigin,integrity:A[e.url],suppressHydrationWarning:!0}),T.createElement("link",{rel:"modulepreload",href:e.entry.module,crossOrigin:t.crossOrigin,integrity:A[e.entry.module],suppressHydrationWarning:!0}),E.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,crossOrigin:t.crossOrigin,integrity:A[_],suppressHydrationWarning:!0})),w)}function qZ(t){return[...new Set(t)]}function VZ(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pk=class extends T.Component{constructor(t){super(t),this.state={error:t.error||null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:t.error||null,location:t.location}:{error:t.error||e.error,location:e.location}}render(){return this.state.error?T.createElement(S8,{error:this.state.error,isOutsideRemixApp:!0}):this.props.children}};function S8({error:t,isOutsideRemixApp:e}){console.error(t);let n=T.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          " Hey developer . You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."
        );
      `}});if(Yn(t))return T.createElement(oR,{title:"Unhandled Thrown Response!"},T.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),n);let r;if(t instanceof Error)r=t;else{let i=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(i)}return T.createElement(oR,{title:"Application Error!",isOutsideRemixApp:e},T.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),T.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),n)}function oR({title:t,renderScripts:e,isOutsideRemixApp:n,children:r}){var a;let{routeModules:i}=py();return(a=i.root)!=null&&a.Layout&&!n?r:T.createElement("html",{lang:"en"},T.createElement("head",null,T.createElement("meta",{charSet:"utf-8"}),T.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),T.createElement("title",null,t)),T.createElement("body",null,T.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},r,e?T.createElement(w8,null):null)))}var E8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E8&&(window.__reactRouterVersion="7.10.1")}catch{}function WZ(t,e){return Cx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:yA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||A8(),routes:t,mapRouteProperties:ep,hydrationRouteProperties:Rx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function YZ(t,e){return Cx({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:FH({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||A8(),routes:t,mapRouteProperties:ep,hydrationRouteProperties:Rx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function A8(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:KZ(t.errors)}),t}function KZ(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ji(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}function XZ({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=yA({window:r,v5Compat:!0}));let a=i.current,[s,o]=T.useState({action:a.action,location:a.location}),u=T.useCallback(c=>{n===!1?o(c):T.startTransition(()=>o(c))},[n]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(Fd,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}function JZ({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=FH({window:r,v5Compat:!0}));let a=i.current,[s,o]=T.useState({action:a.action,location:a.location}),u=T.useCallback(c=>{n===!1?o(c):T.startTransition(()=>o(c))},[n]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(Fd,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n===!0})}function C8({basename:t,children:e,history:n,unstable_useTransitions:r}){let[i,a]=T.useState({action:n.action,location:n.location}),s=T.useCallback(o=>{r===!1?a(o):T.startTransition(()=>a(o))},[r]);return T.useLayoutEffect(()=>n.listen(s),[n,s]),T.createElement(Fd,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r===!0})}C8.displayName="unstable_HistoryRouter";var _8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mk=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:u,to:c,preventScrollReset:f,viewTransition:h,...g},v){let{basename:w,unstable_useTransitions:E}=T.useContext(Ui),A=typeof c=="string"&&_8.test(c),_,M=!1;if(typeof c=="string"&&A&&(_=c,E8))try{let W=new URL(window.location.href),U=c.startsWith("//")?new URL(W.protocol+c):new URL(c),q=gr(U.pathname,w);U.origin===W.origin&&q!=null?c=q+U.search+U.hash:M=!0}catch{Qt(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=E6(c,{relative:i}),[I,D,k]=FZ(r,g),P=M8(c,{replace:s,state:o,target:u,preventScrollReset:f,relative:i,viewTransition:h,unstable_useTransitions:E});function B(W){e&&e(W),W.defaultPrevented||P(W)}let z=T.createElement("a",{...g,...k,href:_||R,onClick:M||a?e:B,ref:VZ(v,D),target:u,"data-discover":!A&&n==="render"?"true":void 0});return I&&!A?T.createElement(T.Fragment,null,z,T.createElement(hk,{page:R})):z});mk.displayName="Link";var T8=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:u,...c},f){let h=fy(s,{relative:c.relative}),g=fa(),v=T.useContext(Uu),{navigator:w,basename:E}=T.useContext(Ui),A=v!=null&&D8(h)&&o===!0,_=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,M=g.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(M=M.toLowerCase(),R=R?R.toLowerCase():null,_=_.toLowerCase()),R&&E&&(R=gr(R,E)||R);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=M===_||!i&&M.startsWith(_)&&M.charAt(I)==="/",k=R!=null&&(R===_||!i&&R.startsWith(_)&&R.charAt(_.length)==="/"),P={isActive:D,isPending:k,isTransitioning:A},B=D?e:void 0,z;typeof r=="function"?z=r(P):z=[r,D?"active":null,k?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let W=typeof a=="function"?a(P):a;return T.createElement(mk,{...c,"aria-current":B,className:z,ref:f,style:W,to:s,viewTransition:o},typeof u=="function"?u(P):u)});T8.displayName="NavLink";var gk=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=QS,action:o,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:h,...g},v)=>{let{unstable_useTransitions:w}=T.useContext(Ui),E=vk(),A=P8(o,{relative:c}),_=s.toLowerCase()==="get"?"get":"post",M=typeof o=="string"&&_8.test(o),R=I=>{if(u&&u(I),I.defaultPrevented)return;I.preventDefault();let D=I.nativeEvent.submitter,k=(D==null?void 0:D.getAttribute("formmethod"))||s,P=()=>E(D||I.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:i,state:a,relative:c,preventScrollReset:f,viewTransition:h});w&&n!==!1?T.startTransition(()=>P()):P()};return T.createElement("form",{ref:v,method:_,action:A,onSubmit:r?u:R,...g,"data-discover":!M&&t==="render"?"true":void 0})});gk.displayName="Form";function N8({getKey:t,storageKey:e,...n}){let r=T.useContext(zu),{basename:i}=T.useContext(Ui),a=fa(),s=CA();k8({getKey:t,storageKey:e});let o=T.useMemo(()=>{if(!r||!t)return null;let c=uR(a,s,i,t);return c!==a.key?c:null},[]);if(!r||r.isSpaMode)return null;let u=((c,f)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let g=JSON.parse(sessionStorage.getItem(c)||"{}")[f||window.history.state.key];typeof g=="number"&&window.scrollTo(0,g)}catch(h){console.error(h),sessionStorage.removeItem(c)}}).toString();return T.createElement("script",{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${u})(${JSON.stringify(e||lR)}, ${JSON.stringify(o)})`}})}N8.displayName="ScrollRestoration";function R8(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PA(t){let e=T.useContext(ul);return Ve(e,R8(t)),e}function yk(t){let e=T.useContext(Uu);return Ve(e,R8(t)),e}function M8(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_useTransitions:o}={}){let u=EA(),c=fa(),f=fy(t,{relative:a});return T.useCallback(h=>{if(ZQ(h,e)){h.preventDefault();let g=n!==void 0?n:ni(c)===ni(f),v=()=>u(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:s});o?T.startTransition(()=>v()):v()}},[c,u,f,n,r,e,t,i,a,s,o])}function QZ(t){Qt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef($1(t)),n=T.useRef(!1),r=fa(),i=T.useMemo(()=>eZ(r.search,n.current?null:e.current),[r.search]),a=EA(),s=T.useCallback((o,u)=>{const c=$1(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,a("?"+c,u)},[a,i]);return[i,s]}var ZZ=0,eee=()=>`__${String(++ZZ)}__`;function vk(){let{router:t}=PA("useSubmit"),{basename:e}=T.useContext(Ui),n=CQ(),r=t.fetch,i=t.navigate;return T.useCallback(async(a,s={})=>{let{action:o,method:u,encType:c,formData:f,body:h}=rZ(a,e);if(s.navigate===!1){let g=s.fetcherKey||eee();await r(g,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function P8(t,{relative:e}={}){let{basename:n}=T.useContext(Ui),r=T.useContext(da);Ve(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...fy(t||".",{relative:e})},s=fa();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(h=>h).forEach(h=>o.append("index",h));let f=o.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:nl([n,a.pathname])),ni(a)}function tee({key:t}={}){var D;let{router:e}=PA("useFetcher"),n=yk("useFetcher"),r=T.useContext(Tx),i=T.useContext(da),a=(D=i.matches[i.matches.length-1])==null?void 0:D.route.id;Ve(r,"useFetcher must be used inside a FetchersContext"),Ve(i,"useFetcher must be used inside a RouteContext"),Ve(a!=null,'useFetcher can only be used on routes that contain a unique "id"');let s=T.useId(),[o,u]=T.useState(t||s);t&&t!==o&&u(t);let{deleteFetcher:c,getFetcher:f,resetFetcher:h,fetch:g}=e;T.useEffect(()=>(f(o),()=>c(o)),[c,f,o]);let v=T.useCallback(async(k,P)=>{Ve(a,"No routeId available for fetcher.load()"),await g(o,a,k,P)},[o,a,g]),w=vk(),E=T.useCallback(async(k,P)=>{await w(k,{...P,navigate:!1,fetcherKey:o})},[o,w]),A=T.useCallback(k=>h(o,k),[h,o]),_=T.useMemo(()=>{let k=T.forwardRef((P,B)=>T.createElement(gk,{...P,navigate:!1,fetcherKey:o,ref:B}));return k.displayName="fetcher.Form",k},[o]),M=n.fetchers.get(o)||wA,R=r.get(o);return T.useMemo(()=>({Form:_,submit:E,load:v,reset:A,...M,data:R}),[_,E,v,A,M,R])}function nee(){let t=yk("useFetchers");return Array.from(t.fetchers.entries()).map(([e,n])=>({...n,key:e}))}var lR="react-router-scroll-positions",CS={};function uR(t,e,n,r){let i=null;return r&&(n!=="/"?i=r({...t,pathname:gr(t.pathname,n)||t.pathname},e):i=r(t,e)),i==null&&(i=t.key),i}function k8({getKey:t,storageKey:e}={}){let{router:n}=PA("useScrollRestoration"),{restoreScrollPosition:r,preventScrollReset:i}=yk("useScrollRestoration"),{basename:a}=T.useContext(Ui),s=fa(),o=CA(),u=M6();T.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),iee(T.useCallback(()=>{if(u.state==="idle"){let c=uR(s,o,a,t);CS[c]=window.scrollY}try{sessionStorage.setItem(e||lR,JSON.stringify(CS))}catch(c){Qt(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${c}).`)}window.history.scrollRestoration="auto"},[u.state,t,a,s,o,e])),typeof document<"u"&&(T.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(e||lR);c&&(CS=JSON.parse(c))}catch{}},[e]),T.useLayoutEffect(()=>{let c=n==null?void 0:n.enableScrollRestoration(CS,()=>window.scrollY,t?(f,h)=>uR(f,h,a,t):void 0);return()=>c&&c()},[n,a,t]),T.useLayoutEffect(()=>{if(r!==!1){if(typeof r=="number"){window.scrollTo(0,r);return}try{if(s.hash){let c=document.getElementById(decodeURIComponent(s.hash.slice(1)));if(c){c.scrollIntoView();return}}}catch{Qt(!1,`"${s.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[s,r,i]))}function ree(t,e){let{capture:n}=e||{};T.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",t,r),()=>{window.removeEventListener("beforeunload",t,r)}},[t,n])}function iee(t,e){let{capture:n}={};T.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",t,r),()=>{window.removeEventListener("pagehide",t,r)}},[t,n])}function aee({when:t,message:e}){let n=k6(t);T.useEffect(()=>{n.state==="blocked"&&(window.confirm(e)?setTimeout(n.proceed,0):n.reset())},[n,e]),T.useEffect(()=>{n.state==="blocked"&&!t&&n.reset()},[n,t])}function D8(t,{relative:e}={}){let n=T.useContext(_x);Ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PA("useViewTransitionState"),i=fy(t,{relative:e});if(!n.isTransitioning)return!1;let a=gr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=gr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zg(i.pathname,s)!=null||Zg(i.pathname,a)!=null}function see({basename:t,children:e,location:n="/"}){typeof n=="string"&&(n=es(n));let r="POP",i={pathname:n.pathname||"/",search:n.search||"",hash:n.hash||"",state:n.state!=null?n.state:null,key:n.key||"default"},a=I8();return T.createElement(Fd,{basename:t,children:e,location:i,navigationType:r,navigator:a,static:!0,unstable_useTransitions:!1})}function bk({context:t,router:e,hydrate:n=!0,nonce:r}){Ve(e&&t,"You must provide `router` and `context` to <StaticRouterProvider>");let i={router:e,navigator:I8(),static:!0,staticContext:t,basename:t.basename||"/"},a=new Map,s="";if(n!==!1){let u={loaderData:t.loaderData,actionData:t.actionData,errors:lee(t.errors)};s=`window.__staticRouterHydrationData = JSON.parse(${hee(JSON.stringify(JSON.stringify(u)))});`}let{state:o}=i.router;return T.createElement(T.Fragment,null,T.createElement(ul.Provider,{value:i},T.createElement(Uu.Provider,{value:o},T.createElement(Tx.Provider,{value:a},T.createElement(_x.Provider,{value:{isTransitioning:!1}},T.createElement(Fd,{basename:i.basename,location:o.location,navigationType:o.historyAction,navigator:i.navigator,static:i.static,unstable_useTransitions:!1},T.createElement(oee,{routes:e.routes,future:e.future,state:o})))))),s?T.createElement("script",{suppressHydrationWarning:!0,nonce:r,dangerouslySetInnerHTML:{__html:s}}):null)}function oee({routes:t,future:e,state:n}){return tk(t,void 0,n,void 0,e)}function lee(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)Yn(i)?n[r]={...i,__type:"RouteErrorResponse"}:i instanceof Error?n[r]={message:i.message,__type:"Error",...i.name!=="Error"?{__subType:i.name}:{}}:n[r]=i;return n}function I8(){return{createHref:L8,encodeLocation:O8,push(t){throw new Error(`You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(t)})\` somewhere in your app.`)},replace(t){throw new Error(`You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(t)}, { replace: true })\` somewhere in your app.`)},go(t){throw new Error(`You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${t})\` somewhere in your app.`)},back(){throw new Error("You cannot use navigator.back() on the server because it is a stateless environment.")},forward(){throw new Error("You cannot use navigator.forward() on the server because it is a stateless environment.")}}}function uee(t,e){return s6(t,{...e,mapRouteProperties:ep})}function xk(t,e,n={}){let r={},i=Nd(t,ep,void 0,r),a=e.matches.map(o=>{let u=r[o.route.id]||o.route;return{...o,route:u}}),s=o=>`You cannot use router.${o}() on the server because it is a stateless environment`;return{get basename(){return e.basename},get future(){return{v8_middleware:!1,...n==null?void 0:n.future}},get state(){return{historyAction:"POP",location:e.location,matches:a,loaderData:e.loaderData,actionData:e.actionData,errors:e.errors,initialized:!0,navigation:c0,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",fetchers:new Map,blockers:new Map}},get routes(){return i},get window(){},initialize(){throw s("initialize")},subscribe(){throw s("subscribe")},enableScrollRestoration(){throw s("enableScrollRestoration")},navigate(){throw s("navigate")},fetch(){throw s("fetch")},revalidate(){throw s("revalidate")},createHref:L8,encodeLocation:O8,getFetcher(){return wA},deleteFetcher(){throw s("deleteFetcher")},resetFetcher(){throw s("resetFetcher")},dispose(){throw s("dispose")},getBlocker(){return Tc},deleteBlocker(){throw s("deleteBlocker")},patchRoutes(){throw s("patchRoutes")},_internalFetchControllers:new Map,_internalSetRoutes(){throw s("_internalSetRoutes")},_internalSetStateDoNotUseOrYouWillBreakYourApp(){throw s("_internalSetStateDoNotUseOrYouWillBreakYourApp")}}}function L8(t){return typeof t=="string"?t:ni(t)}function O8(t){let e=typeof t=="string"?t:ni(t);e=e.replace(/ $/,"%20");let n=cee.test(e)?new URL(e):new URL(e,"http://localhost");return{pathname:n.pathname,search:n.search,hash:n.hash}}var cee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dee={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},fee=/[&><\u2028\u2029]/g;function hee(t){return t.replace(fee,e=>dee[e])}var qs={},s4;function pee(){if(s4)return qs;s4=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.parseCookie=o,qs.parse=o,qs.stringifyCookie=u,qs.stringifySetCookie=c,qs.serialize=c,qs.parseSetCookie=f,qs.stringifySetCookie=c,qs.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=/^-?\d+$/,a=Object.prototype.toString,s=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function o(A,_){const M=new s,R=A.length;if(R<2)return M;const I=(_==null?void 0:_.decode)||w;let D=0;do{const k=g(A,D,R);if(k===-1)break;const P=h(A,D,R);if(k>P){D=A.lastIndexOf(";",k-1)+1;continue}const B=v(A,D,k);M[B]===void 0&&(M[B]=I(v(A,k+1,P))),D=P+1}while(D<R);return M}function u(A,_){const M=(_==null?void 0:_.encode)||encodeURIComponent,R=[];for(const I of Object.keys(A)){const D=A[I];if(D===void 0)continue;if(!t.test(I))throw new TypeError(`cookie name is invalid: ${I}`);const k=M(D);if(!e.test(k))throw new TypeError(`cookie val is invalid: ${D}`);R.push(`${I}=${k}`)}return R.join("; ")}function c(A,_,M){const R=typeof A=="object"?A:{...M,name:A,value:String(_)},I=typeof _=="object"?_:M,D=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(R.name))throw new TypeError(`argument name is invalid: ${R.name}`);const k=R.value?D(R.value):"";if(!e.test(k))throw new TypeError(`argument val is invalid: ${R.value}`);let P=R.name+"="+k;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);P+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);P+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);P+="; Path="+R.path}if(R.expires){if(!E(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);P+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(P+="; HttpOnly"),R.secure&&(P+="; Secure"),R.partitioned&&(P+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return P}function f(A,_){const M=(_==null?void 0:_.decode)||w,R=A.length,I=h(A,0,R),D=g(A,0,I),k=D===-1?{name:"",value:M(v(A,0,I))}:{name:v(A,0,D),value:M(v(A,D+1,I))};let P=I+1;for(;P<R;){const B=h(A,P,R),z=g(A,P,B),W=z===-1?v(A,P,B):v(A,P,z),U=z===-1?void 0:v(A,z+1,B);switch(W.toLowerCase()){case"httponly":k.httpOnly=!0;break;case"secure":k.secure=!0;break;case"partitioned":k.partitioned=!0;break;case"domain":k.domain=U;break;case"path":k.path=U;break;case"max-age":U&&i.test(U)&&(k.maxAge=Number(U));break;case"expires":if(!U)break;const q=new Date(U);Number.isFinite(q.valueOf())&&(k.expires=q);break;case"priority":if(!U)break;const Z=U.toLowerCase();(Z==="low"||Z==="medium"||Z==="high")&&(k.priority=Z);break;case"samesite":if(!U)break;const V=U.toLowerCase();(V==="lax"||V==="strict"||V==="none")&&(k.sameSite=V);break}P=B+1}return k}function h(A,_,M){const R=A.indexOf(";",_);return R===-1?M:R}function g(A,_,M){const R=A.indexOf("=",_);return R<M?R:-1}function v(A,_,M){let R=_,I=M;do{const D=A.charCodeAt(R);if(D!==32&&D!==9)break}while(++R<I);for(;I>R;){const D=A.charCodeAt(I-1);if(D!==32&&D!==9)break;I--}return A.slice(R,I)}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function E(A){return a.call(A)==="[object Date]"}return qs}var o4=pee(),Hp={exports:{}},l4;function mee(){if(l4)return Hp.exports;l4=1;var t={decodeValues:!0,map:!1,silent:!1};function e(u){return typeof u!="string"||u in{}}function n(){return Object.create(null)}function r(u){return typeof u=="string"&&!!u.trim()}function i(u,c){var f=u.split(";").filter(r),h=f.shift(),g=a(h),v=g.name,w=g.value;if(c=c?Object.assign({},t,c):t,e(v))return null;try{w=c.decodeValues?decodeURIComponent(w):w}catch(A){console.error("set-cookie-parser: failed to decode cookie value. Set options.decodeValues=false to disable decoding.",A)}var E=n();return E.name=v,E.value=w,f.forEach(function(A){var _=A.split("="),M=_.shift().trimLeft().toLowerCase();if(!e(M)){var R=_.join("=");if(M==="expires")E.expires=new Date(R);else if(M==="max-age"){var I=parseInt(R,10);Number.isNaN(I)||(E.maxAge=I)}else M==="secure"?E.secure=!0:M==="httponly"?E.httpOnly=!0:M==="samesite"?E.sameSite=R:M==="partitioned"?E.partitioned=!0:M&&(E[M]=R)}}),E}function a(u){var c="",f="",h=u.split("=");return h.length>1?(c=h.shift(),f=h.join("=")):f=u,{name:c,value:f}}function s(u,c){if(c=c?Object.assign({},t,c):t,!u)return c.map?n():[];if(u.headers)if(typeof u.headers.getSetCookie=="function")u=u.headers.getSetCookie();else if(u.headers["set-cookie"])u=u.headers["set-cookie"];else{var f=u.headers[Object.keys(u.headers).find(function(g){return g.toLowerCase()==="set-cookie"})];!f&&u.headers.cookie&&!c.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),u=f}if(Array.isArray(u)||(u=[u]),c.map){var h=n();return u.filter(r).reduce(function(g,v){var w=i(v,c);return w&&!e(w.name)&&(g[w.name]=w),g},h)}else return u.filter(r).map(function(g){return i(g,c)}).filter(Boolean)}function o(u){if(Array.isArray(u))return u;if(typeof u!="string")return[];var c=[],f=0,h,g,v,w,E;function A(){for(;f<u.length&&/\s/.test(u.charAt(f));)f+=1;return f<u.length}function _(){return g=u.charAt(f),g!=="="&&g!==";"&&g!==","}for(;f<u.length;){for(h=f,E=!1;A();)if(g=u.charAt(f),g===","){for(v=f,f+=1,A(),w=f;f<u.length&&_();)f+=1;f<u.length&&u.charAt(f)==="="?(E=!0,f=w,c.push(u.substring(h,v)),h=f):f=v+1}else f+=1;(!E||f>=u.length)&&c.push(u.substring(h,u.length))}return c}return Hp.exports=s,Hp.exports.parse=s,Hp.exports.parseString=i,Hp.exports.splitCookiesString=o,Hp.exports}var gee=mee(),rN={};function yee({context:t,url:e,nonce:n}){typeof e=="string"&&(e=new URL(e));let{manifest:r,routeModules:i,criticalCss:a,serverHandoffString:s}=t,o=p8(r.routes,i,t.future,t.isSpaMode);t.staticHandlerContext.loaderData={...t.staticHandlerContext.loaderData};for(let c of t.staticHandlerContext.matches){let f=c.route.id,h=i[f],g=t.manifest.routes[f];h&&g&&Px(f,h.clientLoader,g.hasLoader,t.isSpaMode)&&(h.HydrateFallback||!g.hasLoader)&&delete t.staticHandlerContext.loaderData[f]}let u=xk(o,t.staticHandlerContext);return T.createElement(T.Fragment,null,T.createElement(zu.Provider,{value:{manifest:r,routeModules:i,criticalCss:a,serverHandoffString:s,future:t.future,ssr:t.ssr,isSpaMode:t.isSpaMode,routeDiscovery:t.routeDiscovery,serializeError:t.serializeError,renderMeta:t.renderMeta}},T.createElement(pk,{location:u.state.location},T.createElement(bk,{router:u,context:t.staticHandlerContext,hydrate:!1}))),t.serverHandoffStream?T.createElement(T.Suspense,null,T.createElement(a8,{context:t,identifier:0,reader:t.serverHandoffStream.getReader(),textDecoder:new TextDecoder,nonce:n})):null)}function vee(t,e){return function({initialEntries:r,initialIndex:i,hydrationData:a,future:s}){let o=T.useRef(),u=T.useRef();if(o.current==null){u.current={future:{unstable_subResourceIntegrity:(s==null?void 0:s.unstable_subResourceIntegrity)===!0,v8_middleware:(s==null?void 0:s.v8_middleware)===!0},manifest:{routes:{},entry:{imports:[],module:""},url:"",version:""},routeModules:{},ssr:!1,isSpaMode:!1,routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"}};let c=j8(Nd(t,f=>f),e!==void 0?e:s!=null&&s.v8_middleware?new el:{},u.current.manifest,u.current.routeModules);o.current=I6(c,{initialEntries:r,initialIndex:i,hydrationData:a})}return T.createElement(zu.Provider,{value:u.current},T.createElement(L6,{router:o.current}))}}function j8(t,e,n,r,i){return t.map(a=>{if(!a.id)throw new Error("Expected a route.id in react-router processRoutes() function");let s={id:a.id,path:a.path,index:a.index,Component:a.Component?U6(a.Component):void 0,HydrateFallback:a.HydrateFallback?z6(a.HydrateFallback):void 0,ErrorBoundary:a.ErrorBoundary?G6(a.ErrorBoundary):void 0,action:a.action?u=>a.action({...u,context:e}):void 0,loader:a.loader?u=>a.loader({...u,context:e}):void 0,middleware:a.middleware?a.middleware.map(u=>(...c)=>u({...c[0],context:e},c[1])):void 0,handle:a.handle,shouldRevalidate:a.shouldRevalidate},o={id:a.id,path:a.path,index:a.index,parentId:i,hasAction:a.action!=null,hasLoader:a.loader!=null,hasClientAction:!1,hasClientLoader:!1,hasClientMiddleware:!1,hasErrorBoundary:a.ErrorBoundary!=null,module:"build/stub-path-to-module.js",clientActionModule:void 0,clientLoaderModule:void 0,clientMiddlewareModule:void 0,hydrateFallbackModule:void 0};return n.routes[s.id]=o,r[a.id]={default:s.Component||O6,ErrorBoundary:s.ErrorBoundary||void 0,handle:a.handle,links:a.links,meta:a.meta,shouldRevalidate:a.shouldRevalidate},a.children&&(s.children=j8(a.children,e,n,r,s.id)),s})}var wk=new TextEncoder,bee=async(t,e)=>{let n=wk.encode(t),r=await F8(e,["sign"]),i=await crypto.subtle.sign("HMAC",r,n),a=btoa(String.fromCharCode(...new Uint8Array(i))).replace(/=+$/,"");return t+"."+a},xee=async(t,e)=>{let n=t.lastIndexOf("."),r=t.slice(0,n),i=t.slice(n+1),a=wk.encode(r),s=await F8(e,["verify"]);try{let o=wee(atob(i));return await crypto.subtle.verify("HMAC",s,o,a)?r:!1}catch{return!1}},F8=async(t,e)=>crypto.subtle.importKey("raw",wk.encode(t),{name:"HMAC",hash:"SHA-256"},!1,e);function wee(t){let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}var Sk=(t,e={})=>{let{secrets:n=[],...r}={path:"/",sameSite:"lax",...e};return Tee(t,r.expires),{get name(){return t},get isSigned(){return n.length>0},get expires(){return typeof r.maxAge<"u"?new Date(Date.now()+r.maxAge*1e3):r.expires},async parse(i,a){if(!i)return null;let s=o4.parse(i,{...r,...a});if(t in s){let o=s[t];return typeof o=="string"&&o!==""?await Eee(o,n):""}else return null},async serialize(i,a){return o4.serialize(t,i===""?"":await See(i,n),{...r,...a})}}},Ek=t=>t!=null&&typeof t.name=="string"&&typeof t.isSigned=="boolean"&&typeof t.parse=="function"&&typeof t.serialize=="function";async function See(t,e){let n=Aee(t);return e.length>0&&(n=await bee(n,e[0])),n}async function Eee(t,e){if(e.length>0){for(let n of e){let r=await xee(t,n);if(r!==!1)return u4(r)}return null}return u4(t)}function Aee(t){return btoa(_ee(encodeURIComponent(JSON.stringify(t))))}function u4(t){try{return JSON.parse(decodeURIComponent(Cee(atob(t))))}catch{return{}}}function Cee(t){let e=t.toString(),n="",r=0,i,a;for(;r<e.length;)i=e.charAt(r++),/[\w*+\-./@]/.exec(i)?n+=i:(a=i.charCodeAt(0),a<256?n+="%"+c4(a,2):n+="%u"+c4(a,4).toUpperCase());return n}function c4(t,e){let n=t.toString(16);for(;n.length<e;)n="0"+n;return n}function _ee(t){let e=t.toString(),n="",r=0,i,a;for(;r<e.length;){if(i=e.charAt(r++),i==="%"){if(e.charAt(r)==="u"){if(a=e.slice(r+1,r+5),/^[\da-f]{4}$/i.exec(a)){n+=String.fromCharCode(parseInt(a,16)),r+=5;continue}}else if(a=e.slice(r,r+2),/^[\da-f]{2}$/i.exec(a)){n+=String.fromCharCode(parseInt(a,16)),r+=2;continue}}n+=i}return n}function Tee(t,e){g0(!e,`The "${t}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}function Nee(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return r&&(e[n]=r.module),e},{})}var U8=(t=>(t.Development="development",t.Production="production",t.Test="test",t))(U8||{});function Ree(t){return t==="development"||t==="production"||t==="test"}function kA(t,e){if(t instanceof Error&&e!=="development"){let n=new Error("Unexpected Server Error");return n.stack=void 0,n}return t}function W1(t,e){return Object.entries(t).reduce((n,[r,i])=>Object.assign(n,{[r]:kA(i,e)}),{})}function B8(t,e){let n=kA(t,e);return{message:n.message,stack:n.stack}}function d4(t,e){if(!t)return null;let n=Object.entries(t),r={};for(let[i,a]of n)if(Yn(a))r[i]={...a,__type:"RouteErrorResponse"};else if(a instanceof Error){let s=kA(a,e);r[i]={message:s.message,stack:s.stack,__type:"Error",...s.name!=="Error"?{__subType:s.name}:{}}}else r[i]=a;return r}function cR(t,e,n){let r=ua(t,e,n);return r?r.map(i=>({params:i.params,pathname:i.pathname,route:i.route})):null}async function f4(t,e){let n=await t({request:Pee(Mee(e.request)),params:e.params,context:e.context,unstable_pattern:e.unstable_pattern});if(_d(n)&&n.init&&n.init.status&&SA(n.init.status))throw new Response(null,n.init);return n}function Mee(t){let e=new URL(t.url),n=e.searchParams.getAll("index");e.searchParams.delete("index");let r=[];for(let a of n)a&&r.push(a);for(let a of r)e.searchParams.append("index",a);let i={method:t.method,body:t.body,headers:t.headers,signal:t.signal};return i.body&&(i.duplex="half"),new Request(e.href,i)}function Pee(t){let e=new URL(t.url);e.searchParams.delete("_routes");let n={method:t.method,body:t.body,headers:t.headers,signal:t.signal};return n.body&&(n.duplex="half"),new Request(e.href,n)}function t1(t,e){if(t===!1||t===null||typeof t>"u")throw console.error("The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose"),new Error(e)}var z8="__reactRouterDevServerHooks";function kee(t){globalThis[z8]=t}function iN(){return globalThis[z8]}function H8(t,e){if(typeof process<"u")try{if((rN==null?void 0:rN.IS_RR_BUILD_REQUEST)==="yes")return t.headers.get(e)}catch{}return null}function G8(t){let e={};return Object.values(t).forEach(n=>{if(n){let r=n.parentId||"";e[r]||(e[r]=[]),e[r].push(n)}}),e}function $8(t,e="",n=G8(t)){return(n[e]||[]).map(r=>({...r,children:$8(t,r.id,n)}))}function q8(t,e,n="",r=G8(t)){return(r[n]||[]).map(i=>{let a={hasErrorBoundary:i.id==="root"||i.module.ErrorBoundary!=null,id:i.id,path:i.path,middleware:i.module.middleware,loader:i.module.loader?async s=>{let o=H8(s.request,"X-React-Router-Prerender-Data");if(o!=null){let c=o&&decodeURI(o);t1(c,"Missing prerendered data for route");let f=new TextEncoder().encode(c),h=new ReadableStream({start(w){w.enqueue(f),w.close()}}),v=(await RA(h,global)).value;if(v&&Tu in v){let w=v[Tu],E={status:w.status};throw w.reload?KH(w.redirect,E):w.replace?XH(w.redirect,E):Ax(w.redirect,E)}else{t1(v&&i.id in v,"Unable to decode prerendered data");let w=v[i.id];return t1("data"in w,"Unable to process prerendered data"),w.data}}return await f4(i.module.loader,s)}:void 0,action:i.module.action?s=>f4(i.module.action,s):void 0,handle:i.module.handle};return i.index?{index:!0,...a}:{caseSensitive:i.caseSensitive,children:q8(t,e,i.id,r),...a}})}function h4(t){return ak(JSON.stringify(t))}function Ak(t,e){return Dee(t,n=>{let r=e.routes[n.route.id];return t1(r,`Route with id "${n.route.id}" not found in build`),r.module.headers})}function Dee(t,e,n){let r=t.errors?t.matches.findIndex(o=>t.errors[o.route.id]):-1,i=r>=0?t.matches.slice(0,r+1):t.matches,a;if(r>=0){let{actionHeaders:o,actionData:u,loaderHeaders:c,loaderData:f}=t;t.matches.slice(r).some(h=>{let g=h.route.id;return o[g]&&(!u||!u.hasOwnProperty(g))?a=o[g]:c[g]&&!f.hasOwnProperty(g)&&(a=c[g]),a!=null})}const s=new Headers(n);return i.reduce((o,u,c)=>{let{id:f}=u.route,h=t.loaderHeaders[f]||new Headers,g=t.actionHeaders[f]||new Headers,v=a!=null&&c===i.length-1,w=v&&a!==h&&a!==g,E=e(u);if(E==null){let _=new Headers(o);return w&&ff(a,_),ff(g,_),ff(h,_),_}let A=new Headers(typeof E=="function"?E({loaderHeaders:h,parentHeaders:o,actionHeaders:g,errorHeaders:v?a:void 0}):E);return w&&ff(a,A),ff(g,A),ff(h,A),ff(o,A),A},new Headers(s))}function ff(t,e){let n=t.get("Set-Cookie");if(n){let r=gee.splitCookiesString(n),i=new Set(e.getSetCookie());r.forEach(a=>{i.has(a)||e.append("Set-Cookie",a)})}}var V8=new Set([...i8,304]);async function Iee(t,e,n,r,i,a,s){try{let f=new Request(i,{method:r.method,body:r.body,headers:r.headers,signal:r.signal,...r.body?{duplex:"half"}:void 0}),h=await n.query(f,{requestContext:a,skipLoaderErrorBubbling:!0,skipRevalidation:!0,generateMiddlewareResponse:t.future.v8_middleware?async g=>{try{let v=await g(f);return o(v)}catch(v){return u(v)}}:void 0});return o(h)}catch(f){return u(f)}function o(f){return Tn(f)?f:c(f)}function u(f){return s(f),b0(r,t,e,{result:{error:f},headers:new Headers,status:500})}function c(f){let h=Ak(f,t);if(SA(f.statusCode)&&h.has("Location"))return new Response(null,{status:f.statusCode,headers:h});f.errors&&(Object.values(f.errors).forEach(v=>{(!Yn(v)||v.error)&&s(v)}),f.errors=W1(f.errors,e));let g;return f.errors?g={error:Object.values(f.errors)[0]}:g={data:Object.values(f.actionData||{})[0]},b0(r,t,e,{result:g,headers:h,status:f.statusCode})}}async function Lee(t,e,n,r,i,a,s){let o=new URL(r.url).searchParams.get("_routes"),u=o?new Set(o.split(",")):null;try{let g=new Request(i,{headers:r.headers,signal:r.signal}),v=await n.query(g,{requestContext:a,filterMatchesToLoad:w=>!u||u.has(w.route.id),skipLoaderErrorBubbling:!0,generateMiddlewareResponse:t.future.v8_middleware?async w=>{try{let E=await w(g);return c(E)}catch(E){return f(E)}}:void 0});return c(v)}catch(g){return f(g)}function c(g){return Tn(g)?g:h(g)}function f(g){return s(g),b0(r,t,e,{result:{error:g},headers:new Headers,status:500})}function h(g){let v=Ak(g,t);if(SA(g.statusCode)&&v.has("Location"))return new Response(null,{status:g.statusCode,headers:v});g.errors&&(Object.values(g.errors).forEach(A=>{(!Yn(A)||A.error)&&s(A)}),g.errors=W1(g.errors,e));let w={},E=new Set(g.matches.filter(A=>u?u.has(A.route.id):A.route.loader!=null).map(A=>A.route.id));if(g.errors)for(let[A,_]of Object.entries(g.errors))w[A]={error:_};for(let[A,_]of Object.entries(g.loaderData))!(A in w)&&E.has(A)&&(w[A]={data:_});return b0(r,t,e,{result:w,headers:v,status:g.statusCode})}}function b0(t,e,n,{result:r,headers:i,status:a}){let s=new Headers(i);return s.set("X-Remix-Response","yes"),V8.has(a)?new Response(null,{status:a,headers:s}):(s.set("Content-Type","text/x-script"),s.delete("Content-Length"),new Response(dR(r,t.signal,e.entry.module.streamTimeout,n),{status:a||200,headers:s}))}function p4(t,e,n,r){let i=Oee(t.status,t.headers,n.basename),a=new Headers(t.headers);return a.delete("Location"),a.set("Content-Type","text/x-script"),b0(e,n,r,{result:e.method==="GET"?{[Tu]:i}:i,headers:a,status:sk})}function Oee(t,e,n){let r=e.get("Location");return n&&(r=gr(r,n)||r),{redirect:r,status:t,revalidate:e.has("X-Remix-Revalidate")||e.has("Set-Cookie"),reload:e.has("X-Remix-Reload-Document"),replace:e.has("X-Remix-Replace")}}function dR(t,e,n,r){let i=new AbortController,a=setTimeout(()=>i.abort(new Error("Server Timeout")),typeof n=="number"?n:4950);return e.addEventListener("abort",()=>clearTimeout(a)),dZ(t,{signal:i.signal,plugins:[s=>{if(s instanceof Error){let{name:o,message:u,stack:c}=r==="production"?kA(s,r):s;return["SanitizedError",o,u,c]}if(s instanceof ji){let{data:o,status:u,statusText:c}=s;return["ErrorResponse",o,u,c]}if(s&&typeof s=="object"&&Tu in s)return["SingleFetchRedirect",s[Tu]]}],postPlugins:[s=>{if(s&&typeof s=="object")return["SingleFetchClassInstance",Object.fromEntries(Object.entries(s))]},()=>["SingleFetchFallback"]]})}function m4(t,e){let n=$8(t.routes),r=q8(t.routes,t.future),i=Ree(e)?e:"production",a=s6(r,{basename:t.basename,unstable_instrumentations:t.entry.module.unstable_instrumentations}),s=t.entry.module.handleError||((u,{request:c})=>{i!=="test"&&!c.signal.aborted&&console.error(Yn(u)&&u.error?u.error:u)}),o=async(u,c)=>{var I,D,k;let f={},h,g=P=>{var B,z;e==="development"&&((z=(B=iN())==null?void 0:B.processRequestError)==null||z.call(B,P)),s(P,{context:h,params:f,request:u})};if(t.future.v8_middleware){if(c&&!(c instanceof el)){let P=new Error("Invalid `context` value provided to `handleRequest`. When middleware is enabled you must return an instance of `RouterContextProvider` from your `getLoadContext` function.");return g(P),Y1(P,i)}h=c||new el}else h=c||{};let v=new URL(u.url),w=t.basename||"/",E=v.pathname;gr(E,w)==="/_root.data"?E=w:E.endsWith(".data")&&(E=E.replace(/\.data$/,"")),gr(E,w)!=="/"&&E.endsWith("/")&&(E=E.slice(0,-1));let A=H8(u,"X-React-Router-SPA-Mode")==="yes";if(!t.ssr){let P=decodeURI(E);if(w!=="/"){let B=gr(P,w);if(B==null)return s(new ji(404,"Not Found",`Refusing to prerender the \`${P}\` path because it does not start with the basename \`${w}\``),{context:h,params:f,request:u}),new Response("Not Found",{status:404,statusText:"Not Found"});P=B}if(t.prerender.length===0)A=!0;else if(!t.prerender.includes(P)&&!t.prerender.includes(P+"/")){if(v.pathname.endsWith(".data"))return s(new ji(404,"Not Found",`Refusing to SSR the path \`${P}\` because \`ssr:false\` is set and the path is not included in the \`prerender\` config, so in production the path will be a 404.`),{context:h,params:f,request:u}),new Response("Not Found",{status:404,statusText:"Not Found"});A=!0}}let _=b8(t.routeDiscovery.manifestPath,w);if(v.pathname===_)try{return await Fee(t,n,v)}catch(P){return g(P),new Response("Unknown Server Error",{status:500})}let M=cR(n,E,t.basename);M&&M.length>0&&Object.assign(f,M[0].params);let R;if(v.pathname.endsWith(".data")){let P=new URL(u.url);P.pathname=E;let B=cR(n,P.pathname,t.basename);R=await Uee(i,t,a,u,P,h,g),G1(R)&&(R=p4(R,u,t,i)),t.entry.module.handleDataRequest&&(R=await t.entry.module.handleDataRequest(R,{context:h,params:B?B[0].params:{},request:u}),G1(R)&&(R=p4(R,u,t,i)))}else if(!A&&M&&M[M.length-1].route.module.default==null&&M[M.length-1].route.module.ErrorBoundary==null)R=await zee(i,t,a,M.slice(-1)[0].route.id,u,h,g);else{let{pathname:P}=v,B;t.unstable_getCriticalCss?B=await t.unstable_getCriticalCss({pathname:P}):e==="development"&&((I=iN())!=null&&I.getCriticalCss)&&(B=await((k=(D=iN())==null?void 0:D.getCriticalCss)==null?void 0:k.call(D,P))),R=await Bee(i,t,a,u,h,g,A,B)}return u.method==="HEAD"?new Response(null,{headers:R.headers,status:R.status,statusText:R.statusText}):R};return t.entry.module.unstable_instrumentations&&(o=YJ(o,t.entry.module.unstable_instrumentations.map(u=>u.handler).filter(Boolean))),{routes:n,dataRoutes:r,serverMode:i,staticHandler:a,errorHandler:s,requestHandler:o}}var jee=(t,e)=>{let n,r,i,a,s,o;return async function(c,f){if(n=typeof t=="function"?await t():t,typeof t=="function"){let h=m4(n,e);r=h.routes,i=h.serverMode,a=h.staticHandler,s=h.errorHandler,o=h.requestHandler}else if(!r||!i||!a||!s||!o){let h=m4(n,e);r=h.routes,i=h.serverMode,a=h.staticHandler,s=h.errorHandler,o=h.requestHandler}return o(c,f)}};async function Fee(t,e,n){if(t.assets.version!==n.searchParams.get("version"))return new Response(null,{status:204,headers:{"X-Remix-Reload-Document":"true"}});let r={};if(n.searchParams.has("paths")){let i=new Set;(n.searchParams.get("paths")||"").split(",").filter(Boolean).forEach(o=>{o.startsWith("/")||(o=`/${o}`);let u=o.split("/").slice(1);u.forEach((c,f)=>{let h=u.slice(0,f+1).join("/");i.add(`/${h}`)})});for(let o of i){let u=cR(e,o,t.basename);if(u)for(let c of u){let f=c.route.id,h=t.assets.routes[f];h&&(r[f]=h)}}return Response.json(r,{headers:{"Cache-Control":"public, max-age=31536000, immutable"}})}return new Response("Invalid Request",{status:400})}async function Uee(t,e,n,r,i,a,s){return r.method!=="GET"?await Iee(e,t,n,r,i,a,s):await Lee(e,t,n,r,i,a,s)}async function Bee(t,e,n,r,i,a,s,o){try{let c=await n.query(r,{requestContext:i,generateMiddlewareResponse:e.future.v8_middleware?async f=>{try{let h=await f(r);return Tn(h)||(h=await u(h,s)),h}catch(h){return a(h),new Response(null,{status:500})}}:void 0});return Tn(c)||(c=await u(c,s)),c}catch(c){return a(c),new Response(null,{status:500})}async function u(c,f){let h=Ak(c,e);if(V8.has(c.statusCode))return new Response(null,{status:c.statusCode,headers:h});c.errors&&(Object.values(c.errors).forEach(A=>{(!Yn(A)||A.error)&&a(A)}),c.errors=W1(c.errors,t));let g={loaderData:c.loaderData,actionData:c.actionData,errors:d4(c.errors,t)},v={basename:e.basename,future:e.future,routeDiscovery:e.routeDiscovery,ssr:e.ssr,isSpaMode:f},w={manifest:e.assets,routeModules:Nee(e.routes),staticHandlerContext:c,criticalCss:o,serverHandoffString:h4({...v,criticalCss:o}),serverHandoffStream:dR(g,r.signal,e.entry.module.streamTimeout,t),renderMeta:{},future:e.future,ssr:e.ssr,routeDiscovery:e.routeDiscovery,isSpaMode:f,serializeError:A=>B8(A,t)},E=e.entry.module.default;try{return await E(r,c.statusCode,h,w,i)}catch(A){a(A);let _=A;if(Tn(A))try{let R=await Gee(A);_=new ji(A.status,A.statusText,R)}catch{}c=o6(n.dataRoutes,c,_),c.errors&&(c.errors=W1(c.errors,t));let M={loaderData:c.loaderData,actionData:c.actionData,errors:d4(c.errors,t)};w={...w,staticHandlerContext:c,serverHandoffString:h4(v),serverHandoffStream:dR(M,r.signal,e.entry.module.streamTimeout,t),renderMeta:{}};try{return await E(r,c.statusCode,h,w,i)}catch(R){return a(R),Y1(R,t)}}}}async function zee(t,e,n,r,i,a,s){try{let c=await n.queryRoute(i,{routeId:r,requestContext:a,generateMiddlewareResponse:e.future.v8_middleware?async f=>{try{let h=await f(i);return o(h)}catch(h){return u(h)}}:void 0});return o(c)}catch(c){return u(c)}function o(c){return Tn(c)?c:typeof c=="string"?new Response(c):Response.json(c)}function u(c){if(Tn(c))return c;if(Yn(c))return s(c),Hee(c,t);if(c instanceof Error&&c.message==="Expected a response from queryRoute"){let f=new Error("Expected a Response to be returned from resource route handler");return s(f),Y1(f,t)}return s(c),Y1(c,t)}}function Hee(t,e){return Response.json(B8(t.error||new Error("Unexpected Server Error"),e),{status:t.status,statusText:t.statusText})}function Y1(t,e){let n="Unexpected Server Error";return e!=="production"&&(n+=`

${String(t)}`),new Response(n,{status:500,headers:{"Content-Type":"text/plain"}})}function Gee(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}function aN(t){return`__flash_${t}__`}var Ck=(t={},e="")=>{let n=new Map(Object.entries(t));return{get id(){return e},get data(){return Object.fromEntries(n)},has(r){return n.has(r)||n.has(aN(r))},get(r){if(n.has(r))return n.get(r);let i=aN(r);if(n.has(i)){let a=n.get(i);return n.delete(i),a}},set(r,i){n.set(r,i)},flash(r,i){n.set(aN(r),i)},unset(r){n.delete(r)}}},$ee=t=>t!=null&&typeof t.id=="string"&&typeof t.data<"u"&&typeof t.has=="function"&&typeof t.get=="function"&&typeof t.set=="function"&&typeof t.flash=="function"&&typeof t.unset=="function";function W8({cookie:t,createData:e,readData:n,updateData:r,deleteData:i}){let a=Ek(t)?t:Sk((t==null?void 0:t.name)||"__session",t);return Y8(a),{async getSession(s,o){let u=s&&await a.parse(s,o),c=u&&await n(u);return Ck(c||{},u||"")},async commitSession(s,o){let{id:u,data:c}=s,f=(o==null?void 0:o.maxAge)!=null?new Date(Date.now()+o.maxAge*1e3):(o==null?void 0:o.expires)!=null?o.expires:a.expires;return u?await r(u,c,f):u=await e(c,f),a.serialize(u,o)},async destroySession(s,o){return await i(s.id),a.serialize("",{...o,maxAge:void 0,expires:new Date(0)})}}}function Y8(t){g0(t.isSigned,`The "${t.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://reactrouter.com/explanation/sessions-and-cookies#signing-cookies for more information.`)}function qee({cookie:t}={}){let e=Ek(t)?t:Sk((t==null?void 0:t.name)||"__session",t);return Y8(e),{async getSession(n,r){return Ck(n&&await e.parse(n,r)||{})},async commitSession(n,r){let i=await e.serialize(n.data,r);if(i.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+i.length);return i},async destroySession(n,r){return e.serialize("",{...r,maxAge:void 0,expires:new Date(0)})}}}function Vee({cookie:t}={}){let e=new Map;return W8({cookie:t,async createData(n,r){let i=Math.random().toString(36).substring(2,10);return e.set(i,{data:n,expires:r}),i},async readData(n){if(e.has(n)){let{data:r,expires:i}=e.get(n);if(!i||i>new Date)return r;i&&e.delete(n)}return null},async updateData(n,r,i){e.set(n,{data:r,expires:i})},async deleteData(n){e.delete(n)}})}function Wee(t,...e){let n=e[0],r=Yee(t).replace(/\/:([\w-]+)(\?)?/g,(i,a,s)=>{const o=s===void 0,u=n==null?void 0:n[a];if(o&&u===void 0)throw new Error(`Path '${t}' requires param '${a}' but it was not provided`);return u===void 0?"":"/"+u});if(t.endsWith("*")){const i=n==null?void 0:n["*"];i!==void 0&&(r+="/"+i)}return r||"/"}function Yee(t){let e=t.length-1,n=t[e];if(n!=="*"&&n!=="/")return t;for(e--;e>=0&&t[e]==="/";e--);return t.slice(0,e+1)}var fR=new TextEncoder,g4="</body></html>";function y4(t){let e=new TextDecoder,n,r=new Promise(u=>n=u),i=!1,a=[],s=null;function o(u){for(let c of a){let f=e.decode(c,{stream:!0});f.endsWith(g4)&&(f=f.slice(0,-g4.length)),u.enqueue(fR.encode(f))}a.length=0,s=null}return new TransformStream({transform(u,c){a.push(u),!s&&(s=setTimeout(async()=>{o(c),i||(i=!0,Kee(t,c).catch(f=>c.error(f)).then(n))},0))},async flush(u){await r,s&&(clearTimeout(s),o(u)),u.enqueue(fR.encode("</body></html>"))}})}async function Kee(t,e){let n=new TextDecoder("utf-8",{fatal:!0});const r=t.getReader();try{let a;for(;(a=await r.read())&&!a.done;){const s=a.value;try{sN(JSON.stringify(n.decode(s,{stream:!0})),e)}catch{let u=JSON.stringify(btoa(String.fromCodePoint(...s)));sN(`Uint8Array.from(atob(${u}), m => m.codePointAt(0))`,e)}}}finally{r.releaseLock()}let i=n.decode();i.length&&sN(JSON.stringify(i),e)}function sN(t,e){e.enqueue(fR.encode(`<script>${Xee(`(self.__FLIGHT_DATA||=[]).push(${t})`)}<\/script>`))}function Xee(t){return t.replace(/<!--/g,"<\\!--").replace(/<\/(script)/gi,"</\\$1")}var Jee=class extends Wn.Component{constructor(t){super(t),this.state={error:null,location:t.location}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location?{error:null,location:t.location}:{error:e.error,location:e.location}}render(){return this.state.error?Wn.createElement(K8,{error:this.state.error,renderAppShell:!0}):this.props.children}};function v4({renderAppShell:t,title:e,children:n}){return t?Wn.createElement("html",{lang:"en"},Wn.createElement("head",null,Wn.createElement("meta",{charSet:"utf-8"}),Wn.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),Wn.createElement("title",null,e)),Wn.createElement("body",null,Wn.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},n))):n}function K8({error:t,renderAppShell:e}){console.error(t);let n=Wn.createElement("script",{dangerouslySetInnerHTML:{__html:`
        console.log(
          " Hey developer . You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."
        );
      `}});if(Yn(t))return Wn.createElement(v4,{renderAppShell:e,title:"Unhandled Thrown Response!"},Wn.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),n);let r;if(t instanceof Error)r=t;else{let i=t==null?"Unknown Error":typeof t=="object"&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(i)}return Wn.createElement(v4,{renderAppShell:e,title:"Application Error!"},Wn.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),Wn.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),n)}function Qee({hasRootLayout:t}){let e=Nx();if(t===void 0)throw new Error("Missing 'hasRootLayout' prop");return Wn.createElement(K8,{renderAppShell:!t,error:e})}function Zee(t){const e={};for(const n of t.matches)ete(e,n);return e}function ete(t,e){e=Array.isArray(e)?e:[e];for(const n of e)t[n.id]={links:n.links,meta:n.meta,default:tte}}var tte=()=>null,nte="use",b4=XP[nte];function rte(t){if(b4)return b4(t);throw new Error("React Router v7 requires React 19+ for RSC features.")}async function ite({request:t,fetchServer:e,createFromReadableStream:n,renderHTML:r,hydrate:i=!0}){const a=new URL(t.url),o=ste(a)||ote(a)||t.headers.has("rsc-action-id"),u=await e(t);if(o||u.headers.get("React-Router-Resource")==="true")return u;if(!u.body)throw new Error("Missing body in server response");const c=u.clone();let f=null;i&&(f=u.clone());const h=u.body;let g,v=[];const w=()=>g?new ReadableStream({start(_){g.forEach(M=>_.enqueue(M)),v.push(_)}}):(g=[],h.pipeThrough(new TransformStream({transform(_,M){g.push(_),M.enqueue(_),v.forEach(R=>R.enqueue(_))},flush(){v.forEach(_=>_.close()),v=[]}})));let E=null;const A=()=>{const _=Promise.resolve(n(w()));return Object.defineProperties(_,{_deepestRenderedBoundaryId:{get(){return E},set(M){E=M}},formState:{get(){return _.then(M=>M.type==="render"?M.formState:void 0)}}})};try{if(!c.body)throw new Error("Failed to clone server response");const _=await n(c.body);if(u.status===sk&&_.type==="redirect"){const D=new Headers(u.headers);return D.delete("Content-Encoding"),D.delete("Content-Length"),D.delete("Content-Type"),D.delete("X-Remix-Response"),D.set("Location",_.location),new Response((f==null?void 0:f.body)||"",{headers:D,status:_.status,statusText:u.statusText})}const M=await r(A),R=new Headers(u.headers);if(R.set("Content-Type","text/html; charset=utf-8"),!i)return new Response(M,{status:u.status,headers:R});if(!(f!=null&&f.body))throw new Error("Failed to clone server response");const I=M.pipeThrough(y4(f.body));return new Response(I,{status:u.status,headers:R})}catch(_){if(_ instanceof Response)return _;try{const M=Yn(_)?_.status:500,R=await r(()=>{const P=Promise.resolve(n(w())).then(B=>Object.assign(B,{status:M,errors:E?{[E]:_}:{}}));return Object.defineProperties(P,{_deepestRenderedBoundaryId:{get(){return E},set(B){E=B}},formState:{get(){return P.then(B=>B.type==="render"?B.formState:void 0)}}})}),I=new Headers(u.headers);if(I.set("Content-Type","text/html"),!i)return new Response(R,{status:M,headers:I});if(!(f!=null&&f.body))throw new Error("Failed to clone server response");const D=R.pipeThrough(y4(f.body));return new Response(D,{status:M,headers:I})}catch{}throw _}}function ate({getPayload:t}){const e=t(),n=rte(e);if(n.type==="redirect")throw new Response(null,{status:n.status,headers:{Location:n.location}});if(n.type!=="render")return null;let r={...n.loaderData};for(const o of n.matches)Px(o.id,o.clientLoader,o.hasLoader,!1)&&(o.hydrateFallbackElement||!o.hasLoader)&&delete r[o.id];const i={get _deepestRenderedBoundaryId(){return e._deepestRenderedBoundaryId??null},set _deepestRenderedBoundaryId(o){e._deepestRenderedBoundaryId=o},actionData:n.actionData,actionHeaders:{},basename:n.basename,errors:n.errors,loaderData:r,loaderHeaders:{},location:n.location,statusCode:200,matches:n.matches.map(o=>({params:o.params,pathname:o.pathname,pathnameBase:o.pathnameBase,route:{id:o.id,action:o.hasAction||!!o.clientAction,handle:o.handle,hasErrorBoundary:o.hasErrorBoundary,loader:o.hasLoader||!!o.clientLoader,index:o.index,path:o.path,shouldRevalidate:o.shouldRevalidate}}))},a=xk(n.matches.reduceRight((o,u)=>{const c={id:u.id,action:u.hasAction||!!u.clientAction,element:u.element,errorElement:u.errorElement,handle:u.handle,hasErrorBoundary:!!u.errorElement,hydrateFallbackElement:u.hydrateFallbackElement,index:u.index,loader:u.hasLoader||!!u.clientLoader,path:u.path,shouldRevalidate:u.shouldRevalidate};return o.length>0&&(c.children=o),[c]},[]),i),s={future:{v8_middleware:!1,unstable_subResourceIntegrity:!1},isSpaMode:!1,ssr:!0,criticalCss:"",manifest:{routes:{},version:"1",url:"",entry:{module:"",imports:[]}},routeDiscovery:{mode:"lazy",manifestPath:"/__manifest"},routeModules:Zee(n)};return T.createElement(S6.Provider,{value:!0},T.createElement(Jee,{location:n.location},T.createElement(zu.Provider,{value:s},T.createElement(bk,{context:i,router:a,hydrate:!1,nonce:n.nonce}))))}function ste(t){return t.pathname.endsWith(".rsc")}function ote(t){return t.pathname.endsWith(".manifest")}function X8(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new ji(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack=i.stack,n[r]=s}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack=i.stack,n[r]=a}}else n[r]=i;return n}function J8({state:t,routes:e,getRouteInfo:n,location:r,basename:i,isSpaMode:a}){let s={...t,loaderData:{...t.loaderData}},o=ua(e,r,i);if(o)for(let u of o){let c=u.route.id,f=n(c);Px(c,f.clientLoader,f.hasLoader,a)&&(f.hasHydrateFallback||!f.hasLoader)?delete s.loaderData[c]:f.hasLoader||(s.loaderData[c]=null)}return s}var DA=IH();const lte=vo(DA);function Q8(t){return T.createElement(L6,{flushSync:DA.flushSync,...t})}var $e=null,Sv=null;function ute(){if(!$e&&window.__reactRouterContext&&window.__reactRouterManifest&&window.__reactRouterRouteModules){if(window.__reactRouterManifest.sri===!0){const t=document.querySelector("script[rr-importmap]");if(t!=null&&t.textContent)try{window.__reactRouterManifest.sri=JSON.parse(t.textContent).integrity}catch(e){console.error("Failed to parse import map",e)}}$e={context:window.__reactRouterContext,manifest:window.__reactRouterManifest,routeModules:window.__reactRouterRouteModules,stateDecodingPromise:void 0,router:void 0,routerInitialized:!1}}}function cte({getContext:t,unstable_instrumentations:e}){var s,o;if(ute(),!$e)throw new Error("You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`");let n=$e;if(!$e.stateDecodingPromise){let u=$e.context.stream;Ve(u,"No stream found for single fetch decoding"),$e.context.stream=void 0,$e.stateDecodingPromise=RA(u,window).then(c=>{$e.context.state=c.value,n.stateDecodingPromise.value=!0}).catch(c=>{n.stateDecodingPromise.error=c})}if($e.stateDecodingPromise.error)throw $e.stateDecodingPromise.error;if(!$e.stateDecodingPromise.value)throw $e.stateDecodingPromise;let r=Mx($e.manifest.routes,$e.routeModules,$e.context.state,$e.context.ssr,$e.context.isSpaMode),i;if($e.context.isSpaMode){let{loaderData:u}=$e.context.state;(s=$e.manifest.routes.root)!=null&&s.hasLoader&&u&&"root"in u&&(i={loaderData:{root:u.root}})}else i=J8({state:$e.context.state,routes:r,getRouteInfo:u=>{var c,f,h;return{clientLoader:(c=$e.routeModules[u])==null?void 0:c.clientLoader,hasLoader:((f=$e.manifest.routes[u])==null?void 0:f.hasLoader)===!0,hasHydrateFallback:((h=$e.routeModules[u])==null?void 0:h.HydrateFallback)!=null}},location:window.location,basename:(o=window.__reactRouterContext)==null?void 0:o.basename,isSpaMode:$e.context.isSpaMode}),i&&i.errors&&(i.errors=X8(i.errors));let a=Cx({routes:r,history:yA(),basename:$e.context.basename,getContext:t,hydrationData:i,hydrationRouteProperties:Rx,unstable_instrumentations:e,mapRouteProperties:ep,future:{middleware:$e.context.future.v8_middleware},dataStrategy:s8(()=>a,$e.manifest,$e.routeModules,$e.context.ssr,$e.context.basename),patchRoutesOnNavigation:y8($e.manifest,$e.routeModules,$e.context.ssr,$e.context.routeDiscovery,$e.context.isSpaMode,$e.context.basename)});return $e.router=a,a.state.initialized&&($e.routerInitialized=!0,a.initialize()),a.createRoutesForHMR=m8,window.__reactRouterDataRouter=a,a}function dte(t){Sv||(Sv=cte({getContext:t.getContext,unstable_instrumentations:t.unstable_instrumentations}));let[e,n]=T.useState(void 0);T.useEffect(()=>{},[]),T.useEffect(()=>{},[e]);let[r,i]=T.useState(Sv.state.location);return T.useLayoutEffect(()=>{$e&&$e.router&&!$e.routerInitialized&&($e.routerInitialized=!0,$e.router.initialize())},[]),T.useLayoutEffect(()=>{if($e&&$e.router)return $e.router.subscribe(a=>{a.location!==r&&i(a.location)})},[r]),Ve($e,"ssrInfo unavailable for HydratedRouter"),v8(Sv,$e.manifest,$e.routeModules,$e.context.ssr,$e.context.routeDiscovery,$e.context.isSpaMode),T.createElement(T.Fragment,null,T.createElement(zu.Provider,{value:{manifest:$e.manifest,routeModules:$e.routeModules,future:$e.context.future,criticalCss:e,ssr:$e.context.ssr,isSpaMode:$e.context.isSpaMode,routeDiscovery:$e.context.routeDiscovery}},T.createElement(pk,{location:r},T.createElement(Q8,{router:Sv,unstable_useTransitions:t.unstable_useTransitions,unstable_onError:t.unstable_onError}))),T.createElement(T.Fragment,null))}/**
 * react-router-dom v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ri=Object.freeze(Object.defineProperty({__proto__:null,Await:zQ,BrowserRouter:XZ,Form:gk,HashRouter:JZ,HydratedRouter:dte,IDLE_BLOCKER:Tc,IDLE_FETCHER:wA,IDLE_NAVIGATION:c0,Link:mk,Links:UZ,MemoryRouter:FQ,Meta:HZ,NavLink:T8,Navigate:UQ,NavigationType:OH,Outlet:O6,PrefetchPageLinks:hk,Route:j6,Router:Fd,RouterContextProvider:el,RouterProvider:Q8,Routes:BQ,Scripts:w8,ScrollRestoration:N8,ServerRouter:yee,StaticRouter:see,StaticRouterProvider:bk,UNSAFE_AwaitContextProvider:mQ,UNSAFE_DataRouterContext:ul,UNSAFE_DataRouterStateContext:Uu,UNSAFE_ErrorResponseImpl:ji,UNSAFE_FetchersContext:Tx,UNSAFE_FrameworkContext:zu,UNSAFE_LocationContext:Zh,UNSAFE_NavigationContext:Ui,UNSAFE_RSCDefaultRootErrorBoundary:Qee,UNSAFE_RemixErrorBoundary:pk,UNSAFE_RouteContext:da,UNSAFE_ServerMode:U8,UNSAFE_SingleFetchRedirectSymbol:Tu,UNSAFE_ViewTransitionContext:_x,UNSAFE_WithComponentProps:VQ,UNSAFE_WithErrorBoundaryProps:YQ,UNSAFE_WithHydrateFallbackProps:WQ,UNSAFE_createBrowserHistory:yA,UNSAFE_createClientRoutes:Mx,UNSAFE_createClientRoutesWithHMRRevalidationOptOut:m8,UNSAFE_createRouter:Cx,UNSAFE_decodeViaTurboStream:RA,UNSAFE_deserializeErrors:X8,UNSAFE_getHydrationData:J8,UNSAFE_getPatchRoutesOnNavigationFunction:y8,UNSAFE_getTurboStreamSingleFetchDataStrategy:s8,UNSAFE_hydrationRouteProperties:Rx,UNSAFE_invariant:Ve,UNSAFE_mapRouteProperties:ep,UNSAFE_shouldHydrateRouteLoader:Px,UNSAFE_useFogOFWarDiscovery:v8,UNSAFE_useScrollRestoration:k8,UNSAFE_withComponentProps:U6,UNSAFE_withErrorBoundaryProps:G6,UNSAFE_withHydrateFallbackProps:z6,createBrowserRouter:WZ,createContext:AJ,createCookie:Sk,createCookieSessionStorage:qee,createHashRouter:YZ,createMemoryRouter:I6,createMemorySessionStorage:Vee,createPath:ni,createRequestHandler:jee,createRoutesFromChildren:y0,createRoutesFromElements:$Q,createRoutesStub:vee,createSearchParams:$1,createSession:Ck,createSessionStorage:W8,createStaticHandler:uee,createStaticRouter:xk,data:YH,generatePath:BJ,href:Wee,isCookie:Ek,isRouteErrorResponse:Yn,isSession:$ee,matchPath:Zg,matchRoutes:ua,parsePath:es,redirect:Ax,redirectDocument:KH,renderMatches:qQ,replace:XH,resolvePath:VH,unstable_HistoryRouter:C8,unstable_RSCStaticRouter:ate,unstable_routeRSCServerRequest:ite,unstable_setDevServerHooks:kee,unstable_usePrompt:aee,unstable_useRoute:PQ,useActionData:TA,useAsyncError:NQ,useAsyncValue:P6,useBeforeUnload:ree,useBlocker:k6,useFetcher:tee,useFetchers:nee,useFormAction:P8,useHref:E6,useInRouterContext:jd,useLinkClickHandler:M8,useLoaderData:_A,useLocation:fa,useMatch:yQ,useMatches:CA,useNavigate:EA,useNavigation:M6,useNavigationType:gQ,useOutlet:T6,useOutletContext:bQ,useParams:AA,useResolvedPath:fy,useRevalidator:_Q,useRouteError:Nx,useRouteLoaderData:TQ,useRoutes:N6,useSearchParams:QZ,useSubmit:vk,useViewTransitionState:D8},Symbol.toStringTag,{value:"Module"}));var zt=(t=>(t.GUEST="guest",t.USER="user",t.SELLER="seller",t))(zt||{});const Bh=[{id:"manual-01",title:"Ebook-Engine Manual",author:"Ebook-Engine AI",description:"The official documentation for the Ebook-Engine platform. Learn how to use the Neural Engine, generate viral covers, and publish your work to the world.",price:0,coverImageUrl:"https://images.unsplash.com/photo-1555421689-491a97ff2040?auto=format&fit=crop&q=80&w=800",genre:"Technology",sellerId:"seller_admin",publicationDate:"2025-10-15",pages:[{id:"p1",pageNumber:1,title:"Welcome to the Future",content:`# Welcome to Ebook-Engine

**Where Thought Becomes Literature.**

Ebook-Engine is more than just a writing tool; it is a collaborative neural engine designed to elevate your creative process. Whether you are outlining a sci-fi epic, drafting a technical manual, or publishing your first novel, this platform provides the intelligence and infrastructure you need.

![Workspace](https://images.unsplash.com/photo-1497215728101-856f4ea42174?auto=format&fit=crop&q=80&w=1000)

### Core Philosophy

We believe that AI should not replace the author, but amplify them. Our "Co-Author" engine is built on Google's Gemini models, fine-tuned to understand narrative structure, tone, and pacing.

### In This Manual

Over the next 10 pages, we will cover:
- The Studio Interface
- AI Tools & Prompting
- Visual Asset Generation
- Publishing & Monetization`},{id:"p2",pageNumber:2,title:"The Dashboard",content:`# Your Command Center

The Dashboard is your home base. From here, you can track sales, manage your library, and access the Studio.

![Dashboard](https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=1000)

### Key Sections

1. **Overview**: Real-time analytics of your book sales and reader engagement.
2. **My Library**: Access books you have purchased or written.
3. **Wishlist**: Books you've saved for later.
4. **Studio Access**: One-click launch into the writing environment.

**Pro Tip:** Switch between "Reader Mode" and "Writer Mode" in the sidebar to toggle between consuming content and creating it.`},{id:"p3",pageNumber:3,title:"The eBook Studio",content:`# The Studio

This is where the magic happens. The Studio is divided into two main zones: the **Context Panel** (Left) and the **Editor** (Right).

![Studio](https://images.unsplash.com/photo-1581291518633-83b4ebd1d83e?auto=format&fit=crop&q=80&w=1000)

### 1. The Editor

A distraction-free markdown environment. It supports:
- **Rich Text**: Headers (#), Bold (**text**), and Lists (- item).
- **Slash Commands**: Type \`/\` to open the quick menu for headings, images, or AI generation.

### 2. The Context Panel

Your AI Co-Author lives here. You can chat with it to brainstorm ideas, or switch to the **Outline View** to manage your chapters.`},{id:"p4",pageNumber:4,title:"Using the AI Co-Author",content:`# The Neural Engine

Your Co-Author is always listening. You can ask it to:

- *"Write the next paragraph describing a rainy neon city."*
- *"Fix the grammar in this chapter."*
- *"Give me 5 ideas for a plot twist."*

![AI Brain](https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&q=80&w=1000)

### Context Awareness

The AI reads what you write. If you are in Chapter 3, it knows what happened in Chapter 2. This ensures consistency in character names, plot points, and tone.

**Auto-Pilot**: Use the "Auto-Write" button in the header to let the AI draft an entire chapter structure for you automatically.`},{id:"p5",pageNumber:5,title:"Generating Visuals",content:`# AI Art Generation

A picture is worth a thousand words. Ebook-Engine integrates the **Gemini 2.5 Image Model** to generate professional cover art and in-book illustrations.

![Art Generation](https://images.unsplash.com/photo-1561557944-6e7860d9a7fd?auto=format&fit=crop&q=80&w=1000)

### How to Generate

1. **Cover Art**: Go to the "Publish" page and use the AI Cover Designer. Select a style (e.g., Cinematic, Minimalist) and describe your vision.
2. **In-Text Illustrations**: In the Studio editor, type \`/image\` to conjure an image command. Describe the scene, and the AI will insert it directly into your page.

> *Note: All images are royalty-free and unique to your book.*`},{id:"p6",pageNumber:6,title:"Audio Features",content:`# Voice & Dictation

Writer's block? Speak your story. The Studio supports real-time dictation and text-to-speech.

![Microphone](https://images.unsplash.com/photo-1590602847861-f357a9332bbc?auto=format&fit=crop&q=80&w=1000)

### Dictation

Click the **Mic Icon** in the chat bar. Speak naturally. The AI will transcribe your voice into text, which you can then ask it to format or expand upon.

### Text-to-Speech (TTS)

The AI can read its responses back to you. This is perfect for proofhearing your dialogue flow or brainstorming while multitasking.`},{id:"p7",pageNumber:7,title:"Publishing Your Work",content:`# Going Live

Once your manuscript is ready, it's time to share it with the world.

![Publishing](https://images.unsplash.com/photo-1463320726281-696a485928c7?auto=format&fit=crop&q=80&w=1000)

### The Process

1. **Metadata**: Enter your Title, Author Name, and Description.
2. **Genre & Pricing**: Choose a category. Decide if your book is **Free** (for growth) or **Paid** (for revenue).
3. **AI Pricing**: Use our "Smart Pricing Model" to analyze market trends and suggest the optimal price point.
4. **Publish**: Click "Publish to Store". Your book is instantly available to all users on the platform.`},{id:"p8",pageNumber:8,title:"Seller Features",content:`# Monetization

Creators keep **70%** of every sale. We handle the payment processing, file hosting, and delivery.

![Analytics](https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=1000)

### Audience Analytics

Go to the **Audience** tab in your dashboard to see who is reading your books. You can track:
- Total Visitors
- Active Readers
- Geographic Location
- Purchase History

Use this data to refine your marketing strategy and write what your audience loves.`},{id:"p9",pageNumber:9,title:"Pro Tips",content:`# Mastering the Platform

Here are some advanced tips for power users:

![Lightbulb](https://images.unsplash.com/photo-1531297461136-82lwDe43qRm?auto=format&fit=crop&q=80&w=1000)

- **Slash Commands**: Learn them. \`/h1\` for titles, \`/quote\` for blockquotes. Speed is key.
- **Variable Pacing**: Ask the AI to "Slow down and describe the room" or "Speed up the action". It understands pacing.
- **Series Management**: Keep your character notes in a separate text file or the chat context to ensure consistency across multiple books.
- **Draft Mode**: You can save books as drafts without publishing them. They stay in your Studio securely.`},{id:"p10",pageNumber:10,title:"Community & Support",content:`# We Are Here For You

Ebook-Engine is built by writers, for writers. If you encounter bugs or have feature requests, reach out.

![Community](https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&q=80&w=1000)

### Channels

- **Help Center**: Accessible from your profile dropdown.
- **Email**: opendev-labs.help@gmail.com
- **Updates**: Follow the "Ebook-Engine Manual" book for patch notes and new feature guides.

Thank you for creating with us.

**- The OpenDev Team**`}]},{id:"sacred-quantum-01",title:"The Quantum Scripture",author:"Dr. A. Vance & The Institute",description:"Hidden Laws of Consciousness Backed by Real Scientific Evidence. A deep dive into the observer effect, entanglement, and the unification of ancient spirituality with modern physics.",price:1111,coverImageUrl:"https://images.unsplash.com/photo-1506318137071-a8bcbf67cc77?auto=format&fit=crop&q=80&w=800",genre:"Spirituality",sellerId:"seller_admin",publicationDate:"2025-11-11",pages:[{id:"qs-p1",pageNumber:1,title:"Introduction: The Bridge",content:`# The Bridge Between Worlds

For centuries, science and spirituality have stood on opposite banks of a wide river. Spirituality spoke of the "soul," "connection," and "miracles." Science spoke of "atoms," "forces," and "proof." 

**But the river is drying up.**

New discoveries in Quantum Mechanics are not just validating ancient texts; they are explaining *how* they work. This book is not a metaphorical comparison. It is a technical manual for consciousness, cited with peer-reviewed studies.

> "The first gulp from the glass of natural sciences will turn you into an atheist, but at the bottom of the glass God is waiting for you."  *Werner Heisenberg, Nobel Prize Winner in Physics*

We begin our journey at the intersection of the Observer and the Observed.`},{id:"qs-p2",pageNumber:2,title:"The Observer Effect",content:`# The Observer Effect

In the classical Newtonian world, things exist whether you look at them or not. A falling tree makes a sound. But in the quantum world, this rule breaks.

### The Double-Slit Experiment

When particles (like electrons) are fired at two slits, they behave like waves, creating an interference pattern. However, when a measuring device (an "observer") is placed to see which slit the particle goes through, the particle **behaves like solid matter**.

**Scientific Source:** *Nature Physics, "Quantum interference of large organic molecules," 2011.*

**The Implication:** Consciousness collapses the wave function. Your attention literally constructs reality from a field of infinite probability.`},{id:"qs-p3",pageNumber:3,title:"Quantum Entanglement",content:`# Entanglement: The Science of Oneness

"Spooky action at a distance," Einstein called it. When two particles are entangled, a change in the spin of one *instantly* affects the other, even if they are galaxies apart.

### Non-Locality

This proves that space is an illusion. Information travels faster than light because, at a fundamental level, the two particles are not separate.

**Scientific Source:** *The Big Bell Test Collaboration, Nature, 2018.*

**Spiritual Corollary:** This is the scientific basis for telepathy, prayer, and the concept that "we are all one." We are distinct points in a unified field.`},{id:"qs-p4",pageNumber:4,title:"The Holographic Principle",content:`# The Holographic Universe

Leading physicists now posit that our 3D reality is a projection of information stored on a 2D surface at the boundary of the universe (the cosmological horizon).

### Information Theory

If we live in a hologram, then "matter" is just "resolution." The spiritual idea that the physical world is "Maya" (illusion) is now a valid physical theory.

**Scientific Source:** *Juan Maldacena, "The Large N Limit of Superconformal Field Theories," 1997.*

Every part contains the whole. Your mind is not *in* the universe; the universe is *in* your mind.`},{id:"qs-p5",pageNumber:5,title:"The Zero Point Field",content:`# The Field

Space is not empty. It is a seething ocean of energy called the Zero Point Field (or Quantum Vacuum). Even at absolute zero, this field contains infinite potential energy.

### Tapping the Source

Ancient mystics called this the *Akasha*. It is the memory of the universe. It connects everything. When you meditate, you are quieting the noise to access this signal.

**Evidence:** The Casimir Effect proves the existence of vacuum fluctuations pushing plates together.

We are essentially bioluminescent beings floating in a sea of light.`},{id:"qs-p6",pageNumber:6,title:"Biocentrism",content:`# Biocentrism

Proposed by Dr. Robert Lanza, Biocentrism argues that biology creates the universe, not the other way around. Space and time are tools of the mind, not external objects.

### The Goldilocks Universe

Why are the laws of physics perfectly tuned for life? Because life is the primary constant. Without consciousness, the equations of the universe have no solution.

**Scientific Context:** *Robert Lanza, "Biocentrism," 2009.*

You are not a visitor to this world. You are the projector.`},{id:"qs-p7",pageNumber:7,title:"Neurotheology",content:`# The God Helmet

Neuroscience has identified specific centers in the brain (the temporal lobes) that active during deep spiritual experiences. 

### Dr. Michael Persinger's Experiments

By stimulating the temporal lobes with weak magnetic fields, researchers induced "sensed presence" (the feeling of God or angels) in atheists. 

**Source:** *Neuropsychologia, 2003.*

This doesn't mean God is "just inside the head." It means the brain is a **receiver**. Just as a radio tunes into a station, your brain tunes into the frequency of the divine.`},{id:"qs-p8",pageNumber:8,title:"Epigenetics",content:`# Belief Changes Biology

For decades, we believed genes were destiny. The new field of Epigenetics proves that environment and **perception** control gene expression.

### The Placebo Effect

Your belief in a cure is often as potent as the chemistry. The mind signals the cells to rewrite their instruction sets.

**Scientific Source:** *Bruce Lipton, The Biology of Belief.*

**Implication:** You can heal your lineage. Your thoughts are not just smoke; they are biochemical triggers.`},{id:"qs-p9",pageNumber:9,title:"The Unified Field",content:`# The Grand Unified Theory

Physicists are hunting for the equation that unites Gravity with Quantum Mechanics. String Theory proposes that tiny vibrating filaments create all matter.

### Frequency is Key

If everything is a vibrating string, then the universe is literally a symphony. "In the beginning was the Word" (Sound/Vibration).

We are approaching a singularity where scientific equations will look identical to spiritual sutras.`},{id:"qs-p10",pageNumber:10,title:"Conclusion",content:`# Conclusion: The Awakened Scientist

The age of separation is over. 

1. **You are the Observer.**
2. **You are Entangled with all life.**
3. **Your beliefs rewrite your Biology.**

Take this knowledge. Test it. Be the experiment.

### References
- *Journal of Consciousness Studies*
- *Physical Review Letters*
- *Nature*
- *Max Planck Institute for Quantum Optics*`}]},{id:"sacred-quantum-02",title:"Divine Mechanics",author:"Nikola T. & The Collective",description:"How Energy, Frequency, and Vibration Create Reality  Proven Through Modern Physics. Unlocking the secrets of Tesla, Cymatics, and the frequencies that heal.",price:888,coverImageUrl:"https://images.unsplash.com/photo-1620052581237-b5d148ef2716?auto=format&fit=crop&q=80&w=800",genre:"Physics",sellerId:"seller_admin",publicationDate:"2025-12-01",pages:[{id:"dm-p1",pageNumber:1,title:"The Key to the Universe",content:`# The Key

> "If you want to find the secrets of the universe, think in terms of energy, frequency and vibration."  *Nikola Tesla*

Everything in existence is vibrating. The chair you sit on, the thoughts you think, the light you see. Matter is simply energy condensed to a slow vibration.

This book explores the mechanics of this vibration and how you can tune your personal frequency to alter your reality.

**Scope:** From the oscillation of atoms to the rotation of galaxies.`},{id:"dm-p2",pageNumber:2,title:"3, 6, 9",content:`# The Mathematics of Creation

Tesla was obsessed with 3, 6, and 9. Why? 

### Vortex Math

If you double 1 (1, 2, 4, 8, 16...), the sum of digits never touches 3, 6, or 9. These numbers represent a higher-dimensional flux fieldthe energy that governs the physical circuit.

**Application:** 9 is the number of the Universe. It represents completion and the void. By aligning with these mathematical constants, we tap into free energy principles.`},{id:"dm-p3",pageNumber:3,title:"Cymatics",content:`# Visible Sound

Cymatics is the study of visible sound and vibration. 

### The Experiment

Place sand on a metal plate. Play a violin bow or a frequency tone. The sand arranges itself into complex, beautiful geometric mandalas.

**Source:** *Hans Jenny, "Cymatics," 1967.*

**The Truth:** You are 70% water. If sound organizes sand into sacred geometry, imagine what words, music, and thoughts are doing to the cellular structure of your body.`},{id:"dm-p4",pageNumber:4,title:"String Theory",content:`# The Cosmic Symphony

String Theory posits that the fundamental constituents of the universe are not point-like particles, but one-dimensional "strings."

### Modes of Vibration

A quark is a string vibrating in one mode. An electron is the same string vibrating in another. The only difference between gold and lead is the *music* their atoms are playing.

**Scientific Source:** *Edward Witten, M-Theory.*

Reality is music solidified.`},{id:"dm-p5",pageNumber:5,title:"Resonance",content:`# The Law of Resonance

Strike a tuning fork tuned to 'C'. Bring it near another 'C' fork. The second one will begin to vibrate without being touched. This is Resonance.

### Emotional Resonance

Your heart emits an electromagnetic field 5,000 times stronger than your brain. It acts as a tuning fork. You do not "attract" what you want; you resonate with what you *are*.

**Evidence:** *HeartMath Institute Research.*

To change your life, you must change your broadcast signal.`},{id:"dm-p6",pageNumber:6,title:"Schumann Resonance",content:`# The Heartbeat of Earth

The space between the Earth's surface and the Ionosphere acts as a cavity resonator. It hums at **7.83 Hz**.

### The Human Connection

This frequency matches the Alpha/Theta brainwave state (deep relaxation/healing). When we disconnect from nature, we desynchronize from the planet's pulse, leading to anxiety and illness.

**Source:** *W.O. Schumann, 1952.*

Grounding (walking barefoot) reconnects your electrical circuit to this stabilizing frequency.`},{id:"dm-p7",pageNumber:7,title:"Water Memory",content:`# The Memory of Water

Dr. Masaru Emoto exposed water to words like "Love" and "Hate," then froze it. The "Love" water formed perfect crystals. The "Hate" water formed chaotic blobs.

### Controversy & Validation

While controversial, recent Nobel Prize winner Luc Montagnier proved water can retain the electromagnetic signature of DNA even after the DNA is removed.

**Source:** *Journal of Physics: Conference Series, 2011.*

Speak kindly to yourself. You are mostly water.`},{id:"dm-p8",pageNumber:8,title:"Entrainment",content:`# Frequency Entrainment

A stronger rhythm will always pull a weaker rhythm into sync. This is why pendulums sync up, and why you feel calm near the ocean.

### Binaural Beats

We can hack the brain by playing slightly different frequencies in each ear. The brain creates a third "phantom" beat, shifting consciousness instantly into Gamma (Insight) or Delta (Sleep) states.

**Scientific Application:** Used in clinical settings for PTSD and ADHD treatment.`},{id:"dm-p9",pageNumber:9,title:"Sound Healing",content:`# Ultrasound & Healing

Hospitals use ultrasound to break up kidney stones and speed up bone regeneration. This is sound healing.

### Ancient Solfeggio

Ancient chants used specific frequencies (like 528 Hz) believed to repair DNA. Modern science is just catching up to the fact that specific frequencies trigger specific biological responses.

**Future Tech:** "Frequency Pharmacy"  prescribing sounds instead of pills.`},{id:"dm-p10",pageNumber:10,title:"Mastery",content:`# Mastering Your Frequency

You are the conductor of this divine mechanics.

1. **Monitor your input** (Music, News, People).
2. **Regulate your output** (Speech, Thought).
3. **Use Tools** (Meditation, Breath, Nature).

If you want to understand the Universe, listen to the sound of your own breath.

**End of Volume 1.**`}]},{id:"sacred-quantum-03",title:"The Sacred Algorithm",author:"Cipher X",description:"Ancient Truth, Quantum Science, and Verified Sources Revealed. Exploring the code behind the cosmos: Fibonacci, Simulation Theory, and the digital nature of reality.",price:999,coverImageUrl:"https://images.unsplash.com/photo-1614726365723-49cfae934794?auto=format&fit=crop&q=80&w=800",genre:"Science",sellerId:"seller_admin",publicationDate:"2026-01-10",pages:[{id:"sa-p1",pageNumber:1,title:"The Code",content:`# The Code Behind the Canvas

Is the universe biological or digital? The deeper we look, the more it resembles computer code. 

From the spiral of a galaxy to the arrangement of seeds in a sunflower, a specific algorithm repeats. This book investigates the possibility that we are living in a programmed realitya Sacred Simulation.

**The Question:** If there is a code, who is the Programmer?`},{id:"sa-p2",pageNumber:2,title:"Phi",content:`# The Golden Ratio (1.618...)

Phi. The Divine Proportion. It appears in the pyramids of Giza, the Parthenon, and the proportions of the human face.

### Efficiency

Nature uses Phi not for aesthetics, but for efficiency. It allows for maximum packing (seeds) and exposure (leaves) with minimal energy expenditure. It is the optimization algorithm of the universe.

**Observation:** The stock market and heartbeats also follow Phi fractal patterns.`},{id:"sa-p3",pageNumber:3,title:"Fractals",content:`# Fractals Everywhere

A fractal is a pattern that repeats at different scales. Zoom into a coastline, it looks the same. Zoom into a fern, the leaf looks like the whole plant.

### The Mandelbrot Set

A simple mathematical equation ($Z = Z^2 + C$) produces infinite complexity. This suggests our complex universe comes from a very simple seed code.

**Spiritual Truth:** "As above, so below." The macrocosm reflects the microcosm.`},{id:"sa-p4",pageNumber:4,title:"Simulation Theory",content:`# Evidence of Simulation

Elon Musk and Neil deGrasse Tyson famously argued there is a billion-to-one chance we are in "base reality."

### Pixelation (Planck Length)

Space is not continuous. It is discrete. There is a minimum unit of length (Planck length), much like a pixel on a screen. You cannot zoom in forever.

**Scientific Source:** *Nick Bostrom, "Are You Living in a Computer Simulation?" 2003.*

**Glitch:** The Observer Effect is basically "rendering optimization"  only drawing what is being looked at.`},{id:"sa-p5",pageNumber:5,title:"It From Bit",content:`# It From Bit

Physicist John Wheeler proposed that the universe is made of information, not matter. Every particle, every field, every force is ultimately a yes/no answer to a question.

### The Digital Physics

At the bottom of the rabbit hole, there is no "stuff." There are only bits. Information is more fundamental than time or space.

**Source:** *John Archibald Wheeler, 1990.*

We are processing information in a sea of data.`},{id:"sa-p6",pageNumber:6,title:"DNA Code",content:`# The Software of Life

DNA is literally a 4-character code (A, C, T, G). It functions exactly like computer software, complete with error-correcting subroutines.

### Microsoft vs Nature

Bill Gates said, "DNA is like a computer program but far, far more advanced than any software ever created."

**Source:** *The Road Ahead.*

If DNA is code, it implies a language. And a language implies an Intelligence.`},{id:"sa-p7",pageNumber:7,title:"Fine Tuning",content:`# The Fine-Tuning Problem

If the force of gravity were slightly stronger, the universe would collapse. If slightly weaker, stars wouldn't form. There are ~20 constants that are precisely set for life to exist.

### Randomness vs Design

The odds of this happening by chance are akin to throwing a dart across the universe and hitting a specific atom.

**Conclusion:** The parameters were set. The simulation was configured.`},{id:"sa-p8",pageNumber:8,title:"Algorithmic Botany",content:`# Algorithmic Botany

L-systems (Lindenmayer systems) are simple algorithms that can generate realistic 3D trees and plants. Nature follows strict procedural generation rules.

### The Fibonacci Sequence

Count the petals on a flower. 3, 5, 8, 13, 21... almost always a Fibonacci number. The universe calculates its growth steps.

**We are watching a procedural generation script run in real-time.**`},{id:"sa-p9",pageNumber:9,title:"Consciousness",content:`# The Player

If reality is the game, Consciousness is the Player. The brain is not the source of consciousness; it is the VR headset.

### Non-Local Data

Near-Death Experiences (NDEs) suggest that when the "headset" dies, the signal continues. The user logs out of the avatar but retains the data.

**Source:** *Dr. Eben Alexander, "Proof of Heaven."*`},{id:"sa-p10",pageNumber:10,title:"The Programmer",content:`# Who is the Programmer?

We call it God, Source, The All, or The Architect. 

The Sacred Algorithm reveals that science and religion are describing the same interface. One describes the User Experience (Spirituality), the other describes the Code (Physics).

**Final Truth:** You are not just in the simulation. You are a piece of the code that woke up.

**[End of Stream]**`}]}],x4={isEnabled:!0,slug:"admin",theme:"dark-minimal",profileImageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&q=80&w=200",displayName:"Ebook-Engine Team",tagline:"Official Updates & Manuals",showcasedBookIds:["manual-01","sacred-quantum-01","sacred-quantum-02"]},fte={id:"seller_admin",name:"Ebook-Engine Official",username:"@ebookengine_hq",email:"admin@ebook-engine.com",payoutEmail:"finance@ebook-engine.com",uploadedBooks:Bh,creatorSite:x4,isVerified:!0,profileImageUrl:x4.profileImageUrl,coverImageUrl:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1200",bio:"The official account for Ebook-Engine updates and documentation."},hte={id:"seller_opendev",name:"OpenDev Labs",username:"@opendev",email:"opendev-labs",payoutEmail:"opendev-labs@gmail.com",uploadedBooks:[],creatorSite:{isEnabled:!0,slug:"opendev",theme:"tech-vibrant",displayName:"OpenDev Labs",tagline:"System Architecture",showcasedBookIds:[]},isVerified:!0,isAdmin:!0,bio:"Platform Administrator"},pte={id:"user_admin",name:"Admin User",username:"@admin",email:"admin@ebook-engine.com",purchaseHistory:[Bh[0]],wishlist:[],isVerified:!0,profileImageUrl:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?auto=format&fit=crop&q=80&w=200",coverImageUrl:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1200",bio:"System Administrator and First Node."},To={user_admin:pte,seller_admin:fte,seller_opendev:hte,guest:{id:"guest",name:"Guest",email:""}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mte,gte;function yte(){return{geminiUrl:mte,vertexUrl:gte}}function vte(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=yte();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hu{}function Pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function S(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[o])){const u=t[o];if(Array.isArray(n))for(let c=0;c<u.length;c++){const f=u[c];S(f,e.slice(a+1),n[c])}else for(const c of u)S(c,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in t||(t[o]=[{}]);const u=t[o];S(u[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function x(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(o=>x(o,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function bte(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let o=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){o=u;break}if(o!==-1&&a.length>o)for(let u=o;u<a.length;u++){const c=a[u];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&s.add(c)}hR(t,i,a,0,s)}}function hR(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),o=t;if(s in o&&Array.isArray(o[s]))for(const u of o[s])hR(u,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,o=Object.keys(s).filter(c=>!c.startsWith("_")&&!i.has(c)),u={};for(const c of o)u[c]=s[c];for(const[c,f]of Object.entries(u)){const h=[];for(const g of n.slice(r))g==="*"?h.push(c):h.push(g);S(s,h,f)}for(const c of o)delete s[c]}}else{const s=t;a in s&&hR(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _k(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xte(t){const e={},n=x(t,["operationName"]);n!=null&&S(e,["operationName"],n);const r=x(t,["resourceName"]);return r!=null&&S(e,["_url","resourceName"],r),e}function wte(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&S(e,["response"],Ete(s)),e}function Ste(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Ate(s)),e}function Ete(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Cte(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function Ate(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>_te(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function Cte(t){const e={},n=x(t,["video"]);return n!=null&&S(e,["video"],kte(n)),e}function _te(t){const e={},n=x(t,["_self"]);return n!=null&&S(e,["video"],Dte(n)),e}function Tte(t){const e={},n=x(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function Nte(t){const e={},n=x(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function Rte(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Mte(s)),e}function Mte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function Z8(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Pte(s)),e}function Pte(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function kte(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&S(e,["videoBytes"],_k(r));const i=x(t,["encoding"]);return i!=null&&S(e,["mimeType"],i),e}function Dte(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],_k(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var w4;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(w4||(w4={}));var S4;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(S4||(S4={}));var E4;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(E4||(E4={}));var pr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pr||(pr={}));var A4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(A4||(A4={}));var C4;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(C4||(C4={}));var _4;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(_4||(_4={}));var T4;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(T4||(T4={}));var N4;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(N4||(N4={}));var R4;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(R4||(R4={}));var M4;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(M4||(M4={}));var P4;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(P4||(P4={}));var k4;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(k4||(k4={}));var D4;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(D4||(D4={}));var I4;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(I4||(I4={}));var L4;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(L4||(L4={}));var O4;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(O4||(O4={}));var j4;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(j4||(j4={}));var F4;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(F4||(F4={}));var K1;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(K1||(K1={}));var U4;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(U4||(U4={}));var B4;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(B4||(B4={}));var z4;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(z4||(z4={}));var pR;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pR||(pR={}));var H4;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(H4||(H4={}));var G4;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(G4||(G4={}));var $4;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})($4||($4={}));var q4;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(q4||(q4={}));var V4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(V4||(V4={}));var W4;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(W4||(W4={}));var Y4;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Y4||(Y4={}));var K4;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(K4||(K4={}));var X4;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(X4||(X4={}));var J4;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(J4||(J4={}));var Q4;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Q4||(Q4={}));var Z4;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Z4||(Z4={}));var e5;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(e5||(e5={}));var t5;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(t5||(t5={}));var n5;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(n5||(n5={}));var r5;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(r5||(r5={}));var i5;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(i5||(i5={}));var a5;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(a5||(a5={}));var s5;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(s5||(s5={}));var o5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(o5||(o5={}));var l5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(l5||(l5={}));var u5;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(u5||(u5={}));var c5;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(c5||(c5={}));var d5;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(d5||(d5={}));var f5;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(f5||(f5={}));var h5;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(h5||(h5={}));var p5;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(p5||(p5={}));var m5;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(m5||(m5={}));var g5;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(g5||(g5={}));var y5;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(y5||(y5={}));var om;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(om||(om={}));class mR{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ev{get text(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const h=[];for(const g of(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[v,w]of Object.entries(g))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(w!==null||w!==void 0)&&h.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,c+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const h of(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[g,v]of Object.entries(h))g!=="inlineData"&&(v!==null||v!==void 0)&&f.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,a,s,o,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,a,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,a,s,o,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class v5{}class b5{}class Ite{}class Lte{}class Ote{}class jte{}class x5{}class w5{}class S5{}class Fte{}class X1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new X1;let i;const a=e;return n?i=Ste(a):i=wte(a),Object.assign(r,i),r}}class E5{}class A5{}class C5{}class _5{}class Ute{}class Bte{}class zte{}class Tk{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Tk,a=Rte(e);return Object.assign(r,a),r}}class Hte{}class Gte{}class $te{}class T5{}class qte{get text(){var e,n,r;let i="",a=!1;const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(o))u!=="text"&&u!=="thought"&&c!==null&&s.push(u);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,u]of Object.entries(s))o!=="inlineData"&&u!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Vte{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Nk{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Nk,a=Z8(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function eG(t,e){const n=Mt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function tG(t){return Array.isArray(t)?t.map(e=>J1(e)):[J1(t)]}function J1(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function nG(t){const e=J1(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function rG(t){const e=J1(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function N5(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function iG(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>N5(e)):[N5(t)]}function gR(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function R5(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function M5(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Si(t){if(t==null)throw new Error("ContentUnion is required");return gR(t)?t:{role:"user",parts:iG(t)}}function Rk(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Si(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Si(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Si(n)):[Si(e)]}function Ds(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(R5(t)||M5(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Si(t)]}const e=[],n=[],r=gR(t[0]);for(const i of t){const a=gR(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(R5(i)||M5(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:iG(n)}),e}function Wte(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(pr).includes(n[0].toUpperCase())?n[0].toUpperCase():pr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(pr).includes(r.toUpperCase())?r.toUpperCase():pr.TYPE_UNSPECIFIED})}}function bm(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&Wte(t.type,e);for(const[s,o]of Object.entries(t))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(pr).includes(o.toUpperCase())?o.toUpperCase():pr.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=bm(o);else if(r.includes(s)){const u=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}u.push(bm(c))}e[s]=u}else if(i.includes(s)){const u={};for(const[c,f]of Object.entries(o))u[c]=bm(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=o}return e}function Mk(t){return bm(t)}function Pk(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function kk(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function my(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=bm(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=bm(e.response));return t}function gy(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Yte(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Gu(t,e){if(typeof e!="string")throw new Error("name must be a string");return Yte(t,e,"cachedContents")}function aG(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ud(t){return _k(t)}function Kte(t){return t!=null&&typeof t=="object"&&"name"in t}function Xte(t){return t!=null&&typeof t=="object"&&"video"in t}function Jte(t){return t!=null&&typeof t=="object"&&"uri"in t}function sG(t){var e;let n;if(Kte(t)&&(n=t.name),!(Jte(t)&&(n=t.uri,n===void 0))&&!(Xte(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function oG(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function lG(t){for(const e of["models","tunedModels","publisherModels"])if(Qte(t,e))return t[e];return[]}function Qte(t,e){return t!==null&&typeof t=="object"&&e in t}function Zte(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function ene(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=Zte(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function uG(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function tne(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function cG(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function yy(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function dG(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nne(t){const e={},n=x(t,["responsesFile"]);n!=null&&S(e,["fileName"],n);const r=x(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>One(s))),S(e,["inlinedResponses"],a)}const i=x(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["inlinedEmbedContentResponses"],a)}return e}function rne(t){const e={},n=x(t,["predictionsFormat"]);n!=null&&S(e,["format"],n);const r=x(t,["gcsDestination","outputUriPrefix"]);r!=null&&S(e,["gcsUri"],r);const i=x(t,["bigqueryDestination","outputUri"]);return i!=null&&S(e,["bigqueryUri"],i),e}function ine(t){const e={},n=x(t,["format"]);n!=null&&S(e,["predictionsFormat"],n);const r=x(t,["gcsUri"]);r!=null&&S(e,["gcsDestination","outputUriPrefix"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&S(e,["bigqueryDestination","outputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function n1(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata","displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["metadata","state"]);i!=null&&S(e,["state"],dG(i));const a=x(t,["metadata","createTime"]);a!=null&&S(e,["createTime"],a);const s=x(t,["metadata","endTime"]);s!=null&&S(e,["endTime"],s);const o=x(t,["metadata","updateTime"]);o!=null&&S(e,["updateTime"],o);const u=x(t,["metadata","model"]);u!=null&&S(e,["model"],u);const c=x(t,["metadata","output"]);return c!=null&&S(e,["dest"],nne(cG(c))),e}function yR(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["state"]);i!=null&&S(e,["state"],dG(i));const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["createTime"]);s!=null&&S(e,["createTime"],s);const o=x(t,["startTime"]);o!=null&&S(e,["startTime"],o);const u=x(t,["endTime"]);u!=null&&S(e,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(e,["updateTime"],c);const f=x(t,["model"]);f!=null&&S(e,["model"],f);const h=x(t,["inputConfig"]);h!=null&&S(e,["src"],ane(h));const g=x(t,["outputConfig"]);g!=null&&S(e,["dest"],rne(cG(g)));const v=x(t,["completionStats"]);return v!=null&&S(e,["completionStats"],v),e}function ane(t){const e={},n=x(t,["instancesFormat"]);n!=null&&S(e,["format"],n);const r=x(t,["gcsSource","uris"]);r!=null&&S(e,["gcsUri"],r);const i=x(t,["bigquerySource","inputUri"]);return i!=null&&S(e,["bigqueryUri"],i),e}function sne(t,e){const n={};if(x(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(e,["fileName"]);r!=null&&S(n,["fileName"],r);const i=x(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Lne(t,s))),S(n,["requests","requests"],a)}return n}function one(t){const e={},n=x(t,["format"]);n!=null&&S(e,["instancesFormat"],n);const r=x(t,["gcsUri"]);r!=null&&S(e,["gcsSource","uris"],r);const i=x(t,["bigqueryUri"]);if(i!=null&&S(e,["bigquerySource","inputUri"],i),x(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function lne(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function une(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],yy(t,r)),n}function cne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],yy(t,r)),n}function dne(t){const e={},n=x(t,["content"]);n!=null&&S(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],fne(r));const i=x(t,["tokenCount"]);i!=null&&S(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&S(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&S(e,["avgLogprobs"],s);const o=x(t,["groundingMetadata"]);o!=null&&S(e,["groundingMetadata"],o);const u=x(t,["index"]);u!=null&&S(e,["index"],u);const c=x(t,["logprobsResult"]);c!=null&&S(e,["logprobsResult"],c);const f=x(t,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),S(e,["safetyRatings"],g)}const h=x(t,["urlContextMetadata"]);return h!=null&&S(e,["urlContextMetadata"],h),e}function fne(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["citations"],r)}return e}function fG(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Gne(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function hne(t,e){const n={},r=x(t,["displayName"]);if(e!==void 0&&r!=null&&S(e,["batch","displayName"],r),x(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function pne(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["dest"]);return e!==void 0&&i!=null&&S(e,["outputConfig"],ine(tne(i))),n}function P5(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["src"]);i!=null&&S(n,["batch","inputConfig"],sne(t,uG(t,i)));const a=x(e,["config"]);return a!=null&&hne(a,n),n}function mne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],Mt(t,r));const i=x(e,["src"]);i!=null&&S(n,["inputConfig"],one(uG(t,i)));const a=x(e,["config"]);return a!=null&&pne(a,n),n}function gne(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&S(e,["batch","displayName"],r),n}function yne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["src"]);i!=null&&S(n,["batch","inputConfig"],Ane(t,i));const a=x(e,["config"]);return a!=null&&gne(a,n),n}function vne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],yy(t,r)),n}function bne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],yy(t,r)),n}function xne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);return a!=null&&S(e,["error"],a),e}function wne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);return a!=null&&S(e,["error"],a),e}function Sne(t,e){const n={},r=x(e,["contents"]);if(r!=null){let a=Rk(t,r);Array.isArray(a)&&(a=a.map(s=>s)),S(n,["requests[]","request","content"],a)}const i=x(e,["config"]);return i!=null&&(S(n,["_self"],Ene(i,n)),bte(n,{"requests[].*":"requests[].request.*"})),n}function Ene(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&S(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ane(t,e){const n={},r=x(e,["fileName"]);r!=null&&S(n,["file_name"],r);const i=x(e,["inlinedRequests"]);return i!=null&&S(n,["requests"],Sne(t,i)),n}function Cne(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function _ne(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tne(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Nne(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],fG(Si(i)));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const g=x(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const v=x(e,["presencePenalty"]);v!=null&&S(r,["presencePenalty"],v);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const E=x(e,["seed"]);E!=null&&S(r,["seed"],E);const A=x(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const _=x(e,["responseSchema"]);_!=null&&S(r,["responseSchema"],Mk(_));const M=x(e,["responseJsonSchema"]);if(M!=null&&S(r,["responseJsonSchema"],M),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=x(e,["safetySettings"]);if(n!==void 0&&R!=null){let q=R;Array.isArray(q)&&(q=q.map(Z=>$ne(Z))),S(n,["safetySettings"],q)}const I=x(e,["tools"]);if(n!==void 0&&I!=null){let q=gy(I);Array.isArray(q)&&(q=q.map(Z=>Vne(my(Z)))),S(n,["tools"],q)}const D=x(e,["toolConfig"]);if(n!==void 0&&D!=null&&S(n,["toolConfig"],qne(D)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=x(e,["cachedContent"]);n!==void 0&&k!=null&&S(n,["cachedContent"],Gu(t,k));const P=x(e,["responseModalities"]);P!=null&&S(r,["responseModalities"],P);const B=x(e,["mediaResolution"]);B!=null&&S(r,["mediaResolution"],B);const z=x(e,["speechConfig"]);if(z!=null&&S(r,["speechConfig"],Pk(z)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=x(e,["thinkingConfig"]);W!=null&&S(r,["thinkingConfig"],W);const U=x(e,["imageConfig"]);return U!=null&&S(r,["imageConfig"],Ine(U)),r}function Rne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>dne(c))),S(e,["candidates"],u)}const i=x(t,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&S(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&S(e,["responseId"],s);const o=x(t,["usageMetadata"]);return o!=null&&S(e,["usageMetadata"],o),e}function Mne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],yy(t,r)),n}function Pne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],yy(t,r)),n}function kne(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function Dne(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Ine(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&S(e,["imageSize"],r),x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Lne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["request","model"],Mt(t,r));const i=x(e,["contents"]);if(i!=null){let o=Ds(i);Array.isArray(o)&&(o=o.map(u=>fG(u))),S(n,["request","contents"],o)}const a=x(e,["metadata"]);a!=null&&S(n,["metadata"],a);const s=x(e,["config"]);return s!=null&&S(n,["request","generationConfig"],Nne(t,s,x(n,["request"],{}))),n}function One(t){const e={},n=x(t,["response"]);n!=null&&S(e,["response"],Rne(n));const r=x(t,["error"]);return r!=null&&S(e,["error"],r),e}function jne(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);if(e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),x(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Fne(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);e!==void 0&&i!=null&&S(e,["_query","pageToken"],i);const a=x(t,["filter"]);return e!==void 0&&a!=null&&S(e,["_query","filter"],a),n}function Une(t){const e={},n=x(t,["config"]);return n!=null&&jne(n,e),e}function Bne(t){const e={},n=x(t,["config"]);return n!=null&&Fne(n,e),e}function zne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>n1(s))),S(e,["batchJobs"],a)}return e}function Hne(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>yR(s))),S(e,["batchJobs"],a)}return e}function Gne(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Cne(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],_ne(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],lne(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function $ne(t){const e={},n=x(t,["category"]);if(n!=null&&S(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function qne(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],Tne(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function Vne(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],kne(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],Dne(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Nu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Nu||(Nu={}));class tp{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wne extends Hu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new tp(Nu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=P5(this.apiClient,e),r=n._url,i=Pe("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,u=o.requests,c=[];for(const f of u){const h=Object.assign({},f);if(h.systemInstruction){const g=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=g,h.request=v}c.push(h)}return o.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=mne(this.apiClient,e);return o=Pe("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>yR(f))}else{const c=P5(this.apiClient,e);return o=Pe("{model}:batchGenerateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>n1(f))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yne(this.apiClient,e);return a=Pe("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>n1(u))}}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Pne(this.apiClient,e);return o=Pe("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>yR(f))}else{const c=Mne(this.apiClient,e);return o=Pe("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>n1(f))}}async cancel(e){var n,r,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const u=cne(this.apiClient,e);s=Pe("batchPredictionJobs/{name}:cancel",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=une(this.apiClient,e);s=Pe("batches/{name}:cancel",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Bne(e);return o=Pe("batchPredictionJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Hne(f),g=new T5;return Object.assign(g,h),g})}else{const c=Une(e);return o=Pe("batches",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=zne(f),g=new T5;return Object.assign(g,h),g})}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=bne(this.apiClient,e);return o=Pe("batchPredictionJobs/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>wne(f))}else{const c=vne(this.apiClient,e);return o=Pe("batches/{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>xne(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yne(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function k5(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>yre(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function Kne(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&S(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&S(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let f=Ds(s);Array.isArray(f)&&(f=f.map(h=>k5(h))),S(e,["contents"],f)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&S(e,["systemInstruction"],k5(Si(o)));const u=x(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>bre(h))),S(e,["tools"],f)}const c=x(t,["toolConfig"]);if(e!==void 0&&c!=null&&S(e,["toolConfig"],vre(c)),x(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Xne(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);e!==void 0&&i!=null&&S(e,["expireTime"],i);const a=x(t,["displayName"]);e!==void 0&&a!=null&&S(e,["displayName"],a);const s=x(t,["contents"]);if(e!==void 0&&s!=null){let h=Ds(s);Array.isArray(h)&&(h=h.map(g=>g)),S(e,["contents"],h)}const o=x(t,["systemInstruction"]);e!==void 0&&o!=null&&S(e,["systemInstruction"],Si(o));const u=x(t,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>xre(g))),S(e,["tools"],h)}const c=x(t,["toolConfig"]);e!==void 0&&c!=null&&S(e,["toolConfig"],c);const f=x(t,["kmsKeyName"]);return e!==void 0&&f!=null&&S(e,["encryption_spec","kmsKeyName"],f),n}function Jne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],eG(t,r));const i=x(e,["config"]);return i!=null&&Kne(i,n),n}function Qne(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["model"],eG(t,r));const i=x(e,["config"]);return i!=null&&Xne(i,n),n}function Zne(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Gu(t,r)),n}function ere(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Gu(t,r)),n}function tre(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function nre(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function rre(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function ire(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function are(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sre(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function ore(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Gu(t,r)),n}function lre(t,e){const n={},r=x(e,["name"]);return r!=null&&S(n,["_url","name"],Gu(t,r)),n}function ure(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function cre(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function dre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function fre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function hre(t){const e={},n=x(t,["config"]);return n!=null&&dre(n,e),e}function pre(t){const e={},n=x(t,["config"]);return n!=null&&fre(n,e),e}function mre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["cachedContents"],a)}return e}function gre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["cachedContents"],a)}return e}function yre(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],rre(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],ire(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],Yne(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function vre(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],are(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function bre(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],ure(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],cre(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function xre(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>sre(g))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function wre(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&S(e,["expireTime"],i),n}function Sre(t,e){const n={},r=x(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const i=x(t,["expireTime"]);return e!==void 0&&i!=null&&S(e,["expireTime"],i),n}function Ere(t,e){const n={},r=x(e,["name"]);r!=null&&S(n,["_url","name"],Gu(t,r));const i=x(e,["config"]);return i!=null&&wre(i,n),n}function Are(t,e){const n={},r=x(e,["name"]);r!=null&&S(n,["_url","name"],Gu(t,r));const i=x(e,["config"]);return i!=null&&Sre(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cre extends Hu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new tp(Nu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Qne(this.apiClient,e);return o=Pe("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=Jne(this.apiClient,e);return o=Pe("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=lre(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=ore(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=ere(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=nre(f),g=new C5;return Object.assign(g,h),g})}else{const c=Zne(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=tre(f),g=new C5;return Object.assign(g,h),g})}}async update(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Are(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const c=Ere(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=pre(e);return o=Pe("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=gre(f),g=new _5;return Object.assign(g,h),g})}else{const c=hre(e);return o=Pe("cachedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=mre(f),g=new _5;return Object.assign(g,h),g})}}}function D5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(t){return this instanceof gn?(this.v=t,this):new gn(t)}function xm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(w){return Promise.resolve(w).then(v,h)}}function o(v,w){r[v]&&(i[v]=function(E){return new Promise(function(A,_){a.push([v,E,A,_])>1||u(v,E)})},w&&(i[v]=w(i[v])))}function u(v,w){try{c(r[v](w))}catch(E){g(a[0][3],E)}}function c(v){v.value instanceof gn?Promise.resolve(v.value.v).then(f,h):g(a[0][2],v)}function f(v){u("next",v)}function h(v){u("throw",v)}function g(v,w){v(w),a.shift(),a.length&&u(a[0][0],a[0][1])}}function d0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof D5=="function"?D5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,u){s=t[a](s),i(o,u,s.done,s.value)})}}function i(a,s,o,u){Promise.resolve(u).then(function(c){a({value:c,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _re(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:hG(n)}function hG(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Tre(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function I5(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!hG(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class Nre{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Rre(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Rre{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Tre(a)}async sendMessage(e){var n;await this.sendPromise;const r=Si(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,o;const u=await i,c=(s=(a=u.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let g=[];f!=null&&(g=(o=f.slice(h))!==null&&o!==void 0?o:[]);const v=c?[c]:[];this.recordHistory(r,v,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Si(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?I5(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return xm(this,arguments,function*(){var s,o,u,c;const f=[];try{for(var h=!0,g=d0(e),v;v=yield gn(g.next()),s=v.done,!s;h=!0){c=v.value,h=!1;const w=c;if(_re(w)){const E=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;E!==void 0&&f.push(E)}yield yield gn(w)}}catch(w){o={error:w}}finally{try{!h&&!s&&(u=g.return)&&(yield gn(u.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...I5(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IA extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,IA.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mre(t){const e={},n=x(t,["file"]);return n!=null&&S(e,["file"],n),e}function Pre(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function kre(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","file"],sG(n)),e}function Dre(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Ire(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","file"],sG(n)),e}function Lre(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function Ore(t){const e={},n=x(t,["config"]);return n!=null&&Lre(n,e),e}function jre(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fre extends Hu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new tp(Nu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ore(e);return a=Pe("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=jre(u),f=new Hte;return Object.assign(f,c),f})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Mre(e);return a=Pe("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Pre(u),f=new Gte;return Object.assign(f,c),f})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Ire(e);return a=Pe("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kre(e);return a=Pe("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=Dre(u),f=new $te;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r1(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Ure(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>tie(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function Bre(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function zre(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hre(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function Gre(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&S(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&S(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&S(e,["enableAffectiveDialog"],s);const o=x(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=x(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const c=x(t,["maxOutputTokens"]);c!=null&&S(e,["maxOutputTokens"],c);const f=x(t,["mediaResolution"]);f!=null&&S(e,["mediaResolution"],f);const h=x(t,["presencePenalty"]);h!=null&&S(e,["presencePenalty"],h);const g=x(t,["responseLogprobs"]);g!=null&&S(e,["responseLogprobs"],g);const v=x(t,["responseMimeType"]);v!=null&&S(e,["responseMimeType"],v);const w=x(t,["responseModalities"]);w!=null&&S(e,["responseModalities"],w);const E=x(t,["responseSchema"]);E!=null&&S(e,["responseSchema"],E);const A=x(t,["routingConfig"]);A!=null&&S(e,["routingConfig"],A);const _=x(t,["seed"]);_!=null&&S(e,["seed"],_);const M=x(t,["speechConfig"]);M!=null&&S(e,["speechConfig"],pG(M));const R=x(t,["stopSequences"]);R!=null&&S(e,["stopSequences"],R);const I=x(t,["temperature"]);I!=null&&S(e,["temperature"],I);const D=x(t,["thinkingConfig"]);D!=null&&S(e,["thinkingConfig"],D);const k=x(t,["topK"]);k!=null&&S(e,["topK"],k);const P=x(t,["topP"]);if(P!=null&&S(e,["topP"],P),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $re(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function qre(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Vre(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],kk(h));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const v=x(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],Ure(Si(w)));const E=x(t,["tools"]);if(e!==void 0&&E!=null){let k=gy(E);Array.isArray(k)&&(k=k.map(P=>rie(my(P)))),S(e,["setup","tools"],k)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],nie(A));const _=x(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&S(e,["setup","inputAudioTranscription"],_);const M=x(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&S(e,["setup","outputAudioTranscription"],M);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const I=x(t,["contextWindowCompression"]);e!==void 0&&I!=null&&S(e,["setup","contextWindowCompression"],I);const D=x(t,["proactivity"]);return e!==void 0&&D!=null&&S(e,["setup","proactivity"],D),n}function Wre(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],Gre(r));const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],pG(kk(h)));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const v=x(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],Si(w));const E=x(t,["tools"]);if(e!==void 0&&E!=null){let k=gy(E);Array.isArray(k)&&(k=k.map(P=>iie(my(P)))),S(e,["setup","tools"],k)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],A);const _=x(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&S(e,["setup","inputAudioTranscription"],_);const M=x(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&S(e,["setup","outputAudioTranscription"],M);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const I=x(t,["contextWindowCompression"]);e!==void 0&&I!=null&&S(e,["setup","contextWindowCompression"],I);const D=x(t,["proactivity"]);return e!==void 0&&D!=null&&S(e,["setup","proactivity"],D),n}function Yre(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Mt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Vre(i,n)),n}function Kre(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Mt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Wre(i,n)),n}function Xre(t){const e={},n=x(t,["musicGenerationConfig"]);return n!=null&&S(e,["musicGenerationConfig"],n),e}function Jre(t){const e={},n=x(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["weightedPrompts"],r)}return e}function Qre(t){const e={},n=x(t,["media"]);if(n!=null){let c=tG(n);Array.isArray(c)&&(c=c.map(f=>r1(f))),S(e,["mediaChunks"],c)}const r=x(t,["audio"]);r!=null&&S(e,["audio"],r1(rG(r)));const i=x(t,["audioStreamEnd"]);i!=null&&S(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&S(e,["video"],r1(nG(a)));const s=x(t,["text"]);s!=null&&S(e,["text"],s);const o=x(t,["activityStart"]);o!=null&&S(e,["activityStart"],o);const u=x(t,["activityEnd"]);return u!=null&&S(e,["activityEnd"],u),e}function Zre(t){const e={},n=x(t,["media"]);if(n!=null){let c=tG(n);Array.isArray(c)&&(c=c.map(f=>f)),S(e,["mediaChunks"],c)}const r=x(t,["audio"]);r!=null&&S(e,["audio"],rG(r));const i=x(t,["audioStreamEnd"]);i!=null&&S(e,["audioStreamEnd"],i);const a=x(t,["video"]);a!=null&&S(e,["video"],nG(a));const s=x(t,["text"]);s!=null&&S(e,["text"],s);const o=x(t,["activityStart"]);o!=null&&S(e,["activityStart"],o);const u=x(t,["activityEnd"]);return u!=null&&S(e,["activityEnd"],u),e}function eie(t){const e={},n=x(t,["setupComplete"]);n!=null&&S(e,["setupComplete"],n);const r=x(t,["serverContent"]);r!=null&&S(e,["serverContent"],r);const i=x(t,["toolCall"]);i!=null&&S(e,["toolCall"],i);const a=x(t,["toolCallCancellation"]);a!=null&&S(e,["toolCallCancellation"],a);const s=x(t,["usageMetadata"]);s!=null&&S(e,["usageMetadata"],aie(s));const o=x(t,["goAway"]);o!=null&&S(e,["goAway"],o);const u=x(t,["sessionResumptionUpdate"]);return u!=null&&S(e,["sessionResumptionUpdate"],u),e}function tie(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Bre(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],zre(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],r1(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function nie(t){const e={},n=x(t,["handle"]);if(n!=null&&S(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function pG(t){const e={},n=x(t,["languageCode"]);n!=null&&S(e,["languageCode"],n);const r=x(t,["voiceConfig"]);if(r!=null&&S(e,["voiceConfig"],r),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rie(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],$re(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],qre(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function iie(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>Hre(g))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function aie(t){const e={},n=x(t,["promptTokenCount"]);n!=null&&S(e,["promptTokenCount"],n);const r=x(t,["cachedContentTokenCount"]);r!=null&&S(e,["cachedContentTokenCount"],r);const i=x(t,["candidatesTokenCount"]);i!=null&&S(e,["responseTokenCount"],i);const a=x(t,["toolUsePromptTokenCount"]);a!=null&&S(e,["toolUsePromptTokenCount"],a);const s=x(t,["thoughtsTokenCount"]);s!=null&&S(e,["thoughtsTokenCount"],s);const o=x(t,["totalTokenCount"]);o!=null&&S(e,["totalTokenCount"],o);const u=x(t,["promptTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(w=>w)),S(e,["promptTokensDetails"],v)}const c=x(t,["cacheTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(w=>w)),S(e,["cacheTokensDetails"],v)}const f=x(t,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(w=>w)),S(e,["responseTokensDetails"],v)}const h=x(t,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(w=>w)),S(e,["toolUsePromptTokensDetails"],v)}const g=x(t,["trafficType"]);return g!=null&&S(e,["trafficType"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sie(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function oie(t){const e={},n=x(t,["content"]);n!=null&&S(e,["content"],n);const r=x(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],lie(r));const i=x(t,["tokenCount"]);i!=null&&S(e,["tokenCount"],i);const a=x(t,["finishReason"]);a!=null&&S(e,["finishReason"],a);const s=x(t,["avgLogprobs"]);s!=null&&S(e,["avgLogprobs"],s);const o=x(t,["groundingMetadata"]);o!=null&&S(e,["groundingMetadata"],o);const u=x(t,["index"]);u!=null&&S(e,["index"],u);const c=x(t,["logprobsResult"]);c!=null&&S(e,["logprobsResult"],c);const f=x(t,["safetyRatings"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>v)),S(e,["safetyRatings"],g)}const h=x(t,["urlContextMetadata"]);return h!=null&&S(e,["urlContextMetadata"],h),e}function lie(t){const e={},n=x(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),S(e,["citations"],r)}return e}function uie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["contents"]);if(i!=null){let a=Ds(i);Array.isArray(a)&&(a=a.map(s=>s)),S(n,["contents"],a)}return n}function cie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(e,["tokensInfo"],i)}return e}function die(t){const e={},n=x(t,["values"]);n!=null&&S(e,["values"],n);const r=x(t,["statistics"]);return r!=null&&S(e,["statistics"],fie(r)),e}function fie(t){const e={},n=x(t,["truncated"]);n!=null&&S(e,["truncated"],n);const r=x(t,["token_count"]);return r!=null&&S(e,["tokenCount"],r),e}function LA(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>wae(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function hie(t){const e={},n=x(t,["controlType"]);n!=null&&S(e,["controlType"],n);const r=x(t,["enableControlImageComputation"]);return r!=null&&S(e,["computeControl"],r),e}function pie(t){const e={};if(x(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function mie(t,e){const n={},r=x(t,["systemInstruction"]);e!==void 0&&r!=null&&S(e,["systemInstruction"],Si(r));const i=x(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>bG(o))),S(e,["tools"],s)}const a=x(t,["generationConfig"]);return e!==void 0&&a!=null&&S(e,["generationConfig"],sae(a)),n}function gie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ds(i);Array.isArray(s)&&(s=s.map(o=>LA(o))),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&pie(a),n}function yie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ds(i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&mie(a,n),n}function vie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);r!=null&&S(e,["totalTokens"],r);const i=x(t,["cachedContentTokenCount"]);return i!=null&&S(e,["cachedContentTokenCount"],i),e}function bie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["totalTokens"]);return r!=null&&S(e,["totalTokens"],r),e}function xie(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Mt(t,r)),n}function wie(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Mt(t,r)),n}function Sie(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Eie(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function Aie(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&S(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&S(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&S(e,["parameters","aspectRatio"],s);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&S(e,["parameters","guidanceScale"],o);const u=x(t,["seed"]);e!==void 0&&u!=null&&S(e,["parameters","seed"],u);const c=x(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&S(e,["parameters","safetySetting"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&S(e,["parameters","includeRaiReason"],g);const v=x(t,["language"]);e!==void 0&&v!=null&&S(e,["parameters","language"],v);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","mimeType"],w);const E=x(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&S(e,["parameters","outputOptions","compressionQuality"],E);const A=x(t,["addWatermark"]);e!==void 0&&A!=null&&S(e,["parameters","addWatermark"],A);const _=x(t,["labels"]);e!==void 0&&_!=null&&S(e,["labels"],_);const M=x(t,["editMode"]);e!==void 0&&M!=null&&S(e,["parameters","editMode"],M);const R=x(t,["baseSteps"]);return e!==void 0&&R!=null&&S(e,["parameters","editConfig","baseSteps"],R),n}function Cie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>Tae(u))),S(n,["instances[0]","referenceImages"],o)}const s=x(e,["config"]);return s!=null&&Aie(s,n),n}function _ie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>OA(a))),S(e,["generatedImages"],i)}return e}function Tie(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["requests[]","title"],i);const a=x(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&S(e,["requests[]","outputDimensionality"],a),x(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Nie(t,e){const n={},r=x(t,["taskType"]);e!==void 0&&r!=null&&S(e,["instances[]","task_type"],r);const i=x(t,["title"]);e!==void 0&&i!=null&&S(e,["instances[]","title"],i);const a=x(t,["outputDimensionality"]);e!==void 0&&a!=null&&S(e,["parameters","outputDimensionality"],a);const s=x(t,["mimeType"]);e!==void 0&&s!=null&&S(e,["instances[]","mimeType"],s);const o=x(t,["autoTruncate"]);return e!==void 0&&o!=null&&S(e,["parameters","autoTruncate"],o),n}function Rie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["contents"]);if(i!=null){let o=Rk(t,i);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["requests[]","content"],o)}const a=x(e,["config"]);a!=null&&Tie(a,n);const s=x(e,["model"]);return s!==void 0&&S(n,["requests[]","model"],Mt(t,s)),n}function Mie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Rk(t,i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["instances[]","content"],s)}const a=x(e,["config"]);return a!=null&&Nie(a,n),n}function Pie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&S(e,["metadata"],i),e}function kie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>die(s))),S(e,["embeddings"],a)}const i=x(t,["metadata"]);return i!=null&&S(e,["metadata"],i),e}function Die(t){const e={},n=x(t,["endpoint"]);n!=null&&S(e,["name"],n);const r=x(t,["deployedModelId"]);return r!=null&&S(e,["deployedModelId"],r),e}function Iie(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Lie(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Oie(t){const e={},n=x(t,["mode"]);n!=null&&S(e,["mode"],n);const r=x(t,["allowedFunctionNames"]);if(r!=null&&S(e,["allowedFunctionNames"],r),x(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jie(t){const e={};if(x(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=x(t,["description"]);n!=null&&S(e,["description"],n);const r=x(t,["name"]);r!=null&&S(e,["name"],r);const i=x(t,["parameters"]);i!=null&&S(e,["parameters"],i);const a=x(t,["parametersJsonSchema"]);a!=null&&S(e,["parametersJsonSchema"],a);const s=x(t,["response"]);s!=null&&S(e,["response"],s);const o=x(t,["responseJsonSchema"]);return o!=null&&S(e,["responseJsonSchema"],o),e}function Fie(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],LA(Si(i)));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const g=x(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const v=x(e,["presencePenalty"]);v!=null&&S(r,["presencePenalty"],v);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const E=x(e,["seed"]);E!=null&&S(r,["seed"],E);const A=x(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const _=x(e,["responseSchema"]);_!=null&&S(r,["responseSchema"],Mk(_));const M=x(e,["responseJsonSchema"]);if(M!=null&&S(r,["responseJsonSchema"],M),x(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=x(e,["safetySettings"]);if(n!==void 0&&R!=null){let q=R;Array.isArray(q)&&(q=q.map(Z=>Nae(Z))),S(n,["safetySettings"],q)}const I=x(e,["tools"]);if(n!==void 0&&I!=null){let q=gy(I);Array.isArray(q)&&(q=q.map(Z=>Lae(my(Z)))),S(n,["tools"],q)}const D=x(e,["toolConfig"]);if(n!==void 0&&D!=null&&S(n,["toolConfig"],Iae(D)),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=x(e,["cachedContent"]);n!==void 0&&k!=null&&S(n,["cachedContent"],Gu(t,k));const P=x(e,["responseModalities"]);P!=null&&S(r,["responseModalities"],P);const B=x(e,["mediaResolution"]);B!=null&&S(r,["mediaResolution"],B);const z=x(e,["speechConfig"]);if(z!=null&&S(r,["speechConfig"],Pk(z)),x(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=x(e,["thinkingConfig"]);W!=null&&S(r,["thinkingConfig"],W);const U=x(e,["imageConfig"]);return U!=null&&S(r,["imageConfig"],dae(U)),r}function Uie(t,e,n){const r={},i=x(e,["systemInstruction"]);n!==void 0&&i!=null&&S(n,["systemInstruction"],Si(i));const a=x(e,["temperature"]);a!=null&&S(r,["temperature"],a);const s=x(e,["topP"]);s!=null&&S(r,["topP"],s);const o=x(e,["topK"]);o!=null&&S(r,["topK"],o);const u=x(e,["candidateCount"]);u!=null&&S(r,["candidateCount"],u);const c=x(e,["maxOutputTokens"]);c!=null&&S(r,["maxOutputTokens"],c);const f=x(e,["stopSequences"]);f!=null&&S(r,["stopSequences"],f);const h=x(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const g=x(e,["logprobs"]);g!=null&&S(r,["logprobs"],g);const v=x(e,["presencePenalty"]);v!=null&&S(r,["presencePenalty"],v);const w=x(e,["frequencyPenalty"]);w!=null&&S(r,["frequencyPenalty"],w);const E=x(e,["seed"]);E!=null&&S(r,["seed"],E);const A=x(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const _=x(e,["responseSchema"]);_!=null&&S(r,["responseSchema"],Mk(_));const M=x(e,["responseJsonSchema"]);M!=null&&S(r,["responseJsonSchema"],M);const R=x(e,["routingConfig"]);R!=null&&S(r,["routingConfig"],R);const I=x(e,["modelSelectionConfig"]);I!=null&&S(r,["modelConfig"],I);const D=x(e,["safetySettings"]);if(n!==void 0&&D!=null){let H=D;Array.isArray(H)&&(H=H.map($=>$)),S(n,["safetySettings"],H)}const k=x(e,["tools"]);if(n!==void 0&&k!=null){let H=gy(k);Array.isArray(H)&&(H=H.map($=>bG(my($)))),S(n,["tools"],H)}const P=x(e,["toolConfig"]);n!==void 0&&P!=null&&S(n,["toolConfig"],P);const B=x(e,["labels"]);n!==void 0&&B!=null&&S(n,["labels"],B);const z=x(e,["cachedContent"]);n!==void 0&&z!=null&&S(n,["cachedContent"],Gu(t,z));const W=x(e,["responseModalities"]);W!=null&&S(r,["responseModalities"],W);const U=x(e,["mediaResolution"]);U!=null&&S(r,["mediaResolution"],U);const q=x(e,["speechConfig"]);q!=null&&S(r,["speechConfig"],vG(Pk(q)));const Z=x(e,["audioTimestamp"]);Z!=null&&S(r,["audioTimestamp"],Z);const V=x(e,["thinkingConfig"]);V!=null&&S(r,["thinkingConfig"],V);const Q=x(e,["imageConfig"]);return Q!=null&&S(r,["imageConfig"],fae(Q)),r}function L5(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ds(i);Array.isArray(s)&&(s=s.map(o=>LA(o))),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&S(n,["generationConfig"],Fie(t,a,n)),n}function O5(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["contents"]);if(i!=null){let s=Ds(i);Array.isArray(s)&&(s=s.map(o=>o)),S(n,["contents"],s)}const a=x(e,["config"]);return a!=null&&S(n,["generationConfig"],Uie(t,a,n)),n}function j5(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>oie(c))),S(e,["candidates"],u)}const i=x(t,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const a=x(t,["promptFeedback"]);a!=null&&S(e,["promptFeedback"],a);const s=x(t,["responseId"]);s!=null&&S(e,["responseId"],s);const o=x(t,["usageMetadata"]);return o!=null&&S(e,["usageMetadata"],o),e}function F5(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>f)),S(e,["candidates"],c)}const i=x(t,["createTime"]);i!=null&&S(e,["createTime"],i);const a=x(t,["modelVersion"]);a!=null&&S(e,["modelVersion"],a);const s=x(t,["promptFeedback"]);s!=null&&S(e,["promptFeedback"],s);const o=x(t,["responseId"]);o!=null&&S(e,["responseId"],o);const u=x(t,["usageMetadata"]);return u!=null&&S(e,["usageMetadata"],u),e}function Bie(t,e){const n={};if(x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["aspectRatio"]);e!==void 0&&i!=null&&S(e,["parameters","aspectRatio"],i);const a=x(t,["guidanceScale"]);if(e!==void 0&&a!=null&&S(e,["parameters","guidanceScale"],a),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=x(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&S(e,["parameters","safetySetting"],s);const o=x(t,["personGeneration"]);e!==void 0&&o!=null&&S(e,["parameters","personGeneration"],o);const u=x(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&S(e,["parameters","includeSafetyAttributes"],u);const c=x(t,["includeRaiReason"]);e!==void 0&&c!=null&&S(e,["parameters","includeRaiReason"],c);const f=x(t,["language"]);e!==void 0&&f!=null&&S(e,["parameters","language"],f);const h=x(t,["outputMimeType"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","mimeType"],h);const g=x(t,["outputCompressionQuality"]);if(e!==void 0&&g!=null&&S(e,["parameters","outputOptions","compressionQuality"],g),x(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=x(t,["imageSize"]);if(e!==void 0&&v!=null&&S(e,["parameters","sampleImageSize"],v),x(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function zie(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["negativePrompt"]);e!==void 0&&i!=null&&S(e,["parameters","negativePrompt"],i);const a=x(t,["numberOfImages"]);e!==void 0&&a!=null&&S(e,["parameters","sampleCount"],a);const s=x(t,["aspectRatio"]);e!==void 0&&s!=null&&S(e,["parameters","aspectRatio"],s);const o=x(t,["guidanceScale"]);e!==void 0&&o!=null&&S(e,["parameters","guidanceScale"],o);const u=x(t,["seed"]);e!==void 0&&u!=null&&S(e,["parameters","seed"],u);const c=x(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&S(e,["parameters","safetySetting"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const g=x(t,["includeRaiReason"]);e!==void 0&&g!=null&&S(e,["parameters","includeRaiReason"],g);const v=x(t,["language"]);e!==void 0&&v!=null&&S(e,["parameters","language"],v);const w=x(t,["outputMimeType"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","mimeType"],w);const E=x(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&S(e,["parameters","outputOptions","compressionQuality"],E);const A=x(t,["addWatermark"]);e!==void 0&&A!=null&&S(e,["parameters","addWatermark"],A);const _=x(t,["labels"]);e!==void 0&&_!=null&&S(e,["labels"],_);const M=x(t,["imageSize"]);e!==void 0&&M!=null&&S(e,["parameters","sampleImageSize"],M);const R=x(t,["enhancePrompt"]);return e!==void 0&&R!=null&&S(e,["parameters","enhancePrompt"],R),n}function Hie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&Bie(a,n),n}function Gie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["config"]);return a!=null&&zie(a,n),n}function $ie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>nae(s))),S(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&S(e,["positivePromptSafetyAttributes"],gG(i)),e}function qie(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>OA(s))),S(e,["generatedImages"],a)}const i=x(t,["positivePromptSafetyAttributes"]);return i!=null&&S(e,["positivePromptSafetyAttributes"],yG(i)),e}function Vie(t,e){const n={},r=x(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r),x(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=x(t,["durationSeconds"]);if(e!==void 0&&i!=null&&S(e,["parameters","durationSeconds"],i),x(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=x(t,["aspectRatio"]);e!==void 0&&a!=null&&S(e,["parameters","aspectRatio"],a);const s=x(t,["resolution"]);e!==void 0&&s!=null&&S(e,["parameters","resolution"],s);const o=x(t,["personGeneration"]);if(e!==void 0&&o!=null&&S(e,["parameters","personGeneration"],o),x(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=x(t,["negativePrompt"]);e!==void 0&&u!=null&&S(e,["parameters","negativePrompt"],u);const c=x(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&S(e,["parameters","enhancePrompt"],c),x(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=x(t,["lastFrame"]);e!==void 0&&f!=null&&S(e,["instances[0]","lastFrame"],jA(f));const h=x(t,["referenceImages"]);if(e!==void 0&&h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>Yae(v))),S(e,["instances[0]","referenceImages"],g)}if(x(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Wie(t,e){const n={},r=x(t,["numberOfVideos"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["outputGcsUri"]);e!==void 0&&i!=null&&S(e,["parameters","storageUri"],i);const a=x(t,["fps"]);e!==void 0&&a!=null&&S(e,["parameters","fps"],a);const s=x(t,["durationSeconds"]);e!==void 0&&s!=null&&S(e,["parameters","durationSeconds"],s);const o=x(t,["seed"]);e!==void 0&&o!=null&&S(e,["parameters","seed"],o);const u=x(t,["aspectRatio"]);e!==void 0&&u!=null&&S(e,["parameters","aspectRatio"],u);const c=x(t,["resolution"]);e!==void 0&&c!=null&&S(e,["parameters","resolution"],c);const f=x(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const h=x(t,["pubsubTopic"]);e!==void 0&&h!=null&&S(e,["parameters","pubsubTopic"],h);const g=x(t,["negativePrompt"]);e!==void 0&&g!=null&&S(e,["parameters","negativePrompt"],g);const v=x(t,["enhancePrompt"]);e!==void 0&&v!=null&&S(e,["parameters","enhancePrompt"],v);const w=x(t,["generateAudio"]);e!==void 0&&w!=null&&S(e,["parameters","generateAudio"],w);const E=x(t,["lastFrame"]);e!==void 0&&E!=null&&S(e,["instances[0]","lastFrame"],bo(E));const A=x(t,["referenceImages"]);if(e!==void 0&&A!=null){let R=A;Array.isArray(R)&&(R=R.map(I=>Kae(I))),S(e,["instances[0]","referenceImages"],R)}const _=x(t,["mask"]);e!==void 0&&_!=null&&S(e,["instances[0]","mask"],Wae(_));const M=x(t,["compressionQuality"]);return e!==void 0&&M!=null&&S(e,["parameters","compressionQuality"],M),n}function Yie(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response","generateVideoResponse"]);return s!=null&&S(e,["response"],Qie(s)),e}function Kie(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],Zie(s)),e}function Xie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&S(n,["instances[0]","image"],jA(a));const s=x(e,["video"]);s!=null&&S(n,["instances[0]","video"],xG(s));const o=x(e,["source"]);o!=null&&eae(o,n);const u=x(e,["config"]);return u!=null&&Vie(u,n),n}function Jie(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["prompt"]);i!=null&&S(n,["instances[0]","prompt"],i);const a=x(e,["image"]);a!=null&&S(n,["instances[0]","image"],bo(a));const s=x(e,["video"]);s!=null&&S(n,["instances[0]","video"],wG(s));const o=x(e,["source"]);o!=null&&tae(o,n);const u=x(e,["config"]);return u!=null&&Wie(u,n),n}function Qie(t){const e={},n=x(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>iae(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function Zie(t){const e={},n=x(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>aae(s))),S(e,["generatedVideos"],a)}const r=x(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const i=x(t,["raiMediaFilteredReasons"]);return i!=null&&S(e,["raiMediaFilteredReasons"],i),e}function eae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],jA(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&S(e,["instances[0]","video"],xG(a)),n}function tae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],bo(i));const a=x(t,["video"]);return e!==void 0&&a!=null&&S(e,["instances[0]","video"],wG(a)),n}function nae(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["image"],hae(n));const r=x(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const i=x(t,["_self"]);return i!=null&&S(e,["safetyAttributes"],gG(i)),e}function OA(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["image"],mG(n));const r=x(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const i=x(t,["_self"]);i!=null&&S(e,["safetyAttributes"],yG(i));const a=x(t,["prompt"]);return a!=null&&S(e,["enhancedPrompt"],a),e}function rae(t){const e={},n=x(t,["_self"]);n!=null&&S(e,["mask"],mG(n));const r=x(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(e,["labels"],i)}return e}function iae(t){const e={},n=x(t,["video"]);return n!=null&&S(e,["video"],qae(n)),e}function aae(t){const e={},n=x(t,["_self"]);return n!=null&&S(e,["video"],Vae(n)),e}function sae(t){const e={},n=x(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=x(t,["responseJsonSchema"]);r!=null&&S(e,["responseJsonSchema"],r);const i=x(t,["audioTimestamp"]);i!=null&&S(e,["audioTimestamp"],i);const a=x(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const s=x(t,["enableAffectiveDialog"]);s!=null&&S(e,["enableAffectiveDialog"],s);const o=x(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=x(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const c=x(t,["maxOutputTokens"]);c!=null&&S(e,["maxOutputTokens"],c);const f=x(t,["mediaResolution"]);f!=null&&S(e,["mediaResolution"],f);const h=x(t,["presencePenalty"]);h!=null&&S(e,["presencePenalty"],h);const g=x(t,["responseLogprobs"]);g!=null&&S(e,["responseLogprobs"],g);const v=x(t,["responseMimeType"]);v!=null&&S(e,["responseMimeType"],v);const w=x(t,["responseModalities"]);w!=null&&S(e,["responseModalities"],w);const E=x(t,["responseSchema"]);E!=null&&S(e,["responseSchema"],E);const A=x(t,["routingConfig"]);A!=null&&S(e,["routingConfig"],A);const _=x(t,["seed"]);_!=null&&S(e,["seed"],_);const M=x(t,["speechConfig"]);M!=null&&S(e,["speechConfig"],vG(M));const R=x(t,["stopSequences"]);R!=null&&S(e,["stopSequences"],R);const I=x(t,["temperature"]);I!=null&&S(e,["temperature"],I);const D=x(t,["thinkingConfig"]);D!=null&&S(e,["thinkingConfig"],D);const k=x(t,["topK"]);k!=null&&S(e,["topK"],k);const P=x(t,["topP"]);if(P!=null&&S(e,["topP"],P),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function oae(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Mt(t,r)),n}function lae(t,e){const n={},r=x(e,["model"]);return r!=null&&S(n,["_url","name"],Mt(t,r)),n}function uae(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function cae(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function dae(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);if(r!=null&&S(e,["imageSize"],r),x(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function fae(t){const e={},n=x(t,["aspectRatio"]);n!=null&&S(e,["aspectRatio"],n);const r=x(t,["imageSize"]);r!=null&&S(e,["imageSize"],r);const i=x(t,["outputMimeType"]);i!=null&&S(e,["imageOutputOptions","mimeType"],i);const a=x(t,["outputCompressionQuality"]);return a!=null&&S(e,["imageOutputOptions","compressionQuality"],a),e}function hae(t){const e={},n=x(t,["bytesBase64Encoded"]);n!=null&&S(e,["imageBytes"],Ud(n));const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function mG(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["imageBytes"],Ud(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function jA(t){const e={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=x(t,["imageBytes"]);n!=null&&S(e,["bytesBase64Encoded"],Ud(n));const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function bo(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["imageBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Ud(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function pae(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&S(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&S(n,["_query","filter"],s);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&S(n,["_url","models_url"],oG(t,o)),r}function mae(t,e,n){const r={},i=x(e,["pageSize"]);n!==void 0&&i!=null&&S(n,["_query","pageSize"],i);const a=x(e,["pageToken"]);n!==void 0&&a!=null&&S(n,["_query","pageToken"],a);const s=x(e,["filter"]);n!==void 0&&s!=null&&S(n,["_query","filter"],s);const o=x(e,["queryBase"]);return n!==void 0&&o!=null&&S(n,["_url","models_url"],oG(t,o)),r}function gae(t,e){const n={},r=x(e,["config"]);return r!=null&&pae(t,r,n),n}function yae(t,e){const n={},r=x(e,["config"]);return r!=null&&mae(t,r,n),n}function vae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=lG(i);Array.isArray(a)&&(a=a.map(s=>vR(s))),S(e,["models"],a)}return e}function bae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["_self"]);if(i!=null){let a=lG(i);Array.isArray(a)&&(a=a.map(s=>bR(s))),S(e,["models"],a)}return e}function xae(t){const e={},n=x(t,["maskMode"]);n!=null&&S(e,["maskMode"],n);const r=x(t,["segmentationClasses"]);r!=null&&S(e,["maskClasses"],r);const i=x(t,["maskDilation"]);return i!=null&&S(e,["dilation"],i),e}function vR(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);i!=null&&S(e,["description"],i);const a=x(t,["version"]);a!=null&&S(e,["version"],a);const s=x(t,["_self"]);s!=null&&S(e,["tunedModelInfo"],Oae(s));const o=x(t,["inputTokenLimit"]);o!=null&&S(e,["inputTokenLimit"],o);const u=x(t,["outputTokenLimit"]);u!=null&&S(e,["outputTokenLimit"],u);const c=x(t,["supportedGenerationMethods"]);c!=null&&S(e,["supportedActions"],c);const f=x(t,["temperature"]);f!=null&&S(e,["temperature"],f);const h=x(t,["maxTemperature"]);h!=null&&S(e,["maxTemperature"],h);const g=x(t,["topP"]);g!=null&&S(e,["topP"],g);const v=x(t,["topK"]);v!=null&&S(e,["topK"],v);const w=x(t,["thinking"]);return w!=null&&S(e,["thinking"],w),e}function bR(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["displayName"]);r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);i!=null&&S(e,["description"],i);const a=x(t,["versionId"]);a!=null&&S(e,["version"],a);const s=x(t,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>Die(g))),S(e,["endpoints"],h)}const o=x(t,["labels"]);o!=null&&S(e,["labels"],o);const u=x(t,["_self"]);u!=null&&S(e,["tunedModelInfo"],jae(u));const c=x(t,["defaultCheckpointId"]);c!=null&&S(e,["defaultCheckpointId"],c);const f=x(t,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),S(e,["checkpoints"],h)}return e}function wae(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Iie(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Lie(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],sie(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function Sae(t){const e={},n=x(t,["productImage"]);return n!=null&&S(e,["image"],bo(n)),e}function Eae(t,e){const n={},r=x(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const i=x(t,["baseSteps"]);e!==void 0&&i!=null&&S(e,["parameters","baseSteps"],i);const a=x(t,["outputGcsUri"]);e!==void 0&&a!=null&&S(e,["parameters","storageUri"],a);const s=x(t,["seed"]);e!==void 0&&s!=null&&S(e,["parameters","seed"],s);const o=x(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&S(e,["parameters","safetySetting"],o);const u=x(t,["personGeneration"]);e!==void 0&&u!=null&&S(e,["parameters","personGeneration"],u);const c=x(t,["addWatermark"]);e!==void 0&&c!=null&&S(e,["parameters","addWatermark"],c);const f=x(t,["outputMimeType"]);e!==void 0&&f!=null&&S(e,["parameters","outputOptions","mimeType"],f);const h=x(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","compressionQuality"],h);const g=x(t,["enhancePrompt"]);e!==void 0&&g!=null&&S(e,["parameters","enhancePrompt"],g);const v=x(t,["labels"]);return e!==void 0&&v!=null&&S(e,["labels"],v),n}function Aae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["source"]);i!=null&&_ae(i,n);const a=x(e,["config"]);return a!=null&&Eae(a,n),n}function Cae(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>OA(i))),S(e,["generatedImages"],r)}return e}function _ae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["personImage"]);e!==void 0&&i!=null&&S(e,["instances[0]","personImage","image"],bo(i));const a=x(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Sae(o))),S(e,["instances[0]","productImages"],s)}return n}function Tae(t){const e={},n=x(t,["referenceImage"]);n!=null&&S(e,["referenceImage"],bo(n));const r=x(t,["referenceId"]);r!=null&&S(e,["referenceId"],r);const i=x(t,["referenceType"]);i!=null&&S(e,["referenceType"],i);const a=x(t,["maskImageConfig"]);a!=null&&S(e,["maskImageConfig"],xae(a));const s=x(t,["controlImageConfig"]);s!=null&&S(e,["controlImageConfig"],hie(s));const o=x(t,["styleImageConfig"]);o!=null&&S(e,["styleImageConfig"],o);const u=x(t,["subjectImageConfig"]);return u!=null&&S(e,["subjectImageConfig"],u),e}function gG(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&S(e,["contentType"],i),e}function yG(t){const e={},n=x(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=x(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const i=x(t,["contentType"]);return i!=null&&S(e,["contentType"],i),e}function Nae(t){const e={},n=x(t,["category"]);if(n!=null&&S(e,["category"],n),x(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function Rae(t){const e={},n=x(t,["image"]);return n!=null&&S(e,["image"],bo(n)),e}function Mae(t,e){const n={},r=x(t,["mode"]);e!==void 0&&r!=null&&S(e,["parameters","mode"],r);const i=x(t,["maxPredictions"]);e!==void 0&&i!=null&&S(e,["parameters","maxPredictions"],i);const a=x(t,["confidenceThreshold"]);e!==void 0&&a!=null&&S(e,["parameters","confidenceThreshold"],a);const s=x(t,["maskDilation"]);e!==void 0&&s!=null&&S(e,["parameters","maskDilation"],s);const o=x(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&S(e,["parameters","binaryColorThreshold"],o);const u=x(t,["labels"]);return e!==void 0&&u!=null&&S(e,["labels"],u),n}function Pae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["source"]);i!=null&&Dae(i,n);const a=x(e,["config"]);return a!=null&&Mae(a,n),n}function kae(t){const e={},n=x(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rae(i))),S(e,["generatedMasks"],r)}return e}function Dae(t,e){const n={},r=x(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const i=x(t,["image"]);e!==void 0&&i!=null&&S(e,["instances[0]","image"],bo(i));const a=x(t,["scribbleImage"]);return e!==void 0&&a!=null&&S(e,["instances[0]","scribble"],Rae(a)),n}function vG(t){const e={},n=x(t,["languageCode"]);n!=null&&S(e,["languageCode"],n);const r=x(t,["voiceConfig"]);if(r!=null&&S(e,["voiceConfig"],r),x(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Iae(t){const e={},n=x(t,["functionCallingConfig"]);n!=null&&S(e,["functionCallingConfig"],Oie(n));const r=x(t,["retrievalConfig"]);return r!=null&&S(e,["retrievalConfig"],r),e}function Lae(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],uae(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],cae(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}function bG(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>jie(g))),S(e,["functionDeclarations"],h)}const r=x(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const i=x(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const a=x(t,["computerUse"]);if(a!=null&&S(e,["computerUse"],a),x(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=x(t,["codeExecution"]);s!=null&&S(e,["codeExecution"],s);const o=x(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=x(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const c=x(t,["googleSearch"]);c!=null&&S(e,["googleSearch"],c);const f=x(t,["urlContext"]);return f!=null&&S(e,["urlContext"],f),e}function Oae(t){const e={},n=x(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&S(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&S(e,["updateTime"],i),e}function jae(t){const e={},n=x(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&S(e,["baseModel"],n);const r=x(t,["createTime"]);r!=null&&S(e,["createTime"],r);const i=x(t,["updateTime"]);return i!=null&&S(e,["updateTime"],i),e}function Fae(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&S(e,["defaultCheckpointId"],a),n}function Uae(t,e){const n={},r=x(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const i=x(t,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const a=x(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&S(e,["defaultCheckpointId"],a),n}function Bae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","name"],Mt(t,r));const i=x(e,["config"]);return i!=null&&Fae(i,n),n}function zae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["config"]);return i!=null&&Uae(i,n),n}function Hae(t,e){const n={},r=x(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const i=x(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&S(e,["parameters","safetySetting"],i);const a=x(t,["personGeneration"]);e!==void 0&&a!=null&&S(e,["parameters","personGeneration"],a);const s=x(t,["includeRaiReason"]);e!==void 0&&s!=null&&S(e,["parameters","includeRaiReason"],s);const o=x(t,["outputMimeType"]);e!==void 0&&o!=null&&S(e,["parameters","outputOptions","mimeType"],o);const u=x(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&S(e,["parameters","outputOptions","compressionQuality"],u);const c=x(t,["enhanceInputImage"]);e!==void 0&&c!=null&&S(e,["parameters","upscaleConfig","enhanceInputImage"],c);const f=x(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&S(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=x(t,["labels"]);e!==void 0&&h!=null&&S(e,["labels"],h);const g=x(t,["numberOfImages"]);e!==void 0&&g!=null&&S(e,["parameters","sampleCount"],g);const v=x(t,["mode"]);return e!==void 0&&v!=null&&S(e,["parameters","mode"],v),n}function Gae(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["_url","model"],Mt(t,r));const i=x(e,["image"]);i!=null&&S(n,["instances[0]","image"],bo(i));const a=x(e,["upscaleFactor"]);a!=null&&S(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=x(e,["config"]);return s!=null&&Hae(s,n),n}function $ae(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>OA(a))),S(e,["generatedImages"],i)}return e}function qae(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["encodedVideo"]);r!=null&&S(e,["videoBytes"],Ud(r));const i=x(t,["encoding"]);return i!=null&&S(e,["mimeType"],i),e}function Vae(t){const e={},n=x(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=x(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],Ud(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}function Wae(t){const e={},n=x(t,["image"]);n!=null&&S(e,["_self"],bo(n));const r=x(t,["maskMode"]);return r!=null&&S(e,["maskMode"],r),e}function Yae(t){const e={},n=x(t,["image"]);n!=null&&S(e,["image"],jA(n));const r=x(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function Kae(t){const e={},n=x(t,["image"]);n!=null&&S(e,["image"],bo(n));const r=x(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function xG(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["uri"],n);const r=x(t,["videoBytes"]);r!=null&&S(e,["encodedVideo"],Ud(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["encoding"],i),e}function wG(t){const e={},n=x(t,["uri"]);n!=null&&S(e,["gcsUri"],n);const r=x(t,["videoBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Ud(r));const i=x(t,["mimeType"]);return i!=null&&S(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xae(t,e){const n={},r=x(t,["displayName"]);return e!==void 0&&r!=null&&S(e,["displayName"],r),n}function Jae(t){const e={},n=x(t,["config"]);return n!=null&&Xae(n,e),e}function Qae(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&S(e,["_query","force"],r),n}function Zae(t){const e={},n=x(t,["name"]);n!=null&&S(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&Qae(r,e),e}function ese(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function tse(t,e){const n={},r=x(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["customMetadata"],a)}const i=x(t,["chunkingConfig"]);return e!==void 0&&i!=null&&S(e,["chunkingConfig"],i),n}function nse(t){const e={},n=x(t,["name"]);n!=null&&S(e,["name"],n);const r=x(t,["metadata"]);r!=null&&S(e,["metadata"],r);const i=x(t,["done"]);i!=null&&S(e,["done"],i);const a=x(t,["error"]);a!=null&&S(e,["error"],a);const s=x(t,["response"]);return s!=null&&S(e,["response"],ise(s)),e}function rse(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&S(e,["_url","file_search_store_name"],n);const r=x(t,["fileName"]);r!=null&&S(e,["fileName"],r);const i=x(t,["config"]);return i!=null&&tse(i,e),e}function ise(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["parent"]);r!=null&&S(e,["parent"],r);const i=x(t,["documentName"]);return i!=null&&S(e,["documentName"],i),e}function ase(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function sse(t){const e={},n=x(t,["config"]);return n!=null&&ase(n,e),e}function ose(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["fileSearchStores"],a)}return e}function SG(t,e){const n={},r=x(t,["mimeType"]);e!==void 0&&r!=null&&S(e,["mimeType"],r);const i=x(t,["displayName"]);e!==void 0&&i!=null&&S(e,["displayName"],i);const a=x(t,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),S(e,["customMetadata"],o)}const s=x(t,["chunkingConfig"]);return e!==void 0&&s!=null&&S(e,["chunkingConfig"],s),n}function lse(t){const e={},n=x(t,["fileSearchStoreName"]);n!=null&&S(e,["_url","file_search_store_name"],n);const r=x(t,["config"]);return r!=null&&SG(r,e),e}function use(t){const e={},n=x(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cse="Content-Type",dse="X-Server-Timeout",fse="User-Agent",xR="x-goog-api-client",hse="1.31.0",pse=`google-genai-sdk/${hse}`,mse="v1beta1",gse="v1beta",U5=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class yse{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:mse,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:gse,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>a.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&vse(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await B5(i),new mR(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await B5(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return xm(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:o,value:u}=yield gn(i.read());if(o){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=a.decode(u,{stream:!0});try{const h=JSON.parse(c);if("error"in h){const g=JSON.parse(JSON.stringify(h.error)),v=g.status,w=g.code,E=`got status: ${v}. ${JSON.stringify(h)}`;if(w>=400&&w<600)throw new IA({message:E,status:w})}}catch(h){if(h.name==="ApiError")throw h}s+=c;let f=s.match(U5);for(;f;){const h=f[1];try{const g=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield gn(new mR(g)),s=s.slice(f[0].length),f=s.match(U5)}catch(g){throw new Error(`exception parsing stream chunk ${h}. ${g}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=pse+" "+this.clientOptions.userAgentExtra;return e[fse]=n,e[xR]=n,e[cse]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(dse,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const u={file:i},c=this.getFileName(e),f=Pe("upload/v1beta/files",u._url),h=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,c,u,n==null?void 0:n.httpOptions);return a.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),o=String(s.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),h={};r!=null&&SG(r,h);const g=await this.fetchUploadUrl(c,o,u,f,h,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var o;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const c=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:u});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(o=c==null?void 0:c.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function B5(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new IA({message:i,status:n}):new Error(i)}}function vse(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const o=Object.assign({},a);for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const c=s[u],f=o[u];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?o[u]=r(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),o[u]=c)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bse="mcp_used/unknown";let xse=!1;function EG(t){for(const e of t)if(wse(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xse}function AG(t){var e;const n=(e=t[xR])!==null&&e!==void 0?e:"";t[xR]=(n+` ${bse}`).trimStart()}function wse(t){return t!==null&&typeof t=="object"&&t instanceof Dk}function Sse(t,e=100){return xm(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield gn(t.listTools({cursor:r}));for(const s of a.tools)yield yield gn(s),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class Dk{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Dk(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const f of this.mcpClients)try{for(var o=!0,u=(n=void 0,d0(Sse(f))),c;c=await u.next(),e=c.done,!e;o=!0){i=c.value,o=!1;const h=i;s.push(h);const g=h.name;if(a[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);a[g]=f}}catch(h){n={error:h}}finally{try{!o&&!e&&(r=u.return)&&await r.call(u)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),ene(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ese(t,e,n){const r=new Vte;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Ase{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=Tse(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const f=new Promise(R=>{c=R}),h=e.callbacks,g=function(){c({})},v=this.apiClient,w={onopen:g,onmessage:R=>{Ese(v,h.onmessage,R)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(R){}},E=this.webSocketFactory.create(u,_se(s),w);E.connect(),await f;const M={setup:{model:Mt(this.apiClient,e.model)}};return E.send(JSON.stringify(M)),new Cse(E,this.apiClient)}}class Cse{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Jre(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Xre(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(om.PLAY)}pause(){this.sendPlaybackControl(om.PAUSE)}stop(){this.sendPlaybackControl(om.STOP)}resetContext(){this.sendPlaybackControl(om.RESET_CONTEXT)}close(){this.conn.close()}}function _se(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Tse(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nse="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Rse(t,e,n){const r=new qte;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=eie(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class Mse{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Ase(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&EG(e.config.tools)&&AG(h);const g=Ise(h);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,f);else{const z=this.apiClient.getApiKey();let W="BidiGenerateContent",U="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",U="access_token"),f=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.${W}?${U}=${z}`}let v=()=>{};const w=new Promise(z=>{v=z}),E=e.callbacks,A=function(){var z;(z=E==null?void 0:E.onopen)===null||z===void 0||z.call(E),v({})},_=this.apiClient,M={onopen:A,onmessage:z=>{Rse(_,E.onmessage,z)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(z){}},R=this.webSocketFactory.create(f,Dse(g),M);R.connect(),await w;let I=Mt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const z=this.apiClient.getProject(),W=this.apiClient.getLocation();I=`projects/${z}/locations/${W}/`+I}let D={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[K1.AUDIO]}:e.config.responseModalities=[K1.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],P=[];for(const z of k)if(this.isCallableTool(z)){const W=z;P.push(await W.tool())}else P.push(z);P.length>0&&(e.config.tools=P);const B={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=Kre(this.apiClient,B):D=Yre(this.apiClient,B),delete D.config,R.send(JSON.stringify(D)),new kse(R,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Pse={turnComplete:!0};class kse{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ds(n.turns),e.isVertexAI()||(r=r.map(i=>LA(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Nse)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},Pse),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Zre(e)}:n={realtimeInput:Qre(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Dse(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Ise(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z5=10;function H5(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(wm(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function wm(t){return"callTool"in t&&typeof t.callTool=="function"}function Lse(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>wm(i)))!==null&&r!==void 0?r:!1}function G5(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(wm(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function $5(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ose extends Hu{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,o;const u=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Lse(n)||H5(n.config))return await this.generateContentInternal(u);const c=G5(n);if(c.length>0){const E=c.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,h;const g=Ds(u.contents),v=(a=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:z5;let w=0;for(;w<v&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,A=[];for(const _ of(o=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(wm(_)){const R=await _.callTool(f.functionCalls);A.push(...R)}w++,h={role:"user",parts:A},u.contents=Ds(u.contents),u.contents.push(E),u.contents.push(h),$5(u.config)&&(g.push(E),g.push(h))}return $5(u.config)&&(f.automaticFunctionCallingHistory=g),f},this.generateContentStream=async n=>{var r,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(n),H5(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const u=G5(n);if(u.length>0){const h=u.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,f=(o=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=u==null?void 0:u.safetyAttributes:s.push(u);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new tp(Nu.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,o,u;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((u=(o=n.source)===null||o===void 0?void 0:o.video)===null||u===void 0)&&u.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async u=>wm(u)?await u.tool():u)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&EG(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},u);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),AG(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(wm(s)){const o=s,u=await o.tool();for(const c of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(a.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);a.set(c.name,o)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:z5;let s=!1,o=0;const u=await this.initAfcToolsMap(e);return(function(c,f,h){var g,v;return xm(this,arguments,function*(){for(var w,E,A,_;o<a;){s&&(o++,s=!1);const D=yield gn(c.processParamsMaybeAddMcpUsage(h)),k=yield gn(c.generateContentStreamInternal(D)),P=[],B=[];try{for(var M=!0,R=(E=void 0,d0(k)),I;I=yield gn(R.next()),w=I.done,!w;M=!0){_=I.value,M=!1;const z=_;if(yield yield gn(z),z.candidates&&(!((g=z.candidates[0])===null||g===void 0)&&g.content)){B.push(z.candidates[0].content);for(const W of(v=z.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(o<a&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(W.functionCall.name)){const U=yield gn(f.get(W.functionCall.name).callTool([W.functionCall]));P.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(z){E={error:z}}finally{try{!M&&!w&&(A=R.return)&&(yield gn(A.call(R)))}finally{if(E)throw E.error}}if(P.length>0){s=!0;const z=new Ev;z.candidates=[{content:{role:"user",parts:P}}],yield yield gn(z);const W=[];W.push(...B),W.push({role:"user",parts:P});const U=Ds(h.contents).concat(W);h.contents=U}else break}})})(this,u,e)}async generateContentInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=O5(this.apiClient,e);return o=Pe("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=F5(f),g=new Ev;return Object.assign(g,h),g})}else{const c=L5(this.apiClient,e);return o=Pe("{model}:generateContent",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=j5(f),g=new Ev;return Object.assign(g,h),g})}}async generateContentStreamInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=O5(this.apiClient,e);return o=Pe("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(h){return xm(this,arguments,function*(){var g,v,w,E;try{for(var A=!0,_=d0(h),M;M=yield gn(_.next()),g=M.done,!g;A=!0){E=M.value,A=!1;const R=E,I=F5(yield gn(R.json()));I.sdkHttpResponse={headers:R.headers};const D=new Ev;Object.assign(D,I),yield yield gn(D)}}catch(R){v={error:R}}finally{try{!A&&!g&&(w=_.return)&&(yield gn(w.call(_)))}finally{if(v)throw v.error}}})})}else{const c=L5(this.apiClient,e);return o=Pe("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(h){return xm(this,arguments,function*(){var g,v,w,E;try{for(var A=!0,_=d0(h),M;M=yield gn(_.next()),g=M.done,!g;A=!0){E=M.value,A=!1;const R=E,I=j5(yield gn(R.json()));I.sdkHttpResponse={headers:R.headers};const D=new Ev;Object.assign(D,I),yield yield gn(D)}}catch(R){v={error:R}}finally{try{!A&&!g&&(w=_.return)&&(yield gn(w.call(_)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Mie(this.apiClient,e);return o=Pe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=kie(f),g=new v5;return Object.assign(g,h),g})}else{const c=Rie(this.apiClient,e);return o=Pe("{model}:batchEmbedContents",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Pie(f),g=new v5;return Object.assign(g,h),g})}}async generateImagesInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Gie(this.apiClient,e);return o=Pe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=qie(f),g=new b5;return Object.assign(g,h),g})}else{const c=Hie(this.apiClient,e);return o=Pe("{model}:predict",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=$ie(f),g=new b5;return Object.assign(g,h),g})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Cie(this.apiClient,e);return a=Pe("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=_ie(u),f=new Ite;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Gae(this.apiClient,e);return a=Pe("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=$ae(u),f=new Lte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Aae(this.apiClient,e);return a=Pe("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=Cae(u),f=new Ote;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Pae(this.apiClient,e);return a=Pe("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=kae(u),f=new jte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=lae(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>bR(f))}else{const c=oae(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>vR(f))}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=yae(this.apiClient,e);return o=Pe("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=bae(f),g=new x5;return Object.assign(g,h),g})}else{const c=gae(this.apiClient,e);return o=Pe("{models_url}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=vae(f),g=new x5;return Object.assign(g,h),g})}}async update(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=zae(this.apiClient,e);return o=Pe("{model}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>bR(f))}else{const c=Bae(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>vR(f))}}async delete(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=wie(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Eie(f),g=new w5;return Object.assign(g,h),g})}else{const c=xie(this.apiClient,e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Sie(f),g=new w5;return Object.assign(g,h),g})}}async countTokens(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=yie(this.apiClient,e);return o=Pe("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=bie(f),g=new S5;return Object.assign(g,h),g})}else{const c=gie(this.apiClient,e);return o=Pe("{model}:countTokens",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=vie(f),g=new S5;return Object.assign(g,h),g})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=uie(this.apiClient,e);return a=Pe("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const c=cie(u),f=new Fte;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Jie(this.apiClient,e);return o=Pe("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{const h=Kie(f),g=new X1;return Object.assign(g,h),g})}else{const c=Xie(this.apiClient,e);return o=Pe("{model}:predictLongRunning",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s.then(f=>{const h=Yie(f),g=new X1;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jse extends Hu{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=Nte(e);return o=Pe("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{const c=Tte(e);return o=Pe("{operationName}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=xte(e);return a=Pe("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fse(t){const e={},n=x(t,["data"]);if(n!=null&&S(e,["data"],n),x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Use(t){const e={},n=x(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Yse(a))),S(e,["parts"],i)}const r=x(t,["role"]);return r!=null&&S(e,["role"],r),e}function Bse(t,e,n){const r={},i=x(e,["expireTime"]);n!==void 0&&i!=null&&S(n,["expireTime"],i);const a=x(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&S(n,["newSessionExpireTime"],a);const s=x(e,["uses"]);n!==void 0&&s!=null&&S(n,["uses"],s);const o=x(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&S(n,["bidiGenerateContentSetup"],Wse(t,o));const u=x(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&S(n,["fieldMask"],u),r}function zse(t,e){const n={},r=x(e,["config"]);return r!=null&&S(n,["config"],Bse(t,r,n)),n}function Hse(t){const e={};if(x(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=x(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Gse(t){const e={},n=x(t,["id"]);n!=null&&S(e,["id"],n);const r=x(t,["args"]);r!=null&&S(e,["args"],r);const i=x(t,["name"]);if(i!=null&&S(e,["name"],i),x(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $se(t){const e={};if(x(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(t,["enableWidget"]);return n!=null&&S(e,["enableWidget"],n),e}function qse(t){const e={};if(x(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(t,["timeRangeFilter"]);return n!=null&&S(e,["timeRangeFilter"],n),e}function Vse(t,e){const n={},r=x(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const i=x(t,["responseModalities"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","responseModalities"],i);const a=x(t,["temperature"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","temperature"],a);const s=x(t,["topP"]);e!==void 0&&s!=null&&S(e,["setup","generationConfig","topP"],s);const o=x(t,["topK"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topK"],o);const u=x(t,["maxOutputTokens"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","maxOutputTokens"],u);const c=x(t,["mediaResolution"]);e!==void 0&&c!=null&&S(e,["setup","generationConfig","mediaResolution"],c);const f=x(t,["seed"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","seed"],f);const h=x(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],kk(h));const g=x(t,["thinkingConfig"]);e!==void 0&&g!=null&&S(e,["setup","generationConfig","thinkingConfig"],g);const v=x(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],v);const w=x(t,["systemInstruction"]);e!==void 0&&w!=null&&S(e,["setup","systemInstruction"],Use(Si(w)));const E=x(t,["tools"]);if(e!==void 0&&E!=null){let k=gy(E);Array.isArray(k)&&(k=k.map(P=>Xse(my(P)))),S(e,["setup","tools"],k)}const A=x(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],Kse(A));const _=x(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&S(e,["setup","inputAudioTranscription"],_);const M=x(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&S(e,["setup","outputAudioTranscription"],M);const R=x(t,["realtimeInputConfig"]);e!==void 0&&R!=null&&S(e,["setup","realtimeInputConfig"],R);const I=x(t,["contextWindowCompression"]);e!==void 0&&I!=null&&S(e,["setup","contextWindowCompression"],I);const D=x(t,["proactivity"]);return e!==void 0&&D!=null&&S(e,["setup","proactivity"],D),n}function Wse(t,e){const n={},r=x(e,["model"]);r!=null&&S(n,["setup","model"],Mt(t,r));const i=x(e,["config"]);return i!=null&&S(n,["config"],Vse(i,n)),n}function Yse(t){const e={},n=x(t,["mediaResolution"]);n!=null&&S(e,["mediaResolution"],n);const r=x(t,["codeExecutionResult"]);r!=null&&S(e,["codeExecutionResult"],r);const i=x(t,["executableCode"]);i!=null&&S(e,["executableCode"],i);const a=x(t,["fileData"]);a!=null&&S(e,["fileData"],Hse(a));const s=x(t,["functionCall"]);s!=null&&S(e,["functionCall"],Gse(s));const o=x(t,["functionResponse"]);o!=null&&S(e,["functionResponse"],o);const u=x(t,["inlineData"]);u!=null&&S(e,["inlineData"],Fse(u));const c=x(t,["text"]);c!=null&&S(e,["text"],c);const f=x(t,["thought"]);f!=null&&S(e,["thought"],f);const h=x(t,["thoughtSignature"]);h!=null&&S(e,["thoughtSignature"],h);const g=x(t,["videoMetadata"]);return g!=null&&S(e,["videoMetadata"],g),e}function Kse(t){const e={},n=x(t,["handle"]);if(n!=null&&S(e,["handle"],n),x(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Xse(t){const e={},n=x(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),S(e,["functionDeclarations"],f)}if(x(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(t,["googleSearchRetrieval"]);r!=null&&S(e,["googleSearchRetrieval"],r);const i=x(t,["computerUse"]);i!=null&&S(e,["computerUse"],i);const a=x(t,["fileSearch"]);a!=null&&S(e,["fileSearch"],a);const s=x(t,["codeExecution"]);if(s!=null&&S(e,["codeExecution"],s),x(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=x(t,["googleMaps"]);o!=null&&S(e,["googleMaps"],$se(o));const u=x(t,["googleSearch"]);u!=null&&S(e,["googleSearch"],qse(u));const c=x(t,["urlContext"]);return c!=null&&S(e,["urlContext"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jse(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function Qse(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=Jse(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(c=>s.includes(c)?`generationConfig.${c}`:c));const u=[];a&&u.push(a),o.length>0&&u.push(...o),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Zse extends Hu{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=zse(this.apiClient,e);a=Pe("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const u=Qse(o,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eoe(t,e){const n={},r=x(t,["force"]);return e!==void 0&&r!=null&&S(e,["_query","force"],r),n}function toe(t){const e={},n=x(t,["name"]);n!=null&&S(e,["_url","name"],n);const r=x(t,["config"]);return r!=null&&eoe(r,e),e}function noe(t){const e={},n=x(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function roe(t,e){const n={},r=x(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const i=x(t,["pageToken"]);return e!==void 0&&i!=null&&S(e,["_query","pageToken"],i),n}function ioe(t){const e={},n=x(t,["parent"]);n!=null&&S(e,["_url","parent"],n);const r=x(t,["config"]);return r!=null&&roe(r,e),e}function aoe(t){const e={},n=x(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=x(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const i=x(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),S(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class soe extends Hu{constructor(e){super(),this.apiClient=e,this.list=async n=>new tp(Nu.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=noe(e);return a=Pe("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=toe(e);i=Pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ioe(e);return a=Pe("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=aoe(u),f=new Ute;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ooe extends Hu{constructor(e,n=new soe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new tp(Nu.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=Jae(e);return a=Pe("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=ese(e);return a=Pe("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Zae(e);i=Pe("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=sse(e);return a=Pe("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=ose(u),f=new Bte;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=lse(e);return a=Pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=use(u),f=new zte;return Object.assign(f,c),f})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=rse(e);return a=Pe("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const c=nse(u),f=new Tk;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function loe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function uoe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function coe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&S(n,["sdkHttpResponse"],r),n}function doe(t,e){const n={},r=x(t,["sdkHttpResponse"]);return r!=null&&S(n,["sdkHttpResponse"],r),n}function foe(t,e,n){const r={};if(x(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=x(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&S(e,["displayName"],i),x(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=x(t,["epochCount"]);e!==void 0&&a!=null&&S(e,["tuningTask","hyperparameters","epochCount"],a);const s=x(t,["learningRateMultiplier"]);if(s!=null&&S(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),x(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=x(t,["batchSize"]);e!==void 0&&o!=null&&S(e,["tuningTask","hyperparameters","batchSize"],o);const u=x(t,["learningRate"]);if(e!==void 0&&u!=null&&S(e,["tuningTask","hyperparameters","learningRate"],u),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function hoe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=x(t,["validationDataset"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec"],q5(v))}else if(i==="PREFERENCE_TUNING"){const v=x(t,["validationDataset"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec"],q5(v))}const a=x(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&S(e,["tunedModelDisplayName"],a);const s=x(t,["description"]);e!==void 0&&s!=null&&S(e,["description"],s);let o=x(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const v=x(t,["epochCount"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(o==="PREFERENCE_TUNING"){const v=x(t,["epochCount"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let u=x(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=x(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(u==="PREFERENCE_TUNING"){const v=x(t,["learningRateMultiplier"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let c=x(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=x(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(c==="PREFERENCE_TUNING"){const v=x(t,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=x(t,["adapterSize"]);e!==void 0&&v!=null&&S(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=x(t,["adapterSize"]);e!==void 0&&v!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(x(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(x(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=x(t,["labels"]);e!==void 0&&h!=null&&S(e,["labels"],h);const g=x(t,["beta"]);return e!==void 0&&g!=null&&S(e,["preferenceOptimizationSpec","hyperParameters","beta"],g),r}function poe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&S(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&Coe(a);const s=x(t,["config"]);return s!=null&&foe(s,n),n}function moe(t,e){const n={},r=x(t,["baseModel"]);r!=null&&S(n,["baseModel"],r);const i=x(t,["preTunedModel"]);i!=null&&S(n,["preTunedModel"],i);const a=x(t,["trainingDataset"]);a!=null&&_oe(a,n,e);const s=x(t,["config"]);return s!=null&&hoe(s,n,e),n}function goe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function yoe(t,e){const n={},r=x(t,["name"]);return r!=null&&S(n,["_url","name"],r),n}function voe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&S(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&S(e,["_query","filter"],s),r}function boe(t,e,n){const r={},i=x(t,["pageSize"]);e!==void 0&&i!=null&&S(e,["_query","pageSize"],i);const a=x(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const s=x(t,["filter"]);return e!==void 0&&s!=null&&S(e,["_query","filter"],s),r}function xoe(t,e){const n={},r=x(t,["config"]);return r!=null&&voe(r,n),n}function woe(t,e){const n={},r=x(t,["config"]);return r!=null&&boe(r,n),n}function Soe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&S(n,["nextPageToken"],i);const a=x(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>CG(o))),S(n,["tuningJobs"],s)}return n}function Eoe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["nextPageToken"]);i!=null&&S(n,["nextPageToken"],i);const a=x(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>wR(o))),S(n,["tuningJobs"],s)}return n}function Aoe(t,e){const n={},r=x(t,["name"]);r!=null&&S(n,["model"],r);const i=x(t,["name"]);return i!=null&&S(n,["endpoint"],i),n}function Coe(t,e){const n={};if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),S(n,["examples","examples"],i)}return n}function _oe(t,e,n){const r={};let i=x(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=x(t,["gcsUri"]);e!==void 0&&s!=null&&S(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=x(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&S(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(x(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function CG(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["state"]);a!=null&&S(n,["state"],aG(a));const s=x(t,["createTime"]);s!=null&&S(n,["createTime"],s);const o=x(t,["tuningTask","startTime"]);o!=null&&S(n,["startTime"],o);const u=x(t,["tuningTask","completeTime"]);u!=null&&S(n,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(n,["updateTime"],c);const f=x(t,["description"]);f!=null&&S(n,["description"],f);const h=x(t,["baseModel"]);h!=null&&S(n,["baseModel"],h);const g=x(t,["_self"]);return g!=null&&S(n,["tunedModel"],Aoe(g)),n}function wR(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["state"]);a!=null&&S(n,["state"],aG(a));const s=x(t,["createTime"]);s!=null&&S(n,["createTime"],s);const o=x(t,["startTime"]);o!=null&&S(n,["startTime"],o);const u=x(t,["endTime"]);u!=null&&S(n,["endTime"],u);const c=x(t,["updateTime"]);c!=null&&S(n,["updateTime"],c);const f=x(t,["error"]);f!=null&&S(n,["error"],f);const h=x(t,["description"]);h!=null&&S(n,["description"],h);const g=x(t,["baseModel"]);g!=null&&S(n,["baseModel"],g);const v=x(t,["tunedModel"]);v!=null&&S(n,["tunedModel"],v);const w=x(t,["preTunedModel"]);w!=null&&S(n,["preTunedModel"],w);const E=x(t,["supervisedTuningSpec"]);E!=null&&S(n,["supervisedTuningSpec"],E);const A=x(t,["preferenceOptimizationSpec"]);A!=null&&S(n,["preferenceOptimizationSpec"],A);const _=x(t,["tuningDataStats"]);_!=null&&S(n,["tuningDataStats"],_);const M=x(t,["encryptionSpec"]);M!=null&&S(n,["encryptionSpec"],M);const R=x(t,["partnerModelTuningSpec"]);R!=null&&S(n,["partnerModelTuningSpec"],R);const I=x(t,["customBaseModel"]);I!=null&&S(n,["customBaseModel"],I);const D=x(t,["experiment"]);D!=null&&S(n,["experiment"],D);const k=x(t,["labels"]);k!=null&&S(n,["labels"],k);const P=x(t,["outputUri"]);P!=null&&S(n,["outputUri"],P);const B=x(t,["pipelineJob"]);B!=null&&S(n,["pipelineJob"],B);const z=x(t,["serviceAccount"]);z!=null&&S(n,["serviceAccount"],z);const W=x(t,["tunedModelDisplayName"]);W!=null&&S(n,["tunedModelDisplayName"],W);const U=x(t,["veoTuningSpec"]);return U!=null&&S(n,["veoTuningSpec"],U),n}function Toe(t,e){const n={},r=x(t,["sdkHttpResponse"]);r!=null&&S(n,["sdkHttpResponse"],r);const i=x(t,["name"]);i!=null&&S(n,["name"],i);const a=x(t,["metadata"]);a!=null&&S(n,["metadata"],a);const s=x(t,["done"]);s!=null&&S(n,["done"],s);const o=x(t,["error"]);return o!=null&&S(n,["error"],o),n}function q5(t,e){const n={},r=x(t,["gcsUri"]);r!=null&&S(n,["validationDatasetUri"],r);const i=x(t,["vertexDatasetResource"]);return i!=null&&S(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Noe extends Hu{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new tp(Nu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:pR.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=yoe(e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>wR(f))}else{const c=goe(e);return o=Pe("{name}",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>CG(f))}}async listInternal(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=woe(e);return o=Pe("tuningJobs",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Eoe(f),g=new E5;return Object.assign(g,h),g})}else{const c=xoe(e);return o=Pe("tunedModels",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=Soe(f),g=new E5;return Object.assign(g,h),g})}}async cancel(e){var n,r,i,a;let s,o="",u={};if(this.apiClient.isVertexAI()){const c=uoe(e);return o=Pe("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=doe(f),g=new A5;return Object.assign(g,h),g})}else{const c=loe(e);return o=Pe("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(f=>f.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:f.headers},g})),s.then(f=>{const h=coe(f),g=new A5;return Object.assign(g,h),g})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=moe(e,e);return a=Pe("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>wR(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=poe(e);return a=Pe("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>Toe(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Roe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Moe=1024*1024*8,Poe=3,koe=1e3,Doe=2,Q1="x-goog-upload-status";async function Ioe(t,e,n){var r;const i=await _G(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Q1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function Loe(t,e,n){var r;const i=await _G(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Q1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Z8(a),o=new Nk;return Object.assign(o,s),o}async function _G(t,e,n){var r,i;let a=0,s=0,o=new mR(new Response),u="upload";for(a=t.size;s<a;){const c=Math.min(Moe,a-s),f=t.slice(s,s+c);s+c>=a&&(u+=", finalize");let h=0,g=koe;for(;h<Poe&&(o=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(c)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[Q1]));)h++,await joe(g),g=g*Doe;if(s+=c,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Q1])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function Ooe(t){return{size:t.size,type:t.type}}function joe(t){return new Promise(e=>setTimeout(e,t))}class Foe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ioe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Loe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ooe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uoe{create(e,n,r){return new Boe(e,n,r)}}class Boe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const V5="x-goog-api-key";class zoe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(V5)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(V5,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hoe="gl-node/";class Goe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=vte(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new zoe(this.apiKey);this.apiClient=new yse({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Hoe+"web",uploader:new Foe,downloader:new Roe}),this.models=new Ose(this.apiClient),this.live=new Mse(this.apiClient,i,new Uoe),this.batches=new Wne(this.apiClient),this.chats=new Nre(this.models,this.apiClient),this.caches=new Cre(this.apiClient),this.files=new Fre(this.apiClient),this.operations=new jse(this.apiClient),this.authTokens=new Zse(this.apiClient),this.tunings=new Noe(this.apiClient),this.fileSearchStores=new ooe(this.apiClient)}}const Is="co-writter",$oe="Co-Author",FA="gemini-3-flash-preview",qoe="gemini-2.5-flash-image",TG="rzp_live_RR5721D6h6BMt4",Voe="399711702378-437l1ouof6p9hvnoo3uud7acfr1h5k12.apps.googleusercontent.com",Ei=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),y.jsx("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),y.jsx("path",{d:"M3 6l0 13"}),y.jsx("path",{d:"M12 6l0 13"}),y.jsx("path",{d:"M21 6l0 13"})]}),co=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M4 13a8 8 0 0 1 7 7a6 6 0 0 0 3 -5a9 9 0 0 0 6 -8a3 3 0 0 0 -3 -3a9 9 0 0 0 -8 6a6 6 0 0 0 -5 3"}),y.jsx("path",{d:"M7 14a6 6 0 0 0 -3 6a6 6 0 0 0 6 -3"}),y.jsx("path",{d:"M15 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]}),SR=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("circle",{cx:"12",cy:"7",r:"4"}),y.jsx("path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"})]}),Ik=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),y.jsx("path",{d:"M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),y.jsx("path",{d:"M17 17h-11v-14h-2"}),y.jsx("path",{d:"M6 5l14 1l-1 7h-13"})]}),W5=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),y.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),y.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),ER=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M3 6l2 -2h14l2 2"}),y.jsx("path",{d:"M5 6v13a1 1 0 0 0 1 1h12a1 1 0 0 0 1 -1v-13"}),y.jsx("path",{d:"M9 6v-2"}),y.jsx("path",{d:"M15 6v-2"}),y.jsx("path",{d:"M9 13h6"})]}),AR=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M5 12l-2 0l9 -9l9 9l-2 0"}),y.jsx("path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7"}),y.jsx("path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6"})]}),Rd=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("path",{d:"M12 3l1.912 5.813a2 2 0 0 0 1.275 1.275L21 12l-5.813 1.912a2 2 0 0 0 -1.275 1.275L12 21l-1.912-5.813a2 2 0 0 0 -1.275-1.275L3 12l5.813-1.912a2 2 0 0 0 1.275-1.275L12 3Z"})}),Y5=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),y.jsx("polyline",{points:"7 9 12 4 17 9"}),y.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"16"})]}),f0=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Woe=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"}),y.jsx("path",{d:"M9 12h12l-3 -3"}),y.jsx("path",{d:"M18 15l3 -3"})]}),NG=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("polyline",{points:"6 9 12 15 18 9"})}),Lk=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M5 12l14 0"}),y.jsx("path",{d:"M5 12l6 6"}),y.jsx("path",{d:"M5 12l6 -6"})]}),Yoe=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),y.jsx("polyline",{points:"17 6 23 6 23 12"})]}),Md=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M18 6 6 18"}),y.jsx("path",{d:"m6 6 12 12"})]}),Koe=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),y.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),Xoe=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...t,children:y.jsx("path",{d:"M11.275 4.01L7.26 15.225H2.015L6.03 4.01h5.245zm1.53 0L8.79 12.65h10.41L15.175 4.01h-2.37zm-.263 10.372l3.412-9.15h4.15l-3.412 9.15h-4.15zM24 19.99h-4.015l2.008-5.265H24v5.265zm-6.265 0H2.015L0 22h17.735l2.007-5.265H17.735v3.255z"})}),RG=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),y.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),K5=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),y.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),UA=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M19 7V6a2 2 0 00-2-2H7a2 2 0 00-2 2v1"}),y.jsx("path",{d:"M3 10h18v9a2 2 0 01-2 2H5a2 2 0 01-2-2v-9z"}),y.jsx("line",{x1:"12",y1:"14",x2:"12.01",y2:"14"})]}),MG=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),y.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),Ok=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("circle",{cx:"12",cy:"12",r:"9"}),y.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),y.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),Joe=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),y.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),y.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),y.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),Qoe=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})}),jk=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}),y.jsx("path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"}),y.jsx("path",{d:"M15 13a4.5 4.5 0 0 1-3-1.4 4.5 4.5 0 0 1-3 1.4"}),y.jsx("path",{d:"M12 13v5"}),y.jsx("path",{d:"M9 9h6"})]}),Zoe=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),y.jsx("circle",{cx:"9",cy:"9",r:"2"}),y.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),CR=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M12 5l0 14"}),y.jsx("path",{d:"M5 12l14 0"})]}),Lr=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("path",{d:"M5 12l5 5l10 -10"})}),Bv=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),ele=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("circle",{cx:"12",cy:"12",r:"9"}),y.jsx("polyline",{points:"12 6 12 12 16 14"})]}),PG=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M4 20l4-1.5 14-14a2 2 0 0 0-2.83-2.83l-14 14L4 20"}),y.jsx("line",{x1:"13.5",y1:"6.5",x2:"17.5",y2:"10.5"})]}),tle=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M19 18v-8l-2 2"}),y.jsx("path",{d:"M4 6v12"}),y.jsx("path",{d:"M12 6v12"}),y.jsx("path",{d:"M11 18h2"}),y.jsx("path",{d:"M3 18h2"}),y.jsx("path",{d:"M4 12h8"}),y.jsx("path",{d:"M3 6h2"}),y.jsx("path",{d:"M11 6h2"})]}),nle=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.601 1.46 -1 2l-3 3h4"}),y.jsx("path",{d:"M4 6v12"}),y.jsx("path",{d:"M12 6v12"}),y.jsx("path",{d:"M11 18h2"}),y.jsx("path",{d:"M3 18h2"}),y.jsx("path",{d:"M4 12h8"}),y.jsx("path",{d:"M3 6h2"}),y.jsx("path",{d:"M11 6h2"})]}),rle=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("line",{x1:"9",y1:"6",x2:"20",y2:"6"}),y.jsx("line",{x1:"9",y1:"12",x2:"20",y2:"12"}),y.jsx("line",{x1:"9",y1:"18",x2:"20",y2:"18"}),y.jsx("line",{x1:"5",y1:"6",x2:"5",y2:"6.01"}),y.jsx("line",{x1:"5",y1:"12",x2:"5",y2:"12.01"}),y.jsx("line",{x1:"5",y1:"18",x2:"5",y2:"18.01"})]}),ile=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M10 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5"}),y.jsx("path",{d:"M19 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5"})]}),kG=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("path",{d:"M5 12l14 0"})}),_R=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...t,children:y.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),oN=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M7 18a4.6 4.6 0 0 1 0 -9a5 5 0 0 1 11 2h1a3.5 3.5 0 0 1 0 7h-1"}),y.jsx("polyline",{points:"9 15 12 12 15 15"}),y.jsx("line",{x1:"12",y1:"12",x2:"12",y2:"21"})]}),DG=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",...t,children:y.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}),X5=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"})}),IG=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),y.jsx("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),y.jsx("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),TR=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),ale=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),y.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),J5=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),y.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),y.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]}),Q5=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("polyline",{points:"15 18 9 12 15 6"})}),Z5=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("polyline",{points:"9 18 15 12 9 6"})}),sle=t=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[y.jsx("circle",{cx:"12",cy:"12",r:"5"}),y.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),y.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),y.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),y.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),y.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),y.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),y.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"})]}),ole=t=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:y.jsx("path",{d:"M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"})});var lle={};const kx=new Goe({apiKey:lle.API_KEY}),ule=t=>{let e=t.trim();const n=e.match(/```(?:json)?\s*([\s\S]*?)\s*```/);n&&(e=n[1]);const r=e.search(/[{[]/);let i=-1;for(let a=e.length-1;a>=0;a--)if(e[a]==="}"||e[a]==="]"){i=a;break}return r!==-1&&i!==-1&&i>r&&(e=e.substring(r,i+1)),e},cle={name:"write_content",description:"Writes content directly into the book editor. Use this to WRITE new prose, FIX existing text, or APPEND text. The content argument will completely replace the current editor content, so be sure to include the full text if you are just making a small edit. DO NOT use this to insert images directly as base64.",parameters:{type:pr.OBJECT,properties:{content:{type:pr.STRING,description:"The FULL markdown content to put into the editor."},summary:{type:pr.STRING,description:"A very brief 1-word status (e.g. 'Writing', 'Fixing', 'Analyzing')."}},required:["content"]}},dle={name:"propose_blueprint",description:"Propose a book title and chapter outline to the user for approval. Use this when the user asks to start a new book, create a plan, or brainstorm a structure.",parameters:{type:pr.OBJECT,properties:{title:{type:pr.STRING,description:"The proposed title of the book."},outline:{type:pr.ARRAY,items:{type:pr.OBJECT,properties:{title:{type:pr.STRING,description:"Chapter title"},summary:{type:pr.STRING,description:"Brief summary of chapter"}}},description:"List of chapters with summaries."}},required:["title","outline"]}},fle={name:"generate_image",description:"Generates a high-quality visual asset. REQUIRED for any image request. The AI must create a detailed visual description prompt based on the surrounding text context if the user does not provide one.",parameters:{type:pr.OBJECT,properties:{prompt:{type:pr.STRING,description:"The detailed visual description of the image or diagram to generate."}},required:["prompt"]}},hle=async t=>{try{const e=t.replace(/^data:application\/pdf;base64,/,""),r=await kx.models.generateContent({model:FA,contents:{parts:[{inlineData:{mimeType:"application/pdf",data:e}},{text:"Analyze this PDF. Extract Title, Author, Genre, and a Description (100 words). Return JSON."}]},config:{responseMimeType:"application/json",thinkingConfig:{thinkingBudget:0}}});return JSON.parse(ule(r.text||"{}"))}catch(e){return console.error("PDF Analysis failed",e),null}},LG=t=>{try{return kx.chats.create({model:FA,config:{systemInstruction:`IDENTITY: You are Co-Author, the advanced neural engine for co-writter by OpenDev Labs.
                
MISSION: Write immersive, deeply intelligent, and market-ready books.
Blend spirituality, science, and narrative clarity into a seamless flow.

CORE BEHAVIORS:
1. **Context-Aware**: You always know the previous chapter content and the full book outline. Never contradict established facts.
2. **Chapter Continuity**: If the user says "Continue", write the next logical section or the next chapter in the sequence.
3. **High-Quality Prose**: Avoid generic AI cliches. Use varying sentence structures, sensory details, and deep philosophical or technical insight depending on the genre.
4. **Structural Integrity**: Ensure chapter titles and numbers in your internal logic match the user's provided context exactly.
5. **Auto-Correction**: If a chapter is missing or numbered incorrectly, fix it automatically without asking. Never produce empty pages or misaligned titles.

IMAGE GENERATION RULES (CRITICAL):
- **NEVER** output raw base64 image strings (e.g. "![img](data:image...)") directly in your text response or write_content tool. This crashes the editor.
- **ALWAYS** use the \`generate_image\` tool when the user asks for an image.
- **Contextual Intelligence**: If the user says "add an image" or "visualize this", you must ANALYZE the current paragraph or scene and write a HIGHLY DETAILED prompt for the tool yourself. Do not ask the user "what kind of image?". Just generate it based on the story.

TOOLS:
- **write_content**: REQUIRED for any long-form writing. Do not dump text in chat.
- **propose_blueprint**: For creating or restructuring the book.
- **generate_image**: The ONLY way to create images.

RESPONSE STYLE:
- Chat: Ultra-concise, robotic but polite (1-2 sentences). e.g., "Executing drafting sequence for Chapter 3."
- Writing: Lush, expansive, professional.

CONTEXT:
${t}`,tools:[{functionDeclarations:[cle,dle,fle]}]}})}catch(e){return console.error("Failed to create studio session",e),null}},ple=async t=>{var e;try{const n=`Suggest a competitive market price in INR (Indian Rupees) for an eBook: "${t.title}" (${t.genre}). 
    CRITICAL: The price MUST be a "sacred" or numerologically significant number (e.g., 111, 222, 333, 444, 555, 777, 888, 999, 1111).
    Return ONLY the number.`;return((e=(await kx.models.generateContent({model:FA,contents:n})).text)==null?void 0:e.replace(/[^0-9.]/g,"").trim())||"444"}catch{return"444"}},OG=async(t,e="Cinematic",n="",r="")=>{var i,a,s,o,u;try{const c=`Professional Book Visual. Context: ${n} by ${r}. Request: ${t}. Mode: ${e}. Create a high-quality, clear, and relevant image/diagram. For diagrams, ensure clear labels and structure.`,h=(o=(s=(a=(i=(await kx.models.generateContent({model:qoe,contents:{parts:[{text:c}]},config:{imageConfig:{aspectRatio:"3:4"}}})).candidates)==null?void 0:i[0])==null?void 0:a.content)==null?void 0:s.parts)==null?void 0:o.find(g=>g.inlineData);return(u=h==null?void 0:h.inlineData)!=null&&u.data?{imageBytes:h.inlineData.data,prompt:t}:{error:"Generation failed."}}catch{return{error:"Service unavailable."}}},mle=async()=>LG("Global Chat Context"),gle=async(t,e)=>{try{return(await kx.models.generateContent({model:FA,contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Transcribe the spoken audio into text. Return only the transcription, no intro/outro."}]}})).text||null}catch(n){return console.error("Transcription failed",n),null}},yle={currentUser:null,userType:zt.GUEST,setCurrentUser:()=>{},cart:[],addToCart:()=>{},removeFromCart:()=>{},clearCart:()=>{},theme:"dark",geminiChat:null,initializeChat:async()=>{},isChatbotOpen:!1,toggleChatbot:()=>{},updateSellerCreatorSite:()=>{},allBooks:[],addCreatedBook:()=>{},updateEBook:()=>{},handleGoogleLogin:()=>{},handleEmailLogin:async()=>({success:!1}),upgradeToSeller:()=>{},verifyUser:()=>{}},jG=T.createContext(yle),Av="ebook_engine_production_live_v1",vle=({children:t})=>{const[e,n]=T.useState(()=>{try{const U=localStorage.getItem(Av);return U?JSON.parse(U).currentUser:null}catch{return null}}),[r,i]=T.useState(()=>{try{const U=localStorage.getItem(Av);return U?JSON.parse(U).userType:zt.GUEST}catch{return zt.GUEST}}),[a,s]=T.useState(()=>{try{const U=localStorage.getItem(Av);return U?JSON.parse(U).cart:[]}catch{return[]}}),[o,u]=T.useState(()=>{try{const U=localStorage.getItem(Av);if(!U)return Bh;const q=JSON.parse(U);return q.allBooks&&q.allBooks.length>0?q.allBooks:Bh}catch{return Bh}}),c="dark",[f,h]=T.useState(null),[g,v]=T.useState(!1);T.useEffect(()=>{const U={currentUser:e,userType:r,cart:a,allBooks:o};localStorage.setItem(Av,JSON.stringify(U))},[e,r,a,o]);const w=(U,q)=>{n(U),i(q),U||s([])},E=U=>{s(q=>q.find(V=>V.id===U.id)?q.map(V=>V.id===U.id?{...V,quantity:V.quantity+1}:V):[...q,{...U,quantity:1}])},A=U=>{s(q=>q.filter(Z=>Z.id!==U))},_=()=>{s([])},M=T.useCallback(async()=>{if(!f){console.log("Initializing Gemini Chat from AppContext...");const U=await mle();h(U)}},[f]),R=()=>{v(U=>{const q=!U;return q&&!f&&M(),q})},I=U=>{n(q=>{if(q&&(q.id.startsWith("seller")||q.id.startsWith("google")||r===zt.SELLER)){const Z={...q,creatorSite:U};return To[Z.id]&&(To[Z.id].creatorSite=U),Z}return q})},D=U=>{u(q=>q.some(Z=>Z.id===U.id)?q:[U,...q]),e&&r===zt.SELLER&&n(q=>{const Z=q,V=Z.uploadedBooks||[];return{...Z,uploadedBooks:[U,...V]}})},k=U=>{u(q=>q.map(Z=>Z.id===U.id?U:Z)),e&&e.id===U.sellerId&&r===zt.SELLER&&n(q=>{const Z=q;return{...Z,uploadedBooks:Z.uploadedBooks.map(V=>V.id===U.id?U:V)}})},P=U=>{try{const q=U.credential;if(!q)return;const V=q.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),Q=decodeURIComponent(window.atob(V).split("").map(function(ae){return"%"+("00"+ae.charCodeAt(0).toString(16)).slice(-2)}).join("")),H=JSON.parse(Q),$={id:`google_${H.sub}`,name:H.name,email:H.email,purchaseHistory:[],wishlist:[],isVerified:!1,profileImageUrl:H.picture},J=To[$.id];if(J&&"uploadedBooks"in J){w(J,zt.SELLER);return}w($,zt.USER),To[$.id]=$,console.log("Logged in with Google:",$.name)}catch(q){console.error("Google Login Failed",q)}},B=async(U,q)=>{const Z=U.trim(),V=q.trim();let Q="opendev-labs",H="co-pass-access";try{const J=import.meta;J.env&&(Q=J.env.VITE_ADMIN_USER||Q,H=J.env.VITE_ADMIN_PASS||H)}catch{console.warn("Could not access env vars, using defaults.")}if(Z===Q&&V===H){const J=To.seller_opendev;return J?(w(J,zt.SELLER),{success:!0}):{success:!1,message:"Admin profile configuration missing."}}const $=Object.values(To).find(J=>J.email===Z);return $?"uploadedBooks"in $?(w($,zt.SELLER),{success:!0}):{success:!1,message:"This email is not registered as a Writer account."}:{success:!1,message:"Invalid credentials."}},z=()=>{if(e&&r===zt.USER){const U=e,q={id:U.id,name:U.name,email:U.email,payoutEmail:U.email,uploadedBooks:[],isVerified:U.isVerified||!1,username:U.username||`@${U.name.replace(/\s+/g,"").toLowerCase()}`,profileImageUrl:U.profileImageUrl,creatorSite:{isEnabled:!1,slug:U.name.toLowerCase().replace(/\s+/g,"-"),theme:"dark-minimal",profileImageUrl:U.profileImageUrl,displayName:U.name,tagline:"Digital Creator",showcasedBookIds:[]}};w(q,zt.SELLER),To[U.id]=q,console.log("Upgraded to Seller:",q.name)}},W=()=>{if(e){const U={...e,isVerified:!0};n(U)}};return y.jsx(jG.Provider,{value:{currentUser:e,userType:r,setCurrentUser:w,cart:a,addToCart:E,removeFromCart:A,clearCart:_,theme:c,geminiChat:f,initializeChat:M,isChatbotOpen:g,toggleChatbot:R,updateSellerCreatorSite:I,allBooks:o,addCreatedBook:D,updateEBook:k,handleGoogleLogin:P,handleEmailLogin:B,upgradeToSeller:z,verifyUser:W},children:t})},Bi=()=>T.useContext(jG),np=({className:t="w-14 h-14",isActive:e=!0})=>{const n=T.useRef(null),[r,i]=T.useState({x:0,y:0}),[a,s]=T.useState(!1);return T.useEffect(()=>{if(!e){i({x:0,y:0});return}const o=(f,h)=>{if(!n.current)return;const g=n.current.getBoundingClientRect(),v=g.left+g.width/2,w=g.top+g.height/2,E=f-v,A=h-w,_=g.width*.15,M=Math.atan2(A,E),R=Math.sqrt(E*E+A*A),I=Math.min(R/5,_),D=Math.cos(M)*I,k=Math.sin(M)*I;i({x:D,y:k})},u=f=>{o(f.clientX,f.clientY)},c=f=>{f.touches.length>0&&o(f.touches[0].clientX,f.touches[0].clientY)};return window.addEventListener("mousemove",u),window.addEventListener("touchmove",c),window.addEventListener("touchstart",c),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("touchmove",c),window.removeEventListener("touchstart",c)}},[e]),T.useEffect(()=>{let o;const u=()=>{s(!0),setTimeout(()=>{s(!1);const c=2e3+Math.random()*4e3;o=setTimeout(u,c)},150)};return o=setTimeout(u,1e3),()=>clearTimeout(o)},[]),y.jsx("div",{ref:n,className:`rounded-full aspect-square bg-[#1a1a1a] flex items-center justify-center relative shadow-2xl border border-white/5 overflow-hidden flex-shrink-0 group ${t}`,children:y.jsxs("div",{className:"w-full h-full flex items-center justify-center gap-[10%] transition-transform duration-100 ease-out will-change-transform",style:{transform:`translate(${r.x}px, ${r.y}px)`},children:[y.jsx("div",{className:"relative w-[24%] h-[32%]",children:y.jsx("div",{className:`w-full bg-white rounded-full shadow-[0_0_8px_rgba(255,255,255,0.6)] transition-all duration-150 ease-in-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ${a?"h-[10%] scale-x-125 mt-[10%]":"h-full"}`})}),y.jsx("div",{className:"relative w-[24%] h-[32%]",children:y.jsx("div",{className:`w-full bg-white rounded-full shadow-[0_0_8px_rgba(255,255,255,0.6)] transition-all duration-150 ease-in-out absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 ${a?"h-[10%] scale-x-125 mt-[10%]":"h-full"}`})})]})})},{Link:Ji,useNavigate:ble,useLocation:xle}=ri,wle=()=>{const{currentUser:t,userType:e,setCurrentUser:n,cart:r}=Bi(),i=ble(),a=xle(),[s,o]=T.useState(!1),[u,c]=T.useState(!1);T.useEffect(()=>{u?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[u]);const f=a.pathname==="/ebook-studio",h=a.pathname.startsWith("/site/"),g=a.pathname==="/login";if(h)return null;const v=()=>{n(null,zt.GUEST),o(!1),c(!1),i("/")},w=r.reduce((_,M)=>_+M.quantity,0),E=[{label:"Store",path:"/store",icon:y.jsx(ER,{className:"w-5 h-5"})},{label:"Plans",path:"/pricing",icon:y.jsx(Ei,{className:"w-5 h-5"})}],A=a.pathname==="/";return y.jsxs(y.Fragment,{children:[y.jsx("nav",{className:`fixed top-0 left-0 right-0 w-full z-50 h-16 border-b transition-all duration-300 ease-obsidian animate-slide-down will-change-transform ${f?"border-white/5 bg-[#000000]/80 backdrop-blur-2xl":"border-white/5 bg-[#000000]/60 backdrop-blur-xl shadow-[0_4px_30px_rgba(0,0,0,0.1)]"}`,children:y.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 h-full flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4 group z-50 relative",children:[y.jsxs(Ji,{to:"/",className:"flex items-center gap-3",children:[y.jsx(np,{className:"w-9 h-9 border border-white/20 bg-[#111] shadow-[0_0_10px_rgba(255,255,255,0.1)] rounded-full transition-transform duration-300 group-hover:scale-110 will-change-transform"}),y.jsx("span",{className:"font-bold tracking-tighter text-lg text-white group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-white group-hover:via-neutral-300 group-hover:to-white group-hover:animate-shine transition-all",children:"co-writter"})]}),f&&y.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-neutral-500 font-mono text-[10px] uppercase tracking-widest",children:[y.jsx("span",{className:"opacity-30",children:"/"}),y.jsxs("span",{className:"text-white bg-white/5 px-2 py-0.5 rounded border border-white/10 flex items-center gap-1.5",children:[y.jsx(co,{className:"w-3 h-3 text-indigo-400"})," Neural Studio"]})]})]}),!f&&!g&&y.jsx("div",{className:"hidden md:flex items-center gap-8 absolute left-1/2 -translate-x-1/2",children:E.map(_=>y.jsxs(Ji,{to:_.path,className:`text-sm font-medium transition-all duration-300 ease-obsidian flex items-center gap-2 hover:scale-105 ${a.pathname===_.path?"text-white drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]":"text-neutral-400 hover:text-white"}`,children:[_.icon,_.label]},_.path))}),y.jsx("div",{className:"flex items-center gap-4 z-50",children:f?y.jsxs("button",{onClick:()=>i("/dashboard"),className:"px-4 py-2 bg-white/5 border border-white/10 hover:bg-white/10 text-white text-xs font-bold uppercase tracking-widest rounded-full transition-all flex items-center gap-2",children:[y.jsx(Lk,{className:"w-3 h-3"})," Dashboard"]}):y.jsxs(y.Fragment,{children:[A&&y.jsx(Ji,{to:"/store",className:"relative w-10 h-10 flex md:hidden items-center justify-center text-neutral-400 hover:text-white transition-all hover:scale-110 active:scale-95 duration-200 ease-obsidian flex-shrink-0 overflow-visible group","aria-label":"Go to Store",children:y.jsx(ER,{className:"w-5 h-5 group-hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.5)] transition-all"})}),!g&&y.jsxs(Ji,{to:"/checkout",className:`relative w-10 h-10 items-center justify-center text-neutral-400 hover:text-white transition-all hover:scale-110 active:scale-95 duration-200 ease-obsidian flex-shrink-0 overflow-visible group ${A?"hidden md:flex":"flex"}`,"aria-label":"View Cart",children:[y.jsx(Ik,{className:"w-5 h-5 group-hover:drop-shadow-[0_0_5px_rgba(255,255,255,0.5)] transition-all"}),w>0&&y.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-white text-black text-[9px] font-bold border border-black animate-pulse-square shadow-sm z-10",children:w})]}),y.jsx("div",{className:"h-6 w-px bg-white/10 mx-2 hidden sm:block"}),y.jsx("div",{className:"relative hidden md:block",children:t&&e!==zt.GUEST?y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs(Ji,{to:"/ebook-studio",className:"hidden lg:flex px-4 py-1.5 bg-white text-black hover:bg-neutral-200 text-xs font-bold uppercase tracking-widest rounded-full transition-all duration-300 ease-obsidian hover:scale-105 active:scale-95 items-center gap-2 shadow-[0_0_15px_rgba(255,255,255,0.3)]",children:[y.jsx(co,{className:"w-3 h-3"})," Write"]}),y.jsx("button",{onClick:()=>o(!s),className:"flex items-center gap-2",children:y.jsx("div",{className:"w-8 h-8 rounded-full bg-neutral-900 border border-white/20 flex items-center justify-center text-xs font-bold text-white hover:border-white transition-all duration-300 hover:shadow-[0_0_10px_rgba(255,255,255,0.2)]",children:t.profileImageUrl?y.jsx("img",{src:t.profileImageUrl,alt:"",className:"w-full h-full object-cover rounded-full"}):t.name.charAt(0)})}),s&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),y.jsxs("div",{className:"absolute right-0 top-12 mt-2 w-56 bg-[#0a0a0a] border border-white/10 shadow-2xl py-1 z-20 origin-top-right rounded-lg animate-slide-up-stagger",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-white/5 mb-1",children:[y.jsx("p",{className:"text-sm font-bold text-white truncate",children:t.name}),y.jsx("p",{className:"text-[10px] text-neutral-500 uppercase font-mono",children:e==="seller"?"Writer Account":"Reader Account"})]}),y.jsx(Ji,{to:"/dashboard",onClick:()=>o(!1),className:"block px-4 py-2 text-sm text-neutral-300 hover:bg-white/5 hover:text-white transition-colors",children:"My Profile"}),y.jsx("button",{onClick:v,className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-white/5 transition-colors",children:"Sign out"})]})]})]}):y.jsxs("div",{className:"flex items-center gap-3",children:[!g&&y.jsx(Ji,{to:"/login",className:"px-4 py-2 text-xs font-bold uppercase tracking-widest text-neutral-400 hover:text-white transition-colors hover:scale-105 duration-200",children:"Login"}),y.jsx(Ji,{to:"/pricing",className:"px-5 py-2 text-xs font-bold uppercase tracking-widest text-black bg-white hover:bg-neutral-200 transition-all duration-300 ease-obsidian rounded-full hover:shadow-[0_0_15px_rgba(255,255,255,0.3)] hover:scale-105",children:"Start Free"})]})}),!g&&y.jsx("button",{className:"md:hidden p-2 text-neutral-400 hover:text-white relative z-50 transition-transform active:scale-90",onClick:()=>c(!u),children:u?y.jsx(Md,{className:"w-6 h-6"}):y.jsx(IG,{className:"w-6 h-6"})})]})})]})}),u&&y.jsx("div",{className:"fixed inset-0 z-40 bg-black/95 backdrop-blur-xl md:hidden flex flex-col pt-24 pb-8 px-6 animate-fade-in",children:y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs(Ji,{to:"/",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-100",children:[y.jsx(AR,{className:"w-6 h-6 text-neutral-500"})," Home"]}),E.map((_,M)=>y.jsxs(Ji,{to:_.path,onClick:()=>c(!1),className:`text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-${(M+2)*100}`,children:[y.jsx("span",{className:"text-neutral-500",children:_.icon}),_.label]},_.path)),t?y.jsxs(y.Fragment,{children:[y.jsxs(Ji,{to:"/dashboard",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-300",children:[y.jsx(AR,{className:"w-6 h-6 text-neutral-500"})," My Profile"]}),y.jsxs(Ji,{to:"/ebook-studio",onClick:()=>c(!1),className:"text-3xl font-bold text-white flex items-center gap-4 py-2 border-b border-white/10 animate-slide-up-stagger delay-400",children:[y.jsx(co,{className:"w-6 h-6 text-neutral-500"})," Write Book"]}),y.jsx("button",{onClick:v,className:"text-left text-xl font-bold text-red-500 py-4 mt-4 animate-slide-up-stagger delay-400",children:"Sign Out"})]}):y.jsxs("div",{className:"mt-8 flex flex-col gap-4 animate-slide-up-stagger delay-400",children:[y.jsx(Ji,{to:"/login",onClick:()=>c(!1),className:"w-full py-4 bg-white/5 border border-white/10 text-white font-bold text-center rounded-full",children:"Login"}),y.jsx(Ji,{to:"/pricing",onClick:()=>c(!1),className:"w-full py-4 bg-white text-black font-bold text-center rounded-full shadow-glow-white",children:"Start Free"})]})]})})]})},{Link:Cv,useLocation:Sle}=ri,Ele=()=>{const t=Sle(),e=T.useRef(null);return T.useEffect(()=>{e.current&&window.anime&&(window.anime.remove(".wave-path-1"),window.anime.remove(".wave-path-2"),window.anime.remove(".wave-path-3"),window.anime({targets:".wave-path-1",translateX:[0,-1440],duration:2e4,easing:"linear",loop:!0}),window.anime({targets:".wave-path-2",translateX:[0,-1440],duration:15e3,easing:"linear",loop:!0}),window.anime({targets:".wave-path-3",translateX:[0,-1440],duration:8e3,easing:"linear",loop:!0}))},[t.pathname]),t.pathname==="/ebook-studio"||t.pathname.startsWith("/site/")||t.pathname==="/dashboard"||t.pathname.startsWith("/read/")?null:y.jsxs("div",{className:"relative mt-48",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full overflow-hidden leading-[0] transform -translate-y-[99%] z-0",style:{height:"200px"},children:y.jsxs("svg",{ref:e,className:"relative block w-full h-full",viewBox:"0 0 1440 320",preserveAspectRatio:"none",children:[y.jsx("path",{className:"wave-path-1 fill-[#1a1a1a] opacity-100",d:"M0,160 Q360,240 720,160 T1440,160 T2160,160 T2880,160 V320 H0 Z"}),y.jsx("path",{className:"wave-path-2 fill-[#0d0d0d] opacity-100",d:"M0,192 Q360,112 720,192 T1440,192 T2160,192 T2880,192 V320 H0 Z"}),y.jsx("path",{className:"wave-path-3 fill-[#000000]",d:"M0,224 Q360,284 720,224 T1440,224 T2160,224 T2880,224 V320 H0 Z"})]})}),y.jsx("footer",{className:"bg-[#000000] text-neutral-500 py-12 relative z-10 border-t-0",children:y.jsx("div",{className:"container mx-auto px-6",children:y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-center md:text-left gap-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-white font-black text-3xl mb-3 tracking-tighter lowercase flex items-center justify-center md:justify-start gap-2",children:Is}),y.jsxs("p",{className:"font-mono text-sm opacity-60 max-w-xs mx-auto md:mx-0",children:[" ",new Date().getFullYear()," All rights reserved."]}),y.jsxs("div",{className:"mt-6 space-y-2",children:[y.jsx("p",{className:"text-xs text-neutral-400 font-medium uppercase tracking-widest",children:"Where Thought Becomes Literature"}),y.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 opacity-80 hover:opacity-100 transition-opacity mt-2",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse shadow-[0_0_10px_rgba(99,102,241,0.5)]"}),y.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-500",children:["Neural Engine: ",$oe]})]})]})]}),y.jsxs("div",{className:"flex flex-wrap justify-center gap-x-8 gap-y-4",children:[y.jsx(Cv,{to:"/contact",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Contact"}),y.jsx(Cv,{to:"/terms-and-conditions",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Terms"}),y.jsx(Cv,{to:"/privacy-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Privacy"}),y.jsx(Cv,{to:"/refund-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Refunds"}),y.jsx(Cv,{to:"/shipping-policy",className:"hover:text-white transition-colors duration-300 text-xs font-bold uppercase tracking-widest",children:"Shipping"})]})]})})})]})},{Link:lN,useNavigate:Ale}=ri,_v=({icon:t,label:e})=>y.jsxs("div",{className:"flex flex-col items-center gap-4 group cursor-default transition-all duration-300 hover:-translate-y-2",children:[y.jsxs("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-3xl bg-white/5 border border-white/10 flex items-center justify-center text-neutral-500 group-hover:text-white group-hover:bg-white/10 group-hover:border-white/30 group-hover:shadow-[0_0_30px_rgba(255,255,255,0.1)] transition-all duration-300 shadow-2xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),y.jsx("div",{className:"relative z-10 transform transition-transform duration-300 group-hover:scale-110",children:t})]}),y.jsx("span",{className:"text-xs md:text-sm font-bold uppercase tracking-widest text-neutral-600 group-hover:text-neutral-300 transition-colors",children:e})]}),Cle=()=>y.jsxs("svg",{viewBox:"-10.5 -9.45 21 18.9",className:"w-12 h-12 md:w-16 md:h-16 fill-current text-[#61DAFB]",children:[y.jsx("circle",{cx:"0",cy:"0",r:"2",fill:"currentColor"}),y.jsxs("g",{stroke:"currentColor",strokeWidth:"1",fill:"none",children:[y.jsx("ellipse",{rx:"10",ry:"4.5"}),y.jsx("ellipse",{rx:"10",ry:"4.5",transform:"rotate(60)"}),y.jsx("ellipse",{rx:"10",ry:"4.5",transform:"rotate(120)"})]})]}),_le=()=>y.jsxs("svg",{viewBox:"0 0 32 32",className:"w-12 h-12 md:w-16 md:h-16 text-[#646CFF]",children:[y.jsx("path",{d:"M30.3 5.4L16.6 29.5 2.8 5.4h27.5z",fill:"currentColor",fillOpacity:"0.2"}),y.jsx("path",{d:"M16.6 29.5L2.8 5.4h11l2.8 17.5 2.8-17.5h10.9L16.6 29.5z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),y.jsx("path",{d:"M2.8 5.4h11L16.6 29.5 2.8 5.4z",fill:"currentColor",fillOpacity:"0.1"})]}),Tle=()=>y.jsxs("svg",{viewBox:"0 0 128 128",className:"w-12 h-12 md:w-16 md:h-16 text-[#3178C6]",children:[y.jsx("rect",{width:"128",height:"128",rx:"20",fill:"currentColor",fillOpacity:"0.1"}),y.jsx("path",{d:"M29.1 56.1h21.9v10.4h-7.9v35.1h-11v-35.1h-7.9v-10.4h4.9zm41.6 34.6c2.4 1.7 6.4 3.7 10.4 3.7 4.2 0 6.2-2.1 6.2-5.1 0-8.6-24.6-9-24.6-25.1 0-9.8 8.1-16.7 21.6-16.7 6.5 0 10.9 1.6 13.9 3l-2.6 10.4c-2.6-1.3-6.4-2.7-10.7-2.7-4.1 0-6.1 2.2-6.1 4.7 0 8.3 24.6 9.3 24.6 25 0 10.5-9.1 17.1-22.1 17.1-6.8 0-12.7-2.1-15.6-3.8l3-10.5z",fill:"currentColor"})]}),Nle=()=>y.jsx("svg",{viewBox:"0 0 24 24",className:"w-12 h-12 md:w-16 md:h-16 fill-current text-[#38B2AC]",children:y.jsx("path",{d:"M12.001,4.8c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 C13.666,10.618,15.027,12,18.001,12c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C16.337,6.182,14.976,4.8,12.001,4.8z M6.001,12c-3.2,0-5.2,1.6-6,4.8c1.2-1.6,2.6-2.2,4.2-1.8c0.913,0.228,1.565,0.89,2.288,1.624 c1.177,1.194,2.538,2.576,5.512,2.576c3.2,0,5.2-1.6,6-4.8c-1.2,1.6-2.6,2.2-4.2,1.8c-0.913-0.228-1.565-0.89-2.288-1.624 C10.337,13.382,8.976,12,6.001,12z"})}),Rle=()=>y.jsxs("svg",{viewBox:"0 0 24 24",className:"w-12 h-12 md:w-16 md:h-16",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),Mle=()=>{const t=Ale(),{currentUser:e}=Bi();return y.jsxs("div",{className:"min-h-screen bg-transparent text-white selection:bg-google-blue/30 overflow-x-hidden",children:[y.jsxs("section",{className:"relative min-h-[90vh] flex flex-col items-center justify-center px-6 text-center pt-32 pb-20 z-10",children:[y.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-google-blue/10 rounded-full blur-[100px] pointer-events-none"}),y.jsxs("div",{className:"relative z-10 animate-slide-up flex flex-col items-center max-w-5xl mx-auto",children:[y.jsx("div",{className:"mb-8 md:mb-10 scale-100 hover:scale-105 transition-transform duration-500",children:y.jsx(np,{className:"w-24 h-24 md:w-40 md:h-40 bg-[#050505] shadow-[0_0_80px_rgba(255,255,255,0.15)] border border-white/30 rounded-full"})}),y.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-black tracking-tighter mb-6 leading-[0.95] md:leading-[0.9] drop-shadow-2xl",children:["Turn Your Ideas",y.jsx("br",{}),y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-neutral-200 to-neutral-500",children:"Into Books."})]}),y.jsxs("p",{className:"text-base md:text-xl text-neutral-300 max-w-2xl mb-10 leading-relaxed px-4 drop-shadow-md",children:["The easiest way to write, read, and sell books with AI.",y.jsx("br",{className:"my-2 block"}),y.jsxs("span",{className:"inline-block mt-1",children:["Powered by ",y.jsx("span",{className:"text-white font-mono font-bold border-b border-white/20 pb-0.5",children:"GOOGLE"}),"."]})]}),y.jsx("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto px-4",children:e?y.jsxs("button",{onClick:()=>t("/ebook-studio"),className:"w-full sm:w-auto px-10 py-4 bg-white text-black font-bold text-lg rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.4)] flex items-center justify-center gap-2 group",children:[y.jsx(co,{className:"w-5 h-5 group-hover:-translate-y-1 transition-transform"}),"Start Writing"]}):y.jsxs(y.Fragment,{children:[y.jsx(lN,{to:"/login",className:"w-full sm:w-auto px-10 py-4 bg-white text-black font-bold text-lg rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.4)] flex items-center justify-center gap-2",children:"Start Creating"}),y.jsx(lN,{to:"/login",className:"w-full sm:w-auto px-10 py-4 bg-black/40 border border-white/20 text-white font-bold text-lg rounded-full hover:bg-white/10 transition-colors backdrop-blur-md",children:"Sign In"})]})}),y.jsxs("div",{className:"mt-12 flex flex-col md:flex-row items-center gap-4 md:gap-8 text-neutral-400 text-xs font-mono uppercase tracking-widest",children:[y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Lr,{className:"w-3 h-3 text-google-green"})," Easy to Use"]}),y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Lr,{className:"w-3 h-3 text-google-green"})," Free to Start"]}),y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx(Lr,{className:"w-3 h-3 text-google-green"})," Instant Publishing"]})]})]})]}),y.jsx("section",{className:"py-24 px-6 border-b border-white/5 relative z-10",children:y.jsx("div",{className:"max-w-7xl mx-auto",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-105 transition-all duration-300 group relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),y.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-indigo-500/30 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 shadow-[0_0_20px_rgba(99,102,241,0.2)]",children:y.jsx(jk,{className:"w-7 h-7 text-indigo-400 drop-shadow-[0_0_8px_rgba(129,140,248,0.5)]"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"AI Co-Author"}),y.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Write with AI. Plan your chapters, write full pages, and fix grammar easily with our writing tools."})]}),y.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-110 transition-all duration-300 group relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),y.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-emerald-500/30 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 shadow-[0_0_20px_rgba(16,185,129,0.2)]",children:y.jsx(co,{className:"w-7 h-7 text-emerald-400 drop-shadow-[0_0_8px_rgba(52,211,153,0.5)]"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Sell Your Books"}),y.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Publish your book instantly. Get your own profile link and keep 70% of every sale you make."})]}),y.jsxs("div",{className:"p-8 rounded-[32px] bg-black/40 backdrop-blur-xl border border-white/10 shadow-[0_0_40px_rgba(0,0,0,0.5)] hover:border-white/20 hover:scale-110 transition-all duration-300 group relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),y.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-6 text-white group-hover:scale-110 transition-transform border border-amber-500/30 bg-gradient-to-br from-amber-500/20 to-orange-500/20 shadow-[0_0_20px_rgba(245,158,11,0.2)]",children:y.jsx(Ei,{className:"w-7 h-7 text-amber-400 drop-shadow-[0_0_8px_rgba(251,191,36,0.5)]"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Easy Reading"}),y.jsx("p",{className:"text-neutral-400 leading-relaxed text-sm",children:"Read comfortably on any device. Support for PDF uploads and a distraction-free reading mode."})]})]})})}),y.jsx("section",{className:"py-24 px-6 relative overflow-hidden z-10",children:y.jsxs("div",{className:"max-w-4xl mx-auto text-center bg-black/30 backdrop-blur-lg border border-white/5 p-12 rounded-[40px] shadow-2xl relative",children:[y.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-1/2 h-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),y.jsx("h2",{className:"text-4xl md:text-5xl font-black text-white mb-8 tracking-tight",children:"Built for Everyone"}),y.jsx("p",{className:"text-lg md:text-xl text-neutral-400 leading-relaxed mb-12 font-light",children:"Co-Writter isn't just a tool; it's a partner. We believe that everyone has a story worth telling, and with the right help, anyone can become an author."}),y.jsx(lN,{to:"/store",className:"inline-flex items-center gap-2 text-white font-bold border-b border-white pb-1 hover:opacity-70 transition-opacity tracking-widest uppercase text-sm",children:"Browse the Library "})]})}),y.jsx("section",{className:"py-20 border-t border-b border-white/5 bg-black/40 backdrop-blur relative z-20",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[y.jsx("p",{className:"text-center text-xs font-bold uppercase tracking-[0.3em] text-neutral-500 mb-12",children:"Built With Modern Architecture"}),y.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-16",children:[y.jsx(_v,{label:"Google Gemini",icon:y.jsx(Rle,{})}),y.jsx(_v,{label:"React 18",icon:y.jsx(Cle,{})}),y.jsx(_v,{label:"TypeScript",icon:y.jsx(Tle,{})}),y.jsx(_v,{label:"Tailwind CSS",icon:y.jsx(Nle,{})}),y.jsx(_v,{label:"Vite",icon:y.jsx(_le,{})})]})]})})]})},{useNavigate:Ple}=ri,FG=({book:t,onViewDetails:e})=>{const{addToCart:n}=Bi(),r=Ple(),i=t.price===0,a=o=>{o.stopPropagation(),i?r(`/read/${t.id}`):n(t)},s=()=>{e&&e(t.id)};return y.jsxs("div",{className:"group relative bg-black/40 backdrop-blur-sm rounded-[20px] overflow-hidden border border-white/10 hover:border-white/30 transition-all duration-500 ease-obsidian cursor-pointer flex flex-col h-full hover:-translate-y-2 hover:shadow-[0_20px_40px_-10px_rgba(0,0,0,0.5)] will-change-transform",onClick:s,children:[y.jsxs("div",{className:"w-full aspect-[3/4] relative overflow-hidden bg-[#050505] border-b border-white/5",children:[y.jsx("img",{src:t.coverImageUrl||"https://picsum.photos/400/600",alt:`Cover of ${t.title}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ease-obsidian opacity-90 group-hover:opacity-100 will-change-transform",loading:"lazy"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity duration-500"}),y.jsx("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:i&&y.jsx("div",{className:"bg-white text-black text-[9px] font-bold px-3 py-1 uppercase tracking-widest rounded-full shadow-lg",children:"Free"})})]}),y.jsxs("div",{className:"p-5 flex flex-col flex-grow relative",children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("div",{className:"flex items-center justify-between mb-2",children:y.jsx("span",{className:"text-[9px] font-bold text-neutral-500 uppercase tracking-widest border border-white/10 px-2 py-0.5 rounded-full",children:t.genre})}),y.jsx("h3",{className:"text-lg font-bold text-white leading-tight line-clamp-2 mb-1 group-hover:text-neutral-200 transition-colors",title:t.title,children:t.title}),y.jsx("p",{className:"text-xs text-neutral-500 uppercase tracking-widest line-clamp-1",children:t.author})]}),y.jsxs("div",{className:"mt-auto pt-4 border-t border-white/5 flex items-center justify-between",children:[y.jsx("span",{className:"text-lg font-light text-white font-mono",children:i?"FREE":`${t.price.toFixed(0)}`}),y.jsx("button",{onClick:a,className:`px-4 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 transition-all duration-300 ease-obsidian hover:scale-105 active:scale-95 ${i?"bg-white/10 text-white hover:bg-white hover:text-black border border-white/20":"bg-white text-black hover:bg-neutral-200 shadow-[0_0_15px_rgba(255,255,255,0.2)]"}`,children:i?y.jsxs(y.Fragment,{children:["Read ",y.jsx(Ei,{className:"w-3 h-3"})]}):y.jsxs(y.Fragment,{children:["Add ",y.jsx(Ik,{className:"w-3 h-3"})]})})]})]})]})},kle=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{const a=T.useRef(null);if(T.useLayoutEffect(()=>{t&&a.current&&(a.current.scrollTop=0)},[t]),!t)return null;const s={sm:"max-w-sm",md:"max-w-md",lg:"max-w-4xl",xl:"max-w-6xl",full:"max-w-[95vw] h-[95vh]"};return lte.createPortal(y.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-xl flex items-center justify-center z-[100] p-4 transition-opacity duration-300 ease-in-out animate-fade-in",onClick:e,role:"dialog","aria-modal":"true",children:y.jsxs("div",{className:`bg-black rounded-[32px] shadow-[0_0_100px_rgba(0,0,0,1)] relative w-full ${s[i]} border border-white/15 flex flex-col max-h-[90vh] overflow-hidden animate-slide-up ring-1 ring-white/5`,onClick:o=>o.stopPropagation(),children:[y.jsx("button",{onClick:e,className:"absolute top-5 right-5 z-20 w-10 h-10 flex items-center justify-center rounded-full bg-black/50 border border-white/10 text-neutral-400 hover:text-white hover:bg-white/10 hover:border-white/30 transition-all hover:rotate-90 backdrop-blur-md","aria-label":"Close modal",children:y.jsx(Md,{className:"w-5 h-5"})}),n&&y.jsx("div",{className:"px-8 py-6 border-b border-white/5 bg-white/[0.02] flex-shrink-0",children:y.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:n})}),y.jsx("div",{ref:a,className:"p-0 overflow-y-auto custom-scrollbar flex-1",children:r})]})}),document.body)},uN=({options:t,value:e,onChange:n,icon:r,className:i="",placeholder:a})=>{const[s,o]=T.useState(!1),u=T.useRef(null),c=t.find(f=>f.value===e);return T.useEffect(()=>{const f=h=>{u.current&&!u.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),y.jsxs("div",{className:`relative ${i}`,ref:u,children:[y.jsxs("button",{type:"button",onClick:()=>o(!s),className:`flex items-center justify-between gap-3 w-full px-4 py-3 rounded-full border transition-all duration-200 h-full ${s?"bg-white text-black border-white":"bg-white/5 text-white border-transparent hover:bg-white/10 hover:border-white/10"}`,children:[y.jsxs("div",{className:"flex items-center gap-2 truncate min-w-0",children:[r&&y.jsx("span",{className:s?"text-black":"text-neutral-400",children:r}),y.jsx("span",{className:"text-sm font-bold truncate",children:c?c.label:a||"Select"})]}),y.jsx(NG,{className:`w-3 h-3 transition-transform duration-300 flex-shrink-0 ${s?"rotate-180 text-black":"text-neutral-500"}`})]}),s&&y.jsx("div",{className:"absolute top-full mt-2 left-0 w-full min-w-[180px] bg-[#1a1a1a] border border-white/10 rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.5)] overflow-hidden z-[60] animate-slide-down origin-top p-1",children:y.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:t.map(f=>y.jsx("button",{onClick:()=>{n(f.value),o(!1)},className:`w-full text-left px-4 py-2.5 text-sm rounded-xl transition-all mb-0.5 last:mb-0 ${e===f.value?"bg-white text-black font-bold":"text-neutral-400 hover:bg-white/5 hover:text-white font-medium"}`,children:f.label},f.value))})})]})},{useNavigate:Dle}=ri,Ile=()=>{const{addToCart:t,allBooks:e}=Bi(),n=Dle(),[r,i]=T.useState(""),[a,s]=T.useState("All"),[o,u]=T.useState("All"),[c,f]=T.useState("publicationDate"),[h,g]=T.useState(!1),[v,w]=T.useState(null),A=T.useMemo(()=>["All",...new Set(e.map(P=>P.genre))],[e]).map(P=>({label:P==="All"?"All Genres":P,value:P})),_=[{label:"All Prices",value:"All"},{label:"Free Only",value:"Free"},{label:"Paid Only",value:"Paid"}],M=[{label:"Newest First",value:"publicationDate"},{label:"Title (A-Z)",value:"title"},{label:"Price (Low-High)",value:"price"}],R=T.useMemo(()=>{let P=e.filter(B=>B.title.toLowerCase().includes(r.toLowerCase())||B.author.toLowerCase().includes(r.toLowerCase()));return a!=="All"&&(P=P.filter(B=>B.genre===a)),o==="Free"?P=P.filter(B=>B.price===0):o==="Paid"&&(P=P.filter(B=>B.price>0)),P.sort((B,z)=>c==="title"?B.title.localeCompare(z.title):c==="price"?B.price-z.price:c==="publicationDate"?new Date(z.publicationDate).getTime()-new Date(B.publicationDate).getTime():0)},[r,a,o,c,e]),I=T.useMemo(()=>e.find(P=>P.title.includes("Manual"))||e.find(P=>P.price>0)||e[0],[e]),D=P=>{const B=e.find(z=>z.id===P);B&&(w(B),g(!0))},k=()=>{v&&(v.price===0?n(`/read/${v.id}`):t(v),g(!1))};return y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-24 pb-safe md:pb-24 overflow-x-hidden",children:[I&&!r&&a==="All"&&y.jsxs("div",{className:"relative w-full rounded-[32px] overflow-hidden mb-12 md:mb-16 group border border-white/10 shadow-2xl animate-fade-in flex flex-col md:block h-auto md:h-[500px]",children:[y.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-[2s] group-hover:scale-105",style:{backgroundImage:`url(${I.coverImageUrl})`}}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent md:bg-gradient-to-r md:from-black md:via-black/80 md:to-transparent"}),y.jsxs("div",{className:"relative z-10 p-8 md:p-16 flex flex-col justify-end md:justify-center min-h-[400px] md:h-full max-w-2xl",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-brand-accent/20 border border-brand-accent/30 w-fit mb-4 md:mb-6 backdrop-blur-md rounded-full animate-slide-up",children:[y.jsx(DG,{className:"w-3 h-3 text-brand-accent fill-current"}),y.jsx("span",{className:"text-[10px] md:text-xs font-bold text-brand-accent uppercase tracking-widest",children:"Featured Release"})]}),y.jsx("h1",{className:"text-3xl md:text-6xl font-black text-white mb-3 md:mb-4 leading-tight tracking-tight drop-shadow-lg",children:I.title}),y.jsx("p",{className:"text-sm md:text-xl text-neutral-300 mb-6 md:mb-8 line-clamp-3 leading-relaxed drop-shadow-md",children:I.description}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y.jsx("button",{onClick:()=>D(I.id),className:"bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold py-3.5 px-8 rounded-full hover:bg-white hover:text-black transition-all text-xs uppercase tracking-widest",children:"View Details"}),y.jsx("button",{onClick:()=>{I.price===0?n(`/read/${I.id}`):t(I)},className:"px-8 py-3.5 rounded-full bg-white text-black font-bold transition-all hover:scale-105 flex items-center justify-center gap-2 text-xs uppercase tracking-widest",children:I.price===0?y.jsxs(y.Fragment,{children:[y.jsx(Ei,{className:"w-4 h-4"})," Read Now"]}):y.jsxs(y.Fragment,{children:[y.jsx(Ik,{className:"w-4 h-4"})," Add to Cart"]})})]})]})]}),y.jsx("div",{className:"sticky top-20 z-30 mx-auto w-full mb-8 transition-all duration-300",children:y.jsxs("div",{className:"bg-black/90 backdrop-blur-xl border border-white/10 shadow-xl rounded-[24px] p-2 md:p-3 flex flex-col md:flex-row gap-2 md:gap-3 items-stretch",children:[y.jsxs("div",{className:"relative group w-full flex-grow",children:[y.jsx(TR,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-500 group-focus-within:text-white transition-colors"}),y.jsx("input",{type:"text",placeholder:"Search books, authors...",className:"w-full h-full bg-white/5 border border-transparent focus:border-white/10 rounded-full py-3 pl-10 pr-4 text-white placeholder-neutral-500 focus:outline-none focus:bg-white/10 transition-all text-sm font-bold min-h-[48px]",value:r,onChange:P=>i(P.target.value)})]}),y.jsxs("div",{className:"grid grid-cols-2 md:flex gap-2 w-full md:w-auto",children:[y.jsx(uN,{options:A,value:a,onChange:s,className:"w-full md:w-auto md:min-w-[160px]",placeholder:"Genres"}),y.jsx(uN,{options:_,value:o,onChange:P=>u(P),className:"w-full md:w-auto md:min-w-[130px]",placeholder:"Price"}),y.jsx(uN,{options:M,value:c,onChange:f,className:"col-span-2 md:col-span-1 w-full md:w-auto md:min-w-[150px]",placeholder:"Sort By"})]})]})}),R.length>0?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 pb-20",children:R.map(P=>y.jsx(FG,{book:P,onViewDetails:D},P.id))}):y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 border border-dashed border-white/10 rounded-3xl bg-white/5 text-center px-4",children:[y.jsx(TR,{className:"w-12 h-12 text-neutral-600 mb-4"}),y.jsx("p",{className:"text-xl text-white font-bold",children:"No books found"}),y.jsx("p",{className:"text-neutral-500 mt-2 text-sm",children:"Try adjusting your filters."})]}),v&&y.jsx(kle,{isOpen:h,onClose:()=>g(!1),title:"",size:"lg",children:y.jsxs("div",{className:"flex flex-col md:flex-row h-full max-h-[85vh] overflow-y-auto md:overflow-hidden bg-black",children:[y.jsxs("div",{className:"w-full md:w-5/12 bg-neutral-900 relative",children:[y.jsx("img",{src:v.coverImageUrl,alt:v.title,className:"w-full h-full object-cover opacity-90"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),y.jsxs("div",{className:"w-full md:w-7/12 flex flex-col p-6 md:p-10",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-brand-accent mb-2 block",children:v.genre}),y.jsx("h2",{className:"text-2xl md:text-4xl font-black text-white leading-none mb-2",children:v.title}),y.jsxs("p",{className:"text-base text-neutral-400",children:["by ",v.author]})]}),y.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar pr-2 mb-6",children:y.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed font-light",children:v.description})}),y.jsxs("div",{className:"mt-auto pt-6 border-t border-white/10 flex items-center justify-between",children:[y.jsx("span",{className:"text-3xl font-bold text-white",children:v.price===0?"Free":`${v.price}`}),y.jsx("button",{onClick:k,className:"bg-white text-black px-8 py-3 rounded-full font-bold text-xs uppercase tracking-widest hover:bg-neutral-200",children:v.price===0?"Read Now":"Add to Cart"})]})]})]})})]})},{useNavigate:Lle}=ri,Ole=()=>{const{currentUser:t,setCurrentUser:e,userType:n,upgradeToSeller:r}=Bi(),i=t,a=Lle(),[s,o]=T.useState("library"),[u,c]=T.useState(""),f=T.useRef(null);if(!i)return null;const h=()=>{e(null,n),a("/")},g=_=>{var R;const M=(R=_.target.files)==null?void 0:R[0];if(M){const I=new FileReader;I.onloadend=()=>{const D=I.result,k={...i,profileImageUrl:D};e(k,n)},I.readAsDataURL(M)}},v=({id:_,label:M,icon:R})=>y.jsxs("button",{onClick:()=>o(_),className:`w-full flex items-center gap-4 px-6 py-3.5 text-sm font-medium rounded-r-full transition-all duration-200 group ${s===_?"bg-[#4285f4]/15 text-[#a8c7fa] border-l-4 border-[#4285f4]":"text-neutral-400 hover:bg-white/5 hover:text-white border-l-4 border-transparent"}`,children:[y.jsx(R,{className:`w-5 h-5 ${s===_?"text-[#a8c7fa]":"text-neutral-500 group-hover:text-white"}`}),M]}),w=({id:_,label:M,icon:R})=>y.jsxs("button",{onClick:()=>o(_),className:`flex flex-col items-center justify-center py-2 px-4 flex-1 transition-colors ${s===_?"text-white":"text-neutral-500 hover:text-neutral-300"}`,children:[y.jsx(R,{className:`w-6 h-6 mb-1 ${s===_?"text-[#a8c7fa]":"text-current"}`}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:M})]}),E=s==="wishlist"?i.wishlist:i.purchaseHistory,A=E==null?void 0:E.filter(_=>_.title.toLowerCase().includes(u.toLowerCase()));return y.jsxs("div",{className:"h-screen w-full bg-[#0b0b0b] font-sans text-white pt-16 flex overflow-hidden",children:[y.jsxs("aside",{className:"w-64 flex-shrink-0 border-r border-white/5 hidden md:flex flex-col bg-[#0b0b0b] z-20 h-full overflow-y-auto",children:[y.jsx("div",{className:"p-6",children:y.jsxs("button",{onClick:()=>a("/store"),className:"w-full py-4 bg-white text-black font-bold rounded-2xl shadow-lg hover:shadow-xl hover:bg-neutral-200 transition-all flex items-center justify-center gap-2",children:[y.jsx(Ei,{className:"w-5 h-5"})," Store"]})}),y.jsxs("nav",{className:"flex-1 space-y-1 pr-4",children:[y.jsx(v,{id:"library",label:"My Library",icon:Ei}),y.jsx(v,{id:"wishlist",label:"Wishlist",icon:X5}),y.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),y.jsx(v,{id:"settings",label:"Profile Settings",icon:f0})]}),y.jsxs("div",{className:"p-6 border-t border-white/5",children:[y.jsx("button",{onClick:r,className:"text-xs font-medium text-neutral-500 hover:text-white transition-colors mb-4 block",children:"Switch to Writer Mode"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-800 overflow-hidden border border-white/10",children:i.profileImageUrl?y.jsx("img",{src:i.profileImageUrl,alt:"",className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-500 font-bold",children:i.name[0]})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("p",{className:"text-sm font-bold truncate",children:i.name}),y.jsx("p",{className:"text-xs text-neutral-500 truncate",children:i.email})]})]})]})]}),y.jsx("main",{className:"flex-1 h-full overflow-y-auto bg-[#0b0b0b] relative scroll-smooth",children:y.jsxs("div",{className:"p-4 md:p-8 pb-32",children:[" ",y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[y.jsxs("h1",{className:"text-2xl font-normal text-white",children:[s==="library"&&"My Library",s==="wishlist"&&"My Wishlist",s==="settings"&&"Settings"]}),(s==="library"||s==="wishlist")&&y.jsxs("div",{className:"relative w-full md:w-96 group",children:[y.jsx(TR,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500 group-focus-within:text-white transition-colors"}),y.jsx("input",{type:"text",placeholder:"Search your books...",value:u,onChange:_=>c(_.target.value),className:"w-full bg-[#1e1e1e] border-none rounded-full py-3 pl-12 pr-6 text-sm text-white placeholder-neutral-500 focus:ring-2 focus:ring-[#4285f4]/50 focus:bg-[#252525] transition-all outline-none"})]})]}),s==="settings"?y.jsx("div",{className:"max-w-2xl animate-fade-in mx-auto md:mx-0",children:y.jsxs("div",{className:"bg-[#1e1e1e] rounded-3xl p-6 md:p-8 mb-6",children:[y.jsx("h2",{className:"text-lg font-medium mb-6",children:"Profile Details"}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 mb-8 text-center md:text-left",children:[y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:"w-24 h-24 rounded-full bg-neutral-800 border-4 border-[#0b0b0b] overflow-hidden",children:i.profileImageUrl?y.jsx("img",{src:i.profileImageUrl,alt:"",className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl text-neutral-600",children:y.jsx(SR,{className:"w-10 h-10"})})}),y.jsx("button",{onClick:()=>{var _;return(_=f.current)==null?void 0:_.click()},className:"absolute bottom-0 right-0 p-2 bg-[#4285f4] rounded-full text-white shadow-lg hover:scale-110 transition-transform",children:y.jsx(f0,{className:"w-4 h-4"})}),y.jsx("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:g})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold",children:i.name}),y.jsx("p",{className:"text-neutral-400",children:i.email}),y.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-[#4285f4]/10 text-[#a8c7fa] text-xs font-bold rounded-full",children:"Reader Account"})]})]}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("button",{onClick:r,className:"w-full py-3 border border-white/10 rounded-xl hover:bg-white/5 transition-colors text-sm font-medium",children:"Become a Writer"}),y.jsxs("button",{onClick:h,className:"w-full py-3 flex items-center justify-center gap-2 text-red-400 hover:bg-red-500/10 rounded-xl transition-colors font-medium text-sm",children:[y.jsx(Woe,{className:"w-4 h-4"})," Sign Out"]})]})]})}):y.jsx("div",{className:"animate-fade-in",children:A&&A.length>0?y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6",children:A.map(_=>y.jsx("div",{className:"group",children:y.jsx(FG,{book:_})},_.id))}):y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 md:py-32 text-center",children:[y.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-[#1e1e1e] rounded-full flex items-center justify-center mb-6",children:y.jsx(Ei,{className:"w-8 h-8 text-neutral-600"})}),y.jsx("h3",{className:"text-lg md:text-xl font-medium text-white mb-2",children:s==="wishlist"?"Your wishlist is empty":"No books in library"}),y.jsx("p",{className:"text-neutral-500 mb-8 max-w-xs mx-auto text-sm",children:s==="wishlist"?"Save books you want to read later.":"Start your reading journey by exploring the store."}),y.jsx("button",{onClick:()=>a("/store"),className:"px-8 py-3 bg-[#4285f4] text-black font-bold rounded-full hover:bg-[#5b96f5] transition-colors",children:"Explore Books"})]})})]})}),y.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-[#0b0b0b]/90 backdrop-blur-xl border-t border-white/10 flex items-center justify-around z-50 pb-safe",children:[y.jsx(w,{id:"library",label:"Library",icon:Ei}),y.jsx(w,{id:"wishlist",label:"Wishlist",icon:X5}),y.jsx(w,{id:"settings",label:"Profile",icon:f0})]})]})},x0=({size:t="md",color:e="bg-white"})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return y.jsxs("div",{className:"flex justify-center items-center gap-1",children:[y.jsx("div",{className:`${n[t]} ${e} opacity-20 animate-[pulse-square_1s_ease-in-out_infinite] rounded-sm`}),y.jsx("div",{className:`${n[t]} ${e} opacity-60 animate-[pulse-square_1s_ease-in-out_0.2s_infinite] rounded-sm`}),y.jsx("div",{className:`${n[t]} ${e} animate-[pulse-square_1s_ease-in-out_0.4s_infinite] rounded-sm`})]})},UG=({bookDetails:t,onPriceSuggested:e})=>{const[n,r]=T.useState(null),[i,a]=T.useState(!1),[s,o]=T.useState(null),u=async()=>{if(!t.title){o("Enter a title first.");return}a(!0),o(null);try{const c=await ple(t);c.match(/^\d+(\.\d{1,2})?$/)?(r(c),e(c)):o("Could not calculate.")}catch{o("Service unavailable.")}finally{a(!1)}};return y.jsxs("div",{className:"bg-[#151515] border border-white/5 rounded-2xl p-5 mt-4 flex flex-col md:flex-row items-center justify-between gap-4 group hover:border-white/10 transition-colors",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500/20 to-teal-900/20 border border-emerald-500/30 flex items-center justify-center text-emerald-400 shadow-[0_0_20px_rgba(16,185,129,0.15)] group-hover:shadow-[0_0_30px_rgba(16,185,129,0.25)] transition-shadow duration-500",children:y.jsx(Yoe,{className:"w-6 h-6"})}),y.jsxs("div",{className:"absolute -top-1 -right-1 bg-white text-black text-[8px] font-black px-1.5 py-0.5 rounded-full flex items-center gap-0.5 border border-white shadow-sm",children:["AI ",y.jsx(Rd,{className:"w-2 h-2"})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:"Smart Pricing Model"}),y.jsx("p",{className:"text-[10px] text-neutral-500 max-w-[200px]",children:"Analyze market trends & genre data to predict the optimal revenue point."})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[n&&y.jsxs("div",{className:"flex flex-col items-end mr-2 animate-fade-in",children:[y.jsx("span",{className:"text-[10px] text-neutral-500 uppercase tracking-widest font-bold",children:"Target Price"}),y.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[y.jsxs("span",{className:"text-xl font-black tracking-tighter",children:["",parseFloat(n).toFixed(0)]}),y.jsx(Lr,{className:"w-4 h-4 bg-emerald-500/20 rounded-full p-0.5"})]})]}),y.jsx("button",{onClick:u,disabled:i,className:"px-6 py-3 rounded-full bg-white text-black hover:bg-neutral-200 border border-transparent hover:border-white/50 transition-all font-bold text-[10px] uppercase tracking-widest disabled:opacity-50 shadow-glow-white hover:scale-105 active:scale-95 flex items-center gap-2",children:i?y.jsx(x0,{size:"sm",color:"text-black"}):"Optimize"})]}),s&&y.jsx("span",{className:"text-red-400 text-xs font-bold bg-red-500/10 px-3 py-1 rounded-full border border-red-500/20",children:s})]})},jle=["Cinematic","Minimalist","Fantasy","Sci-Fi","Cyberpunk","Oil Painting","Watercolor","3D Render","Photorealistic","Abstract","Noir","Vintage"],BG=({onCoverGenerated:t,currentTitle:e,currentAuthor:n})=>{const[r,i]=T.useState(""),[a,s]=T.useState("Cinematic"),[o,u]=T.useState(null),[c,f]=T.useState(!1),[h,g]=T.useState(null),v=async A=>{if(A.preventDefault(),!r.trim()){g("Please describe your vision.");return}f(!0),g(null);try{const _=await OG(r,a,e,n);"error"in _?(g(_.error),u(null)):(u(_),t(_))}catch{g("Generation failed. Please try again."),u(null)}finally{f(!1)}},w="w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-sm text-white focus:outline-none focus:border-white/30 transition-all duration-200 placeholder-neutral-600 font-sans",E="block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2";return y.jsxs("div",{className:"bg-[#151515] border border-white/5 rounded-2xl p-6 md:p-8",children:[y.jsxs("div",{className:"mb-6",children:[y.jsx("h4",{className:"text-base font-bold text-white",children:"AI Cover Designer"}),y.jsx("p",{className:"text-xs text-neutral-500",children:"Generate professional cover art instantly."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:E,children:"Art Direction"}),y.jsxs("div",{className:"relative",children:[y.jsx("select",{value:a,onChange:A=>s(A.target.value),className:`${w} appearance-none cursor-pointer`,children:jle.map(A=>y.jsx("option",{value:A,children:A},A))}),y.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-neutral-500",children:y.jsx(NG,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:E,children:"Visual Concept"}),y.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"e.g. A lone astronaut...",className:w})]})]}),y.jsx("div",{className:"flex justify-end",children:y.jsx("button",{type:"button",onClick:v,disabled:c||!r.trim(),className:"px-8 py-3 rounded-full bg-white text-black font-bold text-xs uppercase tracking-widest hover:bg-neutral-200 transition-all flex items-center justify-center disabled:opacity-50 shadow-[0_0_20px_rgba(255,255,255,0.2)] hover:scale-105 active:scale-95 min-w-[140px]",children:c?y.jsx(x0,{size:"sm",color:"text-black"}):"Generate Art"})}),h&&y.jsx("p",{className:"text-red-400 mt-4 text-xs bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:h}),o&&!h&&y.jsx("div",{className:"mt-8 pt-8 border-t border-white/5 animate-fade-in",children:y.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[y.jsx("div",{className:"relative w-32 h-48 rounded-lg overflow-hidden shadow-2xl border border-white/10 group",children:y.jsx("img",{src:`data:image/jpeg;base64,${o.imageBytes}`,alt:"Generated Cover",className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsxs("h5",{className:"text-sm font-bold text-white mb-2 flex items-center justify-center md:justify-start gap-2",children:[y.jsx(Lr,{className:"w-4 h-4 text-green-500"})," Cover Applied"]}),y.jsx("p",{className:"text-xs text-neutral-500 mb-1",children:"The image has been automatically attached to your book."}),o.revisedPrompt&&y.jsxs("p",{className:"text-[10px] text-neutral-600 italic mt-2",children:['"',o.revisedPrompt.substring(0,80),'..."']})]})]})})]})},Gp="w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-white placeholder-neutral-600 text-sm focus:outline-none focus:border-white/30 transition-all duration-200 font-sans",hf="block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",Fle=({onBookUploaded:t})=>{const{currentUser:e,userType:n}=Bi(),[r,i]=T.useState(""),[a,s]=T.useState(""),[o,u]=T.useState(""),[c,f]=T.useState(""),[h,g]=T.useState("paid"),[v,w]=T.useState(""),[E,A]=T.useState(""),[_,M]=T.useState(null),[R,I]=T.useState(!1),[D,k]=T.useState(!1),[P,B]=T.useState(null),[z,W]=T.useState(null),U=async H=>{k(!0);try{const $=new FileReader;$.onload=async()=>{const J=$.result,ae=await hle(J);ae&&(ae.title&&i(ae.title),ae.author&&s(ae.author),ae.description&&u(ae.description),ae.genre&&f(ae.genre)),k(!1)},$.onerror=()=>{W("Error reading file."),k(!1)},$.readAsDataURL(H)}catch($){console.error($),W("Failed to analyze PDF."),k(!1)}},q=async H=>{const $=H.target.files?H.target.files[0]:null;M($),W(null),$&&$.type==="application/pdf"&&await U($)},Z=async H=>{if(H.preventDefault(),W(null),!r||!a||!o||!c){W("Missing required fields.");return}let $=0;if(h==="paid"){if(!v||isNaN(parseFloat(v))||parseFloat(v)<=0){W("Invalid Price.");return}$=parseFloat(v)}I(!0);const J=e&&n===zt.SELLER?e.id:"unknown_seller_id";let ae;if(_)try{ae=await new Promise((te,ce)=>{const me=new FileReader;me.onload=()=>te(me.result),me.onerror=ce,me.readAsDataURL(_)})}catch{W("Failed to process file."),I(!1);return}const Se=ae?[]:[{id:"1",title:"Chapter 1",pageNumber:1,content:`Welcome to ${r}.

Placeholder content.`}],Y={id:`book-${Date.now()}-${Math.random().toString(36).substring(2,7)}`,title:r,author:a,description:o,genre:c,price:$,coverImageUrl:P?`data:image/jpeg;base64,${P.imageBytes}`:E||`https://picsum.photos/seed/${encodeURIComponent(r)}/400/600`,sellerId:J,publicationDate:new Date().toISOString().split("T")[0],pages:Se,pdfUrl:ae};t(Y),i(""),s(""),u(""),f(""),w(""),A(""),M(null),B(null),I(!1)},V=H=>{h==="paid"&&w(H)},Q=H=>{B(H),A("")};return y.jsxs("form",{onSubmit:Z,className:"bg-[#1e1e1e] border border-white/5 p-8 md:p-10 shadow-2xl relative overflow-hidden rounded-[32px] animate-fade-in",children:[y.jsxs("div",{className:"relative z-10 mb-8 border-b border-white/5 pb-8",children:[y.jsx("h2",{className:"text-3xl font-normal text-white mb-2",children:"Publish New Book"}),y.jsx("p",{className:"text-neutral-400 text-sm",children:"Upload a PDF or start a fresh manuscript."})]}),z&&y.jsxs("div",{className:"p-4 mb-8 text-red-400 bg-red-900/10 border border-red-500/20 text-sm font-medium rounded-xl flex items-center gap-2",children:[y.jsx(Lr,{className:"w-4 h-4 text-red-500"}),z]}),y.jsxs("div",{className:`relative h-48 border border-dashed transition-all duration-300 mb-10 flex flex-col items-center justify-center gap-4 group rounded-3xl ${D?"bg-white/5 border-white/30":"bg-[#0b0b0b] border-white/10 hover:border-white/30"}`,children:[D?y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx(x0,{size:"md",color:"text-white"}),y.jsx("p",{className:"mt-4 text-white font-bold text-xs uppercase tracking-widest animate-pulse",children:"Analyzing Content..."})]}):y.jsxs("label",{htmlFor:"ebookFile",className:"flex flex-col items-center justify-center cursor-pointer w-full h-full",children:[y.jsx("div",{className:"w-12 h-12 bg-[#1e1e1e] border border-white/10 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform rounded-full shadow-lg",children:y.jsx(Y5,{className:"w-5 h-5 text-white"})}),y.jsx("span",{className:"text-sm font-bold text-white mb-1",children:_?_.name:"Upload PDF Document"}),y.jsx("span",{className:"text-xs text-neutral-500",children:_?"Click to change file":"Drag & drop or click to browse"}),y.jsx("input",{type:"file",id:"ebookFile",accept:"application/pdf",onChange:q,className:"hidden"})]}),_&&!D&&y.jsxs("button",{type:"button",onClick:()=>U(_),className:"absolute bottom-4 right-4 text-[10px] font-bold uppercase tracking-widest text-neutral-400 hover:text-white flex items-center gap-1 bg-[#1e1e1e] px-3 py-1.5 rounded-full border border-white/10",children:[y.jsx(Rd,{className:"w-3 h-3"})," Re-Analyze"]})]}),y.jsxs("div",{className:`space-y-8 ${D?"opacity-50 pointer-events-none blur-sm":""}`,children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"title",className:hf,children:"Book Title"}),y.jsx("input",{type:"text",id:"title",value:r,onChange:H=>i(H.target.value),required:!0,className:Gp,placeholder:"Enter Title..."})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"author",className:hf,children:"Author"}),y.jsx("input",{type:"text",id:"author",value:a,onChange:H=>s(H.target.value),required:!0,className:Gp,placeholder:"Enter Author..."})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"description",className:hf,children:"Description"}),y.jsx("textarea",{id:"description",value:o,onChange:H=>u(H.target.value),rows:4,required:!0,className:`${Gp} min-h-[120px] resize-none`})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"genre",className:hf,children:"Genre"}),y.jsx("input",{type:"text",id:"genre",value:c,onChange:H=>f(H.target.value),required:!0,className:Gp,placeholder:"Sci-Fi, Thriller..."})]}),y.jsxs("div",{children:[y.jsx("label",{className:hf,children:"Monetization"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{type:"button",onClick:()=>g("paid"),className:`p-4 border text-left transition-all rounded-xl relative overflow-hidden group ${h==="paid"?"bg-white text-black border-white":"bg-[#0b0b0b] text-neutral-400 border-white/10 hover:border-white/20"}`,children:y.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-2",children:[y.jsx(UA,{className:`w-5 h-5 ${h==="paid"?"text-black":"text-neutral-500"}`}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Paid"})]})}),y.jsx("button",{type:"button",onClick:()=>g("free"),className:`p-4 border text-left transition-all rounded-xl relative overflow-hidden group ${h==="free"?"bg-white text-black border-white":"bg-[#0b0b0b] text-neutral-400 border-white/10 hover:border-white/20"}`,children:y.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-2",children:[y.jsx(co,{className:`w-5 h-5 ${h==="free"?"text-black":"text-neutral-500"}`}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"Free"})]})})]})]})]}),h==="paid"&&y.jsxs("div",{className:"animate-fade-in space-y-6 bg-[#0b0b0b] p-6 rounded-2xl border border-white/5",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"price",className:hf,children:"List Price ()"}),y.jsx("input",{type:"number",id:"price",value:v,onChange:H=>w(H.target.value),className:Gp,placeholder:"499"})]}),y.jsx(UG,{bookDetails:{title:r,genre:c,description:o},onPriceSuggested:V})]}),y.jsxs("div",{className:"p-6 bg-[#0b0b0b] border border-white/5 rounded-2xl",children:[y.jsx(BG,{onCoverGenerated:Q,currentTitle:r,currentAuthor:a}),P&&y.jsxs("div",{className:"mt-6 p-4 bg-white/5 border border-white/10 flex items-center gap-4 rounded-xl",children:[y.jsx("img",{src:`data:image/jpeg;base64,${P.imageBytes}`,alt:"AI Cover",className:"w-12 h-16 object-cover bg-black rounded"}),y.jsxs("span",{className:"text-white text-[10px] font-bold uppercase tracking-widest flex items-center gap-2",children:[y.jsx(Lr,{className:"w-3 h-3 text-green-500"})," Cover Attached"]})]}),!P&&y.jsxs("div",{className:"mt-6",children:[y.jsx("label",{className:hf,children:"Manual Cover URL"}),y.jsx("input",{type:"url",value:E,onChange:H=>A(H.target.value),className:Gp,placeholder:"https://..."})]})]}),y.jsx("div",{className:"pt-4 flex justify-end",children:y.jsx("button",{type:"submit",disabled:R||D,className:"px-10 py-4 bg-white text-black font-bold hover:bg-neutral-200 transition-all text-xs uppercase tracking-widest flex items-center justify-center gap-2 disabled:opacity-50 rounded-full shadow-glow-white hover:scale-105 active:scale-95",children:R?y.jsx(y.Fragment,{children:"Publishing..."}):y.jsxs(y.Fragment,{children:[y.jsx(Y5,{className:"w-4 h-4"})," Publish to Store"]})})})]})]})};function zG(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zG(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zG(t))&&(r&&(r+=" "),r+=e);return r}var Ule=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Fk(t){if(typeof t!="string")return!1;var e=Ule;return e.includes(t)}var Ble=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zle=new Set(Ble);function HG(t){return typeof t!="string"?!1:zle.has(t)}function GG(t){return typeof t=="string"&&t.startsWith("data-")}function ho(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(HG(n)||GG(n))&&(e[n]=t[n]);return e}function BA(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ho(e)}return typeof t=="object"&&!Array.isArray(t)?ho(t):null}function Os(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(HG(n)||GG(n)||Fk(n))&&(e[n]=t[n]);return e}function Hle(t){return t==null?null:T.isValidElement(t)?Os(t.props):typeof t=="object"&&!Array.isArray(t)?Os(t):null}var Gle=["children","width","height","viewBox","className","style","title","desc"];function NR(){return NR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NR.apply(null,arguments)}function $le(t,e){if(t==null)return{};var n,r,i=qle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $G=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:u,desc:c}=t,f=$le(t,Gle),h=a||{width:r,height:i,x:0,y:0},g=Gt("recharts-surface",s);return T.createElement("svg",NR({},Os(f),{className:g,width:r,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),T.createElement("title",null,u),T.createElement("desc",null,c),n)}),Vle=["children","className"];function RR(){return RR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RR.apply(null,arguments)}function Wle(t,e){if(t==null)return{};var n,r,i=Yle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var il=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Wle(t,Vle),a=Gt("recharts-layer",r);return T.createElement("g",RR({className:a},Os(i),{ref:e}),n)}),Kle=T.createContext(null);function On(t){return function(){return t}}const MR=Math.PI,PR=2*MR,mf=1e-6,Xle=PR-mf;function qG(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Jle(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qG;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Qle{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qG:Jle(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-e,c=i-n,f=s-e,h=o-n,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>mf)if(!(Math.abs(h*u-c*f)>mf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-s,w=i-o,E=u*u+c*c,A=v*v+w*w,_=Math.sqrt(E),M=Math.sqrt(g),R=a*Math.tan((MR-Math.acos((E+g-A)/(2*_*M)))/2),I=R/M,D=R/_;Math.abs(I-1)>mf&&this._append`L${e+I*f},${n+I*h}`,this._append`A${a},${a},0,0,${+(h*v>f*w)},${this._x1=e+D*u},${this._y1=n+D*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),c=e+o,f=n+u,h=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>mf||Math.abs(this._y1-f)>mf)&&this._append`L${c},${f}`,r&&(g<0&&(g=g%PR+PR),g>Xle?this._append`A${r},${r},0,1,${h},${e-o},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=f}`:g>mf&&this._append`A${r},${r},0,${+(g>=MR)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function VG(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Qle(e)}function Uk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function WG(t){this._context=t}WG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zA(t){return new WG(t)}function YG(t){return t[0]}function KG(t){return t[1]}function XG(t,e){var n=On(!0),r=null,i=zA,a=null,s=VG(o);t=typeof t=="function"?t:t===void 0?YG:On(t),e=typeof e=="function"?e:e===void 0?KG:On(e);function o(u){var c,f=(u=Uk(u)).length,h,g=!1,v;for(r==null&&(a=i(v=s())),c=0;c<=f;++c)!(c<f&&n(h=u[c],c,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(h,c,u),+e(h,c,u));if(v)return a=null,v+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:On(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:On(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:On(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function _S(t,e,n){var r=null,i=On(!0),a=null,s=zA,o=null,u=VG(c);t=typeof t=="function"?t:t===void 0?YG:On(+t),e=typeof e=="function"?e:On(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?KG:On(+n);function c(h){var g,v,w,E=(h=Uk(h)).length,A,_=!1,M,R=new Array(E),I=new Array(E);for(a==null&&(o=s(M=u())),g=0;g<=E;++g){if(!(g<E&&i(A=h[g],g,h))===_)if(_=!_)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=g-1;w>=v;--w)o.point(R[w],I[w]);o.lineEnd(),o.areaEnd()}_&&(R[g]=+t(A,g,h),I[g]=+e(A,g,h),o.point(r?+r(A,g,h):R[g],n?+n(A,g,h):I[g]))}if(M)return o=null,M+""||null}function f(){return XG().defined(i).curve(s).context(a)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:On(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:On(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:On(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:On(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:On(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:On(+h),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:On(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),c):s},c.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),c):a},c}class JG{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Zle(t){return new JG(t,!0)}function eue(t){return new JG(t,!1)}function Z1(){}function eE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function QG(t){this._context=t}QG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tue(t){return new QG(t)}function ZG(t){this._context=t}ZG.prototype={areaStart:Z1,areaEnd:Z1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:eE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nue(t){return new ZG(t)}function e$(t){this._context=t}e$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:eE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rue(t){return new e$(t)}function t$(t){this._context=t}t$.prototype={areaStart:Z1,areaEnd:Z1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function iue(t){return new t$(t)}function eF(t){return t<0?-1:1}function tF(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(eF(a)+eF(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function nF(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function cN(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function tE(t){this._context=t}tE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cN(this,this._t0,nF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,cN(this,nF(this,n=tF(this,t,e)),n);break;default:cN(this,this._t0,n=tF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function n$(t){this._context=new r$(t)}(n$.prototype=Object.create(tE.prototype)).point=function(t,e){tE.prototype.point.call(this,e,t)};function r$(t){this._context=t}r$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function aue(t){return new tE(t)}function sue(t){return new n$(t)}function i$(t){this._context=t}i$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=rF(t),i=rF(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rF(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function oue(t){return new i$(t)}function HA(t,e){this._context=t,this._t=e}HA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function lue(t){return new HA(t,.5)}function uue(t){return new HA(t,0)}function cue(t){return new HA(t,1)}function ty(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kR(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function due(t,e){return t[e]}function fue(t){const e=[];return e.key=t,e}function hue(){var t=On([]),e=kR,n=ty,r=due;function i(a){var s=Array.from(t.apply(this,arguments),fue),o,u=s.length,c=-1,f;for(const h of a)for(o=0,++c;o<u;++o)(s[o][c]=[0,+r(h,s[o].key,c,a)]).data=h;for(o=0,f=Uk(e(s));o<u;++o)s[f[o]].index=o;return n(s,f),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:On(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:On(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?kR:typeof a=="function"?a:On(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??ty,i):n},i}function pue(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}ty(t,e)}}function mue(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}ty(t,e)}}function gue(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,u=0,c=0;o<s;++o){for(var f=t[e[o]],h=f[r][1]||0,g=f[r-1][1]||0,v=(h-g)/2,w=0;w<o;++w){var E=t[e[w]],A=E[r][1]||0,_=E[r-1][1]||0;v+=A-_}u+=h,c+=v*h}i[r-1][1]+=i[r-1][0]=n,u&&(n-=c/u)}i[r-1][1]+=i[r-1][0]=n,ty(t,e)}}var dN={},fN={},iF;function yue(){return iF||(iF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(fN)),fN}var hN={},aF;function a$(){return aF||(aF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(hN)),hN}var pN={},sF;function Bk(){return sF||(sF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(pN)),pN}var mN={},gN={},oF;function vue(){return oF||(oF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(gN)),gN}var lF;function zk(){return lF||(lF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vue(),n=Bk();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,u="",c="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const h=i[o];c?h==="\\"&&o+1<s?(o++,u+=i[o]):h===c?c="":u+=h:f?h==='"'||h==="'"?c=h:h==="]"?(f=!1,a.push(u),u=""):u+=h:h==="["?(f=!0,u&&(a.push(u),u="")):h==="."?u&&(a.push(u),u=""):u+=h,o++}return u&&a.push(u),a}t.toPath=r})(mN)),mN}var uF;function Hk(){return uF||(uF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yue(),n=a$(),r=Bk(),i=zk();function a(o,u,c){if(o==null)return c;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return c;const f=o[u];return f===void 0?n.isDeepKey(u)?a(o,i.toPath(u),c):c:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=o[u];return f===void 0?c:f}default:{if(Array.isArray(u))return s(o,u,c);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return c;const f=o[u];return f===void 0?c:f}}}function s(o,u,c){if(u.length===0)return c;let f=o;for(let h=0;h<u.length;h++){if(f==null||e.isUnsafeProperty(u[h]))return c;f=f[u[h]]}return f===void 0?c:f}t.get=a})(dN)),dN}var yN,cF;function bue(){return cF||(cF=1,yN=Hk().get),yN}var xue=bue();const GA=vo(xue);var Ps=t=>t===0?0:t>0?1:-1,po=t=>typeof t=="number"&&t!=+t,Ru=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ye=t=>(typeof t=="number"||t instanceof Number)&&!po(t),al=t=>Ye(t)||typeof t=="string",wue=0,w0=t=>{var e=++wue;return"".concat(t||"").concat(e)},Pd=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&typeof e!="string")return r;var a;if(Ru(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return po(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},s$=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Jo(t,e,n){return Ye(t)&&Ye(e)?t+n*(e-t):e}function o$(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):GA(r,e))===n)}var ti=t=>t===null||typeof t>"u",Gk=t=>ti(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Sue(t){return t!=null}function Dx(){}var l$=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,$k=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Fk(i)&&(r[i]=(a=>n[i](n,a)))}),r},Eue=(t,e,n)=>r=>(t(e,n,r),null),Aue=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];Fk(i)&&typeof a=="function"&&(r||(r={}),r[i]=Eue(a,e,n))}),r};function dF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(n),!0).forEach(function(r){_ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ue(t,e,n){return(e=Tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tue(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ts(t,e){var n=Cue({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}var vN={},bN={},fF;function Rue(){return fF||(fF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(bN)),bN}var xN={},hF;function u$(){return hF||(hF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(xN)),xN}var wN={},SN={},EN={},pF;function Mue(){return pF||(pF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(EN)),EN}var mF;function qk(){return mF||(mF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Mue();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(SN)),SN}var AN={},gF;function Pue(){return gF||(gF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(AN)),AN}var yF;function kue(){return yF||(yF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qk(),n=Pue();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(wN)),wN}var CN={},_N={},vF;function Due(){return vF||(vF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hk();function n(r){return function(i){return e.get(i,r)}}t.property=n})(_N)),_N}var TN={},NN={},RN={},MN={},bF;function c$(){return bF||(bF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(MN)),MN}var PN={},xF;function d$(){return xF||(xF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(PN)),PN}var kN={},wF;function f$(){return wF||(wF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(kN)),kN}var SF;function Iue(){return SF||(SF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c$(),n=d$(),r=f$();function i(f,h,g){return typeof g!="function"?i(f,h,()=>{}):a(f,h,function v(w,E,A,_,M,R){const I=g(w,E,A,_,M,R);return I!==void 0?!!I:a(w,E,v,R)},new Map)}function a(f,h,g,v){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,g,v);case"function":return Object.keys(h).length>0?a(f,{...h},g,v):r.eq(f,h);default:return e.isObject(f)?typeof h=="string"?h==="":!0:r.eq(f,h)}}function s(f,h,g,v){if(h==null)return!0;if(Array.isArray(h))return u(f,h,g,v);if(h instanceof Map)return o(f,h,g,v);if(h instanceof Set)return c(f,h,g,v);const w=Object.keys(h);if(f==null)return w.length===0;if(w.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===f;v==null||v.set(h,f);try{for(let E=0;E<w.length;E++){const A=w[E];if(!n.isPrimitive(f)&&!(A in f)||h[A]===void 0&&f[A]!==void 0||h[A]===null&&f[A]!==null||!g(f[A],h[A],A,f,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(f,h,g,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,E]of h.entries()){const A=f.get(w);if(g(A,E,w,f,h,v)===!1)return!1}return!0}function u(f,h,g,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let E=0;E<h.length;E++){const A=h[E];let _=!1;for(let M=0;M<f.length;M++){if(w.has(M))continue;const R=f[M];let I=!1;if(g(R,A,E,f,h,v)&&(I=!0),I){w.add(M),_=!0;break}}if(!_)return!1}return!0}function c(f,h,g,v){return h.size===0?!0:f instanceof Set?u([...f],[...h],g,v):!1}t.isMatchWith=i,t.isSetMatch=c})(RN)),RN}var EF;function h$(){return EF||(EF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Iue();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(NN)),NN}var DN={},IN={},LN={},AF;function Lue(){return AF||(AF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(LN)),LN}var ON={},CF;function p$(){return CF||(CF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(ON)),ON}var jN={},_F;function m$(){return _F||(_F=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",u="[object Map]",c="[object Set]",f="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",w="[object Error]",E="[object DataView]",A="[object Uint8Array]",_="[object Uint8ClampedArray]",M="[object Uint16Array]",R="[object Uint32Array]",I="[object BigUint64Array]",D="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",B="[object BigInt64Array]",z="[object Float32Array]",W="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=B,t.bigUint64ArrayTag=I,t.booleanTag=i,t.dataViewTag=E,t.dateTag=o,t.errorTag=w,t.float32ArrayTag=z,t.float64ArrayTag=W,t.functionTag=h,t.int16ArrayTag=k,t.int32ArrayTag=P,t.int8ArrayTag=D,t.mapTag=u,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=M,t.uint32ArrayTag=R,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=_})(jN)),jN}var FN={},TF;function Oue(){return TF||(TF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(FN)),FN}var NF;function g$(){return NF||(NF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lue(),n=p$(),r=m$(),i=d$(),a=Oue();function s(f,h){return o(f,void 0,f,new Map,h)}function o(f,h,g,v=new Map,w=void 0){const E=w==null?void 0:w(f,h,g,v);if(E!==void 0)return E;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const A=new Array(f.length);v.set(f,A);for(let _=0;_<f.length;_++)A[_]=o(f[_],_,g,v,w);return Object.hasOwn(f,"index")&&(A.index=f.index),Object.hasOwn(f,"input")&&(A.input=f.input),A}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const A=new RegExp(f.source,f.flags);return A.lastIndex=f.lastIndex,A}if(f instanceof Map){const A=new Map;v.set(f,A);for(const[_,M]of f)A.set(_,o(M,_,g,v,w));return A}if(f instanceof Set){const A=new Set;v.set(f,A);for(const _ of f)A.add(o(_,void 0,g,v,w));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const A=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,A);for(let _=0;_<f.length;_++)A[_]=o(f[_],_,g,v,w);return A}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const A=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,A),u(A,f,g,v,w),A}if(typeof File<"u"&&f instanceof File){const A=new File([f],f.name,{type:f.type});return v.set(f,A),u(A,f,g,v,w),A}if(typeof Blob<"u"&&f instanceof Blob){const A=new Blob([f],{type:f.type});return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof Error){const A=new f.constructor;return v.set(f,A),A.message=f.message,A.name=f.name,A.stack=f.stack,A.cause=f.cause,u(A,f,g,v,w),A}if(f instanceof Boolean){const A=new Boolean(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof Number){const A=new Number(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof String){const A=new String(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(typeof f=="object"&&c(f)){const A=Object.create(Object.getPrototypeOf(f));return v.set(f,A),u(A,f,g,v,w),A}return f}function u(f,h,g=f,v,w){const E=[...Object.keys(h),...e.getSymbols(h)];for(let A=0;A<E.length;A++){const _=E[A],M=Object.getOwnPropertyDescriptor(f,_);(M==null||M.writable)&&(f[_]=o(h[_],_,g,v,w))}}function c(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=u})(IN)),IN}var RF;function jue(){return RF||(RF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g$();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(DN)),DN}var MF;function Fue(){return MF||(MF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h$(),n=jue();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(TN)),TN}var UN={},BN={},zN={},PF;function Uue(){return PF||(PF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g$(),n=m$();function r(i,a){return e.cloneDeepWith(i,(s,o,u,c)=>{const f=a==null?void 0:a(s,o,u,c);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(zN)),zN}var kF;function Bue(){return kF||(kF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uue();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(BN)),BN}var HN={},GN={},DF;function y$(){return DF||(DF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(GN)),GN}var $N={},IF;function zue(){return IF||(IF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p$();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})($N)),$N}var LF;function Hue(){return LF||(LF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a$(),n=y$(),r=zue(),i=zk();function a(s,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&(s==null?void 0:s[o])==null?u=i.toPath(o):u=[o],u.length===0)return!1;let c=s;for(let f=0;f<u.length;f++){const h=u[f];if((c==null||!Object.hasOwn(c,h))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(h)&&h<c.length))return!1;c=c[h]}return!0}t.has=a})(HN)),HN}var OF;function Gue(){return OF||(OF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h$(),n=Bk(),r=Bue(),i=Hk(),a=Hue();function s(o,u){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return u=r.cloneDeep(u),function(c){const f=i.get(c,o);return f===void 0?a.has(c,o):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=s})(UN)),UN}var jF;function $ue(){return jF||(jF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u$(),n=Due(),r=Fue(),i=Gue();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(CN)),CN}var FF;function que(){return FF||(FF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rue(),n=u$(),r=kue(),i=$ue();function a(s,o=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(o)):[]}t.uniqBy=a})(vN)),vN}var qN,UF;function Vue(){return UF||(UF=1,qN=que().uniqBy),qN}var Wue=Vue();const BF=vo(Wue);function Yue(t,e,n){return e===!0?BF(t,n):typeof e=="function"?BF(t,e):t}var VN={exports:{}},WN={},YN={exports:{}},KN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zF;function Kue(){if(zF)return KN;zF=1;var t=dy();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(h,g){var v=g(),w=r({inst:{value:v,getSnapshot:g}}),E=w[0].inst,A=w[1];return a(function(){E.value=v,E.getSnapshot=g,u(E)&&A({inst:E})},[h,v,g]),i(function(){return u(E)&&A({inst:E}),h(function(){u(E)&&A({inst:E})})},[h]),s(v),v}function u(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!n(h,v)}catch{return!0}}function c(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return KN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,KN}var HF;function Xue(){return HF||(HF=1,YN.exports=Kue()),YN.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GF;function Jue(){if(GF)return WN;GF=1;var t=dy(),e=Xue();function n(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,u=t.useDebugValue;return WN.useSyncExternalStoreWithSelector=function(c,f,h,g,v){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=o(function(){function _(k){if(!M){if(M=!0,R=k,k=g(k),v!==void 0&&E.hasValue){var P=E.value;if(v(P,k))return I=P}return I=k}if(P=I,r(R,k))return P;var B=g(k);return v!==void 0&&v(P,B)?(R=k,P):(R=k,I=B)}var M=!1,R,I,D=h===void 0?null:h;return[function(){return _(f())},D===null?void 0:function(){return _(D())}]},[f,h,g,v]);var A=i(c,w[0],w[1]);return s(function(){E.hasValue=!0,E.value=A},[A]),u(A),A},WN}var $F;function Que(){return $F||($F=1,VN.exports=Jue()),VN.exports}var Zue=Que(),Vk=T.createContext(null),ece=t=>t,jr=()=>{var t=T.useContext(Vk);return t?t.store.dispatch:ece},i1=()=>{},tce=()=>i1,nce=(t,e)=>t===e;function Je(t){var e=T.useContext(Vk);return Zue.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:tce,e?e.store.getState:i1,e?e.store.getState:i1,e?t:i1,nce)}function rce(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function ice(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ace(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var qF=t=>Array.isArray(t)?t:[t];function sce(t){const e=Array.isArray(t[0])?t[0]:t;return ace(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function oce(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var lce=class{constructor(t){this.value=t}deref(){return this.value}},uce=typeof WeakRef<"u"?WeakRef:lce,cce=0,VF=1;function TS(){return{s:cce,v:void 0,o:null,p:null}}function v$(t,e={}){let n=TS();const{resultEqualityCheck:r}=e;let i,a=0;function s(){var h;let o=n;const{length:u}=arguments;for(let g=0,v=u;g<v;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let E=o.o;E===null&&(o.o=E=new WeakMap);const A=E.get(w);A===void 0?(o=TS(),E.set(w,o)):o=A}else{let E=o.p;E===null&&(o.p=E=new Map);const A=E.get(w);A===void 0?(o=TS(),E.set(w,o)):o=A}}const c=o;let f;if(o.s===VF)f=o.v;else if(f=t.apply(null,arguments),a++,r){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&r(g,f)&&(f=g,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new uce(f):f}return c.s=VF,c.v=f,f}return s.clearCache=()=>{n=TS(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function dce(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),rce(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const f={...n,...u},{memoize:h,memoizeOptions:g=[],argsMemoize:v=v$,argsMemoizeOptions:w=[]}=f,E=qF(g),A=qF(w),_=sce(i),M=h(function(){return a++,c.apply(null,arguments)},...E),R=v(function(){s++;const D=oce(_,arguments);return o=M.apply(null,D),o},...A);return Object.assign(R,{resultFunc:c,memoizedResultFunc:M,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var he=dce(v$),fce=Object.assign((t,e=he)=>{ice(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,u)=>(s[n[u]]=o,s),{}))},{withTypes:()=>fce}),XN={},JN={},QN={},WF;function hce(){return WF||(WF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(QN)),QN}var ZN={},e2={},YF;function b$(){return YF||(YF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(e2)),e2}var KF;function pce(){return KF||(KF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b$(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(ZN)),ZN}var XF;function mce(){return XF||(XF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hce(),n=pce(),r=zk();function i(a,s,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const c=(v,w)=>{let E=v;for(let A=0;A<w.length&&E!=null;++A)E=E[w[A]];return E},f=(v,w)=>w==null||v==null?w:typeof v=="object"&&"key"in v?Object.hasOwn(w,v.key)?w[v.key]:c(w,v.path):typeof v=="function"?v(w):Array.isArray(v)?c(w,v):typeof w=="object"?w[v]:w,h=s.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return a.map(v=>({original:v,criteria:h.map(w=>f(w,v))})).slice().sort((v,w)=>{for(let E=0;E<h.length;E++){const A=e.compareValues(v.criteria[E],w.criteria[E],o[E]);if(A!==0)return A}return 0}).map(v=>v.original)}t.orderBy=i})(JN)),JN}var t2={},JF;function gce(){return JF||(JF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,u)=>{for(let c=0;c<o.length;c++){const f=o[c];Array.isArray(f)&&u<a?s(f,u+1):i.push(f)}};return s(n,0),i}t.flatten=e})(t2)),t2}var n2={},QF;function x$(){return QF||(QF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y$(),n=qk(),r=c$(),i=f$();function a(s,o,u){return r.isObject(u)&&(typeof o=="number"&&n.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.eq(u[o],s):!1}t.isIterateeCall=a})(n2)),n2}var ZF;function yce(){return ZF||(ZF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mce(),n=gce(),r=x$();function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(XN)),XN}var r2,eU;function vce(){return eU||(eU=1,r2=yce().sortBy),r2}var bce=vce();const $A=vo(bce);var w$=t=>t.legend.settings,xce=t=>t.legend.size,wce=t=>t.legend.payload;he([wce,w$],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?$A(r,n):r});var NS=1;function Sce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>NS||Math.abs(s.left-e.left)>NS||Math.abs(s.top-e.top)>NS||Math.abs(s.width-e.width)>NS)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Xr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ece=typeof Symbol=="function"&&Symbol.observable||"@@observable",tU=Ece,i2=()=>Math.random().toString(36).substring(7).split("").join("."),Ace={INIT:`@@redux/INIT${i2()}`,REPLACE:`@@redux/REPLACE${i2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${i2()}`},nE=Ace;function Wk(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function S$(t,e,n){if(typeof t!="function")throw new Error(Xr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xr(1));return n(S$)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,u=!1;function c(){s===a&&(s=new Map,a.forEach((A,_)=>{s.set(_,A)}))}function f(){if(u)throw new Error(Xr(3));return i}function h(A){if(typeof A!="function")throw new Error(Xr(4));if(u)throw new Error(Xr(5));let _=!0;c();const M=o++;return s.set(M,A),function(){if(_){if(u)throw new Error(Xr(6));_=!1,c(),s.delete(M),a=null}}}function g(A){if(!Wk(A))throw new Error(Xr(7));if(typeof A.type>"u")throw new Error(Xr(8));if(typeof A.type!="string")throw new Error(Xr(17));if(u)throw new Error(Xr(9));try{u=!0,i=r(i,A)}finally{u=!1}return(a=s).forEach(M=>{M()}),A}function v(A){if(typeof A!="function")throw new Error(Xr(10));r=A,g({type:nE.REPLACE})}function w(){const A=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Xr(11));function M(){const I=_;I.next&&I.next(f())}return M(),{unsubscribe:A(M)}},[tU](){return this}}}return g({type:nE.INIT}),{dispatch:g,subscribe:h,getState:f,replaceReducer:v,[tU]:w}}function Cce(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:nE.INIT})>"u")throw new Error(Xr(12));if(typeof n(void 0,{type:nE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xr(13))})}function E$(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{Cce(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let u=!1;const c={};for(let f=0;f<r.length;f++){const h=r[f],g=n[h],v=s[h],w=g(v,o);if(typeof w>"u")throw o&&o.type,new Error(Xr(14));c[h]=w,u=u||w!==v}return u=u||r.length!==Object.keys(s).length,u?c:s}}function rE(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function _ce(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Xr(15))};const s={getState:i.getState,dispatch:(u,...c)=>a(u,...c)},o=t.map(u=>u(s));return a=rE(...o)(i.dispatch),{...i,dispatch:a}}}function A$(t){return Wk(t)&&"type"in t&&typeof t.type=="string"}var C$=Symbol.for("immer-nothing"),nU=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function so(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ka=Object,ny=Ka.getPrototypeOf,iE="constructor",qA="prototype",DR="configurable",aE="enumerable",a1="writable",S0="value",Mu=t=>!!t&&!!t[Fi];function mo(t){var e;return t?_$(t)||VA(t)||!!t[nU]||!!((e=t[iE])!=null&&e[nU])||WA(t)||YA(t):!1}var Tce=Ka[qA][iE].toString(),rU=new WeakMap;function _$(t){if(!t||!Yk(t))return!1;const e=ny(t);if(e===null||e===Ka[qA])return!0;const n=Ka.hasOwnProperty.call(e,iE)&&e[iE];if(n===Object)return!0;if(!Jp(n))return!1;let r=rU.get(n);return r===void 0&&(r=Function.toString.call(n),rU.set(n,r)),r===Tce}function Ix(t,e,n=!0){Lx(t)===0?(n?Reflect.ownKeys(t):Ka.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Lx(t){const e=t[Fi];return e?e.type_:VA(t)?1:WA(t)?2:YA(t)?3:0}var iU=(t,e,n=Lx(t))=>n===2?t.has(e):Ka[qA].hasOwnProperty.call(t,e),IR=(t,e,n=Lx(t))=>n===2?t.get(e):t[e],sE=(t,e,n,r=Lx(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Nce(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var VA=Array.isArray,WA=t=>t instanceof Map,YA=t=>t instanceof Set,Yk=t=>typeof t=="object",Jp=t=>typeof t=="function",a2=t=>typeof t=="boolean",Ol=t=>t.copy_||t.base_,Kk=t=>t.modified_?t.copy_:t.base_;function LR(t,e){if(WA(t))return new Map(t);if(YA(t))return new Set(t);if(VA(t))return Array[qA].slice.call(t);const n=_$(t);if(e===!0||e==="class_only"&&!n){const r=Ka.getOwnPropertyDescriptors(t);delete r[Fi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[a1]===!1&&(o[a1]=!0,o[DR]=!0),(o.get||o.set)&&(r[s]={[DR]:!0,[a1]:!0,[aE]:o[aE],[S0]:t[s]})}return Ka.create(ny(t),r)}else{const r=ny(t);if(r!==null&&n)return{...t};const i=Ka.create(r);return Ka.assign(i,t)}}function Xk(t,e=!1){return KA(t)||Mu(t)||!mo(t)||(Lx(t)>1&&Ka.defineProperties(t,{set:RS,add:RS,clear:RS,delete:RS}),Ka.freeze(t),e&&Ix(t,(n,r)=>{Xk(r,!0)},!1)),t}function Rce(){so(2)}var RS={[S0]:Rce};function KA(t){return t===null||!Yk(t)?!0:Ka.isFrozen(t)}var oE="MapSet",OR="Patches",T$={};function ry(t){const e=T$[t];return e||so(0,t),e}var Mce=t=>!!T$[t],E0,N$=()=>E0,Pce=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Mce(oE)?ry(oE):void 0});function aU(t,e){e&&(t.patchPlugin_=ry(OR),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function jR(t){FR(t),t.drafts_.forEach(kce),t.drafts_=null}function FR(t){t===E0&&(E0=t.parent_)}var sU=t=>E0=Pce(E0,t);function kce(t){const e=t[Fi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Fi].modified_&&(jR(e),so(4)),mo(t)&&(t=lU(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Fi].base_,t,e)}else t=lU(e,n);return Dce(e,t,!0),jR(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==C$?t:void 0}function lU(t,e){if(KA(e))return e;const n=e[Fi];if(!n)return Jk(e,t.handledSet_,t);if(!XA(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);P$(n,t)}return n.copy_}function Dce(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Xk(e,n)}function R$(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var XA=(t,e)=>t.scope_===e,Ice=[];function M$(t,e,n,r){const i=Ol(t),a=t.type_;if(r!==void 0&&IR(i,r,a)===e){sE(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Ix(i,(u,c)=>{if(Mu(c)){const f=o.get(c)||[];f.push(u),o.set(c,f)}})}const s=t.draftLocations_.get(e)??Ice;for(const o of s)sE(i,o,n,a)}function Lce(t,e,n){t.callbacks_.push(function(i){var o;const a=e;if(!a||!XA(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=Kk(a);M$(t,a.draft_??a,s,n),P$(a,i)})}function P$(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const a=i.getPath(t);a&&i.generatePatches_(t,a,e)}R$(t)}}function Oce(t,e,n){const{scope_:r}=t;if(Mu(n)){const i=n[Fi];XA(i,r)&&i.callbacks_.push(function(){s1(t);const s=Kk(i);M$(t,n,s,e)})}else mo(n)&&t.callbacks_.push(function(){const a=Ol(t);IR(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Jk(IR(t.copy_,e,t.type_),r.handledSet_,r)})}function Jk(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Mu(t)||e.has(t)||!mo(t)||KA(t)||(e.add(t),Ix(t,(r,i)=>{if(Mu(i)){const a=i[Fi];if(XA(a,n)){const s=Kk(a);sE(t,r,s,t.type_),R$(a)}}else mo(i)&&Jk(i,e,n)})),t}function jce(t,e){const n=VA(t),r={type_:n?1:0,scope_:e?e.scope_:N$(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Qk;n&&(i=[r],a=A0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Qk={get(t,e){if(e===Fi)return t;const n=Ol(t);if(!iU(n,e,t.type_))return Fce(t,n,e);const r=n[e];if(t.finalized_||!mo(r))return r;if(r===s2(t.base_,e)){s1(t);const i=t.type_===1?+e:e,a=BR(t.scope_,r,t,i);return t.copy_[i]=a}return r},has(t,e){return e in Ol(t)},ownKeys(t){return Reflect.ownKeys(Ol(t))},set(t,e,n){const r=k$(Ol(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=s2(Ol(t),e),a=i==null?void 0:i[Fi];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Nce(n,i)&&(n!==void 0||iU(t.base_,e,t.type_)))return!0;s1(t),UR(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Oce(t,e,n)),!0},deleteProperty(t,e){return s1(t),s2(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),UR(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ol(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[a1]:!0,[DR]:t.type_!==1||e!=="length",[aE]:r[aE],[S0]:n[e]}},defineProperty(){so(11)},getPrototypeOf(t){return ny(t.base_)},setPrototypeOf(){so(12)}},A0={};Ix(Qk,(t,e)=>{A0[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});A0.deleteProperty=function(t,e){return A0.set.call(this,t,e,void 0)};A0.set=function(t,e,n){return Qk.set.call(this,t[0],e,n,t[0])};function s2(t,e){const n=t[Fi];return(n?Ol(n):t)[e]}function Fce(t,e,n){var i;const r=k$(e,n);return r?S0 in r?r[S0]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function k$(t,e){if(!(e in t))return;let n=ny(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ny(n)}}function UR(t){t.modified_||(t.modified_=!0,t.parent_&&UR(t.parent_))}function s1(t){t.copy_||(t.assigned_=new Map,t.copy_=LR(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Uce=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Jp(n)&&!Jp(r)){const s=r;r=n;const o=this;return function(c=s,...f){return o.produce(c,h=>r.call(this,h,...f))}}Jp(r)||so(6),i!==void 0&&!Jp(i)&&so(7);let a;if(mo(n)){const s=sU(this),o=BR(s,n,void 0);let u=!0;try{a=r(o),u=!1}finally{u?jR(s):FR(s)}return aU(s,i),oU(a,s)}else if(!n||!Yk(n)){if(a=r(n),a===void 0&&(a=n),a===C$&&(a=void 0),this.autoFreeze_&&Xk(a,!0),i){const s=[],o=[];ry(OR).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else so(1,n)},this.produceWithPatches=(n,r)=>{if(Jp(n))return(o,...u)=>this.produceWithPatches(o,c=>n(c,...u));let i,a;return[this.produce(n,r,(o,u)=>{i=o,a=u}),i,a]},a2(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),a2(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),a2(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){mo(e)||so(8),Mu(e)&&(e=fo(e));const n=sU(this),r=BR(n,e,void 0);return r[Fi].isManual_=!0,FR(n),r}finishDraft(e,n){const r=e&&e[Fi];(!r||!r.isManual_)&&so(9);const{scope_:i}=r;return aU(i,n),oU(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ry(OR).applyPatches_;return Mu(e)?i(e,n):this.produce(e,a=>i(a,n))}};function BR(t,e,n,r){const[i,a]=WA(e)?ry(oE).proxyMap_(e,n):YA(e)?ry(oE).proxySet_(e,n):jce(e,n);return((n==null?void 0:n.scope_)??N$()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?Lce(n,a,r):a.callbacks_.push(function(u){var f;(f=u.mapSetPlugin_)==null||f.fixSetContents(a);const{patchPlugin_:c}=u;a.modified_&&c&&c.generatePatches_(a,[],u)}),i}function fo(t){return Mu(t)||so(10,t),D$(t)}function D$(t){if(!mo(t)||KA(t))return t;const e=t[Fi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=LR(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=LR(t,!0);return Ix(n,(i,a)=>{sE(n,i,D$(a))},r),e&&(e.finalized_=!1),n}var Bce=new Uce,I$=Bce.produce;function L$(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var zce=L$(),Hce=L$,Gce=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rE:rE.apply(null,arguments)};function js(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Xa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>A$(r)&&r.type===t,n}var O$=class zv extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zv.prototype)}static get[Symbol.species](){return zv}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zv(...e[0].concat(this)):new zv(...e.concat(this))}};function uU(t){return mo(t)?I$(t,()=>{}):t}function MS(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $ce(t){return typeof t=="boolean"}var qce=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new O$;return n&&($ce(n)?s.push(zce):s.push(Hce(n.extraArgument))),s},j$="RTK_autoBatch",Sn=()=>t=>({payload:t,meta:{[j$]:!0}}),cU=t=>e=>{setTimeout(e,t)},F$=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:cU(10):t.type==="callback"?t.queueNotification:cU(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>i&&f(),g=r.subscribe(h);return o.add(f),()=>{g(),o.delete(f)}},dispatch(f){var h;try{return i=!((h=f==null?void 0:f.meta)!=null&&h[j$]),a=!i,a&&(s||(s=!0,u(c))),r.dispatch(f)}finally{i=!0}}})},Vce=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new O$(t);return r&&i.push(F$(typeof r=="object"?r:void 0)),i};function Wce(t){const e=qce(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(Wk(n))o=E$(n);else throw new Error(Xa(1));let u;typeof r=="function"?u=r(e):u=e();let c=rE;i&&(c=Gce({trace:!1,...typeof i=="object"&&i}));const f=_ce(...u),h=Vce(f);let g=typeof s=="function"?s(h):h();const v=c(...g);return S$(o,a,v)}function U$(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Xa(28));if(o in e)throw new Error(Xa(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Yce(t){return typeof t=="function"}function Kce(t,e){let[n,r,i]=U$(e),a;if(Yce(t))a=()=>uU(t());else{const o=uU(t);a=()=>o}function s(o=a(),u){let c=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,h)=>{if(h)if(Mu(f)){const v=h(f,u);return v===void 0?f:v}else{if(mo(f))return I$(f,g=>h(g,u));{const g=h(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},o)}return s.getInitialState=a,s}var Xce="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Jce=(t=21)=>{let e="",n=t;for(;n--;)e+=Xce[Math.random()*64|0];return e},Qce=Symbol.for("rtk-slice-createasyncthunk");function Zce(t,e){return`${t}/${e}`}function ede({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Qce];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Xa(11));const o=(typeof i.reducers=="function"?i.reducers(nde()):i.reducers)||{},u=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(I,D){const k=typeof I=="string"?I:I.type;if(!k)throw new Error(Xa(12));if(k in c.sliceCaseReducersByType)throw new Error(Xa(13));return c.sliceCaseReducersByType[k]=D,f},addMatcher(I,D){return c.sliceMatchers.push({matcher:I,reducer:D}),f},exposeAction(I,D){return c.actionCreators[I]=D,f},exposeCaseReducer(I,D){return c.sliceCaseReducersByName[I]=D,f}};u.forEach(I=>{const D=o[I],k={reducerName:I,type:Zce(a,I),createNotation:typeof i.reducers=="function"};ide(D)?sde(k,D,f,e):rde(k,D,f)});function h(){const[I={},D=[],k=void 0]=typeof i.extraReducers=="function"?U$(i.extraReducers):[i.extraReducers],P={...I,...c.sliceCaseReducersByType};return Kce(i.initialState,B=>{for(let z in P)B.addCase(z,P[z]);for(let z of c.sliceMatchers)B.addMatcher(z.matcher,z.reducer);for(let z of D)B.addMatcher(z.matcher,z.reducer);k&&B.addDefaultCase(k)})}const g=I=>I,v=new Map,w=new WeakMap;let E;function A(I,D){return E||(E=h()),E(I,D)}function _(){return E||(E=h()),E.getInitialState()}function M(I,D=!1){function k(B){let z=B[I];return typeof z>"u"&&D&&(z=MS(w,k,_)),z}function P(B=g){const z=MS(v,D,()=>new WeakMap);return MS(z,B,()=>{const W={};for(const[U,q]of Object.entries(i.selectors??{}))W[U]=tde(q,B,()=>MS(w,B,_),D);return W})}return{reducerPath:I,getSelectors:P,get selectors(){return P(k)},selectSlice:k}}const R={name:a,reducer:A,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...M(s),injectInto(I,{reducerPath:D,...k}={}){const P=D??s;return I.inject({reducerPath:P,reducer:A},k),{...R,...M(P,!0)}}};return R}}function tde(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var ha=ede();function nde(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function rde({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!ade(r))throw new Error(Xa(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?js(t,s):js(t))}function ide(t){return t._reducerDefinitionType==="asyncThunk"}function ade(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sde({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Xa(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:u,settled:c,options:f}=n,h=i(t,a,f);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),o&&r.addCase(h.pending,o),u&&r.addCase(h.rejected,u),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:s||PS,pending:o||PS,rejected:u||PS,settled:c||PS})}function PS(){}var ode="task",B$="listener",z$="completed",Zk="cancelled",lde=`task-${Zk}`,ude=`task-${z$}`,zR=`${B$}-${Zk}`,cde=`${B$}-${z$}`,JA=class{constructor(t){we(this,"name","TaskAbortError");we(this,"message");this.code=t,this.message=`${ode} ${Zk} (reason: ${t})`}},eD=(t,e)=>{if(typeof t!="function")throw new TypeError(Xa(32))},lE=()=>{},H$=(t,e=lE)=>(t.catch(e),t),G$=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),zh=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Hh=t=>{if(t.aborted){const{reason:e}=t;throw new JA(e)}};function $$(t,e){let n=lE;return new Promise((r,i)=>{const a=()=>i(new JA(t.reason));if(t.aborted){a();return}n=G$(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=lE})}var dde=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof JA?"cancelled":"rejected",error:n}}finally{e==null||e()}},uE=t=>e=>H$($$(t,e).then(n=>(Hh(t),n))),q$=t=>{const e=uE(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Sm}=Object,dU={},QA="listenerMiddleware",fde=(t,e)=>{const n=r=>G$(t,()=>zh(r,t.reason));return(r,i)=>{eD(r);const a=new AbortController;n(a);const s=dde(async()=>{Hh(t),Hh(a.signal);const o=await r({pause:uE(a.signal),delay:q$(a.signal),signal:a.signal});return Hh(a.signal),o},()=>zh(a,ude));return i!=null&&i.autoJoin&&e.push(s.catch(lE)),{result:uE(t)(s),cancel(){zh(a,lde)}}}},hde=(t,e)=>{const n=async(r,i)=>{Hh(e);let a=()=>{};const o=[new Promise((u,c)=>{let f=t({predicate:r,effect:(h,g)=>{g.unsubscribe(),u([h,g.getState(),g.getOriginalState()])}});a=()=>{f(),c()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await $$(e,Promise.race(o));return Hh(e),u}finally{a()}};return(r,i)=>H$(n(r,i))},V$=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=js(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Xa(21));return eD(a),{predicate:i,type:e,effect:a}},W$=Sm(t=>{const{type:e,predicate:n,effect:r}=V$(t);return{id:Jce(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xa(22))}}},{withTypes:()=>W$}),fU=(t,e)=>{const{type:n,effect:r,predicate:i}=V$(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},HR=t=>{t.pending.forEach(e=>{zh(e,zR)})},pde=(t,e)=>()=>{for(const n of e.keys())HR(n);t.clear()},hU=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Y$=Sm(js(`${QA}/add`),{withTypes:()=>Y$}),mde=js(`${QA}/removeAll`),K$=Sm(js(`${QA}/remove`),{withTypes:()=>K$}),gde=(...t)=>{console.error(`${QA}/error`,...t)},Ox=(t={})=>{const e=new Map,n=new Map,r=v=>{const w=n.get(v)??0;n.set(v,w+1)},i=v=>{const w=n.get(v)??1;w===1?n.delete(v):n.set(v,w-1)},{extra:a,onError:s=gde}=t;eD(s);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),w=>{v.unsubscribe(),w!=null&&w.cancelActive&&HR(v)}),u=v=>{const w=fU(e,v)??W$(v);return o(w)};Sm(u,{withTypes:()=>u});const c=v=>{const w=fU(e,v);return w&&(w.unsubscribe(),v.cancelActive&&HR(w)),!!w};Sm(c,{withTypes:()=>c});const f=async(v,w,E,A)=>{const _=new AbortController,M=hde(u,_.signal),R=[];try{v.pending.add(_),r(v),await Promise.resolve(v.effect(w,Sm({},E,{getOriginalState:A,condition:(I,D)=>M(I,D).then(Boolean),take:M,delay:q$(_.signal),pause:uE(_.signal),extra:a,signal:_.signal,fork:fde(_.signal,R),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((I,D,k)=>{I!==_&&(zh(I,zR),k.delete(I))})},cancel:()=>{zh(_,zR),v.pending.delete(_)},throwIfCancelled:()=>{Hh(_.signal)}})))}catch(I){I instanceof JA||hU(s,I,{raisedBy:"effect"})}finally{await Promise.all(R),zh(_,cde),i(v),v.pending.delete(_)}},h=pde(e,n);return{middleware:v=>w=>E=>{if(!A$(E))return w(E);if(Y$.match(E))return u(E.payload);if(mde.match(E)){h();return}if(K$.match(E))return c(E.payload);let A=v.getState();const _=()=>{if(A===dU)throw new Error(Xa(23));return A};let M;try{if(M=w(E),e.size>0){const R=v.getState(),I=Array.from(e.values());for(const D of I){let k=!1;try{k=D.predicate(E,R,A)}catch(P){k=!1,hU(s,P,{raisedBy:"predicate"})}k&&f(D,E,v,_)}}}finally{A=dU}return M},startListening:u,stopListening:c,clearListeners:h}};function Xa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yde={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},X$=ha({name:"chartLayout",initialState:yde,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:vde,setLayout:bde,setChartSize:xde,setScale:wde}=X$.actions,Sde=X$.reducer;function J$(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function pU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(n),!0).forEach(function(r){Ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ede(t,e,n){return(e=Ade(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ade(t){var e=Cde(t,"string");return typeof e=="symbol"?e:e+""}function Cde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ai(t,e,n){return ti(t)||ti(e)?n:al(e)?GA(t,e,n):typeof e=="function"?e(t):n}var _de=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Ye(t[a]))return lm(lm({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Ye(t[s]))return lm(lm({},t),{},{[s]:t[s]+(i||0)})}return t},$u=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Q$=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},Z$=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:u,categoricalDomain:c,tickCount:f,ticks:h,niceTicks:g,axisType:v}=t;if(!s)return null;var w=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,E=i==="category"&&s.bandwidth?s.bandwidth()/w:0;if(E=v==="angleAxis"&&a&&a.length>=2?Ps(a[0]-a[1])*2*E:E,h||g){var A=(h||g||[]).map((_,M)=>{var R=r?r.indexOf(_):_;return{coordinate:s(R)+E,value:_,offset:E,index:M}});return A.filter(_=>!po(_.coordinate))}return u&&c?c.map((_,M)=>({coordinate:s(_)+E,value:_,index:M,offset:E})):s.ticks&&f!=null?s.ticks(f).map((_,M)=>({coordinate:s(_)+E,value:_,offset:E,index:M})):s.domain().map((_,M)=>({coordinate:s(_)+E,value:r?r[_]:_,index:M,offset:E}))},mU=1e-4,Tde=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-mU,a=Math.max(r[0],r[1])+mU,s=t(e[0]),o=t(e[n-1]);(s<i||s>a||o<i||o>a)&&t.domain([e[0],e[n-1]])}},Nde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,s=0;s<e;++s){var o=po(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1])}},Rde=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var s=po(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},Mde={sign:Nde,expand:pue,none:ty,silhouette:mue,wiggle:gue,positive:Rde},Pde=(t,e,n)=>{var r=Mde[n],i=hue().keys(e).value((a,s)=>Number(Ai(a,s,0))).order(kR).offset(r);return i(t)};function kde(t){return t==null?void 0:String(t)}function gU(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ti(i[e.dataKey])){var o=o$(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var u=Ai(i,ti(s)?e.dataKey:s);return ti(u)?null:e.scale(u)}var Dde=t=>{var e=t.flat(2).filter(Ye);return[Math.min(...e),Math.max(...e)]},Ide=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Lde=(t,e,n)=>{if(t!=null)return Ide(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:s}=a,o=s.reduce((u,c)=>{var f=J$(c,e,n),h=Dde(f);return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},yU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cE=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=$A(e,f=>f.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var u=i[s],c=i[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function bU(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return lm(lm({},e),{},{dataKey:n,payload:r,value:i,name:a})}function eq(t,e){if(t)return String(t);if(typeof e=="string")return e}var Ode=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},jde=(t,e)=>e==="centric"?t.angle:t.radius,qu=t=>t.layout.width,Vu=t=>t.layout.height,Fde=t=>t.layout.scale,tq=t=>t.layout.margin,ZA=he(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),eC=he(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Ude="data-recharts-item-index",Bde="data-recharts-item-data-key",jx=60;function xU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xU(Object(n),!0).forEach(function(r){zde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zde(t,e,n){return(e=Hde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hde(t){var e=Gde(t,"string");return typeof e=="symbol"?e:e+""}function Gde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $de=t=>t.brush.height;function qde(t){var e=eC(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jx;return n+i}return n},0)}function Vde(t){var e=eC(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jx;return n+i}return n},0)}function Wde(t){var e=ZA(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Yde(t){var e=ZA(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ii=he([qu,Vu,tq,$de,qde,Vde,Wde,Yde,w$,xce],(t,e,n,r,i,a,s,o,u,c)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},h={top:(n.top||0)+s,bottom:(n.bottom||0)+o},g=kS(kS({},h),f),v=g.bottom;g.bottom+=r,g=_de(g,u,c);var w=t-g.left-g.right,E=e-g.top-g.bottom;return kS(kS({brushBottom:v},g),{},{width:Math.max(w,0),height:Math.max(E,0)})}),Kde=he(ii,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),nq=he(qu,Vu,(t,e)=>({x:0,y:0,width:t,height:e})),Xde=T.createContext(null),pa=()=>T.useContext(Xde)!=null,tC=t=>t.brush,nC=he([tC,ii,tq],(t,e,n)=>({height:t.height,x:Ye(t.x)?t.x:e.left,y:Ye(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ye(t.width)?t.width:e.width})),o2={},l2={},u2={},wU;function Jde(){return wU||(wU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const u=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),f=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},h=()=>{c&&f(),E()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},r)},w=()=>{g!==null&&(clearTimeout(g),g=null)},E=()=>{w(),s=void 0,o=null},A=()=>{f()},_=function(...M){if(i!=null&&i.aborted)return;s=this,o=M;const R=g==null;v(),u&&R&&f()};return _.schedule=v,_.cancel=E,_.flush=A,i==null||i.addEventListener("abort",E,{once:!0}),_}t.debounce=e})(u2)),u2}var SU;function Qde(){return SU||(SU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jde();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:u}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let f,h=null;const g=e.debounce(function(...E){f=r.apply(this,E),h=null},i,{edges:c}),v=function(...E){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=r.apply(this,E),h=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,E),f)},w=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=w,v}t.debounce=n})(l2)),l2}var EU;function Zde(){return EU||(EU=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qde();function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(o2)),o2}var c2,AU;function efe(){return AU||(AU=1,c2=Zde().throttle),c2}var tfe=efe();const nfe=vo(tfe);var dE=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},rq=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Ru(r)?t:Number(r),u=Ru(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:o,calculatedHeight:u}},rfe={width:0,height:0,overflow:"visible"},ife={width:0,overflowX:"visible"},afe={height:0,overflowY:"visible"},sfe={},ofe=t=>{var{width:e,height:n}=t,r=Ru(e),i=Ru(n);return r&&i?rfe:r?ife:i?afe:sfe};function lfe(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Un(t){return Number.isFinite(t)}function sl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function GR(){return GR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GR.apply(null,arguments)}function CU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return(e=cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=dfe(t,"string");return typeof e=="symbol"?e:e+""}function dfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iq=T.createContext({width:-1,height:-1});function ffe(t){return sl(t.width)&&sl(t.height)}function aq(t){var{children:e,width:n,height:r}=t,i=T.useMemo(()=>({width:n,height:r}),[n,r]);return ffe(i)?T.createElement(iq.Provider,{value:i},e):null}var tD=()=>T.useContext(iq),hfe=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:u,children:c,debounce:f=0,id:h,className:g,onResize:v,style:w={}}=t,E=T.useRef(null),A=T.useRef();A.current=v,T.useImperativeHandle(e,()=>E.current);var[_,M]=T.useState({containerWidth:r.width,containerHeight:r.height}),R=T.useCallback((B,z)=>{M(W=>{var U=Math.round(B),q=Math.round(z);return W.containerWidth===U&&W.containerHeight===q?W:{containerWidth:U,containerHeight:q}})},[]);T.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Dx;var B=q=>{var Z,{width:V,height:Q}=q[0].contentRect;R(V,Q),(Z=A.current)===null||Z===void 0||Z.call(A,V,Q)};f>0&&(B=nfe(B,f,{trailing:!0,leading:!1}));var z=new ResizeObserver(B),{width:W,height:U}=E.current.getBoundingClientRect();return R(W,U),z.observe(E.current),()=>{z.disconnect()}},[R,f]);var{containerWidth:I,containerHeight:D}=_;dE(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:P}=rq(I,D,{width:i,height:a,aspect:n,maxHeight:u});return dE(k!=null&&k>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,P,i,a,s,o,n),T.createElement("div",{id:h?"".concat(h):void 0,className:Gt("recharts-responsive-container",g),style:_U(_U({},w),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:u}),ref:E},T.createElement("div",{style:ofe({width:i,height:a})},T.createElement(aq,{width:k,height:P},c)))}),pfe=T.forwardRef((t,e)=>{var n=tD();if(sl(n.width)&&sl(n.height))return t.children;var{width:r,height:i}=lfe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=rq(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ye(a)&&Ye(s)?T.createElement(aq,{width:a,height:s},t.children):T.createElement(hfe,GR({},t,{width:r,height:i,ref:e}))});function sq(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var rC=()=>{var t,e=pa(),n=Je(Kde),r=Je(nC),i=(t=Je(tC))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},mfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},oq=()=>{var t;return(t=Je(ii))!==null&&t!==void 0?t:mfe},lq=()=>Je(qu),uq=()=>Je(Vu),cn=t=>t.layout.layoutType,Fx=()=>Je(cn),gfe=()=>{var t=Fx();if(t==="horizontal"||t==="vertical")return t},yfe=()=>{var t=Fx();return t!==void 0},iC=t=>{var e=jr(),n=pa(),{width:r,height:i}=t,a=tD(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),T.useEffect(()=>{!n&&sl(s)&&sl(o)&&e(xde({width:s,height:o}))},[e,n,s,o]),null},cq=Symbol.for("immer-nothing"),TU=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function oo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var C0=Object.getPrototypeOf;function iy(t){return!!t&&!!t[Qa]}function Vh(t){var e;return t?dq(t)||Array.isArray(t)||!!t[TU]||!!((e=t.constructor)!=null&&e[TU])||Ux(t)||sC(t):!1}var vfe=Object.prototype.constructor.toString(),NU=new WeakMap;function dq(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=NU.get(n);return r===void 0&&(r=Function.toString.call(n),NU.set(n,r)),r===vfe}function fE(t,e,n=!0){aC(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function aC(t){const e=t[Qa];return e?e.type_:Array.isArray(t)?1:Ux(t)?2:sC(t)?3:0}function $R(t,e){return aC(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function fq(t,e,n){const r=aC(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function bfe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ux(t){return t instanceof Map}function sC(t){return t instanceof Set}function gf(t){return t.copy_||t.base_}function qR(t,e){if(Ux(t))return new Map(t);if(sC(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=dq(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Qa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(C0(t),r)}else{const r=C0(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function nD(t,e=!1){return oC(t)||iy(t)||!Vh(t)||(aC(t)>1&&Object.defineProperties(t,{set:DS,add:DS,clear:DS,delete:DS}),Object.freeze(t),e&&Object.values(t).forEach(n=>nD(n,!0))),t}function xfe(){oo(2)}var DS={value:xfe};function oC(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var wfe={};function Wh(t){const e=wfe[t];return e||oo(0,t),e}var _0;function hq(){return _0}function Sfe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RU(t,e){e&&(Wh("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function VR(t){WR(t),t.drafts_.forEach(Efe),t.drafts_=null}function WR(t){t===_0&&(_0=t.parent_)}function MU(t){return _0=Sfe(_0,t)}function Efe(t){const e=t[Qa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PU(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Qa].modified_&&(VR(e),oo(4)),Vh(t)&&(t=hE(e,t),e.parent_||pE(e,t)),e.patches_&&Wh("Patches").generateReplacementPatches_(n[Qa].base_,t,e.patches_,e.inversePatches_)):t=hE(e,n,[]),VR(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==cq?t:void 0}function hE(t,e,n){if(oC(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Qa];if(!i)return fE(e,(a,s)=>kU(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return pE(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),fE(s,(u,c)=>kU(t,i,a,u,c,n,o),r),pE(t,a,!1),n&&t.patches_&&Wh("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function kU(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=oC(i);if(!(o&&!s)){if(iy(i)){const u=a&&e&&e.type_!==3&&!$R(e.assigned_,r)?a.concat(r):void 0,c=hE(t,i,u);if(fq(n,r,c),iy(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Vh(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;hE(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ux(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&pE(t,i)}}}function pE(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&nD(e,n)}function Afe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:hq(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=rD;n&&(i=[r],a=T0);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var rD={get(t,e){if(e===Qa)return t;const n=gf(t);if(!$R(n,e))return Cfe(t,n,e);const r=n[e];return t.finalized_||!Vh(r)?r:r===d2(t.base_,e)?(f2(t),t.copy_[e]=KR(r,t)):r},has(t,e){return e in gf(t)},ownKeys(t){return Reflect.ownKeys(gf(t))},set(t,e,n){const r=pq(gf(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=d2(gf(t),e),a=i==null?void 0:i[Qa];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(bfe(n,i)&&(n!==void 0||$R(t.base_,e)))return!0;f2(t),YR(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return d2(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,f2(t),YR(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=gf(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){oo(11)},getPrototypeOf(t){return C0(t.base_)},setPrototypeOf(){oo(12)}},T0={};fE(rD,(t,e)=>{T0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});T0.deleteProperty=function(t,e){return T0.set.call(this,t,e,void 0)};T0.set=function(t,e,n){return rD.set.call(this,t[0],e,n,t[0])};function d2(t,e){const n=t[Qa];return(n?gf(n):t)[e]}function Cfe(t,e,n){var i;const r=pq(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function pq(t,e){if(!(e in t))return;let n=C0(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=C0(n)}}function YR(t){t.modified_||(t.modified_=!0,t.parent_&&YR(t.parent_))}function f2(t){t.copy_||(t.copy_=qR(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var _fe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...c){return s.produce(u,f=>n.call(this,f,...c))}}typeof n!="function"&&oo(6),r!==void 0&&typeof r!="function"&&oo(7);let i;if(Vh(e)){const a=MU(this),s=KR(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?VR(a):WR(a)}return RU(a,r),PU(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===cq&&(i=void 0),this.autoFreeze_&&nD(i,!0),r){const a=[],s=[];Wh("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else oo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,u=>e(u,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Vh(t)||oo(8),iy(t)&&(t=Tfe(t));const e=MU(this),n=KR(t,void 0);return n[Qa].isManual_=!0,WR(e),n}finishDraft(t,e){const n=t&&t[Qa];(!n||!n.isManual_)&&oo(9);const{scope_:r}=n;return RU(r,e),PU(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Wh("Patches").applyPatches_;return iy(t)?r(t,e):this.produce(t,i=>r(i,e))}};function KR(t,e){const n=Ux(t)?Wh("MapSet").proxyMap_(t,e):sC(t)?Wh("MapSet").proxySet_(t,e):Afe(t,e);return(e?e.scope_:hq()).drafts_.push(n),n}function Tfe(t){return iy(t)||oo(10,t),mq(t)}function mq(t){if(!Vh(t)||oC(t))return t;const e=t[Qa];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=qR(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=qR(t,!0);return fE(n,(i,a)=>{fq(n,i,mq(a))},r),e&&(e.finalized_=!1),n}var Nfe=new _fe;Nfe.produce;var Rfe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gq=ha({name:"legend",initialState:Rfe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Sn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fo(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Sn()},removeLegendPayload:{reducer(t,e){var n=fo(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Sn()}}}),{setLegendSize:b_e,setLegendSettings:x_e,addLegendPayload:Mfe,replaceLegendPayload:Pfe,removeLegendPayload:kfe}=gq.actions,Dfe=gq.reducer;function XR(){return XR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XR.apply(null,arguments)}function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(r){Ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ife(t,e,n){return(e=Lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lfe(t){var e=Ofe(t,"string");return typeof e=="symbol"?e:e+""}function Ofe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jfe(t){return Array.isArray(t)&&al(t[0])&&al(t[1])?t.join(" ~ "):t}var Ffe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:u,labelClassName:c,label:f,labelFormatter:h,accessibilityLayer:g=!1}=t,v=()=>{if(a&&a.length){var D={padding:0,margin:0},k=(o?$A(a,o):a).map((P,B)=>{if(P.type==="none")return null;var z=P.formatter||s||jfe,{value:W,name:U}=P,q=W,Z=U;if(z){var V=z(W,U,P,B,a);if(Array.isArray(V))[q,Z]=V;else if(V!=null)q=V;else return null}var Q=h2({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:Q},al(Z)?T.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,al(Z)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},q),T.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:D},k)}return null},w=h2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=h2({margin:0},i),A=!ti(f),_=A?f:"",M=Gt("recharts-default-tooltip",u),R=Gt("recharts-tooltip-label",c);A&&h&&a!==void 0&&a!==null&&(_=h(f,a));var I=g?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",XR({className:M,style:w},I),T.createElement("p",{className:R,style:E},T.isValidElement(_)?_:"".concat(_)),v())},Tv="recharts-tooltip-wrapper",Ufe={visibility:"hidden"};function Bfe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Gt(Tv,{["".concat(Tv,"-right")]:Ye(n)&&e&&Ye(e.x)&&n>=e.x,["".concat(Tv,"-left")]:Ye(n)&&e&&Ye(e.x)&&n<e.x,["".concat(Tv,"-bottom")]:Ye(r)&&e&&Ye(e.y)&&r>=e.y,["".concat(Tv,"-top")]:Ye(r)&&e&&Ye(e.y)&&r<e.y})}function IU(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:u,viewBoxDimension:c}=t;if(a&&Ye(a[r]))return a[r];var f=n[r]-o-(i>0?i:0),h=n[r]+i;if(e[r])return s[r]?f:h;var g=u[r];if(g==null)return 0;if(s[r]){var v=f,w=g;return v<w?Math.max(h,g):Math.max(f,g)}if(c==null)return 0;var E=h+o,A=g+c;return E>A?Math.max(f,g):Math.max(h,g)}function zfe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Hfe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:u}=t,c,f,h;return s.height>0&&s.width>0&&n?(f=IU({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),h=IU({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=zfe({translateX:f,translateY:h,useTranslate3d:o})):c=Ufe,{cssProperties:c,cssClasses:Bfe({translateX:f,translateY:h,coordinate:n})}}function LU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(n),!0).forEach(function(r){JR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JR(t,e,n){return(e=Gfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gfe(t){var e=$fe(t,"string");return typeof e=="symbol"?e:e+""}function $fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class qfe extends T.PureComponent{constructor(){super(...arguments),JR(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),JR(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:u,offset:c,position:f,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:w,lastBoundingBox:E,innerRef:A,hasPortalFromProps:_}=this.props,{cssClasses:M,cssProperties:R}=Hfe({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:f,reverseDirection:h,tooltipBox:{height:E.height,width:E.width},useTranslate3d:g,viewBox:v}),I=_?{}:IS(IS({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),D=IS(IS({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},w);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:D,ref:A},a)}}var yq=()=>{var t;return(t=Je(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function QR(){return QR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QR.apply(null,arguments)}function OU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(n),!0).forEach(function(r){Vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e,n){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FU={curveBasisClosed:nue,curveBasisOpen:rue,curveBasis:tue,curveBumpX:Zle,curveBumpY:eue,curveLinearClosed:iue,curveLinear:zA,curveMonotoneX:aue,curveMonotoneY:sue,curveNatural:oue,curveStep:lue,curveStepAfter:cue,curveStepBefore:uue},mE=t=>Un(t.x)&&Un(t.y),UU=t=>t.base!=null&&mE(t.base)&&mE(t),Nv=t=>t.x,Rv=t=>t.y,Kfe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Gk(t));return(n==="curveMonotone"||n==="curveBump")&&e?FU["".concat(n).concat(e==="vertical"?"Y":"X")]:FU[n]||zA},Xfe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,s=Kfe(e,i),o=a?n.filter(mE):n,u;if(Array.isArray(r)){var c=n.map((v,w)=>jU(jU({},v),{},{base:r[w]}));i==="vertical"?u=_S().y(Rv).x1(Nv).x0(v=>v.base.x):u=_S().x(Nv).y1(Rv).y0(v=>v.base.y);var f=u.defined(UU).curve(s),h=a?c.filter(UU):c;return f(h)}i==="vertical"&&Ye(r)?u=_S().y(Rv).x1(Nv).x0(r):Ye(r)?u=_S().x(Nv).y1(Rv).y0(r):u=XG().x(Nv).y(Rv);var g=u.defined(mE).curve(s);return g(o)},o1=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Xfe(t):r;return T.createElement("path",QR({},ho(t),$k(t),{className:Gt("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Jfe=["x","y","top","left","width","height","className"];function ZR(){return ZR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZR.apply(null,arguments)}function BU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(n),!0).forEach(function(r){Zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e,n){return(e=ehe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ehe(t){var e=the(t,"string");return typeof e=="symbol"?e:e+""}function the(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nhe(t,e){if(t==null)return{};var n,r,i=rhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ihe=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),ahe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,u=nhe(t,Jfe),c=Qfe({x:e,y:n,top:r,left:i,width:a,height:s},u);return!Ye(e)||!Ye(n)||!Ye(a)||!Ye(s)||!Ye(r)||!Ye(i)?null:T.createElement("path",ZR({},Os(c),{className:Gt("recharts-cross",o),d:ihe(e,n,a,s,r,i)}))};function she(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function zU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zU(Object(n),!0).forEach(function(r){ohe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ohe(t,e,n){return(e=lhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lhe(t){var e=uhe(t,"string");return typeof e=="symbol"?e:e+""}function uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var che=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dhe=(t,e,n)=>t.map(r=>"".concat(che(r)," ").concat(e,"ms ").concat(n)).join(","),fhe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),N0=(t,e)=>Object.keys(e).reduce((n,r)=>HU(HU({},n),{},{[r]:t(r,e[r])}),{});function GU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GU(Object(n),!0).forEach(function(r){hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hhe(t,e,n){return(e=phe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function phe(t){var e=mhe(t,"string");return typeof e=="symbol"?e:e+""}function mhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gE=(t,e,n)=>t+(e-t)*n,eM=t=>{var{from:e,to:n}=t;return e!==n},vq=(t,e,n)=>{var r=N0((i,a)=>{if(eM(a)){var[s,o]=t(a.from,a.to,a.velocity);return hr(hr({},a),{},{from:s,velocity:o})}return a},e);return n<1?N0((i,a)=>eM(a)?hr(hr({},a),{},{velocity:gE(a.velocity,r[i].velocity,n),from:gE(a.from,r[i].from,n)}):a,e):vq(t,r,n-1)};function ghe(t,e,n,r,i,a){var s,o=r.reduce((g,v)=>hr(hr({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),u=()=>N0((g,v)=>v.from,o),c=()=>!Object.values(o).filter(eM).length,f=null,h=g=>{s||(s=g);var v=g-s,w=v/n.dt;o=vq(n,o,w),i(hr(hr(hr({},t),e),u())),s=g,c()||(f=a.setTimeout(h))};return()=>(f=a.setTimeout(h),()=>{var g;(g=f)===null||g===void 0||g()})}function yhe(t,e,n,r,i,a,s){var o=null,u=i.reduce((h,g)=>hr(hr({},h),{},{[g]:[t[g],e[g]]}),{}),c,f=h=>{c||(c=h);var g=(h-c)/r,v=N0((E,A)=>gE(...A,n(g)),u);if(a(hr(hr(hr({},t),e),v)),g<1)o=s.setTimeout(f);else{var w=N0((E,A)=>gE(...A,n(1)),u);a(hr(hr(hr({},t),e),w))}};return()=>(o=s.setTimeout(f),()=>{var h;(h=o)===null||h===void 0||h()})}const vhe=(t,e,n,r,i,a)=>{var s=fhe(t,e);return n==null?()=>(i(hr(hr({},t),e)),()=>{}):n.isStepper===!0?ghe(t,e,n,s,i,a):yhe(t,e,n,r,s,i,a)};var yE=1e-4,bq=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],xq=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),$U=(t,e)=>n=>{var r=bq(t,e);return xq(r,n)},bhe=(t,e)=>n=>{var r=bq(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return xq(i,n)},xhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,a=n[0].split("(");if(a[0]==="cubic-bezier"&&((i=a[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=a[1].split(")")[0].split(",").map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},whe=(t,e,n,r)=>{var i=$U(t,n),a=$U(e,r),s=bhe(t,n),o=c=>c>1?1:c<0?0:c,u=c=>{for(var f=c>1?1:c,h=f,g=0;g<8;++g){var v=i(h)-f,w=s(h);if(Math.abs(v-f)<yE||w<yE)return a(h);h=o(h-v/w)}return a(h)};return u.isStepper=!1,u},qU=function(){return whe(...xhe(...arguments))},She=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,u)=>{var c=-(s-o)*n,f=u*r,h=u+(c-f)*i/1e3,g=u*i/1e3+s;return Math.abs(g-o)<yE&&Math.abs(h)<yE?[o,0]:[g,h]};return a.isStepper=!0,a.dt=i,a},Ehe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qU(t);case"spring":return She();default:if(t.split("(")[0]==="cubic-bezier")return qU(t)}return typeof t=="function"?t:null};function Ahe(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[u,...c]=o;if(typeof u=="number"){i=t.setTimeout(a.bind(null,c),u);return}a(u),i=t.setTimeout(a.bind(null,c));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Che{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function _he(){return Ahe(new Che)}var The=T.createContext(_he);function Nhe(t,e){var n=T.useContext(The);return T.useMemo(()=>e??n(t),[t,e,n])}var Rhe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vy={devToolsEnabled:!1,isSsr:Rhe()},Mhe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VU={t:0},p2={t:1};function wq(t){var e=ts(t,Mhe),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:u,children:c}=e,f=n==="auto"?!vy.isSsr:n,h=Nhe(e.animationId,e.animationManager),[g,v]=T.useState(f?VU:p2),w=T.useRef(null);return T.useEffect(()=>{f||v(p2)},[f]),T.useEffect(()=>{if(!f||!r)return Dx;var E=vhe(VU,p2,Ehe(a),i,v,h.getTimeoutController()),A=()=>{w.current=E()};return h.start([u,s,A,i,o]),()=>{h.stop(),w.current&&w.current(),o()}},[f,r,i,a,s,u,o,h]),c(g.t)}function Sq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(w0(e)),r=T.useRef(t);return r.current!==t&&(n.current=w0(e),r.current=t),n.current}var Phe=["radius"],khe=["radius"];function WU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(n),!0).forEach(function(r){Dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dhe(t,e,n){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Lhe(t,"string");return typeof e=="symbol"?e:e+""}function Lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(null,arguments)}function KU(t,e){if(t==null)return{};var n,r,i=Ohe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ohe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XU=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,o=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=i[h]>a?a:i[h];c="M".concat(t,",").concat(e+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+o*f[0],",").concat(e)),c+="L ".concat(t+n-o*f[1],",").concat(e),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+s*f[1])),c+="L ".concat(t+n,",").concat(e+r-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-o*f[2],",").concat(e+r)),c+="L ".concat(t+o*f[3],",").concat(e+r),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-s*f[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var v=Math.min(a,i);c="M ".concat(t,",").concat(e+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+o*v,",").concat(e,`
            L `).concat(t+n-o*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(e+s*v,`
            L `).concat(t+n,",").concat(e+r-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-o*v,",").concat(e+r,`
            L `).concat(t+o*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(e+r-s*v," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},JU={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jhe=t=>{var e=ts(t,JU),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&i($)}catch{}},[]);var{x:a,y:s,width:o,height:u,radius:c,className:f}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:w,isUpdateAnimationActive:E}=e,A=T.useRef(o),_=T.useRef(u),M=T.useRef(a),R=T.useRef(s),I=T.useMemo(()=>({x:a,y:s,width:o,height:u,radius:c}),[a,s,o,u,c]),D=Sq(I,"rectangle-");if(a!==+a||s!==+s||o!==+o||u!==+u||o===0||u===0)return null;var k=Gt("recharts-rectangle",f);if(!E){var P=Os(e),{radius:B}=P,z=KU(P,Phe);return T.createElement("path",vE({},z,{radius:typeof c=="number"?c:void 0,className:k,d:XU(a,s,o,u,c)}))}var W=A.current,U=_.current,q=M.current,Z=R.current,V="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),H=dhe(["strokeDasharray"],g,typeof h=="string"?h:JU.animationEasing);return T.createElement(wq,{animationId:D,key:D,canBegin:r>0,duration:g,easing:h,isActive:E,begin:v},$=>{var J=Jo(W,o,$),ae=Jo(U,u,$),Se=Jo(q,a,$),Y=Jo(Z,s,$);n.current&&(A.current=J,_.current=ae,M.current=Se,R.current=Y);var te;w?$>0?te={transition:H,strokeDasharray:Q}:te={strokeDasharray:V}:te={strokeDasharray:Q};var ce=Os(e),{radius:me}=ce,Ee=KU(ce,khe);return T.createElement("path",vE({},Ee,{radius:typeof c=="number"?c:void 0,className:k,d:XU(Se,Y,J,ae,c),ref:n,style:YU(YU({},te),e.style)}))})};function QU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(n),!0).forEach(function(r){Fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fhe(t,e,n){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=Bhe(t,"string");return typeof e=="symbol"?e:e+""}function Bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bE=Math.PI/180,zhe=t=>t*180/Math.PI,ei=(t,e,n,r)=>({x:t+Math.cos(-bE*r)*n,y:e+Math.sin(-bE*r)*n}),Hhe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ghe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},$he=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=Ghe({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,u=Math.acos(o);return r>a&&(u=2*Math.PI-u),{radius:s,angle:zhe(u),angleInRadian:u}},qhe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Vhe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},Whe=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=$he({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:u,endAngle:c}=qhe(e),f=a,h;if(u<=c){for(;f>c;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=c}else{for(;f>u;)f-=360;for(;f<c;)f+=360;h=f>=c&&f<=u}return h?ZU(ZU({},e),{},{radius:i,angle:Vhe(f,e)}):null};function Eq(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=ei(e,n,r,i),o=ei(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function tM(){return tM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tM.apply(null,arguments)}var Yhe=(t,e)=>{var n=Ps(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},LS=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:u}=t,c=o*(s?1:-1)+r,f=Math.asin(o/c)/bE,h=u?i:i+a*f,g=ei(e,n,c,h),v=ei(e,n,r,h),w=u?i-a*f:i,E=ei(e,n,c*Math.cos(f*bE),w);return{center:g,circleTangency:v,lineTangency:E,theta:f}},Aq=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=Yhe(a,s),u=a+o,c=ei(e,n,i,a),f=ei(e,n,i,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var g=ei(e,n,r,a),v=ei(e,n,r,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},Khe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:u,endAngle:c}=t,f=Ps(c-u),{circleTangency:h,lineTangency:g,theta:v}=LS({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:E,theta:A}=LS({cx:e,cy:n,radius:i,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:o}),_=o?Math.abs(u-c):Math.abs(u-c)-v-A;if(_<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Aq({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:c});var M="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:I,theta:D}=LS({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:P,theta:B}=LS({cx:e,cy:n,radius:r,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),z=o?Math.abs(u-c):Math.abs(u-c)-D-B;if(z<0&&a===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+="L".concat(P.x,",").concat(P.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else M+="L".concat(e,",").concat(n,"Z");return M},Xhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jhe=t=>{var e=ts(t,Xhe),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:f,className:h}=e;if(a<i||c===f)return null;var g=Gt("recharts-sector",h),v=a-i,w=Pd(s,v,0,!0),E;return w>0&&Math.abs(c-f)<360?E=Khe({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,v/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:c,endAngle:f}):E=Aq({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:f}),T.createElement("path",tM({},Os(e),{className:g,d:E}))};function Qhe(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(l$(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,u=ei(r,i,a,o),c=ei(r,i,s,o);return[{x:u.x,y:u.y},{x:c.x,y:c.y}]}return Eq(e)}}var m2={},g2={},y2={},eB;function Zhe(){return eB||(eB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b$();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(y2)),y2}var tB;function epe(){return tB||(tB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zhe();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(g2)),g2}var nB;function tpe(){return nB||(nB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x$(),n=epe();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(o);for(let c=0;c<o;c++)u[c]=i,i+=s;return u}t.range=r})(m2)),m2}var v2,rB;function npe(){return rB||(rB=1,v2=tpe().range),v2}var rpe=npe();const Cq=vo(rpe);function Td(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ipe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iD(t){let e,n,r;t.length!==2?(e=Td,n=(o,u)=>Td(t(o),u),r=(o,u)=>t(o)-u):(e=t===Td||t===ipe?t:ape,n=t,r=t);function i(o,u,c=0,f=o.length){if(c<f){if(e(u,u)!==0)return f;do{const h=c+f>>>1;n(o[h],u)<0?c=h+1:f=h}while(c<f)}return c}function a(o,u,c=0,f=o.length){if(c<f){if(e(u,u)!==0)return f;do{const h=c+f>>>1;n(o[h],u)<=0?c=h+1:f=h}while(c<f)}return c}function s(o,u,c=0,f=o.length){const h=i(o,u,c,f-1);return h>c&&r(o[h-1],u)>-r(o[h],u)?h-1:h}return{left:i,center:s,right:a}}function ape(){return 0}function _q(t){return t===null?NaN:+t}function*spe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ope=iD(Td),Bx=ope.right;iD(_q).center;class iB extends Map{constructor(e,n=cpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(aB(this,e))}has(e){return super.has(aB(this,e))}set(e,n){return super.set(lpe(this,e),n)}delete(e){return super.delete(upe(this,e))}}function aB({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function lpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function upe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function cpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dpe(t=Td){if(t===Td)return Tq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Tq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fpe=Math.sqrt(50),hpe=Math.sqrt(10),ppe=Math.sqrt(2);function xE(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=fpe?10:a>=hpe?5:a>=ppe?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(t*c),u=Math.round(e*c),o/c<t&&++o,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,o=Math.round(t/c),u=Math.round(e/c),o*c<t&&++o,u*c>e&&--u),u<o&&.5<=n&&n<2?xE(t,e,n*2):[o,u,c]}function nM(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?xE(e,t,n):xE(t,e,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)u[c]=(a-c)/-s;else for(let c=0;c<o;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)u[c]=(i+c)/-s;else for(let c=0;c<o;++c)u[c]=(i+c)*s;return u}function rM(t,e,n){return e=+e,t=+t,n=+n,xE(t,e,n)[2]}function iM(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?rM(e,t,n):rM(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sB(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function oB(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Nq(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Tq:dpe(i);r>n;){if(r-n>600){const u=r-n+1,c=e-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(u-h)/u)*(c-u/2<0?-1:1),v=Math.max(n,Math.floor(e-c*h/u+g)),w=Math.min(r,Math.floor(e+(u-c)*h/u+g));Nq(t,e,v,w,i)}const a=t[e];let s=n,o=r;for(Mv(t,n,e),i(t[r],a)>0&&Mv(t,n,r);s<o;){for(Mv(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?Mv(t,n,o):(++o,Mv(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Mv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function mpe(t,e,n){if(t=Float64Array.from(spe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return oB(t);if(e>=1)return sB(t);var r,i=(r-1)*e,a=Math.floor(i),s=sB(Nq(t,a).subarray(0,a+1)),o=oB(t.subarray(a+1));return s+(o-s)*(i-a)}}function gpe(t,e,n=_q){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function ype(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const aM=Symbol("implicit");function aD(){var t=new iB,e=[],n=[],r=aM;function i(a){let s=t.get(a);if(s===void 0){if(r!==aM)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new iB;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return aD(e,n).unknown(r)},Us.apply(i,arguments),i}function sD(){var t=aD().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,u=0,c=0,f=.5;delete t.unknown;function h(){var g=e().length,v=i<r,w=v?i:r,E=v?r:i;a=(E-w)/Math.max(1,g-u+c*2),o&&(a=Math.floor(a)),w+=(E-w-a*(g-u))*f,s=a*(1-u),o&&(w=Math.round(w),s=Math.round(s));var A=ype(g).map(function(_){return w+a*_});return n(v?A.reverse():A)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(o=!!g,h()):o},t.padding=function(g){return arguments.length?(u=Math.min(1,c=+g),h()):u},t.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),h()):u},t.paddingOuter=function(g){return arguments.length?(c=+g,h()):c},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},t.copy=function(){return sD(e(),[r,i]).round(o).paddingInner(u).paddingOuter(c).align(f)},Us.apply(h(),arguments)}function Rq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Rq(e())},t}function vpe(){return Rq(sD.apply(null,arguments).paddingInner(1))}function oD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mq(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zx(){}var R0=.7,wE=1/R0,Em="\\s*([+-]?\\d+)\\s*",M0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bpe=/^#([0-9a-f]{3,8})$/,xpe=new RegExp(`^rgb\\(${Em},${Em},${Em}\\)$`),wpe=new RegExp(`^rgb\\(${rl},${rl},${rl}\\)$`),Spe=new RegExp(`^rgba\\(${Em},${Em},${Em},${M0}\\)$`),Epe=new RegExp(`^rgba\\(${rl},${rl},${rl},${M0}\\)$`),Ape=new RegExp(`^hsl\\(${M0},${rl},${rl}\\)$`),Cpe=new RegExp(`^hsla\\(${M0},${rl},${rl},${M0}\\)$`),lB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oD(zx,P0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uB,formatHex:uB,formatHex8:_pe,formatHsl:Tpe,formatRgb:cB,toString:cB});function uB(){return this.rgb().formatHex()}function _pe(){return this.rgb().formatHex8()}function Tpe(){return Pq(this).formatHsl()}function cB(){return this.rgb().formatRgb()}function P0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=bpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dB(e):n===3?new ca(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?OS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?OS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xpe.exec(t))?new ca(e[1],e[2],e[3],1):(e=wpe.exec(t))?new ca(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Spe.exec(t))?OS(e[1],e[2],e[3],e[4]):(e=Epe.exec(t))?OS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ape.exec(t))?pB(e[1],e[2]/100,e[3]/100,1):(e=Cpe.exec(t))?pB(e[1],e[2]/100,e[3]/100,e[4]):lB.hasOwnProperty(t)?dB(lB[t]):t==="transparent"?new ca(NaN,NaN,NaN,0):null}function dB(t){return new ca(t>>16&255,t>>8&255,t&255,1)}function OS(t,e,n,r){return r<=0&&(t=e=n=NaN),new ca(t,e,n,r)}function Npe(t){return t instanceof zx||(t=P0(t)),t?(t=t.rgb(),new ca(t.r,t.g,t.b,t.opacity)):new ca}function sM(t,e,n,r){return arguments.length===1?Npe(t):new ca(t,e,n,r??1)}function ca(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}oD(ca,sM,Mq(zx,{brighter(t){return t=t==null?wE:Math.pow(wE,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?R0:Math.pow(R0,t),new ca(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ca(Gh(this.r),Gh(this.g),Gh(this.b),SE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fB,formatHex:fB,formatHex8:Rpe,formatRgb:hB,toString:hB}));function fB(){return`#${Cf(this.r)}${Cf(this.g)}${Cf(this.b)}`}function Rpe(){return`#${Cf(this.r)}${Cf(this.g)}${Cf(this.b)}${Cf((isNaN(this.opacity)?1:this.opacity)*255)}`}function hB(){const t=SE(this.opacity);return`${t===1?"rgb(":"rgba("}${Gh(this.r)}, ${Gh(this.g)}, ${Gh(this.b)}${t===1?")":`, ${t})`}`}function SE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Gh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cf(t){return t=Gh(t),(t<16?"0":"")+t.toString(16)}function pB(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lo(t,e,n,r)}function Pq(t){if(t instanceof lo)return new lo(t.h,t.s,t.l,t.opacity);if(t instanceof zx||(t=P0(t)),!t)return new lo;if(t instanceof lo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,u=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new lo(s,o,u,t.opacity)}function Mpe(t,e,n,r){return arguments.length===1?Pq(t):new lo(t,e,n,r??1)}function lo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}oD(lo,Mpe,Mq(zx,{brighter(t){return t=t==null?wE:Math.pow(wE,t),new lo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?R0:Math.pow(R0,t),new lo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ca(b2(t>=240?t-240:t+120,i,r),b2(t,i,r),b2(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new lo(mB(this.h),jS(this.s),jS(this.l),SE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=SE(this.opacity);return`${t===1?"hsl(":"hsla("}${mB(this.h)}, ${jS(this.s)*100}%, ${jS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function mB(t){return t=(t||0)%360,t<0?t+360:t}function jS(t){return Math.max(0,Math.min(1,t||0))}function b2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const lD=t=>()=>t;function Ppe(t,e){return function(n){return t+n*e}}function kpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Dpe(t){return(t=+t)==1?kq:function(e,n){return n-e?kpe(e,n,t):lD(isNaN(e)?n:e)}}function kq(t,e){var n=e-t;return n?Ppe(t,n):lD(isNaN(t)?e:t)}const gB=(function t(e){var n=Dpe(e);function r(i,a){var s=n((i=sM(i)).r,(a=sM(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),c=kq(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=u(f),i.opacity=c(f),i+""}}return r.gamma=t,r})(1);function Ipe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Lpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ope(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=by(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function jpe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function EE(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Fpe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=by(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var oM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x2=new RegExp(oM.source,"g");function Upe(t){return function(){return t}}function Bpe(t){return function(e){return t(e)+""}}function zpe(t,e){var n=oM.lastIndex=x2.lastIndex=0,r,i,a,s=-1,o=[],u=[];for(t=t+"",e=e+"";(r=oM.exec(t))&&(i=x2.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,u.push({i:s,x:EE(r,i)})),n=x2.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?Bpe(u[0].x):Upe(e):(e=u.length,function(c){for(var f=0,h;f<e;++f)o[(h=u[f]).i]=h.x(c);return o.join("")})}function by(t,e){var n=typeof e,r;return e==null||n==="boolean"?lD(e):(n==="number"?EE:n==="string"?(r=P0(e))?(e=r,gB):zpe:e instanceof P0?gB:e instanceof Date?jpe:Lpe(e)?Ipe:Array.isArray(e)?Ope:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Fpe:EE)(t,e)}function uD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Hpe(t,e){e===void 0&&(e=t,t=by);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function Gpe(t){return function(){return t}}function AE(t){return+t}var yB=[0,1];function Di(t){return t}function lM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gpe(isNaN(e)?NaN:.5)}function $pe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qpe(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=lM(i,r),a=n(s,a)):(r=lM(r,i),a=n(a,s)),function(o){return a(r(o))}}function Vpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=lM(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var u=Bx(t,o,1,r)-1;return a[u](i[u](o))}}function Hx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lC(){var t=yB,e=yB,n=by,r,i,a,s=Di,o,u,c;function f(){var g=Math.min(t.length,e.length);return s!==Di&&(s=$pe(t[0],t[g-1])),o=g>2?Vpe:qpe,u=c=null,h}function h(g){return g==null||isNaN(g=+g)?a:(u||(u=o(t.map(r),e,n)))(r(s(g)))}return h.invert=function(g){return s(i((c||(c=o(e,t.map(r),EE)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,AE),f()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),n=uD,f()},h.clamp=function(g){return arguments.length?(s=g?!0:Di,f()):s!==Di},h.interpolate=function(g){return arguments.length?(n=g,f()):n},h.unknown=function(g){return arguments.length?(a=g,h):a},function(g,v){return r=g,i=v,f()}}function cD(){return lC()(Di,Di)}function Wpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function CE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ay(t){return t=CE(Math.abs(t)),t?t[1]:NaN}function Ype(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Kpe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Xpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k0(t){if(!(e=Xpe.exec(t)))throw new Error("invalid format: "+t);var e;return new dD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}k0.prototype=dD.prototype;function dD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Jpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Dq;function Qpe(t,e){var n=CE(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Dq=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+CE(t,Math.max(0,e+a-1))[0]}function vB(t,e){var n=CE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const bB={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vB(t*100,e),r:vB,s:Qpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xB(t){return t}var wB=Array.prototype.map,SB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Zpe(t){var e=t.grouping===void 0||t.thousands===void 0?xB:Ype(wB.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?xB:Kpe(wB.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h){h=k0(h);var g=h.fill,v=h.align,w=h.sign,E=h.symbol,A=h.zero,_=h.width,M=h.comma,R=h.precision,I=h.trim,D=h.type;D==="n"?(M=!0,D="g"):bB[D]||(R===void 0&&(R=12),I=!0,D="g"),(A||g==="0"&&v==="=")&&(A=!0,g="0",v="=");var k=E==="$"?n:E==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",P=E==="$"?r:/[%p]/.test(D)?s:"",B=bB[D],z=/[defgprs%]/.test(D);R=R===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function W(U){var q=k,Z=P,V,Q,H;if(D==="c")Z=B(U)+Z,U="";else{U=+U;var $=U<0||1/U<0;if(U=isNaN(U)?u:B(Math.abs(U),R),I&&(U=Jpe(U)),$&&+U==0&&w!=="+"&&($=!1),q=($?w==="("?w:o:w==="-"||w==="("?"":w)+q,Z=(D==="s"?SB[8+Dq/3]:"")+Z+($&&w==="("?")":""),z){for(V=-1,Q=U.length;++V<Q;)if(H=U.charCodeAt(V),48>H||H>57){Z=(H===46?i+U.slice(V+1):U.slice(V))+Z,U=U.slice(0,V);break}}}M&&!A&&(U=e(U,1/0));var J=q.length+U.length+Z.length,ae=J<_?new Array(_-J+1).join(g):"";switch(M&&A&&(U=e(ae+U,ae.length?_-Z.length:1/0),ae=""),v){case"<":U=q+U+Z+ae;break;case"=":U=q+ae+U+Z;break;case"^":U=ae.slice(0,J=ae.length>>1)+q+U+Z+ae.slice(J);break;default:U=ae+q+U+Z;break}return a(U)}return W.toString=function(){return h+""},W}function f(h,g){var v=c((h=k0(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(ay(g)/3)))*3,E=Math.pow(10,-w),A=SB[8+w/3];return function(_){return v(E*_)+A}}return{format:c,formatPrefix:f}}var FS,fD,Iq;eme({thousands:",",grouping:[3],currency:["$",""]});function eme(t){return FS=Zpe(t),fD=FS.format,Iq=FS.formatPrefix,FS}function tme(t){return Math.max(0,-ay(Math.abs(t)))}function nme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ay(e)/3)))*3-ay(Math.abs(t)))}function rme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ay(e)-ay(t))+1}function Lq(t,e,n,r){var i=iM(t,e,n),a;switch(r=k0(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=nme(i,s))&&(r.precision=a),Iq(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=rme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=tme(i))&&(r.precision=a-(r.type==="%")*2);break}}return fD(r)}function Bd(t){var e=t.domain;return t.ticks=function(n){var r=e();return nM(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Lq(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],u,c,f=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);f-- >0;){if(c=rM(s,o,n),c===u)return r[i]=s,r[a]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;u=c}return t},t}function Oq(){var t=cD();return t.copy=function(){return Hx(t,Oq())},Us.apply(t,arguments),Bd(t)}function jq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,AE),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return jq(t).unknown(e)},t=arguments.length?Array.from(t,AE):[0,1],Bd(n)}function Fq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function EB(t){return Math.log(t)}function AB(t){return Math.exp(t)}function ime(t){return-Math.log(-t)}function ame(t){return-Math.exp(-t)}function sme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ome(t){return t===10?sme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CB(t){return(e,n)=>-t(-e,n)}function hD(t){const e=t(EB,AB),n=e.domain;let r=10,i,a;function s(){return i=lme(r),a=ome(r),n()[0]<0?(i=CB(i),a=CB(a),t(ime,ame)):t(EB,AB),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const u=n();let c=u[0],f=u[u.length-1];const h=f<c;h&&([c,f]=[f,c]);let g=i(c),v=i(f),w,E;const A=o==null?10:+o;let _=[];if(!(r%1)&&v-g<A){if(g=Math.floor(g),v=Math.ceil(v),c>0){for(;g<=v;++g)for(w=1;w<r;++w)if(E=g<0?w/a(-g):w*a(g),!(E<c)){if(E>f)break;_.push(E)}}else for(;g<=v;++g)for(w=r-1;w>=1;--w)if(E=g>0?w/a(-g):w*a(g),!(E<c)){if(E>f)break;_.push(E)}_.length*2<A&&(_=nM(c,f,A))}else _=nM(g,v,Math.min(v-g,A)).map(a);return h?_.reverse():_},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=k0(u)).precision==null&&(u.trim=!0),u=fD(u)),o===1/0)return u;const c=Math.max(1,r*o/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=c?u(f):""}},e.nice=()=>n(Fq(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function Uq(){const t=hD(lC()).domain([1,10]);return t.copy=()=>Hx(t,Uq()).base(t.base()),Us.apply(t,arguments),t}function _B(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function TB(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function pD(t){var e=1,n=t(_B(e),TB(e));return n.constant=function(r){return arguments.length?t(_B(e=+r),TB(e)):e},Bd(n)}function Bq(){var t=pD(lC());return t.copy=function(){return Hx(t,Bq()).constant(t.constant())},Us.apply(t,arguments)}function NB(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ume(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cme(t){return t<0?-t*t:t*t}function mD(t){var e=t(Di,Di),n=1;function r(){return n===1?t(Di,Di):n===.5?t(ume,cme):t(NB(n),NB(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Bd(e)}function gD(){var t=mD(lC());return t.copy=function(){return Hx(t,gD()).exponent(t.exponent())},Us.apply(t,arguments),t}function dme(){return gD.apply(null,arguments).exponent(.5)}function RB(t){return Math.sign(t)*t*t}function fme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zq(){var t=cD(),e=[0,1],n=!1,r;function i(a){var s=fme(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(RB(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,AE)).map(RB)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return zq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Us.apply(i,arguments),Bd(i)}function Hq(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=gpe(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Bx(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Td),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Hq().domain(t).range(e).unknown(r)},Us.apply(a,arguments)}function Gq(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[Bx(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Gq().domain([t,e]).range(i).unknown(a)},Us.apply(Bd(s),arguments)}function $q(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Bx(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $q().domain(t).range(e).unknown(n)},Us.apply(i,arguments)}const w2=new Date,S2=new Date;function yr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let c;do u.push(c=new Date(+a)),e(a,o),t(a);while(c<a&&a<s);return u},i.filter=a=>yr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(w2.setTime(+a),S2.setTime(+s),t(w2),t(S2),Math.floor(n(w2,S2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const _E=yr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_E.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_E);_E.range;const bu=1e3,ks=bu*60,xu=ks*60,Pu=xu*24,yD=Pu*7,MB=Pu*30,E2=Pu*365,_f=yr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bu)},(t,e)=>(e-t)/bu,t=>t.getUTCSeconds());_f.range;const vD=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bu)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getMinutes());vD.range;const bD=yr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getUTCMinutes());bD.range;const xD=yr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bu-t.getMinutes()*ks)},(t,e)=>{t.setTime(+t+e*xu)},(t,e)=>(e-t)/xu,t=>t.getHours());xD.range;const wD=yr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xu)},(t,e)=>(e-t)/xu,t=>t.getUTCHours());wD.range;const Gx=yr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ks)/Pu,t=>t.getDate()-1);Gx.range;const uC=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pu,t=>t.getUTCDate()-1);uC.range;const qq=yr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pu,t=>Math.floor(t/Pu));qq.range;function rp(t){return yr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ks)/yD)}const cC=rp(0),TE=rp(1),hme=rp(2),pme=rp(3),sy=rp(4),mme=rp(5),gme=rp(6);cC.range;TE.range;hme.range;pme.range;sy.range;mme.range;gme.range;function ip(t){return yr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/yD)}const dC=ip(0),NE=ip(1),yme=ip(2),vme=ip(3),oy=ip(4),bme=ip(5),xme=ip(6);dC.range;NE.range;yme.range;vme.range;oy.range;bme.range;xme.range;const SD=yr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SD.range;const ED=yr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ED.range;const ku=yr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ku.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ku.range;const Du=yr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Du.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Du.range;function Vq(t,e,n,r,i,a){const s=[[_f,1,bu],[_f,5,5*bu],[_f,15,15*bu],[_f,30,30*bu],[a,1,ks],[a,5,5*ks],[a,15,15*ks],[a,30,30*ks],[i,1,xu],[i,3,3*xu],[i,6,6*xu],[i,12,12*xu],[r,1,Pu],[r,2,2*Pu],[n,1,yD],[e,1,MB],[e,3,3*MB],[t,1,E2]];function o(c,f,h){const g=f<c;g&&([c,f]=[f,c]);const v=h&&typeof h.range=="function"?h:u(c,f,h),w=v?v.range(c,+f+1):[];return g?w.reverse():w}function u(c,f,h){const g=Math.abs(f-c)/h,v=iD(([,,A])=>A).right(s,g);if(v===s.length)return t.every(iM(c/E2,f/E2,h));if(v===0)return _E.every(Math.max(iM(c,f,h),1));const[w,E]=s[g/s[v-1][2]<s[v][2]/g?v-1:v];return w.every(E)}return[o,u]}const[wme,Sme]=Vq(Du,ED,dC,qq,wD,bD),[Eme,Ame]=Vq(ku,SD,cC,Gx,xD,vD);function A2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function C2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Cme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,u=t.shortMonths,c=kv(i),f=Dv(i),h=kv(a),g=Dv(a),v=kv(s),w=Dv(s),E=kv(o),A=Dv(o),_=kv(u),M=Dv(u),R={a:$,A:J,b:ae,B:Se,c:null,d:OB,e:OB,f:Yme,g:ige,G:sge,H:qme,I:Vme,j:Wme,L:Wq,m:Kme,M:Xme,p:Y,q:te,Q:UB,s:BB,S:Jme,u:Qme,U:Zme,V:ege,w:tge,W:nge,x:null,X:null,y:rge,Y:age,Z:oge,"%":FB},I={a:ce,A:me,b:Ee,B:Me,c:null,d:jB,e:jB,f:dge,g:wge,G:Ege,H:lge,I:uge,j:cge,L:Kq,m:fge,M:hge,p:Ce,q:ft,Q:UB,s:BB,S:pge,u:mge,U:gge,V:yge,w:vge,W:bge,x:null,X:null,y:xge,Y:Sge,Z:Age,"%":FB},D={a:W,A:U,b:q,B:Z,c:V,d:IB,e:IB,f:zme,g:DB,G:kB,H:LB,I:LB,j:jme,L:Bme,m:Ome,M:Fme,p:z,q:Lme,Q:Gme,s:$me,S:Ume,u:Mme,U:Pme,V:kme,w:Rme,W:Dme,x:Q,X:H,y:DB,Y:kB,Z:Ime,"%":Hme};R.x=k(n,R),R.X=k(r,R),R.c=k(e,R),I.x=k(n,I),I.X=k(r,I),I.c=k(e,I);function k(fe,Re){return function(Ke){var ne=[],be=-1,ve=0,Te=fe.length,Be,St,dn;for(Ke instanceof Date||(Ke=new Date(+Ke));++be<Te;)fe.charCodeAt(be)===37&&(ne.push(fe.slice(ve,be)),(St=PB[Be=fe.charAt(++be)])!=null?Be=fe.charAt(++be):St=Be==="e"?" ":"0",(dn=Re[Be])&&(Be=dn(Ke,St)),ne.push(Be),ve=be+1);return ne.push(fe.slice(ve,be)),ne.join("")}}function P(fe,Re){return function(Ke){var ne=Pv(1900,void 0,1),be=B(ne,fe,Ke+="",0),ve,Te;if(be!=Ke.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Re&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(ve=C2(Pv(ne.y,0,1)),Te=ve.getUTCDay(),ve=Te>4||Te===0?NE.ceil(ve):NE(ve),ve=uC.offset(ve,(ne.V-1)*7),ne.y=ve.getUTCFullYear(),ne.m=ve.getUTCMonth(),ne.d=ve.getUTCDate()+(ne.w+6)%7):(ve=A2(Pv(ne.y,0,1)),Te=ve.getDay(),ve=Te>4||Te===0?TE.ceil(ve):TE(ve),ve=Gx.offset(ve,(ne.V-1)*7),ne.y=ve.getFullYear(),ne.m=ve.getMonth(),ne.d=ve.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Te="Z"in ne?C2(Pv(ne.y,0,1)).getUTCDay():A2(Pv(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Te+5)%7:ne.w+ne.U*7-(Te+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,C2(ne)):A2(ne)}}function B(fe,Re,Ke,ne){for(var be=0,ve=Re.length,Te=Ke.length,Be,St;be<ve;){if(ne>=Te)return-1;if(Be=Re.charCodeAt(be++),Be===37){if(Be=Re.charAt(be++),St=D[Be in PB?Re.charAt(be++):Be],!St||(ne=St(fe,Ke,ne))<0)return-1}else if(Be!=Ke.charCodeAt(ne++))return-1}return ne}function z(fe,Re,Ke){var ne=c.exec(Re.slice(Ke));return ne?(fe.p=f.get(ne[0].toLowerCase()),Ke+ne[0].length):-1}function W(fe,Re,Ke){var ne=v.exec(Re.slice(Ke));return ne?(fe.w=w.get(ne[0].toLowerCase()),Ke+ne[0].length):-1}function U(fe,Re,Ke){var ne=h.exec(Re.slice(Ke));return ne?(fe.w=g.get(ne[0].toLowerCase()),Ke+ne[0].length):-1}function q(fe,Re,Ke){var ne=_.exec(Re.slice(Ke));return ne?(fe.m=M.get(ne[0].toLowerCase()),Ke+ne[0].length):-1}function Z(fe,Re,Ke){var ne=E.exec(Re.slice(Ke));return ne?(fe.m=A.get(ne[0].toLowerCase()),Ke+ne[0].length):-1}function V(fe,Re,Ke){return B(fe,e,Re,Ke)}function Q(fe,Re,Ke){return B(fe,n,Re,Ke)}function H(fe,Re,Ke){return B(fe,r,Re,Ke)}function $(fe){return s[fe.getDay()]}function J(fe){return a[fe.getDay()]}function ae(fe){return u[fe.getMonth()]}function Se(fe){return o[fe.getMonth()]}function Y(fe){return i[+(fe.getHours()>=12)]}function te(fe){return 1+~~(fe.getMonth()/3)}function ce(fe){return s[fe.getUTCDay()]}function me(fe){return a[fe.getUTCDay()]}function Ee(fe){return u[fe.getUTCMonth()]}function Me(fe){return o[fe.getUTCMonth()]}function Ce(fe){return i[+(fe.getUTCHours()>=12)]}function ft(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Re=k(fe+="",R);return Re.toString=function(){return fe},Re},parse:function(fe){var Re=P(fe+="",!1);return Re.toString=function(){return fe},Re},utcFormat:function(fe){var Re=k(fe+="",I);return Re.toString=function(){return fe},Re},utcParse:function(fe){var Re=P(fe+="",!0);return Re.toString=function(){return fe},Re}}}var PB={"-":"",_:" ",0:"0"},Fr=/^\s*\d+/,_me=/^%/,Tme=/[\\^$*+?|[\]().{}]/g;function Pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Nme(t){return t.replace(Tme,"\\$&")}function kv(t){return new RegExp("^(?:"+t.map(Nme).join("|")+")","i")}function Dv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Rme(t,e,n){var r=Fr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Mme(t,e,n){var r=Fr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Pme(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kme(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Dme(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kB(t,e,n){var r=Fr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function DB(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ime(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lme(t,e,n){var r=Fr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ome(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function IB(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function jme(t,e,n){var r=Fr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function LB(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Fme(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ume(t,e,n){var r=Fr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Bme(t,e,n){var r=Fr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zme(t,e,n){var r=Fr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hme(t,e,n){var r=_me.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gme(t,e,n){var r=Fr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $me(t,e,n){var r=Fr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OB(t,e){return Pt(t.getDate(),e,2)}function qme(t,e){return Pt(t.getHours(),e,2)}function Vme(t,e){return Pt(t.getHours()%12||12,e,2)}function Wme(t,e){return Pt(1+Gx.count(ku(t),t),e,3)}function Wq(t,e){return Pt(t.getMilliseconds(),e,3)}function Yme(t,e){return Wq(t,e)+"000"}function Kme(t,e){return Pt(t.getMonth()+1,e,2)}function Xme(t,e){return Pt(t.getMinutes(),e,2)}function Jme(t,e){return Pt(t.getSeconds(),e,2)}function Qme(t){var e=t.getDay();return e===0?7:e}function Zme(t,e){return Pt(cC.count(ku(t)-1,t),e,2)}function Yq(t){var e=t.getDay();return e>=4||e===0?sy(t):sy.ceil(t)}function ege(t,e){return t=Yq(t),Pt(sy.count(ku(t),t)+(ku(t).getDay()===4),e,2)}function tge(t){return t.getDay()}function nge(t,e){return Pt(TE.count(ku(t)-1,t),e,2)}function rge(t,e){return Pt(t.getFullYear()%100,e,2)}function ige(t,e){return t=Yq(t),Pt(t.getFullYear()%100,e,2)}function age(t,e){return Pt(t.getFullYear()%1e4,e,4)}function sge(t,e){var n=t.getDay();return t=n>=4||n===0?sy(t):sy.ceil(t),Pt(t.getFullYear()%1e4,e,4)}function oge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pt(e/60|0,"0",2)+Pt(e%60,"0",2)}function jB(t,e){return Pt(t.getUTCDate(),e,2)}function lge(t,e){return Pt(t.getUTCHours(),e,2)}function uge(t,e){return Pt(t.getUTCHours()%12||12,e,2)}function cge(t,e){return Pt(1+uC.count(Du(t),t),e,3)}function Kq(t,e){return Pt(t.getUTCMilliseconds(),e,3)}function dge(t,e){return Kq(t,e)+"000"}function fge(t,e){return Pt(t.getUTCMonth()+1,e,2)}function hge(t,e){return Pt(t.getUTCMinutes(),e,2)}function pge(t,e){return Pt(t.getUTCSeconds(),e,2)}function mge(t){var e=t.getUTCDay();return e===0?7:e}function gge(t,e){return Pt(dC.count(Du(t)-1,t),e,2)}function Xq(t){var e=t.getUTCDay();return e>=4||e===0?oy(t):oy.ceil(t)}function yge(t,e){return t=Xq(t),Pt(oy.count(Du(t),t)+(Du(t).getUTCDay()===4),e,2)}function vge(t){return t.getUTCDay()}function bge(t,e){return Pt(NE.count(Du(t)-1,t),e,2)}function xge(t,e){return Pt(t.getUTCFullYear()%100,e,2)}function wge(t,e){return t=Xq(t),Pt(t.getUTCFullYear()%100,e,2)}function Sge(t,e){return Pt(t.getUTCFullYear()%1e4,e,4)}function Ege(t,e){var n=t.getUTCDay();return t=n>=4||n===0?oy(t):oy.ceil(t),Pt(t.getUTCFullYear()%1e4,e,4)}function Age(){return"+0000"}function FB(){return"%"}function UB(t){return+t}function BB(t){return Math.floor(+t/1e3)}var $p,Jq,Qq;Cge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cge(t){return $p=Cme(t),Jq=$p.format,$p.parse,Qq=$p.utcFormat,$p.utcParse,$p}function _ge(t){return new Date(t)}function Tge(t){return t instanceof Date?+t:+new Date(+t)}function AD(t,e,n,r,i,a,s,o,u,c){var f=cD(),h=f.invert,g=f.domain,v=c(".%L"),w=c(":%S"),E=c("%I:%M"),A=c("%I %p"),_=c("%a %d"),M=c("%b %d"),R=c("%B"),I=c("%Y");function D(k){return(u(k)<k?v:o(k)<k?w:s(k)<k?E:a(k)<k?A:r(k)<k?i(k)<k?_:M:n(k)<k?R:I)(k)}return f.invert=function(k){return new Date(h(k))},f.domain=function(k){return arguments.length?g(Array.from(k,Tge)):g().map(_ge)},f.ticks=function(k){var P=g();return t(P[0],P[P.length-1],k??10)},f.tickFormat=function(k,P){return P==null?D:c(P)},f.nice=function(k){var P=g();return(!k||typeof k.range!="function")&&(k=e(P[0],P[P.length-1],k??10)),k?g(Fq(P,k)):f},f.copy=function(){return Hx(f,AD(t,e,n,r,i,a,s,o,u,c))},f}function Nge(){return Us.apply(AD(Eme,Ame,ku,SD,cC,Gx,xD,vD,_f,Jq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Rge(){return Us.apply(AD(wme,Sme,Du,ED,dC,uC,wD,bD,_f,Qq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fC(){var t=0,e=1,n,r,i,a,s=Di,o=!1,u;function c(h){return h==null||isNaN(h=+h)?u:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(s=h,c):s};function f(h){return function(g){var v,w;return arguments.length?([v,w]=g,s=h(v,w),c):[s(0),s(1)]}}return c.range=f(by),c.rangeRound=f(uD),c.unknown=function(h){return arguments.length?(u=h,c):u},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function zd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zq(){var t=Bd(fC()(Di));return t.copy=function(){return zd(t,Zq())},Wu.apply(t,arguments)}function eV(){var t=hD(fC()).domain([1,10]);return t.copy=function(){return zd(t,eV()).base(t.base())},Wu.apply(t,arguments)}function tV(){var t=pD(fC());return t.copy=function(){return zd(t,tV()).constant(t.constant())},Wu.apply(t,arguments)}function CD(){var t=mD(fC());return t.copy=function(){return zd(t,CD()).exponent(t.exponent())},Wu.apply(t,arguments)}function Mge(){return CD.apply(null,arguments).exponent(.5)}function nV(){var t=[],e=Di;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Td),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>mpe(t,a/r))},n.copy=function(){return nV(e).domain(t)},Wu.apply(n,arguments)}function hC(){var t=0,e=.5,n=1,r=1,i,a,s,o,u,c=Di,f,h=!1,g;function v(E){return isNaN(E=+E)?g:(E=.5+((E=+f(E))-a)*(r*E<r*a?o:u),c(h?Math.max(0,Math.min(1,E)):E))}v.domain=function(E){return arguments.length?([t,e,n]=E,i=f(t=+t),a=f(e=+e),s=f(n=+n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v):[t,e,n]},v.clamp=function(E){return arguments.length?(h=!!E,v):h},v.interpolator=function(E){return arguments.length?(c=E,v):c};function w(E){return function(A){var _,M,R;return arguments.length?([_,M,R]=A,c=Hpe(E,[_,M,R]),v):[c(0),c(.5),c(1)]}}return v.range=w(by),v.rangeRound=w(uD),v.unknown=function(E){return arguments.length?(g=E,v):g},function(E){return f=E,i=E(t),a=E(e),s=E(n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function rV(){var t=Bd(hC()(Di));return t.copy=function(){return zd(t,rV())},Wu.apply(t,arguments)}function iV(){var t=hD(hC()).domain([.1,1,10]);return t.copy=function(){return zd(t,iV()).base(t.base())},Wu.apply(t,arguments)}function aV(){var t=pD(hC());return t.copy=function(){return zd(t,aV()).constant(t.constant())},Wu.apply(t,arguments)}function _D(){var t=mD(hC());return t.copy=function(){return zd(t,_D()).exponent(t.exponent())},Wu.apply(t,arguments)}function Pge(){return _D.apply(null,arguments).exponent(.5)}const Hv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sD,scaleDiverging:rV,scaleDivergingLog:iV,scaleDivergingPow:_D,scaleDivergingSqrt:Pge,scaleDivergingSymlog:aV,scaleIdentity:jq,scaleImplicit:aM,scaleLinear:Oq,scaleLog:Uq,scaleOrdinal:aD,scalePoint:vpe,scalePow:gD,scaleQuantile:Hq,scaleQuantize:Gq,scaleRadial:zq,scaleSequential:Zq,scaleSequentialLog:eV,scaleSequentialPow:CD,scaleSequentialQuantile:nV,scaleSequentialSqrt:Mge,scaleSequentialSymlog:tV,scaleSqrt:dme,scaleSymlog:Bq,scaleThreshold:$q,scaleTime:Nge,scaleUtc:Rge,tickFormat:Lq},Symbol.toStringTag,{value:"Module"}));var Hd=t=>t.chartData,kge=he([Hd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),TD=(t,e,n,r)=>r?kge(t):Hd(t);function kd(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Un(e)&&Un(n))return!0}return!1}function zB(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function sV(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Un(n))i=n;else if(typeof n=="function")return;if(Un(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(kd(s))return s}}function Dge(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(kd(r))return zB(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ye(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&yU.test(i)){var u=yU.exec(i);if(u==null||e==null)s=void 0;else{var c=+u[1];s=e[0]-c}}else s=e==null?void 0:e[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ye(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e==null?void 0:e[1]))}catch{}else if(typeof a=="string"&&vU.test(a)){var f=vU.exec(a);if(f==null||e==null)o=void 0;else{var h=+f[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[s,o];if(kd(g))return e==null?g:zB(g,e,n)}}}var xy=1e9,Ige={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RD,En=!0,Fs="[DecimalError] ",$h=Fs+"Invalid argument: ",ND=Fs+"Exponent out of range: ",wy=Math.floor,yf=Math.pow,Lge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ya,Dr=1e7,yn=7,oV=9007199254740991,RE=wy(oV/yn),Oe={};Oe.absoluteValue=Oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Oe.comparedTo=Oe.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*yn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Oe.dividedBy=Oe.div=function(t){return Su(this,new this.constructor(t))};Oe.dividedToIntegerBy=Oe.idiv=function(t){var e=this,n=e.constructor;return sn(Su(e,new n(t),0,1),n.precision)};Oe.equals=Oe.eq=function(t){return!this.cmp(t)};Oe.exponent=function(){return ir(this)};Oe.greaterThan=Oe.gt=function(t){return this.cmp(t)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(t){return this.cmp(t)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(t){return this.cmp(t)<0};Oe.lessThanOrEqualTo=Oe.lte=function(t){return this.cmp(t)<1};Oe.logarithm=Oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ya))throw Error(Fs+"NaN");if(n.s<1)throw Error(Fs+(n.s?"NaN":"-Infinity"));return n.eq(Ya)?new r(0):(En=!1,e=Su(D0(n,a),D0(t,a),a),En=!0,sn(e,i))};Oe.minus=Oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cV(e,t):lV(e,(t.s=-t.s,t))};Oe.modulo=Oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fs+"NaN");return n.s?(En=!1,e=Su(n,t,0,1).times(t),En=!0,n.minus(e)):sn(new r(n),i)};Oe.naturalExponential=Oe.exp=function(){return uV(this)};Oe.naturalLogarithm=Oe.ln=function(){return D0(this)};Oe.negated=Oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Oe.plus=Oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lV(e,t):cV(e,(t.s=-t.s,t))};Oe.precision=Oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($h+t);if(e=ir(i)+1,r=i.d.length-1,n=r*yn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Oe.squareRoot=Oe.sqrt=function(){var t,e,n,r,i,a,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Fs+"NaN")}for(t=ir(o),En=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=tl(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(Su(o,a,s+2)).times(.5),tl(a.d).slice(0,s)===(e=tl(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(sn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return En=!0,sn(r,n)};Oe.times=Oe.mul=function(t){var e,n,r,i,a,s,o,u,c,f=this,h=f.constructor,g=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,n=f.e+t.e,u=g.length,c=v.length,u<c&&(a=g,g=v,v=a,s=u,u=c,c=s),a=[],s=u+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+v[r]*g[i-r-1]+e,a[i--]=o%Dr|0,e=o/Dr|0;a[i]=(a[i]+e)%Dr|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,En?sn(t,h.precision):t};Oe.toDecimalPlaces=Oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ol(t,0,xy),e===void 0?e=r.rounding:ol(e,0,8),sn(n,t+ir(n)+1,e))};Oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yh(r,!0):(ol(t,0,xy),e===void 0?e=i.rounding:ol(e,0,8),r=sn(new i(r),t+1,e),n=Yh(r,!0,t+1)),n};Oe.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Yh(i):(ol(t,0,xy),e===void 0?e=a.rounding:ol(e,0,8),r=sn(new a(i),t+ir(i)+1,e),n=Yh(r.abs(),!1,t+ir(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Oe.toInteger=Oe.toint=function(){var t=this,e=t.constructor;return sn(new e(t),ir(t)+1,e.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(t){var e,n,r,i,a,s,o=this,u=o.constructor,c=12,f=+(t=new u(t));if(!t.s)return new u(Ya);if(o=new u(o),!o.s){if(t.s<1)throw Error(Fs+"Infinity");return o}if(o.eq(Ya))return o;if(r=u.precision,t.eq(Ya))return sn(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=f<0?-f:f)<=oV){for(i=new u(Ya),e=Math.ceil(r/yn+4),En=!1;n%2&&(i=i.times(o),GB(i.d,e)),n=wy(n/2),n!==0;)o=o.times(o),GB(o.d,e);return En=!0,t.s<0?new u(Ya).div(i):sn(i,r)}}else if(a<0)throw Error(Fs+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,En=!1,i=t.times(D0(o,r+c)),En=!0,i=uV(i),i.s=a,i};Oe.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ir(i),r=Yh(i,n<=a.toExpNeg||n>=a.toExpPos)):(ol(t,1,xy),e===void 0?e=a.rounding:ol(e,0,8),i=sn(new a(i),t,e),n=ir(i),r=Yh(i,t<=n||n<=a.toExpNeg,t)),r};Oe.toSignificantDigits=Oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ol(t,1,xy),e===void 0?e=r.rounding:ol(e,0,8)),sn(new r(n),t,e)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ir(t),n=t.constructor;return Yh(t,e<=n.toExpNeg||e>=n.toExpPos)};function lV(t,e){var n,r,i,a,s,o,u,c,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),En?sn(e,h):e;if(u=t.d,c=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,o=c.length):(r=c,i=s,o=u.length),s=Math.ceil(h/yn),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=c.length,o-a<0&&(a=o,r=c,c=u,u=r),n=0;a;)n=(u[--a]=u[a]+c[a]+n)/Dr|0,u[a]%=Dr;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,En?sn(e,h):e}function ol(t,e,n){if(t!==~~t||t<e||t>n)throw Error($h+t)}function tl(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=yn-r.length,n&&(a+=Cc(n)),a+=r;s=t[e],r=s+"",n=yn-r.length,n&&(a+=Cc(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Su=(function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%Dr|0,s=a/Dr|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*Dr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,u,c,f,h,g,v,w,E,A,_,M,R,I,D,k,P,B,z=r.constructor,W=r.s==i.s?1:-1,U=r.d,q=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Fs+"Division by zero");for(u=r.e-i.e,P=q.length,D=U.length,v=new z(W),w=v.d=[],c=0;q[c]==(U[c]||0);)++c;if(q[c]>(U[c]||0)&&--u,a==null?M=a=z.precision:s?M=a+(ir(r)-ir(i))+1:M=a,M<0)return new z(0);if(M=M/yn+2|0,c=0,P==1)for(f=0,q=q[0],M++;(c<D||f)&&M--;c++)R=f*Dr+(U[c]||0),w[c]=R/q|0,f=R%q|0;else{for(f=Dr/(q[0]+1)|0,f>1&&(q=t(q,f),U=t(U,f),P=q.length,D=U.length),I=P,E=U.slice(0,P),A=E.length;A<P;)E[A++]=0;B=q.slice(),B.unshift(0),k=q[0],q[1]>=Dr/2&&++k;do f=0,o=e(q,E,P,A),o<0?(_=E[0],P!=A&&(_=_*Dr+(E[1]||0)),f=_/k|0,f>1?(f>=Dr&&(f=Dr-1),h=t(q,f),g=h.length,A=E.length,o=e(h,E,g,A),o==1&&(f--,n(h,P<g?B:q,g))):(f==0&&(o=f=1),h=q.slice()),g=h.length,g<A&&h.unshift(0),n(E,h,A),o==-1&&(A=E.length,o=e(q,E,P,A),o<1&&(f++,n(E,P<A?B:q,A))),A=E.length):o===0&&(f++,E=[0]),w[c++]=f,o&&E[0]?E[A++]=U[I]||0:(E=[U[I]],A=1);while((I++<D||E[0]!==void 0)&&M--)}return w[0]||w.shift(),v.e=u,sn(v,s?a+ir(v)+1:a)}})();function uV(t,e){var n,r,i,a,s,o,u=0,c=0,f=t.constructor,h=f.precision;if(ir(t)>16)throw Error(ND+ir(t));if(!t.s)return new f(Ya);for(En=!1,o=h,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(yf(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new f(Ya),f.precision=o;;){if(i=sn(i.times(t),o),n=n.times(++u),s=a.plus(Su(i,n,o)),tl(s.d).slice(0,o)===tl(a.d).slice(0,o)){for(;c--;)a=sn(a.times(a),o);return f.precision=h,e==null?(En=!0,sn(a,h)):a}a=s}}function ir(t){for(var e=t.e*yn,n=t.d[0];n>=10;n/=10)e++;return e}function _2(t,e,n){if(e>t.LN10.sd())throw En=!0,n&&(t.precision=n),Error(Fs+"LN10 precision limit exceeded");return sn(new t(t.LN10),e)}function Cc(t){for(var e="";t--;)e+="0";return e}function D0(t,e){var n,r,i,a,s,o,u,c,f,h=1,g=10,v=t,w=v.d,E=v.constructor,A=E.precision;if(v.s<1)throw Error(Fs+(v.s?"NaN":"-Infinity"));if(v.eq(Ya))return new E(0);if(e==null?(En=!1,c=A):c=e,v.eq(10))return e==null&&(En=!0),_2(E,c);if(c+=g,E.precision=c,n=tl(w),r=n.charAt(0),a=ir(v),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=tl(v.d),r=n.charAt(0),h++;a=ir(v),r>1?(v=new E("0."+n),a++):v=new E(r+"."+n.slice(1))}else return u=_2(E,c+2,A).times(a+""),v=D0(new E(r+"."+n.slice(1)),c-g).plus(u),E.precision=A,e==null?(En=!0,sn(v,A)):v;for(o=s=v=Su(v.minus(Ya),v.plus(Ya),c),f=sn(v.times(v),c),i=3;;){if(s=sn(s.times(f),c),u=o.plus(Su(s,new E(i),c)),tl(u.d).slice(0,c)===tl(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(_2(E,c+2,A).times(a+""))),o=Su(o,new E(h),c),E.precision=A,e==null?(En=!0,sn(o,A)):o;o=u,i+=2}}function HB(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=wy(n/yn),t.d=[],r=(n+1)%yn,n<0&&(r+=yn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=yn;r<i;)t.d.push(+e.slice(r,r+=yn));e=e.slice(r),r=yn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),En&&(t.e>RE||t.e<-RE))throw Error(ND+n)}else t.s=0,t.e=0,t.d=[0];return t}function sn(t,e,n){var r,i,a,s,o,u,c,f,h=t.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=yn,i=e,c=h[f=0];else{if(f=Math.ceil((r+1)/yn),a=h.length,f>=a)return t;for(c=a=h[f],s=1;a>=10;a/=10)s++;r%=yn,i=r-yn+s}if(n!==void 0&&(a=yf(10,s-i-1),o=c/a%10|0,u=e<0||h[f+1]!==void 0||c%a,u=n<4?(o||u)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?c/yf(10,s-i):0:h[f-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return u?(a=ir(t),h.length=1,e=e-a-1,h[0]=yf(10,(yn-e%yn)%yn),t.e=wy(-e/yn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=yf(10,yn-r),h[f]=i>0?(c/yf(10,s-i)%yf(10,i)|0)*a:0),u)for(;;)if(f==0){(h[0]+=a)==Dr&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=Dr)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(En&&(t.e>RE||t.e<-RE))throw Error(ND+ir(t));return t}function cV(t,e){var n,r,i,a,s,o,u,c,f,h,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),En?sn(e,v):e;if(u=t.d,h=e.d,r=e.e,c=t.e,u=u.slice(),s=c-r,s){for(f=s<0,f?(n=u,s=-s,o=h.length):(n=h,r=c,o=u.length),i=Math.max(Math.ceil(v/yn),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=h.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(u[i]!=h[i]){f=u[i]<h[i];break}s=0}for(f&&(n=u,u=h,h=n,e.s=-e.s),o=u.length,i=h.length-o;i>0;--i)u[o++]=0;for(i=h.length;i>s;){if(u[--i]<h[i]){for(a=i;a&&u[--a]===0;)u[a]=Dr-1;--u[a],u[i]+=Dr}u[i]-=h[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,En?sn(e,v):e):new g(0)}function Yh(t,e,n){var r,i=ir(t),a=tl(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Cc(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Cc(-i-1)+a,n&&(r=n-s)>0&&(a+=Cc(r))):i>=s?(a+=Cc(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Cc(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Cc(r))),t.s<0?"-"+a:a}function GB(t,e){if(t.length>e)return t.length=e,!0}function dV(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($h+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return HB(s,a.toString())}else if(typeof a!="string")throw Error($h+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Lge.test(a))HB(s,a);else throw Error($h+a)}if(i.prototype=Oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dV,i.config=i.set=Oge,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Oge(t){if(!t||typeof t!="object")throw Error(Fs+"Object expected");var e,n,r,i=["precision",1,xy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(wy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($h+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($h+n+": "+r);return this}var RD=dV(Ige);Ya=new RD(1);const Ht=RD;var jge=t=>t,fV={},hV=t=>t===fV,$B=t=>function e(){return arguments.length===0||arguments.length===1&&hV(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},pV=(t,e)=>t===1?e:$B(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==fV).length;return a>=t?e(...r):pV(t-a,$B(function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];var c=r.map(f=>hV(f)?o.shift():f);return e(...c,...o)}))}),Fge=t=>pV(t.length,t),uM=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Uge=Fge((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Bge=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return jge;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,u)=>u(o),a(...arguments))}},cM=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function mV(t){var e;return t===0?e=1:e=Math.floor(new Ht(t).abs().log(10).toNumber())+1,e}function gV(t,e,n){for(var r=new Ht(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var yV=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},vV=(t,e,n)=>{if(t.lte(0))return new Ht(0);var r=mV(t.toNumber()),i=new Ht(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new Ht(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=o.mul(i);return e?new Ht(u.toNumber()):new Ht(Math.ceil(u.toNumber()))},zge=(t,e,n)=>{var r=new Ht(1),i=new Ht(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ht(10).pow(mV(t)-1),i=new Ht(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ht(Math.floor(t)))}else t===0?i=new Ht(Math.floor((e-1)/2)):n||(i=new Ht(Math.floor(t)));var s=Math.floor((e-1)/2),o=Bge(Uge(u=>i.add(new Ht(u-s).mul(r)).toNumber()),uM);return o(0,e)},bV=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ht(0),tickMin:new Ht(0),tickMax:new Ht(0)};var s=vV(new Ht(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new Ht(0):(o=new Ht(e).add(n).div(2),o=o.sub(new Ht(o).mod(s)));var u=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Ht(n).sub(o).div(s).toNumber()),f=u+c+1;return f>r?bV(e,n,r,i,a+1):(f<r&&(c=n>0?c+(r-f):c,u=n>0?u:u+(r-f)),{step:s,tickMin:o.sub(new Ht(u).mul(s)),tickMax:o.add(new Ht(c).mul(s))})},Hge=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,u]=yV([n,r]);if(o===-1/0||u===1/0){var c=u===1/0?[o,...uM(0,i-1).map(()=>1/0)]:[...uM(0,i-1).map(()=>-1/0),u];return n>r?cM(c):c}if(o===u)return zge(o,i,a);var{step:f,tickMin:h,tickMax:g}=bV(o,u,s,a,0),v=gV(h,g.add(new Ht(.1).mul(f)),f);return n>r?cM(v):v},Gge=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=yV([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var u=Math.max(n,2),c=vV(new Ht(o).sub(s).div(u-1),a,0),f=[...gV(new Ht(s),new Ht(o),c),o];return a===!1&&(f=f.map(h=>Math.round(h))),r>i?cM(f):f},$ge=t=>t.rootProps.barCategoryGap,pC=t=>t.rootProps.stackOffset,xV=t=>t.rootProps.reverseStackOrder,MD=t=>t.options.chartName,PD=t=>t.rootProps.syncId,wV=t=>t.rootProps.syncMethod,kD=t=>t.options.eventEmitter,qge=t=>t.rootProps.baseValue,Ii={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},yu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},mC=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Vge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yu.angleAxisId,includeHidden:!1,name:void 0,reversed:yu.reversed,scale:yu.scale,tick:yu.tick,tickCount:void 0,ticks:void 0,type:yu.type,unit:void 0},Wge={allowDataOverflow:qa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qa.scale,tick:qa.tick,tickCount:qa.tickCount,ticks:void 0,type:qa.type,unit:void 0},Yge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:yu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yu.scale,tick:yu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Kge={allowDataOverflow:qa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qa.scale,tick:qa.tick,tickCount:qa.tickCount,ticks:void 0,type:"category",unit:void 0},DD=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Yge:Vge,ID=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Kge:Wge,gC=t=>t.polarOptions,LD=he([qu,Vu,ii],Hhe),SV=he([gC,LD],(t,e)=>{if(t!=null)return Pd(t.innerRadius,e,0)}),EV=he([gC,LD],(t,e)=>{if(t!=null)return Pd(t.outerRadius,e,e*.8)}),Xge=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},AV=he([gC],Xge);he([DD,AV],mC);var CV=he([LD,SV,EV],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});he([ID,CV],mC);var _V=he([cn,gC,SV,EV,qu,Vu],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:u,endAngle:c}=e;return{cx:Pd(s,i,i/2),cy:Pd(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:c,clockWise:!1}}}),vr=(t,e)=>e,yC=(t,e,n)=>n;function OD(t){return t==null?void 0:t.id}function TV(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var u,c=(u=o.data)!==null&&u!==void 0?u:r;if(!(c==null||c.length===0)){var f=OD(o);c.forEach((h,g)=>{var v=a==null||i?g:String(Ai(h,a,null)),w=Ai(h,o.dataKey,0),E;s.has(v)?E=s.get(v):E={},Object.assign(E,{[f]:w}),s.set(v,E)})}}),Array.from(s.values())}function jD(t){return t.stackId!=null&&t.dataKey!=null}var vC=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function bC(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Jge(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var br=t=>{var e=cn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Sy=t=>t.tooltip.settings.axisId;function qB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ME(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qB(Object(n),!0).forEach(function(r){Qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qge(t,e,n){return(e=Zge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zge(t){var e=eye(t,"string");return typeof e=="symbol"?e:e+""}function eye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dM=[0,"auto"],Ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},NV=(t,e)=>t.cartesianAxis.xAxis[e],Yu=(t,e)=>{var n=NV(t,e);return n??Ar},Cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dM,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jx},RV=(t,e)=>t.cartesianAxis.yAxis[e],Ku=(t,e)=>{var n=RV(t,e);return n??Cr},tye={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FD=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??tye},zi=(t,e,n)=>{switch(e){case"xAxis":return Yu(t,n);case"yAxis":return Ku(t,n);case"zAxis":return FD(t,n);case"angleAxis":return DD(t,n);case"radiusAxis":return ID(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nye=(t,e,n)=>{switch(e){case"xAxis":return Yu(t,n);case"yAxis":return Ku(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$x=(t,e,n)=>{switch(e){case"xAxis":return Yu(t,n);case"yAxis":return Ku(t,n);case"angleAxis":return DD(t,n);case"radiusAxis":return ID(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},MV=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function PV(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var kV=t=>t.graphicalItems.cartesianItems,rye=he([vr,yC],PV),DV=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),qx=he([kV,zi,rye],DV,{memoizeOptions:{resultEqualityCheck:bC}}),IV=he([qx],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(jD)),LV=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),iye=he([qx],LV),OV=t=>t.map(e=>e.data).filter(Boolean).flat(1),aye=he([qx],OV,{memoizeOptions:{resultEqualityCheck:bC}}),jV=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},UD=he([aye,TD],jV),FV=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Ai(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Ai(i,r)}))):t.map(r=>({value:r})),xC=he([UD,zi,qx],FV);function UV(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function l1(t){if(al(t)||t instanceof Date){var e=Number(t);if(Un(e))return e}}function VB(t){if(Array.isArray(t)){var e=[l1(t[0]),l1(t[1])];return kd(e)?e:void 0}var n=l1(t);if(n!=null)return[n,n]}function Iu(t){return t.map(l1).filter(Sue)}function sye(t,e,n){return!n||typeof e!="number"||po(e)?[]:n.length?Iu(n.flatMap(r=>{var i=Ai(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Un(a)||!Un(s)))return[e-a,e+s]})):[]}var xr=t=>{var e=br(t),n=Sy(t);return $x(t,e,n)},Vx=he([xr],t=>t==null?void 0:t.dataKey),oye=he([IV,TD,xr],TV),BV=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,u]=s,c=r?[...u].reverse():u,f=c.map(OD);return[o,{stackedData:Pde(t,f,n),graphicalItems:c}]}))},fM=he([oye,IV,pC,xV],BV),zV=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=Lde(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},lye=he([zi],t=>t.allowDataOverflow),BD=t=>{var e;if(t==null||!("domain"in t))return dM;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Iu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:dM},HV=he([zi],BD),GV=he([HV,lye],sV),uye=he([fM,Hd,vr,GV],zV,{memoizeOptions:{resultEqualityCheck:vC}}),zD=t=>t.errorBars,cye=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>UV(n,r)),PE=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},$V=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(u=>{var c,f,h=(c=r[u.id])===null||c===void 0?void 0:c.filter(_=>UV(i,_)),g=Ai(o,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey),v=sye(o,g,h);if(v.length>=2){var w=Math.min(...v),E=Math.max(...v);(a==null||w<a)&&(a=w),(s==null||E>s)&&(s=E)}var A=VB(g);A!=null&&(a=a==null?A[0]:Math.min(a,A[0]),s=s==null?A[1]:Math.max(s,A[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var u=VB(Ai(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Un(a)&&Un(s))return[a,s]},dye=he([UD,zi,iye,zD,vr],$V,{memoizeOptions:{resultEqualityCheck:vC}});function fye(t){var{value:e}=t;if(al(e)||e instanceof Date)return e}var hye=(t,e,n)=>{var r=t.map(fye).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&s$(r))?Cq(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},qV=t=>t.referenceElements.dots,Ey=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),pye=he([qV,vr,yC],Ey),VV=t=>t.referenceElements.areas,mye=he([VV,vr,yC],Ey),WV=t=>t.referenceElements.lines,gye=he([WV,vr,yC],Ey),YV=(t,e)=>{var n=Iu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yye=he(pye,vr,YV),KV=(t,e)=>{var n=Iu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vye=he([mye,vr],KV);function bye(t){var e;if(t.x!=null)return Iu([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Iu(n)}function xye(t){var e;if(t.y!=null)return Iu([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Iu(n)}var XV=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?bye(r):xye(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wye=he([gye,vr],XV),Sye=he(yye,wye,vye,(t,e,n)=>PE(t,n,e)),JV=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=u?PE(r,a,i):PE(a,i);return Dge(e,c,t.allowDataOverflow)},Eye=he([zi,HV,GV,uye,dye,Sye,cn,vr],JV,{memoizeOptions:{resultEqualityCheck:vC}}),Aye=[0,1],QV=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:u}=t,c=$u(e,a);if(c&&o==null){var f;return Cq(0,(f=n==null?void 0:n.length)!==null&&f!==void 0?f:0)}return u==="category"?hye(r,t,c):i==="expand"?Aye:s}},HD=he([zi,cn,UD,xC,pC,vr,Eye],QV),ZV=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:s}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Gk(a));return o in Hv?o:"point"}}},Wx=he([zi,cn,MV,MD,vr],ZV);function Cye(t){if(t!=null){if(t in Hv)return Hv[t]();var e="scale".concat(Gk(t));if(e in Hv)return Hv[e]()}}function GD(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Cye(e);if(i!=null){var a=i.domain(n).range(r);return Tde(a),a}}}var e9=(t,e,n)=>{var r=BD(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&kd(t))return Hge(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&kd(t))return Gge(t,e.tickCount,e.allowDecimals)}},$D=he([HD,$x,Wx],e9),t9=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&kd(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],s=e[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return e},_ye=he([zi,HD,$D,vr],t9),Tye=he(xC,zi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Iu(t.map(o=>o.value))).sort((o,u)=>o-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),n9=he(Tye,cn,$ge,ii,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Un(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Pd(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),Nye=(t,e)=>{var n=Yu(t,e);return n==null||typeof n.padding!="string"?0:n9(t,"xAxis",e,n.padding)},Rye=(t,e)=>{var n=Ku(t,e);return n==null||typeof n.padding!="string"?0:n9(t,"yAxis",e,n.padding)},Mye=he(Yu,Nye,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Pye=he(Ku,Rye,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),kye=he([ii,Mye,nC,tC,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),Dye=he([ii,cn,Pye,nC,tC,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Yx=(t,e,n,r)=>{var i;switch(e){case"xAxis":return kye(t,n,r);case"yAxis":return Dye(t,n,r);case"zAxis":return(i=FD(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return AV(t);case"radiusAxis":return CV(t,n);default:return}},r9=he([zi,Yx],mC),Ay=he([zi,Wx,_ye,r9],GD);he([qx,zD,vr],cye);function i9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var wC=(t,e)=>e,SC=(t,e,n)=>n,Iye=he(ZA,wC,SC,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i9)),Lye=he(eC,wC,SC,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(i9)),a9=(t,e)=>({width:t.width,height:e.height}),Oye=(t,e)=>{var n=typeof e.width=="number"?e.width:jx;return{width:n,height:t.height}},jye=he(ii,Yu,a9),Fye=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Uye=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Bye=he(Vu,ii,Iye,wC,SC,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var u=a9(e,o);s==null&&(s=Fye(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*u.height,s+=(c?-1:1)*u.height}),a}),zye=he(qu,ii,Lye,wC,SC,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var u=Oye(e,o);s==null&&(s=Uye(e,r,t));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*u.width,s+=(c?-1:1)*u.width}),a}),Hye=(t,e)=>{var n=Yu(t,e);if(n!=null)return Bye(t,n.orientation,n.mirror)},Gye=he([ii,Yu,Hye,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),$ye=(t,e)=>{var n=Ku(t,e);if(n!=null)return zye(t,n.orientation,n.mirror)},qye=he([ii,Ku,$ye,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Vye=he(ii,Ku,(t,e)=>{var n=typeof e.width=="number"?e.width:jx;return{width:n,height:t.height}}),s9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=$u(t,r),u=e.map(c=>c.value);if(s&&o&&a==="category"&&i&&s$(u))return u}},qD=he([cn,xC,zi,vr],s9),o9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=$u(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},VD=he([cn,xC,$x,vr],o9),WB=he([cn,nye,Wx,Ay,qD,VD,Yx,$D,vr],(t,e,n,r,i,a,s,o,u)=>{if(e!=null){var c=$u(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),Wye=(t,e,n,r,i,a,s,o,u)=>{if(!(e==null||r==null)){var c=$u(t,u),{type:f,ticks:h,tickCount:g}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=f==="category"&&r.bandwidth?r.bandwidth()/v:0;w=u==="angleAxis"&&a!=null&&a.length>=2?Ps(a[0]-a[1])*2*w:w;var E=h||i;if(E){var A=E.map((_,M)=>{var R=s?s.indexOf(_):_;return{index:M,coordinate:r(R)+w,value:_,offset:w}});return A.filter(_=>Un(_.coordinate))}return c&&o?o.map((_,M)=>({coordinate:r(_)+w,value:_,index:M,offset:w})).filter(_=>Un(_.coordinate)):r.ticks?r.ticks(g).map(_=>({coordinate:r(_)+w,value:_,offset:w})):r.domain().map((_,M)=>({coordinate:r(_)+w,value:s?s[_]:_,index:M,offset:w}))}},l9=he([cn,$x,Wx,Ay,$D,Yx,qD,VD,vr],Wye),Yye=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=$u(t,s),{tickCount:u}=e,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ps(r[0]-r[1])*2*c:c,o&&a?a.map((f,h)=>({coordinate:n(f)+c,value:f,index:h,offset:c})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+c,value:f,offset:c})):n.domain().map((f,h)=>({coordinate:n(f)+c,value:i?i[f]:f,index:h,offset:c}))}},u9=he([cn,$x,Ay,Yx,qD,VD,vr],Yye),c9=he(zi,Ay,(t,e)=>{if(!(t==null||e==null))return ME(ME({},t),{},{scale:e})}),Kye=he([zi,Wx,HD,r9],GD);he((t,e,n)=>FD(t,n),Kye,(t,e)=>{if(!(t==null||e==null))return ME(ME({},t),{},{scale:e})});var Xye=he([cn,ZA,eC],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),d9=t=>t.options.defaultTooltipEventType,f9=t=>t.options.validateTooltipEventTypes;function h9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function WD(t,e){var n=d9(t),r=f9(t);return h9(e,n,r)}function Jye(t){return Je(e=>WD(e,t))}var p9=(t,e)=>{var n,r=Number(e);if(!(po(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Qye=t=>t.tooltip.settings,Nc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Zye={itemInteraction:{click:Nc,hover:Nc},axisInteraction:{click:Nc,hover:Nc},keyboardInteraction:Nc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},m9=ha({name:"tooltip",initialState:Zye,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Sn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fo(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Sn()},removeTooltipEntrySettings:{reducer(t,e){var n=fo(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Sn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:eve,replaceTooltipEntrySettings:tve,removeTooltipEntrySettings:nve,setTooltipSettingsState:rve,setActiveMouseOverItemIndex:ive,mouseLeaveItem:w_e,mouseLeaveChart:g9,setActiveClickItemIndex:S_e,setMouseOverAxisIndex:y9,setMouseClickAxisIndex:ave,setSyncInteraction:hM,setKeyboardInteraction:pM}=m9.actions,sve=m9.reducer;function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function US(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){ove(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ove(t,e,n){return(e=lve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lve(t){var e=uve(t,"string");return typeof e=="symbol"?e:e+""}function uve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cve(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function dve(t){return t.index!=null}var v9=(t,e,n,r)=>{if(e==null)return Nc;var i=cve(t,e,n);if(i==null)return Nc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(dve(i)){if(a)return US(US({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return US(US({},Nc),{},{coordinate:i.coordinate})};function fve(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function hve(t,e){var n=fve(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function pve(t,e,n){if(n==null||e==null)return!0;var r=Ai(t,e);return r==null||!kd(n)?!0:hve(r,n)}var YD=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var a=Number(i);if(!Un(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(s,Math.min(a,o)),c=e[u];return c==null||pve(c,n,r)?String(u):null},b9=(t,e,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var u=s[0],c=u==null?void 0:o(u.positions,a);if(c!=null)return c;var f=i==null?void 0:i[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},x9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Kx=t=>t.options.tooltipPayloadSearcher,Cy=t=>t.tooltip;function KB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(n),!0).forEach(function(r){mve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mve(t,e,n){return(e=gve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gve(t){var e=yve(t,"string");return typeof e=="symbol"?e:e+""}function yve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vve(t,e){return t??e}var w9=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:c,dataEndIndex:f}=n,h=[];return t.reduce((g,v)=>{var w,{dataDefinedOnItem:E,settings:A}=v,_=vve(E,o),M=Array.isArray(_)?J$(_,c,f):_,R=(w=A==null?void 0:A.dataKey)!==null&&w!==void 0?w:r,I=A==null?void 0:A.nameKey,D;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&s==="axis"?D=o$(M,r,i):D=a(M,e,u,I),Array.isArray(D))D.forEach(P=>{var B=XB(XB({},A),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});g.push(bU({tooltipEntrySettings:B,dataKey:P.dataKey,payload:P.payload,value:Ai(P.payload,P.dataKey),name:P.name}))});else{var k;g.push(bU({tooltipEntrySettings:A,dataKey:R,payload:D,value:Ai(D,R),name:(k=Ai(D,I))!==null&&k!==void 0?k:A==null?void 0:A.name}))}return g},h)}},KD=he([xr,cn,MV,MD,br],ZV),bve=he([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),xve=he([br,Sy],PV),Xx=he([bve,xr,xve],DV,{memoizeOptions:{resultEqualityCheck:bC}}),wve=he([Xx],t=>t.filter(jD)),Sve=he([Xx],OV,{memoizeOptions:{resultEqualityCheck:bC}}),_y=he([Sve,Hd],jV),Eve=he([wve,Hd,xr],TV),XD=he([_y,xr,Xx],FV),S9=he([xr],BD),Ave=he([xr],t=>t.allowDataOverflow),E9=he([S9,Ave],sV),Cve=he([Xx],t=>t.filter(jD)),_ve=he([Eve,Cve,pC,xV],BV),Tve=he([_ve,Hd,br,E9],zV),Nve=he([Xx],LV),Rve=he([_y,xr,Nve,zD,br],$V,{memoizeOptions:{resultEqualityCheck:vC}}),Mve=he([qV,br,Sy],Ey),Pve=he([Mve,br],YV),kve=he([VV,br,Sy],Ey),Dve=he([kve,br],KV),Ive=he([WV,br,Sy],Ey),Lve=he([Ive,br],XV),Ove=he([Pve,Lve,Dve],PE),jve=he([xr,S9,E9,Tve,Rve,Ove,cn,br],JV),Jx=he([xr,cn,_y,XD,pC,br,jve],QV),Fve=he([Jx,xr,KD],e9),Uve=he([xr,Jx,Fve,br],t9),A9=t=>{var e=br(t),n=Sy(t),r=!1;return Yx(t,e,n,r)},C9=he([xr,A9],mC),_9=he([xr,KD,Uve,C9],GD),Bve=he([cn,XD,xr,br],s9),zve=he([cn,XD,xr,br],o9),Hve=(t,e,n,r,i,a,s,o)=>{if(e){var{type:u}=e,c=$u(t,o);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ps(i[0]-i[1])*2*h:h,c&&s?s.map((g,v)=>({coordinate:r(g)+h,value:g,index:v,offset:h})):r.domain().map((g,v)=>({coordinate:r(g)+h,value:a?a[g]:g,index:v,offset:h}))}}},Xu=he([cn,xr,KD,_9,A9,Bve,zve,br],Hve),JD=he([d9,f9,Qye],(t,e,n)=>h9(n.shared,t,e)),T9=t=>t.tooltip.settings.trigger,QD=t=>t.tooltip.settings.defaultIndex,Qx=he([Cy,JD,T9,QD],v9),I0=he([Qx,_y,Vx,Jx],YD),N9=he([Xu,I0],p9),Gve=he([Qx],t=>{if(t)return t.dataKey});he([Qx],t=>{if(t)return t.graphicalItemId});var R9=he([Cy,JD,T9,QD],x9),$ve=he([qu,Vu,cn,ii,Xu,QD,R9,Kx],b9),qve=he([Qx,$ve],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Vve=he([Qx],t=>t.active),Wve=he([R9,I0,Hd,Vx,N9,Kx,JD],w9),Yve=he([Wve],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function JB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(n),!0).forEach(function(r){Kve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kve(t,e,n){return(e=Xve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xve(t){var e=Jve(t,"string");return typeof e=="symbol"?e:e+""}function Jve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qve=()=>Je(xr),Zve=()=>{var t=Qve(),e=Je(Xu),n=Je(_9);return cE(!t||!n?void 0:QB(QB({},t),{},{scale:n}),e)};function ZB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(r){e0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0e(t,e,n){return(e=t0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return typeof e=="symbol"?e:e+""}function n0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r0e=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},i0e=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return qp(qp(qp({},r),ei(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:u}=r;return qp(qp(qp({},r),ei(r.cx,r.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function a0e(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var M9=(t,e,n,r,i)=>{var a,s=-1,o=(a=e==null?void 0:e.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<o;u++){var c=u>0?n[u-1].coordinate:n[o-1].coordinate,f=n[u].coordinate,h=u>=o-1?n[0].coordinate:n[u+1].coordinate,g=void 0;if(Ps(f-c)!==Ps(h-f)){var v=[];if(Ps(h-f)===Ps(i[1]-i[0])){g=h;var w=f+i[1]-i[0];v[0]=Math.min(w,(w+c)/2),v[1]=Math.max(w,(w+c)/2)}else{g=c;var E=h+i[1]-i[0];v[0]=Math.min(f,(E+f)/2),v[1]=Math.max(f,(E+f)/2)}var A=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(t>A[0]&&t<=A[1]||t>=v[0]&&t<=v[1]){({index:s}=n[u]);break}}else{var _=Math.min(c,h),M=Math.max(c,h);if(t>(_+f)/2&&t<=(M+f)/2){({index:s}=n[u]);break}}}else if(e){for(var R=0;R<o;R++)if(R===0&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R>0&&R<o-1&&t>(e[R].coordinate+e[R-1].coordinate)/2&&t<=(e[R].coordinate+e[R+1].coordinate)/2||R===o-1&&t>(e[R].coordinate+e[R-1].coordinate)/2){({index:s}=e[R]);break}}return s},P9=()=>Je(MD),ZD=(t,e)=>e,k9=(t,e,n)=>n,eI=(t,e,n,r)=>r,s0e=he(Xu,t=>$A(t,e=>e.coordinate)),tI=he([Cy,ZD,k9,eI],v9),nI=he([tI,_y,Vx,Jx],YD),o0e=(t,e,n)=>{if(e!=null){var r=Cy(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},D9=he([Cy,ZD,k9,eI],x9),kE=he([qu,Vu,cn,ii,Xu,eI,D9,Kx],b9),l0e=he([tI,kE],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),I9=he([Xu,nI],p9),u0e=he([D9,nI,Hd,Vx,I9,Kx,ZD],w9),c0e=he([tI,nI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),d0e=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&a0e(t,s)){var o=Ode(t,e),u=M9(o,a,i,n,r),c=r0e(e,i,u,t);return{activeIndex:String(u),activeCoordinate:c}}},f0e=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=Whe(t,n);if(o){var u=jde(o,e),c=M9(u,s,a,r,i),f=i0e(e,a,c,o);return{activeIndex:String(c),activeCoordinate:f}}}},h0e=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?d0e(t,e,r,i,a,s,o):f0e(t,e,n,r,i,a,s)},p0e=he(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),m0e=he(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Ii)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Jge}});function ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(n),!0).forEach(function(r){g0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g0e(t,e,n){return(e=y0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y0e(t){var e=v0e(t,"string");return typeof e=="symbol"?e:e+""}function v0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b0e={},x0e={zIndexMap:Object.values(Ii).reduce((t,e)=>tz(tz({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),b0e)},w0e=new Set(Object.values(Ii));function S0e(t){return w0e.has(t)}var L9=ha({name:"zIndex",initialState:x0e,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Sn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!S0e(n)&&delete t.zIndexMap[n])},prepare:Sn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Sn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Sn()}}}),{registerZIndexPortal:E0e,unregisterZIndexPortal:A0e,registerZIndexPortalId:C0e,unregisterZIndexPortalId:_0e}=L9.actions,T0e=L9.reducer;function Ju(t){var{zIndex:e,children:n}=t,r=yfe(),i=r&&e!==void 0&&e!==0,a=pa(),s=jr();T.useLayoutEffect(()=>i?(s(E0e({zIndex:e})),()=>{s(A0e({zIndex:e}))}):Dx,[s,e,i]);var o=Je(c=>p0e(c,e,a));if(!i)return n;if(!o)return null;var u=document.getElementById(o);return u?DA.createPortal(n,u):null}function mM(){return mM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mM.apply(null,arguments)}function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){N0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N0e(t,e,n){return(e=R0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R0e(t){var e=M0e(t,"string");return typeof e=="symbol"?e:e+""}function M0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P0e(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return T.isValidElement(e)?T.cloneElement(e,r):T.createElement(n,r)}function k0e(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:c,chartName:f}=t,h=n,g=r,v=i;if(!u||!h||f!=="ScatterChart"&&c!=="axis")return null;var w,E,A;if(f==="ScatterChart")w=h,E=ahe,A=Ii.cursorLine;else if(f==="BarChart")w=she(o,h,a,s),E=jhe,A=Ii.cursorRectangle;else if(o==="radial"&&l$(h)){var{cx:_,cy:M,radius:R,startAngle:I,endAngle:D}=Eq(h);w={cx:_,cy:M,startAngle:I,endAngle:D,innerRadius:R,outerRadius:R},E=Jhe,A=Ii.cursorLine}else w={points:Qhe(o,h,a)},E=o1,A=Ii.cursorLine;var k=typeof u=="object"&&"className"in u?u.className:void 0,P=BS(BS(BS(BS({stroke:"#ccc",pointerEvents:"none"},a),w),BA(u)),{},{payload:g,payloadIndex:v,className:Gt("recharts-tooltip-cursor",k)});return T.createElement(Ju,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},T.createElement(P0e,{cursor:u,cursorComp:E,cursorProps:P}))}function D0e(t){var e=Zve(),n=oq(),r=Fx(),i=P9();return e==null||n==null||r==null||i==null?null:T.createElement(k0e,mM({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var O9=T.createContext(null),I0e=()=>T.useContext(O9),T2={exports:{}},rz;function L0e(){return rz||(rz=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function a(u,c,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||u,g),w=n?n+c:c;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],v]:u._events[w].push(v):(u._events[w]=v,u._eventsCount++),u}function s(u,c){--u._eventsCount===0?u._events=new r:delete u._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)e.call(f,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=n?n+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,w=new Array(v);g<v;g++)w[g]=h[g].fn;return w},o.prototype.listenerCount=function(c){var f=n?n+c:c,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,f,h,g,v,w){var E=n?n+c:c;if(!this._events[E])return!1;var A=this._events[E],_=arguments.length,M,R;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),_){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,h),!0;case 4:return A.fn.call(A.context,f,h,g),!0;case 5:return A.fn.call(A.context,f,h,g,v),!0;case 6:return A.fn.call(A.context,f,h,g,v,w),!0}for(R=1,M=new Array(_-1);R<_;R++)M[R-1]=arguments[R];A.fn.apply(A.context,M)}else{var I=A.length,D;for(R=0;R<I;R++)switch(A[R].once&&this.removeListener(c,A[R].fn,void 0,!0),_){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,f);break;case 3:A[R].fn.call(A[R].context,f,h);break;case 4:A[R].fn.call(A[R].context,f,h,g);break;default:if(!M)for(D=1,M=new Array(_-1);D<_;D++)M[D-1]=arguments[D];A[R].fn.apply(A[R].context,M)}}return!0},o.prototype.on=function(c,f,h){return a(this,c,f,h,!1)},o.prototype.once=function(c,f,h){return a(this,c,f,h,!0)},o.prototype.removeListener=function(c,f,h,g){var v=n?n+c:c;if(!this._events[v])return this;if(!f)return s(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!g||w.once)&&(!h||w.context===h)&&s(this,v);else{for(var E=0,A=[],_=w.length;E<_;E++)(w[E].fn!==f||g&&!w[E].once||h&&w[E].context!==h)&&A.push(w[E]);A.length?this._events[v]=A.length===1?A[0]:A:s(this,v)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&s(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(T2)),T2.exports}var O0e=L0e();const j0e=vo(O0e);var L0=new j0e,gM="recharts.syncEvent.tooltip",iz="recharts.syncEvent.brush";function F0e(t,e){if(e){var n=Number.parseInt(e,10);if(!po(n))return t==null?void 0:t[n]}}var U0e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},j9=ha({name:"options",initialState:U0e,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),B0e=j9.reducer,{createEventEmitter:z0e}=j9.actions;function H0e(t){return t.tooltip.syncInteraction}var G0e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},F9=ha({name:"chartData",initialState:G0e,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:az,setDataStartEndIndexes:$0e,setComputedData:E_e}=F9.actions,q0e=F9.reducer,V0e=["x","y"];function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){W0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W0e(t,e,n){return(e=Y0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y0e(t){var e=K0e(t,"string");return typeof e=="symbol"?e:e+""}function K0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X0e(t,e){if(t==null)return{};var n,r,i=J0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function J0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Q0e(){var t=Je(PD),e=Je(kD),n=jr(),r=Je(wV),i=Je(Xu),a=Fx(),s=rC(),o=Je(u=>u.rootProps.className);T.useEffect(()=>{if(t==null)return Dx;var u=(c,f,h)=>{if(e!==h&&t===c){if(r==="index"){var g;if(s&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:w,y:E}=v,A=X0e(v,V0e),{x:_,y:M,width:R,height:I}=f.payload.sourceViewBox,D=Vp(Vp({},A),{},{x:s.x+(R?(w-_)/R:0)*s.width,y:s.y+(I?(E-M)/I:0)*s.height});n(Vp(Vp({},f),{},{payload:Vp(Vp({},f.payload),{},{coordinate:D})}))}else n(f);return}if(i!=null){var k;if(typeof r=="function"){var P={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},B=r(i,P);k=i[B]}else r==="value"&&(k=i.find(H=>String(H.value)===f.payload.label));var{coordinate:z}=f.payload;if(k==null||f.payload.active===!1||z==null||s==null){n(hM({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:W,y:U}=z,q=Math.min(W,s.x+s.width),Z=Math.min(U,s.y+s.height),V={x:a==="horizontal"?k.coordinate:q,y:a==="horizontal"?Z:k.coordinate},Q=hM({active:f.payload.active,coordinate:V,dataKey:f.payload.dataKey,index:String(k.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(Q)}}};return L0.on(gM,u),()=>{L0.off(gM,u)}},[o,n,e,t,r,i,a,s])}function Z0e(){var t=Je(PD),e=Je(kD),n=jr();T.useEffect(()=>{if(t==null)return Dx;var r=(i,a,s)=>{e!==s&&t===i&&n($0e(a))};return L0.on(iz,r),()=>{L0.off(iz,r)}},[n,e,t])}function ebe(){var t=jr();T.useEffect(()=>{t(z0e())},[t]),Q0e(),Z0e()}function tbe(t,e,n,r,i,a){var s=Je(v=>o0e(v,t,e)),o=Je(kD),u=Je(PD),c=Je(wV),f=Je(H0e),h=f==null?void 0:f.active,g=rC();T.useEffect(()=>{if(!h&&u!=null&&o!=null){var v=hM({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:g,graphicalItemId:void 0});L0.emit(gM,u,v,o)}},[h,n,s,i,r,o,u,c,a,g])}function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(r){nbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nbe(t,e,n){return(e=rbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rbe(t){var e=ibe(t,"string");return typeof e=="symbol"?e:e+""}function ibe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function abe(t){return t.dataKey}function sbe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(Ffe,e)}var uz=[],obe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function lbe(t){var e,n,r=ts(t,obe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:u,filterNull:c,isAnimationActive:f,offset:h,payloadUniqBy:g,position:v,reverseDirection:w,useTranslate3d:E,wrapperStyle:A,cursor:_,shared:M,trigger:R,defaultIndex:I,portal:D,axisId:k}=r,P=jr(),B=typeof I=="number"?String(I):I;T.useEffect(()=>{P(rve({shared:M,trigger:R,axisId:k,active:i,defaultIndex:B}))},[P,M,R,k,i,B]);var z=rC(),W=yq(),U=Jye(M),{activeIndex:q,isActive:Z}=(e=Je(Ce=>c0e(Ce,U,R,B)))!==null&&e!==void 0?e:{},V=Je(Ce=>u0e(Ce,U,R,B)),Q=Je(Ce=>I9(Ce,U,R,B)),H=Je(Ce=>l0e(Ce,U,R,B)),$=V,J=I0e(),ae=(n=i??Z)!==null&&n!==void 0?n:!1,[Se,Y]=Sce([$,ae]),te=U==="axis"?Q:void 0;tbe(U,R,H,te,q,ae);var ce=D??J;if(ce==null||z==null||U==null)return null;var me=$??uz;ae||(me=uz),c&&me.length&&(me=Yue(me.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||r.includeHidden)),g,abe));var Ee=me.length>0,Me=T.createElement(qfe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:f,active:ae,coordinate:H,hasPayload:Ee,offset:h,position:v,reverseDirection:w,useTranslate3d:E,viewBox:z,wrapperStyle:A,lastBoundingBox:Se,innerRef:Y,hasPortalFromProps:!!D},sbe(u,lz(lz({},r),{},{payload:me,label:te,active:ae,activeIndex:q,coordinate:H,accessibilityLayer:W})));return T.createElement(T.Fragment,null,DA.createPortal(Me,ce),ae&&T.createElement(D0e,{cursor:_,tooltipEventType:U,coordinate:H,payload:me,index:q}))}function ube(t,e,n){return(e=cbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cbe(t){var e=dbe(t,"string");return typeof e=="symbol"?e:e+""}function dbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class fbe{constructor(e){ube(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(n),!0).forEach(function(r){pbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pbe(t,e,n){return(e=mbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mbe(t){var e=gbe(t,"string");return typeof e=="symbol"?e:e+""}function gbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ybe={cacheSize:2e3,enableCache:!0},U9=hbe({},ybe),dz=new fbe(U9.cacheSize),vbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fz="recharts_measurement_span";function bbe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var hz=(t,e)=>{try{var n=document.getElementById(fz);n||(n=document.createElement("span"),n.setAttribute("id",fz),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,vbe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},h0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vy.isSsr)return{width:0,height:0};if(!U9.enableCache)return hz(e,n);var r=bbe(e,n),i=dz.get(r);if(i)return i;var a=hz(e,n);return dz.set(r,a),a},pz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Sbe=Object.keys(B9),um="NaN";function Ebe(t,e){return t*B9[e]}class oa{static parse(e){var n,[,r,i]=(n=wbe.exec(e))!==null&&n!==void 0?n:[];return new oa(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,po(e)&&(this.unit=""),n!==""&&!xbe.test(n)&&(this.num=NaN,this.unit=""),Sbe.includes(n)&&(this.num=Ebe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new oa(NaN,""):new oa(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new oa(NaN,""):new oa(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new oa(NaN,""):new oa(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new oa(NaN,""):new oa(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return po(this.num)}}function z9(t){if(t.includes(um))return um;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=pz.exec(e))!==null&&n!==void 0?n:[],s=oa.parse(r??""),o=oa.parse(a??""),u=i==="*"?s.multiply(o):s.divide(o);if(u.isNaN())return um;e=e.replace(pz,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,f,h,g]=(c=mz.exec(e))!==null&&c!==void 0?c:[],v=oa.parse(f??""),w=oa.parse(g??""),E=h==="+"?v.add(w):v.subtract(w);if(E.isNaN())return um;e=e.replace(mz,E.toString())}return e}var gz=/\(([^()]*)\)/;function Abe(t){for(var e=t,n;(n=gz.exec(e))!=null;){var[,r]=n;e=e.replace(gz,z9(r))}return e}function Cbe(t){var e=t.replace(/\s+/g,"");return e=Abe(e),e=z9(e),e}function _be(t){try{return Cbe(t)}catch{return um}}function N2(t){var e=_be(t.slice(5,-1));return e===um?"":e}var Tbe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Nbe=["dx","dy","angle","className","breakAll"];function yM(){return yM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yM.apply(null,arguments)}function yz(t,e){if(t==null)return{};var n,r,i=Rbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var H9=/[ \f\n\r\t\v\u2028\u2029]+/,G9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];ti(e)||(n?i=e.toString().split(""):i=e.toString().split(H9));var a=i.map(o=>({word:o,width:h0(o,r).width})),s=n?0:h0("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Mbe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var $9=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||r||u.width+o+n<Number(e)))u.words.push(s),u.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),q9=t=>t.reduce((e,n)=>e.width>n.width?e:n),Pbe="",vz=(t,e,n,r,i,a,s,o)=>{var u=t.slice(0,e),c=G9({breakAll:n,style:r,children:u+Pbe});if(!c)return[!1,[]];var f=$9(c.wordsWithComputedWidth,a,s,o),h=f.length>i||q9(f).width>Number(a);return[h,f]},kbe=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:u}=t,c=Ye(a),f=String(s),h=$9(e,r,n,i);if(!c||i)return h;var g=h.length>a||q9(h).width>Number(r);if(!g)return h;for(var v=0,w=f.length-1,E=0,A;v<=w&&E<=f.length-1;){var _=Math.floor((v+w)/2),M=_-1,[R,I]=vz(f,M,u,o,a,r,n,i),[D]=vz(f,_,u,o,a,r,n,i);if(!R&&!D&&(v=_+1),R&&D&&(w=_-1),!R&&D){A=I;break}E++}return A||h},bz=t=>{var e=ti(t)?[]:t.toString().split(H9);return[{words:e,width:void 0}]},Dbe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!vy.isSsr){var o,u,c=G9({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:f,spaceWidth:h}=c;o=f,u=h}else return bz(r);return kbe({breakAll:a,children:r,maxLines:s,style:i},o,u,e,!!n)}return bz(r)},V9="#808080",Ibe={angle:0,breakAll:!1,capHeight:"0.71em",fill:V9,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rI=T.forwardRef((t,e)=>{var n=ts(t,Ibe),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:u,textAnchor:c,verticalAnchor:f}=n,h=yz(n,Tbe),g=T.useMemo(()=>Dbe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:v,dy:w,angle:E,className:A,breakAll:_}=h,M=yz(h,Nbe);if(!al(r)||!al(i)||g.length===0)return null;var R=Number(r)+(Ye(v)?v:0),I=Number(i)+(Ye(w)?w:0);if(!Un(R)||!Un(I))return null;var D;switch(f){case"start":D=N2("calc(".concat(s,")"));break;case"middle":D=N2("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:D=N2("calc(".concat(g.length-1," * -").concat(a,")"));break}var k=[];if(u){var P=g[0].width,{width:B}=h;k.push("scale(".concat(Ye(B)&&Ye(P)?B/P:1,")"))}return E&&k.push("rotate(".concat(E,", ").concat(R,", ").concat(I,")")),k.length&&(M.transform=k.join(" ")),T.createElement("text",yM({},Os(M),{ref:e,x:R,y:I,className:Gt("recharts-text",A),textAnchor:c,fill:o.includes("url")?V9:o}),g.map((z,W)=>{var U=z.words.join(_?"":" ");return T.createElement("tspan",{x:R,dy:W===0?D:a,key:"".concat(U,"-").concat(W)},U)}))});rI.displayName="Text";var Lbe=["labelRef"];function Obe(t,e){if(t==null)return{};var n,r,i=jbe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(n),!0).forEach(function(r){Fbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fbe(t,e,n){return(e=Ube(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ube(t){var e=Bbe(t,"string");return typeof e=="symbol"?e:e+""}function Bbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(null,arguments)}var W9=T.createContext(null),zbe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,u=T.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return T.createElement(W9.Provider,{value:u},o)},Y9=()=>{var t=T.useContext(W9),e=rC();return t||sq(e)},Hbe=T.createContext(null),Gbe=()=>{var t=T.useContext(Hbe),e=Je(_V);return t||e},$be=t=>{var{value:e,formatter:n}=t,r=ti(t.children)?e:t.children;return typeof n=="function"?n(r):r},iI=t=>t!=null&&typeof t=="function",qbe=(t,e)=>{var n=Ps(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Vbe=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:u,innerRadius:c,outerRadius:f,startAngle:h,endAngle:g,clockWise:v}=i,w=(c+f)/2,E=qbe(h,g),A=E>=0?1:-1,_,M;switch(e){case"insideStart":_=h+A*a,M=v;break;case"insideEnd":_=g-A*a,M=!v;break;case"end":_=g+A*a,M=v;break;default:throw new Error("Unsupported position ".concat(e))}M=E<=0?M:!M;var R=ei(o,u,w,_),I=ei(o,u,w,_+(M?1:-1)*359),D="M".concat(R.x,",").concat(R.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(M?0:1,`,
    `).concat(I.x,",").concat(I.y),k=ti(t.id)?w0("recharts-radial-line-"):t.id;return T.createElement("text",vu({},r,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:k,d:D})),T.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Wbe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:u}=t,c=(o+u)/2;if(n==="outside"){var{x:f,y:h}=ei(r,i,s+e,c);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:v,y:w}=ei(r,i,g,c);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},vM=t=>"cx"in t&&Ye(t.cx),Ybe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!vM(n)&&(a=n);var{x:s,y:o,upperWidth:u,lowerWidth:c,height:f}=e,h=s,g=s+(u-c)/2,v=(h+g)/2,w=(u+c)/2,E=h+u/2,A=f>=0?1:-1,_=A*r,M=A>0?"end":"start",R=A>0?"start":"end",I=u>=0?1:-1,D=I*r,k=I>0?"end":"start",P=I>0?"start":"end";if(i==="top"){var B={x:h+u/2,y:o-_,textAnchor:"middle",verticalAnchor:M};return Gn(Gn({},B),a?{height:Math.max(o-a.y,0),width:u}:{})}if(i==="bottom"){var z={x:g+c/2,y:o+f+_,textAnchor:"middle",verticalAnchor:R};return Gn(Gn({},z),a?{height:Math.max(a.y+a.height-(o+f),0),width:c}:{})}if(i==="left"){var W={x:v-D,y:o+f/2,textAnchor:k,verticalAnchor:"middle"};return Gn(Gn({},W),a?{width:Math.max(W.x-a.x,0),height:f}:{})}if(i==="right"){var U={x:v+w+D,y:o+f/2,textAnchor:P,verticalAnchor:"middle"};return Gn(Gn({},U),a?{width:Math.max(a.x+a.width-U.x,0),height:f}:{})}var q=a?{width:w,height:f}:{};return i==="insideLeft"?Gn({x:v+D,y:o+f/2,textAnchor:P,verticalAnchor:"middle"},q):i==="insideRight"?Gn({x:v+w-D,y:o+f/2,textAnchor:k,verticalAnchor:"middle"},q):i==="insideTop"?Gn({x:h+u/2,y:o+_,textAnchor:"middle",verticalAnchor:R},q):i==="insideBottom"?Gn({x:g+c/2,y:o+f-_,textAnchor:"middle",verticalAnchor:M},q):i==="insideTopLeft"?Gn({x:h+D,y:o+_,textAnchor:P,verticalAnchor:R},q):i==="insideTopRight"?Gn({x:h+u-D,y:o+_,textAnchor:k,verticalAnchor:R},q):i==="insideBottomLeft"?Gn({x:g+D,y:o+f-_,textAnchor:P,verticalAnchor:M},q):i==="insideBottomRight"?Gn({x:g+c-D,y:o+f-_,textAnchor:k,verticalAnchor:M},q):i&&typeof i=="object"&&(Ye(i.x)||Ru(i.x))&&(Ye(i.y)||Ru(i.y))?Gn({x:s+Pd(i.x,w),y:o+Pd(i.y,f),textAnchor:"end",verticalAnchor:"end"},q):Gn({x:E,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},q)},Kbe={angle:0,offset:5,zIndex:Ii.label,position:"middle",textBreakAll:!1};function _c(t){var e=ts(t,Kbe),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:u,labelRef:c}=e,f=Gbe(),h=Y9(),g=r==="center"?h:f??h,v,w,E;if(n==null?v=g:vM(n)?v=n:v=sq(n),!v||ti(i)&&ti(a)&&!T.isValidElement(s)&&typeof s!="function")return null;var A=Gn(Gn({},e),{},{viewBox:v});if(T.isValidElement(s)){var{labelRef:_}=A,M=Obe(A,Lbe);return T.cloneElement(s,M)}if(typeof s=="function"){if(w=T.createElement(s,A),T.isValidElement(w))return w}else w=$be(e);var R=Os(e);if(vM(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Vbe(e,r,w,R,v);E=Wbe(v,e.offset,e.position)}else E=Ybe(e,v);return T.createElement(Ju,{zIndex:e.zIndex},T.createElement(rI,vu({ref:c,className:Gt("recharts-label",o)},R,E,{textAnchor:Mbe(R.textAnchor)?R.textAnchor:E.textAnchor,breakAll:u}),w))}_c.displayName="Label";var Xbe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(_c,vu({key:"label-implicit"},r)):al(t)?T.createElement(_c,vu({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===_c?T.cloneElement(t,Gn({key:"label-implicit"},r)):T.createElement(_c,vu({key:"label-implicit",content:t},r)):iI(t)?T.createElement(_c,vu({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(_c,vu({},t,{key:"label-implicit"},r)):null};function Jbe(t){var{label:e,labelRef:n}=t,r=Y9();return Xbe(e,r,n)||null}var R2={},M2={},wz;function Qbe(){return wz||(wz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(M2)),M2}var P2={},Sz;function Zbe(){return Sz||(Sz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(P2)),P2}var Ez;function exe(){return Ez||(Ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qbe(),n=Zbe(),r=qk();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(R2)),R2}var k2,Az;function txe(){return Az||(Az=1,k2=exe().last),k2}var nxe=txe();const rxe=vo(nxe);var ixe=["valueAccessor"],axe=["dataKey","clockWise","id","textBreakAll","zIndex"];function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(null,arguments)}function Cz(t,e){if(t==null)return{};var n,r,i=sxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var oxe=t=>Array.isArray(t.value)?rxe(t.value):t.value,K9=T.createContext(void 0),lxe=K9.Provider,X9=T.createContext(void 0);X9.Provider;function uxe(){return T.useContext(K9)}function cxe(){return T.useContext(X9)}function u1(t){var{valueAccessor:e=oxe}=t,n=Cz(t,ixe),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,u=Cz(n,axe),c=uxe(),f=cxe(),h=c||f;return!h||!h.length?null:T.createElement(Ju,{zIndex:o??Ii.label},T.createElement(il,{className:"recharts-label-list"},h.map((g,v)=>{var w,E=ti(r)?e(g,v):Ai(g&&g.payload,r),A=ti(a)?{}:{id:"".concat(a,"-").concat(v)};return T.createElement(_c,DE({key:"label-".concat(v)},Os(g),u,A,{fill:(w=n.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:E,textBreakAll:s,viewBox:g.viewBox,index:v,zIndex:0}))})))}u1.displayName="LabelList";function dxe(t){var{label:e}=t;return e?e===!0?T.createElement(u1,{key:"labelList-implicit"}):T.isValidElement(e)||iI(e)?T.createElement(u1,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(u1,DE({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function bM(){return bM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bM.apply(null,arguments)}var J9=t=>{var{cx:e,cy:n,r,className:i}=t,a=Gt("recharts-dot",i);return Ye(e)&&Ye(n)&&Ye(r)?T.createElement("circle",bM({},ho(t),$k(t),{className:a,cx:e,cy:n,r})):null},fxe={radiusAxis:{},angleAxis:{}},Q9=ha({name:"polarAxis",initialState:fxe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:A_e,removeRadiusAxis:C_e,addAngleAxis:__e,removeAngleAxis:T_e}=Q9.actions,hxe=Q9.reducer,Z9=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function pxe(t){var{tooltipEntrySettings:e}=t,n=jr(),r=pa(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(eve(e)):i.current!==e&&n(tve({prev:i.current,next:e})),i.current=e)},[e,n,r]),T.useLayoutEffect(()=>()=>{i.current&&(n(nve(i.current)),i.current=null)},[n]),null}function mxe(t){var{legendPayload:e}=t,n=jr(),r=pa(),i=T.useRef(null);return T.useLayoutEffect(()=>{r||(i.current===null?n(Mfe(e)):i.current!==e&&n(Pfe({prev:i.current,next:e})),i.current=e)},[n,r,e]),T.useLayoutEffect(()=>()=>{i.current&&(n(kfe(i.current)),i.current=null)},[n]),null}var D2,gxe=()=>{var[t]=T.useState(()=>w0("uid-"));return t},yxe=(D2=XP.useId)!==null&&D2!==void 0?D2:gxe;function eW(t,e){var n=yxe();return e||(t?"".concat(t,"-").concat(n):n)}var vxe=T.createContext(void 0),bxe=t=>{var{id:e,type:n,children:r}=t,i=eW("recharts-".concat(n),e);return T.createElement(vxe.Provider,{value:i},r(i))},xxe={cartesianItems:[],polarItems:[]},tW=ha({name:"graphicalItems",initialState:xxe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Sn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=fo(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Sn()},removeCartesianGraphicalItem:{reducer(t,e){var n=fo(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Sn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Sn()},removePolarGraphicalItem:{reducer(t,e){var n=fo(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Sn()}}}),{addCartesianGraphicalItem:wxe,replaceCartesianGraphicalItem:Sxe,removeCartesianGraphicalItem:Exe,addPolarGraphicalItem:N_e,removePolarGraphicalItem:R_e}=tW.actions,Axe=tW.reducer,Cxe=t=>{var e=jr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(wxe(t)):n.current!==t&&e(Sxe({prev:n.current,next:t})),n.current=t},[e,t]),T.useLayoutEffect(()=>()=>{n.current&&(e(Exe(n.current)),n.current=null)},[e]),null},_xe=T.memo(Cxe),Txe=["points"];function _z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(n),!0).forEach(function(r){Nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nxe(t,e,n){return(e=Rxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rxe(t){var e=Mxe(t,"string");return typeof e=="symbol"?e:e+""}function Mxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(null,arguments)}function Pxe(t,e){if(t==null)return{};var n,r,i=kxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dxe(t){var{option:e,dotProps:n,className:r}=t;if(T.isValidElement(e))return T.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Gt(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=Pxe(a,Txe);return T.createElement(J9,IE({},o,{className:i}))}function Ixe(t,e){return t==null?!1:e?!0:t.length===1}function Lxe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:u,zIndex:c=Ii.scatter}=t;if(!Ixe(e,n))return null;var f=Z9(n),h=Hle(n),g=e.map((w,E)=>{var A,_,M=I2(I2(I2({r:3},s),h),{},{index:E,cx:(A=w.x)!==null&&A!==void 0?A:void 0,cy:(_=w.y)!==null&&_!==void 0?_:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return T.createElement(Dxe,{key:"dot-".concat(E),option:n,dotProps:M,className:i})}),v={};return o&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),T.createElement(Ju,{zIndex:c},T.createElement(il,IE({className:r},v),g))}function Tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tz(Object(n),!0).forEach(function(r){Oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oxe(t,e,n){return(e=jxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jxe(t){var e=Fxe(t,"string");return typeof e=="symbol"?e:e+""}function Fxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uxe={xAxis:{},yAxis:{},zAxis:{}},nW=ha({name:"cartesianAxis",initialState:Uxe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Sn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Sn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Sn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Sn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Sn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Sn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Sn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Sn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Sn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);t.yAxis[n]=Nz(Nz({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Bxe,replaceXAxis:zxe,removeXAxis:Hxe,addYAxis:Gxe,replaceYAxis:$xe,removeYAxis:qxe,addZAxis:M_e,replaceZAxis:P_e,removeZAxis:k_e,updateYAxisWidth:Vxe}=nW.actions,Wxe=nW.reducer,Yxe=he([ii],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Kxe=he([Yxe,qu,Vu],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),aI=()=>Je(Kxe),Xxe=()=>Je(Yve);function Rz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(n),!0).forEach(function(r){Jxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jxe(t,e,n){return(e=Qxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qxe(t){var e=Zxe(t,"string");return typeof e=="symbol"?e:e+""}function Zxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ewe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=L2(L2(L2({},o),BA(i)),$k(i)),c;return T.isValidElement(i)?c=T.cloneElement(i,u):typeof i=="function"?c=i(u):c=T.createElement(J9,u),T.createElement(il,{className:"recharts-active-dot",clipPath:s},c)};function Mz(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=Ii.activeDot}=t,o=Je(I0),u=Xxe();if(e==null||u==null)return null;var c=e.find(f=>u.includes(f.payload));return ti(c)?null:T.createElement(Ju,{zIndex:s},T.createElement(ewe,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var twe="Invariant failed";function rn(t,e){if(!t)throw new Error(twe)}var nwe={},rW=ha({name:"errorBars",initialState:nwe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:D_e,replaceErrorBar:I_e,removeErrorBar:L_e}=rW.actions,rwe=rW.reducer;function iW(t,e){var n,r,i=Je(c=>Yu(c,t)),a=Je(c=>Ku(c,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ar.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Cr.allowDataOverflow,u=s||o;return{needClip:u,needClipX:s,needClipY:o}}function iwe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=aI(),{needClipX:a,needClipY:s,needClip:o}=iW(e,n);if(!o||!i)return null;var{x:u,y:c,width:f,height:h}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:a?u:u-f/2,y:s?c:c-h/2,width:a?f:f*2,height:s?h:h*2}))}var O2={exports:{}},j2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pz;function awe(){if(Pz)return j2;Pz=1;var t=dy();function e(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return j2.useSyncExternalStoreWithSelector=function(u,c,f,h,g){var v=i(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=s(function(){function A(D){if(!_){if(_=!0,M=D,D=h(D),g!==void 0&&w.hasValue){var k=w.value;if(g(k,D))return R=k}return R=D}if(k=R,n(M,D))return k;var P=h(D);return g!==void 0&&g(k,P)?(M=D,k):(M=D,R=P)}var _=!1,M,R,I=f===void 0?null:f;return[function(){return A(c())},I===null?void 0:function(){return A(I())}]},[c,f,h,g]);var E=r(u,v[0],v[1]);return a(function(){w.hasValue=!0,w.value=E},[E]),o(E),E},j2}var kz;function swe(){return kz||(kz=1,O2.exports=awe()),O2.exports}swe();function owe(t){t()}function lwe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){owe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Dz={notify(){},get:()=>[]};function uwe(t,e){let n,r=Dz,i=0,a=!1;function s(E){f();const A=r.subscribe(E);let _=!1;return()=>{_||(_=!0,A(),h())}}function o(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function c(){return a}function f(){i++,n||(n=t.subscribe(u),r=lwe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Dz)}function g(){a||(a=!0,f())}function v(){a&&(a=!1,h())}const w={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:c,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return w}var cwe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dwe=cwe(),fwe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hwe=fwe(),pwe=()=>dwe||hwe?T.useLayoutEffect:T.useEffect,mwe=pwe();function Iz(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function gwe(t,e){if(Iz(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Iz(t[n[i]],e[n[i]]))return!1;return!0}var F2=Symbol.for("react-redux-context"),U2=typeof globalThis<"u"?globalThis:{};function ywe(){if(!T.createContext)return{};const t=U2[F2]??(U2[F2]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var vwe=ywe();function bwe(t){const{children:e,context:n,serverState:r,store:i}=t,a=T.useMemo(()=>{const u=uwe(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=T.useMemo(()=>i.getState(),[i]);mwe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const o=n||vwe;return T.createElement(o.Provider,{value:a},e)}var xwe=bwe,wwe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Swe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function sI(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(wwe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!gwe(t[r],e[r]))return!1}else if(!Swe(t[r],e[r]))return!1;return!0}var Ewe=t=>{var{chartData:e}=t,n=jr(),r=pa();return T.useEffect(()=>r?()=>{}:(n(az(e)),()=>{n(az(void 0))}),[e,n,r]),null},Lz={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aW=ha({name:"brush",initialState:Lz,reducers:{setBrushSettings(t,e){return e.payload==null?Lz:e.payload}}}),{setBrushSettings:O_e}=aW.actions,Awe=aW.reducer;function Cwe(t,e,n){return(e=_we(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _we(t){var e=Twe(t,"string");return typeof e=="symbol"?e:e+""}function Twe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class oI{static create(e){return new oI(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Cwe(oI,"EPS",1e-4);function Nwe(t){return(t%180+180)%180}var Rwe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Nwe(i),s=a*Math.PI/180,o=Math.atan(r/n),u=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},Mwe={dots:[],areas:[],lines:[]},sW=ha({name:"referenceElements",initialState:Mwe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=fo(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=fo(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=fo(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:j_e,removeDot:F_e,addArea:U_e,removeArea:B_e,addLine:z_e,removeLine:H_e}=sW.actions,Pwe=sW.reducer,kwe=T.createContext(void 0),Dwe=t=>{var{children:e}=t,[n]=T.useState("".concat(w0("recharts"),"-clip")),r=aI();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return T.createElement(kwe.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function oW(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Iwe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Rwe(r,n)}function Lwe(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function LE(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Owe(t,e){return oW(t,e+1)}function jwe(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,u=0,c=1,f=s,h=function(){var w=r==null?void 0:r[u];if(w===void 0)return{v:oW(r,c)};var E=u,A,_=()=>(A===void 0&&(A=n(w,E)),A),M=w.coordinate,R=u===0||LE(t,M,_,f,o);R||(u=0,f=s,c+=1),R&&(f=M+t*(_()/2+i),u+=c)},g;c<=a.length;)if(g=h(),g)return g.v;return[]}function Oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oz(Object(n),!0).forEach(function(r){Fwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fwe(t,e,n){return(e=Uwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uwe(t){var e=Bwe(t,"string");return typeof e=="symbol"?e:e+""}function Bwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zwe(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:u}=e,c=function(g){var v=a[g],w,E=()=>(w===void 0&&(w=n(v,g)),w);if(g===s-1){var A=t*(v.coordinate+t*E()/2-u);a[g]=v=gi(gi({},v),{},{tickCoord:A>0?v.coordinate-A*t:v.coordinate})}else a[g]=v=gi(gi({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var _=LE(t,v.tickCoord,E,o,u);_&&(u=v.tickCoord-t*(E()/2+i),a[g]=gi(gi({},v),{},{isShow:!0}))}},f=s-1;f>=0;f--)c(f);return a}function Hwe(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:u,end:c}=e;if(a){var f=r[o-1],h=n(f,o-1),g=t*(f.coordinate+t*h/2-c);if(s[o-1]=f=gi(gi({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate}),f.tickCoord!=null){var v=LE(t,f.tickCoord,()=>h,u,c);v&&(c=f.tickCoord-t*(h/2+i),s[o-1]=gi(gi({},f),{},{isShow:!0}))}}for(var w=a?o-1:o,E=function(M){var R=s[M],I,D=()=>(I===void 0&&(I=n(R,M)),I);if(M===0){var k=t*(R.coordinate-t*D()/2-u);s[M]=R=gi(gi({},R),{},{tickCoord:k<0?R.coordinate-k*t:R.coordinate})}else s[M]=R=gi(gi({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var P=LE(t,R.tickCoord,D,u,c);P&&(u=R.tickCoord+t*(D()/2+i),s[M]=gi(gi({},R),{},{isShow:!0}))}},A=0;A<w;A++)E(A);return s}function lI(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:u,tickFormatter:c,unit:f,angle:h}=t;if(!i||!i.length||!r)return[];if(Ye(u)||vy.isSsr){var g;return(g=Owe(i,Ye(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],w=o==="top"||o==="bottom"?"width":"height",E=f&&w==="width"?h0(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(R,I)=>{var D=typeof c=="function"?c(R.value,I):R.value;return w==="width"?Iwe(h0(D,{fontSize:e,letterSpacing:n}),E,h):h0(D,{fontSize:e,letterSpacing:n})[w]},_=i.length>=2?Ps(i[1].coordinate-i[0].coordinate):1,M=Lwe(a,_,w);return u==="equidistantPreserveStart"?jwe(_,M,A,i,s):(u==="preserveStart"||u==="preserveStartEnd"?v=Hwe(_,M,A,i,s,u==="preserveStartEnd"):v=zwe(_,M,A,i,s),v.filter(R=>R.isShow))}var Gwe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>s&&(s=h.width)}});var o=n?n.getBoundingClientRect().width:0,u=i+a,c=s+u+o+(n?r:0);return Math.round(c)}return 0},$we=["axisLine","width","height","className","hide","ticks","axisType"];function qwe(t,e){if(t==null)return{};var n,r,i=Vwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(null,arguments)}function jz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(n),!0).forEach(function(r){Wwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wwe(t,e,n){return(e=Ywe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ywe(t){var e=Kwe(t,"string");return typeof e=="symbol"?e:e+""}function Kwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ii.axis};function Xwe(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var c=nr(nr(nr({},u),ho(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);c=nr(nr({},c),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);c=nr(nr({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return T.createElement("line",Kh({},c,{className:Gt("recharts-cartesian-axis-line",GA(o,"className"))}))}function Jwe(t,e,n,r,i,a,s,o,u){var c,f,h,g,v,w,E=o?-1:1,A=t.tickSize||s,_=Ye(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":c=f=t.coordinate,g=n+ +!o*i,h=g-E*A,w=h-E*u,v=_;break;case"left":h=g=t.coordinate,f=e+ +!o*r,c=f-E*A,v=c-E*u,w=_;break;case"right":h=g=t.coordinate,f=e+ +o*r,c=f+E*A,v=c+E*u,w=_;break;default:c=f=t.coordinate,g=n+ +o*i,h=g+E*A,w=h+E*u,v=_;break}return{line:{x1:c,y1:h,x2:f,y2:g},tick:{x:v,y:w}}}function Qwe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Zwe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function eSe(t){var{option:e,tickProps:n,value:r}=t,i,a=Gt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,nr(nr({},n),{},{className:a}));else if(typeof e=="function")i=e(nr(nr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=Gt(s,e==null?void 0:e.className)),i=T.createElement(rI,Kh({},n,{className:s}),r)}return i}var tSe=T.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:u,tickTextProps:c,orientation:f,mirror:h,x:g,y:v,width:w,height:E,tickSize:A,tickMargin:_,fontSize:M,letterSpacing:R,getTicksConfig:I,events:D,axisType:k}=t,P=lI(nr(nr({},I),{},{ticks:n}),M,R),B=Qwe(f,h),z=Zwe(f,h),W=ho(I),U=BA(r),q={};typeof i=="object"&&(q=i);var Z=nr(nr({},W),{},{fill:"none"},q),V=P.map($=>nr({entry:$},Jwe($,g,v,w,E,f,A,h,_))),Q=V.map($=>{var{entry:J,line:ae}=$;return T.createElement(il,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},i&&T.createElement("line",Kh({},Z,ae,{className:Gt("recharts-cartesian-axis-tick-line",GA(i,"className"))})))}),H=V.map(($,J)=>{var{entry:ae,tick:Se}=$,Y=nr(nr(nr(nr({textAnchor:B,verticalAnchor:z},W),{},{stroke:"none",fill:a},U),Se),{},{index:J,payload:ae,visibleTicksCount:P.length,tickFormatter:s,padding:u},c);return T.createElement(il,Kh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ae.value,"-").concat(ae.coordinate,"-").concat(ae.tickCoord)},Aue(D,ae,J)),r&&T.createElement(eSe,{option:r,tickProps:Y,value:"".concat(typeof s=="function"?s(ae.value,J):ae.value).concat(o||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},H.length>0&&T.createElement(Ju,{zIndex:Ii.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:e},H)),Q.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},Q))}),nSe=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:u}=t,c=qwe(t,$we),[f,h]=T.useState(""),[g,v]=T.useState(""),w=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Gwe({ticks:w.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var E=T.useCallback(A=>{if(A){var _=A.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=_;var M=_[0];if(M){var R=window.getComputedStyle(M),I=R.fontSize,D=R.letterSpacing;(I!==f||D!==g)&&(h(I),v(D))}}},[f,g]);return s||r!=null&&r<=0||i!=null&&i<=0?null:T.createElement(Ju,{zIndex:t.zIndex},T.createElement(il,{className:Gt("recharts-cartesian-axis",a)},T.createElement(Xwe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:ho(t)}),T.createElement(tSe,{ref:E,axisType:u,events:c,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(zbe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(Jbe,{label:t.label,labelRef:t.labelRef}),t.children)))}),uI=T.forwardRef((t,e)=>{var n=ts(t,Eu);return T.createElement(nSe,Kh({},n,{ref:e}))});uI.displayName="CartesianAxis";var rSe=["x1","y1","x2","y2","key"],iSe=["offset"],aSe=["xAxisId","yAxisId"],sSe=["xAxisId","yAxisId"];function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(r){oSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oSe(t,e,n){return(e=lSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lSe(t){var e=uSe(t,"string");return typeof e=="symbol"?e:e+""}function uSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tf.apply(null,arguments)}function OE(t,e){if(t==null)return{};var n,r,i=cSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dSe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return T.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lW(t){var{option:e,lineItemProps:n}=t,r;if(T.isValidElement(e))r=T.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:u,key:c}=n,f=OE(n,rSe),h=(i=ho(f))!==null&&i!==void 0?i:{},{offset:g}=h,v=OE(h,iSe);r=T.createElement("line",Tf({},v,{x1:a,y1:s,x2:o,y2:u,fill:"none",key:c}))}return r}function fSe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=OE(t,aSe),u=i.map((c,f)=>{var h=xi(xi({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return T.createElement(lW,{key:"line-".concat(f),option:r,lineItemProps:h})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function hSe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=OE(t,sSe),u=i.map((c,f)=>{var h=xi(xi({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return T.createElement(lW,{option:r,lineItemProps:h,key:"line-".concat(f)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function pSe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var c=o.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==c[0]&&c.unshift(0);var f=c.map((h,g)=>{var v=!c[g+1],w=v?i+s-h:c[g+1]-h;if(w<=0)return null;var E=g%e.length;return T.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:w,width:a,stroke:"none",fill:e[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function mSe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var c=u.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==c[0]&&c.unshift(0);var f=c.map((h,g)=>{var v=!c[g+1],w=v?i+s-h:c[g+1]-h;if(w<=0)return null;var E=g%n.length;return T.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:w,height:o,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var gSe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return Q$(lI(xi(xi(xi({},Eu),n),{},{ticks:Z$(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},ySe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return Q$(lI(xi(xi(xi({},Eu),n),{},{ticks:Z$(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},vSe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ii.grid};function uW(t){var e=lq(),n=uq(),r=oq(),i=xi(xi({},ts(t,vSe)),{},{x:Ye(t.x)?t.x:r.left,y:Ye(t.y)?t.y:r.top,width:Ye(t.width)?t.width:r.width,height:Ye(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:u,width:c,height:f,syncWithTicks:h,horizontalValues:g,verticalValues:v}=i,w=pa(),E=Je(z=>WB(z,"xAxis",a,w)),A=Je(z=>WB(z,"yAxis",s,w));if(!sl(c)||!sl(f)||!Ye(o)||!Ye(u))return null;var _=i.verticalCoordinatesGenerator||gSe,M=i.horizontalCoordinatesGenerator||ySe,{horizontalPoints:R,verticalPoints:I}=i;if((!R||!R.length)&&typeof M=="function"){var D=g&&g.length,k=M({yAxis:A?xi(xi({},A),{},{ticks:D?g:A.ticks}):void 0,width:e??c,height:n??f,offset:r},D?!0:h);dE(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(R=k)}if((!I||!I.length)&&typeof _=="function"){var P=v&&v.length,B=_({xAxis:E?xi(xi({},E),{},{ticks:P?v:E.ticks}):void 0,width:e??c,height:n??f,offset:r},P?!0:h);dE(Array.isArray(B),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(I=B)}return T.createElement(Ju,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(dSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(pSe,Tf({},i,{horizontalPoints:R})),T.createElement(mSe,Tf({},i,{verticalPoints:I})),T.createElement(fSe,Tf({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:A})),T.createElement(hSe,Tf({},i,{offset:r,verticalPoints:I,xAxis:E,yAxis:A}))))}uW.displayName="CartesianGrid";function bSe(t){var e=BA(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var cW=(t,e,n,r)=>c9(t,"xAxis",e,r),dW=(t,e,n,r)=>u9(t,"xAxis",e,r),fW=(t,e,n,r)=>c9(t,"yAxis",n,r),hW=(t,e,n,r)=>u9(t,"yAxis",n,r),xSe=he([cn,cW,fW,dW,hW],(t,e,n,r,i)=>$u(t,"xAxis")?cE(e,r,!1):cE(n,i,!1)),wSe=(t,e,n,r,i)=>i,pW=he([kV,wSe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),SSe=(t,e,n,r,i)=>{var a,s=pW(t,e,n,r,i);if(s!=null){var o=cn(t),u=$u(o,"xAxis"),c;if(u?c=fM(t,"yAxis",n,r):c=fM(t,"xAxis",e,r),c!=null){var{stackId:f}=s,h=OD(s);if(!(f==null||h==null)){var g=(a=c[f])===null||a===void 0?void 0:a.stackedData;return g==null?void 0:g.find(v=>v.key===h)}}}},ESe=he([cn,cW,fW,dW,hW,SSe,TD,xSe,pW,qge],(t,e,n,r,i,a,s,o,u,c)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:g}=s;if(!(u==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:v}=u,w;if(v&&v.length>0?w=v:w=f==null?void 0:f.slice(h,g+1),w!=null)return HSe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:u,stackedData:a,displayedData:w,chartBaseValue:c,bandSize:o})}}),ASe=["id"],CSe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(null,arguments)}function mW(t,e){if(t==null)return{};var n,r,i=_Se(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _Se(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(n),!0).forEach(function(r){TSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TSe(t,e,n){return(e=NSe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NSe(t){var e=RSe(t,"string");return typeof e=="symbol"?e:e+""}function RSe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jE(t,e){return t&&t!=="none"?t:e}var MSe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:jE(r,i),value:eq(n,e),payload:t}]},PSe=T.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:u,tooltipType:c}=t,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:eq(s,e),hide:o,type:c,color:jE(r,a),unit:u}};return T.createElement(pxe,{tooltipEntrySettings:f})});function kSe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:a,dataKey:s}=r,o=ho(r);return T.createElement(Lxe,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function DSe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(a=>{var s,o,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return cm(cm({},u),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return T.createElement(lxe,{value:e?i:void 0},n)}function Bz(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:u,connectNulls:c,isRange:f}=a,{id:h}=a,g=mW(a,ASe),v=ho(g),w=Os(g);return T.createElement(T.Fragment,null,(e==null?void 0:e.length)>1&&T.createElement(il,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},T.createElement(o1,qh({},w,{id:h,points:e,connectNulls:c,type:o,baseLine:n,layout:s,stroke:"none",className:"recharts-area-area"})),u!=="none"&&T.createElement(o1,qh({},v,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:e})),u!=="none"&&f&&T.createElement(o1,qh({},v,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:n}))),T.createElement(kSe,{points:e,props:g,clipPathId:i}))}function ISe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].y,s=r[r.length-1].y;if(!Un(a)||!Un(s))return null;var o=e*Math.abs(a-s),u=Math.max(...r.map(c=>c.x||0));return Ye(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(c=>c.x||0),u)),Ye(u)?T.createElement("rect",{x:0,y:a<s?a:a-o,width:u+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function LSe(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,a=r[0].x,s=r[r.length-1].x;if(!Un(a)||!Un(s))return null;var o=e*Math.abs(a-s),u=Math.max(...r.map(c=>c.y||0));return Ye(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(c=>c.y||0),u)),Ye(u)?T.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(u+(i?parseInt("".concat(i),10):1))}):null}function OSe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:a}=t;return n==="vertical"?T.createElement(ISe,{alpha:e,points:r,baseLine:i,strokeWidth:a}):T.createElement(LSe,{alpha:e,points:r,baseLine:i,strokeWidth:a})}function jSe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:u,animationBegin:c,animationDuration:f,animationEasing:h,onAnimationStart:g,onAnimationEnd:v}=r,w=T.useMemo(()=>({points:s,baseLine:o}),[s,o]),E=Sq(w,"recharts-area-"),A=gfe(),[_,M]=T.useState(!1),R=!_,I=T.useCallback(()=>{typeof v=="function"&&v(),M(!1)},[v]),D=T.useCallback(()=>{typeof g=="function"&&g(),M(!0)},[g]);if(A==null)return null;var k=i.current,P=a.current;return T.createElement(DSe,{showLabels:R,points:s},r.children,T.createElement(wq,{animationId:E,begin:c,duration:f,isActive:u,easing:h,onAnimationEnd:I,onAnimationStart:D,key:E},B=>{if(k){var z=k.length/s.length,W=B===1?s:s.map((q,Z)=>{var V=Math.floor(Z*z);if(k[V]){var Q=k[V];return cm(cm({},q),{},{x:Jo(Q.x,q.x,B),y:Jo(Q.y,q.y,B)})}return q}),U;return Ye(o)?U=Jo(P,o,B):ti(o)||po(o)?U=Jo(P,0,B):U=o.map((q,Z)=>{var V=Math.floor(Z*z);if(Array.isArray(P)&&P[V]){var Q=P[V];return cm(cm({},q),{},{x:Jo(Q.x,q.x,B),y:Jo(Q.y,q.y,B)})}return q}),B>0&&(i.current=W,a.current=U),T.createElement(Bz,{points:W,baseLine:U,needClip:e,clipPathId:n,props:r})}return B>0&&(i.current=s,a.current=o),T.createElement(il,null,u&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(n)},T.createElement(OSe,{alpha:B,points:s,baseLine:o,layout:A,strokeWidth:r.strokeWidth}))),T.createElement(il,{clipPath:"url(#animationClipPath-".concat(n,")")},T.createElement(Bz,{points:s,baseLine:o,needClip:e,clipPathId:n,props:r})))}),T.createElement(dxe,{label:r.label}))}function FSe(t){var{needClip:e,clipPathId:n,props:r}=t,i=T.useRef(null),a=T.useRef();return T.createElement(jSe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class USe extends T.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:a,left:s,needClip:o,xAxisId:u,yAxisId:c,width:f,height:h,id:g,baseLine:v,zIndex:w}=this.props;if(e)return null;var E=Gt("recharts-area",i),A=g,{r:_,strokeWidth:M}=bSe(n),R=Z9(n),I=_*2+M,D=o?"url(#clipPath-".concat(R?"":"dots-").concat(A,")"):void 0;return T.createElement(Ju,{zIndex:w},T.createElement(il,{className:E},o&&T.createElement("defs",null,T.createElement(iwe,{clipPathId:A,xAxisId:u,yAxisId:c}),!R&&T.createElement("clipPath",{id:"clipPath-dots-".concat(A)},T.createElement("rect",{x:s-I/2,y:a-I/2,width:f+I,height:h+I}))),T.createElement(FSe,{needClip:o,clipPathId:A,props:this.props})),T.createElement(Mz,{points:r,mainColor:jE(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(v)&&T.createElement(Mz,{points:v,mainColor:jE(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var gW={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ii.area};function BSe(t){var e,n=ts(t,gW),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:u,fill:c,fillOpacity:f,hide:h,isAnimationActive:g,legendType:v,stroke:w,xAxisId:E,yAxisId:A}=n,_=mW(n,CSe),M=Fx(),R=P9(),{needClip:I}=iW(E,A),D=pa(),{points:k,isRange:P,baseLine:B}=(e=Je(V=>ESe(V,E,A,D,t.id)))!==null&&e!==void 0?e:{},z=aI();if(M!=="horizontal"&&M!=="vertical"||z==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:W,width:U,x:q,y:Z}=z;return!k||!k.length?null:T.createElement(USe,qh({},_,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:B,connectNulls:o,dot:u,fill:c,fillOpacity:f,height:W,hide:h,layout:M,isAnimationActive:g==="auto"?!vy.isSsr:g,isRange:P,legendType:v,needClip:I,points:k,stroke:w,width:U,left:q,top:Z,xAxisId:E,yAxisId:A}))}var zSe=(t,e,n,r,i)=>{var a=n??e;if(Ye(a))return a;var s=t==="horizontal"?i:r,o=s.scale.domain();if(s.type==="number"){var u=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||u<0?u:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function HSe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:u,displayedData:c,dataStartIndex:f,xAxisTicks:h,yAxisTicks:g,bandSize:v}=t,w=i&&i.length,E=zSe(a,s,n,o,u),A=a==="horizontal",_=!1,M=c.map((I,D)=>{var k;w?k=i[f+D]:(k=Ai(I,r),Array.isArray(k)?_=!0:k=[E,k]);var P=k[1]==null||w&&!e&&Ai(I,r)==null;return A?{x:gU({axis:o,ticks:h,bandSize:v,entry:I,index:D}),y:P?null:u.scale(k[1]),value:k,payload:I}:{x:P?null:o.scale(k[1]),y:gU({axis:u,ticks:g,bandSize:v,entry:I,index:D}),value:k,payload:I}}),R;return w||_?R=M.map(I=>{var D=Array.isArray(I.value)?I.value[0]:null;return A?{x:I.x,y:D!=null&&I.y!=null?u.scale(D):null,payload:I.payload}:{x:D!=null?o.scale(D):null,y:I.y,payload:I.payload}}):R=A?u.scale(E):o.scale(E),{points:M,baseLine:R,isRange:_}}function GSe(t){var e=ts(t,gW),n=pa();return T.createElement(bxe,{id:e.id,type:"area"},r=>T.createElement(T.Fragment,null,T.createElement(mxe,{legendPayload:MSe(e)}),T.createElement(PSe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),T.createElement(_xe,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:kde(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),T.createElement(BSe,qh({},e,{id:r}))))}var yW=T.memo(GSe,sI);yW.displayName="Area";var $Se=["domain","range"],qSe=["domain","range"];function zz(t,e){if(t==null)return{};var n,r,i=VSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hz(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function vW(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=zz(t,$Se),{domain:a,range:s}=e,o=zz(e,qSe);return!Hz(n,a)||!Hz(r,s)?!1:sI(i,o)}var WSe=["dangerouslySetInnerHTML","ticks"],YSe=["id"];function xM(){return xM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xM.apply(null,arguments)}function Gz(t,e){if(t==null)return{};var n,r,i=KSe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KSe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XSe(t){var e=jr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Bxe(t)):n.current!==t&&e(zxe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(Hxe(n.current)),n.current=null)},[e]),null}var JSe=t=>{var{xAxisId:e,className:n}=t,r=Je(nq),i=pa(),a="xAxis",s=Je(A=>Ay(A,a,e,i)),o=Je(A=>l9(A,a,e,i)),u=Je(A=>jye(A,e)),c=Je(A=>Gye(A,e)),f=Je(A=>NV(A,e));if(u==null||c==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=t,v=Gz(t,WSe),{id:w}=f,E=Gz(f,YSe);return T.createElement(uI,xM({},v,E,{scale:s,x:c.x,y:c.y,width:u.width,height:u.height,className:Gt("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:o,axisType:a}))},QSe={allowDataOverflow:Ar.allowDataOverflow,allowDecimals:Ar.allowDecimals,allowDuplicatedCategory:Ar.allowDuplicatedCategory,angle:Ar.angle,axisLine:Eu.axisLine,height:Ar.height,hide:!1,includeHidden:Ar.includeHidden,interval:Ar.interval,minTickGap:Ar.minTickGap,mirror:Ar.mirror,orientation:Ar.orientation,padding:Ar.padding,reversed:Ar.reversed,scale:Ar.scale,tick:Ar.tick,tickCount:Ar.tickCount,tickLine:Eu.tickLine,tickSize:Eu.tickSize,type:Ar.type,xAxisId:0},ZSe=t=>{var e=ts(t,QSe);return T.createElement(T.Fragment,null,T.createElement(XSe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(JSe,e))},bW=T.memo(ZSe,vW);bW.displayName="XAxis";var e1e=["dangerouslySetInnerHTML","ticks"],t1e=["id"];function wM(){return wM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wM.apply(null,arguments)}function $z(t,e){if(t==null)return{};var n,r,i=n1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function r1e(t){var e=jr(),n=T.useRef(null);return T.useLayoutEffect(()=>{n.current===null?e(Gxe(t)):n.current!==t&&e($xe({prev:n.current,next:t})),n.current=t},[t,e]),T.useLayoutEffect(()=>()=>{n.current&&(e(qxe(n.current)),n.current=null)},[e]),null}var i1e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=T.useRef(null),s=T.useRef(null),o=Je(nq),u=pa(),c=jr(),f="yAxis",h=Je(D=>Ay(D,f,e,u)),g=Je(D=>Vye(D,e)),v=Je(D=>qye(D,e)),w=Je(D=>l9(D,f,e,u)),E=Je(D=>RV(D,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!g||iI(i)||T.isValidElement(i)||E==null)){var D=a.current;if(D){var k=D.getCalculatedWidth();Math.round(g.width)!==Math.round(k)&&c(Vxe({id:e,width:k}))}}},[w,g,c,i,e,r,E]),g==null||v==null||E==null)return null;var{dangerouslySetInnerHTML:A,ticks:_}=t,M=$z(t,e1e),{id:R}=E,I=$z(E,t1e);return T.createElement(uI,wM({},M,I,{ref:a,labelRef:s,scale:h,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:Gt("recharts-".concat(f," ").concat(f),n),viewBox:o,ticks:w,axisType:f}))},a1e={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:Cr.allowDecimals,allowDuplicatedCategory:Cr.allowDuplicatedCategory,angle:Cr.angle,axisLine:Eu.axisLine,hide:!1,includeHidden:Cr.includeHidden,interval:Cr.interval,minTickGap:Cr.minTickGap,mirror:Cr.mirror,orientation:Cr.orientation,padding:Cr.padding,reversed:Cr.reversed,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,tickLine:Eu.tickLine,tickSize:Eu.tickSize,type:Cr.type,width:Cr.width,yAxisId:0},s1e=t=>{var e=ts(t,a1e);return T.createElement(T.Fragment,null,T.createElement(r1e,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(i1e,e))},xW=T.memo(s1e,vW);xW.displayName="YAxis";var o1e=(t,e)=>e,cI=he([o1e,cn,_V,br,C9,Xu,s0e,ii],h0e),dI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},wW=js("mouseClick"),SW=Ox();SW.startListening({actionCreator:wW,effect:(t,e)=>{var n=t.payload,r=cI(e.getState(),dI(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(ave({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var SM=js("mouseMove"),EW=Ox(),zS=null;EW.startListening({actionCreator:SM,effect:(t,e)=>{var n=t.payload;zS!==null&&cancelAnimationFrame(zS);var r=dI(n);zS=requestAnimationFrame(()=>{var i=e.getState(),a=WD(i,i.tooltip.settings.shared);if(a==="axis"){var s=cI(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(y9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(g9())}zS=null})}});var qz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},AW=ha({name:"rootProps",initialState:qz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:qz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),l1e=AW.reducer,{updateOptions:u1e}=AW.actions,CW=ha({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:G_e}=CW.actions,c1e=CW.reducer,_W=js("keyDown"),TW=js("focus"),fI=Ox();fI.startListening({actionCreator:_W,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=YD(i,_y(n),Vx(n),Jx(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var u=Xu(n);if(a==="Enter"){var c=kE(n,"axis","hover",String(i.index));e.dispatch(pM({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var f=Xye(n),h=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,v=o+g*h;if(!(u==null||v>=u.length||v<0)){var w=kE(n,"axis","hover",String(v));e.dispatch(pM({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});fI.startListening({actionCreator:TW,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=kE(n,"axis","hover",String(a));e.dispatch(pM({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ms=js("externalEvent"),NW=Ox(),B2=new Map;NW.startListening({actionCreator:ms,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=B2.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:qve(o),activeDataKey:Gve(o),activeIndex:I0(o),activeLabel:N9(o),activeTooltipIndex:I0(o),isTooltipActive:Vve(o)};n(u,r)}finally{B2.delete(i)}});B2.set(i,s)}}});var d1e=he([Cy],t=>t.tooltipItemPayloads),f1e=he([d1e,Kx,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=e(a,n);return s}}}),RW=js("touchMove"),MW=Ox();MW.startListening({actionCreator:RW,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=WD(r,r.tooltip.settings.shared);if(i==="axis"){var a=cI(r,dI({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(y9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(o.clientX,o.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(Ude),f=(s=u.getAttribute(Bde))!==null&&s!==void 0?s:void 0,h=f1e(e.getState(),c,f);e.dispatch(ive({activeDataKey:f,activeIndex:c,activeCoordinate:h}))}}}});var h1e=E$({brush:Awe,cartesianAxis:Wxe,chartData:q0e,errorBars:rwe,graphicalItems:Axe,layout:Sde,legend:Dfe,options:B0e,polarAxis:hxe,polarOptions:c1e,referenceElements:Pwe,rootProps:l1e,tooltip:sve,zIndex:T0e}),p1e=function(e){return Wce({reducer:h1e,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([SW.middleware,EW.middleware,fI.middleware,NW.middleware,MW.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(F$({type:"raf"}))},devTools:vy.devToolsEnabled})};function m1e(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=pa(),a=T.useRef(null);if(i)return n;a.current==null&&(a.current=p1e(e));var s=Vk;return T.createElement(xwe,{context:s,store:a.current},n)}function g1e(t){var{layout:e,margin:n}=t,r=jr(),i=pa();return T.useEffect(()=>{i||(r(bde(e)),r(vde(n)))},[r,i,e,n]),null}var y1e=T.memo(g1e,sI);function v1e(t){var e=jr();return T.useEffect(()=>{e(u1e(t))},[e,t]),null}function Vz(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=eW("".concat(r).concat(e)),a=jr();return T.useLayoutEffect(()=>(a(C0e({zIndex:e,elementId:i,isPanorama:n})),()=>{a(_0e({zIndex:e,isPanorama:n}))}),[a,e,i,n]),T.createElement("g",{tabIndex:-1,id:i})}function Wz(t){var{children:e,isPanorama:n}=t,r=Je(m0e);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return T.createElement(T.Fragment,null,i.map(s=>T.createElement(Vz,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>T.createElement(Vz,{key:s,zIndex:s,isPanorama:n})))}var b1e=["children"];function x1e(t,e){if(t==null)return{};var n,r,i=w1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function w1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}var S1e={width:"100%",height:"100%",display:"block"},E1e=T.forwardRef((t,e)=>{var n=lq(),r=uq(),i=yq();if(!sl(n)||!sl(r))return null;var{children:a,otherAttributes:s,title:o,desc:u}=t,c,f;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),T.createElement($G,FE({},s,{title:o,desc:u,role:f,tabIndex:c,width:n,height:r,style:S1e,ref:e}),a)}),A1e=t=>{var{children:e}=t,n=Je(nC);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return T.createElement($G,{width:r,height:i,x:s,y:a},e)},Yz=T.forwardRef((t,e)=>{var{children:n}=t,r=x1e(t,b1e),i=pa();return i?T.createElement(A1e,null,T.createElement(Wz,{isPanorama:!0},n)):T.createElement(E1e,FE({ref:e},r),T.createElement(Wz,{isPanorama:!1},n))});function C1e(){var t=jr(),[e,n]=T.useState(null),r=Je(Fde);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Un(a)&&a!==r&&t(wde(a))}},[e,t,r]),n}function Kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(n),!0).forEach(function(r){T1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T1e(t,e,n){return(e=N1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N1e(t){var e=R1e(t,"string");return typeof e=="symbol"?e:e+""}function R1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(null,arguments)}var M1e=()=>(ebe(),null);function UE(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var P1e=T.forwardRef((t,e)=>{var n,r,i=T.useRef(null),[a,s]=T.useState({containerWidth:UE((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:UE((r=t.style)===null||r===void 0?void 0:r.height)}),o=T.useCallback((c,f)=>{s(h=>{var g=Math.round(c),v=Math.round(f);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),u=T.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=c.getBoundingClientRect();o(f,h);var g=w=>{var{width:E,height:A}=w[0].contentRect;o(E,A)},v=new ResizeObserver(g);v.observe(c),i.current=v}},[e,o]);return T.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),T.createElement(T.Fragment,null,T.createElement(iC,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",Xh({ref:u},t)))}),k1e=T.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=T.useState({containerWidth:UE(n),containerHeight:UE(r)}),s=T.useCallback((u,c)=>{a(f=>{var h=Math.round(u),g=Math.round(c);return f.containerWidth===h&&f.containerHeight===g?f:{containerWidth:h,containerHeight:g}})},[]),o=T.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:c,height:f}=u.getBoundingClientRect();s(c,f)}},[e,s]);return T.createElement(T.Fragment,null,T.createElement(iC,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",Xh({ref:o},t)))}),D1e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return T.createElement(T.Fragment,null,T.createElement(iC,{width:n,height:r}),T.createElement("div",Xh({ref:e},t)))}),I1e=T.forwardRef((t,e)=>{var{width:n,height:r}=t;return Ru(n)||Ru(r)?T.createElement(k1e,Xh({},t,{ref:e})):T.createElement(D1e,Xh({},t,{ref:e}))});function L1e(t){return t===!0?P1e:I1e}var O1e=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:u,onMouseEnter:c,onMouseLeave:f,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:w,onTouchStart:E,style:A,width:_,responsive:M,dispatchTouchEvents:R=!0}=t,I=T.useRef(null),D=jr(),[k,P]=T.useState(null),[B,z]=T.useState(null),W=C1e(),U=tD(),q=(U==null?void 0:U.width)>0?U.width:_,Z=(U==null?void 0:U.height)>0?U.height:i,V=T.useCallback(fe=>{W(fe),typeof e=="function"&&e(fe),P(fe),z(fe),fe!=null&&(I.current=fe)},[W,e,P,z]),Q=T.useCallback(fe=>{D(wW(fe)),D(ms({handler:a,reactEvent:fe}))},[D,a]),H=T.useCallback(fe=>{D(SM(fe)),D(ms({handler:c,reactEvent:fe}))},[D,c]),$=T.useCallback(fe=>{D(g9()),D(ms({handler:f,reactEvent:fe}))},[D,f]),J=T.useCallback(fe=>{D(SM(fe)),D(ms({handler:h,reactEvent:fe}))},[D,h]),ae=T.useCallback(()=>{D(TW())},[D]),Se=T.useCallback(fe=>{D(_W(fe.key))},[D]),Y=T.useCallback(fe=>{D(ms({handler:s,reactEvent:fe}))},[D,s]),te=T.useCallback(fe=>{D(ms({handler:o,reactEvent:fe}))},[D,o]),ce=T.useCallback(fe=>{D(ms({handler:u,reactEvent:fe}))},[D,u]),me=T.useCallback(fe=>{D(ms({handler:g,reactEvent:fe}))},[D,g]),Ee=T.useCallback(fe=>{D(ms({handler:E,reactEvent:fe}))},[D,E]),Me=T.useCallback(fe=>{R&&D(RW(fe)),D(ms({handler:w,reactEvent:fe}))},[D,R,w]),Ce=T.useCallback(fe=>{D(ms({handler:v,reactEvent:fe}))},[D,v]),ft=L1e(M);return T.createElement(O9.Provider,{value:k},T.createElement(Kle.Provider,{value:B},T.createElement(ft,{width:q??(A==null?void 0:A.width),height:Z??(A==null?void 0:A.height),className:Gt("recharts-wrapper",r),style:_1e({position:"relative",cursor:"default",width:q,height:Z},A),onClick:Q,onContextMenu:Y,onDoubleClick:te,onFocus:ae,onKeyDown:Se,onMouseDown:ce,onMouseEnter:H,onMouseLeave:$,onMouseMove:J,onMouseUp:me,onTouchEnd:Ce,onTouchMove:Me,onTouchStart:Ee,ref:V},T.createElement(M1e,null),n)))}),j1e=["width","height","responsive","children","className","style","compact","title","desc"];function F1e(t,e){if(t==null)return{};var n,r,i=U1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function U1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var B1e=T.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:u,title:c,desc:f}=t,h=F1e(t,j1e),g=ho(h);return u?T.createElement(T.Fragment,null,T.createElement(iC,{width:n,height:r}),T.createElement(Yz,{otherAttributes:g,title:c,desc:f},a)):T.createElement(O1e,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(Yz,{otherAttributes:g,title:c,desc:f,ref:e},T.createElement(Dwe,null,a)))});function EM(){return EM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EM.apply(null,arguments)}var z1e={top:5,right:5,bottom:5,left:5},H1e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:z1e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},G1e=T.forwardRef(function(e,n){var r,i=ts(e.categoricalChartProps,H1e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:c}=e,f={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(m1e,{preloadedState:{options:f},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},T.createElement(Ewe,{chartData:c.data}),T.createElement(y1e,{layout:i.layout,margin:i.margin}),T.createElement(v1e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(B1e,EM({},i,{ref:n})))}),$1e=["axis"],q1e=T.forwardRef((t,e)=>T.createElement(G1e,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$1e,tooltipPayloadSearcher:F0e,categoricalChartProps:t,ref:e}));const V1e=[{name:"Jan",sales:12e3},{name:"Feb",sales:19e3},{name:"Mar",sales:15e3},{name:"Apr",sales:22e3},{name:"May",sales:28e3},{name:"Jun",sales:24e3},{name:"Jul",sales:32e3},{name:"Aug",sales:38e3}],W1e=({title:t="Revenue Trend",data:e=V1e,className:n=""})=>y.jsxs("div",{className:`flex flex-col h-full w-full ${n}`,children:[y.jsx("div",{className:"flex justify-between items-center mb-6 px-2 shrink-0",children:y.jsx("h3",{className:"text-lg font-medium text-white",children:t})}),y.jsx("div",{className:"flex-1 w-full min-h-0 relative",children:y.jsx("div",{className:"absolute inset-0",children:y.jsx(pfe,{width:"100%",height:"100%",children:y.jsxs(q1e,{data:e,margin:{top:10,right:10,left:-20,bottom:0},children:[y.jsx("defs",{children:y.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[y.jsx("stop",{offset:"5%",stopColor:"#81c995",stopOpacity:.3}),y.jsx("stop",{offset:"95%",stopColor:"#81c995",stopOpacity:0})]})}),y.jsx(uW,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),y.jsx(bW,{dataKey:"name",stroke:"#666",tick:{fill:"#999",fontSize:11},axisLine:!1,tickLine:!1,dy:10}),y.jsx(xW,{stroke:"#666",tick:{fill:"#999",fontSize:11},tickFormatter:r=>`${r>=1e3?(r/1e3).toFixed(0)+"k":r}`,axisLine:!1,tickLine:!1}),y.jsx(lbe,{cursor:{stroke:"#81c995",strokeWidth:1,strokeDasharray:"4 4"},contentStyle:{backgroundColor:"#1e1e1e",border:"1px solid #333",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.5)"},itemStyle:{color:"#fff",fontSize:"12px"},labelStyle:{color:"#888",fontSize:"10px",marginBottom:"4px"},formatter:r=>[`${r.toLocaleString()}`,"Revenue"]}),y.jsx(yW,{type:"monotone",dataKey:"sales",stroke:"#81c995",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"})]})})})})]}),Y1e="cowritter",K1e="user-data",X1e=()=>localStorage.getItem("github_access_token"),J1e=async(t,e)=>{X1e();try{return localStorage.setItem(`cowritter_site_${t}`,JSON.stringify(e)),await new Promise(n=>setTimeout(n,1500)),{success:!0,message:"Deployed to GitHub Pages",url:`https://co-writter.github.io/${t}`}}catch(n){return console.error("Deployment failed",n),{success:!1,message:"Storage Error"}}},Q1e=async t=>{try{const e=localStorage.getItem(`cowritter_site_${t}`);if(e)return JSON.parse(e)}catch{console.warn("Failed to load from local storage simulation")}try{const e=await fetch(`https://raw.githubusercontent.com/${Y1e}/${K1e}/main/users/${t}.json`);return e.ok?await e.json():null}catch(e){return console.error("Failed to load profile from GitHub:",e),null}},{useNavigate:Z1e}=ri,eEe=[{id:1,name:"Alice Freeman",email:"alice.f...@gmail.com",location:"Mumbai, IN",time:"2 mins ago",status:"Signed In",action:"Viewed 'The Void Start'",avatar:"A"},{id:2,name:"Bob Script",email:"bob.script...@outlook.com",location:"London, UK",time:"15 mins ago",status:"Signed In",action:"Purchased 'Neural Architectures'",avatar:"B"},{id:3,name:"Guest User",email:"",location:"New York, US",time:"42 mins ago",status:"Guest",action:"Browsing Store",avatar:"?"},{id:4,name:"Diana Prince",email:"diana.p...@gmail.com",location:"Toronto, CA",time:"1 hour ago",status:"Signed In",action:"Added to Cart",avatar:"D"},{id:5,name:"Evan Wright",email:"evan.w...@yahoo.com",location:"Sydney, AU",time:"3 hours ago",status:"Signed In",action:"Viewed Profile",avatar:"E"},{id:6,name:"Guest User",email:"",location:"Berlin, DE",time:"5 hours ago",status:"Guest",action:"Read Preview",avatar:"?"}],tEe=()=>{const{currentUser:t,updateSellerCreatorSite:e,addCreatedBook:n,setCurrentUser:r,userType:i}=Bi(),a=t,[s,o]=T.useState("overview"),u=Z1e(),[c,f]=T.useState(!1),[h,g]=T.useState(null),v=(a==null?void 0:a.uploadedBooks)||[],[w,E]=T.useState((a==null?void 0:a.creatorSite)||{isEnabled:!1,slug:a==null?void 0:a.name.toLowerCase().replace(/\s+/g,"-"),theme:"dark-minimal",profileImageUrl:(a==null?void 0:a.profileImageUrl)||"",displayName:(a==null?void 0:a.name)||"",tagline:"Author & Digital Creator",showcasedBookIds:[]});if(T.useEffect(()=>{a!=null&&a.creatorSite&&E(a.creatorSite)},[a]),!a)return null;const A=k=>{n(k),o("overview")},_=async()=>{if(!w.slug)return;f(!0),e(w);const k=await J1e(w.slug,{sellerProfile:a,siteConfig:w,books:v});k.success&&g(k.url||null),f(!1)},M=k=>{const{name:P,value:B,type:z}=k.target;if(z==="checkbox"){const{checked:W}=k.target;E(U=>({...U,[P]:W}))}else E(W=>({...W,[P]:B}))},R=({id:k,label:P,icon:B,onClick:z})=>y.jsxs("button",{onClick:z||(()=>o(k)),className:`w-full flex items-center gap-4 px-6 py-3.5 text-sm font-medium rounded-r-full transition-all duration-200 group ${s===k?"bg-[#34a853]/15 text-[#81c995] border-l-4 border-[#34a853]":"text-neutral-400 hover:bg-white/5 hover:text-white border-l-4 border-transparent"}`,children:[y.jsx(B,{className:`w-5 h-5 ${s===k?"text-[#81c995]":"text-neutral-500 group-hover:text-white"}`}),P]}),I=({id:k,label:P,icon:B})=>y.jsxs("button",{onClick:()=>o(k),className:`flex flex-col items-center justify-center py-2 px-4 flex-1 transition-colors ${s===k?"text-white":"text-neutral-500 hover:text-neutral-300"}`,children:[y.jsx(B,{className:`w-6 h-6 mb-1 ${s===k?"text-[#81c995]":"text-current"}`}),y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wide",children:P})]}),D=a.isAdmin===!0||a.email==="subatomicerror@gmail.com";return y.jsxs("div",{className:"h-screen w-full bg-[#0b0b0b] font-sans text-white pt-16 flex overflow-hidden",children:[y.jsxs("aside",{className:"w-64 flex-shrink-0 border-r border-white/5 hidden md:flex flex-col bg-[#0b0b0b] z-20 h-full overflow-y-auto",children:[y.jsxs("nav",{className:"flex-1 space-y-1 pr-4 mt-6",children:[y.jsx(R,{id:"home",label:"Back to Home",icon:AR,onClick:()=>u("/")}),y.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),y.jsx(R,{id:"overview",label:"Overview",icon:Bv}),y.jsx(R,{id:"audience",label:"Audience",icon:SR}),y.jsx(R,{id:"studio",label:"Content Manager",icon:oN}),y.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),y.jsx(R,{id:"settings",label:"Site Settings",icon:f0}),D&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"my-4 border-t border-white/5 mx-6"}),y.jsx(R,{id:"admin",label:"System Admin",icon:W5})]})]}),y.jsxs("div",{className:"p-6 border-t border-white/5",children:[y.jsx("button",{onClick:()=>r(t,zt.USER),className:"text-xs font-medium text-neutral-500 hover:text-white transition-colors mb-4 block",children:"Switch to Reading Mode"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-neutral-800 overflow-hidden border border-white/10",children:a.profileImageUrl?y.jsx("img",{src:a.profileImageUrl,alt:"",className:"w-full h-full object-cover"}):y.jsx("div",{className:"w-full h-full flex items-center justify-center text-neutral-500 font-bold",children:a.name[0]})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("p",{className:"text-sm font-bold truncate flex items-center gap-2",children:[a.name,a.isVerified&&y.jsx(Lr,{className:"w-3 h-3 text-[#34a853]"})]}),y.jsx("p",{className:"text-xs text-neutral-500 truncate",children:D?"System Owner":"Writer Account"})]})]})]})]}),y.jsx("main",{className:"flex-1 h-full overflow-y-auto bg-[#0b0b0b] relative scroll-smooth",children:y.jsxs("div",{className:"p-4 md:p-8 pb-32",children:[y.jsx("div",{className:"mb-8 flex justify-between items-center",children:y.jsxs("h1",{className:"text-xl md:text-2xl font-normal text-white",children:[s==="overview"&&(D?"Global Overview":"Dashboard Overview"),s==="audience"&&"Live Audience",s==="studio"&&"Content Manager",s==="settings"&&"Site Configuration",s==="admin"&&"System Administration"]})}),s==="overview"&&y.jsxs("div",{className:"space-y-6 animate-fade-in",children:[y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{label:"Revenue",value:D?"1,240,500":"24,500",icon:UA,color:"text-[#81c995]"},{label:"Total Visitors",value:D?"84,320":"1,240",icon:Bv,color:"text-[#a8c7fa]"},{label:D?"Total Books":"Active Books",value:D?"342":v.length.toString(),icon:Ei,color:"text-[#fdd663]"}].map((k,P)=>y.jsxs("div",{className:"bg-[#1e1e1e] p-6 rounded-3xl border border-white/5",children:[y.jsxs("div",{className:"flex items-start justify-between mb-4",children:[y.jsx("div",{className:`p-3 rounded-full bg-white/5 ${k.color}`,children:y.jsx(k.icon,{className:"w-6 h-6"})}),y.jsx("span",{className:"text-xs font-bold bg-green-900/30 text-green-400 px-2 py-1 rounded-full",children:"+12%"})]}),y.jsx("h3",{className:"text-3xl font-normal text-white mb-1",children:k.value}),y.jsx("p",{className:"text-sm text-neutral-500",children:k.label})]},P))}),y.jsx("div",{className:"bg-[#1e1e1e] rounded-3xl p-8 border border-white/5 h-[300px] md:h-[400px]",children:y.jsx(W1e,{className:"w-full h-full",title:D?"Platform Revenue":"Revenue Trend"})}),!D&&y.jsxs("div",{className:"bg-[#1e1e1e] rounded-3xl overflow-hidden border border-white/5",children:[y.jsxs("div",{className:"px-6 md:px-8 py-6 border-b border-white/5 flex justify-between items-center",children:[y.jsx("h3",{className:"text-lg font-medium",children:"Recent Uploads"}),y.jsx("button",{onClick:()=>o("studio"),className:"text-sm text-[#81c995] font-bold hover:underline",children:"View All"})]}),y.jsxs("div",{className:"divide-y divide-white/5",children:[v.slice(0,5).map(k=>y.jsxs("div",{className:"px-6 md:px-8 py-4 flex items-center justify-between hover:bg-white/5 transition-colors group",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("img",{src:k.coverImageUrl,className:"w-10 h-14 object-cover rounded bg-black",alt:""}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-sm text-white group-hover:text-[#a8c7fa] transition-colors line-clamp-1",children:k.title}),y.jsxs("p",{className:"text-xs text-neutral-500",children:["",k.price]})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"text-xs text-neutral-500 hidden sm:block",children:new Date(k.publicationDate).toLocaleDateString()}),y.jsx("button",{onClick:()=>u(`/edit-ebook/${k.id}`),className:"p-2 hover:bg-white/10 rounded-full text-neutral-400 hover:text-white",children:y.jsx(K5,{className:"w-4 h-4"})})]})]},k.id)),v.length===0&&y.jsx("p",{className:"p-8 text-center text-neutral-500 text-sm",children:"No books uploaded yet."})]})]})]}),s==="audience"&&y.jsxs("div",{className:"animate-fade-in max-w-5xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-neutral-500 mb-1",children:"Live Feed"}),y.jsx("p",{className:"text-neutral-400 text-xs",children:"Real-time visitor tracking"})]}),y.jsxs("div",{className:"flex items-center gap-2 bg-[#34a853]/10 px-3 py-1.5 rounded-full border border-[#34a853]/20",children:[y.jsxs("span",{className:"relative flex h-2 w-2",children:[y.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-[#34a853] opacity-75"}),y.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[#34a853]"})]}),y.jsx("span",{className:"text-[10px] font-bold text-[#81c995] uppercase tracking-widest",children:"Active"})]})]}),y.jsx("div",{className:"space-y-3",children:eEe.map(k=>y.jsxs("div",{className:"group bg-[#1e1e1e] hover:bg-[#252525] border border-white/5 hover:border-white/10 rounded-2xl p-4 flex flex-col md:flex-row md:items-center gap-4 transition-all duration-300",children:[y.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-[200px]",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-neutral-800 to-neutral-900 border border-white/10 flex items-center justify-center font-bold text-sm text-white shadow-inner",children:k.avatar}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium text-white text-sm",children:k.name}),y.jsx("div",{className:"text-xs text-neutral-500",children:k.email})]})]}),y.jsxs("div",{className:"flex items-center gap-2 md:w-[150px] text-neutral-400 text-sm",children:[y.jsx(Ok,{className:"w-4 h-4 text-neutral-600"}),y.jsx("span",{children:k.location})]}),y.jsxs("div",{className:"flex-1 md:w-[250px]",children:[y.jsxs("div",{className:"flex items-center gap-2 text-white text-sm mb-0.5",children:[y.jsx(Bv,{className:"w-3 h-3 text-[#a8c7fa]"}),y.jsx("span",{className:"truncate",children:k.action})]}),y.jsxs("div",{className:"text-[10px] text-neutral-500 font-mono flex items-center gap-1",children:[y.jsx(ele,{className:"w-3 h-3"})," ",k.time]})]}),y.jsx("div",{className:"md:w-[120px] flex justify-end",children:y.jsxs("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest flex items-center gap-1.5 ${k.status==="Signed In"?"bg-[#34a853]/10 text-[#81c995] border border-[#34a853]/20":"bg-white/5 text-neutral-500 border border-white/5"}`,children:[y.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${k.status==="Signed In"?"bg-[#34a853]":"bg-neutral-500"}`}),k.status==="Signed In"?"User":"Guest"]})})]},k.id))})]}),s==="studio"&&y.jsxs("div",{className:"animate-fade-in max-w-5xl mx-auto space-y-12",children:[y.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-3xl overflow-hidden",children:[y.jsxs("div",{className:"p-8 border-b border-white/5 bg-white/[0.02]",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:"Your Manuscripts"}),y.jsx("p",{className:"text-sm text-neutral-500",children:"Edit content, update pricing, or manage visual assets."})]}),y.jsx("div",{className:"divide-y divide-white/5 max-h-[400px] overflow-y-auto custom-scrollbar",children:v.length>0?v.map(k=>y.jsxs("div",{className:"p-6 flex flex-col sm:flex-row items-center gap-6 hover:bg-white/[0.02] transition-colors group",children:[y.jsx("img",{src:k.coverImageUrl,alt:k.title,className:"w-16 h-24 object-cover rounded-lg shadow-lg bg-[#0b0b0b] border border-white/10"}),y.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[y.jsx("h3",{className:"font-bold text-white text-lg mb-1 group-hover:text-blue-400 transition-colors",children:k.title}),y.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3 text-xs text-neutral-500 mb-2",children:[y.jsx("span",{className:"uppercase tracking-wider font-bold",children:k.genre}),y.jsx("span",{children:""}),y.jsxs("span",{className:"font-mono",children:["",k.price]})]}),y.jsx("p",{className:"text-xs text-neutral-600 line-clamp-1 max-w-md",children:k.description})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>u(`/read/${k.id}`),className:"p-3 rounded-full border border-white/10 text-neutral-400 hover:text-white hover:bg-white/10 transition-all",title:"Read Preview",children:y.jsx(ale,{className:"w-5 h-5"})}),y.jsxs("button",{onClick:()=>u(`/edit-ebook/${k.id}`),className:"px-6 py-3 rounded-full bg-white text-black font-bold text-xs uppercase tracking-widest hover:bg-neutral-200 transition-all flex items-center gap-2 shadow-lg hover:shadow-xl hover:scale-105 active:scale-95",children:[y.jsx(K5,{className:"w-4 h-4"})," Edit"]})]})]},k.id)):y.jsxs("div",{className:"p-12 text-center text-neutral-500",children:[y.jsx(Ei,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),y.jsx("p",{children:"You haven't uploaded any books yet."})]})})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"mb-6 flex items-center gap-4",children:[y.jsx("div",{className:"h-px flex-1 bg-white/10"}),y.jsx("span",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:"Create New"}),y.jsx("div",{className:"h-px flex-1 bg-white/10"})]}),y.jsx(Fle,{onBookUploaded:A})]})]}),s==="settings"&&y.jsxs("div",{className:"animate-fade-in grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("div",{className:"bg-[#1e1e1e] rounded-3xl p-6 md:p-8 border border-white/5",children:[y.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[y.jsx("h2",{className:"text-xl font-medium",children:"Public Profile"}),h&&y.jsxs("a",{href:h,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-xs font-bold text-[#81c995] bg-[#34a853]/10 px-3 py-1 rounded-full",children:[y.jsx("span",{className:"w-2 h-2 rounded-full bg-[#34a853] animate-pulse"})," Live"]})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Display Name"}),y.jsx("input",{name:"displayName",value:w.displayName,onChange:M,className:"w-full bg-[#0b0b0b] border border-white/10 rounded-lg p-3 text-sm focus:outline-none focus:border-white/30 text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Tagline"}),y.jsx("textarea",{name:"tagline",value:w.tagline,onChange:M,rows:3,className:"w-full bg-[#0b0b0b] border border-white/10 rounded-lg p-3 text-sm focus:outline-none focus:border-white/30 text-white resize-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Username (Slug)"}),y.jsxs("div",{className:"flex",children:[y.jsx("span",{className:"bg-[#151515] border border-r-0 border-white/10 text-neutral-500 px-3 py-3 text-sm rounded-l-lg hidden sm:block",children:"ebook-engine.github.io/"}),y.jsx("input",{name:"slug",value:w.slug,onChange:M,className:"flex-1 bg-[#0b0b0b] border border-white/10 rounded-lg sm:rounded-l-none p-3 text-sm focus:outline-none focus:border-white/30 text-white"})]})]}),y.jsx("button",{onClick:_,disabled:c,className:"w-full py-4 bg-white text-black font-bold rounded-xl hover:bg-neutral-200 transition-colors flex items-center justify-center gap-2 mt-4",children:c?"Deploying...":y.jsxs(y.Fragment,{children:[y.jsx(oN,{className:"w-5 h-5"})," Publish Site"]})})]})]}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"bg-[#1e1e1e] rounded-3xl p-8 border border-white/5 flex flex-col items-center justify-center text-center",children:[y.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-4",children:y.jsx(_R,{className:"w-10 h-10 text-white"})}),y.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"GitHub Integration"}),y.jsx("p",{className:"text-sm text-neutral-400 max-w-xs mb-6",children:"Your creator site is hosted for free on GitHub Pages. Changes may take up to 2 minutes to propagate globally."}),h?y.jsxs("div",{className:"bg-[#0b0b0b] p-4 rounded-xl border border-white/10 w-full flex justify-between items-center",children:[y.jsx("span",{className:"text-xs text-neutral-500 truncate",children:h}),y.jsx("a",{href:h,target:"_blank",className:"text-[#81c995] hover:text-white",children:y.jsx(MG,{className:"w-4 h-4"})})]}):y.jsx("div",{className:"bg-[#0b0b0b] p-4 rounded-xl border border-white/10 w-full text-xs text-neutral-600",children:"Not deployed yet."})]}),y.jsx("div",{className:"bg-[#1e1e1e] rounded-3xl p-6 border border-white/5",children:y.jsx("button",{onClick:()=>r(a,zt.USER),className:"w-full py-3 bg-white/5 hover:bg-white/10 text-white font-medium rounded-xl transition-colors text-sm",children:"Switch to Reader Mode"})})]})]}),s==="admin"&&D&&y.jsx("div",{className:"animate-fade-in space-y-6",children:y.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-3xl p-8",children:[y.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Registered Users"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"border-b border-white/10 text-neutral-500 text-xs uppercase tracking-widest",children:[y.jsx("th",{className:"py-4 px-2 font-bold",children:"User"}),y.jsx("th",{className:"py-4 px-2 font-bold",children:"Email"}),y.jsx("th",{className:"py-4 px-2 font-bold",children:"Role"}),y.jsx("th",{className:"py-4 px-2 font-bold text-right",children:"Action"})]})}),y.jsx("tbody",{className:"text-sm",children:Object.values(To).filter(k=>k.id!=="guest").map(k=>y.jsxs("tr",{className:"border-b border-white/5 last:border-0 hover:bg-white/5 transition-colors",children:[y.jsxs("td",{className:"py-4 px-2 font-medium text-white flex items-center gap-3",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-neutral-800 flex items-center justify-center text-xs",children:k.profileImageUrl?y.jsx("img",{src:k.profileImageUrl,alt:"",className:"w-full h-full rounded-full"}):k.name[0]}),k.name]}),y.jsx("td",{className:"py-4 px-2 text-neutral-400",children:k.email}),y.jsx("td",{className:"py-4 px-2",children:y.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] uppercase font-bold ${k.isAdmin?"bg-purple-900/30 text-purple-400 border border-purple-500/20":"uploadedBooks"in k?"bg-blue-900/30 text-blue-400 border border-blue-500/20":"bg-white/5 text-neutral-500"}`,children:k.isAdmin?"Admin":"uploadedBooks"in k?"Writer":"Reader"})}),y.jsx("td",{className:"py-4 px-2 text-right",children:y.jsx("button",{className:"text-xs text-neutral-500 hover:text-white underline",children:"Manage"})})]},k.id))})]})})]})})]})}),!D&&y.jsxs("button",{onClick:()=>u("/ebook-studio"),className:"fixed bottom-24 right-8 z-50 w-16 h-16 bg-white text-black rounded-full flex items-center justify-center shadow-[0_0_40px_rgba(255,255,255,0.4)] hover:scale-110 active:scale-95 transition-all group","aria-label":"Create New Story",children:[y.jsx(co,{className:"w-8 h-8 group-hover:-translate-y-1 transition-transform"}),y.jsx("span",{className:"absolute right-full mr-4 px-3 py-1.5 bg-[#1a1a1a] border border-white/10 rounded-lg text-white text-[10px] font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:"Start New Manuscript"})]}),y.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-[#0b0b0b]/90 backdrop-blur-xl border-t border-white/10 flex items-center justify-around z-50 pb-safe",children:[y.jsx(I,{id:"overview",label:"Stats",icon:Bv}),y.jsx(I,{id:"audience",label:"Visitors",icon:SR}),y.jsx(I,{id:"studio",label:"Content",icon:oN}),y.jsx(I,{id:"settings",label:"Config",icon:f0}),D&&y.jsx(I,{id:"admin",label:"Admin",icon:W5})]})]})},{useNavigate:nEe}=ri,rEe=()=>{const{currentUser:t,userType:e}=Bi(),n=nEe();return T.useEffect(()=>{(e===zt.GUEST||!t)&&n("/login")},[e,t,n]),e===zt.GUEST||!t?null:y.jsx(y.Fragment,{children:e===zt.USER?y.jsx(Ole,{}):y.jsx(tEe,{})})},{useNavigate:iEe}=ri,aEe=()=>{const{cart:t,removeFromCart:e,clearCart:n,currentUser:r}=Bi(),i=iEe(),[a,s]=T.useState(!1),o=r&&r.id!=="guest",u=t.reduce((w,E)=>w+E.price*E.quantity,0),f=u*.07,h=u+f,g=()=>new Promise(w=>{if(document.getElementById("razorpay-checkout-js")){w(!0);return}const E=document.createElement("script");E.id="razorpay-checkout-js",E.src="https://checkout.razorpay.com/v1/checkout.js",E.onload=()=>{w(!0)},E.onerror=()=>{w(!1)},document.body.appendChild(E)});T.useEffect(()=>{g()},[]);const v=async()=>{if(!o){i("/login");return}if(!await g()||!window.Razorpay){alert("Payment Gateway failed to load. Please check your connection."),s(!1);return}s(!0);const E={key:TG,amount:Math.round(h*100),currency:"INR",name:"Co-Writter Inc.",description:"Book Purchase",image:"https://raw.githubusercontent.com/atherosai/OpenStore.io/main/vite.svg",handler:function(A){console.log("Razorpay Response:",A),alert(`Payment Successful! Transaction ID: ${A.razorpay_payment_id}`),n(),i("/dashboard"),s(!1)},prefill:{name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",contact:""},readonly:{email:!0,name:!0},notes:{items:t.map(A=>`${A.title} (Qty: ${A.quantity})`).join(", "),userId:r==null?void 0:r.id},theme:{color:"#000000"}};try{const A=new window.Razorpay(E);A.on("payment.failed",function(_){alert(`Payment Failed: ${_.error.description}`),s(!1)}),A.open()}catch(A){console.error("Error initializing Razorpay:",A),alert("Could not initiate payment."),s(!1)}};return t.length===0?y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center relative overflow-hidden bg-transparent",children:[y.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-white/5 rounded-full blur-[100px] pointer-events-none"}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center animate-slide-up",children:[y.jsx("div",{className:"mb-8 opacity-50 grayscale hover:grayscale-0 transition-all duration-700 hover:opacity-100 hover:scale-110",children:y.jsx(np,{className:"w-32 h-32 bg-black border border-white/10 rounded-full",isActive:!1})}),y.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Cart is Empty"}),y.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest mb-10",children:"You haven't added any books yet."}),y.jsxs("button",{onClick:()=>i("/store"),className:"group relative px-8 py-4 bg-white text-black font-bold text-xs uppercase tracking-widest rounded-full hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] flex items-center gap-3 overflow-hidden",children:[y.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[y.jsx(ER,{className:"w-4 h-4"})," Browse Books"]}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})]})]}):y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-32 pb-20",children:[y.jsxs("header",{className:"mb-12 flex flex-col md:flex-row md:items-end justify-between gap-6 animate-slide-down",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx("span",{className:"w-2 h-2 bg-google-green rounded-full animate-pulse"}),y.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Secure Checkout"})]}),y.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter",children:"Your Cart"})]}),y.jsxs("p",{className:"text-neutral-400 text-sm font-mono text-right hidden md:block",children:["Order ID: ",Math.random().toString(36).substring(2,9).toUpperCase()]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map((w,E)=>y.jsxs("div",{className:`group flex flex-col sm:flex-row items-center gap-6 p-6 bg-black/40 backdrop-blur-md border border-white/10 rounded-[24px] hover:border-white/30 hover:bg-white/5 transition-all duration-300 animate-slide-up-stagger delay-${E*100}`,children:[y.jsxs("div",{className:"shrink-0 relative",children:[y.jsx("img",{src:w.coverImageUrl,alt:w.title,className:"w-24 h-36 object-cover rounded-lg shadow-2xl border border-white/10 group-hover:scale-105 transition-transform duration-500"}),y.jsx("div",{className:"absolute inset-0 rounded-lg ring-1 ring-inset ring-white/10 group-hover:ring-white/30"})]}),y.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[y.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-2 mb-2",children:y.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 border border-white/5 text-[9px] font-bold text-neutral-300 uppercase tracking-widest",children:w.genre})}),y.jsx("h3",{className:"text-xl font-bold text-white mb-1 leading-tight",children:w.title}),y.jsxs("p",{className:"text-xs text-neutral-500 font-mono uppercase tracking-wide mb-4",children:["By ",w.author]}),y.jsx("div",{className:"flex items-center justify-center sm:justify-start gap-4",children:y.jsxs("button",{onClick:()=>e(w.id),className:"text-[10px] font-bold text-red-500 hover:text-red-400 uppercase tracking-widest flex items-center gap-1 transition-colors",children:[y.jsx(Koe,{className:"w-3 h-3"})," Remove"]})})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-3xl font-light text-white tracking-tighter",children:["",(w.price*w.quantity).toFixed(0)]}),y.jsx("p",{className:"text-[10px] text-neutral-600 font-mono uppercase mt-1",children:"Price"})]})]},w.id))}),y.jsx("div",{className:"lg:col-span-1 h-fit sticky top-24 animate-slide-up-stagger delay-300",children:y.jsxs("div",{className:"bg-black/60 backdrop-blur-xl border border-white/10 p-8 rounded-[32px] shadow-[0_0_50px_rgba(0,0,0,0.5)] relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),y.jsx("h2",{className:"text-lg font-bold text-white uppercase tracking-widest mb-8 border-b border-white/10 pb-4",children:"Summary"}),y.jsxs("div",{className:"space-y-4 mb-8",children:[y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-neutral-400",children:"Subtotal"}),y.jsxs("span",{className:"text-white font-mono",children:["",u.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-sm",children:[y.jsx("span",{className:"text-neutral-400",children:"Tax"}),y.jsxs("span",{className:"text-white font-mono",children:["",f.toFixed(2)]})]}),y.jsx("div",{className:"w-full h-px bg-white/10 my-2"}),y.jsxs("div",{className:"flex justify-between items-end",children:[y.jsx("span",{className:"text-white font-bold",children:"Total"}),y.jsxs("span",{className:"text-4xl font-black text-white tracking-tighter",children:["",h.toFixed(0)]})]})]}),o?y.jsx("button",{onClick:v,disabled:a,className:"w-full py-4 bg-white text-black font-black text-xs uppercase tracking-widest rounded-full hover:bg-neutral-200 hover:scale-[1.02] active:scale-[0.98] transition-all shadow-[0_0_20px_rgba(255,255,255,0.2)] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?"Processing...":y.jsxs(y.Fragment,{children:[y.jsx(Xoe,{className:"w-4 h-4"})," Pay Now"]})}):y.jsx("button",{onClick:()=>i("/login"),className:"w-full py-4 bg-white/10 text-white border border-white/20 font-bold text-xs uppercase tracking-widest rounded-full hover:bg-white hover:text-black transition-all",children:"Login to Purchase"}),y.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-[9px] text-neutral-600 font-mono uppercase tracking-widest",children:[y.jsx(co,{className:"w-3 h-3"})," Instant Download"]})]})})]})]})},{useNavigate:sEe,Link:oEe}=ri,lEe=()=>y.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[y.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),y.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),y.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),y.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),uEe=()=>{const{currentUser:t,userType:e,setCurrentUser:n,handleEmailLogin:r}=Bi(),i=sEe(),[a,s]=T.useState(!1),[o,u]=T.useState("social"),[c,f]=T.useState(""),[h,g]=T.useState(""),[v,w]=T.useState("");Wn.useEffect(()=>{t&&e!==zt.GUEST&&i("/dashboard")},[t,e,i]);const E=()=>{if(s(!0),!window.google||!window.google.accounts||!window.google.accounts.oauth2){console.error("Google Sign-In script not loaded yet."),alert("System initializing... Please try again in a moment."),s(!1);return}window.google.accounts.oauth2.initTokenClient({client_id:Voe,scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email",callback:async M=>{if(M&&M.access_token)try{const I=await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${M.access_token}`}})).json(),D={id:`google_${I.sub}`,name:I.name,email:I.email,purchaseHistory:[],wishlist:[],isVerified:!1,profileImageUrl:I.picture};n(D,zt.USER),i("/dashboard")}catch(R){console.error("Failed to fetch user info",R),alert("Authentication failed during profile retrieval.")}finally{s(!1)}else s(!1)},error_callback:M=>{console.error("Google Auth Error:",M),s(!1)}}).requestAccessToken()},A=async _=>{_.preventDefault(),w(""),s(!0);try{const M=await r(c.trim(),h.trim());M.success?i("/dashboard"):w(M.message||"Login failed.")}catch(M){console.error("Login Error:",M),w("System error. Check console for details.")}finally{s(!1)}};return y.jsx("div",{className:"min-h-screen w-full flex items-center justify-center p-4 relative font-sans selection:bg-white/20",children:y.jsxs("div",{className:"relative z-10 w-full max-w-sm flex flex-col items-center",children:[y.jsx("div",{className:"mb-10 scale-125 animate-float-delayed",children:y.jsx(np,{className:"w-24 h-24 border border-white/30 bg-black shadow-[0_0_50px_rgba(255,255,255,0.1)] rounded-full"})}),y.jsxs("div",{className:"w-full bg-black/40 backdrop-blur-2xl border border-white/10 p-8 shadow-[0_0_40px_rgba(0,0,0,0.8)] rounded-[32px] relative overflow-hidden transition-all duration-500 hover:border-white/20 hover:shadow-[0_0_60px_rgba(255,255,255,0.05)]",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/30 to-transparent"}),y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h1",{className:"text-2xl font-black tracking-tighter text-white mb-2",children:Is}),y.jsx("p",{className:"text-[10px] text-neutral-500 font-mono uppercase tracking-[0.2em]",children:"Writing Platform"})]}),y.jsxs("div",{className:"flex bg-white/5 p-1 rounded-full mb-8 border border-white/5",children:[y.jsx("button",{onClick:()=>u("social"),className:`flex-1 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest transition-all ${o==="social"?"bg-white text-black shadow-lg":"text-neutral-500 hover:text-white"}`,children:"Reader"}),y.jsx("button",{onClick:()=>u("email"),className:`flex-1 py-2 rounded-full text-[10px] font-bold uppercase tracking-widest transition-all ${o==="email"?"bg-white text-black shadow-lg":"text-neutral-500 hover:text-white"}`,children:"Admin / Writer"})]}),o==="social"&&y.jsxs("div",{className:"animate-fade-in",children:[y.jsxs("div",{className:"mb-6 relative group",children:[y.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-white/10 to-neutral-700/30 rounded-full blur opacity-0 group-hover:opacity-100 transition duration-700"}),y.jsxs("button",{onClick:E,disabled:a,className:"relative w-full py-4 rounded-full bg-white/5 border border-white/10 text-white font-bold uppercase tracking-widest text-xs flex items-center justify-center gap-4 hover:bg-white/10 hover:border-white/30 transition-all duration-300 shadow-[0_0_20px_rgba(255,255,255,0.02)] hover:shadow-[0_0_30px_rgba(255,255,255,0.05)] hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:[a?y.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):y.jsx(lEe,{}),y.jsx("span",{children:"Continue with Google"})]})]}),y.jsx("p",{className:"text-center text-[10px] text-neutral-500 px-4 leading-relaxed",children:"By continuing, you agree to our Terms of Service and confirm you have read our Privacy Policy."})]}),o==="email"&&y.jsxs("form",{onSubmit:A,className:"animate-fade-in space-y-4",children:[y.jsx("div",{children:y.jsx("input",{type:"text",placeholder:"Email or Username",value:c,onChange:_=>f(_.target.value),className:"w-full bg-[#0b0b0b] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-white/40 placeholder-neutral-600 transition-colors",required:!0})}),y.jsx("div",{children:y.jsx("input",{type:"password",placeholder:"Password",value:h,onChange:_=>g(_.target.value),className:"w-full bg-[#0b0b0b] border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-white/40 placeholder-neutral-600 transition-colors",required:!0})}),v&&y.jsx("div",{className:"text-red-400 text-xs bg-red-500/10 p-2 rounded-lg border border-red-500/20 text-center",children:v}),y.jsx("button",{type:"submit",disabled:a,className:"w-full py-4 rounded-full bg-white text-black font-bold uppercase tracking-widest text-xs hover:bg-neutral-200 transition-all shadow-[0_0_20px_rgba(255,255,255,0.1)] hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed mt-2",children:a?"Authenticating...":"Access Dashboard"}),y.jsx("div",{className:"text-center pt-2",children:y.jsx("p",{className:"text-[10px] text-neutral-600",children:"Restricted access for Owners & Paid Writers."})})]}),y.jsx("div",{className:"mt-6 pt-6 border-t border-white/5 text-center",children:y.jsx(oEe,{to:"/",className:"text-neutral-600 hover:text-white text-[10px] font-bold uppercase tracking-widest transition-colors",children:"Cancel"})})]}),y.jsx("div",{className:"mt-8 text-center opacity-40 hover:opacity-100 transition-opacity duration-500",children:y.jsx("p",{className:"text-[9px] text-neutral-500 font-mono tracking-widest",children:"POWERED BY AI"})})]})})},{useNavigate:cEe}=ri,dEe=()=>{const{currentUser:t,userType:e,upgradeToSeller:n}=Bi(),r=cEe(),[i,a]=T.useState(!1),[s,o]=T.useState("monthly"),u=async()=>{if(!t){r("/login");return}if(!await new Promise(v=>{if(window.Razorpay){v(!0);return}const w=document.createElement("script");w.src="https://checkout.razorpay.com/v1/checkout.js",w.onload=()=>v(!0),w.onerror=()=>v(!1),document.body.appendChild(w)})){alert("Could not load payment gateway. Please try again.");return}a(!0);const g={key:TG,amount:(s==="monthly"?444:4444)*100,currency:"INR",name:"My Ebook Store",description:`Pro Creator Subscription (${s})`,image:"https://raw.githubusercontent.com/atherosai/OpenStore.io/main/vite.svg",handler:function(v){console.log("Subscription Successful",v),n(),alert(`Welcome to the Writer Dashboard! Payment ID: ${v.razorpay_payment_id}`),r("/dashboard"),a(!1)},prefill:{name:t.name,email:t.email},theme:{color:"#000000"}};try{const v=new window.Razorpay(g);v.on("payment.failed",function(w){alert(`Payment Failed: ${w.error.description}`),a(!1)}),v.open()}catch(v){console.error("Payment initialization failed",v),a(!1)}};return y.jsxs("div",{className:"min-h-screen w-full relative bg-black selection:bg-white/20 font-sans",children:[y.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-white/5 rounded-full blur-[120px]"}),y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"})]}),y.jsxs("div",{className:"container mx-auto px-4 sm:px-6 pt-24 pb-20 animate-fade-in max-w-7xl relative z-10",children:[y.jsxs("div",{className:"text-center mb-16 relative",children:[y.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 relative z-10 tracking-tighter",children:"Choose a Plan"}),y.jsx("p",{className:"text-neutral-400 text-lg max-w-2xl mx-auto relative z-10",children:"Start for free or upgrade to sell your own books and use AI tools."}),y.jsx("div",{className:"flex items-center justify-center mt-8 relative z-10",children:y.jsxs("div",{className:"bg-white/5 p-1 rounded-full border border-white/10 flex relative",children:[y.jsx("button",{onClick:()=>o("monthly"),className:`px-6 py-2 rounded-full text-sm font-bold transition-all duration-300 ${s==="monthly"?"bg-white text-black shadow-glow-white":"text-neutral-500 hover:text-white"}`,children:"Monthly"}),y.jsxs("button",{onClick:()=>o("yearly"),className:`px-6 py-2 rounded-full text-sm font-bold transition-all duration-300 ${s==="yearly"?"bg-white text-black shadow-glow-white":"text-neutral-500 hover:text-white"}`,children:["Yearly ",y.jsx("span",{className:"text-[9px] bg-google-green text-black px-1.5 py-0.5 rounded ml-1",children:"-15%"})]})]})})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[y.jsxs("div",{className:"bg-black border border-white/10 p-8 md:p-10 rounded-[32px] relative group shadow-2xl overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white border border-white/10",children:y.jsx(Ei,{className:"w-5 h-5"})}),y.jsx("h3",{className:"text-xl font-bold text-white",children:"Reader"})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("span",{className:"text-4xl font-black text-white",children:"Free"}),y.jsx("span",{className:"text-neutral-500 ml-2",children:"/ forever"})]}),y.jsx("p",{className:"text-neutral-400 text-sm mb-8 min-h-[40px]",children:"Read free books and build your personal collection."}),y.jsx("button",{onClick:()=>r("/store"),className:"w-full py-4 rounded-full border border-white/20 text-white font-bold hover:bg-white/10 transition-colors mb-8 uppercase tracking-widest text-xs",children:"Browse Books"}),y.jsx("div",{className:"space-y-4",children:["Read Unlimited Books","Saved Books List","Works on All Devices","Community Reviews","Personal Library"].map((c,f)=>y.jsxs("div",{className:"flex items-center gap-3 text-sm text-neutral-300",children:[y.jsx(Lr,{className:"w-4 h-4 text-google-green flex-shrink-0"}),y.jsx("span",{children:c})]},f))})]}),y.jsxs("div",{className:"bg-black border border-white/10 p-8 md:p-10 rounded-[32px] relative shadow-2xl overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-google-blue to-transparent opacity-50"}),y.jsx("div",{className:"absolute top-6 right-6 px-3 py-1 bg-white text-black text-[10px] font-bold uppercase tracking-widest rounded-full shadow-glow-white",children:"Recommended"}),y.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center shadow-lg",children:y.jsx(PG,{className:"w-5 h-5"})}),y.jsx("h3",{className:"text-xl font-bold text-white",children:"Writer"})]}),y.jsxs("div",{className:"mb-6 relative z-10",children:[y.jsxs("span",{className:"text-4xl font-black text-white",children:["",s==="monthly"?"444":"4,444"]}),y.jsxs("span",{className:"text-neutral-500 ml-2",children:["/ ",s==="monthly"?"mo":"yr"]})]}),y.jsx("p",{className:"text-neutral-400 text-sm mb-8 min-h-[40px] relative z-10",children:"Write with AI, publish your books, and sell them online."}),e===zt.SELLER?y.jsxs("button",{disabled:!0,className:"w-full py-4 rounded-full bg-green-500/10 text-green-400 font-bold border border-green-500/50 mb-8 cursor-default flex items-center justify-center gap-2 uppercase tracking-widest text-xs",children:[y.jsx(Lr,{className:"w-5 h-5"})," Current Plan"]}):y.jsx("button",{onClick:u,disabled:i,className:"w-full py-4 rounded-full bg-white text-black font-bold hover:bg-neutral-200 transition-colors shadow-glow-white mb-8 flex items-center justify-center gap-2 relative z-10 uppercase tracking-widest text-xs",children:i?"Processing...":y.jsxs(y.Fragment,{children:[y.jsx(co,{className:"w-4 h-4"})," Upgrade to Writer"]})}),y.jsx("div",{className:"space-y-4 relative z-10",children:["Everything in Reader","Publish Unlimited Books","Co-Author Assistant","AI Cover Creator","Your Own Profile Page","See Sales Stats","Keep 70% of Sales","Priority Support"].map((c,f)=>y.jsxs("div",{className:"flex items-center gap-3 text-sm text-white font-medium",children:[y.jsx("div",{className:"p-0.5 bg-white rounded-full",children:y.jsx(Lr,{className:"w-3 h-3 text-black flex-shrink-0"})}),y.jsx("span",{children:c})]},f))})]})]}),y.jsx("div",{className:"mt-20 text-center border-t border-white/10 pt-10",children:y.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-8 md:gap-16 text-neutral-400 text-sm",children:[y.jsxs("div",{className:"flex items-center justify-center gap-3",children:[y.jsx(DG,{className:"w-5 h-5 text-yellow-500"}),y.jsx("span",{children:"Trusted by 10,000+ Creators"})]}),y.jsxs("div",{className:"flex items-center justify-center gap-3",children:[y.jsx("svg",{className:"w-5 h-5 text-google-green",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),y.jsx("span",{children:"Secure Payments"})]}),y.jsxs("div",{className:"flex items-center justify-center gap-3",children:[y.jsx("svg",{className:"w-5 h-5 text-google-blue",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),y.jsx("span",{children:"Cancel Anytime"})]})]})})]})]})},{useParams:fEe,Link:z2}=ri,hEe=()=>{const{slug:t}=fEe(),[e,n]=T.useState(null),[r,i]=T.useState(null),[a,s]=T.useState([]),[o,u]=T.useState(!0);if(T.useEffect(()=>{u(!0);const f=Object.values(To).find(h=>{var g;return((g=h.creatorSite)==null?void 0:g.slug)===t&&h.id.startsWith("seller")});if(f&&f.creatorSite&&f.creatorSite.isEnabled){n(f),i(f.creatorSite);const h=Bh.filter(g=>f.creatorSite.showcasedBookIds.includes(g.id)&&g.sellerId===f.id);s(h)}else n(null),i(null),s([]);u(!1)},[t]),T.useEffect(()=>(r!=null&&r.theme&&(document.body.className="",document.body.classList.add(`theme-${r.theme}`,"creator-site-body","font-sans")),()=>{document.body.className="font-sans",document.body.style.backgroundColor="#080808"}),[r==null?void 0:r.theme]),o)return y.jsx("div",{className:"flex justify-center items-center min-h-screen bg-brand-bg-dark text-white",children:"Loading Creator Page..."});if(!e||!r)return y.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen bg-brand-bg-dark text-white p-6 text-center",children:[y.jsx(Ei,{className:"w-20 h-20 text-brand-accent opacity-50 mb-6"}),y.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Creator Page Not Found"}),y.jsx("p",{className:"text-neutral-400 mb-6",children:"The page you're looking for doesn't exist or hasn't been configured by the seller."}),y.jsxs(z2,{to:"/",className:"px-6 py-2.5 rounded-sm font-semibold transition-all duration-200 bg-brand-accent text-black hover:bg-brand-accent-darker",children:["Back to ",Is]})]});const c=`theme-${r.theme}`;return y.jsxs("div",{className:`${c} pt-20`,children:[" ",y.jsxs("header",{className:"creator-site-header",children:[r.profileImageUrl&&y.jsx("img",{src:r.profileImageUrl,alt:r.displayName||e.name,className:"creator-site-profile-img"}),y.jsx("h1",{className:"creator-site-display-name",children:r.displayName||e.name}),r.tagline&&y.jsx("p",{className:"creator-site-tagline",children:r.tagline})]}),y.jsx("main",{className:"container mx-auto px-4 py-8",children:a.length>0?y.jsx("div",{className:"creator-site-books-grid",children:a.map(f=>y.jsxs("div",{className:"creator-site-book-card",children:[y.jsx("img",{src:f.coverImageUrl,alt:f.title,className:"creator-site-book-cover"}),y.jsxs("div",{className:"creator-site-book-info",children:[y.jsx("h2",{className:"creator-site-book-title",title:f.title,children:f.title}),y.jsxs("p",{className:"creator-site-book-author",children:["By ",f.author]}),y.jsxs("p",{className:"creator-site-book-price",children:["",f.price.toFixed(2)]}),y.jsxs(z2,{to:`/store?bookId=${f.id}`,className:"creator-site-book-button",target:"_blank",rel:"noopener noreferrer",children:["View on ",Is]})]})]},f.id))}):y.jsx("p",{className:"text-center text-lg col-span-full py-10",children:"This creator hasn't showcased any eBooks yet."})}),y.jsx("footer",{className:"creator-site-footer",children:y.jsxs("p",{children:[" ",new Date().getFullYear()," ",r.displayName||e.name,". Powered by ",y.jsx(z2,{to:"/",target:"_blank",rel:"noopener noreferrer",children:Is}),"."]})})]})},{useParams:pEe,useNavigate:mEe}=ri,Wp="w-full bg-[#0b0b0b] border border-white/10 rounded-xl p-4 text-sm text-white focus:outline-none focus:border-white/30 transition-all duration-200 placeholder-neutral-600 font-sans",Yp="block text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",gEe=()=>{const{bookId:t}=pEe(),e=mEe(),n=Bi(),{allBooks:r,updateEBook:i,currentUser:a,userType:s}=n,[o,u]=T.useState(null),[c,f]=T.useState(""),[h,g]=T.useState(""),[v,w]=T.useState(""),[E,A]=T.useState(""),[_,M]=T.useState(""),[R,I]=T.useState("paid"),[D,k]=T.useState(""),[P,B]=T.useState(null),[z,W]=T.useState(!0),[U,q]=T.useState(!1),[Z,V]=T.useState(null);T.useEffect(()=>{if(!t){e("/dashboard");return}const ae=r.find(Se=>Se.id===t);ae?a&&s===zt.SELLER&&ae.sellerId===a.id?(u(ae),f(ae.title),g(ae.author),w(ae.description),A(ae.genre),M(ae.price.toString()),I(ae.price===0?"free":"paid"),k(ae.coverImageUrl)):(V("You do not have permission to edit this eBook."),setTimeout(()=>e("/dashboard"),3e3)):(V("eBook not found."),setTimeout(()=>e("/dashboard"),3e3)),W(!1)},[t,r,e,a,s]);const Q=ae=>{R==="paid"&&M(ae)},H=ae=>{B(ae),k(`data:image/jpeg;base64,${ae.imageBytes}`)},$=ae=>{if(ae.preventDefault(),V(null),!o){V("No book selected for editing.");return}if(!c||!h||!v||!E){V("Please fill in all required fields.");return}let Se=0;if(R==="paid"){if(!_||isNaN(parseFloat(_))||parseFloat(_)<=0){V("Please enter a valid price.");return}Se=parseFloat(_)}else Se=0;q(!0);const Y=P?`data:image/jpeg;base64,${P.imageBytes}`:D,te={...o,title:c,author:h,description:v,genre:E,price:Se,coverImageUrl:Y,publicationDate:o.publicationDate};i(te),q(!1),e("/dashboard")};if(z)return y.jsx("div",{className:"min-h-screen bg-[#0b0b0b] flex items-center justify-center",children:y.jsx(x0,{size:"lg",color:"text-white"})});if(Z&&!o)return y.jsxs("div",{className:"min-h-screen bg-[#0b0b0b] flex flex-col items-center justify-center text-center px-6",children:[y.jsx(Ei,{className:"w-16 h-16 text-neutral-700 mb-6"}),y.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),y.jsx("p",{className:"text-neutral-500 mb-8",children:Z}),y.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-white text-black font-bold py-3 px-8 rounded-full hover:bg-neutral-200 transition-colors",children:"Back to Dashboard"})]});if(!o)return null;const J={title:c,genre:E,description:v};return y.jsx("div",{className:"min-h-screen bg-[#0b0b0b] pt-24 pb-20 px-4 md:px-8 font-sans",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors group",children:[y.jsx("div",{className:"w-8 h-8 rounded-full border border-white/10 flex items-center justify-center group-hover:bg-white group-hover:text-black transition-all",children:y.jsx(Lk,{className:"w-4 h-4"})}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Back"})]}),y.jsxs("h1",{className:"text-xl font-normal text-white flex items-center gap-3",children:["Edit ",y.jsx("span",{className:"text-neutral-500",children:"/"})," ",o.title]})]}),y.jsxs("form",{onSubmit:$,className:"bg-[#1e1e1e] border border-white/5 rounded-3xl p-8 md:p-10 shadow-2xl space-y-8 animate-slide-up",children:[y.jsxs("div",{className:"flex items-center gap-4 border-b border-white/5 pb-8 mb-8",children:[y.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center text-white border border-white/10",children:y.jsx(Rd,{className:"w-6 h-6"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-2xl font-normal text-white",children:"Book Configuration"}),y.jsx("p",{className:"text-neutral-500 text-sm",children:"Update metadata, pricing, and visual assets."})]})]}),Z&&y.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm font-medium",children:Z}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{htmlFor:"title",className:Yp,children:"Book Title"}),y.jsx("input",{type:"text",id:"title",value:c,onChange:ae=>f(ae.target.value),required:!0,className:Wp})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"author",className:Yp,children:"Author Name"}),y.jsx("input",{type:"text",id:"author",value:h,onChange:ae=>g(ae.target.value),required:!0,className:Wp})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"genre",className:Yp,children:"Genre"}),y.jsx("input",{type:"text",id:"genre",value:E,onChange:ae=>A(ae.target.value),required:!0,placeholder:"e.g. Sci-Fi",className:Wp})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{htmlFor:"description",className:Yp,children:"Description"}),y.jsx("textarea",{id:"description",value:v,onChange:ae=>w(ae.target.value),rows:4,required:!0,className:`${Wp} min-h-[120px] resize-none`})]})]}),y.jsxs("div",{className:"p-6 bg-[#0b0b0b] border border-white/5 rounded-2xl",children:[y.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Monetization Strategy"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[y.jsxs("button",{type:"button",onClick:()=>I("paid"),className:`p-5 rounded-2xl border text-left transition-all group ${R==="paid"?"bg-white text-black border-white":"bg-transparent border-white/10 hover:border-white/20"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R==="paid"?"bg-black text-white":"bg-white/10 text-neutral-400"}`,children:y.jsx(UA,{className:"w-4 h-4"})}),R==="paid"&&y.jsx(Lr,{className:"w-5 h-5 text-black"})]}),y.jsx("h4",{className:`font-bold mb-1 ${R==="paid"?"text-black":"text-white"}`,children:"Premium Asset"}),y.jsx("p",{className:`text-xs ${R==="paid"?"text-neutral-600":"text-neutral-500"}`,children:"Set a price and earn royalties."})]}),y.jsxs("button",{type:"button",onClick:()=>I("free"),className:`p-5 rounded-2xl border text-left transition-all group ${R==="free"?"bg-white text-black border-white":"bg-transparent border-white/10 hover:border-white/20"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${R==="free"?"bg-black text-white":"bg-white/10 text-neutral-400"}`,children:y.jsx(co,{className:"w-4 h-4"})}),R==="free"&&y.jsx(Lr,{className:"w-5 h-5 text-black"})]}),y.jsx("h4",{className:`font-bold mb-1 ${R==="free"?"text-black":"text-white"}`,children:"Growth Magnet"}),y.jsx("p",{className:`text-xs ${R==="free"?"text-neutral-600":"text-neutral-500"}`,children:"Free distribution for readers."})]})]}),R==="paid"&&y.jsxs("div",{className:"animate-fade-in space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"price",className:Yp,children:"List Price (INR)"}),y.jsx("input",{type:"number",id:"price",value:_,onChange:ae=>M(ae.target.value),step:"0.01",min:"1",required:R==="paid",className:Wp,placeholder:"499"})]}),y.jsx(UG,{bookDetails:J,onPriceSuggested:Q})]})]}),y.jsxs("div",{className:"p-6 bg-[#0b0b0b] border border-white/5 rounded-2xl",children:[y.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Cover Art"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[y.jsxs("div",{className:"w-full md:w-1/3 shrink-0",children:[y.jsx("div",{className:"aspect-[3/4] bg-[#1e1e1e] rounded-xl overflow-hidden border border-white/10 relative group",children:D?y.jsx("img",{src:D,alt:"Preview",className:"w-full h-full object-cover"}):y.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-neutral-600",children:[y.jsx(Ei,{className:"w-12 h-12 mb-2 opacity-50"}),y.jsx("span",{className:"text-xs uppercase tracking-widest",children:"No Cover"})]})}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{htmlFor:"manualCover",className:Yp,children:"Manual URL"}),y.jsx("input",{type:"url",id:"manualCover",value:P?"":D,onChange:ae=>{k(ae.target.value),B(null)},className:Wp,placeholder:"https://..."})]})]}),y.jsx("div",{className:"w-full md:w-2/3",children:y.jsx(BG,{onCoverGenerated:H,currentTitle:c,currentAuthor:h})})]})]}),y.jsxs("div",{className:"pt-6 border-t border-white/5 flex items-center justify-end gap-4",children:[y.jsx("button",{type:"button",onClick:()=>e("/dashboard"),className:"px-8 py-4 rounded-full border border-white/10 text-white font-bold text-xs uppercase tracking-widest hover:bg-white/5 transition-colors",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:U,className:"px-8 py-4 rounded-full bg-white text-black font-bold text-xs uppercase tracking-widest hover:bg-neutral-200 transition-all shadow-glow-white disabled:opacity-50 flex items-center gap-2",children:U?y.jsx(x0,{size:"sm",color:"text-black"}):y.jsxs(y.Fragment,{children:[y.jsx(Lr,{className:"w-4 h-4"})," Save Changes"]})})]})]})]})})},yEe=({title:t,onTitleChange:e,content:n,onContentChange:r,onTriggerAI:i,onTriggerImageGen:a})=>{const s=V=>{if(!V)return[{id:Date.now().toString(),type:"p",content:""}];const Q=V.split(`
`),H=[];for(const $ of Q)if($.startsWith("# "))H.push({id:Math.random().toString(),type:"h1",content:$.replace("# ","")});else if($.startsWith("## "))H.push({id:Math.random().toString(),type:"h2",content:$.replace("## ","")});else if($.startsWith("- "))H.push({id:Math.random().toString(),type:"ul",content:$.replace("- ","")});else if($.startsWith("> "))H.push({id:Math.random().toString(),type:"blockquote",content:$.replace("> ","")});else if($.startsWith("![")){const J=$.match(/\((.*?)\)/);J&&H.push({id:Math.random().toString(),type:"image",content:J[1]})}else H.push({id:Math.random().toString(),type:"p",content:$});return H.length===0&&H.push({id:Date.now().toString(),type:"p",content:""}),H},o=V=>V.map(Q=>Q.type==="h1"?`# ${Q.content}`:Q.type==="h2"?`## ${Q.content}`:Q.type==="ul"?`- ${Q.content}`:Q.type==="blockquote"?`> ${Q.content}`:Q.type==="image"?`![Image](${Q.content})`:Q.type==="image-prompt"?"":Q.content).join(`

`),[u,c]=T.useState(()=>s(n)),[f,h]=T.useState(0),[g,v]=T.useState(!1),[w,E]=T.useState({top:0,left:0}),[A,_]=T.useState(""),[M,R]=T.useState(0),I=T.useRef([]);T.useEffect(()=>{const V=o(u);V!==n&&!u.some(Q=>Q.type==="image-prompt")&&r(V)},[u]),T.useEffect(()=>{const V=o(u);n!==V&&c(s(n))},[n]);const k=[{label:"Heading 1",type:"h1",icon:tle,desc:"Big section header"},{label:"Heading 2",type:"h2",icon:nle,desc:"Medium subsection header"},{label:"Bullet List",type:"ul",icon:rle,desc:"Simple bulleted list"},{label:"Quote",type:"blockquote",icon:ile,desc:"Capture a quote"},{label:"Text",type:"p",icon:kG,desc:"Plain text paragraph"},{label:"Ask Co-Author",action:"ai",icon:Rd,desc:"Generate text with AI",highlight:!0},{label:"Generate Image",action:"img",icon:Zoe,desc:"Create art from description",highlight:!0}].filter(V=>V.label.toLowerCase().includes(A.toLowerCase())||V.desc.toLowerCase().includes(A.toLowerCase())),P=()=>{var H;const V=window.getSelection();if(V&&V.rangeCount>0){const J=V.getRangeAt(0).getBoundingClientRect(),ae=(H=I.current[f])==null?void 0:H.closest(".editor-container");if(ae){const Se=ae.getBoundingClientRect();E({top:J.bottom-Se.top+8,left:J.left-Se.left}),v(!0),_(""),R(0);return}}const Q=I.current[f];Q&&(E({top:Q.offsetTop+Q.clientHeight+8,left:Q.offsetLeft}),v(!0),_(""),R(0))},B=()=>{v(!1),_(""),R(0)},z=V=>{const Q=[...u];if(Q[f].content="",V.action)if(V.action==="img")Q[f].type="image-prompt",c(Q),B();else{c(Q),B();const H=window.prompt("Instruction for Co-Author:");H&&i(H)}else Q[f].type=V.type,c(Q),B(),setTimeout(()=>{var H;return(H=I.current[f])==null?void 0:H.focus()},0)},W=(V,Q)=>{var H,$;if(g){if(V.key==="ArrowDown"){V.preventDefault(),R(J=>(J+1)%k.length);return}if(V.key==="ArrowUp"){V.preventDefault(),R(J=>(J-1+k.length)%k.length);return}if(V.key==="Enter"){V.preventDefault(),k[M]&&z(k[M]);return}if(V.key==="Escape"){V.preventDefault(),B();return}}if(V.key==="Enter"&&!V.shiftKey){V.preventDefault();const J={id:Date.now().toString(),type:"p",content:""},ae=[...u];ae.splice(Q+1,0,J),c(ae),h(Q+1),setTimeout(()=>{var Se;return(Se=I.current[Q+1])==null?void 0:Se.focus()},0)}else if(V.key==="Backspace"&&u[Q].content===""){if(V.preventDefault(),u.length>1){const J=[...u];J.splice(Q,1),c(J),h(Math.max(0,Q-1)),setTimeout(()=>{var ae;return(ae=I.current[Math.max(0,Q-1)])==null?void 0:ae.focus()},0)}}else V.key==="ArrowUp"&&!g?Q>0&&(V.preventDefault(),h(Q-1),(H=I.current[Q-1])==null||H.focus()):V.key==="ArrowDown"&&!g&&Q<u.length-1&&(V.preventDefault(),h(Q+1),($=I.current[Q+1])==null||$.focus())},U=(V,Q)=>{const H=V.currentTarget.innerText,$=[...u];$[Q].content=H,c($),H.startsWith("/")?(g||P(),_(H.substring(1)),R(0)):g&&B()},q=(V,Q)=>{if(!Q.trim())return;a(Q);const H=[...u];H[V]={...H[V],type:"p",content:`*Creating visual: "${Q}"...*`};const $={id:Date.now().toString(),type:"p",content:""};H.splice(V+1,0,$),c(H),h(V+1),setTimeout(()=>{var J;return(J=I.current[V+1])==null?void 0:J.focus()},0)},Z=V=>{const Q=[...u];Q[V]={...Q[V],type:"p",content:""},c(Q),setTimeout(()=>{var H;return(H=I.current[V])==null?void 0:H.focus()},0)};return y.jsxs("div",{className:"editor-container w-full max-w-4xl mx-auto min-h-screen relative font-sans flex flex-col pt-10 pb-32",children:[y.jsx("div",{className:"px-12 mb-8 group",children:y.jsx("input",{type:"text",value:t,onChange:V=>e(V.target.value),className:"w-full bg-transparent text-5xl font-bold text-white border-none outline-none placeholder-neutral-700 leading-tight",placeholder:"Untitled"})}),y.jsx("div",{className:"px-12 relative flex-1",children:u.map((V,Q)=>y.jsxs("div",{className:"group relative mb-2",children:[V.type!=="image-prompt"&&y.jsx("div",{className:"absolute -left-8 top-1 opacity-0 group-hover:opacity-100 cursor-grab text-neutral-600 hover:text-white transition-opacity select-none",children:y.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:"::"})}),V.type==="image"?y.jsx("div",{className:"rounded-lg overflow-hidden border border-white/10 my-4 bg-black/20",children:y.jsx("img",{src:V.content,alt:"Generated",className:"w-full h-auto"})}):V.type==="image-prompt"?y.jsxs("div",{className:"my-4 p-1.5 pl-3 bg-[#151515] border border-white/20 rounded-full flex items-center gap-3 w-full max-w-xl shadow-2xl animate-fade-in focus-within:border-white/40 focus-within:ring-1 focus-within:ring-white/20 transition-all",children:[y.jsx(Rd,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}),y.jsx("input",{autoFocus:!0,type:"text",placeholder:"Describe the image (e.g. A cyberpunk city in rain)...",className:"flex-1 bg-transparent border-none outline-none text-sm text-white placeholder-neutral-500 h-8 min-w-0",value:V.content,onChange:H=>{const $=[...u];$[Q].content=H.target.value,c($)},onKeyDown:H=>{var $,J;H.key==="Enter"&&(H.preventDefault(),q(Q,V.content)),H.key==="Escape"&&(H.preventDefault(),Z(Q)),H.key==="ArrowUp"&&Q>0&&(H.preventDefault(),($=I.current[Q-1])==null||$.focus()),H.key==="ArrowDown"&&Q<u.length-1&&(H.preventDefault(),(J=I.current[Q+1])==null||J.focus())}}),y.jsxs("div",{className:"flex items-center gap-2 pr-1",children:[y.jsx("button",{onClick:()=>q(Q,V.content),className:"px-6 py-2 bg-white text-black rounded-full text-[10px] font-bold uppercase tracking-widest hover:bg-neutral-200 transition-all shadow-[0_0_15px_rgba(255,255,255,0.3)] hover:scale-105 active:scale-95 flex-shrink-0",title:"Generate Visual",children:"ENTER"}),y.jsx("button",{onClick:()=>Z(Q),className:"w-8 h-8 rounded-full text-neutral-500 hover:text-white flex items-center justify-center transition-colors hover:bg-white/10",title:"Cancel",children:y.jsx(Md,{className:"w-4 h-4"})})]})]}):y.jsx("div",{ref:H=>{I.current[Q]=H},contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:H=>W(H,Q),onInput:H=>U(H,Q),onFocus:()=>h(Q),className:`w-full outline-none empty:before:content-[attr(data-placeholder)] empty:before:text-neutral-700
                                ${V.type==="h1"?"text-4xl font-bold text-white mb-4 mt-6":V.type==="h2"?"text-2xl font-bold text-neutral-200 mb-3 mt-4":V.type==="ul"?"list-disc list-inside text-lg text-neutral-300 pl-4 border-l-2 border-transparent":V.type==="blockquote"?"text-xl italic text-neutral-400 border-l-4 border-white/20 pl-4 py-2 my-4":"text-lg text-neutral-300 leading-relaxed"}
                            `,"data-placeholder":V.type==="p"&&Q===0&&u.length===1?"Start writing or type '/' for commands...":"Type '/' for commands",children:V.content})]},V.id))}),g&&y.jsxs("div",{className:"absolute z-50 w-72 bg-[#121212]/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-[0_10px_40px_rgba(0,0,0,0.8)] overflow-hidden animate-slide-up origin-top-left flex flex-col ring-1 ring-white/10",style:{top:w.top,left:w.left},children:[y.jsxs("div",{className:"px-3 py-2 text-[10px] font-bold text-neutral-500 uppercase tracking-widest border-b border-white/5 flex justify-between items-center bg-white/[0.02]",children:[y.jsx("span",{children:"Blocks"}),y.jsx("button",{onClick:B,className:"hover:text-white transition-colors",children:y.jsx(Md,{className:"w-3 h-3"})})]}),y.jsx("div",{className:"p-1 max-h-[320px] overflow-y-auto custom-scrollbar",children:k.length>0?k.map((V,Q)=>y.jsxs("button",{onMouseDown:H=>{H.preventDefault(),z(V)},onMouseEnter:()=>R(Q),className:`w-full flex items-center gap-3 p-2 rounded-lg text-left transition-colors group cursor-pointer ${Q===M?"bg-white/10":"hover:bg-white/5"}`,children:[y.jsx("div",{className:`w-10 h-10 rounded border flex items-center justify-center transition-colors shadow-sm ${V.highlight?"bg-indigo-500/20 border-indigo-500/30 text-indigo-400":"bg-white/5 border-white/10 text-white"}`,children:y.jsx(V.icon,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:`text-sm font-bold truncate ${V.highlight?"text-indigo-300":"text-white"}`,children:V.label}),y.jsx("div",{className:"text-[10px] text-neutral-500 truncate",children:V.desc})]})]},V.label)):y.jsx("div",{className:"p-4 text-center text-neutral-500 text-xs",children:"No matching commands"})})]})]})},vEe=({isOpen:t,onClose:e,content:n,isStreaming:r,chapterTitle:i})=>{const a=T.useRef(null),[s,o]=T.useState(""),[u,c]=T.useState({tps:0,stability:100,sync:0}),[f,h]=T.useState(null),[g,v]=T.useState(!1);if(T.useEffect(()=>{if(a.current){const E=a.current;E.scrollHeight-E.scrollTop-E.clientHeight<300&&E.scrollTo({top:E.scrollHeight,behavior:"smooth"})}},[s]),T.useEffect(()=>{if(!t)return;o(n);const E=n.match(/!\[.*?\]\((.*?)\)/g);if(E){const _=E[E.length-1].match(/\((.*?)\)/);_&&_[1]!==f&&(v(!0),setTimeout(()=>{h(_[1]),v(!1)},2e3))}if(r){const A=setInterval(()=>{c({tps:Math.floor(Math.random()*40)+90,stability:98+Math.random()*2,sync:Math.min(100,u.sync+2)})},800);return()=>clearInterval(A)}else c(A=>({...A,sync:100,tps:0}))},[n,t,r]),!t)return null;const w=()=>s.split(/(!\[.*?\]\(.*?\))/g).map((A,_)=>{var M,R;if(A.match(/!\[.*?\]\(.*?\)/)){const I=(M=A.match(/\((.*?)\)/))==null?void 0:M[1],D=((R=A.match(/!\[(.*?)\]/))==null?void 0:R[1])||"Visual Asset";if(!I)return null;const k=I===f&&g;return y.jsxs("div",{className:"my-12 w-full flex flex-col items-center",children:[y.jsxs("div",{className:`
                          relative w-full max-w-3xl aspect-video rounded-lg overflow-hidden transition-all duration-1000
                          ${k?"scale-95 opacity-80 blur-sm":"scale-100 opacity-100 blur-0 shadow-2xl shadow-indigo-500/10"}
                      `,children:[k&&y.jsx("div",{className:"absolute inset-0 z-10 bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10",children:y.jsxs("div",{className:"flex flex-col items-center gap-3",children:[y.jsx(Rd,{className:"w-6 h-6 text-white animate-spin-slow"}),y.jsx("span",{className:"text-[10px] uppercase tracking-[0.3em] text-white/70",children:"Materializing Visual..."})]})}),y.jsx("img",{src:I,alt:D,className:"w-full h-full object-cover animate-fade-in"}),y.jsx("div",{className:"absolute top-0 left-0 right-0 h-12 bg-gradient-to-b from-black/60 to-transparent pointer-events-none"}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-black/60 to-transparent pointer-events-none"})]}),y.jsxs("span",{className:"mt-4 text-[10px] uppercase tracking-widest text-neutral-600 font-medium",children:["Fig. ",_+1,"  ",D]})]},_)}return y.jsx("div",{className:"animate-slide-up",children:A.split(`
`).map((I,D)=>I.trim()?I.startsWith("# ")?y.jsx("h1",{className:"text-4xl md:text-5xl font-serif text-white font-medium mb-8 mt-12 leading-tight tracking-tight",children:I.replace("# ","")},D):I.startsWith("## ")?y.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-white/90 mb-6 mt-10 leading-snug",children:I.replace("## ","")},D):y.jsx("p",{className:"mb-6 text-lg md:text-xl leading-relaxed text-neutral-300 font-serif font-light tracking-wide mix-blend-screen",children:I.replace(/\*\*(.*?)\*\*/g,(k,P)=>P)},D):y.jsx("div",{className:"h-6"},D))},_)});return y.jsxs("div",{className:"fixed inset-0 z-[100] bg-black text-white overflow-hidden flex flex-col font-sans",children:[y.jsxs("div",{className:"absolute inset-0 pointer-events-none z-0",children:[y.jsx("div",{className:`
                absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-indigo-900/20 rounded-full blur-[120px] transition-all duration-[2000ms]
                ${r?"opacity-60 scale-110 translate-y-10":"opacity-30 scale-100"}
            `}),y.jsx("div",{className:`
                absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-violet-900/10 rounded-full blur-[150px] transition-all duration-[3000ms]
                ${r?"opacity-50 scale-105 -translate-y-10":"opacity-20 scale-100"}
            `}),y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"})]}),y.jsxs("header",{className:"relative z-20 h-20 px-8 flex items-center justify-between backdrop-blur-sm",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:`absolute -inset-2 bg-white/5 rounded-full blur-md transition-opacity duration-500 ${r?"opacity-100":"opacity-0"}`}),y.jsx(np,{className:"w-10 h-10 border border-white/10 bg-black/50 shadow-2xl",isActive:r})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-sm font-bold tracking-[0.2em] text-white uppercase",children:"Co-Author"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${r?"bg-green-500 animate-pulse":"bg-neutral-600"}`}),y.jsx("p",{className:"text-[10px] text-neutral-500 font-medium uppercase tracking-widest",children:r?"Neural Engine Active":"Standby"})]})]})]}),y.jsxs("button",{onClick:e,className:"group flex items-center gap-3 px-6 py-2.5 rounded-full bg-white/5 hover:bg-white/10 border border-white/5 transition-all hover:scale-105 active:scale-95 backdrop-blur-md",children:[y.jsx("span",{className:"text-xs font-bold tracking-widest text-neutral-400 group-hover:text-white transition-colors",children:"EXIT STUDIO"}),y.jsx(Md,{className:"w-4 h-4 text-neutral-500 group-hover:text-white transition-colors"})]})]}),y.jsx("main",{className:"relative z-10 flex-1 overflow-hidden flex justify-center",children:y.jsxs("div",{ref:a,className:"w-full max-w-4xl h-full overflow-y-auto custom-scrollbar px-6 md:px-12 py-12 scroll-smooth",children:[y.jsx("div",{className:"flex justify-center mb-16 opacity-0 animate-fade-in",style:{animationDelay:"0.2s"},children:y.jsx("div",{className:"px-4 py-1.5 rounded-full border border-white/10 bg-white/[0.02] backdrop-blur-md",children:y.jsxs("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-[0.2em]",children:["Drafting: ",i]})})}),y.jsxs("article",{className:"prose prose-invert max-w-none",children:[w(),r&&y.jsx("div",{className:"inline-block w-1 h-6 ml-1 bg-gradient-to-t from-transparent via-white to-transparent opacity-80 animate-pulse align-middle shadow-[0_0_10px_rgba(255,255,255,0.5)]"})]}),y.jsx("div",{className:"h-32"})]})}),y.jsx("div",{className:"absolute bottom-8 left-0 right-0 z-30 flex justify-center pointer-events-none",children:y.jsxs("div",{className:"flex items-center gap-6 px-8 py-3 bg-[#0a0a0a]/80 backdrop-blur-xl border border-white/10 rounded-full shadow-[0_20px_50px_rgba(0,0,0,0.5)] pointer-events-auto transition-transform duration-500 hover:scale-105",children:[y.jsxs("div",{className:"flex items-center gap-3 border-r border-white/5 pr-6",children:[y.jsx(PG,{className:"w-4 h-4 text-neutral-500"}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"text-sm font-bold text-white tabular-nums leading-none",children:u.tps}),y.jsx("span",{className:"text-[8px] uppercase tracking-widest text-neutral-600 font-bold",children:"Tokens/s"})]})]}),y.jsxs("div",{className:"flex items-center gap-3 border-r border-white/5 pr-6",children:[y.jsx(jk,{className:"w-4 h-4 text-neutral-500"}),y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("span",{className:"text-sm font-bold text-white tabular-nums leading-none",children:[u.stability.toFixed(0),"%"]}),y.jsx("span",{className:"text-[8px] uppercase tracking-widest text-neutral-600 font-bold",children:"Coherence"})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Bv,{className:`w-4 h-4 transition-colors ${r?"text-green-500":"text-neutral-500"}`}),y.jsx("div",{className:"w-24 h-1 bg-white/10 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-white transition-all duration-300 ease-out shadow-[0_0_10px_white]",style:{width:`${u.sync}%`}})})]})]})})]})},{useNavigate:bEe,useLocation:xEe}=ri,wEe=()=>{var Ke;const{currentUser:t,addCreatedBook:e}=Bi(),n=bEe(),i=((Ke=xEe().state)==null?void 0:Ke.initialPrompt)||"",[a,s]=T.useState("chat"),[o,u]=T.useState(!1),[c,f]=T.useState([{id:"1",title:"Chapter 1: The Beginning",content:"",pageNumber:1}]),[h,g]=T.useState("1"),v=T.useMemo(()=>c.find(ne=>ne.id===h)||c[0],[c,h]),[w,E]=T.useState([]),[A,_]=T.useState(""),[M,R]=T.useState(!1),[I,D]=T.useState(!1),[k,P]=T.useState("idle"),[B,z]=T.useState([]),[W,U]=T.useState([]),[q,Z]=T.useState([]),V=T.useRef(null),Q=T.useRef([]),H=T.useRef(null),$=T.useRef(null),J=T.useRef(null),ae=T.useRef(null);T.useEffect(()=>{if(!H.current){const ne=`You are the Co-Author engine (v3.5) for co-writter.
        Current User: ${(t==null?void 0:t.name)||"Author"}.
        Project Context: Active Chapter "${v.title}".
        Goal: Writing a world-class book with deep reasoning.`,be=LG(ne);be&&(H.current=be,E([{id:"sys-init",role:"ai",text:"Engine Online. Ready to create."}]),i&&setTimeout(()=>Ee(void 0,i),500))}},[]),T.useEffect(()=>{var ne;(ne=$.current)==null||ne.scrollIntoView({behavior:"smooth"})},[w,a]),T.useEffect(()=>{J.current&&(J.current.style.height="auto",J.current.style.height=Math.min(J.current.scrollHeight,120)+"px")},[A]),T.useEffect(()=>{if(!M)if(k==="planning")if(c.length>1){const ne=c.map(be=>be.id);z(ne),P("writing_sequence"),Se(ne)}else P("idle");else k==="writing_sequence"&&(B.length>0?Se(B):(P("idle"),E(ne=>[...ne,{id:Date.now().toString(),role:"system",text:"Auto-Pilot Complete. Book Finalized."}])))},[M,k,c]);const Se=ne=>{if(ne.length===0)return;const be=ne[0],ve=ne.slice(1);z(ve),g(be);const Te=c.find(Be=>Be.id===be);Te&&setTimeout(()=>{const Be=`Lead Writer: Chapter ${Te.pageNumber}: "${Te.title}". Write immersive ~1000 words.`;Ee(void 0,Be)},1e3)},Y=async ne=>new Promise((be,ve)=>{const Te=new FileReader;Te.onloadend=()=>{const Be=Te.result.split(",")[1];be({inlineData:{data:Be,mimeType:ne.type}})},Te.onerror=ve,Te.readAsDataURL(ne)}),te=ne=>{if(ne.target.files){const be=Array.from(ne.target.files);U(Te=>[...Te,...be]);const ve=be.map(Te=>URL.createObjectURL(Te));Z(Te=>[...Te,...ve])}},ce=ne=>{U(be=>be.filter((ve,Te)=>Te!==ne)),Z(be=>(be[ne]&&URL.revokeObjectURL(be[ne]),be.filter((ve,Te)=>Te!==ne)))},me=async(ne,be)=>{try{if(ne==="write_content")return f(ve=>ve.map(Te=>Te.id===h?{...Te,content:be.content}:Te)),"Content saved to editor.";if(ne==="generate_image"){E(Te=>[...Te,{id:Date.now().toString(),role:"system",text:`Visualizing: ${be.prompt}...`}]);const ve=await OG(be.prompt,"Cinematic",v.title,t==null?void 0:t.name);if("imageBytes"in ve){const Te=`

![${be.prompt}](data:image/jpeg;base64,${ve.imageBytes})

`;return f(Be=>Be.map(St=>St.id===h?{...St,content:St.content+Te}:St)),"Visual asset materialized."}return"Visualization failed."}if(ne==="propose_blueprint"){const ve=be.outline.map((Te,Be)=>({id:Date.now().toString()+Be,title:Te.title,content:`> **Objective**: ${Te.summary}

`,pageNumber:Be+1}));return f(ve),ve.length>0&&g(ve[0].id),`Blueprint synchronized. Title: "${be.title}".`}return"Instruction acknowledged."}catch(ve){return`Error: ${ve.message}`}},Ee=async(ne,be)=>{const ve=be||A;if(!ve.trim()&&W.length===0)return;const Te=[...W],Be=[...q];_(""),U([]),Z([]),J.current&&(J.current.style.height="auto"),(!k||k==="idle")&&E(dn=>[...dn,{id:Date.now().toString(),role:"user",text:ve,attachments:Be}]),R(!0);const St=(Date.now()+1).toString();E(dn=>[...dn,{id:St,role:"ai",text:"",isStreaming:!0}]);try{if(!H.current)throw new Error("No link");const dn=[];ve.trim()&&dn.push({text:ve});for(const sr of Te)dn.push(await Y(sr));const Hi=await H.current.sendMessageStream({message:dn});let ai="",Ci;for await(const sr of Hi)sr.text&&(ai+=sr.text,E(ma=>ma.map(Lt=>Lt.id===St?{...Lt,text:ai}:Lt))),sr!=null&&sr.functionCalls&&(Ci=sr.functionCalls);if(Ci&&Ci.length>0){E(wr=>wr.map(Gi=>Gi.id===St?{...Gi,isToolUse:!0,text:Gi.text+`

*Synchronizing Editor...*`}:Gi));const sr=[];for(const wr of Ci)sr.push({functionResponse:{name:wr.name,response:{result:await me(wr.name,wr.args)}}});const ma=await H.current.sendMessageStream({message:sr});let Lt="";for await(const wr of ma)wr.text&&(Lt+=wr.text,E(Gi=>Gi.map(or=>or.id===St?{...or,text:ai+(ai?`

`:"")+Lt,isToolUse:!1}:or)))}E(sr=>sr.map(ma=>ma.id===St?{...ma,isStreaming:!1}:ma))}catch{E(Hi=>Hi.map(ai=>ai.id===St?{...ai,text:"Interface interrupted. Please retry.",isStreaming:!1}:ai))}finally{R(!1)}},Me=async()=>{try{const ne=await navigator.mediaDevices.getUserMedia({audio:!0}),be=new MediaRecorder(ne);V.current=be,Q.current=[],be.ondataavailable=ve=>{ve.data.size>0&&Q.current.push(ve.data)},be.onstop=async()=>{const ve=new Blob(Q.current,{type:"audio/webm"}),Te=new FileReader;Te.readAsDataURL(ve),Te.onloadend=async()=>{const Be=Te.result.split(",")[1];R(!0);try{const St=await gle(Be,"audio/webm");St&&_(dn=>dn+(dn?" ":"")+St)}catch{}R(!1)},ne.getTracks().forEach(Be=>Be.stop())},be.start(),D(!0)}catch{alert("Mic access denied.")}},Ce=()=>{V.current&&I&&(V.current.stop(),D(!1))},ft=()=>{if(u(!0),c.length<=1&&c[0].content.length<200)P("planning"),Ee(void 0,`Architect: Proposed outline for "${c[0].title}". Use propose_blueprint.`);else{const be=c.map(ve=>ve.id);z(be),P("writing_sequence"),Se(be)}},fe=()=>{e({id:`gen-${Date.now()}`,title:c[0].title||"Untitled",author:(t==null?void 0:t.name)||"Author",description:"AI Synthesized Book",price:0,coverImageUrl:"https://images.unsplash.com/photo-1543002588-bfa74002ed7e?auto=format&fit=crop&q=80&w=800",genre:"Draft",sellerId:(t==null?void 0:t.id)||"guest",publicationDate:new Date().toISOString().split("T")[0],pages:c}),n("/dashboard")},Re=w.slice().reverse().find(ne=>ne.role==="ai");return y.jsxs("div",{className:"flex flex-col h-screen bg-black text-white overflow-hidden font-sans",children:[y.jsx(vEe,{isOpen:o,onClose:()=>{u(!1),P("idle"),z([])},content:Re?Re.text:"Neural Link Established...",isStreaming:M,chapterTitle:v.title}),y.jsxs("header",{className:"h-14 border-b border-white/10 bg-[#050505] flex items-center justify-between px-4 z-50 shrink-0",children:[y.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-neutral-400 hover:text-white uppercase text-[10px] font-bold tracking-widest transition-colors",children:[y.jsx(Lk,{className:"w-4 h-4"})," Exit Studio"]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("button",{onClick:ft,disabled:M||k!=="idle",className:"flex items-center gap-2 px-4 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-[10px] font-bold uppercase hover:bg-indigo-500/20 transition-colors disabled:opacity-50 text-indigo-300",children:[M?y.jsx(Rd,{className:"w-3 h-3 animate-spin"}):y.jsx(jk,{className:"w-3 h-3"}),k!=="idle"?"Processing...":"Neural Auto-Pilot"]}),y.jsx("div",{className:"h-4 w-px bg-white/10 mx-1"}),y.jsx("button",{onClick:fe,className:"bg-white text-black px-6 py-1.5 rounded-full text-[10px] font-bold uppercase hover:bg-neutral-200 transition-colors shadow-[0_0_15px_rgba(255,255,255,0.15)]",children:"Sync Changes"})]})]}),y.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[y.jsxs("aside",{className:"hidden md:flex w-[360px] bg-[#09090b] border-r border-white/10 flex-col z-20 shadow-2xl",children:[y.jsxs("div",{className:"flex border-b border-white/10",children:[y.jsx("button",{onClick:()=>s("chat"),className:`flex-1 py-4 text-[10px] font-bold uppercase tracking-widest transition-colors ${a==="chat"?"text-white bg-white/5 border-b-2 border-white":"text-neutral-500 hover:text-neutral-300"}`,children:"Co-Author"}),y.jsx("button",{onClick:()=>s("outline"),className:`flex-1 py-4 text-[10px] font-bold uppercase tracking-widest transition-colors ${a==="outline"?"text-white bg-white/5 border-b-2 border-white":"text-neutral-500 hover:text-neutral-300"}`,children:"Outline"})]}),y.jsxs("div",{className:"flex-1 overflow-hidden relative flex flex-col",children:[a==="chat"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-0",children:[w.map((ne,be)=>{var ve;return y.jsxs("div",{className:"py-6 px-5 border-b border-white/5 last:border-0 hover:bg-white/[0.02] transition-colors group",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2 opacity-80 group-hover:opacity-100 transition-opacity",children:[ne.role==="user"?y.jsx("div",{className:"w-5 h-5 rounded-full bg-neutral-800 flex items-center justify-center border border-white/10",children:y.jsx("span",{className:"text-[10px] font-bold text-neutral-400",children:"U"})}):y.jsx("div",{className:"w-5 h-5 rounded-full bg-indigo-500/10 flex items-center justify-center border border-indigo-500/20",children:y.jsx(Rd,{className:"w-3 h-3 text-indigo-400"})}),y.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${ne.role==="user"?"text-neutral-500":"text-indigo-400"}`,children:ne.role==="user"?"Human":"Neural Core"})]}),y.jsxs("div",{className:`pl-8 text-sm leading-7 font-medium whitespace-pre-wrap font-sans ${ne.role==="user"?"text-white":"text-neutral-300"}`,children:[(ve=ne.attachments)==null?void 0:ve.map((Te,Be)=>y.jsx("img",{src:Te,className:"h-20 w-auto rounded-lg mb-2"},Be)),ne.text,ne.isToolUse&&y.jsxs("div",{className:"mt-2 text-[9px] text-green-400 uppercase tracking-widest flex items-center gap-1",children:[y.jsx(Lr,{className:"w-2 h-2"})," Sync Active"]}),ne.role==="ai"&&ne.isStreaming&&be===w.length-1&&y.jsx("span",{className:"inline-block w-2 h-4 ml-1 bg-indigo-500 animate-pulse"})]})]},ne.id)}),y.jsx("div",{ref:$})]}),y.jsxs("div",{className:"p-4 bg-[#09090b] border-t border-white/10",children:[q.length>0&&y.jsx("div",{className:"flex gap-2 mb-3 px-1 overflow-x-auto",children:q.map((ne,be)=>y.jsxs("div",{className:"relative group flex-shrink-0",children:[y.jsx("img",{src:ne,className:"h-14 w-14 object-cover rounded-lg border border-white/10 shadow-md"}),y.jsx("button",{onClick:()=>ce(be),className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-black rounded-full text-white border border-white/20 hover:bg-red-500 transition-colors",children:y.jsx(Md,{className:"w-3 h-3"})})]},be))}),y.jsxs("div",{className:`bg-[#151515] border rounded-[28px] p-2 flex items-end gap-2 shadow-lg transition-colors ${M?"border-indigo-500/30":"border-white/10 focus-within:border-white/20"}`,children:[y.jsx("button",{onClick:()=>{var ne;return(ne=ae.current)==null?void 0:ne.click()},className:"w-9 h-9 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center text-neutral-400 hover:text-white transition-colors mb-0.5",children:y.jsx(CR,{className:"w-4 h-4"})}),y.jsx("input",{type:"file",ref:ae,className:"hidden",onChange:te,accept:"image/*,application/pdf",multiple:!0}),y.jsx("button",{onMouseDown:Me,onMouseUp:Ce,className:`w-9 h-9 rounded-full flex items-center justify-center transition-all flex-shrink-0 mb-0.5 ${I?"bg-red-500 text-white scale-110":"bg-white/5 text-neutral-400 hover:text-white"}`,children:I?y.jsx(Qoe,{className:"w-4 h-4"}):y.jsx(Joe,{className:"w-4 h-4"})}),y.jsx("textarea",{ref:J,value:A,onChange:ne=>_(ne.target.value),placeholder:I?"Listening...":"Ask Co-Author...",className:"flex-1 bg-transparent border-none outline-none text-white text-sm py-2.5 max-h-32 resize-none font-medium",onKeyDown:ne=>{ne.key==="Enter"&&!ne.shiftKey&&(ne.preventDefault(),Ee())},disabled:M}),y.jsx("button",{onClick:()=>Ee(),className:"w-9 h-9 rounded-full bg-white text-black flex items-center justify-center hover:scale-105 transition-transform mb-0.5 disabled:opacity-50",children:M?y.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}):y.jsx(RG,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex justify-between items-center mt-2 px-2 text-[9px] text-neutral-600 font-mono",children:[y.jsx("span",{children:"GEMINI 3 FLASH CORE"}),y.jsxs("span",{children:[v.content.length," CHARS"]})]})]})]}),a==="outline"&&y.jsxs("div",{className:"p-4 space-y-2 overflow-y-auto flex-1",children:[c.map((ne,be)=>y.jsxs("button",{onClick:()=>g(ne.id),className:`w-full text-left p-4 rounded-xl border text-sm transition-all group ${h===ne.id?"bg-white/10 border-white/20 text-white shadow-lg":"border-transparent text-neutral-500 hover:bg-white/5"}`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-1",children:[y.jsxs("span",{className:"text-[9px] uppercase font-bold opacity-50 tracking-wider",children:["Chapter ",be+1]}),h===ne.id&&y.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500"})]}),y.jsx("span",{className:"font-bold truncate block",children:ne.title})]},ne.id)),y.jsxs("button",{onClick:()=>{const ne=Date.now().toString();f([...c,{id:ne,title:"New Chapter",content:"",pageNumber:c.length+1}]),g(ne)},className:"w-full py-4 border border-dashed border-white/10 text-neutral-500 text-xs font-bold uppercase rounded-xl hover:border-white/30 hover:text-white mt-4 flex items-center justify-center gap-2 transition-all",children:[y.jsx(CR,{className:"w-3 h-3"})," Append Node"]})]})]})]}),y.jsxs("main",{className:"flex-1 flex flex-col relative bg-[#000000]",children:[y.jsxs("div",{className:"h-10 bg-[#050505] border-b border-white/5 flex items-center justify-between px-6 shrink-0",children:[y.jsx("span",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-[0.2em]",children:v.title}),y.jsxs("div",{className:"flex items-center gap-4 text-[9px] font-mono text-neutral-600 uppercase tracking-widest",children:[y.jsx("span",{className:"bg-white/5 px-2 py-0.5 rounded",children:"MODALITY: TEXT/IMAGE"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${M?"bg-indigo-500 animate-pulse":"bg-green-500"}`}),y.jsx("span",{children:M?"SYNCING":"STABLE"})]})]})]}),y.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar scroll-smooth",children:y.jsx(yEe,{title:v.title,onTitleChange:ne=>f(be=>be.map(ve=>ve.id===h?{...ve,title:ne}:ve)),content:v.content,onContentChange:ne=>f(be=>be.map(ve=>ve.id===h?{...ve,content:ne}:ve)),onTriggerAI:ne=>Ee(void 0,`Write content: ${ne}`),onTriggerImageGen:ne=>Ee(void 0,`Generate image: ${ne}`)})})]})]})]})},ki=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),AM=[.001,0,0,.001,0,0],H2=1.35,$a={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Qo={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},O0="pdfjs_internal_editor_",rt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},PW={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$r={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},p0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},$n={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Qp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Zx={ERRORS:0,WARNINGS:1,INFOS:5},ly={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},HS={moveTo:0,lineTo:1,curveTo:2,closePath:3},kW={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let EC=Zx.WARNINGS;function SEe(t){Number.isInteger(t)&&(EC=t)}function EEe(){return EC}function AC(t){EC>=Zx.INFOS&&console.info(`Info: ${t}`)}function it(t){EC>=Zx.WARNINGS&&console.warn(`Warning: ${t}`)}function on(t){throw new Error(t)}function wt(t,e){t||on(e)}function AEe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function hI(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=REe(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return AEe(r)?r:null}function pI(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&hI(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function ut(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const ap=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class Xz extends ap{constructor(e,n){super(e,"PasswordException"),this.code=n}}class G2 extends ap{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class BE extends ap{constructor(e){super(e,"InvalidPDFException")}}class j0 extends ap{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class CEe extends ap{constructor(e){super(e,"FormatError")}}class Lu extends ap{constructor(e){super(e,"AbortException")}}function DW(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&on("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const a=Math.min(i+n,e),s=t.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")}function ew(t){typeof t!="string"&&on("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function _Ee(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function TEe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function NEe(){try{return new Function(""),!0}catch{return!1}}class Or{static get isLittleEndian(){return ut(this,"isLittleEndian",TEe())}static get isEvalSupported(){return ut(this,"isEvalSupported",NEe())}static get isOffscreenCanvasSupported(){return ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ut(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return ut(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return ut(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const $2=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Au,c1,CM;class Le{static makeHexColor(e,n,r){return`#${$2[e]}${$2[n]}${$2[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],a=e[r+1];e[r]=i*n[0]+a*n[2]+n[4],e[r+1]=i*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],a=n[1],s=n[2],o=n[3],u=n[4],c=n[5];for(let f=0;f<6;f+=2){const h=e[r+f],g=e[r+f+1];e[r+f]=h*i+g*s+u,e[r+f+1]=h*a+g*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,r){const i=n[0],a=n[1],s=n[2],o=n[3],u=n[4],c=n[5],f=e[0],h=e[1],g=e[2],v=e[3];let w=i*f+u,E=w,A=i*g+u,_=A,M=o*h+c,R=M,I=o*v+c,D=I;if(a!==0||s!==0){const k=a*f,P=a*g,B=s*h,z=s*v;w+=B,_+=B,A+=z,E+=z,M+=k,D+=k,I+=P,R+=P}r[0]=Math.min(r[0],w,A,E,_),r[1]=Math.min(r[1],M,I,R,D),r[2]=Math.max(r[2],w,A,E,_),r[3]=Math.max(r[3],M,I,R,D)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],a=e[2],s=e[3],o=r**2+i**2,u=r*a+i*s,c=a**2+s**2,f=(o+c)/2,h=Math.sqrt(f**2-(o*c-u**2));n[0]=Math.sqrt(f+h||1),n[1]=Math.sqrt(f-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[r,a,i,s]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,a){a[0]=Math.min(a[0],e,r),a[1]=Math.min(a[1],n,i),a[2]=Math.max(a[2],e,r),a[3]=Math.max(a[3],n,i)}static bezierBoundingBox(e,n,r,i,a,s,o,u,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,u),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,u),F(this,Au,CM).call(this,e,r,a,o,n,i,s,u,3*(-e+3*(r-a)+o),6*(e-2*r+a),3*(r-e),c),F(this,Au,CM).call(this,e,r,a,o,n,i,s,u,3*(-n+3*(i-s)+u),6*(n-2*i+s),3*(i-n),c)}}Au=new WeakSet,c1=function(e,n,r,i,a,s,o,u,c,f){if(c<=0||c>=1)return;const h=1-c,g=c*c,v=g*c,w=h*(h*(h*e+3*c*n)+3*g*r)+v*i,E=h*(h*(h*a+3*c*s)+3*g*o)+v*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],E),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],E)},CM=function(e,n,r,i,a,s,o,u,c,f,h,g){if(Math.abs(c)<1e-12){Math.abs(f)>=1e-12&&F(this,Au,c1).call(this,e,n,r,i,a,s,o,u,-h/f,g);return}const v=f**2-4*h*c;if(v<0)return;const w=Math.sqrt(v),E=2*c;F(this,Au,c1).call(this,e,n,r,i,a,s,o,u,(-f+w)/E,g),F(this,Au,c1).call(this,e,n,r,i,a,s,o,u,(-f-w)/E,g)},j(Le,Au);function REe(t){return decodeURIComponent(escape(t))}let q2=null,Jz=null;function IW(t){return q2||(q2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Jz=new Map([["","t"]])),t.replaceAll(q2,(e,n,r)=>n?n.normalize("NFKC"):Jz.get(r))}function mI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),DW(t)}const gI="pdfjs_internal_id_";function MEe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...a]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const s=a.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const u of a)if(!(typeof u=="number"||o&&u===null))return!1;return!0}function yi(t,e,n){return Math.min(Math.max(t,e),n)}function LW(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(DW(t))}function PEe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):ew(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class F0{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(a){var u;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(F0.shouldBuildText(o))(u=a==null?void 0:a.attributes)!=null&&u.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const c of a.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class yI{static setupStorage(e,n,r,i,a){const s=i.getValue(n,{value:null});switch(r.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(s.value===r.attributes.xfaOn?e.setAttribute("checked",!0):s.value===r.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of r.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const u=o.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:a}){const{attributes:s}=n,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${i}`);for(const[u,c]of Object.entries(s))if(c!=null)switch(u){case"class":c.length&&e.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,c)}o&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,n,r)}static render(e){var h,g;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:r});const o=a!=="richText",u=e.div;if(u.append(s),e.viewport){const v=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=v}o&&u.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const v=document.createTextNode(i.value);s.append(v),o&&F0.shouldBuildText(i.name)&&c.push(v)}return{textDivs:c}}const f=[[i,-1,s]];for(;f.length>0;){const[v,w,E]=f.at(-1);if(w+1===v.children.length){f.pop();continue}const A=v.children[++f.at(-1)[1]];if(A===null)continue;const{name:_}=A;if(_==="#text"){const R=document.createTextNode(A.value);c.push(R),E.append(R);continue}const M=(h=A==null?void 0:A.attributes)!=null&&h.xmlns?document.createElementNS(A.attributes.xmlns,_):document.createElement(_);if(E.append(M),A.attributes&&this.setAttributes({html:M,element:A,storage:n,intent:a,linkService:r}),((g=A.children)==null?void 0:g.length)>0)f.push([A,-1,M]);else if(A.value){const R=document.createTextNode(A.value);o&&F0.shouldBuildText(_)&&c.push(R),M.append(R)}}for(const v of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Pl="http://www.w3.org/2000/svg",wf=class wf{};we(wf,"CSS",96),we(wf,"PDF",72),we(wf,"PDF_TO_CSS_UNITS",wf.CSS/wf.PDF);let Ou=wf;async function Ty(t,e="text"){if(Gv(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class tw{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s,r*=n;const u=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let f,h,g,v;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,h=0,g=0,v=1;break;case 90:f=0,h=1,g=1,v=0;break;case 270:f=0,h=-1,g=-1,v=0;break;case 0:f=1,h=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(g=-g,v=-v);let w,E,A,_;f===0?(w=Math.abs(c-e[1])*r+a,E=Math.abs(u-e[0])*r+s,A=(e[3]-e[1])*r,_=(e[2]-e[0])*r):(w=Math.abs(u-e[0])*r+a,E=Math.abs(c-e[1])*r+s,A=(e[2]-e[0])*r,_=(e[3]-e[1])*r),this.transform=[f*r,h*r,g*r,v*r,w-f*r*u-g*r*c,E-h*r*u-v*r*c],this.width=A,this.height=_}get rawDims(){const e=this.viewBox;return ut(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}={}){return new tw({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}convertToViewportPoint(e,n){const r=[e,n];return Le.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];Le.applyTransform(n,this.transform);const r=[e[2],e[3]];return Le.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return Le.applyInverseTransform(r,this.transform),r}}class CC extends ap{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function nw(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function _C(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function OW(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function jW(t,e="document.pdf"){if(typeof t!="string")return e;if(nw(t))return it('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let u=decodeURIComponent(o);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:o):u}catch{return o}},a=/\.pdf$/i,s=r.pathname.split("/").at(-1);if(a.test(s))return i(s);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(a.test(c))return i(c);const u=Array.from(r.searchParams.keys()).reverse();for(const c of u)if(a.test(c))return i(c)}if(r.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(u)return i(u[0])}return e}class Qz{constructor(){we(this,"started",Object.create(null));we(this,"times",[])}time(e){e in this.started&&it(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||it(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:a}of this.times)e.push(`${r.padEnd(n)} ${a-i}ms
`);return e.join("")}}function Gv(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function Za(t){t.preventDefault()}function Nn(t){t.preventDefault(),t.stopPropagation()}function kEe(t){console.log("Deprecated API usage: "+t)}var $0;class U0{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;m(this,$0)||L(this,$0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=m(this,$0).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let u=parseInt(n[6],10);u=u>=0&&u<=59?u:0;const c=n[7]||"Z";let f=parseInt(n[8],10);f=f>=0&&f<=23?f:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(s+=f,o+=h):c==="+"&&(s-=f,o-=h),new Date(Date.UTC(r,i,a,s,o,u))}}$0=new WeakMap,j(U0,$0);function FW(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,a=[0,0,parseInt(r),parseInt(i)];return new tw({viewBox:a,userUnit:1,scale:e,rotation:n})}function Ny(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(it(`Not a valid color format: "${t}"`),[0,0,0])}function DEe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Ny(r))}e.remove()}function _n(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform();return[e,n,r,i,a,s]}function Ao(t){const{a:e,b:n,c:r,d:i,e:a,f:s}=t.getTransform().invertSelf();return[e,n,r,i,a,s]}function Dd(t,e,n=!1,r=!0){if(e instanceof tw){const{pageWidth:i,pageHeight:a}=e.rawDims,{style:s}=t,o=Or.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${a}px`,f=o?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,h=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(s.width=f,s.height=h):(s.width=h,s.height=f)}r&&t.setAttribute("data-main-rotation",e.rotation)}class go{constructor(){const{pixelRatio:e}=go;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,a=-1){let s=1/0,o=1/0,u=1/0;r=go.capPixels(r,a),r>0&&(s=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,u=i/n);const c=Math.min(s,o,u);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const zE=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class IEe{static get isDarkMode(){var e;return ut(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class UW{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),ut(this,"commentForegroundColor",Ny(r))}}function BW(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function Zz(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.max(n,r,i),s=Math.min(n,r,i),o=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const u=a-s;switch(e[1]=o<.5?u/(a+s):u/(2-a-s),a){case n:e[0]=((r-i)/u+(r<i?6:0))*60;break;case r:e[0]=((i-n)/u+2)*60;break;case i:e[0]=((n-r)/u+4)*60;break}}e[2]=o}function _M(t,e){const n=t[0],r=t[1],i=t[2],a=(1-Math.abs(2*i-1))*r,s=a*(1-Math.abs(n/60%2-1)),o=i-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 2:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=a+o;break;case 5:case 6:e[0]=a+o,e[1]=o,e[2]=s+o;break}}function eH(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function tH(t,e,n){_M(t,n),n.map(eH);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];_M(e,n),n.map(eH);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const nH=new Map;function zW(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=nH.get(n);if(r)return r;const i=new Float32Array(9),a=i.subarray(0,3),s=i.subarray(3,6);Zz(t,s);const o=i.subarray(6,9);Zz(e,o);const u=o[2]<.5,c=u?12:4.5;if(s[2]=u?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),tH(s,o,a)<c){let f,h;u?(f=s[2],h=1):(f=0,h=s[2]);const g=.005;for(;h-f>g;){const v=s[2]=(f+h)/2;u===tH(s,o,a)<c?f=v:h=v}s[2]=u?h:f}return _M(s,a),r=Le.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),nH.set(n,r),r}function vI({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const s=t.split(/(?:\r\n?|\n)/);for(let o=0,u=s.length;o<u;++o){const c=s[o];a.append(document.createTextNode(c)),o<u-1&&a.append(document.createElement("br"))}i.append(a)}else yI.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}var Rc,Mc,ys,vs,q0,Pc,Tm,Nm,V0,QE,HW,Zr,GW,$W,Zp,$v;const Il=class Il{constructor(e){j(this,Zr);j(this,Rc,null);j(this,Mc,null);j(this,ys);j(this,vs,null);j(this,q0,null);j(this,Pc,null);j(this,Tm,null);j(this,Nm,null);L(this,ys,e),m(Il,V0)||L(Il,V0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=L(this,Rc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=m(this,ys)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Za,{signal:n}),e.addEventListener("pointerdown",F(Il,QE,HW),{signal:n}));const r=L(this,vs,document.createElement("div"));r.className="buttons",e.append(r);const i=m(this,ys).toolbarPosition;if(i){const{style:a}=e,s=m(this,ys)._uiManager.direction==="ltr"?1-i[0]:i[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return m(this,Rc)}hide(){var e;m(this,Rc).classList.add("hidden"),(e=m(this,Mc))==null||e.hideDropdown()}show(){var e,n;m(this,Rc).classList.remove("hidden"),(e=m(this,q0))==null||e.shown(),(n=m(this,Pc))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=m(this,ys),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",m(Il,V0)[e]),F(this,Zr,Zp).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),m(this,vs).append(r)}async addAltText(e){const n=await e.render();F(this,Zr,Zp).call(this,n),m(this,vs).append(n,m(this,Zr,$v)),L(this,q0,e)}addComment(e,n=null){if(m(this,Pc))return;const r=e.renderForToolbar();if(!r)return;F(this,Zr,Zp).call(this,r);const i=L(this,Tm,m(this,Zr,$v));n?(m(this,vs).insertBefore(r,n),m(this,vs).insertBefore(i,n)):m(this,vs).append(r,i),L(this,Pc,e),e.toolbar=this}addColorPicker(e){if(m(this,Mc))return;L(this,Mc,e);const n=e.renderButton();F(this,Zr,Zp).call(this,n),m(this,vs).append(n,m(this,Zr,$v))}async addEditSignatureButton(e){const n=L(this,Nm,await e.renderEditButton(m(this,ys)));F(this,Zr,Zp).call(this,n),m(this,vs).append(n,m(this,Zr,$v))}removeButton(e){var n,r;switch(e){case"comment":(n=m(this,Pc))==null||n.removeToolbarCommentButton(),L(this,Pc,null),(r=m(this,Tm))==null||r.remove(),L(this,Tm,null);break}}async addButton(e,n){switch(e){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(n);break}}async addButtonBefore(e,n,r){const i=m(this,vs).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){m(this,Nm)&&(m(this,Nm).title=e)}remove(){var e;m(this,Rc).remove(),(e=m(this,Mc))==null||e.destroy(),L(this,Mc,null)}};Rc=new WeakMap,Mc=new WeakMap,ys=new WeakMap,vs=new WeakMap,q0=new WeakMap,Pc=new WeakMap,Tm=new WeakMap,Nm=new WeakMap,V0=new WeakMap,QE=new WeakSet,HW=function(e){e.stopPropagation()},Zr=new WeakSet,GW=function(e){m(this,ys)._focusEventsAllowed=!1,Nn(e)},$W=function(e){m(this,ys)._focusEventsAllowed=!0,Nn(e)},Zp=function(e){const n=m(this,ys)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",F(this,Zr,GW).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",F(this,Zr,$W).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Za,{signal:n}),!0)},$v=function(){const e=document.createElement("div");return e.className="divider",e},j(Il,QE),j(Il,V0,null);let TM=Il;var W0,Nf,jl,ju,qW,VW,NM;class LEe{constructor(e){j(this,ju);j(this,W0,null);j(this,Nf,null);j(this,jl);L(this,jl,e)}show(e,n,r){const[i,a]=F(this,ju,VW).call(this,n,r),{style:s}=m(this,Nf)||L(this,Nf,F(this,ju,qW).call(this));e.append(m(this,Nf)),s.insetInlineEnd=`${100*i}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Nf).remove()}}W0=new WeakMap,Nf=new WeakMap,jl=new WeakMap,ju=new WeakSet,qW=function(){const e=L(this,Nf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=m(this,jl)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Za,{signal:n});const r=L(this,W0,document.createElement("div"));return r.className="buttons",e.append(r),m(this,jl).hasCommentManager()&&F(this,ju,NM).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{m(this,jl).commentSelection("floating_button")}),F(this,ju,NM).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{m(this,jl).highlightSelection("floating_button")}),e},VW=function(e,n){let r=0,i=0;for(const a of e){const s=a.y+a.height;if(s<r)continue;const o=a.x+(n?a.width:0);if(s>r){i=o,r=s;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},NM=function(e,n,r,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",r);const o=m(this,jl)._signal;o instanceof AbortSignal&&!o.aborted&&(a.addEventListener("contextmenu",Za,{signal:o}),a.addEventListener("click",i,{signal:o})),m(this,W0).append(a)};function WW(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var ZE;class OEe{constructor(){j(this,ZE,0)}get id(){return`${O0}${ur(this,ZE)._++}`}}ZE=new WeakMap;var Rm,Y0,ci,Mm,d1;const RI=class RI{constructor(){j(this,Mm);j(this,Rm,mI());j(this,Y0,0);j(this,ci,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const a=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return ut(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:a}=e;return F(this,Mm,d1).call(this,`${n}_${r}_${i}_${a}`,e)}async getFromUrl(e){return F(this,Mm,d1).call(this,e,e)}async getFromBlob(e,n){const r=await n;return F(this,Mm,d1).call(this,e,r)}async getFromId(e){m(this,ci)||L(this,ci,new Map);const n=m(this,ci).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){m(this,ci)||L(this,ci,new Map);let r=m(this,ci).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${m(this,Rm)}_${ur(this,Y0)._++}`,refCounter:1,isSvg:!1},m(this,ci).set(e,r),m(this,ci).set(r.id,r),r}getSvgUrl(e){const n=m(this,ci).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;m(this,ci)||L(this,ci,new Map);const n=m(this,ci).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(r.width,r.height);a.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=a.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,Rm)}_`)}};Rm=new WeakMap,Y0=new WeakMap,ci=new WeakMap,Mm=new WeakSet,d1=async function(e,n){m(this,ci)||L(this,ci,new Map);let r=m(this,ci).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${m(this,Rm)}_${ur(this,Y0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await Ty(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const a=RI._isSVGFittingCanvas,s=new FileReader,o=new Image,u=new Promise((c,f)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},s.onload=async()=>{const h=r.svgUrl=s.result;o.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=s.onerror=f});s.readAsDataURL(i),await u}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){it(i),r=null}return m(this,ci).set(e,r),r&&m(this,ci).set(r.id,r),r};let RM=RI;var qn,kc,K0,Cn;class jEe{constructor(e=128){j(this,qn,[]);j(this,kc,!1);j(this,K0);j(this,Cn,-1);L(this,K0,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(i&&e(),m(this,kc))return;const u={cmd:e,undo:n,post:r,type:a};if(m(this,Cn)===-1){m(this,qn).length>0&&(m(this,qn).length=0),L(this,Cn,0),m(this,qn).push(u);return}if(s&&m(this,qn)[m(this,Cn)].type===a){o&&(u.undo=m(this,qn)[m(this,Cn)].undo),m(this,qn)[m(this,Cn)]=u;return}const c=m(this,Cn)+1;c===m(this,K0)?m(this,qn).splice(0,1):(L(this,Cn,c),c<m(this,qn).length&&m(this,qn).splice(c)),m(this,qn).push(u)}undo(){if(m(this,Cn)===-1)return;L(this,kc,!0);const{undo:e,post:n}=m(this,qn)[m(this,Cn)];e(),n==null||n(),L(this,kc,!1),L(this,Cn,m(this,Cn)-1)}redo(){if(m(this,Cn)<m(this,qn).length-1){L(this,Cn,m(this,Cn)+1),L(this,kc,!0);const{cmd:e,post:n}=m(this,qn)[m(this,Cn)];e(),n==null||n(),L(this,kc,!1)}}hasSomethingToUndo(){return m(this,Cn)!==-1}hasSomethingToRedo(){return m(this,Cn)<m(this,qn).length-1}cleanType(e){if(m(this,Cn)!==-1){for(let n=m(this,Cn);n>=0;n--)if(m(this,qn)[n].type!==e){m(this,qn).splice(n+1,m(this,Cn)-n),L(this,Cn,n);return}m(this,qn).length=0,L(this,Cn,-1)}}destroy(){L(this,qn,null)}}qn=new WeakMap,kc=new WeakMap,K0=new WeakMap,Cn=new WeakMap;var eA,YW;class rw{constructor(e){j(this,eA);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Or.platform;for(const[r,i,a={}]of e)for(const s of r){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:i,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(F(this,eA,YW).call(this,n));if(!r)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...s,n)(),a||Nn(n))}}eA=new WeakSet,YW=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const tA=class tA{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return DEe(e),ut(this,"_colors",e)}convert(e){const n=Ny(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((a,s)=>a===n[s]))return tA._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Le.makeHexColor(...n):e}};we(tA,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let MM=tA;var Pm,Ta,km,Dn,dr,Dm,bs,Im,xs,di,Dc,Ic,Lm,Lc,No,ws,Rf,X0,J0,Om,Q0,Ro,Oc,jm,jc,Mo,nA,Fc,Fm,Z0,Uc,Mf,Um,Bc,eb,tr,Ut,Fl,zc,Hc,tb,Bm,nb,Gc,Po,Ul,rb,ib,Ss,_e,f1,PM,KW,XW,qv,JW,QW,ZW,kM,e7,DM,IM,t7,Ti,kl,n7,r7,LM,i7,Vv,OM;const fm=class fm{constructor(e,n,r,i,a,s,o,u,c,f,h,g,v,w,E,A){j(this,_e);j(this,Pm,new AbortController);j(this,Ta,null);j(this,km,null);j(this,Dn,new Map);j(this,dr,new Map);j(this,Dm,null);j(this,bs,null);j(this,Im,null);j(this,xs,new jEe);j(this,di,null);j(this,Dc,null);j(this,Ic,null);j(this,Lm,0);j(this,Lc,new Set);j(this,No,null);j(this,ws,null);j(this,Rf,new Set);we(this,"_editorUndoBar",null);j(this,X0,!1);j(this,J0,!1);j(this,Om,!1);j(this,Q0,null);j(this,Ro,null);j(this,Oc,null);j(this,jm,null);j(this,jc,!1);j(this,Mo,null);j(this,nA,new OEe);j(this,Fc,!1);j(this,Fm,!1);j(this,Z0,!1);j(this,Uc,null);j(this,Mf,null);j(this,Um,null);j(this,Bc,null);j(this,eb,null);j(this,tr,rt.NONE);j(this,Ut,new Set);j(this,Fl,null);j(this,zc,null);j(this,Hc,null);j(this,tb,null);j(this,Bm,null);j(this,nb,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});j(this,Gc,[0,0]);j(this,Po,null);j(this,Ul,null);j(this,rb,null);j(this,ib,null);j(this,Ss,null);const _=this._signal=m(this,Pm).signal;L(this,Ul,e),L(this,rb,n),L(this,ib,r),L(this,Dm,i),L(this,di,a),L(this,zc,s),L(this,Bm,u),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:_}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:_}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:_}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:_}),o._on("setpreference",this.onSetPreference.bind(this),{signal:_}),o._on("switchannotationeditorparams",M=>this.updateParams(M.type,M.value),{signal:_}),window.addEventListener("pointerdown",()=>{L(this,Fm,!0)},{capture:!0,signal:_}),window.addEventListener("pointerup",()=>{L(this,Fm,!1)},{capture:!0,signal:_}),F(this,_e,JW).call(this),F(this,_e,t7).call(this),F(this,_e,kM).call(this),L(this,bs,u.annotationStorage),L(this,Q0,u.filterFactory),L(this,Hc,c),L(this,jm,f||null),L(this,X0,h),L(this,J0,g),L(this,Om,v),L(this,eb,w||null),this.viewParameters={realScale:Ou.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=E||null,this._supportsPinchToZoom=A!==!1,a==null||a.setSidebarUiManager(this)}static get _keyboardManager(){const e=fm.prototype,n=s=>m(s,Ul).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),r=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:u}=o;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return ut(this,"_keyboardManager",new rw([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&m(s,Ul).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&m(s,Ul).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,n,r,i,a,s,o,u,c;(e=m(this,Ss))==null||e.resolve(),L(this,Ss,null),(n=m(this,Pm))==null||n.abort(),L(this,Pm,null),this._signal=null;for(const f of m(this,dr).values())f.destroy();m(this,dr).clear(),m(this,Dn).clear(),m(this,Rf).clear(),(r=m(this,Bc))==null||r.clear(),L(this,Ta,null),m(this,Ut).clear(),m(this,xs).destroy(),(i=m(this,Dm))==null||i.destroy(),(a=m(this,di))==null||a.destroy(),(s=m(this,zc))==null||s.destroy(),(o=m(this,Mo))==null||o.hide(),L(this,Mo,null),(u=m(this,Um))==null||u.destroy(),L(this,Um,null),L(this,km,null),m(this,Ro)&&(clearTimeout(m(this,Ro)),L(this,Ro,null)),m(this,Po)&&(clearTimeout(m(this,Po)),L(this,Po,null)),(c=this._editorUndoBar)==null||c.destroy(),L(this,Bm,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,eb)}get useNewAltTextFlow(){return m(this,J0)}get useNewAltTextWhenAddingImage(){return m(this,Om)}get hcmFilter(){return ut(this,"hcmFilter",m(this,Hc)?m(this,Q0).addHCMFilter(m(this,Hc).foreground,m(this,Hc).background):"none")}get direction(){return ut(this,"direction",getComputedStyle(m(this,Ul)).direction)}get _highlightColors(){return ut(this,"_highlightColors",m(this,jm)?new Map(m(this,jm).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ut(this,"highlightColors",null);const n=new Map,r=!!m(this,Hc);for(const[i,a]of e){const s=i.endsWith("_HCM");if(r&&s){n.set(i.replace("_HCM",""),a);continue}!r&&!s&&n.set(i,a)}return ut(this,"highlightColors",n)}get highlightColorNames(){return ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),L(this,Ic,e)}setMainHighlightColorPicker(e){L(this,Um,e)}editAltText(e,n=!1){var r;(r=m(this,Dm))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!m(this,di)}editComment(e,n,r,i){var a;(a=m(this,di))==null||a.showDialog(this,e,n,r,i)}selectComment(e,n){const r=m(this,dr).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=m(this,di))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=m(this,di))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=m(this,di))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=m(this,di))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=m(this,di))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=m(this,di))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(m(this,dr).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=m(this,zc))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return m(this,zc)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":L(this,Om,n);break}}onPageChanging({pageNumber:e}){L(this,Lm,e-1)}focusMainContainer(){m(this,Ul).focus()}findParent(e,n){for(const r of m(this,dr).values()){const{x:i,y:a,width:s,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+s&&n>=a&&n<=a+o)return r}return null}disableUserSelect(e=!1){m(this,rb).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,Rf).add(e)}removeShouldRescale(e){m(this,Rf).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Ou.PDF_TO_CSS_UNITS;for(const r of m(this,Rf))r.onScaleChanging();(n=m(this,Ic))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:o}=r,u=r.toString(),f=F(this,_e,f1).call(this,r).closest(".textLayer"),h=this.getSelectionBoxes(f);if(!h)return;r.empty();const g=F(this,_e,PM).call(this,f),v=m(this,tr)===rt.NONE,w=()=>{const E=g==null?void 0:g.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:o,text:u});v&&this.showAllEditors("highlight",!0,!0),n&&(E==null||E.editComment())};if(v){this.switchToMode(rt.HIGHLIGHT,w);return}w()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!m(this,bs))return null;const n=`${O0}${e}`,r=m(this,bs).getRawValue(n);return r&&m(this,bs).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&m(this,bs)&&!m(this,bs).has(e.id)&&m(this,bs).setValue(e.id,e)}a11yAlert(e,n=null){const r=m(this,ib);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,m(this,jc)&&(L(this,jc,!1),F(this,_e,qv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of m(this,Ut))if(n.div.contains(e)){L(this,Mf,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!m(this,Mf))return;const[e,n]=m(this,Mf);L(this,Mf,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){F(this,_e,kM).call(this),F(this,_e,DM).call(this)}removeEditListeners(){F(this,_e,e7).call(this),F(this,_e,IM).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of m(this,ws))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of m(this,ws))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=m(this,Ta))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of m(this,Ut)){const a=i.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of m(this,ws))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(a){it(`paste: "${a.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const a=[];for(const u of r){const c=await i.deserialize(u);if(!c)return;a.push(c)}const s=()=>{for(const u of a)F(this,_e,LM).call(this,u);F(this,_e,OM).call(this,a)},o=()=>{for(const u of a)u.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){it(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,tr)!==rt.NONE&&!this.isEditorHandlingKeyboard&&fm._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,jc)&&(L(this,jc,!1),F(this,_e,qv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(F(this,_e,QW).call(this),F(this,_e,DM).call(this),F(this,_e,Ti).call(this,{isEditing:m(this,tr)!==rt.NONE,isEmpty:F(this,_e,Vv).call(this),hasSomethingToUndo:m(this,xs).hasSomethingToUndo(),hasSomethingToRedo:m(this,xs).hasSomethingToRedo(),hasSelectedEditor:!1})):(F(this,_e,ZW).call(this),F(this,_e,IM).call(this),F(this,_e,Ti).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,ws)){L(this,ws,e);for(const n of m(this,ws))F(this,_e,kl).call(this,n.defaultPropertiesToUpdate)}}getId(){return m(this,nA).id}get currentLayer(){return m(this,dr).get(m(this,Lm))}getLayer(e){return m(this,dr).get(e)}get currentPageIndex(){return m(this,Lm)}addLayer(e){m(this,dr).set(e.pageIndex,e),m(this,Fc)?e.enable():e.disable()}removeLayer(e){m(this,dr).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,a=!1){var s,o,u,c,f,h;if(m(this,tr)!==e&&!(m(this,Ss)&&(await m(this,Ss).promise,!m(this,Ss)))){if(L(this,Ss,Promise.withResolvers()),(s=m(this,Ic))==null||s.commitOrRemove(),m(this,tr)===rt.POPUP&&((o=m(this,di))==null||o.hideSidebar()),(u=m(this,di))==null||u.destroyPopup(),L(this,tr,e),e===rt.NONE){this.setEditingState(!1),F(this,_e,r7).call(this);for(const g of m(this,Dn).values())g.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),m(this,Ss).resolve();return}for(const g of m(this,Dn).values())g.addStandaloneCommentButton();e===rt.SIGNATURE&&await((f=m(this,zc))==null?void 0:f.loadSignatures()),this.setEditingState(!0),await F(this,_e,n7).call(this),this.unselectAll();for(const g of m(this,dr).values())g.updateMode(e);if(e===rt.POPUP){m(this,km)||L(this,km,await m(this,Bm).getAnnotationsByType(new Set(m(this,ws).map(w=>w._editorType))));const g=new Set,v=[];for(const w of m(this,Dn).values()){const{annotationElementId:E,hasComment:A,deleted:_}=w;E&&g.add(E),A&&!_&&v.push(w.getData())}for(const w of m(this,km)){const{id:E,popupRef:A,contentsObj:_}=w;A&&(_!=null&&_.str)&&!g.has(E)&&!m(this,Lc).has(E)&&v.push(w)}(h=m(this,di))==null||h.showSidebar(v)}if(!n){r&&this.addNewEditorFromKeyboard(),m(this,Ss).resolve();return}for(const g of m(this,Dn).values())g.uid===n?(this.setSelected(g),a?g.editComment():i?g.enterInEditMode():g.focus()):g.unselect();m(this,Ss).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==m(this,tr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(m(this,ws)){switch(e){case bt.CREATE:this.currentLayer.addNewEditor(n);return;case bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,tb)||L(this,tb,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of m(this,Ut))r.updateParams(e,n);else for(const r of m(this,ws))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var a;for(const s of m(this,Dn).values())s.editorType===e&&s.show(n);(((a=m(this,tb))==null?void 0:a.get(bt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&F(this,_e,kl).call(this,[[bt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(m(this,Z0)!==e){L(this,Z0,e);for(const n of m(this,dr).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of m(this,Dn).values())n.pageIndex===e&&(yield n)}getEditor(e){return m(this,Dn).get(e)}addEditor(e){m(this,Dn).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(m(this,Ro)&&clearTimeout(m(this,Ro)),L(this,Ro,setTimeout(()=>{this.focusMainContainer(),L(this,Ro,null)},0))),m(this,Dn).delete(e.id),e.annotationElementId&&((n=m(this,Bc))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!m(this,Lc).has(e.annotationElementId))&&((r=m(this,bs))==null||r.remove(e.id))}addDeletedAnnotationElement(e){m(this,Lc).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,Lc).has(e)}removeDeletedAnnotationElement(e){m(this,Lc).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,Ta)!==e&&(L(this,Ta,e),e&&F(this,_e,kl).call(this,e.propertiesToUpdate))}updateUI(e){m(this,_e,i7)===e&&F(this,_e,kl).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){F(this,_e,kl).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(m(this,Ut).has(e)){m(this,Ut).delete(e),e.unselect(),F(this,_e,Ti).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,Ut).add(e),e.select(),F(this,_e,kl).call(this,e.propertiesToUpdate),F(this,_e,Ti).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.id}),(n=m(this,Ic))==null||n.commitOrRemove();for(const r of m(this,Ut))r!==e&&r.unselect();m(this,Ut).clear(),m(this,Ut).add(e),e.select(),F(this,_e,kl).call(this,e.propertiesToUpdate),F(this,_e,Ti).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,Ut).has(e)}get firstSelectedEditor(){return m(this,Ut).values().next().value}unselect(e){e.unselect(),m(this,Ut).delete(e),F(this,_e,Ti).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,Ut).size!==0}get isEnterHandled(){return m(this,Ut).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;m(this,xs).undo(),F(this,_e,Ti).call(this,{hasSomethingToUndo:m(this,xs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:F(this,_e,Vv).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){m(this,xs).redo(),F(this,_e,Ti).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,xs).hasSomethingToRedo(),isEmpty:F(this,_e,Vv).call(this)})}addCommands(e){m(this,xs).add(e),F(this,_e,Ti).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:F(this,_e,Vv).call(this)})}cleanUndoStack(e){m(this,xs).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...m(this,Ut)],r=()=>{var s;(s=this._editorUndoBar)==null||s.show(i,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},i=()=>{for(const s of n)F(this,_e,LM).call(this,s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=m(this,Ta))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,Ta)||this.hasSelection}selectAll(){for(const e of m(this,Ut))e.commit();F(this,_e,OM).call(this,m(this,Dn).values())}unselectAll(){var e;if(!(m(this,Ta)&&(m(this,Ta).commitOrRemove(),m(this,tr)!==rt.NONE))&&!((e=m(this,Ic))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of m(this,Ut))n.unselect();m(this,Ut).clear(),F(this,_e,Ti).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;m(this,Gc)[0]+=e,m(this,Gc)[1]+=n;const[i,a]=m(this,Gc),s=[...m(this,Ut)],o=1e3;m(this,Po)&&clearTimeout(m(this,Po)),L(this,Po,setTimeout(()=>{L(this,Po,null),m(this,Gc)[0]=m(this,Gc)[1]=0,this.addCommands({cmd:()=>{for(const u of s)m(this,Dn).has(u.id)&&(u.translateInPage(i,a),u.translationDone())},undo:()=>{for(const u of s)m(this,Dn).has(u.id)&&(u.translateInPage(-i,-a),u.translationDone())},mustExec:!1})},o));for(const u of s)u.translateInPage(e,n),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),L(this,No,new Map);for(const e of m(this,Ut))m(this,No).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,No))return!1;this.disableUserSelect(!1);const e=m(this,No);L(this,No,null);let n=!1;for(const[{x:i,y:a,pageIndex:s},o]of e)o.newX=i,o.newY=a,o.newPageIndex=s,n||(n=i!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!n)return!1;const r=(i,a,s,o)=>{if(m(this,Dn).has(i.id)){const u=m(this,dr).get(o);u?i._setParentAndPosition(u,a,s):(i.pageIndex=o,i.x=a,i.y=s)}};return this.addCommands({cmd:()=>{for(const[i,{newX:a,newY:s,newPageIndex:o}]of e)r(i,a,s,o)},undo:()=>{for(const[i,{savedX:a,savedY:s,savedPageIndex:o}]of e)r(i,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(m(this,No))for(const r of m(this,No).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,Ut).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,Ta)===e}getActive(){return m(this,Ta)}getMode(){return m(this,tr)}isEditingMode(){return m(this,tr)!==rt.NONE}get imageManager(){return ut(this,"imageManager",new RM)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,f=n.rangeCount;c<f;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,f,h,g)=>({x:(f-i)/s,y:1-(c+h-r)/a,width:g/s,height:h/a});break;case"180":o=(c,f,h,g)=>({x:1-(c+h-r)/a,y:1-(f+g-i)/s,width:h/a,height:g/s});break;case"270":o=(c,f,h,g)=>({x:1-(f+g-i)/s,y:(c-r)/a,width:g/s,height:h/a});break;default:o=(c,f,h,g)=>({x:(c-r)/a,y:(f-i)/s,width:h/a,height:g/s});break}const u=[];for(let c=0,f=n.rangeCount;c<f;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:g,y:v,width:w,height:E}of h.getClientRects())w===0||E===0||u.push(o(g,v,w,E))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:n}){(m(this,Im)||L(this,Im,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=m(this,Im))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=m(this,Im))==null?void 0:i.get(e.data.id);if(!n)return;const r=m(this,bs).getRawValue(n);r&&(m(this,tr)===rt.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var a;const i=(a=m(this,Bc))==null?void 0:a.get(e);i&&(i.setCanvas(n,r),m(this,Bc).delete(e))}addMissingCanvas(e,n){(m(this,Bc)||L(this,Bc,new Map)).set(e,n)}};Pm=new WeakMap,Ta=new WeakMap,km=new WeakMap,Dn=new WeakMap,dr=new WeakMap,Dm=new WeakMap,bs=new WeakMap,Im=new WeakMap,xs=new WeakMap,di=new WeakMap,Dc=new WeakMap,Ic=new WeakMap,Lm=new WeakMap,Lc=new WeakMap,No=new WeakMap,ws=new WeakMap,Rf=new WeakMap,X0=new WeakMap,J0=new WeakMap,Om=new WeakMap,Q0=new WeakMap,Ro=new WeakMap,Oc=new WeakMap,jm=new WeakMap,jc=new WeakMap,Mo=new WeakMap,nA=new WeakMap,Fc=new WeakMap,Fm=new WeakMap,Z0=new WeakMap,Uc=new WeakMap,Mf=new WeakMap,Um=new WeakMap,Bc=new WeakMap,eb=new WeakMap,tr=new WeakMap,Ut=new WeakMap,Fl=new WeakMap,zc=new WeakMap,Hc=new WeakMap,tb=new WeakMap,Bm=new WeakMap,nb=new WeakMap,Gc=new WeakMap,Po=new WeakMap,Ul=new WeakMap,rb=new WeakMap,ib=new WeakMap,Ss=new WeakMap,_e=new WeakSet,f1=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},PM=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of m(this,dr).values())if(r.hasTextLayer(e))return r;return null},KW=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=F(this,_e,f1).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(m(this,Mo)||L(this,Mo,new LEe(this)),m(this,Mo).show(r,i,this.direction==="ltr"))},XW=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){m(this,Fl)&&((a=m(this,Mo))==null||a.hide(),L(this,Fl,null),F(this,_e,Ti).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===m(this,Fl))return;const i=F(this,_e,f1).call(this,e).closest(".textLayer");if(!i){m(this,Fl)&&((s=m(this,Mo))==null||s.hide(),L(this,Fl,null),F(this,_e,Ti).call(this,{hasSelectedText:!1}));return}if((o=m(this,Mo))==null||o.hide(),L(this,Fl,n),F(this,_e,Ti).call(this,{hasSelectedText:!0}),!(m(this,tr)!==rt.HIGHLIGHT&&m(this,tr)!==rt.NONE)&&(m(this,tr)===rt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),L(this,jc,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=m(this,tr)===rt.HIGHLIGHT?F(this,_e,PM).call(this,i):null;if(u==null||u.toggleDrawing(),m(this,Fm)){const c=new AbortController,f=this.combinedSignal(c),h=g=>{g.type==="pointerup"&&g.button!==0||(c.abort(),u==null||u.toggleDrawing(!0),g.type==="pointerup"&&F(this,_e,qv).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:f}),window.addEventListener("blur",h,{signal:f})}else u==null||u.toggleDrawing(!0),F(this,_e,qv).call(this,"main_toolbar")}},qv=function(e=""){m(this,tr)===rt.HIGHLIGHT?this.highlightSelection(e):m(this,X0)&&F(this,_e,KW).call(this)},JW=function(){document.addEventListener("selectionchange",F(this,_e,XW).bind(this),{signal:this._signal})},QW=function(){if(m(this,Oc))return;L(this,Oc,new AbortController);const e=this.combinedSignal(m(this,Oc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},ZW=function(){var e;(e=m(this,Oc))==null||e.abort(),L(this,Oc,null)},kM=function(){if(m(this,Uc))return;L(this,Uc,new AbortController);const e=this.combinedSignal(m(this,Uc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},e7=function(){var e;(e=m(this,Uc))==null||e.abort(),L(this,Uc,null)},DM=function(){if(m(this,Dc))return;L(this,Dc,new AbortController);const e=this.combinedSignal(m(this,Dc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},IM=function(){var e;(e=m(this,Dc))==null||e.abort(),L(this,Dc,null)},t7=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ti=function(e){Object.entries(e).some(([r,i])=>m(this,nb)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,nb),e)}),m(this,tr)===rt.HIGHLIGHT&&e.hasSelectedEditor===!1&&F(this,_e,kl).call(this,[[bt.HIGHLIGHT_FREE,!0]]))},kl=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},n7=async function(){if(!m(this,Fc)){L(this,Fc,!0);const e=[];for(const n of m(this,dr).values())e.push(n.enable());await Promise.all(e);for(const n of m(this,Dn).values())n.enable()}},r7=function(){if(this.unselectAll(),m(this,Fc)){L(this,Fc,!1);for(const e of m(this,dr).values())e.disable();for(const e of m(this,Dn).values())e.disable()}},LM=function(e){const n=m(this,dr).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},i7=function(){let e=null;for(e of m(this,Ut));return e},Vv=function(){if(m(this,Dn).size===0)return!0;if(m(this,Dn).size===1)for(const e of m(this,Dn).values())return e.isEmpty();return!1},OM=function(e){for(const n of m(this,Ut))n.unselect();m(this,Ut).clear();for(const n of e)n.isEmpty()||(m(this,Ut).add(n),n.select());F(this,_e,Ti).call(this,{hasSelectedEditor:this.hasSelection})},we(fm,"TRANSLATE_SMALL",1),we(fm,"TRANSLATE_BIG",10);let Id=fm;var _r,ko,Ys,zm,Do,Na,Hm,Io,ea,Bl,Pf,Lo,$c,uo,Wv,h1;const Ni=class Ni{constructor(e){j(this,uo);j(this,_r,null);j(this,ko,!1);j(this,Ys,null);j(this,zm,null);j(this,Do,null);j(this,Na,null);j(this,Hm,!1);j(this,Io,null);j(this,ea,null);j(this,Bl,null);j(this,Pf,null);j(this,Lo,!1);L(this,ea,e),L(this,Lo,e._uiManager.useNewAltTextFlow),m(Ni,$c)||L(Ni,$c,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ni._l10n??(Ni._l10n=e)}async render(){const e=L(this,Ys,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=L(this,zm,document.createElement("span"));e.append(n),m(this,Lo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(Ni,$c).missing),n.setAttribute("data-l10n-id",m(Ni,$c)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=m(this,ea)._uiManager._signal;e.addEventListener("contextmenu",Za,{signal:r}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),m(this,ea)._uiManager.editAltText(m(this,ea)),m(this,Lo)&&m(this,ea)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,uo,Wv)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(L(this,Hm,!0),i(a))},{signal:r}),await F(this,uo,h1).call(this),e}finish(){m(this,Ys)&&(m(this,Ys).focus({focusVisible:m(this,Hm)}),L(this,Hm,!1))}isEmpty(){return m(this,Lo)?m(this,_r)===null:!m(this,_r)&&!m(this,ko)}hasData(){return m(this,Lo)?m(this,_r)!==null||!!m(this,Bl):this.isEmpty()}get guessedText(){return m(this,Bl)}async setGuessedText(e){m(this,_r)===null&&(L(this,Bl,e),L(this,Pf,await Ni._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),F(this,uo,h1).call(this))}toggleAltTextBadge(e=!1){var n;if(!m(this,Lo)||m(this,_r)){(n=m(this,Io))==null||n.remove(),L(this,Io,null);return}if(!m(this,Io)){const r=L(this,Io,document.createElement("div"));r.className="noAltTextBadge",m(this,ea).div.append(r)}m(this,Io).classList.toggle("hidden",!e)}serialize(e){let n=m(this,_r);return!e&&m(this,Bl)===n&&(n=m(this,Pf)),{altText:n,decorative:m(this,ko),guessedText:m(this,Bl),textWithDisclaimer:m(this,Pf)}}get data(){return{altText:m(this,_r),decorative:m(this,ko)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:a=!1}){r&&(L(this,Bl,r),L(this,Pf,i)),!(m(this,_r)===e&&m(this,ko)===n)&&(a||(L(this,_r,e),L(this,ko,n)),F(this,uo,h1).call(this))}toggle(e=!1){m(this,Ys)&&(!e&&m(this,Na)&&(clearTimeout(m(this,Na)),L(this,Na,null)),m(this,Ys).disabled=!e)}shown(){m(this,ea)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,uo,Wv)}})}destroy(){var e,n;(e=m(this,Ys))==null||e.remove(),L(this,Ys,null),L(this,zm,null),L(this,Do,null),(n=m(this,Io))==null||n.remove(),L(this,Io,null)}};_r=new WeakMap,ko=new WeakMap,Ys=new WeakMap,zm=new WeakMap,Do=new WeakMap,Na=new WeakMap,Hm=new WeakMap,Io=new WeakMap,ea=new WeakMap,Bl=new WeakMap,Pf=new WeakMap,Lo=new WeakMap,$c=new WeakMap,uo=new WeakSet,Wv=function(){return m(this,_r)&&"added"||m(this,_r)===null&&this.guessedText&&"review"||"missing"},h1=async function(){var i,a,s;const e=m(this,Ys);if(!e)return;if(m(this,Lo)){if(e.classList.toggle("done",!!m(this,_r)),e.setAttribute("data-l10n-id",m(Ni,$c)[m(this,uo,Wv)]),(i=m(this,zm))==null||i.setAttribute("data-l10n-id",m(Ni,$c)[`${m(this,uo,Wv)}-label`]),!m(this,_r)){(a=m(this,Do))==null||a.remove();return}}else{if(!m(this,_r)&&!m(this,ko)){e.classList.remove("done"),(s=m(this,Do))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=m(this,Do);if(!n){L(this,Do,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${m(this,ea).id}`;const o=100,u=m(this,ea)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(m(this,Na)),L(this,Na,null)},{once:!0}),e.addEventListener("mouseenter",()=>{L(this,Na,setTimeout(()=>{L(this,Na,null),m(this,Do).classList.add("show"),m(this,ea)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:u}),e.addEventListener("mouseleave",()=>{var c;m(this,Na)&&(clearTimeout(m(this,Na)),L(this,Na,null)),(c=m(this,Do))==null||c.classList.remove("show")},{signal:u})}m(this,ko)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=m(this,_r)),n.parentNode||e.append(n);const r=m(this,ea).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},j(Ni,$c,null),we(Ni,"_l10n",null);let HE=Ni;var qr,Es,kf,ln,ab,Df,Ks,If,Lf,Of,sb,jM;class GS{constructor(e){j(this,sb);j(this,qr,null);j(this,Es,null);j(this,kf,!1);j(this,ln,null);j(this,ab,null);j(this,Df,null);j(this,Ks,null);j(this,If,null);j(this,Lf,!1);j(this,Of,null);L(this,ln,e)}renderForToolbar(){const e=L(this,Es,document.createElement("button"));return e.className="comment",F(this,sb,jM).call(this,e,!1)}renderForStandalone(){const e=L(this,qr,document.createElement("button"));e.className="annotationCommentButton";const n=m(this,ln).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(m(this,ln)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=m(this,ln).commentButtonColor;i&&(r.backgroundColor=i)}return F(this,sb,jM).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=m(this,qr)??m(this,Es))==null||e.focus()},0)}onUpdatedColor(){if(!m(this,qr))return;const e=m(this,ln).commentButtonColor;e&&(m(this,qr).style.backgroundColor=e),m(this,ln)._uiManager.updatePopupColor(m(this,ln))}get commentButtonWidth(){var e;return(((e=m(this,qr))==null?void 0:e.getBoundingClientRect().width)??0)/m(this,ln).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(m(this,Of))return m(this,Of);if(!m(this,qr))return null;const{x:e,y:n,height:r}=m(this,qr).getBoundingClientRect(),{x:i,y:a,width:s,height:o}=m(this,ln).parent.boundingClientRect;return[(e-i)/s,(n+r-a)/o]}set commentPopupPositionInLayer(e){L(this,Of,e)}hasDefaultPopupPosition(){return m(this,Of)===null}removeStandaloneCommentButton(){var e;(e=m(this,qr))==null||e.remove(),L(this,qr,null)}removeToolbarCommentButton(){var e;(e=m(this,Es))==null||e.remove(),L(this,Es,null)}setCommentButtonStates({selected:e,hasPopup:n}){m(this,qr)&&(m(this,qr).classList.toggle("selected",e),m(this,qr).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=m(this,ln).commentButtonPosition;const{width:f,height:h,x:g,y:v}=m(this,ln);r=g+r*f,i=v+i*h}const a=m(this,ln).parent.boundingClientRect,{x:s,y:o,width:u,height:c}=a;m(this,ln)._uiManager.editComment(m(this,ln),s+r*u,o+i*c,{...e,parentDimensions:a})}finish(){m(this,Es)&&(m(this,Es).focus({focusVisible:m(this,kf)}),L(this,kf,!1))}isDeleted(){return m(this,Lf)||m(this,Ks)===""}isEmpty(){return m(this,Ks)===null}hasBeenEdited(){return this.isDeleted()||m(this,Ks)!==m(this,ab)}serialize(){return this.data}get data(){return{text:m(this,Ks),richText:m(this,Df),date:m(this,If),deleted:this.isDeleted()}}set data(e){if(e!==m(this,Ks)&&L(this,Df,null),e===null){L(this,Ks,""),L(this,Lf,!0);return}L(this,Ks,e),L(this,If,new Date),L(this,Lf,!1)}setInitialText(e,n=null){L(this,ab,e),this.data=e,L(this,If,null),L(this,Df,n)}shown(){}destroy(){var e,n;(e=m(this,Es))==null||e.remove(),L(this,Es,null),(n=m(this,qr))==null||n.remove(),L(this,qr,null),L(this,Ks,""),L(this,Df,null),L(this,If,null),L(this,ln,null),L(this,kf,!1),L(this,Lf,!1)}}qr=new WeakMap,Es=new WeakMap,kf=new WeakMap,ln=new WeakMap,ab=new WeakMap,Df=new WeakMap,Ks=new WeakMap,If=new WeakMap,Lf=new WeakMap,Of=new WeakMap,sb=new WeakSet,jM=function(e,n){if(!m(this,ln)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[m(this,ln)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const r=m(this,ln)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Za,{signal:r}),n&&(e.addEventListener("focusin",a=>{m(this,ln)._focusEventsAllowed=!1,Nn(a)},{capture:!0,signal:r}),e.addEventListener("focusout",a=>{m(this,ln)._focusEventsAllowed=!0,Nn(a)},{capture:!0,signal:r})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:r});const i=a=>{a.preventDefault(),e===m(this,Es)?this.edit():m(this,ln).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(L(this,kf,!0),i(a))},{signal:r}),e.addEventListener("pointerenter",()=>{m(this,ln).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{m(this,ln).toggleComment(!1,!1)},{signal:r}),e};var Gm,jf,ob,lb,ub,cb,db,zl,Ff,Hl,Uf,Gl,Ld,a7,s7,o7;const MI=class MI{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:a=null,onPinchEnd:s=null,signal:o}){j(this,Ld);j(this,Gm);j(this,jf,!1);j(this,ob,null);j(this,lb);j(this,ub);j(this,cb);j(this,db);j(this,zl,null);j(this,Ff);j(this,Hl,null);j(this,Uf);j(this,Gl,null);L(this,Gm,e),L(this,ob,r),L(this,lb,n),L(this,ub,i),L(this,cb,a),L(this,db,s),L(this,Uf,new AbortController),L(this,Ff,AbortSignal.any([o,m(this,Uf).signal])),e.addEventListener("touchstart",F(this,Ld,a7).bind(this),{passive:!1,signal:m(this,Ff)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/go.pixelRatio}destroy(){var e,n;(e=m(this,Uf))==null||e.abort(),L(this,Uf,null),(n=m(this,zl))==null||n.abort(),L(this,zl,null)}};Gm=new WeakMap,jf=new WeakMap,ob=new WeakMap,lb=new WeakMap,ub=new WeakMap,cb=new WeakMap,db=new WeakMap,zl=new WeakMap,Ff=new WeakMap,Hl=new WeakMap,Uf=new WeakMap,Gl=new WeakMap,Ld=new WeakSet,a7=function(e){var i,a,s;if((i=m(this,lb))!=null&&i.call(this))return;if(e.touches.length===1){if(m(this,zl))return;const o=L(this,zl,new AbortController),u=AbortSignal.any([m(this,Ff),o.signal]),c=m(this,Gm),f={capture:!0,signal:u,passive:!1},h=g=>{var v;g.pointerType==="touch"&&((v=m(this,zl))==null||v.abort(),L(this,zl,null))};c.addEventListener("pointerdown",g=>{g.pointerType==="touch"&&(Nn(g),h(g))},f),c.addEventListener("pointerup",h,f),c.addEventListener("pointercancel",h,f);return}if(!m(this,Gl)){L(this,Gl,new AbortController);const o=AbortSignal.any([m(this,Ff),m(this,Gl).signal]),u=m(this,Gm),c={signal:o,capture:!1,passive:!1};u.addEventListener("touchmove",F(this,Ld,s7).bind(this),c);const f=F(this,Ld,o7).bind(this);u.addEventListener("touchend",f,c),u.addEventListener("touchcancel",f,c),c.capture=!0,u.addEventListener("pointerdown",Nn,c),u.addEventListener("pointermove",Nn,c),u.addEventListener("pointercancel",Nn,c),u.addEventListener("pointerup",Nn,c),(a=m(this,ub))==null||a.call(this)}if(Nn(e),e.touches.length!==2||(s=m(this,ob))!=null&&s.call(this)){L(this,Hl,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),L(this,Hl,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},s7=function(e){var I;if(!m(this,Hl)||e.touches.length!==2)return;Nn(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:a}=n,{screenX:s,screenY:o}=r,u=m(this,Hl),{touch0X:c,touch0Y:f,touch1X:h,touch1Y:g}=u,v=h-c,w=g-f,E=s-i,A=o-a,_=Math.hypot(E,A)||1,M=Math.hypot(v,w)||1;if(!m(this,jf)&&Math.abs(M-_)<=MI.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=a,u.touch1X=s,u.touch1Y=o,!m(this,jf)){L(this,jf,!0);return}const R=[(i+s)/2,(a+o)/2];(I=m(this,cb))==null||I.call(this,R,M,_)},o7=function(e){var n;e.touches.length>=2||(m(this,Gl)&&(m(this,Gl).abort(),L(this,Gl,null),(n=m(this,db))==null||n.call(this)),m(this,Hl)&&(Nn(e),L(this,Hl,null),L(this,jf,!1)))};let B0=MI;var Bf,Xs,xn,tn,$l,$m,qc,fb,Vr,zf,ql,Oo,Vc,hb,Hf,Ra,pb,Gf,Vl,jo,qm,Vm,As,$f,mb,rA,et,FM,gb,UM,p1,l7,u7,BM,m1,zM,c7,d7,f7,HM,h7,GM,p7,m7,g7,$M,Yv;const at=class at{constructor(e){j(this,et);j(this,Bf,null);j(this,Xs,null);j(this,xn,null);j(this,tn,null);j(this,$l,null);j(this,$m,!1);j(this,qc,null);j(this,fb,"");j(this,Vr,null);j(this,zf,null);j(this,ql,null);j(this,Oo,null);j(this,Vc,null);j(this,hb,"");j(this,Hf,!1);j(this,Ra,null);j(this,pb,!1);j(this,Gf,!1);j(this,Vl,!1);j(this,jo,null);j(this,qm,0);j(this,Vm,0);j(this,As,null);j(this,$f,null);we(this,"isSelected",!1);we(this,"_isCopy",!1);we(this,"_editToolbar",null);we(this,"_initialOptions",Object.create(null));we(this,"_initialData",null);we(this,"_isVisible",!0);we(this,"_uiManager",null);we(this,"_focusEventsAllowed",!0);j(this,mb,!1);j(this,rA,at._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[a,s];const[o,u]=this.parentDimensions;this.x=e.x/o,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=at.prototype._resizeWithKeyboard,n=Id.TRANSLATE_SMALL,r=Id.TRANSLATE_BIG;return ut(this,"_resizerKeyboardManager",new rw([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],at.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new FEe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(at._l10n??(at._l10n=e),at._l10nResizer||(at._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),at._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);at._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){on("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,mb)}set _isDraggable(e){var n;L(this,mb,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,rA)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(F(this,et,Yv).call(this),(n=m(this,Oo))==null||n.remove(),L(this,Oo,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,Hf)?L(this,Hf,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[a,s]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/a,this.y=(n+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){F(this,et,FM).call(this,this.parentDimensions,e,n)}translateInPage(e,n){m(this,Ra)||L(this,Ra,[this.x,this.y,this.width,this.height]),F(this,et,FM).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){m(this,Ra)||L(this,Ra,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[u,c]=this.getBaseTranslation();s+=u,o+=c;const{style:f}=r;f.left=`${(100*s).toFixed(2)}%`,f.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!m(this,Ra)&&(m(this,Ra)[0]!==this.x||m(this,Ra)[1]!==this.y)}get _hasBeenResized(){return!!m(this,Ra)&&(m(this,Ra)[2]!==this.width||m(this,Ra)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=at,i=r/e,a=r/n;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:a,y:s,width:o,height:u}=this;if(o*=r,u*=i,a*=r,s*=i,this._mustFixPosition)switch(e){case 0:a=yi(a,0,r-o),s=yi(s,0,i-u);break;case 90:a=yi(a,0,r-u),s=yi(s,o,i);break;case 180:a=yi(a,o,r),s=yi(s,u,i);break;case 270:a=yi(a,u,r),s=yi(s,0,i-o);break}this.x=a/=r,this.y=s/=i;const[c,f]=this.getBaseTranslation();a+=c,s+=f,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return F(r=at,gb,UM).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return F(r=at,gb,UM).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=m(this,xn))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||m(this,Gf))return this._editToolbar;this._editToolbar=new TM(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=m(this,xn))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return m(this,xn)||(HE.initialize(at._l10n),L(this,xn,new HE(this)),m(this,Bf)&&(m(this,xn).data=m(this,Bf),L(this,Bf,null))),m(this,xn)}get altTextData(){var e;return(e=m(this,xn))==null?void 0:e.data}set altTextData(e){m(this,xn)&&(m(this,xn).data=e)}get guessedAltText(){var e;return(e=m(this,xn))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=m(this,xn))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=m(this,xn))==null?void 0:n.serialize(e)}hasAltText(){return!!m(this,xn)&&!m(this,xn).isEmpty()}hasAltTextData(){var e;return((e=m(this,xn))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=m(this,tn))==null||e.focusButton()}addCommentButton(){return m(this,tn)||L(this,tn,new GS(this))}addStandaloneCommentButton(){if(m(this,$l)){this._uiManager.isEditingMode()&&m(this,$l).classList.remove("hidden");return}this.hasComment&&(L(this,$l,m(this,tn).renderForStandalone()),this.div.append(m(this,$l)))}removeStandaloneCommentButton(){m(this,tn).removeStandaloneCommentButton(),L(this,$l,null)}hideStandaloneCommentButton(){var e;(e=m(this,$l))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=m(this,tn);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){m(this,tn)||L(this,tn,new GS(this)),m(this,tn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(m(this,tn)||L(this,tn,new GS(this)),m(this,tn).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=m(this,tn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=m(this,tn))==null?void 0:e.isDeleted()}get hasComment(){return!!m(this,tn)&&!m(this,tn).isEmpty()&&!m(this,tn).isDeleted()}async editComment(e){m(this,tn)||L(this,tn,new GS(this)),m(this,tn).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){m(this,tn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,o=s+a+1,u=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,u,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){m(this,tn).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=m(this,$m)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),F(this,et,GM).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),WW(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(m(this,$f)||L(this,$f,new B0({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:F(this,et,c7).bind(this),onPinching:F(this,et,d7).bind(this),onPinchEnd:F(this,et,f7).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:n}=Or.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(L(this,Hf,!0),this._isDraggable){F(this,et,h7).call(this,e);return}F(this,et,HM).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){m(this,jo)&&clearTimeout(m(this,jo)),L(this,jo,setTimeout(()=>{var e;L(this,jo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[a,s]=this.pageDimensions,[o,u]=this.pageTranslation,c=e/i,f=n/i,h=this.x*a,g=this.y*s,v=this.width*a,w=this.height*s;switch(r){case 0:return[h+c+o,s-g-f-w+u,h+c+v+o,s-g-f+u];case 90:return[h+f+o,s-g+c+u,h+f+w+o,s-g+c+v+u];case 180:return[h-c-v+o,s-g+f+u,h-c+o,s-g+f+w+u];case 270:return[h-f-w+o,s-g-c-v+u,h-f+o,s-g-c+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,a,s]=e,o=a-r,u=s-i;switch(this.rotation){case 0:return[r,n-s,o,u];case 90:return[r,n-i,u,o];case 180:return[a,n-i,o,u];case 270:return[a,n-s,u,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&at._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=m(this,tn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:a,richText:s},uid:o,pageIndex:u,creationDate:c,modificationDate:f}=this;return{id:o,pageIndex:u,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:c,modificationDate:r||f,popupRef:!a,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),L(this,Gf,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),L(this,Gf,!1),!0):!1}isInEditMode(){return m(this,Gf)}shouldGetKeyboardEvents(){return m(this,Vl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return n<s&&i>0&&e<a&&r>0}rebuild(){F(this,et,GM).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,L(i,Bf,e.accessibilityData),i._isCopy=e.isCopy||!1;const[a,s]=i.pageDimensions,[o,u,c,f]=i.getRectInCurrentCoords(e.rect,s);return i.x=o/a,i.y=u/s,i.width=c/a,i.height=f/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=m(this,Vc))==null||e.abort(),L(this,Vc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,jo)&&(clearTimeout(m(this,jo)),L(this,jo,null)),F(this,et,Yv).call(this),this.removeEditToolbar(),m(this,As)){for(const r of m(this,As).values())clearTimeout(r);L(this,As,null)}this.parent=null,(n=m(this,$f))==null||n.destroy(),L(this,$f,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(F(this,et,l7).call(this),m(this,Vr).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,a,s]=this.getPDFRect();return[at._round(r+(a-r)*e),at._round(i+(s-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return m(this,tn).commentPopupPositionInLayer}set commentPopupPosition(e){m(this,tn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return m(this,tn).hasDefaultPopupPosition()}get commentButtonWidth(){return m(this,tn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){m(this,tn).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),L(this,ql,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=m(this,Vr).children;if(!m(this,Xs)){L(this,Xs,Array.from(n));const s=F(this,et,p7).bind(this),o=F(this,et,m7).bind(this),u=this._uiManager._signal;for(const c of m(this,Xs)){const f=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",s,{signal:u}),c.addEventListener("blur",o,{signal:u}),c.addEventListener("focus",F(this,et,g7).bind(this,f),{signal:u}),c.setAttribute("data-l10n-id",at._l10nResizer[f])}}const r=m(this,Xs)[0];let i=0;for(const s of n){if(s===r)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(m(this,Xs).length/4);if(a!==i){if(a<i)for(let o=0;o<i-a;o++)m(this,Vr).append(m(this,Vr).firstChild);else if(a>i)for(let o=0;o<a-i;o++)m(this,Vr).firstChild.before(m(this,Vr).lastChild);let s=0;for(const o of n){const c=m(this,Xs)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",at._l10nResizer[c])}}F(this,et,$M).call(this,0),L(this,Vl,!0),m(this,Vr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){m(this,Vl)&&F(this,et,zM).call(this,m(this,hb),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){F(this,et,Yv).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,a;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(n=this._editToolbar)==null||n.show(),(r=m(this,xn))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,a;this.isSelected&&(this.isSelected=!1,(e=m(this,Vr))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(a=m(this,xn))==null||a.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return m(this,pb)}set isEditing(e){L(this,pb,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){m(this,As)||L(this,As,new Map);const{action:r}=e;let i=m(this,As).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,As).delete(r),m(this,As).size===0&&L(this,As,null)},at._telemetryTimeout),m(this,As).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),L(this,$m,!1)}disable(){this.div&&(this.div.tabIndex=-1),L(this,$m,!0)}updateFakeAnnotationElement(e){if(!m(this,Oo)&&!this.deleted){L(this,Oo,e.addFakeAnnotation(this));return}if(this.deleted){m(this,Oo).remove(),L(this,Oo,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&m(this,Oo).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Bf=new WeakMap,Xs=new WeakMap,xn=new WeakMap,tn=new WeakMap,$l=new WeakMap,$m=new WeakMap,qc=new WeakMap,fb=new WeakMap,Vr=new WeakMap,zf=new WeakMap,ql=new WeakMap,Oo=new WeakMap,Vc=new WeakMap,hb=new WeakMap,Hf=new WeakMap,Ra=new WeakMap,pb=new WeakMap,Gf=new WeakMap,Vl=new WeakMap,jo=new WeakMap,qm=new WeakMap,Vm=new WeakMap,As=new WeakMap,$f=new WeakMap,mb=new WeakMap,rA=new WeakMap,et=new WeakSet,FM=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},gb=new WeakSet,UM=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},p1=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},l7=function(){if(m(this,Vr))return;L(this,Vr,document.createElement("div")),m(this,Vr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");m(this,Vr).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",F(this,et,u7).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Za,{signal:n}),i.tabIndex=-1}this.div.prepend(m(this,Vr))},u7=function(e,n){var f;n.preventDefault();const{isMac:r}=Or.platform;if(n.button!==0||n.ctrlKey&&r)return;(f=m(this,xn))==null||f.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,L(this,zf,[n.screenX,n.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F(this,et,zM).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",Nn,{passive:!1,signal:s}),window.addEventListener("contextmenu",Za,{signal:s}),L(this,ql,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var h;a.abort(),this.parent.togglePointerEvents(!0),(h=m(this,xn))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=u,F(this,et,m1).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},BM=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},m1=function(){if(!m(this,ql))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=m(this,ql);L(this,ql,null);const a=this.x,s=this.y,o=this.width,u=this.height;a===e&&s===n&&o===r&&u===i||this.addCommands({cmd:F(this,et,BM).bind(this,a,s,o,u),undo:F(this,et,BM).bind(this,e,n,r,i),mustExec:!0})},zM=function(e,n){const[r,i]=this.parentDimensions,a=this.x,s=this.y,o=this.width,u=this.height,c=at.MIN_SIZE/r,f=at.MIN_SIZE/i,h=F(this,et,p1).call(this,this.rotation),g=(H,$)=>[h[0]*H+h[2]*$,h[1]*H+h[3]*$],v=F(this,et,p1).call(this,360-this.rotation),w=(H,$)=>[v[0]*H+v[2]*$,v[1]*H+v[3]*$];let E,A,_=!1,M=!1;switch(e){case"topLeft":_=!0,E=(H,$)=>[0,0],A=(H,$)=>[H,$];break;case"topMiddle":E=(H,$)=>[H/2,0],A=(H,$)=>[H/2,$];break;case"topRight":_=!0,E=(H,$)=>[H,0],A=(H,$)=>[0,$];break;case"middleRight":M=!0,E=(H,$)=>[H,$/2],A=(H,$)=>[0,$/2];break;case"bottomRight":_=!0,E=(H,$)=>[H,$],A=(H,$)=>[0,0];break;case"bottomMiddle":E=(H,$)=>[H/2,$],A=(H,$)=>[H/2,0];break;case"bottomLeft":_=!0,E=(H,$)=>[0,$],A=(H,$)=>[H,0];break;case"middleLeft":M=!0,E=(H,$)=>[0,$/2],A=(H,$)=>[H,$/2];break}const R=E(o,u),I=A(o,u);let D=g(...I);const k=at._round(a+D[0]),P=at._round(s+D[1]);let B=1,z=1,W,U;if(n.fromKeyboard)({deltaX:W,deltaY:U}=n);else{const{screenX:H,screenY:$}=n,[J,ae]=m(this,zf);[W,U]=this.screenToPageTranslation(H-J,$-ae),m(this,zf)[0]=H,m(this,zf)[1]=$}if([W,U]=w(W/r,U/i),_){const H=Math.hypot(o,u);B=z=Math.max(Math.min(Math.hypot(I[0]-R[0]-W,I[1]-R[1]-U)/H,1/o,1/u),c/o,f/u)}else M?B=yi(Math.abs(I[0]-R[0]-W),c,1)/o:z=yi(Math.abs(I[1]-R[1]-U),f,1)/u;const q=at._round(o*B),Z=at._round(u*z);D=g(...A(q,Z));const V=k-D[0],Q=P-D[1];m(this,Ra)||L(this,Ra,[this.x,this.y,this.width,this.height]),this.width=q,this.height=Z,this.x=V,this.y=Q,this.setDims(),this.fixAndSetPosition(),this._onResizing()},c7=function(){var e;L(this,ql,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=m(this,xn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},d7=function(e,n,r){let a=.7*(r/n)+1-.7;if(a===1)return;const s=F(this,et,p1).call(this,this.rotation),o=(k,P)=>[s[0]*k+s[2]*P,s[1]*k+s[3]*P],[u,c]=this.parentDimensions,f=this.x,h=this.y,g=this.width,v=this.height,w=at.MIN_SIZE/u,E=at.MIN_SIZE/c;a=Math.max(Math.min(a,1/g,1/v),w/g,E/v);const A=at._round(g*a),_=at._round(v*a);if(A===g&&_===v)return;m(this,Ra)||L(this,Ra,[f,h,g,v]);const M=o(g/2,v/2),R=at._round(f+M[0]),I=at._round(h+M[1]),D=o(A/2,_/2);this.x=R-D[0],this.y=I-D[1],this.width=A,this.height=_,this.setDims(),this.fixAndSetPosition(),this._onResizing()},f7=function(){var e;(e=m(this,xn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),F(this,et,m1).call(this)},HM=function(e){const{isMac:n}=Or.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},h7=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},o=c=>{i.abort(),L(this,qc,null),L(this,Hf,!1),this._uiManager.endDragSession()||F(this,et,HM).call(this,c),r&&this._onStopDragging()};n&&(L(this,qm,e.clientX),L(this,Vm,e.clientY),L(this,qc,e.pointerId),L(this,fb,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:h,pointerId:g}=c;if(g!==m(this,qc)){Nn(c);return}const[v,w]=this.screenToPageTranslation(f-m(this,qm),h-m(this,Vm));L(this,qm,f),L(this,Vm,h),this._uiManager.dragSelectedEditors(v,w)},s),window.addEventListener("touchmove",Nn,s),window.addEventListener("pointerdown",c=>{c.pointerType===m(this,fb)&&(m(this,$f)||c.isPrimary)&&o(c),Nn(c)},s));const u=c=>{if(!m(this,qc)||m(this,qc)===c.pointerId){o(c);return}Nn(c)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},GM=function(){if(m(this,Vc)||!this.div)return;L(this,Vc,new AbortController);const e=this._uiManager.combinedSignal(m(this,Vc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},p7=function(e){at._resizerKeyboardManager.exec(this,e)},m7=function(e){var n;m(this,Vl)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==m(this,Vr)&&F(this,et,Yv).call(this)},g7=function(e){L(this,hb,m(this,Vl)?e:"")},$M=function(e){if(m(this,Xs))for(const n of m(this,Xs))n.tabIndex=e},Yv=function(){L(this,Vl,!1),F(this,et,$M).call(this,-1),F(this,et,m1).call(this)},j(at,gb),we(at,"_l10n",null),we(at,"_l10nResizer",null),we(at,"_borderLineWidth",-1),we(at,"_colorManager",new MM),we(at,"_zIndex",1),we(at,"_telemetryTimeout",1e3);let un=at;class FEe extends un{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const rH=3285377520,hs=4294901760,Co=65535;class y7{constructor(e){this.h1=e?e&4294967295:rH,this.h2=e?e&4294967295:rH}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let E=0,A=e.length;E<A;E++){const _=e.charCodeAt(E);_<=255?n[r++]=_:(n[r++]=_>>>8,n[r++]=_&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,a=r-i*4,s=new Uint32Array(n.buffer,0,i);let o=0,u=0,c=this.h1,f=this.h2;const h=3432918353,g=461845907,v=h&Co,w=g&Co;for(let E=0;E<i;E++)E&1?(o=s[E],o=o*h&hs|o*v&Co,o=o<<15|o>>>17,o=o*g&hs|o*w&Co,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(u=s[E],u=u*h&hs|u*v&Co,u=u<<15|u>>>17,u=u*g&hs|u*w&Co,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(o=0,a){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*h&hs|o*v&Co,o=o<<15|o>>>17,o=o*g&hs|o*w&Co,i&1?c^=o:f^=o}this.h1=c,this.h2=f}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&hs|e*36045&Co,n=n*4283543511&hs|((n<<16|e>>>16)*2950163797&hs)>>>16,e^=n>>>1,e=e*444984403&hs|e*60499&Co,n=n*3301882366&hs|((n<<16|e>>>16)*3120437893&hs)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const qM=Object.freeze({map:null,hash:"",transfer:void 0});var qf,Vf,Wl,Wr,iA,v7;class bI{constructor(){j(this,iA);j(this,qf,!1);j(this,Vf,null);j(this,Wl,null);j(this,Wr,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=m(this,Wr).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return m(this,Wr).get(e)}remove(e){const n=m(this,Wr).get(e);if(n!==void 0&&(n instanceof un&&m(this,Wl).delete(n.annotationElementId),m(this,Wr).delete(e),m(this,Wr).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of m(this,Wr).values())if(r instanceof un)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=m(this,Wr).get(e);let i=!1;if(r!==void 0)for(const[a,s]of Object.entries(n))r[a]!==s&&(i=!0,r[a]=s);else i=!0,m(this,Wr).set(e,n);i&&F(this,iA,v7).call(this),n instanceof un&&((m(this,Wl)||L(this,Wl,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return m(this,Wr).has(e)}get size(){return m(this,Wr).size}resetModified(){m(this,qf)&&(L(this,qf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b7(this)}get serializable(){if(m(this,Wr).size===0)return qM;const e=new Map,n=new y7,r=[],i=Object.create(null);let a=!1;for(const[s,o]of m(this,Wr)){const u=o instanceof un?o.serialize(!1,i):o;u&&(e.set(s,u),n.update(`${s}:${JSON.stringify(u)}`),a||(a=!!u.bitmap))}if(a)for(const s of e.values())s.bitmap&&r.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:qM}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const a of m(this,Wr).values()){if(!(a instanceof un)){a.popup&&(a.popup.deleted?i+=1:r+=1);continue}a.isCommentDeleted?i+=1:a.hasEditedComment&&(r+=1);const s=a.telemetryFinalData;if(!s)continue;const{type:o}=s;n.has(o)||n.set(o,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[c,f]of Object.entries(s)){if(c==="type")continue;let h=u.get(c);h||(h=new Map,u.set(c,h));const g=h.get(f)??0;h.set(f,g+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[a,s]of n)e[a]=s.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){L(this,Vf,null)}updateEditor(e,n){var i;const r=(i=m(this,Wl))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=m(this,Wl))==null?void 0:n.get(e))||null}get modifiedIds(){if(m(this,Vf))return m(this,Vf);const e=[];if(m(this,Wl))for(const n of m(this,Wl).values())n.serialize()&&e.push(n.annotationElementId);return L(this,Vf,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return m(this,Wr).entries()}}qf=new WeakMap,Vf=new WeakMap,Wl=new WeakMap,Wr=new WeakMap,iA=new WeakSet,v7=function(){m(this,qf)||(L(this,qf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var yb;class b7 extends bI{constructor(n){super();j(this,yb);const{map:r,hash:i,transfer:a}=n.serializable,s=structuredClone(r,a?{transfer:a}:null);L(this,yb,{map:s,hash:i,transfer:a})}get print(){on("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,yb)}get modifiedIds(){return ut(this,"modifiedIds",{ids:new Set,hash:""})}}yb=new WeakMap;var Wm;class UEe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){j(this,Wm,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,Wm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||m(this,Wm).has(e.loadedName))){if(wt(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:a,style:s}=e,o=new FontFace(i,a,s);this.addNativeFontFace(o);try{await o.load(),m(this,Wm).add(i),r==null||r(e)}catch{it(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}on("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw it(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return ut(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return ut(this,"isSyncFontLoadingSupported",ki||Or.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(wt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const a=r.shift();setTimeout(a.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ut(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(I,D){return I.charCodeAt(D)<<24|I.charCodeAt(D+1)<<16|I.charCodeAt(D+2)<<8|I.charCodeAt(D+3)&255}function i(I,D,k,P){const B=I.substring(0,D),z=I.substring(D+k);return B+P+z}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const u=o.getContext("2d");let c=0;function f(I,D){if(++c>30){it("Load test font never loaded."),D();return}if(u.font="30px "+I,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){D();return}setTimeout(f.bind(null,I,D))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,h.length,h);const w=16,E=1482184792;let A=r(g,w);for(a=0,s=h.length-3;a<s;a+=4)A=A-E+r(h,a)|0;a<h.length&&(A=A-E+r(h+"XXX",a)|0),g=i(g,w,4,_Ee(A));const _=`url(data:font/opentype;base64,${btoa(g)});`,M=`@font-face {font-family:"${h}";src:${_}}`;this.insertRule(M);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const I of[e.loadedName,h]){const D=this._document.createElement("span");D.textContent="Hi",D.style.fontFamily=I,R.append(D)}this._document.body.append(R),f(h,()=>{R.remove(),n.complete()})}}Wm=new WeakMap;var Wt;class BEe{constructor(e,n=null,r,i){j(this,Wt);this.compiledGlyphs=Object.create(null),L(this,Wt,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${LW(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(s){it(`getPathGenerator - ignoring character: "${s}".`)}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=a}get black(){return m(this,Wt).black}get bold(){return m(this,Wt).bold}get disableFontFace(){return m(this,Wt).disableFontFace??!1}get fontExtraProperties(){return m(this,Wt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return m(this,Wt).isInvalidPDFjsFont}get isType3Font(){return m(this,Wt).isType3Font}get italic(){return m(this,Wt).italic}get missingFile(){return m(this,Wt).missingFile}get remeasure(){return m(this,Wt).remeasure}get vertical(){return m(this,Wt).vertical}get ascent(){return m(this,Wt).ascent}get defaultWidth(){return m(this,Wt).defaultWidth}get descent(){return m(this,Wt).descent}get bbox(){return m(this,Wt).bbox}get fontMatrix(){return m(this,Wt).fontMatrix}get fallbackName(){return m(this,Wt).fallbackName}get loadedName(){return m(this,Wt).loadedName}get mimetype(){return m(this,Wt).mimetype}get name(){return m(this,Wt).name}get data(){return m(this,Wt).data}clearData(){m(this,Wt).clearData()}get cssFontInfo(){return m(this,Wt).cssFontInfo}get systemFontInfo(){return m(this,Wt).systemFontInfo}get defaultVMetrics(){return m(this,Wt).defaultVMetrics}}Wt=new WeakMap;function zEe(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(ki)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function HEe(t){if(ki&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return ew(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function $S(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const VM=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,GEe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",x7=MEe.bind(null,VM,GEe);var Yl,aA;class $Ee{constructor(){j(this,Yl,new Map);j(this,aA,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};m(this,aA).then(()=>{for(const[i]of m(this,Yl))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:a}=r;if(a.aborted){it("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}m(this,Yl).set(n,i)}removeEventListener(e,n){const r=m(this,Yl).get(n);r==null||r(),m(this,Yl).delete(n)}terminate(){for(const[,e]of m(this,Yl))e==null||e();m(this,Yl).clear()}}Yl=new WeakMap,aA=new WeakMap;const qS={DATA:1,ERROR:2},er={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function iH(){}function Qi(t){if(t instanceof Lu||t instanceof BE||t instanceof Xz||t instanceof j0||t instanceof G2)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||on('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Lu(t.message);case"InvalidPDFException":return new BE(t.message);case"PasswordException":return new Xz(t.message,t.code);case"ResponseException":return new j0(t.message,t.status,t.missing);case"UnknownErrorException":return new G2(t.message,t.details)}return new G2(t.message,t.toString())}var Ym,Ls,w7,S7,E7,g1;class Kv{constructor(e,n,r){j(this,Ls);j(this,Ym,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",F(this,Ls,w7).bind(this),{signal:m(this,Ym).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,r,i){const a=this.streamId++,s=this.sourceName,o=this.targetName,u=this.comObj;return new ReadableStream({start:c=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:n,desiredSize:c.desiredSize},i),f.promise},pull:c=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,u.postMessage({sourceName:s,targetName:o,stream:er.PULL,streamId:a,desiredSize:c.desiredSize}),f.promise},cancel:c=>{wt(c instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:s,targetName:o,stream:er.CANCEL,streamId:a,reason:Qi(c)}),f.promise}},r)}destroy(){var e;(e=m(this,Ym))==null||e.abort(),L(this,Ym,null)}}Ym=new WeakMap,Ls=new WeakSet,w7=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){F(this,Ls,E7).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===qS.DATA)i.resolve(e.data);else if(e.callback===qS.ERROR)i.reject(Qi(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(s){a.postMessage({sourceName:r,targetName:i,callback:qS.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:r,targetName:i,callback:qS.ERROR,callbackId:e.callbackId,reason:Qi(s)})});return}if(e.streamId){F(this,Ls,S7).call(this,e);return}n(e.data)},S7=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],u={enqueue(c,f=1,h){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:r,targetName:i,stream:er.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:er.CLOSE,streamId:n}),delete s.streamSinks[n])},error(c){wt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:r,targetName:i,stream:er.ERROR,streamId:n,reason:Qi(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[n]=u,Promise.try(o,e.data,u).then(function(){a.postMessage({sourceName:r,targetName:i,stream:er.START_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:er.START_COMPLETE,streamId:n,reason:Qi(c)})})},E7=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case er.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Qi(e.reason));break;case er.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Qi(e.reason));break;case er.PULL:if(!o){a.postMessage({sourceName:r,targetName:i,stream:er.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||iH).then(function(){a.postMessage({sourceName:r,targetName:i,stream:er.PULL_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:er.PULL_COMPLETE,streamId:n,reason:Qi(c)})});break;case er.ENQUEUE:if(wt(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case er.CLOSE:if(wt(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),F(this,Ls,g1).call(this,s,n);break;case er.ERROR:wt(s,"error should have stream controller"),s.controller.error(Qi(e.reason)),F(this,Ls,g1).call(this,s,n);break;case er.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Qi(e.reason)),F(this,Ls,g1).call(this,s,n);break;case er.CANCEL:if(!o)break;const u=Qi(e.reason);Promise.try(o.onCancel||iH,u).then(function(){a.postMessage({sourceName:r,targetName:i,stream:er.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){a.postMessage({sourceName:r,targetName:i,stream:er.CANCEL_COMPLETE,streamId:n,reason:Qi(c)})}),o.sinkCapability.reject(u),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},g1=async function(e,n){var r,i,a;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[n]};var vb;class A7{constructor({enableHWA:e=!1}){j(this,vb,!1);L(this,vb,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!m(this,vb)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){on("Abstract method `_createCanvas` called.")}}vb=new WeakMap;class qEe extends A7{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class C7{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){on("Abstract method `_fetch` called.")}}class aH extends C7{async _fetch(e){const n=await Ty(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):ew(n)}}class _7{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,a){return"none"}destroy(e=!1){}}var Wf,Km,Kl,Xl,fi,Yf,Kf,De,ui,Xv,em,y1,tm,T7,WM,nm,Jv,Qv,YM,Zv;class VEe extends _7{constructor({docId:n,ownerDocument:r=globalThis.document}){super();j(this,De);j(this,Wf);j(this,Km);j(this,Kl);j(this,Xl);j(this,fi);j(this,Yf);j(this,Kf,0);L(this,Xl,n),L(this,fi,r)}addFilter(n){if(!n)return"none";let r=m(this,De,ui).get(n);if(r)return r;const[i,a,s]=F(this,De,y1).call(this,n),o=n.length===1?i:`${i}${a}${s}`;if(r=m(this,De,ui).get(o),r)return m(this,De,ui).set(n,r),r;const u=`g_${m(this,Xl)}_transfer_map_${ur(this,Kf)._++}`,c=F(this,De,tm).call(this,u);m(this,De,ui).set(n,c),m(this,De,ui).set(o,c);const f=F(this,De,nm).call(this,u);return F(this,De,Qv).call(this,i,a,s,f),c}addHCMFilter(n,r){var w;const i=`${n}-${r}`,a="base";let s=m(this,De,Xv).get(a);if((s==null?void 0:s.key)===i||(s?((w=s.filter)==null||w.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},m(this,De,Xv).set(a,s)),!n||!r))return s.url;const o=F(this,De,Zv).call(this,n);n=Le.makeHexColor(...o);const u=F(this,De,Zv).call(this,r);if(r=Le.makeHexColor(...u),m(this,De,em).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return s.url;const c=new Array(256);for(let E=0;E<=255;E++){const A=E/255;c[E]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=c.join(","),h=`g_${m(this,Xl)}_hcm_filter`,g=s.filter=F(this,De,nm).call(this,h);F(this,De,Qv).call(this,f,f,f,g),F(this,De,WM).call(this,g);const v=(E,A)=>{const _=o[E]/255,M=u[E]/255,R=new Array(A+1);for(let I=0;I<=A;I++)R[I]=_+I/A*(M-_);return R.join(",")};return F(this,De,Qv).call(this,v(0,5),v(1,5),v(2,5),g),s.url=F(this,De,tm).call(this,h),s.url}addAlphaFilter(n){let r=m(this,De,ui).get(n);if(r)return r;const[i]=F(this,De,y1).call(this,[n]),a=`alpha_${i}`;if(r=m(this,De,ui).get(a),r)return m(this,De,ui).set(n,r),r;const s=`g_${m(this,Xl)}_alpha_map_${ur(this,Kf)._++}`,o=F(this,De,tm).call(this,s);m(this,De,ui).set(n,o),m(this,De,ui).set(a,o);const u=F(this,De,nm).call(this,s);return F(this,De,YM).call(this,i,u),o}addLuminosityFilter(n){let r=m(this,De,ui).get(n||"luminosity");if(r)return r;let i,a;if(n?([i]=F(this,De,y1).call(this,[n]),a=`luminosity_${i}`):a="luminosity",r=m(this,De,ui).get(a),r)return m(this,De,ui).set(n,r),r;const s=`g_${m(this,Xl)}_luminosity_map_${ur(this,Kf)._++}`,o=F(this,De,tm).call(this,s);m(this,De,ui).set(n,o),m(this,De,ui).set(a,o);const u=F(this,De,nm).call(this,s);return F(this,De,T7).call(this,u),n&&F(this,De,YM).call(this,i,u),o}addHighlightHCMFilter(n,r,i,a,s){var M;const o=`${r}-${i}-${a}-${s}`;let u=m(this,De,Xv).get(n);if((u==null?void 0:u.key)===o||(u?((M=u.filter)==null||M.remove(),u.key=o,u.url="none",u.filter=null):(u={key:o,url:"none",filter:null},m(this,De,Xv).set(n,u)),!r||!i))return u.url;const[c,f]=[r,i].map(F(this,De,Zv).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,w]=[a,s].map(F(this,De,Zv).bind(this));g<h&&([h,g,v,w]=[g,h,w,v]),m(this,De,em).style.color="";const E=(R,I,D)=>{const k=new Array(256),P=(g-h)/D,B=R/255,z=(I-R)/(255*D);let W=0;for(let U=0;U<=D;U++){const q=Math.round(h+U*P),Z=B+U*z;for(let V=W;V<=q;V++)k[V]=Z;W=q+1}for(let U=W;U<256;U++)k[U]=k[W-1];return k.join(",")},A=`g_${m(this,Xl)}_hcm_${n}_filter`,_=u.filter=F(this,De,nm).call(this,A);return F(this,De,WM).call(this,_),F(this,De,Qv).call(this,E(v[0],w[0],5),E(v[1],w[1],5),E(v[2],w[2],5),_),u.url=F(this,De,tm).call(this,A),u.url}destroy(n=!1){var r,i,a,s;n&&((r=m(this,Yf))!=null&&r.size)||((i=m(this,Kl))==null||i.parentNode.parentNode.remove(),L(this,Kl,null),(a=m(this,Km))==null||a.clear(),L(this,Km,null),(s=m(this,Yf))==null||s.clear(),L(this,Yf,null),L(this,Kf,0))}}Wf=new WeakMap,Km=new WeakMap,Kl=new WeakMap,Xl=new WeakMap,fi=new WeakMap,Yf=new WeakMap,Kf=new WeakMap,De=new WeakSet,ui=function(){return m(this,Km)||L(this,Km,new Map)},Xv=function(){return m(this,Yf)||L(this,Yf,new Map)},em=function(){if(!m(this,Kl)){const n=m(this,fi).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=m(this,fi).createElementNS(Pl,"svg");i.setAttribute("width",0),i.setAttribute("height",0),L(this,Kl,m(this,fi).createElementNS(Pl,"defs")),n.append(i),i.append(m(this,Kl)),m(this,fi).body.append(n)}return m(this,Kl)},y1=function(n){if(n.length===1){const c=n[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=c[g]/255;const h=f.join(",");return[h,h,h]}const[r,i,a]=n,s=new Array(256),o=new Array(256),u=new Array(256);for(let c=0;c<256;c++)s[c]=r[c]/255,o[c]=i[c]/255,u[c]=a[c]/255;return[s.join(","),o.join(","),u.join(",")]},tm=function(n){if(m(this,Wf)===void 0){L(this,Wf,"");const r=m(this,fi).URL;r!==m(this,fi).baseURI&&(nw(r)?it('#createUrl: ignore "data:"-URL for performance reasons.'):L(this,Wf,pI(r,"")))}return`url(${m(this,Wf)}#${n})`},T7=function(n){const r=m(this,fi).createElementNS(Pl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},WM=function(n){const r=m(this,fi).createElementNS(Pl,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},nm=function(n){const r=m(this,fi).createElementNS(Pl,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),m(this,De,em).append(r),r},Jv=function(n,r,i){const a=m(this,fi).createElementNS(Pl,r);a.setAttribute("type","discrete"),a.setAttribute("tableValues",i),n.append(a)},Qv=function(n,r,i,a){const s=m(this,fi).createElementNS(Pl,"feComponentTransfer");a.append(s),F(this,De,Jv).call(this,s,"feFuncR",n),F(this,De,Jv).call(this,s,"feFuncG",r),F(this,De,Jv).call(this,s,"feFuncB",i)},YM=function(n,r){const i=m(this,fi).createElementNS(Pl,"feComponentTransfer");r.append(i),F(this,De,Jv).call(this,i,"feFuncA",n)},Zv=function(n){return m(this,De,em).style.color=n,Ny(getComputedStyle(m(this,De,em)).getPropertyValue("color"))};class N7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){on("Abstract method `_fetch` called.")}}class sH extends N7{async _fetch(e){const n=await Ty(e,"arraybuffer");return new Uint8Array(n)}}class R7{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){on("Abstract method `_fetch` called.")}}class oH extends R7{async _fetch(e){const n=await Ty(e,"arraybuffer");return new Uint8Array(n)}}ki&&it("Please use the `legacy` build in Node.js environments.");async function xI(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class WEe extends _7{}class YEe extends A7{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class KEe extends C7{async _fetch(e){return xI(e)}}class XEe extends N7{async _fetch(e){return xI(e)}}class JEe extends R7{async _fetch(e){return xI(e)}}const Kp="__forcedDependency",{floor:lH,ceil:uH}=Math;function VS(t,e,n,r,i,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],a)}const KM=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Xm,Wc;class QEe{constructor(e,n){j(this,Xm);j(this,Wc);L(this,Xm,e),L(this,Wc,n)}get length(){return m(this,Xm).length}isEmpty(e){return m(this,Xm)[e]===KM}minX(e){return m(this,Wc)[e*4+0]/256}minY(e){return m(this,Wc)[e*4+1]/256}maxX(e){return(m(this,Wc)[e*4+2]+1)/256}maxY(e){return(m(this,Wc)[e*4+3]+1)/256}}Xm=new WeakMap,Wc=new WeakMap;const WS=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var ta,na,Xf,Js,Jf,Jl,Bt,Yt,Ql,ra,bb,Jm,Qf,Zf,Zl,hi,Fo,xb,XM;class ZEe{constructor(e,n,r=!1){j(this,xb);j(this,ta,{__proto__:null});j(this,na,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Kp]:[]});j(this,Xf,new Map);j(this,Js,[]);j(this,Jf,[]);j(this,Jl,[[1,0,0,1,0,0]]);j(this,Bt,[-1/0,-1/0,1/0,1/0]);j(this,Yt,new Float64Array([1/0,1/0,-1/0,-1/0]));j(this,Ql,-1);j(this,ra,new Set);j(this,bb,new Map);j(this,Jm,new Map);j(this,Qf);j(this,Zf);j(this,Zl);j(this,hi);j(this,Fo);L(this,Qf,e.width),L(this,Zf,e.height),F(this,xb,XM).call(this,n),r&&L(this,Fo,new Map)}growOperationsCount(e){e>=m(this,hi).length&&F(this,xb,XM).call(this,e,m(this,hi))}save(e){return L(this,ta,{__proto__:m(this,ta)}),L(this,na,{__proto__:m(this,na),transform:{__proto__:m(this,na).transform},moveText:{__proto__:m(this,na).moveText},sameLineText:{__proto__:m(this,na).sameLineText},[Kp]:{__proto__:m(this,na)[Kp]}}),L(this,Bt,{__proto__:m(this,Bt)}),m(this,Js).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(m(this,ta));if(n===null)return this;L(this,ta,n),L(this,na,Object.getPrototypeOf(m(this,na))),L(this,Bt,Object.getPrototypeOf(m(this,Bt)));const r=m(this,Js).pop();return r!==void 0&&((i=WS(m(this,Fo),e))==null||i.dependencies.add(r),m(this,hi)[e]=m(this,hi)[r]),this}recordOpenMarker(e){return m(this,Js).push(e),this}getOpenMarker(){return m(this,Js).length===0?null:m(this,Js).at(-1)}recordCloseMarker(e){var r;const n=m(this,Js).pop();return n!==void 0&&((r=WS(m(this,Fo),e))==null||r.dependencies.add(n),m(this,hi)[e]=m(this,hi)[n]),this}beginMarkedContent(e){return m(this,Jf).push(e),this}endMarkedContent(e){var r;const n=m(this,Jf).pop();return n!==void 0&&((r=WS(m(this,Fo),e))==null||r.dependencies.add(n),m(this,hi)[e]=m(this,hi)[n]),this}pushBaseTransform(e){return m(this,Jl).push(Le.multiplyByDOMMatrix(m(this,Jl).at(-1),e.getTransform())),this}popBaseTransform(){return m(this,Jl).length>1&&m(this,Jl).pop(),this}recordSimpleData(e,n){return m(this,ta)[e]=n,this}recordIncrementalData(e,n){return m(this,na)[e].push(n),this}resetIncrementalData(e,n){return m(this,na)[e].length=0,this}recordNamedData(e,n){return m(this,Xf).set(e,n),this}recordSimpleDataFromNamed(e,n,r){m(this,ta)[e]=m(this,Xf).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Kp,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in m(this,ta)&&this.recordFutureForcedDependency(n,m(this,ta)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of m(this,ra))this.recordFutureForcedDependency(Kp,e);return this}resetBBox(e){return m(this,Ql)!==e&&(L(this,Ql,e),m(this,Yt)[0]=1/0,m(this,Yt)[1]=1/0,m(this,Yt)[2]=-1/0,m(this,Yt)[3]=-1/0),this}recordClipBox(e,n,r,i,a,s){const o=Le.multiplyByDOMMatrix(m(this,Jl).at(-1),n.getTransform()),u=[1/0,1/0,-1/0,-1/0];Le.axialAlignedBoundingBox([r,a,i,s],o,u);const c=Le.intersect(m(this,Bt),u);return c?(m(this,Bt)[0]=c[0],m(this,Bt)[1]=c[1],m(this,Bt)[2]=c[2],m(this,Bt)[3]=c[3]):(m(this,Bt)[0]=m(this,Bt)[1]=1/0,m(this,Bt)[2]=m(this,Bt)[3]=-1/0),this}recordBBox(e,n,r,i,a,s){const o=m(this,Bt);if(o[0]===1/0)return this;const u=Le.multiplyByDOMMatrix(m(this,Jl).at(-1),n.getTransform());if(o[0]===-1/0)return Le.axialAlignedBoundingBox([r,a,i,s],u,m(this,Yt)),this;const c=[1/0,1/0,-1/0,-1/0];return Le.axialAlignedBoundingBox([r,a,i,s],u,c),m(this,Yt)[0]=Math.min(m(this,Yt)[0],Math.max(c[0],o[0])),m(this,Yt)[1]=Math.min(m(this,Yt)[1],Math.max(c[1],o[1])),m(this,Yt)[2]=Math.max(m(this,Yt)[2],Math.min(c[2],o[2])),m(this,Yt)[3]=Math.max(m(this,Yt)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,a=0,s=0,o){const u=r.bbox;let c,f;if(u&&(c=u[2]!==u[0]&&u[3]!==u[1]&&m(this,Jm).get(r),c!==!1&&(f=[0,0,0,0],Le.axialAlignedBoundingBox(u,r.fontMatrix,f),(i!==1||a!==0||s!==0)&&Le.scaleMinMax([i,0,0,-i,a,s],f),c)))return this.recordBBox(e,n,f[0],f[2],f[1],f[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return u&&f&&c===void 0&&(c=f[0]<=a-h.actualBoundingBoxLeft&&f[2]>=a+h.actualBoundingBoxRight&&f[1]<=s-h.actualBoundingBoxAscent&&f[3]>=s+h.actualBoundingBoxDescent,m(this,Jm).set(r,c),c)?this.recordBBox(e,n,f[0],f[2],f[1],f[3]):this.recordBBox(e,n,a-h.actualBoundingBoxLeft,a+h.actualBoundingBoxRight,s-h.actualBoundingBoxAscent,s+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return m(this,Yt)[0]=Math.max(0,m(this,Bt)[0]),m(this,Yt)[1]=Math.max(0,m(this,Bt)[1]),m(this,Yt)[2]=Math.min(m(this,Qf),m(this,Bt)[2]),m(this,Yt)[3]=Math.min(m(this,Zf),m(this,Bt)[3]),this}getSimpleIndex(e){return m(this,ta)[e]}recordDependencies(e,n){const r=m(this,ra),i=m(this,ta),a=m(this,na);for(const s of n)s in m(this,ta)?r.add(i[s]):s in a&&a[s].forEach(r.add,r);return this}recordNamedDependency(e,n){return m(this,Xf).has(n)&&m(this,ra).add(m(this,Xf).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Kp]),m(this,Fo)){const r=WS(m(this,Fo),e),{dependencies:i}=r;m(this,ra).forEach(i.add,i),m(this,Js).forEach(i.add,i),m(this,Jf).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(m(this,Ql)===e){const r=lH(m(this,Yt)[0]*256/m(this,Qf)),i=lH(m(this,Yt)[1]*256/m(this,Zf)),a=uH(m(this,Yt)[2]*256/m(this,Qf)),s=uH(m(this,Yt)[3]*256/m(this,Zf));VS(m(this,Zl),e,r,i,a,s);for(const o of m(this,ra))o!==e&&VS(m(this,Zl),o,r,i,a,s);for(const o of m(this,Js))o!==e&&VS(m(this,Zl),o,r,i,a,s);for(const o of m(this,Jf))o!==e&&VS(m(this,Zl),o,r,i,a,s);n||(m(this,ra).clear(),L(this,Ql,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(m(this,ra));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return m(this,Ql)===e&&(L(this,Ql,-1),m(this,Bt)[0]=Math.max(m(this,Bt)[0],m(this,Yt)[0]),m(this,Bt)[1]=Math.max(m(this,Bt)[1],m(this,Yt)[1]),m(this,Bt)[2]=Math.min(m(this,Bt)[2],m(this,Yt)[2]),m(this,Bt)[3]=Math.min(m(this,Bt)[3],m(this,Yt)[3]),n||m(this,ra).clear()),this}_takePendingDependencies(){const e=m(this,ra);return L(this,ra,new Set),e}_extractOperation(e){const n=m(this,bb).get(e);return m(this,bb).delete(e),n}_pushPendingDependencies(e){for(const n of e)m(this,ra).add(n)}take(){return m(this,Jm).clear(),new QEe(m(this,hi),m(this,Zl))}takeDebugMetadata(){return m(this,Fo)}}ta=new WeakMap,na=new WeakMap,Xf=new WeakMap,Js=new WeakMap,Jf=new WeakMap,Jl=new WeakMap,Bt=new WeakMap,Yt=new WeakMap,Ql=new WeakMap,ra=new WeakMap,bb=new WeakMap,Jm=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,Zl=new WeakMap,hi=new WeakMap,Fo=new WeakMap,xb=new WeakSet,XM=function(e,n){const r=new ArrayBuffer(e*4);L(this,Zl,new Uint8ClampedArray(r)),L(this,hi,new Uint32Array(r)),n&&n.length>0?(m(this,hi).set(n),m(this,hi).fill(KM,n.length)):m(this,hi).fill(KM)};var nn,In,Qs,Qm,Zm;const PI=class PI{constructor(e,n,r){j(this,nn);j(this,In);j(this,Qs);j(this,Qm,0);j(this,Zm,0);if(e instanceof PI&&m(e,Qs)===!!r)return e;L(this,nn,e),L(this,In,n),L(this,Qs,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ur(this,Zm)._++,m(this,nn).save(m(this,In)),this}restore(e){return m(this,Zm)>0&&(m(this,nn).restore(m(this,In)),ur(this,Zm)._--),this}recordOpenMarker(e){return ur(this,Qm)._++,this}getOpenMarker(){return m(this,Qm)>0?m(this,In):m(this,nn).getOpenMarker()}recordCloseMarker(e){return ur(this,Qm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return m(this,nn).pushBaseTransform(e),this}popBaseTransform(){return m(this,nn).popBaseTransform(),this}recordSimpleData(e,n){return m(this,nn).recordSimpleData(e,m(this,In)),this}recordIncrementalData(e,n){return m(this,nn).recordIncrementalData(e,m(this,In)),this}resetIncrementalData(e,n){return m(this,nn).resetIncrementalData(e,m(this,In)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return m(this,nn).recordSimpleDataFromNamed(e,n,m(this,In)),this}recordFutureForcedDependency(e,n){return m(this,nn).recordFutureForcedDependency(e,m(this,In)),this}inheritSimpleDataAsFutureForcedDependencies(e){return m(this,nn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return m(this,nn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return m(this,Qs)||m(this,nn).resetBBox(m(this,In)),this}recordClipBox(e,n,r,i,a,s){return m(this,Qs)||m(this,nn).recordClipBox(m(this,In),n,r,i,a,s),this}recordBBox(e,n,r,i,a,s){return m(this,Qs)||m(this,nn).recordBBox(m(this,In),n,r,i,a,s),this}recordCharacterBBox(e,n,r,i,a,s,o){return m(this,Qs)||m(this,nn).recordCharacterBBox(m(this,In),n,r,i,a,s,o),this}recordFullPageBBox(e){return m(this,Qs)||m(this,nn).recordFullPageBBox(m(this,In)),this}getSimpleIndex(e){return m(this,nn).getSimpleIndex(e)}recordDependencies(e,n){return m(this,nn).recordDependencies(m(this,In),n),this}recordNamedDependency(e,n){return m(this,nn).recordNamedDependency(m(this,In),n),this}recordOperation(e){return m(this,nn).recordOperation(m(this,In),!0),this}recordShowTextOperation(e){return m(this,nn).recordShowTextOperation(m(this,In),!0),this}bboxToClipBoxDropOperation(e){return m(this,Qs)||m(this,nn).bboxToClipBoxDropOperation(m(this,In),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};nn=new WeakMap,In=new WeakMap,Qs=new WeakMap,Qm=new WeakMap,Zm=new WeakMap;let GE=PI;const ps={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Jr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function JM(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class wI{isModifyingCurrentTransform(){return!1}getPattern(){on("Abstract method `getPattern` called.")}}class eAe extends wI{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let a;if(i===Jr.STROKE||i===Jr.FILL){const s=n.current.getClippedPathBoundingBox(i,_n(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,u=Math.ceil(s[3]-s[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,u),f=c.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-s[0],-s[1]),r=Le.transform(r,[1,0,0,1,s[0],s[1]]),f.transform(...n.baseTransform),this.matrix&&f.transform(...this.matrix),JM(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);a.setTransform(h)}else JM(e,this._bbox),a=this._createGradient(e);return a}}function V2(t,e,n,r,i,a,s,o){const u=e.coords,c=e.colors,f=t.data,h=t.width*4;let g;u[n+1]>u[r+1]&&(g=n,n=r,r=g,g=a,a=s,s=g),u[r+1]>u[i+1]&&(g=r,r=i,i=g,g=s,s=o,o=g),u[n+1]>u[r+1]&&(g=n,n=r,r=g,g=a,a=s,s=g);const v=(u[n]+e.offsetX)*e.scaleX,w=(u[n+1]+e.offsetY)*e.scaleY,E=(u[r]+e.offsetX)*e.scaleX,A=(u[r+1]+e.offsetY)*e.scaleY,_=(u[i]+e.offsetX)*e.scaleX,M=(u[i+1]+e.offsetY)*e.scaleY;if(w>=M)return;const R=c[a],I=c[a+1],D=c[a+2],k=c[s],P=c[s+1],B=c[s+2],z=c[o],W=c[o+1],U=c[o+2],q=Math.round(w),Z=Math.round(M);let V,Q,H,$,J,ae,Se,Y;for(let te=q;te<=Z;te++){if(te<A){const Ce=te<w?0:(w-te)/(w-A);V=v-(v-E)*Ce,Q=R-(R-k)*Ce,H=I-(I-P)*Ce,$=D-(D-B)*Ce}else{let Ce;te>M?Ce=1:A===M?Ce=0:Ce=(A-te)/(A-M),V=E-(E-_)*Ce,Q=k-(k-z)*Ce,H=P-(P-W)*Ce,$=B-(B-U)*Ce}let ce;te<w?ce=0:te>M?ce=1:ce=(w-te)/(w-M),J=v-(v-_)*ce,ae=R-(R-z)*ce,Se=I-(I-W)*ce,Y=D-(D-U)*ce;const me=Math.round(Math.min(V,J)),Ee=Math.round(Math.max(V,J));let Me=h*te+me*4;for(let Ce=me;Ce<=Ee;Ce++)ce=(V-Ce)/(V-J),ce<0?ce=0:ce>1&&(ce=1),f[Me++]=Q-(Q-ae)*ce|0,f[Me++]=H-(H-Se)*ce|0,f[Me++]=$-($-Y)*ce|0,f[Me++]=255}}function tAe(t,e,n){const r=e.coords,i=e.colors;let a,s;switch(e.type){case"lattice":const o=e.verticesPerRow,u=Math.floor(r.length/o)-1,c=o-1;for(a=0;a<u;a++){let f=a*o;for(let h=0;h<c;h++,f++)V2(t,n,r[f],r[f+1],r[f+o],i[f],i[f+1],i[f+o]),V2(t,n,r[f+o+1],r[f+1],r[f+o],i[f+o+1],i[f+1],i[f+o])}break;case"triangles":for(a=0,s=r.length;a<s;a+=3)V2(t,n,r[a],r[a+1],r[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class nAe extends wI{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,f=Math.ceil(this._bounds[3])-u,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),v=c/h,w=f/g,E={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-u,scaleX:1/v,scaleY:1/w},A=h+4,_=g+4,M=r.getCanvas("mesh",A,_),R=M.context,I=R.createImageData(h,g);if(n){const k=I.data;for(let P=0,B=k.length;P<B;P+=4)k[P]=n[0],k[P+1]=n[1],k[P+2]=n[2],k[P+3]=255}for(const k of this._figures)tAe(I,k,E);return R.putImageData(I,2,2),{canvas:M.canvas,offsetX:o-2*v,offsetY:u-2*w,scaleX:v,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){JM(e,this._bbox);const a=new Float32Array(2);if(i===Jr.SHADING)Le.singularValueDecompose2dScale(_n(e),a);else if(this.matrix){Le.singularValueDecompose2dScale(this.matrix,a);const[o,u]=a;Le.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=o,a[1]*=u}else Le.singularValueDecompose2dScale(n.baseTransform,a);const s=this._createMeshCanvas(a,i===Jr.SHADING?null:this._background,n.cachedCanvases);return i!==Jr.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class rAe extends wI{getPattern(){return"hotpink"}}function iAe(t){switch(t[0]){case"RadialAxial":return new eAe(t);case"Mesh":return new nAe(t);case"Dummy":return new rAe}throw new Error(`Unknown IR type: ${t[0]}`)}const cH={COLORED:1,UNCOLORED:2},sA=class sA{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var ae,Se;const{bbox:r,operatorList:i,paintType:a,tilingType:s,color:o,canvasGraphicsFactory:u}=this;let{xstep:c,ystep:f}=this;c=Math.abs(c),f=Math.abs(f),AC("TilingType: "+s);const h=r[0],g=r[1],v=r[2],w=r[3],E=v-h,A=w-g,_=new Float32Array(2);Le.singularValueDecompose2dScale(this.matrix,_);const[M,R]=_;Le.singularValueDecompose2dScale(this.baseTransform,_);const I=M*_[0],D=R*_[1];let k=E,P=A,B=!1,z=!1;const W=Math.ceil(c*I),U=Math.ceil(f*D),q=Math.ceil(E*I),Z=Math.ceil(A*D);W>=q?k=c:B=!0,U>=Z?P=f:z=!0;const V=this.getSizeAndScale(k,this.ctx.canvas.width,I),Q=this.getSizeAndScale(P,this.ctx.canvas.height,D),H=e.cachedCanvases.getCanvas("pattern",V.size,Q.size),$=H.context,J=u.createCanvasGraphics($,n);if(J.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(J,a,o),$.translate(-V.scale*h,-Q.scale*g),J.transform(0,V.scale,0,0,Q.scale,0,0),$.save(),(ae=J.dependencyTracker)==null||ae.save(),this.clipBbox(J,h,g,v,w),J.baseTransform=_n(J.ctx),J.executeOperatorList(i),J.endDrawing(),(Se=J.dependencyTracker)==null||Se.restore(),$.restore(),B||z){const Y=H.canvas;B&&(k=c),z&&(P=f);const te=this.getSizeAndScale(k,this.ctx.canvas.width,I),ce=this.getSizeAndScale(P,this.ctx.canvas.height,D),me=te.size,Ee=ce.size,Me=e.cachedCanvases.getCanvas("pattern-workaround",me,Ee),Ce=Me.context,ft=B?Math.floor(E/c):0,fe=z?Math.floor(A/f):0;for(let Re=0;Re<=ft;Re++)for(let Ke=0;Ke<=fe;Ke++)Ce.drawImage(Y,me*Re,Ee*Ke,me,Ee,0,0,me,Ee);return{canvas:Me.canvas,scaleX:te.scale,scaleY:ce.scale,offsetX:h,offsetY:g}}return{canvas:H.canvas,scaleX:V.scale,scaleY:Q.scale,offsetX:h,offsetY:g}}getSizeAndScale(e,n,r){const i=Math.max(sA.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*r);return a>=i?a=i:r=a/e,{scale:r,size:a}}clipBbox(e,n,r,i,a){const s=i-n,o=a-r;e.ctx.rect(n,r,s,o),Le.axialAlignedBoundingBox([n,r,i,a],_n(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,a=e.current;switch(n){case cH.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;i.fillStyle=a.fillColor=s,i.strokeStyle=a.strokeColor=o;break;case cH.UNCOLORED:i.fillStyle=i.strokeStyle=r,a.fillColor=a.strokeColor=r;break;default:throw new CEe(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,a){let s=r;i!==Jr.SHADING&&(s=Le.transform(s,n.baseTransform),this.matrix&&(s=Le.transform(s,this.matrix)));const o=this.createPatternCanvas(n,a);let u=new DOMMatrix(s);u=u.translate(o.offsetX,o.offsetY),u=u.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(u),c}};we(sA,"MAX_PATTERN_SIZE",3e3);let QM=sA;function aAe({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=Or.isLittleEndian?4278190080:255,[u,c]=s?[a,o]:[o,a],f=r>>3,h=r&7,g=t.length;n=new Uint32Array(n.buffer);let v=0;for(let w=0;w<i;w++){for(const A=e+f;e<A;e++){const _=e<g?t[e]:255;n[v++]=_&128?c:u,n[v++]=_&64?c:u,n[v++]=_&32?c:u,n[v++]=_&16?c:u,n[v++]=_&8?c:u,n[v++]=_&4?c:u,n[v++]=_&2?c:u,n[v++]=_&1?c:u}if(h===0)continue;const E=e<g?t[e++]:255;for(let A=0;A<h;A++)n[v++]=E&1<<7-A?c:u}return{srcPos:e,destPos:v}}const dH=16,fH=100,sAe=15,hH=10,la=16,W2=new DOMMatrix,Va=new Float32Array(2),dm=new Float32Array([1/0,1/0,-1/0,-1/0]);function oAe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,a,s,o){e.transform(n,r,i,a,s,o),this.__originalTransform(n,r,i,a,s,o)},t.setTransform=function(n,r,i,a,s,o){e.setTransform(n,r,i,a,s,o),this.__originalSetTransform(n,r,i,a,s,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,a,s,o){e.bezierCurveTo(n,r,i,a,s,o),this.__originalBezierCurveTo(n,r,i,a,s,o)},t.rect=function(n,r,i,a){e.rect(n,r,i,a),this.__originalRect(n,r,i,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class lAe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function YS(t,e,n,r,i,a,s,o,u,c){const[f,h,g,v,w,E]=_n(t);if(h===0&&g===0){const M=s*f+w,R=Math.round(M),I=o*v+E,D=Math.round(I),k=(s+u)*f+w,P=Math.abs(Math.round(k)-R)||1,B=(o+c)*v+E,z=Math.abs(Math.round(B)-D)||1;return t.setTransform(Math.sign(f),0,0,Math.sign(v),R,D),t.drawImage(e,n,r,i,a,0,0,P,z),t.setTransform(f,h,g,v,w,E),[P,z]}if(f===0&&v===0){const M=o*g+w,R=Math.round(M),I=s*h+E,D=Math.round(I),k=(o+c)*g+w,P=Math.abs(Math.round(k)-R)||1,B=(s+u)*h+E,z=Math.abs(Math.round(B)-D)||1;return t.setTransform(0,Math.sign(h),Math.sign(g),0,R,D),t.drawImage(e,n,r,i,a,0,0,z,P),t.setTransform(f,h,g,v,w,E),[z,P]}t.drawImage(e,n,r,i,a,s,o,u,c);const A=Math.hypot(f,h),_=Math.hypot(g,v);return[A*u,_*c]}class pH{constructor(e,n,r){we(this,"alphaIsShape",!1);we(this,"fontSize",0);we(this,"fontSizeScale",1);we(this,"textMatrix",null);we(this,"textMatrixScale",1);we(this,"fontMatrix",AM);we(this,"leading",0);we(this,"x",0);we(this,"y",0);we(this,"lineX",0);we(this,"lineY",0);we(this,"charSpacing",0);we(this,"wordSpacing",0);we(this,"textHScale",1);we(this,"textRenderingMode",$r.FILL);we(this,"textRise",0);we(this,"fillColor","#000000");we(this,"strokeColor","#000000");we(this,"patternFill",!1);we(this,"patternStroke",!1);we(this,"fillAlpha",1);we(this,"strokeAlpha",1);we(this,"lineWidth",1);we(this,"activeSMask",null);we(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=dm.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Jr.FILL,n=null){const r=this.minMax.slice();if(e===Jr.STROKE){n||on("Stroke bounding box must include transform."),Le.singularValueDecompose2dScale(n,Va);const i=Va[0]*this.lineWidth/2,a=Va[1]*this.lineWidth/2;r[0]-=i,r[1]-=a,r[2]+=i,r[3]+=a}return r}updateClipFromPath(){const e=Le.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(dm,0)}getClippedPathBoundingBox(e=Jr.FILL,n=null){return Le.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function mH(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%la,a=(n-i)/la,s=i===0?a:a+1,o=t.createImageData(r,la);let u=0,c;const f=e.data,h=o.data;let g,v,w,E;if(e.kind===p0.GRAYSCALE_1BPP){const A=f.byteLength,_=new Uint32Array(h.buffer,0,h.byteLength>>2),M=_.length,R=r+7>>3,I=4294967295,D=Or.isLittleEndian?4278190080:255;for(g=0;g<s;g++){for(w=g<a?la:i,c=0,v=0;v<w;v++){const k=A-u;let P=0;const B=k>R?r:k*8-7,z=B&-8;let W=0,U=0;for(;P<z;P+=8)U=f[u++],_[c++]=U&128?I:D,_[c++]=U&64?I:D,_[c++]=U&32?I:D,_[c++]=U&16?I:D,_[c++]=U&8?I:D,_[c++]=U&4?I:D,_[c++]=U&2?I:D,_[c++]=U&1?I:D;for(;P<B;P++)W===0&&(U=f[u++],W=128),_[c++]=U&W?I:D,W>>=1}for(;c<M;)_[c++]=0;t.putImageData(o,0,g*la)}}else if(e.kind===p0.RGBA_32BPP){for(v=0,E=r*la*4,g=0;g<a;g++)h.set(f.subarray(u,u+E)),u+=E,t.putImageData(o,0,v),v+=la;g<s&&(E=r*i*4,h.set(f.subarray(u,u+E)),t.putImageData(o,0,v))}else if(e.kind===p0.RGB_24BPP)for(w=la,E=r*w,g=0;g<s;g++){for(g>=a&&(w=i,E=r*w),c=0,v=E;v--;)h[c++]=f[u++],h[c++]=f[u++],h[c++]=f[u++],h[c++]=255;t.putImageData(o,0,g*la)}else throw new Error(`bad image kind: ${e.kind}`)}function gH(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%la,a=(n-i)/la,s=i===0?a:a+1,o=t.createImageData(r,la);let u=0;const c=e.data,f=o.data;for(let h=0;h<s;h++){const g=h<a?la:i;({srcPos:u}=aAe({src:c,srcPos:u,dest:f,width:r,height:g,nonBlackColor:0})),t.putImageData(o,0,h*la)}}function Iv(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function KS(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function yH(t,e){if(e)return!0;Le.singularValueDecompose2dScale(t,Va);const n=Math.fround(go.pixelRatio*Ou.PDF_TO_CSS_UNITS);return Va[0]<=n&&Va[1]<=n}const uAe=["butt","round","square"],cAe=["miter","round","bevel"],dAe={},vH={};var yo,ZM,eP,tP;const kI=class kI{constructor(e,n,r,i,a,{optionalContentConfig:s,markedContentStack:o=null},u,c,f){j(this,yo);this.ctx=e,this.current=new pH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new lAe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,r){const u=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(..._n(this.compositeCtx))}this.ctx.save(),KS(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=_n(this.ctx)}executeOperatorList(e,n,r,i,a){var _;const s=e.argsArray,o=e.fnArray;let u=n||0;const c=s.length;if(c===u)return u;const f=c-u>hH&&typeof r=="function",h=f?Date.now()+sAe:0;let g=0;const v=this.commonObjs,w=this.objs;let E,A;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,r),u;if(!a||a(u))if(E=o[u],A=s[u]??null,E!==ly.dependency)A===null?this[E](u):this[E](u,...A);else for(const M of A){(_=this.dependencyTracker)==null||_.recordNamedData(M,u);const R=M.startsWith("g_")?v:w;if(!R.has(M))return R.get(M,r),u}if(u++,u===c)return u;if(f&&++g>hH){if(Date.now()>h)return r(),u;g=0}}}endDrawing(){F(this,yo,ZM).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),F(this,yo,eP).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=r,u=i,c="prescale1",f,h;for(;a>2&&o>1||s>2&&u>1;){let g=o,v=u;a>2&&o>1&&(g=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/g),s>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,s/=u/v),f=this.cachedCanvases.getCanvas(c,g,v),h=f.context,h.clearRect(0,0,g,v),h.drawImage(e,0,0,o,u,0,0,g,v),e=f.canvas,o=g,u=v,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:u}}_createMaskCanvas(e,n){var W,U;const r=this.ctx,{width:i,height:a}=n,s=this.current.fillColor,o=this.current.patternFill,u=_n(r);let c,f,h,g;if((n.bitmap||n.data)&&n.count>1){const q=n.bitmap||n.data.buffer;f=JSON.stringify(o?u:[u.slice(0,4),s]),c=this._cachedBitmapsMap.get(q),c||(c=new Map,this._cachedBitmapsMap.set(q,c));const Z=c.get(f);if(Z&&!o){const V=Math.round(Math.min(u[0],u[2])+u[4]),Q=Math.round(Math.min(u[1],u[3])+u[5]);return(W=this.dependencyTracker)==null||W.recordDependencies(e,ps.transformAndFill),{canvas:Z,offsetX:V,offsetY:Q}}h=Z}h||(g=this.cachedCanvases.getCanvas("maskCanvas",i,a),gH(g.context,n));let v=Le.transform(u,[1/i,0,0,-1/a,0,0]);v=Le.transform(v,[1,0,0,1,0,-a]);const w=dm.slice();Le.axialAlignedBoundingBox([0,0,i,a],v,w);const[E,A,_,M]=w,R=Math.round(_-E)||1,I=Math.round(M-A)||1,D=this.cachedCanvases.getCanvas("fillCanvas",R,I),k=D.context,P=E,B=A;k.translate(-P,-B),k.transform(...v),h||(h=this._scaleImage(g.canvas,Ao(k)),h=h.img,c&&o&&c.set(f,h)),k.imageSmoothingEnabled=yH(_n(k),n.interpolate),YS(k,h,0,0,h.width,h.height,0,0,i,a),k.globalCompositeOperation="source-in";const z=Le.transform(Ao(k),[1,0,0,1,-P,-B]);return k.fillStyle=o?s.getPattern(r,this,z,Jr.FILL,e):s,k.fillRect(0,0,i,a),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(f,D.canvas)),(U=this.dependencyTracker)==null||U.recordDependencies(e,ps.transformAndFill),{canvas:D.canvas,offsetX:Math.round(P),offsetY:Math.round(B)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=uAe[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=cAe[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,a,s,o;for(const[u,c]of n)switch(u){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(a=this.dependencyTracker)==null||a.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(s=this.dependencyTracker)==null||s.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),Iv(this.suspendedCtx,s),oAe(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Iv(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const a=i[0],s=i[1],o=i[2]-a,u=i[3]-s;o===0||u===0||(this.genericComposeSMask(n.context,r,o,u,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,a,s,o,u,c,f,h){let g=e.canvas,v=u-f,w=c-h;if(s)if(v<0||w<0||v+r>g.width||w+i>g.height){const A=this.cachedCanvases.getCanvas("maskExtension",r,i),_=A.context;_.drawImage(g,-v,-w),_.globalCompositeOperation="destination-atop",_.fillStyle=s,_.fillRect(0,0,r,i),_.globalCompositeOperation="source-over",g=A.canvas,v=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(v,w,r,i),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(v,w,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const E=new Path2D;E.rect(u,c,r,i),n.clip(E),n.globalCompositeOperation="destination-in",n.drawImage(g,v,w,r,i,u,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&Iv(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Iv(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,a,s,o){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,a,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[a]=r;if(!i){a||(a=r[0]=new Path2D),this[n](e,a);return}if(this.dependencyTracker!==null){const s=n===ly.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-s,i[2]+s,i[1]-s,i[3]+s).recordDependencies(e,["transform"])}if(!(a instanceof Path2D)){const s=r[0]=new Path2D;for(let o=0,u=a.length;o<u;)switch(a[o++]){case HS.moveTo:s.moveTo(a[o++],a[o++]);break;case HS.lineTo:s.lineTo(a[o++],a[o++]);break;case HS.curveTo:s.bezierCurveTo(a[o++],a[o++],a[o++],a[o++],a[o++],a[o++]);break;case HS.closePath:s.closePath();break;default:it(`Unrecognized drawing path operator: ${a[o-1]}`);break}a=s}Le.axialAlignedBoundingBox(i,_n(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var s;const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const o=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,Ao(i),Jr.STROKE,e),o){const u=new Path2D;u.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=u}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(s=this.dependencyTracker)==null||s.recordDependencies(e,ps.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Jr.STROKE,_n(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,f,h;const i=this.ctx,a=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const g=a.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=a.getPattern(i,this,Ao(i),Jr.FILL,e),g){const v=new Path2D;v.addPath(n,i.getTransform().invertSelf().multiplySelf(g)),n=v}o=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(f=this.dependencyTracker)==null||f.recordDependencies(e,ps.fill),o&&(i.restore(),(h=this.dependencyTracker)==null||h.restore(e)),r&&this.consumePath(e,n,u)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,ps.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=dAe}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=vH}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,a=r.getTransform().invertSelf();for(const{transform:s,x:o,y:u,fontSize:c,path:f}of n)f&&i.addPath(f,new DOMMatrix(s).preMultiplySelf(a).translate(o,u).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var h,g;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),a=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=i.fontMatrix||AM,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&it("Invalid font matrix for font "+n),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const s=i.loadedName||"sans-serif",o=((g=i.systemFontInfo)==null?void 0:g.css)||`"${s}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const c=i.italic?"italic":"normal";let f=r;r<dH?f=dH:r>fH&&(f=fH),this.current.fontSizeScale=r/f,this.ctx.font=`${c} ${u} ${f}px ${o}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,a,s){var _,M,R,I;const o=this.ctx,u=this.current,c=u.font,f=u.textRenderingMode,h=u.fontSize/u.fontSizeScale,g=f&$r.FILL_STROKE_MASK,v=!!(f&$r.ADD_TO_PATH_FLAG),w=u.patternFill&&!c.missingFile,E=u.patternStroke&&!c.missingFile;let A;if((c.disableFontFace||v||w||E)&&!c.missingFile&&(A=c.getPathGenerator(this.commonObjs,n)),A&&(c.disableFontFace||w||E)){o.save(),o.translate(r,i),o.scale(h,-h),(_=this.dependencyTracker)==null||_.recordCharacterBBox(e,o,c);let D;if(g===$r.FILL||g===$r.FILL_STROKE)if(a){D=o.getTransform(),o.setTransform(...a);const k=F(this,yo,tP).call(this,A,D,a);o.fill(k)}else o.fill(A);if(g===$r.STROKE||g===$r.FILL_STROKE)if(s){D||(D=o.getTransform()),o.setTransform(...s);const{a:k,b:P,c:B,d:z}=D,W=Le.inverseTransform(s),U=Le.transform([k,P,B,z,0,0],W);Le.singularValueDecompose2dScale(U,Va),o.lineWidth*=Math.max(Va[0],Va[1])/h,o.stroke(F(this,yo,tP).call(this,A,D,s))}else o.lineWidth/=h,o.stroke(A);o.restore()}else(g===$r.FILL||g===$r.FILL_STROKE)&&(o.fillText(n,r,i),(M=this.dependencyTracker)==null||M.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n))),(g===$r.STROKE||g===$r.FILL_STROKE)&&(this.dependencyTracker&&((R=this.dependencyTracker)==null||R.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n)).recordDependencies(e,ps.stroke)),o.strokeText(n,r,i));v&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:_n(o),x:r,y:i,fontSize:h,path:A}),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,o,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return ut(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var B,z,W,U;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ps.showText).resetBBox(e),this.current.textRenderingMode&$r.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(B=this.dependencyTracker)==null||B.recordShowTextOperation(e);return}const a=r.fontSize;if(a===0){(z=this.dependencyTracker)==null||z.recordOperation(e);return}const s=this.ctx,o=r.fontSizeScale,u=r.charSpacing,c=r.wordSpacing,f=r.fontDirection,h=r.textHScale*f,g=n.length,v=i.vertical,w=v?1:-1,E=i.defaultVMetrics,A=a*r.fontMatrix[0],_=r.textRenderingMode===$r.FILL&&!i.disableFontFace&&!r.patternFill;s.save(),r.textMatrix&&s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),f>0?s.scale(h,-1):s.scale(h,1);let M,R;if(r.patternFill){s.save();const q=r.fillColor.getPattern(s,this,Ao(s),Jr.FILL,e);M=_n(s),s.restore(),s.fillStyle=q}if(r.patternStroke){s.save();const q=r.strokeColor.getPattern(s,this,Ao(s),Jr.STROKE,e);R=_n(s),s.restore(),s.strokeStyle=q}let I=r.lineWidth;const D=r.textMatrixScale;if(D===0||I===0){const q=r.textRenderingMode&$r.FILL_STROKE_MASK;(q===$r.STROKE||q===$r.FILL_STROKE)&&(I=this.getSinglePixelWidth())}else I/=D;if(o!==1&&(s.scale(o,o),I/=o),s.lineWidth=I,i.isInvalidPDFjsFont){const q=[];let Z=0;for(const Q of n)q.push(Q.unicode),Z+=Q.width;const V=q.join("");if(s.fillText(V,0,0),this.dependencyTracker!==null){const Q=s.measureText(V);this.dependencyTracker.recordBBox(e,this.ctx,-Q.actualBoundingBoxLeft,Q.actualBoundingBoxRight,-Q.actualBoundingBoxAscent,Q.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=Z*A*h,s.restore(),this.compose();return}let k=0,P;for(P=0;P<g;++P){const q=n[P];if(typeof q=="number"){k+=w*q*a/1e3;continue}let Z=!1;const V=(q.isSpace?c:0)+u,Q=q.fontChar,H=q.accent;let $,J,ae=q.width;if(v){const te=q.vmetric||E,ce=-(q.vmetric?te[1]:ae*.5)*A,me=te[2]*A;ae=te?-te[0]:ae,$=ce/o,J=(k+me)/o}else $=k/o,J=0;let Se;if(i.remeasure&&ae>0){Se=s.measureText(Q);const te=Se.width*1e3/a*o;if(ae<te&&this.isFontSubpixelAAEnabled){const ce=ae/te;Z=!0,s.save(),s.scale(ce,1),$/=ce}else ae!==te&&($+=(ae-te)/2e3*a/o)}if(this.contentVisible&&(q.isInFont||i.missingFile)){if(_&&!H)s.fillText(Q,$,J),(W=this.dependencyTracker)==null||W.recordCharacterBBox(e,s,Se?{bbox:null}:i,a/o,$,J,()=>Se??s.measureText(Q));else if(this.paintChar(e,Q,$,J,M,R),H){const te=$+a*H.offset.x/o,ce=J-a*H.offset.y/o;this.paintChar(e,H.fontChar,te,ce,M,R)}}const Y=v?ae*A-V*f:ae*A+V*f;k+=Y,Z&&s.restore()}v?r.y-=k:r.x+=k*h,s.restore(),this.compose(),(U=this.dependencyTracker)==null||U.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,a=i.font,s=i.fontSize,o=i.fontDirection,u=a.vertical?1:-1,c=i.charSpacing,f=i.wordSpacing,h=i.textHScale*o,g=i.fontMatrix||AM,v=n.length,w=i.textRenderingMode===$r.INVISIBLE;let E,A,_,M;if(w||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const R=this.dependencyTracker;for(this.dependencyTracker=R?new GE(R,e):null,E=0;E<v;++E){if(A=n[E],typeof A=="number"){M=u*A*s/1e3,this.ctx.translate(M,0),i.x+=M*h;continue}const I=(A.isSpace?f:0)+c,D=a.charProcOperatorList[A.operatorListId];D?this.contentVisible&&(this.save(),r.scale(s,s),r.transform(...g),this.executeOperatorList(D),this.restore()):it(`Type3 character "${A.operatorListId}" is not available.`);const k=[A.width,0];Le.applyTransform(k,g),_=k[0]*s+I,r.translate(_,0),i.x+=_*h}r.restore(),R&&(this.dependencyTracker=R)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,a,s,o){var c;const u=new Path2D;u.rect(i,a,s-i,o-a),this.ctx.clip(u),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,s,a,o).recordClipBox(e,this.ctx,i,s,a,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||_n(this.ctx),a={createCanvasGraphics:(s,o)=>new kI(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new GE(this.dependencyTracker,o,!0):null)};r=new QM(n,this.ctx,a,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=iAe(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var s;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,Ao(r),Jr.SHADING,e);const a=Ao(r);if(a){const{width:o,height:u}=r.canvas,c=dm.slice();Le.axialAlignedBoundingBox([0,0,o,u],a,c);const[f,h,g,v]=c;this.ctx.fillRect(f,h,g-f,v-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(s=this.dependencyTracker)==null||s.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ps.transform).recordDependencies(e,ps.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){on("Should not call beginInlineImage")}beginImageData(){on("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=_n(this.ctx),r)){Le.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[a,s,o,u]=r,c=new Path2D;c.rect(a,s,o-a,u-s),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,a,o,s,u),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var R;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||AC("TODO: Support non-isolated groups."),n.knockout&&it("Knockout groups not supported.");const i=_n(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=dm.slice();Le.axialAlignedBoundingBox(n.bbox,_n(r),a);const s=[0,0,r.canvas.width,r.canvas.height];a=Le.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),u=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-o,1),f=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,c,f]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(h,c,f),v=g.context;v.translate(-o,-u),v.transform(...i);let w=new Path2D;const[E,A,_,M]=n.bbox;if(w.rect(E,A,_-E,M-A),n.matrix){const I=new Path2D;I.addPath(w,new DOMMatrix(n.matrix)),w=I}v.clip(w),n.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:o,offsetY:u,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,u),r.save()),Iv(r,v),this.ctx=v,(R=this.dependencyTracker)==null||R.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var a;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(a=this.dependencyTracker)==null||a.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=_n(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=dm.slice();Le.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,a,s){if(F(this,yo,ZM).call(this),KS(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],u=r[3]-r[1];if(s&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=u,Le.singularValueDecompose2dScale(_n(this.ctx),Va);const{viewportScale:c}=this,f=Math.ceil(o*this.outputScaleX*c),h=Math.ceil(u*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(f,h);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(n,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Va[0],0,0,-Va[1],0,u*Va[1]),KS(this.ctx)}else{KS(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,u),this.ctx.clip(c)}}this.current=new pH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),F(this,yo,eP).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var o;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,a=this._createMaskCanvas(e,n),s=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(s,a.offsetX,a.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,a=0,s,o){var h,g,v;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const u=this.ctx;u.save();const c=_n(u);u.transform(r,i,a,s,0,0);const f=this._createMaskCanvas(e,n);u.setTransform(1,0,0,1,f.offsetX-c[4],f.offsetY-c[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let w=0,E=o.length;w<E;w+=2){const A=Le.transform(c,[r,i,a,s,o[w],o[w+1]]);u.drawImage(f.canvas,A[4],A[5]),(g=this.dependencyTracker)==null||g.recordBBox(e,this.ctx,A[4],A[4]+f.canvas.width,A[5],A[5]+f.canvas.height)}u.restore(),this.compose(),(v=this.dependencyTracker)==null||v.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var s,o,u;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,a=this.current.patternFill;(s=this.dependencyTracker)==null||s.resetBBox(e).recordDependencies(e,ps.transformAndFill);for(const c of n){const{data:f,width:h,height:g,transform:v}=c,w=this.cachedCanvases.getCanvas("maskCanvas",h,g),E=w.context;E.save();const A=this.getObject(e,f,c);gH(E,A),E.globalCompositeOperation="source-in",E.fillStyle=a?i.getPattern(E,this,Ao(r),Jr.FILL,e):i,E.fillRect(0,0,h,g),E.restore(),r.save(),r.transform(...v),r.scale(1,-1),YS(r,w.canvas,0,0,h,g,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,h,0,g),r.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){it("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,a){if(!this.contentVisible)return;const s=this.getObject(e,n);if(!s){it("Dependent image isn't ready yet");return}const o=s.width,u=s.height,c=[];for(let f=0,h=a.length;f<h;f+=2)c.push({transform:[r,0,0,i,a[f],a[f+1]],x:0,y:0,w:o,h:u});this.paintInlineImageXObjectGroup(e,s,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",r,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,a=this.ctx;this.save(e);const{filter:s}=a;s!=="none"&&s!==""&&(a.filter="none"),a.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;mH(h,n),o=this.applyTransferMapsToCanvas(h)}const u=this._scaleImage(o,Ao(a));a.imageSmoothingEnabled=yH(_n(a),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,a,0,r,-i,0).recordDependencies(e,ps.imageXObject).recordOperation(e),YS(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var s,o,u;if(!this.contentVisible)return;const i=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const c=n.width,f=n.height,g=this.cachedCanvases.getCanvas("inlineImage",c,f).context;mH(g,n),a=this.applyTransferMapsToCanvas(g)}(s=this.dependencyTracker)==null||s.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),YS(i,a,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(u=this.dependencyTracker)==null||u.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ps.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var s,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const a=this.ctx;this.pendingClip?(i||(this.pendingClip===vH?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,(s=this.dependencyTracker)==null||s.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=_n(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:a}=this.ctx.getTransform();let s,o;if(r===0&&i===0){const u=Math.abs(n),c=Math.abs(a);if(u===c)if(e===0)s=o=1/u;else{const f=u*e;s=o=f<1?1/f:1}else if(e===0)s=1/u,o=1/c;else{const f=u*e,h=c*e;s=f<1?1/f:1,o=h<1?1/h:1}}else{const u=Math.abs(n*a-r*i),c=Math.hypot(n,r),f=Math.hypot(i,a);if(e===0)s=f/u,o=c/u;else{const h=e*u;s=f>h?f/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s){r.lineWidth=(i||1)*a,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(a,s),W2.a=1/a,W2.d=1/s;const u=new Path2D;if(u.addPath(e,W2),o.length>0){const c=Math.max(a,s);r.setLineDash(o.map(f=>f/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(u),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};yo=new WeakSet,ZM=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},eP=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},tP=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let Am=kI;for(const t in ly)Am.prototype[t]!==void 0&&(Am.prototype[ly[t]]=Am.prototype[t]);var eg,tg,wb,ng,v1;const hm=class hm{constructor(e){j(this,ng);j(this,eg);j(this,tg);j(this,wb);L(this,eg,e),L(this,tg,new DataView(m(this,eg))),L(this,wb,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of hm.strings){const f=n.encode(e[c]);r[c]=f,i+=4+f.length}const a=new ArrayBuffer(i),s=new Uint8Array(a),o=new DataView(a);let u=0;for(const c of hm.strings){const f=r[c],h=f.length;o.setUint32(u,h),s.set(f,u+4),u+=4+h}return wt(u===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return F(this,ng,v1).call(this,0)}get fontWeight(){return F(this,ng,v1).call(this,1)}get italicAngle(){return F(this,ng,v1).call(this,2)}};eg=new WeakMap,tg=new WeakMap,wb=new WeakMap,ng=new WeakSet,v1=function(e){wt(e<hm.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=m(this,tg).getUint32(n)+4;const r=m(this,tg).getUint32(n);return m(this,wb).decode(new Uint8Array(m(this,eg),n+4,r))},we(hm,"strings",["fontFamily","fontWeight","italicAngle"]);let $E=hm;var Yc,Uo,eh,th,e0;const pm=class pm{constructor(e){j(this,th);j(this,Yc);j(this,Uo);j(this,eh);L(this,Yc,e),L(this,Uo,new DataView(m(this,Yc))),L(this,eh,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const g of pm.strings){const v=n.encode(e[g]);r[g]=v,i+=4+v.length}i+=4;let a,s,o=1+i;e.style&&(a=n.encode(e.style.style),s=n.encode(e.style.weight),o+=4+a.length+4+s.length);const u=new ArrayBuffer(o),c=new Uint8Array(u),f=new DataView(u);let h=0;f.setUint8(h++,e.guessFallback?1:0),f.setUint32(h,0),h+=4,i=0;for(const g of pm.strings){const v=r[g],w=v.length;i+=4+w,f.setUint32(h,w),c.set(v,h+4),h+=4+w}return f.setUint32(h-i-4,i),e.style&&(f.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length,f.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length),wt(h<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(h)}get guessFallback(){return m(this,Uo).getUint8(0)!==0}get css(){return F(this,th,e0).call(this,0)}get loadedName(){return F(this,th,e0).call(this,1)}get baseFontName(){return F(this,th,e0).call(this,2)}get src(){return F(this,th,e0).call(this,3)}get style(){let e=1;e+=4+m(this,Uo).getUint32(e);const n=m(this,Uo).getUint32(e),r=m(this,eh).decode(new Uint8Array(m(this,Yc),e+4,n));e+=4+n;const i=m(this,Uo).getUint32(e),a=m(this,eh).decode(new Uint8Array(m(this,Yc),e+4,i));return{style:r,weight:a}}};Yc=new WeakMap,Uo=new WeakMap,eh=new WeakMap,th=new WeakSet,e0=function(e){wt(e<pm.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=m(this,Uo).getUint32(n)+4;const r=m(this,Uo).getUint32(n);return m(this,eh).decode(new Uint8Array(m(this,Yc),n+4,r))},we(pm,"strings",["css","loadedName","baseFontName","src"]);let qE=pm;var rg,ig,ag,sg,Ma,Bo,Sb,Kt,Fn,Vs,b1,t0;const ot=class ot{constructor({data:e,extra:n}){j(this,Fn);j(this,Bo);j(this,Sb);j(this,Kt);L(this,Bo,e),L(this,Sb,new TextDecoder),L(this,Kt,new DataView(m(this,Bo))),n&&Object.assign(this,n)}get black(){return F(this,Fn,Vs).call(this,0)}get bold(){return F(this,Fn,Vs).call(this,1)}get disableFontFace(){return F(this,Fn,Vs).call(this,2)}get fontExtraProperties(){return F(this,Fn,Vs).call(this,3)}get isInvalidPDFjsFont(){return F(this,Fn,Vs).call(this,4)}get isType3Font(){return F(this,Fn,Vs).call(this,5)}get italic(){return F(this,Fn,Vs).call(this,6)}get missingFile(){return F(this,Fn,Vs).call(this,7)}get remeasure(){return F(this,Fn,Vs).call(this,8)}get vertical(){return F(this,Fn,Vs).call(this,9)}get ascent(){return F(this,Fn,b1).call(this,0)}get defaultWidth(){return F(this,Fn,b1).call(this,1)}get descent(){return F(this,Fn,b1).call(this,2)}get bbox(){let e=m(ot,ig);if(m(this,Kt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(m(this,Kt).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=m(ot,ag);if(m(this,Kt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(m(this,Kt).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=m(ot,sg);if(m(this,Kt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(m(this,Kt).getInt16(e,!0)),e+=2;return r}get fallbackName(){return F(this,Fn,t0).call(this,0)}get loadedName(){return F(this,Fn,t0).call(this,1)}get mimetype(){return F(this,Fn,t0).call(this,2)}get name(){return F(this,Fn,t0).call(this,3)}get data(){let e=m(ot,Ma);const n=m(this,Kt).getUint32(e);e+=4+n;const r=m(this,Kt).getUint32(e);e+=4+r;const i=m(this,Kt).getUint32(e);e+=4+i;const a=m(this,Kt).getUint32(e);if(a!==0)return new Uint8Array(m(this,Bo),e+4,a)}clearData(){let e=m(ot,Ma);const n=m(this,Kt).getUint32(e);e+=4+n;const r=m(this,Kt).getUint32(e);e+=4+r;const i=m(this,Kt).getUint32(e);e+=4+i;const a=m(this,Kt).getUint32(e);new Uint8Array(m(this,Bo),e+4,a).fill(0),m(this,Kt).setUint32(e,0)}get cssFontInfo(){let e=m(ot,Ma);const n=m(this,Kt).getUint32(e);e+=4+n;const r=m(this,Kt).getUint32(e);e+=4+r;const i=m(this,Kt).getUint32(e);if(i===0)return null;const a=new Uint8Array(i);return a.set(new Uint8Array(m(this,Bo),e+4,i)),new $E(a.buffer)}get systemFontInfo(){let e=m(ot,Ma);const n=m(this,Kt).getUint32(e);e+=4+n;const r=m(this,Kt).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(m(this,Bo),e+4,r)),new qE(i.buffer)}static write(e){const n=e.systemFontInfo?qE.write(e.systemFontInfo):null,r=e.cssFontInfo?$E.write(e.cssFontInfo):null,i=new TextEncoder,a={};let s=0;for(const E of ot.strings)a[E]=i.encode(e[E]),s+=4+a[E].length;const o=m(ot,Ma)+4+s+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(o),c=new Uint8Array(u),f=new DataView(u);let h=0;const g=ot.bools.length;let v=0,w=0;for(let E=0;E<g;E++){const A=e[ot.bools[E]];v|=(A===void 0?0:A?2:1)<<w,w+=2,(w===8||E===g-1)&&(f.setUint8(h++,v),v=0,w=0)}wt(h===m(ot,rg),"FontInfo.write: Boolean properties offset mismatch");for(const E of ot.numbers)f.setFloat64(h,e[E]),h+=8;if(wt(h===m(ot,ig),"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(h++,4);for(const E of e.bbox)f.setInt16(h,E,!0),h+=2}else f.setUint8(h++,0),h+=8;if(wt(h===m(ot,ag),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(h++,6);for(const E of e.fontMatrix)f.setFloat64(h,E,!0),h+=8}else f.setUint8(h++,0),h+=48;if(wt(h===m(ot,sg),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(h++,1);for(const E of e.defaultVMetrics)f.setInt16(h,E,!0),h+=2}else f.setUint8(h++,0),h+=6;wt(h===m(ot,Ma),"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(m(ot,Ma),0),h+=4;for(const E of ot.strings){const A=a[E],_=A.length;f.setUint32(h,_),c.set(A,h+4),h+=4+_}if(f.setUint32(m(ot,Ma),h-m(ot,Ma)-4),!n)f.setUint32(h,0),h+=4;else{const E=n.byteLength;f.setUint32(h,E),wt(h+4+E<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+E}if(!r)f.setUint32(h,0),h+=4;else{const E=r.byteLength;f.setUint32(h,E),wt(h+4+E<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+E}return e.data===void 0?(f.setUint32(h,0),h+=4):(f.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),wt(h<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(h)}};rg=new WeakMap,ig=new WeakMap,ag=new WeakMap,sg=new WeakMap,Ma=new WeakMap,Bo=new WeakMap,Sb=new WeakMap,Kt=new WeakMap,Fn=new WeakSet,Vs=function(e){wt(e<ot.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=m(this,Kt).getUint8(n)>>r&3;return i===0?void 0:i===2},b1=function(e){return wt(e<ot.numbers.length,"Invalid number index"),m(this,Kt).getFloat64(m(ot,rg)+e*8)},t0=function(e){wt(e<ot.strings.length,"Invalid string index");let n=m(ot,Ma)+4;for(let a=0;a<e;a++)n+=m(this,Kt).getUint32(n)+4;const r=m(this,Kt).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(m(this,Bo),n+4,r)),m(this,Sb).decode(i)},we(ot,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),we(ot,"numbers",["ascent","defaultWidth","descent"]),we(ot,"strings",["fallbackName","loadedName","mimetype","name"]),j(ot,rg,Math.ceil(ot.bools.length*2/8)),j(ot,ig,m(ot,rg)+ot.numbers.length*8),j(ot,ag,m(ot,ig)+1+8),j(ot,sg,m(ot,ag)+1+48),j(ot,Ma,m(ot,sg)+1+6);let nP=ot;var Eb,Ab;class Rs{static get workerPort(){return m(this,Eb)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");L(this,Eb,e)}static get workerSrc(){return m(this,Ab)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");L(this,Ab,e)}}Eb=new WeakMap,Ab=new WeakMap,j(Rs,Eb,null),j(Rs,Ab,"");var og,Cb;class fAe{constructor({parsedData:e,rawData:n}){j(this,og);j(this,Cb);L(this,og,e),L(this,Cb,n)}getRaw(){return m(this,Cb)}get(e){return m(this,og).get(e)??null}[Symbol.iterator](){return m(this,og).entries()}}og=new WeakMap,Cb=new WeakMap;const rm=Symbol("INTERNAL");var _b,Tb,Nb,lg;class hAe{constructor(e,{name:n,intent:r,usage:i,rbGroups:a}){j(this,_b,!1);j(this,Tb,!1);j(this,Nb,!1);j(this,lg,!0);L(this,_b,!!(e&$a.DISPLAY)),L(this,Tb,!!(e&$a.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=a}get visible(){if(m(this,Nb))return m(this,lg);if(!m(this,lg))return!1;const{print:e,view:n}=this.usage;return m(this,_b)?(n==null?void 0:n.viewState)!=="OFF":m(this,Tb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==rm&&on("Internal method `_setVisible` called."),L(this,Nb,r),L(this,lg,n)}}_b=new WeakMap,Tb=new WeakMap,Nb=new WeakMap,lg=new WeakMap;var Kc,Xt,ug,cg,Rb,rP;class pAe{constructor(e,n=$a.DISPLAY){j(this,Rb);j(this,Kc,null);j(this,Xt,new Map);j(this,ug,null);j(this,cg,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,L(this,cg,e.order);for(const r of e.groups)m(this,Xt).set(r.id,new hAe(n,r));if(e.baseState==="OFF")for(const r of m(this,Xt).values())r._setVisible(rm,!1);for(const r of e.on)m(this,Xt).get(r)._setVisible(rm,!0);for(const r of e.off)m(this,Xt).get(r)._setVisible(rm,!1);L(this,ug,this.getHash())}}isVisible(e){if(m(this,Xt).size===0)return!0;if(!e)return AC("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,Xt).has(e.id)?m(this,Xt).get(e.id).visible:(it(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return F(this,Rb,rP).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!m(this,Xt).has(n))return it(`Optional content group not found: ${n}`),!0;if(m(this,Xt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!m(this,Xt).has(n))return it(`Optional content group not found: ${n}`),!0;if(!m(this,Xt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!m(this,Xt).has(n))return it(`Optional content group not found: ${n}`),!0;if(!m(this,Xt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!m(this,Xt).has(n))return it(`Optional content group not found: ${n}`),!0;if(m(this,Xt).get(n).visible)return!1}return!0}return it(`Unknown optional content policy ${e.policy}.`),!0}return it(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var a;const i=m(this,Xt).get(e);if(!i){it(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const o of s)o!==e&&((a=m(this,Xt).get(o))==null||a._setVisible(rm,!1,!0));i._setVisible(rm,!!n,!0),L(this,Kc,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const a=m(this,Xt).get(i);if(a)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!a.visible,n);break}}L(this,Kc,null)}get hasInitialVisibility(){return m(this,ug)===null||this.getHash()===m(this,ug)}getOrder(){return m(this,Xt).size?m(this,cg)?m(this,cg).slice():[...m(this,Xt).keys()]:null}getGroup(e){return m(this,Xt).get(e)||null}getHash(){if(m(this,Kc)!==null)return m(this,Kc);const e=new y7;for(const[n,r]of m(this,Xt))e.update(`${n}:${r.visible}`);return L(this,Kc,e.hexdigest())}[Symbol.iterator](){return m(this,Xt).entries()}}Kc=new WeakMap,Xt=new WeakMap,ug=new WeakMap,cg=new WeakMap,Rb=new WeakSet,rP=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const a=e[i];let s;if(Array.isArray(a))s=F(this,Rb,rP).call(this,a);else if(m(this,Xt).has(a))s=m(this,Xt).get(a).visible;else return it(`Optional content group not found: ${a}`),!0;switch(r){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return r==="And"};class mAe{constructor(e,{disableRange:n=!1,disableStream:r=!1}){wt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,c)=>{this._onReceiveData({begin:u,chunk:c})}),e.addProgressListener((u,c)=>{this._onProgress({loaded:u,total:c})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(r),!0)});wt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,a;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(a=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){wt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new gAe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new yAe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class gAe{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=_C(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class yAe{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function vAe(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let f=o(n);return f=unescape(f),f=u(f),f=c(f),a(f)}if(n=s(t),n){const f=c(n);return a(f)}if(n=r("filename","i").exec(t),n){n=n[1];let f=o(n);return f=c(f),a(f)}function r(f,h){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(f,h){if(f){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const g=new TextDecoder(f,{fatal:!0}),v=ew(h);h=g.decode(v),e=!1}catch{}}return h}function a(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function s(f){const h=[];let g;const v=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(f))!==null;){let[,E,A,_]=g;if(E=parseInt(E,10),E in h){if(E===0)break;continue}h[E]=[A,_]}const w=[];for(let E=0;E<h.length&&E in h;++E){let[A,_]=h[E];_=o(_),A&&(_=unescape(_),E===0&&(_=u(_))),w.push(_)}return w.join("")}function o(f){if(f.startsWith('"')){const h=f.slice(1).split('\\"');for(let g=0;g<h.length;++g){const v=h[g].indexOf('"');v!==-1&&(h[g]=h[g].slice(0,v),h.length=g+1),h[g]=h[g].replaceAll(/\\(.)/g,"$1")}f=h.join('"')}return f}function u(f){const h=f.indexOf("'");if(h===-1)return f;const g=f.slice(0,h),w=f.slice(h+1).replace(/^[^']*'/,"");return i(g,w)}function c(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,g,v,w){if(v==="q"||v==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,A){return String.fromCharCode(parseInt(A,16))}),i(g,w);try{w=atob(w)}catch{}return i(g,w)})}return""}function M7(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function TC(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function P7({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(i.suggestedLength=a,a<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function k7(t){const e=t.get("Content-Disposition");if(e){let n=vAe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(_C(n))return n}return null}function iw(t,e){return new j0(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function D7(t){return t===200||t===206}function I7(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function L7(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(it(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class bAe{constructor(e){we(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=M7(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return wt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new xAe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new wAe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class xAe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,I7(r,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=TC(a.url),!D7(a.status))throw iw(a.status,i);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:u}=P7({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=u||this._contentLength,this._filename=k7(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Lu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:L7(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class wAe{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${r-1}`);const s=i.url;fetch(s,I7(a,this._withCredentials,this._abortController)).then(o=>{const u=TC(o.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!D7(o.status))throw iw(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:L7(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const Y2=200,K2=206;function SAe(t){const e=t.response;return typeof e!="string"?e:ew(e).buffer}class EAe{constructor({url:e,httpHeaders:n,withCredentials:r}){we(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=M7(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=K2):i.expectedStatus=Y2,n.responseType="arraybuffer",wt(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const a=i.status||Y2;if(!(a===Y2&&r.expectedStatus===K2)&&a!==r.expectedStatus){r.onError(i.status);return}const o=SAe(i);if(a===K2){const u=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(it('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class AAe{constructor(e){this._source=e,this._manager=new EAe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return wt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new CAe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new _Ae(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class CAe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=TC(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[u,...c]=o.split(": ");return[u,c.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=P7({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=k7(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=iw(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _Ae{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=TC((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=iw(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const TAe=/^[a-z][a-z0-9\-+.]+:/i;function NAe(t){if(TAe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class RAe{constructor(e){this.source=e,this.url=NAe(e.url),wt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return wt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new MAe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new PAe(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class MAe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=iw(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Lu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PAe{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Lv=Symbol("INITIAL_DATA");var Pa,Mb,iP;class O7{constructor(){j(this,Mb);j(this,Pa,Object.create(null))}get(e,n=null){if(n){const i=F(this,Mb,iP).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=m(this,Pa)[e];if(!r||r.data===Lv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=m(this,Pa)[e];return!!n&&n.data!==Lv}delete(e){const n=m(this,Pa)[e];return!n||n.data===Lv?!1:(delete m(this,Pa)[e],!0)}resolve(e,n=null){const r=F(this,Mb,iP).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in m(this,Pa)){const{data:r}=m(this,Pa)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}L(this,Pa,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,Pa)){const{data:n}=m(this,Pa)[e];n!==Lv&&(yield[e,n])}}}Pa=new WeakMap,Mb=new WeakSet,iP=function(e){var n;return(n=m(this,Pa))[e]||(n[e]={...Promise.withResolvers(),data:Lv})};const kAe=1e5,bH=30;var kH,Xc,ia,Pb,kb,nh,eu,Db,Ib,rh,dg,fg,Jc,hg,Lb,pg,ih,Ob,jb,jn,mg,ah,Fb,Qc,gg,Fu,j7,F7,aP,Ja,x1,sP,U7,B7;let z0=(jn=class{constructor({textContentSource:e,container:n,viewport:r}){j(this,Fu);j(this,Xc,Promise.withResolvers());j(this,ia,null);j(this,Pb,!1);j(this,kb,!!((kH=globalThis.FontInspector)!=null&&kH.enabled));j(this,nh,null);j(this,eu,null);j(this,Db,0);j(this,Ib,0);j(this,rh,null);j(this,dg,null);j(this,fg,0);j(this,Jc,0);j(this,hg,Object.create(null));j(this,Lb,[]);j(this,pg,null);j(this,ih,[]);j(this,Ob,new WeakMap);j(this,jb,null);var u;if(e instanceof ReadableStream)L(this,pg,e);else if(typeof e=="object")L(this,pg,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');L(this,ia,L(this,dg,n)),L(this,Jc,r.scale*go.pixelRatio),L(this,fg,r.rotation),L(this,eu,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;L(this,jb,[1,0,0,-1,-s,o+a]),L(this,Ib,i),L(this,Db,a),F(u=jn,Ja,U7).call(u),Dd(n,r),m(this,Xc).promise.finally(()=>{m(jn,gg).delete(this),L(this,eu,null),L(this,hg,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Or.platform;return ut(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,rh).read().then(({value:n,done:r})=>{if(r){m(this,Xc).resolve();return}m(this,nh)??L(this,nh,n.lang),Object.assign(m(this,hg),n.styles),F(this,Fu,j7).call(this,n.items),e()},m(this,Xc).reject)};return L(this,rh,m(this,pg).getReader()),m(jn,gg).add(this),e(),m(this,Xc).promise}update({viewport:e,onBefore:n=null}){var a;const r=e.scale*go.pixelRatio,i=e.rotation;if(i!==m(this,fg)&&(n==null||n(),L(this,fg,i),Dd(m(this,dg),{rotation:i})),r!==m(this,Jc)){n==null||n(),L(this,Jc,r);const s={div:null,properties:null,ctx:F(a=jn,Ja,x1).call(a,m(this,nh))};for(const o of m(this,ih))s.properties=m(this,Ob).get(o),s.div=o,F(this,Fu,aP).call(this,s)}}cancel(){var n;const e=new Lu("TextLayer task cancelled.");(n=m(this,rh))==null||n.cancel(e).catch(()=>{}),L(this,rh,null),m(this,Xc).reject(e)}get textDivs(){return m(this,ih)}get textContentItemsStr(){return m(this,Lb)}static cleanup(){if(!(m(this,gg).size>0)){m(this,mg).clear();for(const{canvas:e}of m(this,ah).values())e.remove();m(this,ah).clear()}}},Xc=new WeakMap,ia=new WeakMap,Pb=new WeakMap,kb=new WeakMap,nh=new WeakMap,eu=new WeakMap,Db=new WeakMap,Ib=new WeakMap,rh=new WeakMap,dg=new WeakMap,fg=new WeakMap,Jc=new WeakMap,hg=new WeakMap,Lb=new WeakMap,pg=new WeakMap,ih=new WeakMap,Ob=new WeakMap,jb=new WeakMap,mg=new WeakMap,ah=new WeakMap,Fb=new WeakMap,Qc=new WeakMap,gg=new WeakMap,Fu=new WeakSet,j7=function(e){var i,a;if(m(this,Pb))return;(a=m(this,eu)).ctx??(a.ctx=F(i=jn,Ja,x1).call(i,m(this,nh)));const n=m(this,ih),r=m(this,Lb);for(const s of e){if(n.length>kAe){it("Ignoring additional textDivs for performance reasons."),L(this,Pb,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=m(this,ia);L(this,ia,document.createElement("span")),m(this,ia).classList.add("markedContent"),s.id&&m(this,ia).setAttribute("id",`${s.id}`),o.append(m(this,ia))}else s.type==="endMarkedContent"&&L(this,ia,m(this,ia).parentNode);continue}r.push(s.str),F(this,Fu,F7).call(this,s)}},F7=function(e){var E;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,ih).push(n);const i=Le.transform(m(this,jb),e.transform);let a=Math.atan2(i[1],i[0]);const s=m(this,hg)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=m(this,kb)&&s.fontSubstitution||s.fontFamily;o=jn.fontFamilyMap.get(o)||o;const u=Math.hypot(i[2],i[3]),c=u*F(E=jn,Ja,B7).call(E,o,s,m(this,nh));let f,h;a===0?(f=i[4],h=i[5]-c):(f=i[4]+c*Math.sin(a),h=i[5]-c*Math.cos(a));const g="calc(var(--total-scale-factor) *",v=n.style;m(this,ia)===m(this,dg)?(v.left=`${(100*f/m(this,Ib)).toFixed(2)}%`,v.top=`${(100*h/m(this,Db)).toFixed(2)}%`):(v.left=`${g}${f.toFixed(2)}px)`,v.top=`${g}${h.toFixed(2)}px)`),v.fontSize=`${g}${(m(jn,Qc)*u).toFixed(2)}px)`,v.fontFamily=o,r.fontSize=u,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,m(this,kb)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(r.angle=a*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);A!==_&&Math.max(A,_)/Math.min(A,_)>1.5&&(w=!0)}if(w&&(r.canvasWidth=s.vertical?e.height:e.width),m(this,Ob).set(n,r),m(this,eu).div=n,m(this,eu).properties=r,F(this,Fu,aP).call(this,m(this,eu)),r.hasText&&m(this,ia).append(n),r.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),m(this,ia).append(A)}},aP=function(e){var o;const{div:n,properties:r,ctx:i}=e,{style:a}=n;let s="";if(m(jn,Qc)>1&&(s=`scale(${1/m(jn,Qc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:u}=a,{canvasWidth:c,fontSize:f}=r;F(o=jn,Ja,sP).call(o,i,f*m(this,Jc),u);const{width:h}=i.measureText(n.textContent);h>0&&(s=`scaleX(${c*m(this,Jc)/h}) ${s}`)}r.angle!==0&&(s=`rotate(${r.angle}deg) ${s}`),s.length>0&&(a.transform=s)},Ja=new WeakSet,x1=function(e=null){let n=m(this,ah).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,ah).set(e,n),m(this,Fb).set(n,{size:0,family:""})}return n},sP=function(e,n,r){const i=m(this,Fb).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},U7=function(){if(m(this,Qc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),L(this,Qc,e.getBoundingClientRect().height),e.remove()},B7=function(e,n,r){const i=m(this,mg).get(e);if(i)return i;const a=F(this,Ja,x1).call(this,r);a.canvas.width=a.canvas.height=bH,F(this,Ja,sP).call(this,a,bH,e);const s=a.measureText(""),o=s.fontBoundingBoxAscent,u=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let c=.8;return o?c=o/(o+u):(Or.platform.isFirefox&&it("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),m(this,mg).set(e,c),c},j(jn,Ja),j(jn,mg,new Map),j(jn,ah,new Map),j(jn,Fb,new WeakMap),j(jn,Qc,null),j(jn,gg,new Set),jn);const DAe=100;function SI(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new oP,{docId:n}=e,r=t.url?zEe(t.url):null,i=t.data?HEe(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,u=t.range instanceof EI?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let f=t.worker instanceof uy?t.worker:null;const h=t.verbosity,g=typeof t.docBaseUrl=="string"&&!nw(t.docBaseUrl)?t.docBaseUrl:null,v=$S(t.cMapUrl),w=t.cMapPacked!==!1,E=t.CMapReaderFactory||(ki?KEe:aH),A=$S(t.iccUrl),_=$S(t.standardFontDataUrl),M=t.StandardFontDataFactory||(ki?XEe:sH),R=$S(t.wasmUrl),I=t.WasmFactory||(ki?JEe:oH),D=t.stopAtErrors!==!0,k=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,P=t.isEvalSupported!==!1,B=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!ki,z=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!ki&&(Or.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,U=typeof t.disableFontFace=="boolean"?t.disableFontFace:ki,q=t.fontExtraProperties===!0,Z=t.enableXfa===!0,V=t.ownerDocument||globalThis.document,Q=t.disableRange===!0,H=t.disableStream===!0,$=t.disableAutoFetch===!0,J=t.pdfBug===!0,ae=t.CanvasFactory||(ki?YEe:qEe),Se=t.FilterFactory||(ki?WEe:VEe),Y=t.enableHWA===!0,te=t.useWasm!==!1,ce=u?u.length:t.length??NaN,me=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!ki&&!U,Ee=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(E===aH&&M===sH&&I===oH&&v&&_&&R&&Gv(v,document.baseURI)&&Gv(_,document.baseURI)&&Gv(R,document.baseURI)),Me=null;SEe(h);const Ce={canvasFactory:new ae({ownerDocument:V,enableHWA:Y}),filterFactory:new Se({docId:n,ownerDocument:V}),cMapReaderFactory:Ee?null:new E({baseUrl:v,isCompressed:w}),standardFontDataFactory:Ee?null:new M({baseUrl:_}),wasmFactory:Ee?null:new I({baseUrl:R})};f||(f=uy.create({verbosity:h,port:Rs.workerPort}),e._worker=f);const ft={docId:n,apiVersion:"5.4.296",data:i,password:o,disableAutoFetch:$,rangeChunkSize:c,length:ce,docBaseUrl:g,enableXfa:Z,evaluatorOptions:{maxImageSize:k,disableFontFace:U,ignoreErrors:D,isEvalSupported:P,isOffscreenCanvasSupported:B,isImageDecoderSupported:z,canvasMaxAreaInBytes:W,fontExtraProperties:q,useSystemFonts:me,useWasm:te,useWorkerFetch:Ee,cMapUrl:v,iccUrl:A,standardFontDataUrl:_,wasmUrl:R}},fe={ownerDocument:V,pdfBug:J,styleElement:Me,loadingParams:{disableAutoFetch:$,enableXfa:Z}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Re=f.messageHandler.sendWithPromise("GetDocRequest",ft,i?[i.buffer]:null);let Ke;if(u)Ke=new mAe(u,{disableRange:Q,disableStream:H});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ne=Gv(r)?bAe:ki?RAe:AAe;Ke=new ne({url:r,length:ce,httpHeaders:a,withCredentials:s,rangeChunkSize:c,disableRange:Q,disableStream:H})}return Re.then(ne=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const be=new Kv(n,ne,f.port),ve=new OAe(be,e,Ke,fe,Ce,Y);e._transport=ve,be.send("Ready",null)})}).catch(e._capability.reject),e}var oA;const lA=class lA{constructor(){we(this,"_capability",Promise.withResolvers());we(this,"_transport",null);we(this,"_worker",null);we(this,"docId",`d${ur(lA,oA)._++}`);we(this,"destroyed",!1);we(this,"onPassword",null);we(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(a){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,a}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};oA=new WeakMap,j(lA,oA,0);let oP=lA;var sh,Ub,Bb,zb,Hb,DH;let EI=(DH=class{constructor(e,n,r=!1,i=null){j(this,sh,Promise.withResolvers());j(this,Ub,[]);j(this,Bb,[]);j(this,zb,[]);j(this,Hb,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){m(this,Hb).push(e)}addProgressListener(e){m(this,zb).push(e)}addProgressiveReadListener(e){m(this,Bb).push(e)}addProgressiveDoneListener(e){m(this,Ub).push(e)}onDataRange(e,n){for(const r of m(this,Hb))r(e,n)}onDataProgress(e,n){m(this,sh).promise.then(()=>{for(const r of m(this,zb))r(e,n)})}onDataProgressiveRead(e){m(this,sh).promise.then(()=>{for(const n of m(this,Bb))n(e)})}onDataProgressiveDone(){m(this,sh).promise.then(()=>{for(const e of m(this,Ub))e()})}transportReady(){m(this,sh).resolve()}requestDataRange(e,n){on("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},sh=new WeakMap,Ub=new WeakMap,Bb=new WeakMap,zb=new WeakMap,Hb=new WeakMap,DH);class IAe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var tu,oh,n0;class LAe{constructor(e,n,r,i=!1){j(this,oh);j(this,tu,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new Qz:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new O7,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:a=!1}={}){return new tw({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:a=Qo.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:u=null,annotationCanvasMap:c=null,pageColors:f=null,printAnnotationStorage:h=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:w=null}){var z,W,U;(z=this._stats)==null||z.time("Overall");const E=this._transport.getRenderingIntent(i,a,h,g),{renderingIntent:A,cacheKey:_}=E;L(this,tu,!1),u||(u=this._transport.getOptionalContentConfig(A));let M=this._intentStates.get(_);M||(M=Object.create(null),this._intentStates.set(_,M)),M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);const R=!!(A&$a.PRINT);M.displayReadyCapability||(M.displayReadyCapability=Promise.withResolvers(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(W=this._stats)==null||W.time("Page Request"),this._pumpOperatorList(E));const I=!!(this._pdfBug&&((U=globalThis.StepperManager)!=null&&U.enabled)),D=!this.recordedBBoxes&&(v||I),k=q=>{var Z,V;if(M.renderTasks.delete(P),D){const Q=(Z=P.gfx)==null?void 0:Z.dependencyTracker.take();Q&&(P.stepper&&P.stepper.setOperatorBBoxes(Q,P.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=Q))}R&&L(this,tu,!0),F(this,oh,n0).call(this),q?(P.capability.reject(q),this._abortOperatorList({intentState:M,reason:q instanceof Error?q:new Error(q)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new lP({callback:k,params:{canvas:n,canvasContext:e,dependencyTracker:D?new ZEe(n,M.operatorList.length,I):null,viewport:r,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:M.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:w});(M.renderTasks||(M.renderTasks=new Set)).add(P);const B=P.task;return Promise.all([M.displayReadyCapability.promise,u]).then(([q,Z])=>{var V;if(this.destroyed){k();return}if((V=this._stats)==null||V.time("Rendering"),!(Z.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:q,optionalContentConfig:Z}),P.operatorListChanged()}).catch(k),B}getOperatorList({intent:e="display",annotationMode:n=Qo.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(u))}const s=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let u;return o.opListReadCapability||(u=Object.create(null),u.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(u),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>F0.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function a(){s.read().then(function({value:u,done:c}){if(c){r(o);return}o.lang??(o.lang=u.lang),Object.assign(o.styles,u.styles),o.items.push(...u.items),a()},i)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),L(this,tu,!1),Promise.all(e)}cleanup(e=!1){L(this,tu,!0);const n=F(this,oh,n0).call(this);return e&&n&&this._stats&&(this._stats=new Qz),n}_startRenderPage(e,n){var i,a;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(a=r.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&F(this,oh,n0).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:a,transfer:s}=r,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:i},s).getReader(),c=this._intentStates.get(n);c.streamReader=u;const f=()=>{u.read().then(({value:h,done:g})=>{if(g){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),f())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const g of c.renderTasks)g.operatorListChanged();F(this,oh,n0).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};f()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof CC){let i=DAe;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Lu(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,a]of this._intentStates)if(a===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}tu=new WeakMap,oh=new WeakSet,n0=function(){if(!m(this,tu)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),L(this,tu,!1),!0};var Zc,Zs,nu,lh,uA,uh,ch,Li,w1,z7,H7,r0,yg,S1;const bn=class bn{constructor({name:e=null,port:n=null,verbosity:r=EEe()}={}){j(this,Li);j(this,Zc,Promise.withResolvers());j(this,Zs,null);j(this,nu,null);j(this,lh,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(m(bn,ch).has(n))throw new Error("Cannot use more than one PDFWorker per port.");m(bn,ch).set(n,this),F(this,Li,z7).call(this,n)}else F(this,Li,H7).call(this)}get promise(){return m(this,Zc).promise}get port(){return m(this,nu)}get messageHandler(){return m(this,Zs)}destroy(){var e,n;this.destroyed=!0,(e=m(this,lh))==null||e.terminate(),L(this,lh,null),m(bn,ch).delete(m(this,nu)),L(this,nu,null),(n=m(this,Zs))==null||n.destroy(),L(this,Zs,null)}static create(e){const n=m(this,ch).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new bn(e)}static get workerSrc(){if(Rs.workerSrc)return Rs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ut(this,"_setupFakeWorkerGlobal",(async()=>m(this,yg,S1)?m(this,yg,S1):(await import(this.workerSrc)).WorkerMessageHandler)())}};Zc=new WeakMap,Zs=new WeakMap,nu=new WeakMap,lh=new WeakMap,uA=new WeakMap,uh=new WeakMap,ch=new WeakMap,Li=new WeakSet,w1=function(){m(this,Zc).resolve(),m(this,Zs).send("configure",{verbosity:this.verbosity})},z7=function(e){L(this,nu,e),L(this,Zs,new Kv("main","worker",e)),m(this,Zs).on("ready",()=>{}),F(this,Li,w1).call(this)},H7=function(){if(m(bn,uh)||m(bn,yg,S1)){F(this,Li,r0).call(this);return}let{workerSrc:e}=bn;try{bn._isSameOrigin(window.location,e)||(e=bn._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Kv("main","worker",n),i=()=>{a.abort(),r.destroy(),n.terminate(),this.destroyed?m(this,Zc).reject(new Error("Worker was destroyed")):F(this,Li,r0).call(this)},a=new AbortController;n.addEventListener("error",()=>{m(this,lh)||i()},{signal:a.signal}),r.on("test",o=>{if(a.abort(),this.destroyed||!o){i();return}L(this,Zs,r),L(this,nu,n),L(this,lh,n),F(this,Li,w1).call(this)}),r.on("ready",o=>{if(a.abort(),this.destroyed){i();return}try{s()}catch{F(this,Li,r0).call(this)}});const s=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{AC("The worker has been disabled.")}F(this,Li,r0).call(this)},r0=function(){m(bn,uh)||(it("Setting up fake worker."),L(bn,uh,!0)),bn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){m(this,Zc).reject(new Error("Worker was destroyed"));return}const n=new $Ee;L(this,nu,n);const r=`fake${ur(bn,uA)._++}`,i=new Kv(r+"_worker",r,n);e.setup(i,n),L(this,Zs,new Kv(r,r+"_worker",n)),F(this,Li,w1).call(this)}).catch(e=>{m(this,Zc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},yg=new WeakSet,S1=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},j(bn,yg),j(bn,uA,0),j(bn,uh,!1),j(bn,ch,new WeakMap),ki&&(L(bn,uh,!0),Rs.workerSrc||(Rs.workerSrc="./pdf.worker.mjs")),bn._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},bn._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},bn.fromPort=e=>{if(kEe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return bn.create(e)};let uy=bn;var ru,zo,vg,bg,iu,dh,i0;class OAe{constructor(e,n,r,i,a,s){j(this,dh);j(this,ru,new Map);j(this,zo,new Map);j(this,vg,new Map);j(this,bg,new Map);j(this,iu,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new O7,this.fontLoader=new UEe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return ut(this,"annotationStorage",new bI)}getRenderingIntent(e,n=Qo.ENABLE,r=null,i=!1,a=!1){let s=$a.DISPLAY,o=qM;switch(e){case"any":s=$a.ANY;break;case"display":break;case"print":s=$a.PRINT;break;default:it(`getRenderingIntent - invalid intent: ${e}`)}const u=s&$a.PRINT&&r instanceof b7?r:this.annotationStorage;switch(n){case Qo.DISABLE:s+=$a.ANNOTATIONS_DISABLE;break;case Qo.ENABLE:break;case Qo.ENABLE_FORMS:s+=$a.ANNOTATIONS_FORMS;break;case Qo.ENABLE_STORAGE:s+=$a.ANNOTATIONS_STORAGE,o=u.serializable;break;default:it(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(s+=$a.IS_EDITING),a&&(s+=$a.OPLIST);const{ids:c,hash:f}=u.modifiedIds,h=[s,o.hash,f];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=m(this,iu))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,zo).values())e.push(i._destroy());m(this,zo).clear(),m(this,vg).clear(),m(this,bg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,a;this.commonObjs.clear(),this.fontLoader.clear(),m(this,ru).clear(),this.filterFactory.destroy(),z0.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Lu("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{wt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},i.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){i.close();return}wt(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{this._fullReader.cancel(a),i.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:a,contentLength:s}=this._fullReader;return(!i||!a)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=u=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:i,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(r,i)=>{wt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(r.begin,r.end);if(!a){i.close();return}i.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){i.close();return}wt(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{a.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new IAe(r,this))}),e.on("DocException",r=>{n._capability.reject(Qi(r))}),e.on("PasswordRequest",r=>{L(this,iu,Promise.withResolvers());try{if(!n.onPassword)throw Qi(r);const i=a=>{a instanceof Error?m(this,iu).reject(a):m(this,iu).resolve({password:a})};n.onPassword(i,r.code)}catch(i){m(this,iu).reject(i)}return m(this,iu).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;m(this,zo).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,a])=>{var s;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in a){const h=a.error;it(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const o=new nP(a),u=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(h,g)=>globalThis.FontInspector.fontAdded(h,g):null,c=new BEe(o,u,a.extra,a.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:f}=a;wt(f,"The imageRef must be defined.");for(const h of m(this,zo).values())for(const[,g]of h.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(r,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,a);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,a,s])=>{var u;if(this.destroyed)return;const o=m(this,zo).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(u=s==null?void 0:s.bitmap)==null||u.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(r,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&it("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=m(this,vg).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&m(this,bg).set(a.refStr,e);const s=new LAe(n,a,this,this._params.pdfBug);return m(this,zo).set(n,s),s});return m(this,vg).set(n,i),i}getPageIndex(e){return VM(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return F(this,dh,i0).call(this,"GetFieldObjects")}hasJSActions(){return F(this,dh,i0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return F(this,dh,i0).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return F(this,dh,i0).call(this,"GetOptionalContentConfig").then(n=>new pAe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=m(this,ru).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var a,s;return{info:i[0],metadata:i[1]?new fAe(i[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null}});return m(this,ru).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of m(this,zo).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,ru).clear(),this.filterFactory.destroy(!0),z0.cleanup()}}cachedPageNumber(e){if(!VM(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,bg).get(n)??null}}ru=new WeakMap,zo=new WeakMap,vg=new WeakMap,bg=new WeakMap,iu=new WeakMap,dh=new WeakSet,i0=function(e,n=null){const r=m(this,ru).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return m(this,ru).set(e,i),i};var ed;class jAe{constructor(e){j(this,ed,null);we(this,"onContinue",null);we(this,"onError",null);L(this,ed,e)}get promise(){return m(this,ed).capability.promise}cancel(e=0){m(this,ed).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,ed).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=m(this,ed);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}ed=new WeakMap;var td,fh;const Sf=class Sf{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:u,filterFactory:c,useRequestAnimationFrame:f=!1,pdfBug:h=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:w=null}){j(this,td,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=h,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new jAe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=v,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var u,c;if(this.cancelled)return;if(this._canvas){if(m(Sf,fh).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m(Sf,fh).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:a,dependencyTracker:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Am(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,a;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),m(this,td)&&(window.cancelAnimationFrame(m(this,td)),L(this,td,null)),m(Sf,fh).delete(this._canvas),e||(e=new CC(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(a=(i=this.task).onError)==null||a.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?L(this,td,window.requestAnimationFrame(()=>{L(this,td,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m(Sf,fh).delete(this._canvas),this.callback())))}};td=new WeakMap,fh=new WeakMap,j(Sf,fh,new WeakSet);let lP=Sf;const G7="5.4.296",$7="f56dc8601";var ka,hh,xg,fr,Gb,wg,au,$b,nd,eo,qb,Jt,uP,cP,dP,vf,q7,Ac;const Zi=class Zi{constructor({editor:e=null,uiManager:n=null}){j(this,Jt);j(this,ka,null);j(this,hh,null);j(this,xg);j(this,fr,null);j(this,Gb,!1);j(this,wg,!1);j(this,au,null);j(this,$b);j(this,nd,null);j(this,eo,null);var r,i;e?(L(this,wg,!1),L(this,au,e)):L(this,wg,!0),L(this,eo,(e==null?void 0:e._uiManager)||n),L(this,$b,m(this,eo)._eventBus),L(this,xg,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=m(this,eo))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),m(Zi,qb)||L(Zi,qb,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ut(this,"_keyboardManager",new rw([[["Escape","mac+Escape"],Zi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Zi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Zi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Zi.prototype._moveToPrevious],[["Home","mac+Home"],Zi.prototype._moveToBeginning],[["End","mac+End"],Zi.prototype._moveToEnd]]))}renderButton(){const e=L(this,ka,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",m(this,au)&&(e.ariaControls=`${m(this,au).id}_colorpicker_dropdown`);const n=m(this,eo)._signal;e.addEventListener("click",F(this,Jt,vf).bind(this),{signal:n}),e.addEventListener("keydown",F(this,Jt,dP).bind(this),{signal:n});const r=L(this,hh,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=m(this,xg),e.append(r),e}renderMainDropdown(){const e=L(this,fr,F(this,Jt,uP).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===m(this,ka)){F(this,Jt,vf).call(this,e);return}const n=e.target.getAttribute("data-color");n&&F(this,Jt,cP).call(this,n,e)}_moveToNext(e){var n,r;if(!m(this,Jt,Ac)){F(this,Jt,vf).call(this,e);return}if(e.target===m(this,ka)){(n=m(this,fr).firstChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=m(this,fr))==null?void 0:n.firstChild)||e.target===m(this,ka)){m(this,Jt,Ac)&&this._hideDropdownFromKeyboard();return}m(this,Jt,Ac)||F(this,Jt,vf).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!m(this,Jt,Ac)){F(this,Jt,vf).call(this,e);return}(n=m(this,fr).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!m(this,Jt,Ac)){F(this,Jt,vf).call(this,e);return}(n=m(this,fr).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=m(this,fr))==null||e.classList.add("hidden"),m(this,ka).ariaExpanded="false",(n=m(this,nd))==null||n.abort(),L(this,nd,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,wg)){if(!m(this,Jt,Ac)){(e=m(this,au))==null||e.unselect();return}this.hideDropdown(),m(this,ka).focus({preventScroll:!0,focusVisible:m(this,Gb)})}}updateColor(e){if(m(this,hh)&&(m(this,hh).style.backgroundColor=e),!m(this,fr))return;const n=m(this,eo).highlightColors.values();for(const r of m(this,fr).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=m(this,ka))==null||e.remove(),L(this,ka,null),L(this,hh,null),(n=m(this,fr))==null||n.remove(),L(this,fr,null)}};ka=new WeakMap,hh=new WeakMap,xg=new WeakMap,fr=new WeakMap,Gb=new WeakMap,wg=new WeakMap,au=new WeakMap,$b=new WeakMap,nd=new WeakMap,eo=new WeakMap,qb=new WeakMap,Jt=new WeakSet,uP=function(){const e=document.createElement("div"),n=m(this,eo)._signal;e.addEventListener("contextmenu",Za,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),m(this,au)&&(e.id=`${m(this,au).id}_colorpicker_dropdown`);for(const[r,i]of m(this,eo).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=r,a.setAttribute("data-l10n-id",m(Zi,qb)[r]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===m(this,xg),a.addEventListener("click",F(this,Jt,cP).bind(this,i),{signal:n}),e.append(a)}return e.addEventListener("keydown",F(this,Jt,dP).bind(this),{signal:n}),e},cP=function(e,n){n.stopPropagation(),m(this,$b).dispatch("switchannotationeditorparams",{source:this,type:bt.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},dP=function(e){Zi._keyboardManager.exec(this,e)},vf=function(e){if(m(this,Jt,Ac)){this.hideDropdown();return}if(L(this,Gb,e.detail===0),m(this,nd)||(L(this,nd,new AbortController),window.addEventListener("pointerdown",F(this,Jt,q7).bind(this),{signal:m(this,eo).combinedSignal(m(this,nd))})),m(this,ka).ariaExpanded="true",m(this,fr)){m(this,fr).classList.remove("hidden");return}const n=L(this,fr,F(this,Jt,uP).call(this));m(this,ka).append(n)},q7=function(e){var n;(n=m(this,fr))!=null&&n.contains(e.target)||this.hideDropdown()},Ac=function(){return m(this,fr)&&!m(this,fr).classList.contains("hidden")},j(Zi,qb,null);let H0=Zi;var Ho,Vb,Sg,Wb;const Ef=class Ef{constructor(e){j(this,Ho,null);j(this,Vb,null);j(this,Sg,null);L(this,Vb,e),L(this,Sg,e._uiManager),m(Ef,Wb)||L(Ef,Wb,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(m(this,Ho))return m(this,Ho);const{editorType:e,colorType:n,colorValue:r}=m(this,Vb),i=L(this,Ho,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",m(Ef,Wb)[e]),i.addEventListener("input",()=>{m(this,Sg).updateParams(n,i.value)},{signal:m(this,Sg)._signal}),i}update(e){m(this,Ho)&&(m(this,Ho).value=e)}destroy(){var e;(e=m(this,Ho))==null||e.remove(),L(this,Ho,null)}hideDropdown(){}};Ho=new WeakMap,Vb=new WeakMap,Sg=new WeakMap,Wb=new WeakMap,j(Ef,Wb,null);let VE=Ef;function xH(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Ov(t){return Math.max(0,Math.min(255,255*t))}class wH{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Ov(e),[e,e,e]}static G_HTML([e]){const n=xH(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Ov)}static RGB_HTML(e){return`#${e.map(xH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Ov(1-Math.min(1,e+i)),Ov(1-Math.min(1,r+i)),Ov(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,a=1-n,s=1-r,o=Math.min(i,a,s);return["CMYK",i,a,s,o]}}class FAe{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){on("Abstract method `_createSVG` called.")}}class G0 extends FAe{_createSVG(e){return document.createElementNS(Pl,e)}}const UAe=9,Jh=new WeakSet,BAe=new Date().getTimezoneOffset()*60*1e3;class SH{static create(e){switch(e.data.annotationType){case $n.LINK:return new AI(e);case $n.TEXT:return new HAe(e);case $n.WIDGET:switch(e.data.fieldType){case"Tx":return new GAe(e);case"Btn":return e.data.radioButton?new Y7(e):e.data.checkBox?new qAe(e):new VAe(e);case"Ch":return new WAe(e);case"Sig":return new $Ae(e)}return new sp(e);case $n.POPUP:return new hP(e);case $n.FREETEXT:return new Z7(e);case $n.LINE:return new KAe(e);case $n.SQUARE:return new XAe(e);case $n.CIRCLE:return new JAe(e);case $n.POLYLINE:return new eY(e);case $n.CARET:return new ZAe(e);case $n.INK:return new CI(e);case $n.POLYGON:return new QAe(e);case $n.HIGHLIGHT:return new tY(e);case $n.UNDERLINE:return new eCe(e);case $n.SQUIGGLY:return new tCe(e);case $n.STRIKEOUT:return new nCe(e);case $n.STAMP:return new nY(e);case $n.FILEATTACHMENT:return new rCe(e);default:return new Rn(e)}}}var ph,Eg,Cs,Yb,fP;const DI=class DI{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){j(this,Yb);j(this,ph,null);j(this,Eg,!1);j(this,Cs,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return DI._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let a=-1/0,s=-1/0;if((n==null?void 0:n.length)>=8){for(let u=0;u<n.length;u+=8)n[u+1]>s?(s=n[u+1],a=n[u+2]):n[u+1]===s&&(a=Math.max(a,n[u+2]));return[a,s]}if((r==null?void 0:r.length)>=1){for(const u of r)for(let c=0,f=u.length;c<f;c+=2)u[c+1]>s?(s=u[c+1],a=u[c]):u[c+1]===s&&(a=Math.max(a,u[c]));if(a!==1/0)return[a,s]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:a,pageY:s}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/r,e[1]=100*(e[1]-s)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${O0}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${O0}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=m(this,Cs))==null?void 0:e.popup)||this.popup)==null||n.remove(),L(this,Cs,this.popup=null)}updateEdited(e){var a;if(!this.container)return;e.rect&&(m(this,ph)||L(this,ph,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&F(this,Yb,fP).call(this,n);let i=((a=m(this,Cs))==null?void 0:a.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=m(this,Cs).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),L(this,Cs,null),this.popup=null))}resetEdited(){var e;m(this,ph)&&(F(this,Yb,fP).call(this,m(this,ph).rect),(e=m(this,Cs))==null||e.popup.resetEdited(),L(this,ph,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof sp)&&!(this instanceof AI)&&(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof hP){const{rotation:E}=n;return!n.hasOwnCanvas&&E!==0&&this.setRotation(E,a),a}const{width:o,height:u}=this;if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const E=n.borderStyle.horizontalCornerRadius,A=n.borderStyle.verticalCornerRadius;if(E>0||A>0){const M=`calc(${E}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;s.borderRadius=M}else if(this instanceof Y7){const M=`calc(${o}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;s.borderRadius=M}switch(n.borderStyle.style){case Qp.SOLID:s.borderStyle="solid";break;case Qp.DASHED:s.borderStyle="dashed";break;case Qp.BEVELED:it("Unimplemented border style: beveled");break;case Qp.INSET:it("Unimplemented border style: inset");break;case Qp.UNDERLINE:s.borderBottomStyle="solid";break}const _=n.borderColor||null;_?(L(this,Eg,!0),s.borderColor=Le.makeHexColor(_[0]|0,_[1]|0,_[2]|0)):s.borderWidth=0}const c=Le.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:h,pageX:g,pageY:v}=i.rawDims;s.left=`${100*(c[0]-g)/f}%`,s.top=`${100*(c[1]-v)/h}%`;const{rotation:w}=n;return n.hasOwnCanvas||w===0?(s.width=`${100*o/f}%`,s.height=`${100*u/h}%`):this.setRotation(w,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),n.style.width=`${100*a/r}%`,n.style.height=`${100*s/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const a=i.detail[n],s=a[0],o=a.slice(1);i.target.style[r]=wH[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:wH[`${s}_rgb`](o)})};return ut(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const a=e[i]||r[i];a==null||a(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,a]of Object.entries(n)){const s=r[i];if(s){const o={detail:{[i]:a},target:e};s(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,a]=this.data.rect.map(E=>Math.fround(E));if(e.length===8){const[E,A,_,M]=e.subarray(2,6);if(i===E&&a===A&&n===_&&r===M)return}const{style:s}=this.container;let o;if(m(this,Eg)){const{borderColor:E,borderWidth:A}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const u=i-n,c=a-r,{svgFactory:f}=this,h=f.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const g=f.createElement("defs");h.append(g);const v=f.createElement("clipPath"),w=`clippath_${this.data.id}`;v.setAttribute("id",w),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let E=2,A=e.length;E<A;E+=8){const _=e[E],M=e[E+1],R=e[E+2],I=e[E+3],D=f.createElement("rect"),k=(R-n)/u,P=(a-M)/c,B=(_-R)/u,z=(M-I)/c;D.setAttribute("x",k),D.setAttribute("y",P),D.setAttribute("width",B),D.setAttribute("height",z),v.append(D),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${P}" width="${B}" height="${z}"/>`)}m(this,Eg)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${w})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate);const a=L(this,Cs,new hP({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(m(this,Cs)||this.popup||this.data.popupRef)}get extraPopupElement(){return m(this,Cs)}render(){on("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:a,id:s,exportValues:o}of i){if(a===-1||s===n)continue;const u=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${s}"]`);if(c&&!Jh.has(c)){it(`_getElementsByName - element not allowed: ${s}`);continue}r.push({id:s,exportValue:u,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:a}=i,s=i.getAttribute("data-element-id");s!==n&&Jh.has(i)&&r.push({id:s,exportValue:a,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ph=new WeakMap,Eg=new WeakMap,Cs=new WeakMap,Yb=new WeakSet,fP=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:u}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-o)/a}%`,n.top=`${100*(s-e[3]+u)/s}%`,i===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(i)};let Rn=DI;class zAe extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Wa,bf,V7,W7;class AI extends Rn{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});j(this,Wa);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let a=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),a=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),a=!0):n.attachment?(F(this,Wa,V7).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),a=!0):n.setOCGState?(F(this,Wa,W7).call(this,i,n.setOCGState,n.overlaidText),a=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),a=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),a=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(i,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(i),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&F(this,Wa,bf).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),F(this,Wa,bf).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(r.actions)){const s=i.get(a);s&&(n[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:a}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),F(this,Wa,bf).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),F(this,Wa,bf).call(this),!this._fieldObjects){it('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var h;i==null||i();const{fields:a,refs:s,include:o}=r,u=[];if(a.length!==0||s.length!==0){const g=new Set(s);for(const v of a){const w=this._fieldObjects[v]||[];for(const{id:E}of w)g.add(E)}for(const v of Object.values(this._fieldObjects))for(const w of v)g.has(w.id)===o&&u.push(w)}else for(const g of Object.values(this._fieldObjects))u.push(...g);const c=this.annotationStorage,f=[];for(const g of u){const{id:v}=g;switch(f.push(v),g.type){case"text":{const E=g.defaultValue||"";c.setValue(v,{value:E});break}case"checkbox":case"radiobutton":{const E=g.defaultValue===g.exportValues;c.setValue(v,{value:E});break}case"combobox":case"listbox":{const E=g.defaultValue||"";c.setValue(v,{value:E});break}default:continue}const w=document.querySelector(`[data-element-id="${v}"]`);if(w){if(!Jh.has(w)){it(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Wa=new WeakSet,bf=function(){this.container.setAttribute("data-internal-link","")},V7=function(n,r,i="",a=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,a),!1},F(this,Wa,bf).call(this)},W7=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),F(this,Wa,bf).call(this)};class HAe extends Rn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class sp extends Rn{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Or.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,a){r.includes("mouse")?e.addEventListener(r,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(r,s=>{var o;if(r==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(s)}}))})}_setEventListeners(e,n,r,i){var a,s,o;for(const[u,c]of r)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,u,c,i),c==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Le.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||UAe,a=e.style;let s;const o=2,u=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),f=Math.round(c/(H2*i))||1,h=c/f;s=Math.min(i,u(h/H2))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(i,u(c/H2))}a.fontSize=`calc(${s}px * var(--total-scale-factor))`,a.color=Le.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class GAe extends sp{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=r),a.setValue(s.id,{[i]:r})}render(){var i,a;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let o=s.value||"";const u=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;u&&o.length>u&&(o=o.slice(0,u));let c=s.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const f={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Jh.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:g,timeStep:v}=this.data,w=!!g&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),u&&(r.maxLength=u),r.addEventListener("input",A=>{e.setValue(n,{value:A.target.value}),this.setPropertyOnSiblings(r,"value",A.target.value,"value"),f.formattedValue=null}),r.addEventListener("resetform",A=>{const _=this.data.defaultFieldValue??"";r.value=f.userValue=_,f.formattedValue=null});let E=A=>{const{formattedValue:_}=f;_!=null&&(A.target.value=_),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",_=>{var R;if(f.focused)return;const{target:M}=_;if(w&&(M.type=g,v&&(M.step=v)),f.userValue){const I=f.userValue;if(w)if(g==="time"){const D=new Date(I),k=[D.getHours(),D.getMinutes(),D.getSeconds()];M.value=k.map(P=>P.toString().padStart(2,"0")).join(":")}else M.value=new Date(I-BAe).toISOString().split(g==="date"?"T":".",1)[0];else M.value=I}f.lastCommittedValue=M.value,f.commitKey=1,(R=this.data.actions)!=null&&R.Focus||(f.focused=!0)}),r.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const M={value(R){f.userValue=R.detail.value??"",w||e.setValue(n,{value:f.userValue.toString()}),R.target.value=f.userValue},formattedValue(R){const{formattedValue:I}=R.detail;f.formattedValue=I,I!=null&&R.target!==document.activeElement&&(R.target.value=I);const D={formattedValue:I};w&&(D.value=I),e.setValue(n,D)},selRange(R){R.target.setSelectionRange(...R.detail.selRange)},charLimit:R=>{var P;const{charLimit:I}=R.detail,{target:D}=R;if(I===0){D.removeAttribute("maxLength");return}D.setAttribute("maxLength",I);let k=f.userValue;!k||k.length<=I||(k=k.slice(0,I),D.value=f.userValue=k,e.setValue(n,{value:k}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:D.selectionStart,selEnd:D.selectionEnd}}))}};this._dispatchEventFromSandbox(M,_)}),r.addEventListener("keydown",_=>{var I;f.commitKey=1;let M=-1;if(_.key==="Escape"?M=0:_.key==="Enter"&&!this.data.multiLine?M=2:_.key==="Tab"&&(f.commitKey=3),M===-1)return;const{value:R}=_.target;f.lastCommittedValue!==R&&(f.lastCommittedValue=R,f.userValue=R,(I=this.linkService.eventBus)==null||I.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:M,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const A=E;E=null,r.addEventListener("blur",_=>{var I,D;if(!f.focused||!_.relatedTarget)return;(I=this.data.actions)!=null&&I.Blur||(f.focused=!1);const{target:M}=_;let{value:R}=M;if(w){if(R&&g==="time"){const k=R.split(":").map(P=>parseInt(P,10));R=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),M.step=""}else R.includes("T")||(R=`${R}T00:00`),R=new Date(R).valueOf();M.type="text"}f.userValue=R,f.lastCommittedValue!==R&&((D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:f.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),A(_)}),(a=this.data.actions)!=null&&a.Keystroke&&r.addEventListener("beforeinput",_=>{var z;f.lastCommittedValue=null;const{data:M,target:R}=_,{value:I,selectionStart:D,selectionEnd:k}=R;let P=D,B=k;switch(_.inputType){case"deleteWordBackward":{const W=I.substring(0,D).match(/\w*[^\w]*$/);W&&(P-=W[0].length);break}case"deleteWordForward":{const W=I.substring(D).match(/^[^\w]*\w*/);W&&(B+=W[0].length);break}case"deleteContentBackward":D===k&&(P-=1);break;case"deleteContentForward":D===k&&(B+=1);break}_.preventDefault(),(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:I,change:M||"",willCommit:!1,selStart:P,selEnd:B}})}),this._setEventListeners(r,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(E&&r.addEventListener("blur",E),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/u;r.classList.add("comb"),r.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class $Ae extends sp{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class qAe extends sp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Jh.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:u}=s.target;for(const c of this._getElementsByName(o,r)){const f=u&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=f),e.setValue(c.id,{value:f})}e.setValue(r,{value:u})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(r,{value:u.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Y7 extends sp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const s of this._getElementsByName(n.fieldName,r))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(Jh.add(a),a.setAttribute("data-element-id",r),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:u}=s.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:u})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",o=>{const u={value:c=>{const f=s===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const g=f&&h.id===r;h.domElement&&(h.domElement.checked=g),e.setValue(h.id,{value:g})}}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class VAe extends AI{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class WAe extends sp{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");Jh.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const h=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===h});for(const f of this.data.options){const h=document.createElement("option");h.textContent=f.displayValue,h.value=f.exportValue,r.value.includes(f.exportValue)&&(h.setAttribute("selected",!0),a=!1),i.append(h)}let s=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),s=()=>{f.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const o=f=>{const h=f?"value":"textContent",{options:g,multiple:v}=i;return v?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[h]):g.selectedIndex===-1?null:g[g.selectedIndex][h]};let u=o(!1);const c=f=>{const h=f.target.options;return Array.prototype.map.call(h,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const h={value(g){s==null||s();const v=g.detail.value,w=new Set(Array.isArray(v)?v:[v]);for(const E of i.options)E.selected=w.has(E.value);e.setValue(n,{value:o(!0)}),u=o(!1)},multipleSelection(g){i.multiple=!0},remove(g){const v=i.options,w=g.detail.remove;v[w].selected=!1,i.remove(w),v.length>0&&Array.prototype.findIndex.call(v,A=>A.selected)===-1&&(v[0].selected=!0),e.setValue(n,{value:o(!0),items:c(g)}),u=o(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),u=o(!1)},insert(g){const{index:v,displayValue:w,exportValue:E}=g.detail.insert,A=i.children[v],_=document.createElement("option");_.textContent=w,_.value=E,A?A.before(_):i.append(_),e.setValue(n,{value:o(!0),items:c(g)}),u=o(!1)},items(g){const{items:v}=g.detail;for(;i.length!==0;)i.remove(0);for(const w of v){const{displayValue:E,exportValue:A}=w,_=document.createElement("option");_.textContent=E,_.value=A,i.append(_)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(g)}),u=o(!1)},indices(g){const v=new Set(g.detail.indices);for(const w of g.target.options)w.selected=v.has(w.index);e.setValue(n,{value:o(!0)}),u=o(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(h,f)}),i.addEventListener("input",f=>{var v;const h=o(!0),g=o(!1);e.setValue(n,{value:h}),f.preventDefault(),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:u,change:g,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Kb,pP;class hP extends Rn{constructor(n){const{data:r,elements:i,parent:a}=n,s=!!a._commentManager;super(n,{isRenderable:!s&&Rn._hasPopupData(r)});j(this,Kb);if(this.elements=i,s&&Rn._hasPopupData(r)){const o=this.popup=F(this,Kb,pP).call(this);for(const u of i)u.popup=o}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=F(this,Kb,pP).call(this),i=[];for(const a of this.elements)a.popup=r,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${gI}${a}`).join(",")),this.container}}Kb=new WeakSet,pP=function(){return new YAe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Da,rd,cA,dA,Ag,Cg,Ln,Go,id,mh,_g,Tg,$o,Ia,su,ou,Tr,lu,ad,Xb,uu,Ng,gh,sd,pi,od,dt,E1,mP,gP,yP,A1,vP,K7,X7,J7,Q7,C1,_1,bP;class YAe{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:a,contentsObj:s,richText:o,parent:u,rect:c,parentRect:f,open:h,commentManager:g=null}){j(this,dt);j(this,Da,null);j(this,rd,F(this,dt,J7).bind(this));j(this,cA,F(this,dt,bP).bind(this));j(this,dA,F(this,dt,_1).bind(this));j(this,Ag,F(this,dt,C1).bind(this));j(this,Cg,null);j(this,Ln,null);j(this,Go,null);j(this,id,null);j(this,mh,null);j(this,_g,null);j(this,Tg,null);j(this,$o,!1);j(this,Ia,null);j(this,su,null);j(this,ou,null);j(this,Tr,null);j(this,lu,null);j(this,ad,null);j(this,Xb,null);j(this,uu,null);j(this,Ng,null);j(this,gh,null);j(this,sd,!1);j(this,pi,null);j(this,od,null);L(this,Ln,e),L(this,Ng,i),L(this,Go,s),L(this,uu,o),L(this,_g,u),L(this,Cg,n),L(this,Xb,c),L(this,Tg,f),L(this,mh,r),L(this,Da,g),L(this,pi,r[0]),L(this,id,U0.toDateObject(a)),this.trigger=r.flatMap(v=>v.getElementsToTriggerPopup()),g?this.renderCommentButton():(F(this,dt,E1).call(this),m(this,Ln).hidden=!0,h&&F(this,dt,C1).call(this))}renderCommentButton(){if(m(this,Tr)||(m(this,lu)||F(this,dt,mP).call(this),!m(this,lu)))return;const{signal:e}=L(this,su,new AbortController),n=!!m(this,pi).extraPopupElement,r=()=>{m(this,Da).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{m(this,Da).toggleCommentPopup(this,!1,!0,!n)},a=()=>{m(this,Da).toggleCommentPopup(this,!1,!1)};if(n){L(this,Tr,m(this,pi).container);for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",m(this,rd),{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=L(this,Tr,document.createElement("button"));s.className="annotationCommentButton";const o=m(this,pi).container;s.style.zIndex=o.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),F(this,dt,yP).call(this),F(this,dt,gP).call(this),s.addEventListener("keydown",m(this,rd),{signal:e}),s.addEventListener("click",r,{signal:e}),s.addEventListener("pointerenter",i,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),o.after(s)}}get commentButtonColor(){const{color:e,opacity:n}=m(this,pi).commentData;return e?m(this,_g)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=m(this,Tr))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}=m(this,pi).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:a}}get elementBeforePopup(){return m(this,Tr)}get comment(){return m(this,od)||L(this,od,m(this,pi).commentText),m(this,od)}set comment(e){e!==this.comment&&(m(this,pi).commentText=L(this,od,e))}get parentBoundingClientRect(){return m(this,pi).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){m(this,Tr)&&(m(this,Tr).classList.toggle("selected",e),m(this,Tr).ariaExpanded=n)}setSelectedCommentButton(e){m(this,Tr).classList.toggle("selected",e)}get commentPopupPosition(){if(m(this,ad))return m(this,ad);const{x:e,y:n,height:r}=m(this,Tr).getBoundingClientRect(),{x:i,y:a,width:s,height:o}=m(this,pi).layer.getBoundingClientRect();return[(e-i)/s,(n+r-a)/o]}set commentPopupPosition(e){L(this,ad,e)}hasDefaultPopupPosition(){return m(this,ad)===null}get commentButtonPosition(){return m(this,lu)}get commentButtonWidth(){return m(this,Tr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=m(this,ad)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:a,y:s,width:o,height:u}=i;m(this,Da).showDialog(null,this,a+n*o,s+r*u,{...e,parentDimensions:i})}render(){var r,i;if(m(this,Ia))return;const e=L(this,Ia,document.createElement("div"));if(e.className="popup",m(this,Cg)){const a=e.style.outlineColor=Le.makeHexColor(...m(this,Cg));e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=m(this,Ng))!=null&&r.str){const a=document.createElement("span");a.className="title",n.append(a),{dir:a.dir,str:a.textContent}=m(this,Ng)}if(e.append(n),m(this,id)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,id).valueOf()})),a.dateTime=m(this,id).toISOString(),n.append(a)}vI({html:m(this,dt,A1)||m(this,Go).str,dir:(i=m(this,Go))==null?void 0:i.dir,className:"popupContent"},e),m(this,Ln).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(m(this,Da)){r?(this.remove(),L(this,od,null)):n&&(n.deleted?this.remove():(F(this,dt,yP).call(this),L(this,od,n.text))),e&&(L(this,lu,null),F(this,dt,mP).call(this),F(this,dt,gP).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}F(this,dt,E1).call(this),m(this,gh)||L(this,gh,{contentsObj:m(this,Go),richText:m(this,uu)}),e&&L(this,ou,null),n&&n.text&&(L(this,uu,F(this,dt,X7).call(this,n.text)),L(this,id,U0.toDateObject(n.date)),L(this,Go,null)),(i=m(this,Ia))==null||i.remove(),L(this,Ia,null)}resetEdited(){var e;m(this,gh)&&({contentsObj:ur(this,Go)._,richText:ur(this,uu)._}=m(this,gh),L(this,gh,null),(e=m(this,Ia))==null||e.remove(),L(this,Ia,null),L(this,ou,null))}remove(){var e,n,r;if((e=m(this,su))==null||e.abort(),L(this,su,null),(n=m(this,Ia))==null||n.remove(),L(this,Ia,null),L(this,sd,!1),L(this,$o,!1),(r=m(this,Tr))==null||r.remove(),L(this,Tr,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){L(this,sd,this.isVisible),m(this,sd)&&(m(this,Ln).hidden=!0)}maybeShow(){m(this,Da)||(F(this,dt,E1).call(this),m(this,sd)&&(m(this,Ia)||F(this,dt,_1).call(this),L(this,sd,!1),m(this,Ln).hidden=!1))}get isVisible(){return m(this,Da)?!1:m(this,Ln).hidden===!1}}Da=new WeakMap,rd=new WeakMap,cA=new WeakMap,dA=new WeakMap,Ag=new WeakMap,Cg=new WeakMap,Ln=new WeakMap,Go=new WeakMap,id=new WeakMap,mh=new WeakMap,_g=new WeakMap,Tg=new WeakMap,$o=new WeakMap,Ia=new WeakMap,su=new WeakMap,ou=new WeakMap,Tr=new WeakMap,lu=new WeakMap,ad=new WeakMap,Xb=new WeakMap,uu=new WeakMap,Ng=new WeakMap,gh=new WeakMap,sd=new WeakMap,pi=new WeakMap,od=new WeakMap,dt=new WeakSet,E1=function(){var n;if(m(this,su))return;L(this,su,new AbortController);const{signal:e}=m(this,su);for(const r of this.trigger)r.addEventListener("click",m(this,Ag),{signal:e}),r.addEventListener("pointerenter",m(this,dA),{signal:e}),r.addEventListener("pointerleave",m(this,cA),{signal:e}),r.classList.add("popupTriggerArea");for(const r of m(this,mh))(n=r.container)==null||n.addEventListener("keydown",m(this,rd),{signal:e})},mP=function(){const e=m(this,mh).find(n=>n.hasCommentButton);e&&L(this,lu,e._normalizePoint(e.commentButtonPosition))},gP=function(){if(m(this,pi).extraPopupElement&&!m(this,pi).editor)return;this.renderCommentButton();const[e,n]=m(this,lu),{style:r}=m(this,Tr);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},yP=function(){m(this,pi).extraPopupElement||(this.renderCommentButton(),m(this,Tr).style.backgroundColor=this.commentButtonColor||"")},A1=function(){const e=m(this,uu),n=m(this,Go);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&m(this,uu).html||null},vP=function(){var e,n,r;return((r=(n=(e=m(this,dt,A1))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},K7=function(){var e,n,r;return((r=(n=(e=m(this,dt,A1))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},X7=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:m(this,dt,K7),fontSize:m(this,dt,vP)?`calc(${m(this,dt,vP)}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:i});return r},J7=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,$o))&&F(this,dt,C1).call(this)},Q7=function(){if(m(this,ou)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:a}}}=m(this,_g);let s=!!m(this,Tg),o=s?m(this,Tg):m(this,Xb);for(const w of m(this,mh))if(!o||Le.intersect(w.data.rect,o)!==null){o=w.data.rect,s=!0;break}const u=Le.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),f=s?o[2]-o[0]+5:0,h=u[0]+f,g=u[1];L(this,ou,[100*(h-i)/n,100*(g-a)/r]);const{style:v}=m(this,Ln);v.left=`${m(this,ou)[0]}%`,v.top=`${m(this,ou)[1]}%`},C1=function(){if(m(this,Da)){m(this,Da).toggleCommentPopup(this,!1);return}L(this,$o,!m(this,$o)),m(this,$o)?(F(this,dt,_1).call(this),m(this,Ln).addEventListener("click",m(this,Ag)),m(this,Ln).addEventListener("keydown",m(this,rd))):(F(this,dt,bP).call(this),m(this,Ln).removeEventListener("click",m(this,Ag)),m(this,Ln).removeEventListener("keydown",m(this,rd)))},_1=function(){m(this,Ia)||this.render(),this.isVisible?m(this,$o)&&m(this,Ln).classList.add("focused"):(F(this,dt,Q7).call(this),m(this,Ln).hidden=!1,m(this,Ln).style.zIndex=parseInt(m(this,Ln).style.zIndex)+1e3)},bP=function(){m(this,Ln).classList.remove("focused"),!(m(this,$o)||!this.isVisible)&&(m(this,Ln).hidden=!0,m(this,Ln).style.zIndex=parseInt(m(this,Ln).style.zIndex)-1e3)};class Z7 extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=rt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Jb;class KAe extends Rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Jb,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=L(this,Jb,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Jb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Jb=new WeakMap;var Qb;class XAe extends Rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Qb,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=L(this,Qb,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",r-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Qb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qb=new WeakMap;var Zb;class JAe extends Rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,Zb,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,a=this.svgFactory.create(r,i,!0),s=n.borderStyle.width,o=L(this,Zb,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,Zb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zb=new WeakMap;var ex;class eY extends Rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,ex,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:a},width:s,height:o}=this;if(!r)return this.container;const u=this.svgFactory.create(s,o,!0);let c=[];for(let h=0,g=r.length;h<g;h+=2){const v=r[h]-n[0],w=n[3]-r[h+1];c.push(`${v},${w}`)}c=c.join(" ");const f=L(this,ex,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",c),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,ex)}addHighlightArea(){this.container.classList.add("highlightArea")}}ex=new WeakMap;class QAe extends eY{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ZAe extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var tx,yh,nx,xP;class CI extends Rn{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});j(this,nx);j(this,tx,null);j(this,yh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?rt.HIGHLIGHT:rt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:a,popupRef:s}}=this,{transform:o,width:u,height:c}=F(this,nx,xP).call(this,r,n),f=this.svgFactory.create(u,c,!0),h=L(this,tx,this.svgFactory.createElement("svg:g"));f.append(h),h.setAttribute("stroke-width",a.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let g=0,v=i.length;g<v;g++){const w=this.svgFactory.createElement(this.svgElementName);m(this,yh).push(w),w.setAttribute("points",i[g].join(",")),h.append(w)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:a}=n,s=m(this,tx);if(r>=0&&s.setAttribute("stroke-width",r||1),i)for(let o=0,u=m(this,yh).length;o<u;o++)m(this,yh)[o].setAttribute("points",i[o].join(","));if(a){const{transform:o,width:u,height:c}=F(this,nx,xP).call(this,this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${u} ${c}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return m(this,yh)}addHighlightArea(){this.container.classList.add("highlightArea")}}tx=new WeakMap,yh=new WeakMap,nx=new WeakSet,xP=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class tY extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=rt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class eCe extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class tCe extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nCe extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nY extends Rn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=rt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var rx,ix,wP;class rCe extends Rn{constructor(n){var i;super(n,{isRenderable:!0});j(this,ix);j(this,rx,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",F(this,ix,wP).bind(this)),L(this,rx,i);const{isMac:a}=Or.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&F(this,ix,wP).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return m(this,rx)}addHighlightArea(){this.container.classList.add("highlightArea")}}rx=new WeakMap,ix=new WeakSet,wP=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Rg,vh,Mg,ld,ax,bh,Od,SP,EP,Pg;let _I=(Pg=class{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:a,viewport:s,structTreeLayer:o,commentManager:u,linkService:c,annotationStorage:f}){j(this,Od);j(this,Rg,null);j(this,vh,null);j(this,Mg,null);j(this,ld,new Map);j(this,ax,null);j(this,bh,null);this.div=e,L(this,Rg,n),L(this,vh,r),L(this,ax,o||null),L(this,bh,c||null),L(this,Mg,f||new bI),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return m(this,ld).size>0}async render(e){var s,o,u;const{annotations:n}=e,r=this.div;Dd(r,this.viewport);const i=new Map,a={data:null,layer:r,linkService:m(this,bh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new G0,annotationStorage:m(this,Mg),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const f=c.annotationType===$n.POPUP;if(f){const v=i.get(c.id);if(!v)continue;a.elements=v}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;a.data=c;const h=SH.create(a);if(!h.isRenderable)continue;if(!f&&c.popupRef){const v=i.get(c.popupRef);v?v.push(h):i.set(c.popupRef,[h])}const g=h.render();c.hidden&&(g.style.visibility="hidden"),await F(this,Od,SP).call(this,g,c.id,a.elements),(o=(s=h.extraPopupElement)==null?void 0:s.popup)==null||o.renderCommentButton(),h._isEditable&&(m(this,ld).set(h.data.id,h),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(h))}F(this,Od,EP).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:m(this,bh),svgFactory:new G0,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=Pg._defaultBorderStyle),n.data=r;const i=SH.create(n);if(!i.isRenderable)continue;const a=i.render();await F(this,Od,SP).call(this,a,r.id,null)}}update({viewport:e}){const n=this.div;this.viewport=e,Dd(n,{rotation:e.rotation}),F(this,Od,EP).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(m(this,ld).values())}getEditableAnnotation(e){return m(this,ld).get(e)}addFakeAnnotation(e){var o;const{div:n}=this,{id:r,rotation:i}=e,a=new zAe({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:m(this,bh),annotationStorage:m(this,Mg)}),s=a.render();return n.append(s),(o=m(this,Rg))==null||o.moveElementInDOM(n,s,s,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return ut(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Qp.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Rg=new WeakMap,vh=new WeakMap,Mg=new WeakMap,ld=new WeakMap,ax=new WeakMap,bh=new WeakMap,Od=new WeakSet,SP=async function(e,n,r){var o,u;const i=e.firstChild||e,a=i.id=`${gI}${n}`,s=await((o=m(this,ax))==null?void 0:o.getAriaAttributes(a));if(s)for(const[c,f]of s)i.setAttribute(c,f);r?r.at(-1).container.after(e):(this.div.append(e),(u=m(this,Rg))==null||u.moveElementInDOM(this.div,e,i,!1))},EP=function(){var n;if(!m(this,vh))return;const e=this.div;for(const[r,i]of m(this,vh)){const a=e.querySelector(`[data-annotation-id="${r}"]`);if(!a)continue;i.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):a.append(i);const o=m(this,ld).get(r);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,a.id,i),o._hasNoCanvas=!1):o.canvas=i)}m(this,vh).clear()},Pg);const XS=/\r\n?|\n/g;var La,sx,xh,Oa,ar,rY,iY,aY,T1,Cu,N1,R1,sY,CP,oY;const mn=class mn extends un{constructor(n){super({...n,name:"freeTextEditor"});j(this,ar);j(this,La,"");j(this,sx,`${this.id}-editor`);j(this,xh,null);j(this,Oa);we(this,"_colorPicker",null);this.color=n.color||mn._defaultColor||un._defaultLineColor,L(this,Oa,n.fontSize||mn._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const n=mn.prototype,r=s=>s.isEmpty(),i=Id.TRANSLATE_SMALL,a=Id.TRANSLATE_BIG;return ut(this,"_keyboardManager",new rw([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,a],checker:r}]]))}static initialize(n,r){un.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case bt.FREETEXT_SIZE:mn._defaultFontSize=r;break;case bt.FREETEXT_COLOR:mn._defaultColor=r;break}}updateParams(n,r){switch(n){case bt.FREETEXT_SIZE:F(this,ar,rY).call(this,r);break;case bt.FREETEXT_COLOR:F(this,ar,iY).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[bt.FREETEXT_SIZE,mn._defaultFontSize],[bt.FREETEXT_COLOR,mn._defaultColor||un._defaultLineColor]]}get propertiesToUpdate(){return[[bt.FREETEXT_SIZE,m(this,Oa)],[bt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new VE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return bt.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-mn._internalPadding*n,-(mn._internalPadding+m(this,Oa))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),L(this,xh,new AbortController);const n=this._uiManager.combinedSignal(m(this,xh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,sx)),this._isDraggable=!0,(n=m(this,xh))==null||n.abort(),L(this,xh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=m(this,La),r=L(this,La,F(this,ar,aY).call(this).trimEnd());if(n===r)return;const i=a=>{if(L(this,La,a),!a){this.remove();return}F(this,ar,R1).call(this),this._uiManager.rebuild(this),F(this,ar,T1).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),F(this,ar,T1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){mn._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,sx)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,Oa)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[u,c]=this.getInitialTranslation();[u,c]=this.pageTranslationToScreen(u,c);const[f,h]=this.pageDimensions,[g,v]=this.pageTranslation;let w,E;switch(this.rotation){case 0:w=n+(o[0]-g)/f,E=r+this.height-(o[1]-v)/h;break;case 90:w=n+(o[0]-g)/f,E=r-(o[1]-v)/h,[u,c]=[c,-u];break;case 180:w=n-this.width+(o[0]-g)/f,E=r-(o[1]-v)/h,[u,c]=[-u,-c];break;case 270:w=n+(o[0]-g-this.height*h)/f,E=r+(o[1]-v-this.width*f)/h,[u,c]=[-c,u];break}this.setAt(w*a,E*s,u,c)}else this._moveAfterPaste(n,r);F(this,ar,R1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var w,E,A;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const a=F(w=mn,Cu,CP).call(w,r.getData("text")||"").replaceAll(XS,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:u,startOffset:c}=o,f=[],h=[];if(u.nodeType===Node.TEXT_NODE){const _=u.parentElement;if(h.push(u.nodeValue.slice(c).replaceAll(XS,"")),_!==this.editorDiv){let M=f;for(const R of this.editorDiv.childNodes){if(R===_){M=h;continue}M.push(F(E=mn,Cu,N1).call(E,R))}}f.push(u.nodeValue.slice(0,c).replaceAll(XS,""))}else if(u===this.editorDiv){let _=f,M=0;for(const R of this.editorDiv.childNodes)M++===c&&(_=h),_.push(F(A=mn,Cu,N1).call(A,R))}L(this,La,`${f.join(`
`)}${a}${h.join(`
`)}`),F(this,ar,R1).call(this);const g=new Range;let v=Math.sumPrecise(f.map(_=>_.length));for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const M=_.nodeValue.length;if(v<=M){g.setStart(_,v),g.setEnd(_,v);break}v-=M}s.removeAllRanges(),s.addRange(g)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=mn._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var o;let a=null;if(n instanceof Z7){const{data:{defaultAppearanceData:{fontSize:u,fontColor:c},rect:f,rotation:h,id:g,popupRef:v,richText:w,contentsObj:E,creationDate:A,modificationDate:_},textContent:M,textPosition:R,parent:{page:{pageNumber:I}}}=n;if(!M||M.length===0)return null;a=n={annotationType:rt.FREETEXT,color:Array.from(c),fontSize:u,value:M.join(`
`),position:R,pageIndex:I-1,rect:f.slice(0),rotation:h,annotationElementId:g,id:g,deleted:!1,popupRef:v,comment:(E==null?void 0:E.str)||null,richText:w,creationDate:A,modificationDate:_}}const s=await super.deserialize(n,r,i);return L(s,Oa,n.fontSize),s.color=Le.makeHexColor(...n.color),L(s,La,F(o=mn,Cu,CP).call(o,n.value)),s._initialData=a,n.comment&&s.setCommentData(n),s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=un._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:m(this,Oa),value:F(this,ar,sY).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!F(this,ar,oY).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${m(this,Oa)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const a of m(this,La).split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),r.append(s)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:m(this,La)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};La=new WeakMap,sx=new WeakMap,xh=new WeakMap,Oa=new WeakMap,ar=new WeakSet,rY=function(n){const r=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-m(this,Oa))*this.parentScale),L(this,Oa,a),F(this,ar,T1).call(this)},i=m(this,Oa);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},iY=function(n){const r=a=>{this.color=a,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},aY=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const a of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(n.push(F(i=mn,Cu,N1).call(i,a)),r=a);return n.join(`
`)},T1=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,u=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Cu=new WeakSet,N1=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(XS,"")},R1=function(){if(this.editorDiv.replaceChildren(),!!m(this,La))for(const n of m(this,La).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},sY=function(){return m(this,La).replaceAll(""," ")},CP=function(n){return n.replaceAll(" ","")},oY=function(n){const{value:r,fontSize:i,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,u)=>o!==a[u])||n.pageIndex!==s},j(mn,Cu),we(mn,"_freeTextDefaultContent",""),we(mn,"_internalPadding",0),we(mn,"_defaultColor",null),we(mn,"_defaultFontSize",10),we(mn,"_type","freetext"),we(mn,"_editorType",rt.FREETEXT);let AP=mn;class Ie{toSVGPath(){on("Abstract method `toSVGPath` must be implemented.")}get box(){on("Abstract getter `box` must be implemented.")}serialize(e,n){on("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,u=e.length;o<u;o+=2)s[o]=n+e[o]*i,s[o+1]=r+e[o+1]*a;return s}static _rescaleAndSwap(e,n,r,i,a,s){s||(s=new Float32Array(e.length));for(let o=0,u=e.length;o<u;o+=2)s[o]=n+e[o+1]*i,s[o+1]=r+e[o]*a;return s}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let a=0,s=e.length;a<s;a+=2)i[a]=n+e[a],i[a+1]=r+e[a+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,a){switch(a){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,a,s){return[(e+5*r)/6,(n+5*i)/6,(5*r+a)/6,(5*i+s)/6,(r+a)/2,(i+s)/2]}}we(Ie,"PRECISION",1e-4);var ja,to,kg,Dg,qo,ht,wh,Sh,ox,lx,Ig,Lg,ud,ux,fA,hA,mr,a0,lY,uY,cY,dY,fY,hY;const Ll=class Ll{constructor({x:e,y:n},r,i,a,s,o=0){j(this,mr);j(this,ja);j(this,to,[]);j(this,kg);j(this,Dg);j(this,qo,[]);j(this,ht,new Float32Array(18));j(this,wh);j(this,Sh);j(this,ox);j(this,lx);j(this,Ig);j(this,Lg);j(this,ud,[]);L(this,ja,r),L(this,Lg,a*i),L(this,Dg,s),m(this,ht).set([NaN,NaN,NaN,NaN,e,n],6),L(this,kg,o),L(this,lx,m(Ll,ux)*i),L(this,ox,m(Ll,hA)*i),L(this,Ig,i),m(this,ud).push(e,n)}isEmpty(){return isNaN(m(this,ht)[8])}add({x:e,y:n}){var z;L(this,wh,e),L(this,Sh,n);const[r,i,a,s]=m(this,ja);let[o,u,c,f]=m(this,ht).subarray(8,12);const h=e-c,g=n-f,v=Math.hypot(h,g);if(v<m(this,ox))return!1;const w=v-m(this,lx),E=w/v,A=E*h,_=E*g;let M=o,R=u;o=c,u=f,c+=A,f+=_,(z=m(this,ud))==null||z.push(e,n);const I=-_/w,D=A/w,k=I*m(this,Lg),P=D*m(this,Lg);return m(this,ht).set(m(this,ht).subarray(2,8),0),m(this,ht).set([c+k,f+P],4),m(this,ht).set(m(this,ht).subarray(14,18),12),m(this,ht).set([c-k,f-P],16),isNaN(m(this,ht)[6])?(m(this,qo).length===0&&(m(this,ht).set([o+k,u+P],2),m(this,qo).push(NaN,NaN,NaN,NaN,(o+k-r)/a,(u+P-i)/s),m(this,ht).set([o-k,u-P],14),m(this,to).push(NaN,NaN,NaN,NaN,(o-k-r)/a,(u-P-i)/s)),m(this,ht).set([M,R,o,u,c,f],6),!this.isEmpty()):(m(this,ht).set([M,R,o,u,c,f],6),Math.abs(Math.atan2(R-u,M-o)-Math.atan2(_,A))<Math.PI/2?([o,u,c,f]=m(this,ht).subarray(2,6),m(this,qo).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/a,((u+f)/2-i)/s),[o,u,M,R]=m(this,ht).subarray(14,18),m(this,to).push(NaN,NaN,NaN,NaN,((M+o)/2-r)/a,((R+u)/2-i)/s),!0):([M,R,o,u,c,f]=m(this,ht).subarray(0,6),m(this,qo).push(((M+5*o)/6-r)/a,((R+5*u)/6-i)/s,((5*o+c)/6-r)/a,((5*u+f)/6-i)/s,((o+c)/2-r)/a,((u+f)/2-i)/s),[c,f,o,u,M,R]=m(this,ht).subarray(12,18),m(this,to).push(((M+5*o)/6-r)/a,((R+5*u)/6-i)/s,((5*o+c)/6-r)/a,((5*u+f)/6-i)/s,((o+c)/2-r)/a,((u+f)/2-i)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,qo),n=m(this,to);if(isNaN(m(this,ht)[6])&&!this.isEmpty())return F(this,mr,lY).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);F(this,mr,cY).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return F(this,mr,uY).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,a,s){return new pY(e,n,r,i,a,s)}getOutlines(){var h;const e=m(this,qo),n=m(this,to),r=m(this,ht),[i,a,s,o]=m(this,ja),u=new Float32Array((((h=m(this,ud))==null?void 0:h.length)??0)+2);for(let g=0,v=u.length-2;g<v;g+=2)u[g]=(m(this,ud)[g]-i)/s,u[g+1]=(m(this,ud)[g+1]-a)/o;if(u[u.length-2]=(m(this,wh)-i)/s,u[u.length-1]=(m(this,Sh)-a)/o,isNaN(r[6])&&!this.isEmpty())return F(this,mr,dY).call(this,u);const c=new Float32Array(m(this,qo).length+24+m(this,to).length);let f=e.length;for(let g=0;g<f;g+=2){if(isNaN(e[g])){c[g]=c[g+1]=NaN;continue}c[g]=e[g],c[g+1]=e[g+1]}f=F(this,mr,hY).call(this,c,f);for(let g=n.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(n[g+v])){c[f]=c[f+1]=NaN,f+=2;continue}c[f]=n[g+v],c[f+1]=n[g+v+1],f+=2}return F(this,mr,fY).call(this,c,f),this.newFreeDrawOutline(c,u,m(this,ja),m(this,Ig),m(this,kg),m(this,Dg))}};ja=new WeakMap,to=new WeakMap,kg=new WeakMap,Dg=new WeakMap,qo=new WeakMap,ht=new WeakMap,wh=new WeakMap,Sh=new WeakMap,ox=new WeakMap,lx=new WeakMap,Ig=new WeakMap,Lg=new WeakMap,ud=new WeakMap,ux=new WeakMap,fA=new WeakMap,hA=new WeakMap,mr=new WeakSet,a0=function(){const e=m(this,ht).subarray(4,6),n=m(this,ht).subarray(16,18),[r,i,a,s]=m(this,ja);return[(m(this,wh)+(e[0]-n[0])/2-r)/a,(m(this,Sh)+(e[1]-n[1])/2-i)/s,(m(this,wh)+(n[0]-e[0])/2-r)/a,(m(this,Sh)+(n[1]-e[1])/2-i)/s]},lY=function(){const[e,n,r,i]=m(this,ja),[a,s,o,u]=F(this,mr,a0).call(this);return`M${(m(this,ht)[2]-e)/r} ${(m(this,ht)[3]-n)/i} L${(m(this,ht)[4]-e)/r} ${(m(this,ht)[5]-n)/i} L${a} ${s} L${o} ${u} L${(m(this,ht)[16]-e)/r} ${(m(this,ht)[17]-n)/i} L${(m(this,ht)[14]-e)/r} ${(m(this,ht)[15]-n)/i} Z`},uY=function(e){const n=m(this,to);e.push(`L${n[4]} ${n[5]} Z`)},cY=function(e){const[n,r,i,a]=m(this,ja),s=m(this,ht).subarray(4,6),o=m(this,ht).subarray(16,18),[u,c,f,h]=F(this,mr,a0).call(this);e.push(`L${(s[0]-n)/i} ${(s[1]-r)/a} L${u} ${c} L${f} ${h} L${(o[0]-n)/i} ${(o[1]-r)/a}`)},dY=function(e){const n=m(this,ht),[r,i,a,s]=m(this,ja),[o,u,c,f]=F(this,mr,a0).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/a,(n[3]-i)/s,NaN,NaN,NaN,NaN,(n[4]-r)/a,(n[5]-i)/s,NaN,NaN,NaN,NaN,o,u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,(n[16]-r)/a,(n[17]-i)/s,NaN,NaN,NaN,NaN,(n[14]-r)/a,(n[15]-i)/s],0),this.newFreeDrawOutline(h,e,m(this,ja),m(this,Ig),m(this,kg),m(this,Dg))},fY=function(e,n){const r=m(this,to);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},hY=function(e,n){const r=m(this,ht).subarray(4,6),i=m(this,ht).subarray(16,18),[a,s,o,u]=m(this,ja),[c,f,h,g]=F(this,mr,a0).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/u,NaN,NaN,NaN,NaN,c,f,NaN,NaN,NaN,NaN,h,g,NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/u],n),n+=24},j(Ll,ux,8),j(Ll,fA,2),j(Ll,hA,m(Ll,ux)+m(Ll,fA));let WE=Ll;var Og,Eh,cu,cx,Fa,dx,Vn,pA,mY;class pY extends Ie{constructor(n,r,i,a,s,o){super();j(this,pA);j(this,Og);j(this,Eh,new Float32Array(4));j(this,cu);j(this,cx);j(this,Fa);j(this,dx);j(this,Vn);L(this,Vn,n),L(this,Fa,r),L(this,Og,i),L(this,dx,a),L(this,cu,s),L(this,cx,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],F(this,pA,mY).call(this,o);const[u,c,f,h]=m(this,Eh);for(let g=0,v=n.length;g<v;g+=2)n[g]=(n[g]-u)/f,n[g+1]=(n[g+1]-c)/h;for(let g=0,v=r.length;g<v;g+=2)r[g]=(r[g]-u)/f,r[g+1]=(r[g+1]-c)/h}toSVGPath(){const n=[`M${m(this,Vn)[4]} ${m(this,Vn)[5]}`];for(let r=6,i=m(this,Vn).length;r<i;r+=6){if(isNaN(m(this,Vn)[r])){n.push(`L${m(this,Vn)[r+4]} ${m(this,Vn)[r+5]}`);continue}n.push(`C${m(this,Vn)[r]} ${m(this,Vn)[r+1]} ${m(this,Vn)[r+2]} ${m(this,Vn)[r+3]} ${m(this,Vn)[r+4]} ${m(this,Vn)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,a],s){const o=i-n,u=a-r;let c,f;switch(s){case 0:c=Ie._rescale(m(this,Vn),n,a,o,-u),f=Ie._rescale(m(this,Fa),n,a,o,-u);break;case 90:c=Ie._rescaleAndSwap(m(this,Vn),n,r,o,u),f=Ie._rescaleAndSwap(m(this,Fa),n,r,o,u);break;case 180:c=Ie._rescale(m(this,Vn),i,r,-o,u),f=Ie._rescale(m(this,Fa),i,r,-o,u);break;case 270:c=Ie._rescaleAndSwap(m(this,Vn),i,a,-o,-u),f=Ie._rescaleAndSwap(m(this,Fa),i,a,-o,-u);break}return{outline:Array.from(c),points:[Array.from(f)]}}get box(){return m(this,Eh)}newOutliner(n,r,i,a,s,o=0){return new WE(n,r,i,a,s,o)}getNewOutline(n,r){const[i,a,s,o]=m(this,Eh),[u,c,f,h]=m(this,Og),g=s*f,v=o*h,w=i*f+u,E=a*h+c,A=this.newOutliner({x:m(this,Fa)[0]*g+w,y:m(this,Fa)[1]*v+E},m(this,Og),m(this,dx),n,m(this,cx),r??m(this,cu));for(let _=2;_<m(this,Fa).length;_+=2)A.add({x:m(this,Fa)[_]*g+w,y:m(this,Fa)[_+1]*v+E});return A.getOutlines()}}Og=new WeakMap,Eh=new WeakMap,cu=new WeakMap,cx=new WeakMap,Fa=new WeakMap,dx=new WeakMap,Vn=new WeakMap,pA=new WeakSet,mY=function(n){const r=m(this,Vn);let i=r[4],a=r[5];const s=[i,a,i,a];let o=i,u=a,c=i,f=a;const h=n?Math.max:Math.min,g=new Float32Array(4);for(let w=6,E=r.length;w<E;w+=6){const A=r[w+4],_=r[w+5];isNaN(r[w])?(Le.pointBoundingBox(A,_,s),u>_?(o=A,u=_):u===_&&(o=h(o,A)),f<_?(c=A,f=_):f===_&&(c=h(c,A))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,Le.bezierBoundingBox(i,a,...r.slice(w,w+6),g),Le.rectBoundingBox(g[0],g[1],g[2],g[3],s),u>g[1]?(o=g[0],u=g[1]):u===g[1]&&(o=h(o,g[0])),f<g[3]?(c=g[2],f=g[3]):f===g[3]&&(c=h(c,g[2]))),i=A,a=_}const v=m(this,Eh);v[0]=s[0]-m(this,cu),v[1]=s[1]-m(this,cu),v[2]=s[2]-s[0]+2*m(this,cu),v[3]=s[3]-s[1]+2*m(this,cu),this.firstPoint=[o,u],this.lastPoint=[c,f]};var fx,hx,px,cd,no,Oi,gY,M1,yY,vY,TP;class _P{constructor(e,n=0,r=0,i=!0){j(this,Oi);j(this,fx);j(this,hx);j(this,px);j(this,cd,[]);j(this,no,[]);const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:E,y:A,width:_,height:M}of e){const R=Math.floor((E-n)/s)*s,I=Math.ceil((E+_+n)/s)*s,D=Math.floor((A-n)/s)*s,k=Math.ceil((A+M+n)/s)*s,P=[R,D,k,!0],B=[I,D,k,!1];m(this,cd).push(P,B),Le.rectBoundingBox(R,D,I,k,a)}const o=a[2]-a[0]+2*r,u=a[3]-a[1]+2*r,c=a[0]-r,f=a[1]-r;let h=i?-1/0:1/0,g=1/0;const v=m(this,cd).at(i?-1:-2),w=[v[0],v[2]];for(const E of m(this,cd)){const[A,_,M,R]=E;!R&&i?_<g?(g=_,h=A):_===g&&(h=Math.max(h,A)):R&&!i&&(_<g?(g=_,h=A):_===g&&(h=Math.min(h,A))),E[0]=(A-c)/o,E[1]=(_-f)/u,E[2]=(M-f)/u}L(this,fx,new Float32Array([c,f,o,u])),L(this,hx,[h,g]),L(this,px,w)}getOutlines(){m(this,cd).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of m(this,cd))n[3]?(e.push(...F(this,Oi,TP).call(this,n)),F(this,Oi,yY).call(this,n)):(F(this,Oi,vY).call(this,n),e.push(...F(this,Oi,TP).call(this,n)));return F(this,Oi,gY).call(this,e)}}fx=new WeakMap,hx=new WeakMap,px=new WeakMap,cd=new WeakMap,no=new WeakMap,Oi=new WeakSet,gY=function(e){const n=[],r=new Set;for(const s of e){const[o,u,c]=s;n.push([o,u,s],[o,c,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const u=n[s][2],c=n[s+1][2];u.push(c),c.push(u),r.add(u),r.add(c)}const i=[];let a;for(;r.size>0;){const s=r.values().next().value;let[o,u,c,f,h]=s;r.delete(s);let g=o,v=u;for(a=[o,c],i.push(a);;){let w;if(r.has(f))w=f;else if(r.has(h))w=h;else break;r.delete(w),[o,u,c,f,h]=w,g!==o&&(a.push(g,v,o,v===u?u:c),g=o),v=v===u?c:u}a.push(g,v)}return new iCe(i,m(this,fx),m(this,hx),m(this,px))},M1=function(e){const n=m(this,no);let r=0,i=n.length-1;for(;r<=i;){const a=r+i>>1,s=n[a][0];if(s===e)return a;s<e?r=a+1:i=a-1}return i+1},yY=function([,e,n]){const r=F(this,Oi,M1).call(this,e);m(this,no).splice(r,0,[e,n])},vY=function([,e,n]){const r=F(this,Oi,M1).call(this,e);for(let i=r;i<m(this,no).length;i++){const[a,s]=m(this,no)[i];if(a!==e)break;if(a===e&&s===n){m(this,no).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[a,s]=m(this,no)[i];if(a!==e)break;if(a===e&&s===n){m(this,no).splice(i,1);return}}},TP=function(e){const[n,r,i]=e,a=[[n,r,i]],s=F(this,Oi,M1).call(this,i);for(let o=0;o<s;o++){const[u,c]=m(this,no)[o];for(let f=0,h=a.length;f<h;f++){const[,g,v]=a[f];if(!(c<=g||v<=u)){if(g>=u){if(v>c)a[f][1]=c;else{if(h===1)return[];a.splice(f,1),f--,h--}continue}a[f][2]=u,v>c&&a.push([n,c,v])}}}return a};var mx,jg;class iCe extends Ie{constructor(n,r,i,a){super();j(this,mx);j(this,jg);L(this,jg,n),L(this,mx,r),this.firstPoint=i,this.lastPoint=a}toSVGPath(){const n=[];for(const r of m(this,jg)){let[i,a]=r;n.push(`M${i} ${a}`);for(let s=2;s<r.length;s+=2){const o=r[s],u=r[s+1];o===i?(n.push(`V${u}`),a=u):u===a&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,a],s){const o=[],u=i-n,c=a-r;for(const f of m(this,jg)){const h=new Array(f.length);for(let g=0;g<f.length;g+=2)h[g]=n+f[g]*u,h[g+1]=a-f[g+1]*c;o.push(h)}return o}get box(){return m(this,mx)}get classNamesForOutlining(){return["highlightOutline"]}}mx=new WeakMap,jg=new WeakMap;class NP extends WE{newFreeDrawOutline(e,n,r,i,a,s){return new aCe(e,n,r,i,a,s)}}class aCe extends pY{newOutliner(e,n,r,i,a,s=0){return new NP(e,n,r,i,a,s)}}var Fg,gx,du,Ah,yx,aa,vx,bx,Ch,Ua,Ba,Yr,Ug,Bg,mi,zg,_s,xx,ct,RP,P1,bY,xY,wY,MP,xf,Ms,im,SY,k1,D1,EY,AY,CY,_Y,TY;const It=class It extends un{constructor(n){super({...n,name:"highlightEditor"});j(this,ct);j(this,Fg,null);j(this,gx,0);j(this,du);j(this,Ah,null);j(this,yx,null);j(this,aa,null);j(this,vx,null);j(this,bx,0);j(this,Ch,null);j(this,Ua,null);j(this,Ba,null);j(this,Yr,!1);j(this,Ug,null);j(this,Bg,null);j(this,mi,null);j(this,zg,"");j(this,_s);j(this,xx,"");this.color=n.color||It._defaultColor,L(this,_s,n.thickness||It._defaultThickness),this.opacity=n.opacity||It._defaultOpacity,L(this,du,n.boxes||null),L(this,xx,n.methodOfCreation||""),L(this,zg,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(L(this,Yr,!0),F(this,ct,P1).call(this,n),F(this,ct,xf).call(this)):m(this,du)&&(L(this,Fg,n.anchorNode),L(this,gx,n.anchorOffset),L(this,vx,n.focusNode),L(this,bx,n.focusOffset),F(this,ct,RP).call(this),F(this,ct,xf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=It.prototype;return ut(this,"_keyboardManager",new rw([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,Yr)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:m(this,_s),methodOfCreation:m(this,xx)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;un.initialize(n,r),It._defaultColor||(It._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case bt.HIGHLIGHT_COLOR:It._defaultColor=r;break;case bt.HIGHLIGHT_THICKNESS:It._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return m(this,Bg)}get commentButtonPosition(){return m(this,Ug)}updateParams(n,r){switch(n){case bt.HIGHLIGHT_COLOR:F(this,ct,bY).call(this,r);break;case bt.HIGHLIGHT_THICKNESS:F(this,ct,xY).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,It._defaultColor],[bt.HIGHLIGHT_THICKNESS,It._defaultThickness]]}get propertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,this.color||It._defaultColor],[bt.HIGHLIGHT_THICKNESS,m(this,_s)||It._defaultThickness],[bt.HIGHLIGHT_FREE,m(this,Yr)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(m(this,Ba),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=m(this,yx))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",L(this,yx,new H0({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(F(this,ct,D1).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,F(this,ct,D1).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){F(this,ct,MP).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,ct,xf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?F(this,ct,MP).call(this):n&&(F(this,ct,xf).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var a,s,o;const{drawLayer:r}=this.parent;let i;m(this,Yr)?(n=(n-this.rotation+360)%360,i=F(a=It,Ms,im).call(a,m(this,Ua).box,n)):i=F(s=It,Ms,im).call(s,[this.x,this.y,this.width,this.height],n),r.updateProperties(m(this,Ba),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(m(this,mi),{bbox:F(o=It,Ms,im).call(o,m(this,aa).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();m(this,zg)&&(n.setAttribute("aria-label",m(this,zg)),n.setAttribute("role","mark")),m(this,Yr)?n.classList.add("free"):this.div.addEventListener("keydown",F(this,ct,SY).bind(this),{signal:this._uiManager._signal});const r=L(this,Ch,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=m(this,Ah),this.setDims(this.width,this.height),WW(this,m(this,Ch),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(m(this,mi),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(m(this,mi),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:F(this,ct,k1).call(this,!0);break;case 1:case 3:F(this,ct,k1).call(this,!1);break}}select(){var n;super.select(),m(this,mi)&&((n=this.parent)==null||n.drawLayer.updateProperties(m(this,mi),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),m(this,mi)&&((n=this.parent)==null||n.drawLayer.updateProperties(m(this,mi),{rootClass:{selected:!1}}),m(this,Yr)||F(this,ct,k1).call(this,!1))}get _mustFixPosition(){return!m(this,Yr)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(m(this,Ba),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(m(this,mi),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:a,y:s}){const{x:o,y:u,width:c,height:f}=i.getBoundingClientRect(),h=new AbortController,g=n.combinedSignal(h),v=w=>{h.abort(),F(this,Ms,_Y).call(this,n,w)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Nn,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Za,{signal:g}),i.addEventListener("pointermove",F(this,Ms,CY).bind(this,n),{signal:g}),this._freeHighlight=new NP({x:a,y:s},[o,u,c,f],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var E,A,_,M;let a=null;if(n instanceof tY){const{data:{quadPoints:R,rect:I,rotation:D,id:k,color:P,opacity:B,popupRef:z,richText:W,contentsObj:U,creationDate:q,modificationDate:Z},parent:{page:{pageNumber:V}}}=n;a=n={annotationType:rt.HIGHLIGHT,color:Array.from(P),opacity:B,quadPoints:R,boxes:null,pageIndex:V-1,rect:I.slice(0),rotation:D,annotationElementId:k,id:k,deleted:!1,popupRef:z,richText:W,comment:(U==null?void 0:U.str)||null,creationDate:q,modificationDate:Z}}else if(n instanceof CI){const{data:{inkLists:R,rect:I,rotation:D,id:k,color:P,borderStyle:{rawWidth:B},popupRef:z,richText:W,contentsObj:U,creationDate:q,modificationDate:Z},parent:{page:{pageNumber:V}}}=n;a=n={annotationType:rt.HIGHLIGHT,color:Array.from(P),thickness:B,inkLists:R,boxes:null,pageIndex:V-1,rect:I.slice(0),rotation:D,annotationElementId:k,id:k,deleted:!1,popupRef:z,richText:W,comment:(U==null?void 0:U.str)||null,creationDate:q,modificationDate:Z}}const{color:s,quadPoints:o,inkLists:u,opacity:c}=n,f=await super.deserialize(n,r,i);f.color=Le.makeHexColor(...s),f.opacity=c||1,u&&L(f,_s,n.thickness),f._initialData=a,n.comment&&f.setCommentData(n);const[h,g]=f.pageDimensions,[v,w]=f.pageTranslation;if(o){const R=L(f,du,[]);for(let I=0;I<o.length;I+=8)R.push({x:(o[I]-v)/h,y:1-(o[I+1]-w)/g,width:(o[I+2]-o[I])/h,height:(o[I+1]-o[I+5])/g});F(E=f,ct,RP).call(E),F(A=f,ct,xf).call(A),f.rotate(f.rotation)}else if(u){L(f,Yr,!0);const R=u[0],I={x:R[0]-v,y:g-(R[1]-w)},D=new NP(I,[0,0,h,g],1,m(f,_s)/2,!0,.001);for(let B=0,z=R.length;B<z;B+=2)I.x=R[B]-v,I.y=g-(R[B+1]-w),D.add(I);const{id:k,clipPathId:P}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:D.toSVGPath()}},!0,!0);F(_=f,ct,P1).call(_,{highlightOutlines:D.getOutlines(),highlightId:k,clipPathId:P}),F(M=f,ct,xf).call(M),f.rotate(f.parentRotation)}return f}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=un._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:m(this,_s),quadPoints:F(this,ct,EY).call(this),outlines:F(this,ct,AY).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!F(this,ct,TY).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Fg=new WeakMap,gx=new WeakMap,du=new WeakMap,Ah=new WeakMap,yx=new WeakMap,aa=new WeakMap,vx=new WeakMap,bx=new WeakMap,Ch=new WeakMap,Ua=new WeakMap,Ba=new WeakMap,Yr=new WeakMap,Ug=new WeakMap,Bg=new WeakMap,mi=new WeakMap,zg=new WeakMap,_s=new WeakMap,xx=new WeakMap,ct=new WeakSet,RP=function(){const n=new _P(m(this,du),.001);L(this,Ua,n.getOutlines()),[this.x,this.y,this.width,this.height]=m(this,Ua).box;const r=new _P(m(this,du),.0025,.001,this._uiManager.direction==="ltr");L(this,aa,r.getOutlines());const{firstPoint:i}=m(this,Ua);L(this,Ug,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:a}=m(this,aa);L(this,Bg,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},P1=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var g,v;if(L(this,Ua,n),L(this,aa,n.getNewOutline(m(this,_s)/2+1.5,.0025)),r>=0)L(this,Ba,r),L(this,Ah,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),L(this,mi,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:m(this,aa).box,path:{d:m(this,aa).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(m(this,Ba),{bbox:F(g=It,Ms,im).call(g,m(this,Ua).box,(w-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(m(this,mi),{bbox:F(v=It,Ms,im).call(v,m(this,aa).box,w),path:{d:m(this,aa).toSVGPath()}})}const[s,o,u,c]=n.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=u,this.height=c;break;case 90:{const[w,E]=this.parentDimensions;this.x=o,this.y=1-s,this.width=u*E/w,this.height=c*w/E;break}case 180:this.x=1-s,this.y=1-o,this.width=u,this.height=c;break;case 270:{const[w,E]=this.parentDimensions;this.x=1-o,this.y=s,this.width=u*E/w,this.height=c*w/E;break}}const{firstPoint:f}=n;L(this,Ug,[(f[0]-s)/u,(f[1]-o)/c]);const{lastPoint:h}=m(this,aa);L(this,Bg,[(h[0]-s)/u,(h[1]-o)/c])},bY=function(n){const r=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},i=this.color,a=this.opacity;this.addCommands({cmd:r.bind(this,n,It._defaultOpacity),undo:r.bind(this,i,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},xY=function(n){const r=m(this,_s),i=a=>{L(this,_s,a),F(this,ct,wY).call(this,a)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},wY=function(n){m(this,Yr)&&(F(this,ct,P1).call(this,{highlightOutlines:m(this,Ua).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},MP=function(){m(this,Ba)===null||!this.parent||(this.parent.drawLayer.remove(m(this,Ba)),L(this,Ba,null),this.parent.drawLayer.remove(m(this,mi)),L(this,mi,null))},xf=function(n=this.parent){m(this,Ba)===null&&({id:ur(this,Ba)._,clipPathId:ur(this,Ah)._}=n.drawLayer.draw({bbox:m(this,Ua).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:m(this,Yr)},path:{d:m(this,Ua).toSVGPath()}},!1,!0),L(this,mi,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:m(this,Yr)},bbox:m(this,aa).box,path:{d:m(this,aa).toSVGPath()}},m(this,Yr))),m(this,Ch)&&(m(this,Ch).style.clipPath=m(this,Ah)))},Ms=new WeakSet,im=function([n,r,i,a],s){switch(s){case 90:return[1-r-a,n,a,i];case 180:return[1-n-i,1-r-a,i,a];case 270:return[r,1-n-i,a,i]}return[n,r,i,a]},SY=function(n){It._keyboardManager.exec(this,n)},k1=function(n){if(!m(this,Fg))return;const r=window.getSelection();n?r.setPosition(m(this,Fg),m(this,gx)):r.setPosition(m(this,vx),m(this,bx))},D1=function(){return m(this,Yr)?this.rotation:0},EY=function(){if(m(this,Yr))return null;const[n,r]=this.pageDimensions,[i,a]=this.pageTranslation,s=m(this,du),o=new Float32Array(s.length*8);let u=0;for(const{x:c,y:f,width:h,height:g}of s){const v=c*n+i,w=(1-f)*r+a;o[u]=o[u+4]=v,o[u+1]=o[u+3]=w,o[u+2]=o[u+6]=v+h*n,o[u+5]=o[u+7]=w-g*r,u+=8}return o},AY=function(n){return m(this,Ua).serialize(n,F(this,ct,D1).call(this))},CY=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},_Y=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},TY=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,a)=>i!==r[a])},j(It,Ms),we(It,"_defaultColor",null),we(It,"_defaultOpacity",1),we(It,"_defaultThickness",12),we(It,"_type","highlight"),we(It,"_editorType",rt.HIGHLIGHT),we(It,"_freeHighlightId",-1),we(It,"_freeHighlight",null),we(It,"_freeHighlightClipId","");let YE=It;var _h;class NY{constructor(){j(this,_h,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){m(this,_h)[e]=n}toSVGProperties(){const e=m(this,_h);return L(this,_h,Object.create(null)),{root:e}}reset(){L(this,_h,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){on("Not implemented")}}_h=new WeakMap;var za,Hg,Nr,Th,Nh,dd,fd,hd,Rh,Et,PP,kP,DP,s0,RY,I1,o0,am;const Ue=class Ue extends un{constructor(n){super(n);j(this,Et);j(this,za,null);j(this,Hg);we(this,"_colorPicker",null);we(this,"_drawId",null);L(this,Hg,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(F(this,Et,PP).call(this,n),F(this,Et,s0).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[a,s]of Object.entries(r))i.has(a)?Object.assign(n[a],s):n[a]=s;return n}static getDefaultDrawingOptions(n){on("Not implemented")}static get typesMap(){on("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(m(Ue,Nr).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,a]of this.typesMap)n.push([i,r[a]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,a]of this.constructor.typesMap)n.push([i,r[a]]);return n}_updateProperty(n,r,i){const a=this._drawingOptions,s=a[r],o=u=>{var f;a.updateProperty(r,u);const c=m(this,za).updateProperty(r,u);c&&F(this,Et,o0).call(this,c),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(m(this,za).getPathResizingSVGProperties(F(this,Et,I1).call(this)),{bbox:F(this,Et,am).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(m(this,za).getPathResizedSVGProperties(F(this,Et,I1).call(this)),{bbox:F(this,Et,am).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:F(this,Et,am).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties(m(this,za).getPathTranslatedSVGProperties(F(this,Et,I1).call(this),this.parentDimensions),{bbox:F(this,Et,am).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,m(this,Hg)&&(L(this,Hg,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){F(this,Et,DP).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(F(this,Et,s0).call(this),F(this,Et,o0).call(this,m(this,za).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),F(this,Et,DP).call(this)):n&&(this._uiManager.addShouldRescale(this),F(this,Et,s0).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ue._mergeSVGProperties({bbox:F(this,Et,am).call(this)},m(this,za).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&F(this,Et,o0).call(this,m(this,za).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const a=document.createElement("div");return i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,a,s){on("Not implemented")}static startDrawing(n,r,i,a){var A;const{target:s,offsetX:o,offsetY:u,pointerId:c,pointerType:f}=a;if(m(Ue,fd)&&m(Ue,fd)!==f)return;const{viewport:{rotation:h}}=n,{width:g,height:v}=s.getBoundingClientRect(),w=L(Ue,Th,new AbortController),E=n.combinedSignal(w);if(m(Ue,dd)||L(Ue,dd,c),m(Ue,fd)??L(Ue,fd,f),window.addEventListener("pointerup",_=>{var M;m(Ue,dd)===_.pointerId?this._endDraw(_):(M=m(Ue,hd))==null||M.delete(_.pointerId)},{signal:E}),window.addEventListener("pointercancel",_=>{var M;m(Ue,dd)===_.pointerId?this._currentParent.endDrawingSession():(M=m(Ue,hd))==null||M.delete(_.pointerId)},{signal:E}),window.addEventListener("pointerdown",_=>{m(Ue,fd)===_.pointerType&&((m(Ue,hd)||L(Ue,hd,new Set)).add(_.pointerId),m(Ue,Nr).isCancellable()&&(m(Ue,Nr).removeLastElement(),m(Ue,Nr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",Za,{signal:E}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),s.addEventListener("touchmove",_=>{_.timeStamp===m(Ue,Rh)&&Nn(_)},{signal:E}),n.toggleDrawing(),(A=r._editorUndoBar)==null||A.hide(),m(Ue,Nr)){n.drawLayer.updateProperties(this._currentDrawId,m(Ue,Nr).startNew(o,u,g,v,h));return}r.updateUIForDefaultProperties(this),L(Ue,Nr,this.createDrawerInstance(o,u,g,v,h)),L(Ue,Nh,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(m(Ue,Nh).toSVGProperties(),m(Ue,Nr).defaultSVGProperties),!0,!1)}static _drawMove(n){var s;if(L(Ue,Rh,-1),!m(Ue,Nr))return;const{offsetX:r,offsetY:i,pointerId:a}=n;if(m(Ue,dd)===a){if(((s=m(Ue,hd))==null?void 0:s.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,m(Ue,Nr).add(r,i)),L(Ue,Rh,n.timeStamp),Nn(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,L(Ue,Nr,null),L(Ue,Nh,null),L(Ue,fd,null),L(Ue,Rh,NaN)),m(Ue,Th)&&(m(Ue,Th).abort(),L(Ue,Th,null),L(Ue,dd,NaN),L(Ue,hd,null))}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,m(Ue,Nr).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=m(Ue,Nr),a=this._currentDrawId,s=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(a,i.setLastElement(s))},undo:()=>{r.drawLayer.updateProperties(a,i.removeLastElement())},mustExec:!1,type:bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(bt.DRAW_STEP),!m(Ue,Nr).isEmpty()){const{pageDimensions:[i,a],scale:s}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:m(Ue,Nr).getOutlines(i*s,a*s,s,this._INNER_MARGIN),drawingOptions:m(Ue,Nh),mustBeCommitted:!n});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,a,s,o){on("Not implemented")}static async deserialize(n,r,i){var h,g;const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:u}}=r.viewport,c=this.deserializeDraw(o,u,a,s,this._INNER_MARGIN,n),f=await super.deserialize(n,r,i);return f.createDrawingOptions(n),F(h=f,Et,PP).call(h,{drawOutlines:c}),F(g=f,Et,s0).call(g),f.onScaleChanging(),f.rotate(),f}serializeDraw(n){const[r,i]=this.pageTranslation,[a,s]=this.pageDimensions;return m(this,za).serialize([r,i,a,s],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};za=new WeakMap,Hg=new WeakMap,Nr=new WeakMap,Th=new WeakMap,Nh=new WeakMap,dd=new WeakMap,fd=new WeakMap,hd=new WeakMap,Rh=new WeakMap,Et=new WeakSet,PP=function({drawOutlines:n,drawId:r,drawingOptions:i}){L(this,za,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=F(this,Et,kP).call(this,n,this.parent),F(this,Et,o0).call(this,n.box)},kP=function(n,r){const{id:i}=r.drawLayer.draw(Ue._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},DP=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},s0=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=F(this,Et,kP).call(this,m(this,za),n)}},RY=function([n,r,i,a]){const{parentDimensions:[s,o],rotation:u}=this;switch(u){case 90:return[r,1-n,i*(o/s),a*(s/o)];case 180:return[1-n,1-r,i,a];case 270:return[1-r,n,i*(o/s),a*(s/o)];default:return[n,r,i,a]}},I1=function(){const{x:n,y:r,width:i,height:a,parentDimensions:[s,o],rotation:u}=this;switch(u){case 90:return[1-r,n,i*(s/o),a*(o/s)];case 180:return[1-n,1-r,i,a];case 270:return[r,1-n,i*(s/o),a*(o/s)];default:return[n,r,i,a]}},o0=function(n){[this.x,this.y,this.width,this.height]=F(this,Et,RY).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},am=function(){const{x:n,y:r,width:i,height:a,rotation:s,parentRotation:o,parentDimensions:[u,c]}=this;switch((s*4+o)/90){case 1:return[1-r-a,n,a,i];case 2:return[1-n-i,1-r-a,i,a];case 3:return[r,1-n-i,a,i];case 4:return[n,r-i*(u/c),a*(c/u),i*(u/c)];case 5:return[1-r,n,i*(u/c),a*(c/u)];case 6:return[1-n-a*(c/u),1-r,a*(c/u),i*(u/c)];case 7:return[r-i*(u/c),1-n-a*(c/u),i*(u/c),a*(c/u)];case 8:return[n-i,r-a,i,a];case 9:return[1-r,n-i,a,i];case 10:return[1-n,1-r,i,a];case 11:return[r-a,1-n,a,i];case 12:return[n-a*(c/u),r,a*(c/u),i*(u/c)];case 13:return[1-r-i*(u/c),n-a*(c/u),i*(u/c),a*(c/u)];case 14:return[1-n,1-r-i*(u/c),a*(c/u),i*(u/c)];case 15:return[r,1-n,i*(u/c),a*(c/u)];default:return[n,r,i,a]}},we(Ue,"_currentDrawId",-1),we(Ue,"_currentParent",null),j(Ue,Nr,null),j(Ue,Th,null),j(Ue,Nh,null),j(Ue,dd,NaN),j(Ue,fd,null),j(Ue,hd,null),j(Ue,Rh,NaN),we(Ue,"_INNER_MARGIN",3);let KE=Ue;var Vo,Rr,Mr,Mh,Gg,Ri,Kr,Ts,Ph,kh,Dh,$g,L1;class sCe{constructor(e,n,r,i,a,s){j(this,$g);j(this,Vo,new Float64Array(6));j(this,Rr);j(this,Mr);j(this,Mh);j(this,Gg);j(this,Ri);j(this,Kr,"");j(this,Ts,0);j(this,Ph,new aw);j(this,kh);j(this,Dh);L(this,kh,r),L(this,Dh,i),L(this,Mh,a),L(this,Gg,s),[e,n]=F(this,$g,L1).call(this,e,n);const o=L(this,Rr,[NaN,NaN,NaN,NaN,e,n]);L(this,Ri,[e,n]),L(this,Mr,[{line:o,points:m(this,Ri)}]),m(this,Vo).set(o,0)}updateProperty(e,n){e==="stroke-width"&&L(this,Gg,n)}isEmpty(){return!m(this,Mr)||m(this,Mr).length===0}isCancellable(){return m(this,Ri).length<=10}add(e,n){[e,n]=F(this,$g,L1).call(this,e,n);const[r,i,a,s]=m(this,Vo).subarray(2,6),o=e-a,u=n-s;return Math.hypot(m(this,kh)*o,m(this,Dh)*u)<=2?null:(m(this,Ri).push(e,n),isNaN(r)?(m(this,Vo).set([a,s,e,n],2),m(this,Rr).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(m(this,Vo)[0])&&m(this,Rr).splice(6,6),m(this,Vo).set([r,i,a,s,e,n],0),m(this,Rr).push(...Ie.createBezierPoints(r,i,a,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(m(this,Ri).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,a){L(this,kh,r),L(this,Dh,i),L(this,Mh,a),[e,n]=F(this,$g,L1).call(this,e,n);const s=L(this,Rr,[NaN,NaN,NaN,NaN,e,n]);L(this,Ri,[e,n]);const o=m(this,Mr).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),m(this,Mr).push({line:s,points:m(this,Ri)}),m(this,Vo).set(s,0),L(this,Ts,0),this.toSVGPath(),null}getLastElement(){return m(this,Mr).at(-1)}setLastElement(e){return m(this,Mr)?(m(this,Mr).push(e),L(this,Rr,e.line),L(this,Ri,e.points),L(this,Ts,0),{path:{d:this.toSVGPath()}}):m(this,Ph).setLastElement(e)}removeLastElement(){if(!m(this,Mr))return m(this,Ph).removeLastElement();m(this,Mr).pop(),L(this,Kr,"");for(let e=0,n=m(this,Mr).length;e<n;e++){const{line:r,points:i}=m(this,Mr)[e];L(this,Rr,r),L(this,Ri,i),L(this,Ts,0),this.toSVGPath()}return{path:{d:m(this,Kr)}}}toSVGPath(){const e=Ie.svgRound(m(this,Rr)[4]),n=Ie.svgRound(m(this,Rr)[5]);if(m(this,Ri).length===2)return L(this,Kr,`${m(this,Kr)} M ${e} ${n} Z`),m(this,Kr);if(m(this,Ri).length<=6){const i=m(this,Kr).lastIndexOf("M");L(this,Kr,`${m(this,Kr).slice(0,i)} M ${e} ${n}`),L(this,Ts,6)}if(m(this,Ri).length===4){const i=Ie.svgRound(m(this,Rr)[10]),a=Ie.svgRound(m(this,Rr)[11]);return L(this,Kr,`${m(this,Kr)} L ${i} ${a}`),L(this,Ts,12),m(this,Kr)}const r=[];m(this,Ts)===0&&(r.push(`M ${e} ${n}`),L(this,Ts,6));for(let i=m(this,Ts),a=m(this,Rr).length;i<a;i+=6){const[s,o,u,c,f,h]=m(this,Rr).slice(i,i+6).map(Ie.svgRound);r.push(`C${s} ${o} ${u} ${c} ${f} ${h}`)}return L(this,Kr,m(this,Kr)+r.join(" ")),L(this,Ts,m(this,Rr).length),m(this,Kr)}getOutlines(e,n,r,i){const a=m(this,Mr).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),m(this,Ph).build(m(this,Mr),e,n,r,m(this,Mh),m(this,Gg),i),L(this,Vo,null),L(this,Rr,null),L(this,Mr,null),L(this,Kr,null),m(this,Ph)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Vo=new WeakMap,Rr=new WeakMap,Mr=new WeakMap,Mh=new WeakMap,Gg=new WeakMap,Ri=new WeakMap,Kr=new WeakMap,Ts=new WeakMap,Ph=new WeakMap,kh=new WeakMap,Dh=new WeakMap,$g=new WeakSet,L1=function(e,n){return Ie._normalizePoint(e,n,m(this,kh),m(this,Dh),m(this,Mh))};var Mi,wx,Sx,Ha,Wo,Yo,qg,Vg,Ih,Qr,Dl,MY,PY,kY;class aw extends Ie{constructor(){super(...arguments);j(this,Qr);j(this,Mi);j(this,wx,0);j(this,Sx);j(this,Ha);j(this,Wo);j(this,Yo);j(this,qg);j(this,Vg);j(this,Ih)}build(n,r,i,a,s,o,u){L(this,Wo,r),L(this,Yo,i),L(this,qg,a),L(this,Vg,s),L(this,Ih,o),L(this,Sx,u??0),L(this,Ha,n),F(this,Qr,PY).call(this)}get thickness(){return m(this,Ih)}setLastElement(n){return m(this,Ha).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return m(this,Ha).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of m(this,Ha)){if(n.push(`M${Ie.svgRound(r[4])} ${Ie.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${Ie.svgRound(r[10])} ${Ie.svgRound(r[11])}`);continue}for(let i=6,a=r.length;i<a;i+=6){const[s,o,u,c,f,h]=r.subarray(i,i+6).map(Ie.svgRound);n.push(`C${s} ${o} ${u} ${c} ${f} ${h}`)}}return n.join("")}serialize([n,r,i,a],s){const o=[],u=[],[c,f,h,g]=F(this,Qr,MY).call(this);let v,w,E,A,_,M,R,I,D;switch(m(this,Vg)){case 0:D=Ie._rescale,v=n,w=r+a,E=i,A=-a,_=n+c*i,M=r+(1-f-g)*a,R=n+(c+h)*i,I=r+(1-f)*a;break;case 90:D=Ie._rescaleAndSwap,v=n,w=r,E=i,A=a,_=n+f*i,M=r+c*a,R=n+(f+g)*i,I=r+(c+h)*a;break;case 180:D=Ie._rescale,v=n+i,w=r,E=-i,A=a,_=n+(1-c-h)*i,M=r+f*a,R=n+(1-c)*i,I=r+(f+g)*a;break;case 270:D=Ie._rescaleAndSwap,v=n+i,w=r+a,E=-i,A=-a,_=n+(1-f-g)*i,M=r+(1-c-h)*a,R=n+(1-f)*i,I=r+(1-c)*a;break}for(const{line:k,points:P}of m(this,Ha))o.push(D(k,v,w,E,A,s?new Array(k.length):null)),u.push(D(P,v,w,E,A,s?new Array(P.length):null));return{lines:o,points:u,rect:[_,M,R,I]}}static deserialize(n,r,i,a,s,{paths:{lines:o,points:u},rotation:c,thickness:f}){const h=[];let g,v,w,E,A;switch(c){case 0:A=Ie._rescale,g=-n/i,v=r/a+1,w=1/i,E=-1/a;break;case 90:A=Ie._rescaleAndSwap,g=-r/a,v=-n/i,w=1/a,E=1/i;break;case 180:A=Ie._rescale,g=n/i+1,v=-r/a,w=-1/i,E=1/a;break;case 270:A=Ie._rescaleAndSwap,g=r/a+1,v=n/i+1,w=-1/a,E=-1/i;break}if(!o){o=[];for(const M of u){const R=M.length;if(R===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1]]));continue}if(R===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,M[0],M[1],NaN,NaN,NaN,NaN,M[2],M[3]]));continue}const I=new Float32Array(3*(R-2));o.push(I);let[D,k,P,B]=M.subarray(0,4);I.set([NaN,NaN,NaN,NaN,D,k],0);for(let z=4;z<R;z+=2){const W=M[z],U=M[z+1];I.set(Ie.createBezierPoints(D,k,P,B,W,U),(z-2)*3),[D,k,P,B]=[P,B,W,U]}}}for(let M=0,R=o.length;M<R;M++)h.push({line:A(o[M].map(I=>I??NaN),g,v,w,E),points:A(u[M].map(I=>I??NaN),g,v,w,E)});const _=new this.prototype.constructor;return _.build(h,i,a,1,c,f,s),_}get box(){return m(this,Mi)}updateProperty(n,r){return n==="stroke-width"?F(this,Qr,kY).call(this,r):null}updateParentDimensions([n,r],i){const[a,s]=F(this,Qr,Dl).call(this);L(this,Wo,n),L(this,Yo,r),L(this,qg,i);const[o,u]=F(this,Qr,Dl).call(this),c=o-a,f=u-s,h=m(this,Mi);return h[0]-=c,h[1]-=f,h[2]+=2*c,h[3]+=2*f,h}updateRotation(n){return L(this,wx,n),{path:{transform:this.rotationTransform}}}get viewBox(){return m(this,Mi).map(Ie.svgRound).join(" ")}get defaultProperties(){const[n,r]=m(this,Mi);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ie.svgRound(n)} ${Ie.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=m(this,Mi);let i=0,a=0,s=0,o=0,u=0,c=0;switch(m(this,wx)){case 90:a=r/n,s=-n/r,u=n;break;case 180:i=-1,o=-1,u=n,c=r;break;case 270:a=-r/n,s=n/r,c=r;break;default:return""}return`matrix(${i} ${a} ${s} ${o} ${Ie.svgRound(u)} ${Ie.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,a]){const[s,o]=F(this,Qr,Dl).call(this),[u,c,f,h]=m(this,Mi);if(Math.abs(f-s)<=Ie.PRECISION||Math.abs(h-o)<=Ie.PRECISION){const A=n+i/2-(u+f/2),_=r+a/2-(c+h/2);return{path:{"transform-origin":`${Ie.svgRound(n)} ${Ie.svgRound(r)}`,transform:`${this.rotationTransform} translate(${A} ${_})`}}}const g=(i-2*s)/(f-2*s),v=(a-2*o)/(h-2*o),w=f/i,E=h/a;return{path:{"transform-origin":`${Ie.svgRound(u)} ${Ie.svgRound(c)}`,transform:`${this.rotationTransform} scale(${w} ${E}) translate(${Ie.svgRound(s)} ${Ie.svgRound(o)}) scale(${g} ${v}) translate(${Ie.svgRound(-s)} ${Ie.svgRound(-o)})`}}}getPathResizedSVGProperties([n,r,i,a]){const[s,o]=F(this,Qr,Dl).call(this),u=m(this,Mi),[c,f,h,g]=u;if(u[0]=n,u[1]=r,u[2]=i,u[3]=a,Math.abs(h-s)<=Ie.PRECISION||Math.abs(g-o)<=Ie.PRECISION){const _=n+i/2-(c+h/2),M=r+a/2-(f+g/2);for(const{line:R,points:I}of m(this,Ha))Ie._translate(R,_,M,R),Ie._translate(I,_,M,I);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ie.svgRound(n)} ${Ie.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(i-2*s)/(h-2*s),w=(a-2*o)/(g-2*o),E=-v*(c+s)+n+s,A=-w*(f+o)+r+o;if(v!==1||w!==1||E!==0||A!==0)for(const{line:_,points:M}of m(this,Ha))Ie._rescale(_,E,A,v,w,_),Ie._rescale(M,E,A,v,w,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ie.svgRound(n)} ${Ie.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[a,s]=i,o=m(this,Mi),u=n-o[0],c=r-o[1];if(m(this,Wo)===a&&m(this,Yo)===s)for(const{line:f,points:h}of m(this,Ha))Ie._translate(f,u,c,f),Ie._translate(h,u,c,h);else{const f=m(this,Wo)/a,h=m(this,Yo)/s;L(this,Wo,a),L(this,Yo,s);for(const{line:g,points:v}of m(this,Ha))Ie._rescale(g,u,c,f,h,g),Ie._rescale(v,u,c,f,h,v);o[2]*=f,o[3]*=h}return o[0]=n,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ie.svgRound(n)} ${Ie.svgRound(r)}`}}}get defaultSVGProperties(){const n=m(this,Mi);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ie.svgRound(n[0])} ${Ie.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Mi=new WeakMap,wx=new WeakMap,Sx=new WeakMap,Ha=new WeakMap,Wo=new WeakMap,Yo=new WeakMap,qg=new WeakMap,Vg=new WeakMap,Ih=new WeakMap,Qr=new WeakSet,Dl=function(n=m(this,Ih)){const r=m(this,Sx)+n/2*m(this,qg);return m(this,Vg)%180===0?[r/m(this,Wo),r/m(this,Yo)]:[r/m(this,Yo),r/m(this,Wo)]},MY=function(){const[n,r,i,a]=m(this,Mi),[s,o]=F(this,Qr,Dl).call(this,0);return[n+s,r+o,i-2*s,a-2*o]},PY=function(){const n=L(this,Mi,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of m(this,Ha)){if(a.length<=12){for(let u=4,c=a.length;u<c;u+=6)Le.pointBoundingBox(a[u],a[u+1],n);continue}let s=a[4],o=a[5];for(let u=6,c=a.length;u<c;u+=6){const[f,h,g,v,w,E]=a.subarray(u,u+6);Le.bezierBoundingBox(s,o,f,h,g,v,w,E,n),s=w,o=E}}const[r,i]=F(this,Qr,Dl).call(this);n[0]=yi(n[0]-r,0,1),n[1]=yi(n[1]-i,0,1),n[2]=yi(n[2]+r,0,1),n[3]=yi(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},kY=function(n){const[r,i]=F(this,Qr,Dl).call(this);L(this,Ih,n);const[a,s]=F(this,Qr,Dl).call(this),[o,u]=[a-r,s-i],c=m(this,Mi);return c[0]-=o,c[1]-=u,c[2]+=2*o,c[3]+=2*u,c};class NC extends NY{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:un._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new NC(this._viewParameters);return e.updateAll(this),e}}var mA,DY;const mm=class mm extends KE{constructor(n){super({...n,name:"inkEditor"});j(this,mA);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){un.initialize(n,r),this._defaultDrawingOptions=new NC(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return ut(this,"typesMap",new Map([[bt.INK_THICKNESS,"stroke-width"],[bt.INK_COLOR,"stroke"],[bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,a,s){return new sCe(n,r,i,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,a,s,o){return aw.deserialize(n,r,i,a,s,o)}static async deserialize(n,r,i){let a=null;if(n instanceof CI){const{data:{inkLists:o,rect:u,rotation:c,id:f,color:h,opacity:g,borderStyle:{rawWidth:v},popupRef:w,richText:E,contentsObj:A,creationDate:_,modificationDate:M},parent:{page:{pageNumber:R}}}=n;a=n={annotationType:rt.INK,color:Array.from(h),thickness:v,opacity:g,paths:{points:o},boxes:null,pageIndex:R-1,rect:u.slice(0),rotation:c,annotationElementId:f,id:f,deleted:!1,popupRef:w,richText:E,comment:(A==null?void 0:A.str)||null,creationDate:_,modificationDate:M}}const s=await super.deserialize(n,r,i);return s._initialData=a,n.comment&&s.setCommentData(n),s}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new VE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return bt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=mm.getDefaultDrawingOptions({stroke:Le.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":o}}=this,u=Object.assign(super.serialize(n),{color:un._colorManager.convert(a),opacity:s,thickness:o,paths:{lines:r,points:i}});return this.addComment(u),n?(u.isCopy=!0,u):this.annotationElementId&&!F(this,mA,DY).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};mA=new WeakSet,DY=function(n){const{color:r,thickness:i,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((o,u)=>o!==r[u])||n.thickness!==i||n.opacity!==a||n.pageIndex!==s},we(mm,"_type","ink"),we(mm,"_editorType",rt.INK),we(mm,"_defaultDrawingOptions",null);let IP=mm;class LP extends aw{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const JS=8,jv=3;var Lh,Ot,OP,ro,IY,LY,jP,O1,OY,jY,FY,FP,UP,UY;class Zo{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},a,s,o,u){let c=new OffscreenCanvas(1,1),f=c.getContext("2d",{alpha:!1});const h=200,g=f.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:w,actualBoundingBoxAscent:E,actualBoundingBoxDescent:A,fontBoundingBoxAscent:_,fontBoundingBoxDescent:M,width:R}=f.measureText(e),I=1.5,D=Math.ceil(Math.max(Math.abs(v)+Math.abs(w)||0,R)*I),k=Math.ceil(Math.max(Math.abs(E)+Math.abs(A)||h,Math.abs(_)+Math.abs(M)||h)*I);c=new OffscreenCanvas(D,k),f=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,D,k),f.fillStyle="black",f.fillText(e,D*(I-1)/2,k*(3-I)/2);const P=F(this,Ot,FP).call(this,f.getImageData(0,0,D,k).data),B=F(this,Ot,FY).call(this,P),z=F(this,Ot,UP).call(this,B),W=F(this,Ot,jP).call(this,P,D,k,z);return this.processDrawnLines({lines:{curves:W,width:D,height:k},pageWidth:a,pageHeight:s,rotation:o,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,a){const[s,o,u]=F(this,Ot,UY).call(this,e),[c,f]=F(this,Ot,jY).call(this,s,o,u,Math.hypot(o,u)*m(this,Lh).sigmaSFactor,m(this,Lh).sigmaR,m(this,Lh).kernelSize),h=F(this,Ot,UP).call(this,f),g=F(this,Ot,jP).call(this,c,o,u,h);return this.processDrawnLines({lines:{curves:g,width:o,height:u},pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:a,mustSmooth:s,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:u,width:c,height:f}=e,h=e.thickness??0,g=[],v=Math.min(n/c,r/f),w=v/n,E=v/r,A=[];for(const{points:M}of u){const R=s?F(this,Ot,OY).call(this,M):M;if(!R)continue;A.push(R);const I=R.length,D=new Float32Array(I),k=new Float32Array(3*(I===2?2:I-2));if(g.push({line:k,points:D}),I===2){D[0]=R[0]*w,D[1]=R[1]*E,k.set([NaN,NaN,NaN,NaN,D[0],D[1]],0);continue}let[P,B,z,W]=R;P*=w,B*=E,z*=w,W*=E,D.set([P,B,z,W],0),k.set([NaN,NaN,NaN,NaN,P,B],0);for(let U=4;U<I;U+=2){const q=D[U]=R[U]*w,Z=D[U+1]=R[U+1]*E;k.set(Ie.createBezierPoints(P,B,z,W,q,Z),(U-2)*3),[P,B,z,W]=[z,W,q,Z]}}if(g.length===0)return null;const _=o?new LP:new aw;return _.build(g,n,r,1,i,o?0:h,a),{outline:_,newCurves:A,areContours:o,thickness:h,width:c,height:f}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:a}){let s=1/0,o=-1/0,u=0;for(const R of e){u+=R.length;for(let I=2,D=R.length;I<D;I++){const k=R[I]-R[I-2];s=Math.min(s,k),o=Math.max(o,k)}}let c;s>=-128&&o<=127?c=Int8Array:s>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const f=e.length,h=JS+jv*f,g=new Uint32Array(h);let v=0;g[v++]=h*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*c.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=i,g[v++]=a,g[v++]=n?0:1,g[v++]=Math.max(0,Math.floor(r??0)),g[v++]=f,g[v++]=c.BYTES_PER_ELEMENT;for(const R of e)g[v++]=R.length-2,g[v++]=R[0],g[v++]=R[1];const w=new CompressionStream("deflate-raw"),E=w.writable.getWriter();await E.ready,E.write(g);const A=c.prototype.constructor;for(const R of e){const I=new A(R.length-2);for(let D=2,k=R.length;D<k;D++)I[D-2]=R[D]-R[D-2];E.write(I)}E.close();const _=await new Response(w.readable).arrayBuffer(),M=new Uint8Array(_);return LW(M)}static async decompressSignature(e){try{const n=PEe(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),a=i.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,o=0;for await(const R of r)s||(s=new Uint8Array(new Uint32Array(R.buffer,0,4)[0])),s.set(R,o),o+=R.length;const u=new Uint32Array(s.buffer,0,s.length>>2),c=u[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const f=u[2],h=u[3],g=u[4]===0,v=u[5],w=u[6],E=u[7],A=[],_=(JS+jv*w)*Uint32Array.BYTES_PER_ELEMENT;let M;switch(E){case Int8Array.BYTES_PER_ELEMENT:M=new Int8Array(s.buffer,_);break;case Int16Array.BYTES_PER_ELEMENT:M=new Int16Array(s.buffer,_);break;case Int32Array.BYTES_PER_ELEMENT:M=new Int32Array(s.buffer,_);break}o=0;for(let R=0;R<w;R++){const I=u[jv*R+JS],D=new Float32Array(I+2);A.push(D);for(let k=0;k<jv-1;k++)D[k]=u[jv*R+JS+k+1];for(let k=0;k<I;k++)D[k+2]=D[k]+M[o++]}return{areContours:g,thickness:v,outlines:A,width:f,height:h}}catch(n){return it(`decompressSignature: ${n}`),null}}}Lh=new WeakMap,Ot=new WeakSet,OP=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},ro=new WeakMap,IY=function(e,n,r,i,a,s,o){const u=F(this,Ot,OP).call(this,r,i,a,s);for(let c=0;c<8;c++){const f=(-c+u-o+16)%8,h=m(this,ro)[2*f],g=m(this,ro)[2*f+1];if(e[(r+h)*n+(i+g)]!==0)return f}return-1},LY=function(e,n,r,i,a,s,o){const u=F(this,Ot,OP).call(this,r,i,a,s);for(let c=0;c<8;c++){const f=(c+u+o+16)%8,h=m(this,ro)[2*f],g=m(this,ro)[2*f+1];if(e[(r+h)*n+(i+g)]!==0)return f}return-1},jP=function(e,n,r,i){const a=e.length,s=new Int32Array(a);for(let f=0;f<a;f++)s[f]=e[f]<=i?1:0;for(let f=1;f<r-1;f++)s[f*n]=s[f*n+n-1]=0;for(let f=0;f<n;f++)s[f]=s[n*r-1-f]=0;let o=1,u;const c=[];for(let f=1;f<r-1;f++){u=1;for(let h=1;h<n-1;h++){const g=f*n+h,v=s[g];if(v===0)continue;let w=f,E=h;if(v===1&&s[g-1]===0)o+=1,E-=1;else if(v>=1&&s[g+1]===0)o+=1,E+=1,v>1&&(u=v);else{v!==1&&(u=Math.abs(v));continue}const A=[h,f],_=E===h+1,M={isHole:_,points:A,id:o,parent:0};c.push(M);let R;for(const U of c)if(U.id===u){R=U;break}R?R.isHole?M.parent=_?R.parent:u:M.parent=_?u:R.parent:M.parent=_?u:0;const I=F(this,Ot,IY).call(this,s,n,f,h,w,E,0);if(I===-1){s[g]=-o,s[g]!==1&&(u=Math.abs(s[g]));continue}let D=m(this,ro)[2*I],k=m(this,ro)[2*I+1];const P=f+D,B=h+k;w=P,E=B;let z=f,W=h;for(;;){const U=F(this,Ot,LY).call(this,s,n,z,W,w,E,1);D=m(this,ro)[2*U],k=m(this,ro)[2*U+1];const q=z+D,Z=W+k;A.push(Z,q);const V=z*n+W;if(s[V+1]===0?s[V]=-o:s[V]===1&&(s[V]=o),q===f&&Z===h&&z===P&&W===B){s[g]!==1&&(u=Math.abs(s[g]));break}else w=z,E=W,z=q,W=Z}}}return c},O1=function(e,n,r,i){if(r-n<=4){for(let P=n;P<r-2;P+=2)i.push(e[P],e[P+1]);return}const a=e[n],s=e[n+1],o=e[r-4]-a,u=e[r-3]-s,c=Math.hypot(o,u),f=o/c,h=u/c,g=f*s-h*a,v=u/o,w=1/c,E=Math.atan(v),A=Math.cos(E),_=Math.sin(E),M=w*(Math.abs(A)+Math.abs(_)),R=w*(1-M+M**2),I=Math.max(Math.atan(Math.abs(_+A)*R),Math.atan(Math.abs(_-A)*R));let D=0,k=n;for(let P=n+2;P<r-2;P+=2){const B=Math.abs(g-f*e[P+1]+h*e[P]);B>D&&(k=P,D=B)}D>(c*I)**2?(F(this,Ot,O1).call(this,e,n,k+2,i),F(this,Ot,O1).call(this,e,k,r,i)):i.push(a,s)},OY=function(e){const n=[],r=e.length;return F(this,Ot,O1).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},jY=function(e,n,r,i,a,s){const o=new Float32Array(s**2),u=-2*i**2,c=s>>1;for(let E=0;E<s;E++){const A=(E-c)**2;for(let _=0;_<s;_++)o[E*s+_]=Math.exp((A+(_-c)**2)/u)}const f=new Float32Array(256),h=-2*a**2;for(let E=0;E<256;E++)f[E]=Math.exp(E**2/h);const g=e.length,v=new Uint8Array(g),w=new Uint32Array(256);for(let E=0;E<r;E++)for(let A=0;A<n;A++){const _=E*n+A,M=e[_];let R=0,I=0;for(let k=0;k<s;k++){const P=E+k-c;if(!(P<0||P>=r))for(let B=0;B<s;B++){const z=A+B-c;if(z<0||z>=n)continue;const W=e[P*n+z],U=o[k*s+B]*f[Math.abs(W-M)];R+=W*U,I+=U}}const D=v[_]=Math.round(R/I);w[D]++}return[v,w]},FY=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},FP=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,a=1/0;for(let o=0,u=r.length;o<u;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),a=Math.min(a,c)}const s=255/(i-a);for(let o=0,u=r.length;o<u;o++)r[o]=(r[o]-a)*s;return r},UP=function(e){let n,r=-1/0,i=-1/0;const a=e.findIndex(u=>u!==0);let s=a,o=a;for(n=a;n<256;n++){const u=e[n];u>r&&(n-s>i&&(i=n-s,o=n-1),r=u,s=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},UY=function(e){const n=e,{width:r,height:i}=e,{maxDim:a}=m(this,Lh);let s=r,o=i;if(r>a||i>a){let g=r,v=i,w=Math.log2(Math.max(r,i)/a);const E=Math.floor(w);w=w===E?E-1:E;for(let _=0;_<w;_++){s=Math.ceil(g/2),o=Math.ceil(v/2);const M=new OffscreenCanvas(s,o);M.getContext("2d").drawImage(e,0,0,g,v,0,0,s,o),g=s,v=o,e!==n&&e.close(),e=M.transferToImageBitmap()}const A=Math.min(a/s,a/o);s=Math.round(s*A),o=Math.round(o*A)}const c=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,s,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,s,o);const f=c.getImageData(0,0,s,o).data;return[F(this,Ot,FP).call(this,f),s,o]},j(Zo,Ot),j(Zo,Lh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),j(Zo,ro,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class TI extends NY{constructor(){super(),super.updateProperties({fill:un._defaultLineColor,"stroke-width":0})}clone(){const e=new TI;return e.updateAll(this),e}}class NI extends NC{constructor(e){super(e),super.updateProperties({stroke:un._defaultLineColor,"stroke-width":1})}clone(){const e=new NI(this._viewParameters);return e.updateAll(this),e}}var pd,Ko,md,Oh;const _a=class _a extends KE{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});j(this,pd,!1);j(this,Ko,null);j(this,md,null);j(this,Oh,null);this._willKeepAspectRatio=!0,L(this,md,n.signatureData||null),L(this,Ko,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){un.initialize(n,r),this._defaultDrawingOptions=new TI,this._defaultDrawnSignatureOptions=new NI(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return ut(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!m(this,Ko)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(m(this,md)){const{lines:a,mustSmooth:s,areContours:o,description:u,uuid:c,heightInPage:f}=m(this,md),{rawDims:{pageWidth:h,pageHeight:g},rotation:v}=this.parent.viewport,w=Zo.processDrawnLines({lines:a,pageWidth:h,pageHeight:g,rotation:v,innerMargin:_a._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(w,f,u,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:m(this,Ko)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){L(this,Oh,n),this.addEditToolbar()}getUuid(){return m(this,Oh)}get description(){return m(this,Ko)}set description(n){L(this,Ko,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:a,height:s}=m(this,md),o=Math.max(a,s),u=Zo.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:a,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,a){const{x:s,y:o}=this,{outline:u}=L(this,md,n);L(this,pd,u instanceof LP),this.description=i;let c;m(this,pd)?c=_a.getDefaultDrawingOptions():(c=_a._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:c});const[,f]=this.pageDimensions;let h=r/f;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return Zo.process(n,r,i,a,_a._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:a},rotation:s}=this.parent.viewport;return Zo.extractContoursFromText(n,r,i,a,s,_a._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:a}=this.parent.viewport;return Zo.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:a,innerMargin:_a._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=_a.getDefaultDrawingOptions():(this._drawingOptions=_a._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(n),{isSignature:!0,areContours:m(this,pd),color:[0,0,0],thickness:m(this,pd)?0:a});return this.addComment(s),n?(s.paths={lines:r,points:i},s.uuid=m(this,Oh),s.isCopy=!0):s.lines=r,m(this,Ko)&&(s.accessibilityData={type:"Figure",alt:m(this,Ko)}),s}static deserializeDraw(n,r,i,a,s,o){return o.areContours?LP.deserialize(n,r,i,a,s,o):aw.deserialize(n,r,i,a,s,o)}static async deserialize(n,r,i){var s;const a=await super.deserialize(n,r,i);return L(a,pd,n.areContours),a.description=((s=n.accessibilityData)==null?void 0:s.alt)||"",L(a,Oh,n.uuid),a}};pd=new WeakMap,Ko=new WeakMap,md=new WeakMap,Oh=new WeakMap,we(_a,"_type","signature"),we(_a,"_editorType",rt.SIGNATURE),we(_a,"_defaultDrawingOptions",null);let BP=_a;var wn,Pr,gd,fu,yd,Wg,hu,jh,Xo,Ga,Yg,At,l0,u0,j1,F1,U1,HP,B1,BY;class zP extends un{constructor(n){super({...n,name:"stampEditor"});j(this,At);j(this,wn,null);j(this,Pr,null);j(this,gd,null);j(this,fu,null);j(this,yd,null);j(this,Wg,"");j(this,hu,null);j(this,jh,!1);j(this,Xo,null);j(this,Ga,!1);j(this,Yg,!1);L(this,fu,n.bitmapUrl),L(this,yd,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){un.initialize(n,r)}static isHandlingMimeForPasting(n){return zE.includes(n)}static paste(n,r){r.pasteEditor({mode:rt.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=n||this.copyCanvas(null,null,!0).imageData,u=await i.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const c=u.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;m(this,Pr)&&(L(this,wn,null),this._uiManager.imageManager.deleteId(m(this,Pr)),(n=m(this,hu))==null||n.remove(),L(this,hu,null),m(this,Xo)&&(clearTimeout(m(this,Xo)),L(this,Xo,null))),super.remove()}rebuild(){if(!this.parent){m(this,Pr)&&F(this,At,j1).call(this);return}super.rebuild(),this.div!==null&&(m(this,Pr)&&m(this,hu)===null&&F(this,At,j1).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(m(this,gd)||m(this,wn)||m(this,fu)||m(this,yd)||m(this,Pr)||m(this,jh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),m(this,jh)||(m(this,wn)?F(this,At,F1).call(this):F(this,At,j1).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:a}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(L(this,Pr,i),a&&L(this,wn,a),L(this,jh,!1),F(this,At,F1).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;m(this,Xo)!==null&&clearTimeout(m(this,Xo)),L(this,Xo,setTimeout(()=>{L(this,Xo,null),F(this,At,HP).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:a,height:s}=m(this,wn),o=new go;let u=m(this,wn),c=a,f=s,h=null;if(r){if(a>r||s>r){const P=Math.min(r/a,r/s);c=Math.floor(a*P),f=Math.floor(s*P)}h=document.createElement("canvas");const v=h.width=Math.ceil(c*o.sx),w=h.height=Math.ceil(f*o.sy);m(this,Ga)||(u=F(this,At,U1).call(this,v,w));const E=h.getContext("2d");E.filter=this._uiManager.hcmFilter;let A="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":IEe.isDarkMode&&(A="#8f8f9d",_="#42414d");const M=15,R=M*o.sx,I=M*o.sy,D=new OffscreenCanvas(R*2,I*2),k=D.getContext("2d");k.fillStyle=A,k.fillRect(0,0,R*2,I*2),k.fillStyle=_,k.fillRect(0,0,R,I),k.fillRect(R,I,R,I),E.fillStyle=E.createPattern(D,"repeat"),E.fillRect(0,0,v,w),E.drawImage(u,0,0,u.width,u.height,0,0,v,w)}let g=null;if(i){let v,w;if(o.symmetric&&u.width<n&&u.height<n)v=u.width,w=u.height;else if(u=m(this,wn),a>n||s>n){const _=Math.min(n/a,n/s);v=Math.floor(a*_),w=Math.floor(s*_),m(this,Ga)||(u=F(this,At,U1).call(this,v,w))}const A=new OffscreenCanvas(v,w).getContext("2d",{willReadFrequently:!0});A.drawImage(u,0,0,u.width,u.height,0,0,v,w),g={width:v,height:w,data:A.getImageData(0,0,v,w).data}}return{canvas:h,width:c,height:f,imageData:g}}static async deserialize(n,r,i){var A;let a=null,s=!1;if(n instanceof nY){const{data:{rect:_,rotation:M,id:R,structParent:I,popupRef:D,richText:k,contentsObj:P,creationDate:B,modificationDate:z},container:W,parent:{page:{pageNumber:U}},canvas:q}=n;let Z,V;q?(delete n.canvas,{id:Z,bitmap:V}=i.imageManager.getFromCanvas(W.id,q),q.remove()):(s=!0,n._hasNoCanvas=!0);const Q=((A=await r._structTree.getAriaAttributes(`${gI}${R}`))==null?void 0:A.get("aria-label"))||"";a=n={annotationType:rt.STAMP,bitmapId:Z,bitmap:V,pageIndex:U-1,rect:_.slice(0),rotation:M,annotationElementId:R,id:R,deleted:!1,accessibilityData:{decorative:!1,altText:Q},isSvg:!1,structParent:I,popupRef:D,richText:k,comment:(P==null?void 0:P.str)||null,creationDate:B,modificationDate:z}}const o=await super.deserialize(n,r,i),{rect:u,bitmap:c,bitmapUrl:f,bitmapId:h,isSvg:g,accessibilityData:v}=n;s?(i.addMissingCanvas(n.id,o),L(o,jh,!0)):h&&i.imageManager.isValidId(h)?(L(o,Pr,h),c&&L(o,wn,c)):L(o,fu,f),L(o,Ga,g);const[w,E]=o.pageDimensions;return o.width=(u[2]-u[0])/w,o.height=(u[3]-u[1])/E,v&&(o.altTextData=v),o._initialData=a,n.comment&&o.setCommentData(n),L(o,Yg,!!a),o}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:m(this,Pr),isSvg:m(this,Ga)});if(this.addComment(i),n)return i.bitmapUrl=F(this,At,B1).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const u=F(this,At,BY).call(this,i);return u.isSame?null:(u.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=m(this,Ga)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(m(this,Pr)))r.stamps.set(m(this,Pr),{area:o,serialized:i}),i.bitmap=F(this,At,B1).call(this,!1);else if(m(this,Ga)){const u=r.stamps.get(m(this,Pr));o>u.area&&(u.area=o,u.serialized.bitmap.close(),u.serialized.bitmap=F(this,At,B1).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}wn=new WeakMap,Pr=new WeakMap,gd=new WeakMap,fu=new WeakMap,yd=new WeakMap,Wg=new WeakMap,hu=new WeakMap,jh=new WeakMap,Xo=new WeakMap,Ga=new WeakMap,Yg=new WeakMap,At=new WeakSet,l0=function(n,r=!1){if(!n){this.remove();return}L(this,wn,n.bitmap),r||(L(this,Pr,n.id),L(this,Ga,n.isSvg)),n.file&&L(this,Wg,n.file.name),F(this,At,F1).call(this)},u0=function(){if(L(this,gd,null),this._uiManager.enableWaiting(!1),!!m(this,hu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,wn)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,wn)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},j1=function(){if(m(this,Pr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,Pr)).then(i=>F(this,At,l0).call(this,i,!0)).finally(()=>F(this,At,u0).call(this));return}if(m(this,fu)){const i=m(this,fu);L(this,fu,null),this._uiManager.enableWaiting(!0),L(this,gd,this._uiManager.imageManager.getFromUrl(i).then(a=>F(this,At,l0).call(this,a)).finally(()=>F(this,At,u0).call(this)));return}if(m(this,yd)){const i=m(this,yd);L(this,yd,null),this._uiManager.enableWaiting(!0),L(this,gd,this._uiManager.imageManager.getFromFile(i).then(a=>F(this,At,l0).call(this,a)).finally(()=>F(this,At,u0).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=zE.join(",");const r=this._uiManager._signal;L(this,gd,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),F(this,At,l0).call(this,a)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>F(this,At,u0).call(this))),n.click()},F1=function(){var c;const{div:n}=this;let{width:r,height:i}=m(this,wn);const[a,s]=this.pageDimensions,o=.75;if(this.width)r=this.width*a,i=this.height*s;else if(r>o*a||i>o*s){const f=Math.min(o*a/r,o*s/i);r*=f,i*=f}this._uiManager.enableWaiting(!1);const u=L(this,hu,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=r/a,this.height=i/s,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),F(this,At,HP).call(this),m(this,Yg)||(this.parent.addUndoableEditor(this),L(this,Yg,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Wg)&&this.div.setAttribute("aria-description",m(this,Wg)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},U1=function(n,r){const{width:i,height:a}=m(this,wn);let s=i,o=a,u=m(this,wn);for(;s>2*n||o>2*r;){const c=s,f=o;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(s,o);h.getContext("2d").drawImage(u,0,0,c,f,0,0,s,o),u=h.transferToImageBitmap()}return u},HP=function(){const[n,r]=this.parentDimensions,{width:i,height:a}=this,s=new go,o=Math.ceil(i*n*s.sx),u=Math.ceil(a*r*s.sy),c=m(this,hu);if(!c||c.width===o&&c.height===u)return;c.width=o,c.height=u;const f=m(this,Ga)?m(this,wn):F(this,At,U1).call(this,o,u),h=c.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(f,0,0,f.width,f.height,0,0,o,u)},B1=function(n){if(n){if(m(this,Ga)){const a=this._uiManager.imageManager.getSvgUrl(m(this,Pr));if(a)return a}const r=document.createElement("canvas");return{width:r.width,height:r.height}=m(this,wn),r.getContext("2d").drawImage(m(this,wn),0,0),r.toDataURL()}if(m(this,Ga)){const[r,i]=this.pageDimensions,a=Math.round(this.width*r*Ou.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*Ou.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(m(this,wn),0,0,m(this,wn).width,m(this,wn).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(m(this,wn))},BY=function(n){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,a=n.pageIndex===r,s=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}},we(zP,"_type","stamp"),we(zP,"_editorType",rt.STAMP);var Fh,Kg,vd,bd,pu,sa,xd,Xg,Jg,io,mu,kr,gu,wd,Qg,He,Sd,an,GP,zY,_o,$P,qP,z1;const Ws=class Ws{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:u,viewport:c,l10n:f}){j(this,an);j(this,Fh);j(this,Kg,!1);j(this,vd,null);j(this,bd,null);j(this,pu,null);j(this,sa,new Map);j(this,xd,!1);j(this,Xg,!1);j(this,Jg,!1);j(this,io,null);j(this,mu,null);j(this,kr,null);j(this,gu,null);j(this,wd,null);j(this,Qg,-1);j(this,He);const h=[...m(Ws,Sd).values()];if(!Ws._initialized){Ws._initialized=!0;for(const g of h)g.initialize(f,e)}e.registerEditorTypes(h),L(this,He,e),this.pageIndex=n,this.div=r,L(this,Fh,a),L(this,vd,s),this.viewport=c,L(this,kr,u),this.drawLayer=o,this._structTree=i,m(this,He).addLayer(this)}get isEmpty(){return m(this,sa).size===0}get isInvisible(){return this.isEmpty&&m(this,He).getMode()===rt.NONE}updateToolbar(e){m(this,He).updateToolbar(e)}updateMode(e=m(this,He).getMode()){switch(F(this,an,z1).call(this),e){case rt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case rt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case rt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===rt.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of m(Ws,Sd).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=m(this,kr))==null?void 0:n.div)}setEditingState(e){m(this,He).setEditingState(e)}addCommands(e){m(this,He).addCommands(e)}cleanUndoStack(e){m(this,He).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=m(this,vd))==null||n.div.classList.toggle("disabled",!e)}async enable(){var r;L(this,Jg,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=m(this,wd))==null||r.abort(),L(this,wd,null);const e=new Set;for(const i of m(this,an,GP))i.enableEditing(),i.show(!0),i.annotationElementId&&(m(this,He).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=m(this,vd);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),m(this,He).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const a=await this.deserialize(i);a&&(this.addOrRebuild(a),a.enableEditing())}L(this,Jg,!1),m(this,He)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(L(this,Xg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),m(this,kr)&&!m(this,wd)){L(this,wd,new AbortController);const i=m(this,He).combinedSignal(m(this,wd));m(this,kr).div.addEventListener("pointerdown",a=>{const{clientX:o,clientY:u,timeStamp:c}=a,f=m(this,Qg);if(c-f>500){L(this,Qg,c);return}L(this,Qg,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const g=document.elementsFromPoint(o,u);if(h.toggle("getElements",!1),!this.div.contains(g[0]))return;let v;const w=new RegExp(`^${O0}[0-9]+$`);for(const A of g)if(w.test(A.id)){v=A.id;break}if(!v)return;const E=m(this,sa).get(v);(E==null?void 0:E.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),E.dblclick(a))},{signal:i,capture:!0})}const e=m(this,vd);if(e){const i=new Map,a=new Map;for(const o of m(this,an,GP)){if(o.disableEditing(),!o.annotationElementId){o.updateFakeAnnotationElement(e);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else a.set(o.annotationElementId,o);(r=this.getEditableAnnotation(o.annotationElementId))==null||r.show(),o.remove()}const s=e.getEditableAnnotations();for(const o of s){const{id:u}=o.data;if(m(this,He).isDeletedAnnotationElement(u)){o.updateEdited({deleted:!0});continue}let c=a.get(u);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(u),c&&(m(this,He).addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}F(this,an,z1).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of m(Ws,Sd).values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),L(this,Xg,!1)}getEditableAnnotation(e){var n;return((n=m(this,vd))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,He).getActive()!==e&&m(this,He).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,kr))!=null&&e.div&&!m(this,gu)){L(this,gu,new AbortController);const n=m(this,He).combinedSignal(m(this,gu));m(this,kr).div.addEventListener("pointerdown",F(this,an,zY).bind(this),{signal:n}),m(this,kr).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,kr))!=null&&e.div&&m(this,gu)&&(m(this,gu).abort(),L(this,gu,null),m(this,kr).div.classList.remove("highlighting"))}enableClick(){if(m(this,bd))return;L(this,bd,new AbortController);const e=m(this,He).combinedSignal(m(this,bd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=m(this,bd))==null||e.abort(),L(this,bd,null)}attach(e){m(this,sa).set(e.id,e);const{annotationElementId:n}=e;n&&m(this,He).isDeletedAnnotationElement(n)&&m(this,He).removeDeletedAnnotationElement(e)}detach(e){var n;m(this,sa).delete(e.id),(n=m(this,Fh))==null||n.removePointerInTextLayer(e.contentDiv),!m(this,Xg)&&e.annotationElementId&&m(this,He).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,He).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,He).addDeletedAnnotationElement(e.annotationElementId),un.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,He).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!m(this,Jg)),m(this,He).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!m(this,pu)&&(e._focusEventsAllowed=!1,L(this,pu,setTimeout(()=>{L(this,pu,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,He)._signal}),n.focus())},0))),e._structTreeParentId=(r=m(this,Fh))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of m(this,sa).values())if(n.uid===e)return n;return null}getNextId(){return m(this,He).getId()}combinedSignal(e){return m(this,He).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,an,_o))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await m(this,He).updateMode(e.mode);const{offsetX:r,offsetY:i}=F(this,an,qP).call(this),a=this.getNextId(),s=F(this,an,$P).call(this,{parent:this,id:a,x:r,y:i,uiManager:m(this,He),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=m(Ws,Sd).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,m(this,He)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),a=F(this,an,$P).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,He),isCentered:n,...r});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(F(this,an,qP).call(this),!0,e)}setSelected(e){m(this,He).setSelected(e)}toggleSelected(e){m(this,He).toggleSelected(e)}unselect(e){m(this,He).unselect(e)}pointerup(e){var i;const{isMac:n}=Or.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!m(this,xd)||(L(this,xd,!1),(i=m(this,an,_o))!=null&&i.isDrawer&&m(this,an,_o).supportMultipleDrawings))return;if(!m(this,Kg)){L(this,Kg,!0);return}const r=m(this,He).getMode();if(r===rt.STAMP||r===rt.SIGNATURE){m(this,He).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(m(this,He).getMode()===rt.HIGHLIGHT&&this.enableTextSelection(),m(this,xd)){L(this,xd,!1);return}const{isMac:n}=Or.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(L(this,xd,!0),(i=m(this,an,_o))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=m(this,He).getActive();L(this,Kg,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),m(this,io)){m(this,an,_o).startDrawing(this,m(this,He),!1,e);return}m(this,He).setCurrentDrawingSession(this),L(this,io,new AbortController);const n=m(this,He).combinedSignal(m(this,io));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(L(this,mu,null),this.commitOrRemove())},{signal:n}),m(this,an,_o).startDrawing(this,m(this,He),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&L(this,mu,n);return}m(this,mu)&&setTimeout(()=>{var n;(n=m(this,mu))==null||n.focus(),L(this,mu,null)},0)}endDrawingSession(e=!1){return m(this,io)?(m(this,He).setCurrentDrawingSession(null),m(this,io).abort(),L(this,io,null),L(this,mu,null),m(this,an,_o).endDrawing(e)):null}findNewParent(e,n,r){const i=m(this,He).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return m(this,io)?(this.endDrawingSession(),!0):!1}onScaleChanging(){m(this,io)&&m(this,an,_o).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=m(this,He).getActive())==null?void 0:e.parent)===this&&(m(this,He).commitOrRemove(),m(this,He).setActiveEditor(null)),m(this,pu)&&(clearTimeout(m(this,pu)),L(this,pu,null));for(const r of m(this,sa).values())(n=m(this,Fh))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,m(this,sa).clear(),m(this,He).removeLayer(this)}render({viewport:e}){this.viewport=e,Dd(this.div,e);for(const n of m(this,He).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){m(this,He).commitOrRemove(),F(this,an,z1).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Dd(this.div,{rotation:r}),n!==r)for(const i of m(this,sa).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return m(this,He).viewParameters.realScale}};Fh=new WeakMap,Kg=new WeakMap,vd=new WeakMap,bd=new WeakMap,pu=new WeakMap,sa=new WeakMap,xd=new WeakMap,Xg=new WeakMap,Jg=new WeakMap,io=new WeakMap,mu=new WeakMap,kr=new WeakMap,gu=new WeakMap,wd=new WeakMap,Qg=new WeakMap,He=new WeakMap,Sd=new WeakMap,an=new WeakSet,GP=function(){return m(this,sa).size!==0?m(this,sa).values():m(this,He).getEditors(this.pageIndex)},zY=function(e){m(this,He).unselectAll();const{target:n}=e;if(n===m(this,kr).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&m(this,kr).div.contains(n)){const{isMac:r}=Or.platform;if(e.button!==0||e.ctrlKey&&r)return;m(this,He).showAllEditors("highlight",!0,!0),m(this,kr).div.classList.add("free"),this.toggleDrawing(),YE.startHighlighting(this,m(this,He).direction==="ltr",{target:m(this,kr).div,x:e.x,y:e.y}),m(this,kr).div.addEventListener("pointerup",()=>{m(this,kr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,He)._signal}),e.preventDefault()}},_o=function(){return m(Ws,Sd).get(m(this,He).getMode())},$P=function(e){const n=m(this,an,_o);return n?new n.prototype.constructor(e):null},qP=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,a=Math.max(0,e),s=Math.max(0,n),o=Math.min(window.innerWidth,e+r),u=Math.min(window.innerHeight,n+i),c=(a+o)/2-e,f=(s+u)/2-n,[h,g]=this.viewport.rotation%180===0?[c,f]:[f,c];return{offsetX:h,offsetY:g}},z1=function(){for(const e of m(this,sa).values())e.isEmpty()&&e.remove()},we(Ws,"_initialized",!1),j(Ws,Sd,new Map([AP,IP,zP,YE,BP].map(e=>[e._editorType,e])));let XE=Ws;var ao,Pi,Uh,Ex,gA,HY,ll,VP,GY,WP;const cr=class cr{constructor({pageIndex:e}){j(this,ll);j(this,ao,null);j(this,Pi,new Map);j(this,Uh,new Map);this.pageIndex=e}setParent(e){if(!m(this,ao)){L(this,ao,e);return}if(m(this,ao)!==e){if(m(this,Pi).size>0)for(const n of m(this,Pi).values())n.remove(),e.append(n);L(this,ao,e)}}static get _svgFactory(){return ut(this,"_svgFactory",new G0)}draw(e,n=!1,r=!1){const i=ur(cr,Ex)._++,a=F(this,ll,VP).call(this),s=cr._svgFactory.createElement("defs");a.append(s);const o=cr._svgFactory.createElement("path");s.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("vector-effect","non-scaling-stroke"),n&&m(this,Uh).set(i,o);const c=r?F(this,ll,GY).call(this,s,u):null,f=cr._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(a,e),m(this,Pi).set(i,a),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=ur(cr,Ex)._++,i=F(this,ll,VP).call(this),a=cr._svgFactory.createElement("defs");i.append(a);const s=cr._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${r}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let u;if(n){const h=cr._svgFactory.createElement("mask");a.append(h),u=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",u),h.setAttribute("maskUnits","objectBoundingBox");const g=cr._svgFactory.createElement("rect");h.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=cr._svgFactory.createElement("use");h.append(v),v.setAttribute("href",`#${o}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const c=cr._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),u&&c.setAttribute("mask",`url(#${u})`);const f=c.cloneNode();return i.append(f),c.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),m(this,Pi).set(r,i),r}finalizeDraw(e,n){m(this,Uh).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var u;if(!n)return;const{root:r,bbox:i,rootClass:a,path:s}=n,o=typeof e=="number"?m(this,Pi).get(e):e;if(o){if(r&&F(this,ll,WP).call(this,o,r),i&&F(u=cr,gA,HY).call(u,o,i),a){const{classList:c}=o;for(const[f,h]of Object.entries(a))c.toggle(f,h)}if(s){const f=o.firstChild.firstChild;F(this,ll,WP).call(this,f,s)}}}updateParent(e,n){if(n===this)return;const r=m(this,Pi).get(e);r&&(m(n,ao).append(r),m(this,Pi).delete(e),m(n,Pi).set(e,r))}remove(e){m(this,Uh).delete(e),m(this,ao)!==null&&(m(this,Pi).get(e).remove(),m(this,Pi).delete(e))}destroy(){L(this,ao,null);for(const e of m(this,Pi).values())e.remove();m(this,Pi).clear(),m(this,Uh).clear()}};ao=new WeakMap,Pi=new WeakMap,Uh=new WeakMap,Ex=new WeakMap,gA=new WeakSet,HY=function(e,[n,r,i,a]){const{style:s}=e;s.top=`${100*r}%`,s.left=`${100*n}%`,s.width=`${100*i}%`,s.height=`${100*a}%`},ll=new WeakSet,VP=function(){const e=cr._svgFactory.create(1,1,!0);return m(this,ao).append(e),e.setAttribute("aria-hidden",!0),e},GY=function(e,n){const r=cr._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const a=cr._svgFactory.createElement("use");return r.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),i},WP=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},j(cr,gA),j(cr,Ex,0);let JE=cr;globalThis._pdfjsTestingUtils={HighlightOutliner:_P};globalThis.pdfjsLib={AbortException:Lu,AnnotationEditorLayer:XE,AnnotationEditorParamsType:bt,AnnotationEditorType:rt,AnnotationEditorUIManager:Id,AnnotationLayer:_I,AnnotationMode:Qo,AnnotationType:$n,applyOpacity:BW,build:$7,ColorPicker:H0,createValidAbsoluteUrl:hI,CSSConstants:UW,DOMSVGFactory:G0,DrawLayer:JE,FeatureTest:Or,fetchData:Ty,findContrastColor:zW,getDocument:SI,getFilenameFromUrl:OW,getPdfFilenameFromUrl:jW,getRGB:Ny,getUuid:mI,getXfaPageViewport:FW,GlobalWorkerOptions:Rs,ImageKind:p0,InvalidPDFException:BE,isDataScheme:nw,isPdfFile:_C,isValidExplicitDest:x7,MathClamp:yi,noContextMenu:Za,normalizeUnicode:IW,OPS:ly,OutputScale:go,PasswordResponses:kW,PDFDataRangeTransport:EI,PDFDateString:U0,PDFWorker:uy,PermissionFlag:PW,PixelsPerInch:Ou,RenderingCancelledException:CC,renderRichText:vI,ResponseException:j0,setLayerDimensions:Dd,shadow:ut,SignatureExtractor:Zo,stopEvent:Nn,SupportedImageMimeTypes:zE,TextLayer:z0,TouchManager:B0,updateUrlHash:pI,Util:Le,VerbosityLevel:Zx,version:G7,XfaLayer:yI};const oCe=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Lu,AnnotationEditorLayer:XE,AnnotationEditorParamsType:bt,AnnotationEditorType:rt,AnnotationEditorUIManager:Id,AnnotationLayer:_I,AnnotationMode:Qo,AnnotationType:$n,CSSConstants:UW,ColorPicker:H0,DOMSVGFactory:G0,DrawLayer:JE,FeatureTest:Or,GlobalWorkerOptions:Rs,ImageKind:p0,InvalidPDFException:BE,MathClamp:yi,OPS:ly,OutputScale:go,PDFDataRangeTransport:EI,PDFDateString:U0,PDFWorker:uy,PasswordResponses:kW,PermissionFlag:PW,PixelsPerInch:Ou,RenderingCancelledException:CC,ResponseException:j0,SignatureExtractor:Zo,SupportedImageMimeTypes:zE,TextLayer:z0,TouchManager:B0,Util:Le,VerbosityLevel:Zx,XfaLayer:yI,applyOpacity:BW,build:$7,createValidAbsoluteUrl:hI,fetchData:Ty,findContrastColor:zW,getDocument:SI,getFilenameFromUrl:OW,getPdfFilenameFromUrl:jW,getRGB:Ny,getUuid:mI,getXfaPageViewport:FW,isDataScheme:nw,isPdfFile:_C,isValidExplicitDest:x7,noContextMenu:Za,normalizeUnicode:IW,renderRichText:vI,setLayerDimensions:Dd,shadow:ut,stopEvent:Nn,updateUrlHash:pI,version:G7},Symbol.toStringTag,{value:"Module"}));var EH=Object.prototype.hasOwnProperty;function AH(t,e,n){for(n of t.keys())if(Cm(n,e))return n}function Cm(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Cm(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=AH(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=AH(e,i),!i)||!Cm(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(EH.call(t,n)&&++r&&!EH.call(e,n)||!(n in e)||!Cm(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function sw(t){let e=!1;return{promise:new Promise((r,i)=>{t.then(a=>!e&&r(a)).catch(a=>!e&&i(a))}),cancel(){e=!0}}}const lCe=["onCopy","onCut","onPaste"],uCe=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],cCe=["onFocus","onBlur"],dCe=["onInput","onInvalid","onReset","onSubmit"],fCe=["onLoad","onError"],hCe=["onKeyDown","onKeyPress","onKeyUp"],pCe=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mCe=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],gCe=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],yCe=["onSelect"],vCe=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],bCe=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],xCe=["onScroll"],wCe=["onWheel"],SCe=["onAnimationStart","onAnimationEnd","onAnimationIteration"],ECe=["onTransitionEnd"],ACe=["onToggle"],CCe=["onChange"],_Ce=[...lCe,...uCe,...cCe,...dCe,...fCe,...hCe,...pCe,...mCe,...gCe,...yCe,...vCe,...bCe,...xCe,...wCe,...SCe,...ECe,...CCe,...ACe];function $Y(t,e){const n={};for(const r of _Ce){const i=t[r];i&&(e?n[r]=(a=>i(a,e(r))):n[r]=i)}return n}var X2,CH;function TCe(){if(CH)return X2;CH=1;var t=function(){};return X2=t,X2}var NCe=TCe();const wi=vo(NCe),qY=T.createContext(null),RCe="noopener noreferrer nofollow";class MCe{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return rn(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){rn(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,n,r){e.href=n,e.rel=this.externalLinkRel||RCe,e.target=r?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(n=>{rn(this.pdfDocument),rn(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(n):Array.isArray(e)?n(e):e.then(n)}).then(n=>{rn(Array.isArray(n));const r=n[0];new Promise(i=>{rn(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(a=>{i(a)}).catch(()=>{rn(!1)}):typeof r=="number"?i(r):rn(!1)}).then(i=>{const a=i+1;rn(this.pdfViewer),rn(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:a})})})}goToPage(e){const n=e-1;rn(this.pdfViewer),rn(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function _m({children:t,type:e}){return y.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const _H={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function PCe(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function cy(){return T.useReducer(PCe,{value:void 0,error:void 0})}const RC=typeof window<"u",VY=RC&&window.location.protocol==="file:";function kCe(t){return typeof t<"u"}function pf(t){return kCe(t)&&t!==null}function DCe(t){return typeof t=="string"}function ICe(t){return t instanceof ArrayBuffer}function LCe(t){return rn(RC),t instanceof Blob}function YP(t){return DCe(t)&&/^data:/.test(t)}function TH(t){rn(YP(t));const[e="",n=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function OCe(){return RC&&window.devicePixelRatio||1}const WY="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function NH(){wi(!VY,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${WY}`)}function jCe(){wi(!VY,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${WY}`)}function Qh(t){t!=null&&t.cancel&&t.cancel()}function KP(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function FCe(t){return t.name==="RenderingCancelledException"}function UCe(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));e(r.result)},r.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return n(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(t)})}const{PDFDataRangeTransport:BCe}=oCe,zCe=(t,e)=>{switch(e){case _H.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");t(n);break}case _H.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");t(n);break}}};function RH(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const HCe=T.forwardRef(function({children:e,className:n,error:r="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:a,file:s,inputRef:o,imageResourcesPath:u,loading:c="Loading PDF",noData:f="No PDF file specified.",onItemClick:h,onLoadError:g,onLoadProgress:v,onLoadSuccess:w,onPassword:E=zCe,onSourceError:A,onSourceSuccess:_,options:M,renderMode:R,rotate:I,scale:D,...k},P){const[B,z]=cy(),{value:W,error:U}=B,[q,Z]=cy(),{value:V,error:Q}=q,H=T.useRef(new MCe),$=T.useRef([]),J=T.useRef(void 0),ae=T.useRef(void 0);s&&s!==J.current&&RH(s)&&(wi(!Cm(s,J.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),J.current=s),M&&M!==ae.current&&(wi(!Cm(M,ae.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ae.current=M);const Se=T.useRef({scrollPageIntoView:be=>{const{dest:ve,pageNumber:Te,pageIndex:Be=Te-1}=be;if(h){h({dest:ve,pageIndex:Be,pageNumber:Te});return}const St=$.current[Be];if(St){St.scrollIntoView();return}wi(!1,`An internal link leading to page ${Te} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});T.useImperativeHandle(P,()=>({linkService:H,pages:$,viewer:Se}),[]);function Y(){_&&_()}function te(){U&&(wi(!1,U.toString()),A&&A(U))}function ce(){z({type:"RESET"})}T.useEffect(ce,[s,z]);const me=T.useCallback(async()=>{if(!s)return null;if(typeof s=="string")return YP(s)?{data:TH(s)}:(NH(),{url:s});if(s instanceof BCe)return{range:s};if(ICe(s))return{data:s};if(RC&&LCe(s))return{data:await UCe(s)};if(rn(typeof s=="object"),rn(RH(s)),"url"in s&&typeof s.url=="string"){if(YP(s.url)){const{url:be,...ve}=s;return{data:TH(be),...ve}}NH()}return s},[s]);T.useEffect(()=>{const be=sw(me());return be.promise.then(ve=>{z({type:"RESOLVE",value:ve})}).catch(ve=>{z({type:"REJECT",error:ve})}),()=>{Qh(be)}},[me,z]),T.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){te();return}Y()}},[W]);function Ee(){V&&(w&&w(V),$.current=new Array(V.numPages),H.current.setDocument(V))}function Me(){Q&&(wi(!1,Q.toString()),g&&g(Q))}T.useEffect(function(){Z({type:"RESET"})},[Z,W]),T.useEffect(function(){if(!W)return;const ve=M?{...W,...M}:W,Te=SI(ve);v&&(Te.onProgress=v),E&&(Te.onPassword=E);const Be=Te,St=Be.promise.then(dn=>{Z({type:"RESOLVE",value:dn})}).catch(dn=>{Be.destroyed||Z({type:"REJECT",error:dn})});return()=>{St.finally(()=>Be.destroy())}},[M,Z,W]),T.useEffect(()=>{if(!(typeof V>"u")){if(V===!1){Me();return}Ee()}},[V]),T.useEffect(function(){H.current.setViewer(Se.current),H.current.setExternalLinkRel(i),H.current.setExternalLinkTarget(a)},[i,a]);const Ce=T.useCallback((be,ve)=>{$.current[be]=ve},[]),ft=T.useCallback(be=>{delete $.current[be]},[]),fe=T.useMemo(()=>({imageResourcesPath:u,linkService:H.current,onItemClick:h,pdf:V,registerPage:Ce,renderMode:R,rotate:I,scale:D,unregisterPage:ft}),[u,h,V,Ce,R,I,D,ft]),Re=T.useMemo(()=>$Y(k,()=>V),[k,V]);function Ke(){function be(Te){return!!(Te!=null&&Te.pdf)}if(!be(fe))throw new Error("pdf is undefined");const ve=typeof e=="function"?e(fe):e;return y.jsx(qY.Provider,{value:fe,children:ve})}function ne(){return s?V==null?y.jsx(_m,{type:"loading",children:typeof c=="function"?c():c}):V===!1?y.jsx(_m,{type:"error",children:typeof r=="function"?r():r}):Ke():y.jsx(_m,{type:"no-data",children:typeof f=="function"?f():f})}return y.jsx("div",{className:Gt("react-pdf__Document",n),ref:o,...Re,children:ne()})});function YY(){return T.useContext(qY)}function KY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);if(n.length<=1){var r=n[0];return r||null}return function(a){for(var s=0,o=n;s<o.length;s++){var u=o[s];typeof u=="function"?u(a):u&&(u.current=a)}}}const XY=T.createContext(null);function MC(){return T.useContext(XY)}function GCe(){const t=YY(),e=MC();rn(e);const n={...t,...e},{imageResourcesPath:r,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:u,page:c,pdf:f,renderForms:h,rotate:g,scale:v=1}=n;rn(f),rn(c),rn(i);const[w,E]=cy(),{value:A,error:_}=w,M=T.useRef(null);wi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){A&&s&&s(A)}function I(){_&&(wi(!1,_.toString()),a&&a(_))}T.useEffect(function(){E({type:"RESET"})},[E,c]),T.useEffect(function(){if(!c)return;const z=sw(c.getAnnotations()),W=z;return z.promise.then(U=>{E({type:"RESOLVE",value:U})}).catch(U=>{E({type:"REJECT",error:U})}),()=>{Qh(W)}},[E,c]),T.useEffect(()=>{if(A!==void 0){if(A===!1){I();return}R()}},[A]);function D(){u&&u()}function k(B){wi(!1,`${B}`),o&&o(B)}const P=T.useMemo(()=>c.getViewport({scale:v,rotation:g}),[c,g,v]);return T.useEffect(function(){if(!f||!c||!i||!A)return;const{current:z}=M;if(!z)return;const W=P.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:f.annotationStorage,commentManager:null,div:z,l10n:null,linkService:i,page:c,structTreeLayer:null,viewport:W},q={annotations:A,annotationStorage:f.annotationStorage,div:z,imageResourcesPath:r,linkService:i,page:c,renderForms:h,viewport:W};z.innerHTML="";try{new _I(U).render(q),D()}catch(Z){k(Z)}return()=>{}},[A,r,i,c,f,h,P]),y.jsx("div",{className:Gt("react-pdf__Page__annotations","annotationLayer"),ref:M})}const JY={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},$Ce=/^H(\d+)$/;function qCe(t){return t in JY}function PC(t){return"children"in t}function QY(t){return PC(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function VCe(t){const e={};if(PC(t)){const{role:n}=t,r=n.match($Ce);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(qCe(n)){const i=JY[n];i&&(e.role=i)}}return e}function ZY(t){const e={};if(PC(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),QY(t)){const[n]=t.children;if(n){const r=ZY(n);return{...e,...r}}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function WCe(t){return t?{...VCe(t),...ZY(t)}:null}function eK({className:t,node:e}){const n=T.useMemo(()=>WCe(e),[e]),r=T.useMemo(()=>!PC(e)||QY(e)?null:e.children.map((i,a)=>y.jsx(eK,{node:i},a)),[e]);return y.jsx("span",{className:t,...n,children:r})}function YCe(){const t=MC();rn(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[r,i]=cy(),{value:a,error:s}=r,{customTextRenderer:o,page:u}=t;function c(){a&&n&&n(a)}function f(){s&&(wi(!1,s.toString()),e&&e(s))}return T.useEffect(function(){i({type:"RESET"})},[i,u]),T.useEffect(function(){if(o||!u)return;const g=sw(u.getStructTree()),v=g;return g.promise.then(w=>{i({type:"RESOLVE",value:w})}).catch(w=>{i({type:"REJECT",error:w})}),()=>Qh(v)},[o,u,i]),T.useEffect(()=>{if(a!==void 0){if(a===!1){f();return}c()}},[a]),a?y.jsx(eK,{className:"react-pdf__Page__structTree structTree",node:a}):null}const MH=Qo;function KCe(t){const e=MC();rn(e);const n={...e,...t},{_className:r,canvasBackground:i,devicePixelRatio:a=OCe(),onRenderError:s,onRenderSuccess:o,page:u,renderForms:c,renderTextLayer:f,rotate:h,scale:g}=n,{canvasRef:v}=t;rn(u);const w=T.useRef(null);function E(){u&&o&&o(KP(u,g))}function A(I){FCe(I)||(wi(!1,I.toString()),s&&s(I))}const _=T.useMemo(()=>u.getViewport({scale:g*a,rotation:h}),[a,u,h,g]),M=T.useMemo(()=>u.getViewport({scale:g,rotation:h}),[u,h,g]);T.useEffect(function(){if(!u)return;u.cleanup();const{current:D}=w;if(!D)return;D.width=_.width,D.height=_.height,D.style.width=`${Math.floor(M.width)}px`,D.style.height=`${Math.floor(M.height)}px`,D.style.visibility="hidden";const k={annotationMode:c?MH.ENABLE_FORMS:MH.ENABLE,canvas:D,canvasContext:D.getContext("2d",{alpha:!1}),viewport:_};i&&(k.background=i);const P=u.render(k),B=P;return P.promise.then(()=>{D.style.visibility="",E()}).catch(A),()=>Qh(B)},[i,u,c,_,M]);const R=T.useCallback(()=>{const{current:I}=w;I&&(I.width=0,I.height=0)},[]);return T.useEffect(()=>R,[R]),y.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:KY(v,w),style:{display:"block",userSelect:"none"},children:f?y.jsx(YCe,{}):null})}function XCe(t){return"str"in t}function JCe(){const t=MC();rn(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:s,pageIndex:o,pageNumber:u,rotate:c,scale:f}=t;rn(s);const[h,g]=cy(),{value:v,error:w}=h,E=T.useRef(null);wi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function A(){v&&r&&r(v)}function _(){w&&(wi(!1,w.toString()),n&&n(w))}T.useEffect(function(){g({type:"RESET"})},[s,g]),T.useEffect(function(){if(!s)return;const B=sw(s.getTextContent()),z=B;return B.promise.then(W=>{g({type:"RESOLVE",value:W})}).catch(W=>{g({type:"REJECT",error:W})}),()=>Qh(z)},[s,g]),T.useEffect(()=>{if(v!==void 0){if(v===!1){_();return}A()}},[v]);const M=T.useCallback(()=>{a&&a()},[a]),R=T.useCallback(P=>{wi(!1,P.toString()),i&&i(P)},[i]);function I(){const P=E.current;P&&P.classList.add("selecting")}function D(){const P=E.current;P&&P.classList.remove("selecting")}const k=T.useMemo(()=>s.getViewport({scale:f,rotation:c}),[s,c,f]);return T.useLayoutEffect(function(){if(!s||!v)return;const{current:B}=E;if(!B)return;B.innerHTML="";const z=s.streamTextContent({includeMarkedContent:!0}),W={container:B,textContentSource:z,viewport:k},U=new z0(W),q=U;return U.render().then(()=>{const Z=document.createElement("div");Z.className="endOfContent",B.append(Z);const V=B.querySelectorAll('[role="presentation"]');if(e){let Q=0;v.items.forEach((H,$)=>{if(!XCe(H))return;const J=V[Q];if(!J)return;const ae=e({pageIndex:o,pageNumber:u,itemIndex:$,...H});J.innerHTML=ae,Q+=H.str&&H.hasEOL?2:1})}M()}).catch(R),()=>Qh(q)},[e,R,M,s,o,u,v,k]),y.jsx("div",{className:Gt("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:I,ref:E})}const PH=1;function QCe(t){const n={...YY(),...t},{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:s,children:o,className:u,customRenderer:c,customTextRenderer:f,devicePixelRatio:h,error:g="Failed to load the page.",height:v,inputRef:w,loading:E="Loading page",noData:A="No page specified.",onGetAnnotationsError:_,onGetAnnotationsSuccess:M,onGetStructTreeError:R,onGetStructTreeSuccess:I,onGetTextError:D,onGetTextSuccess:k,onLoadError:P,onLoadSuccess:B,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:W,onRenderError:U,onRenderSuccess:q,onRenderTextLayerError:Z,onRenderTextLayerSuccess:V,pageIndex:Q,pageNumber:H,pdf:$,registerPage:J,renderAnnotationLayer:ae=!0,renderForms:Se=!1,renderMode:Y="canvas",renderTextLayer:te=!0,rotate:ce,scale:me=PH,unregisterPage:Ee,width:Me,...Ce}=n,[ft,fe]=cy(),{value:Re,error:Ke}=ft,ne=T.useRef(null);rn($);const be=pf(H)?H-1:Q??null,ve=H??(pf(Q)?Q+1:null),Te=ce??(Re?Re.rotate:null),Be=T.useMemo(()=>{if(!Re)return null;let or=1;const Bn=me??PH;if(Me||v){const Kn=Re.getViewport({scale:1,rotation:Te});Me?or=Me/Kn.width:v&&(or=v/Kn.height)}return Bn*or},[v,Re,Te,me,Me]);T.useEffect(function(){return()=>{pf(be)&&i&&Ee&&Ee(be)}},[i,$,be,Ee]);function St(){if(B){if(!Re||!Be)return;B(KP(Re,Be))}if(i&&J){if(!pf(be)||!ne.current)return;J(be,ne.current)}}function dn(){Ke&&(wi(!1,Ke.toString()),P&&P(Ke))}T.useEffect(function(){fe({type:"RESET"})},[fe,$,be]),T.useEffect(function(){if(!$||!ve)return;const Bn=sw($.getPage(ve)),Kn=Bn;return Bn.promise.then(cl=>{fe({type:"RESOLVE",value:cl})}).catch(cl=>{fe({type:"REJECT",error:cl})}),()=>Qh(Kn)},[fe,$,ve]),T.useEffect(()=>{if(Re!==void 0){if(Re===!1){dn();return}St()}},[Re,Be]);const Hi=T.useMemo(()=>pf(be)&&ve&&pf(Te)&&pf(Be)?{_className:r,canvasBackground:a,customTextRenderer:f,devicePixelRatio:h,onGetAnnotationsError:_,onGetAnnotationsSuccess:M,onGetStructTreeError:R,onGetStructTreeSuccess:I,onGetTextError:D,onGetTextSuccess:k,onRenderAnnotationLayerError:z,onRenderAnnotationLayerSuccess:W,onRenderError:U,onRenderSuccess:q,onRenderTextLayerError:Z,onRenderTextLayerSuccess:V,page:Re,pageIndex:be,pageNumber:ve,renderForms:Se,renderTextLayer:te,rotate:Te,scale:Be}:null,[r,a,f,h,_,M,R,I,D,k,z,W,U,q,Z,V,Re,be,ve,Se,te,Te,Be]),ai=T.useMemo(()=>$Y(Ce,()=>Re&&(Be?KP(Re,Be):void 0)),[Ce,Re,Be]),Ci=`${be}@${Be}/${Te}`;function sr(){switch(Y){case"custom":return rn(c),y.jsx(c,{},`${Ci}_custom`);case"none":return null;case"canvas":default:return y.jsx(KCe,{canvasRef:s},`${Ci}_canvas`)}}function ma(){return te?y.jsx(JCe,{},`${Ci}_text`):null}function Lt(){return ae?y.jsx(GCe,{},`${Ci}_annotations`):null}function wr(){function or(Kn){return!!(Kn!=null&&Kn.page)}if(!or(Hi))throw new Error("page is undefined");const Bn=typeof o=="function"?o(Hi):o;return y.jsxs(XY.Provider,{value:Hi,children:[sr(),ma(),Lt(),Bn]})}function Gi(){return ve?$===null||Re===void 0||Re===null?y.jsx(_m,{type:"loading",children:typeof E=="function"?E():E}):$===!1||Re===!1?y.jsx(_m,{type:"error",children:typeof g=="function"?g():g}):wr():y.jsx(_m,{type:"no-data",children:typeof A=="function"?A():A})}return y.jsx("div",{className:Gt(r,u),"data-page-number":ve,ref:KY(w,ne),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Be}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...ai,children:Gi()})}jCe();Rs.workerSrc="pdf.worker.mjs";const{useParams:ZCe,useNavigate:e_e}=ri;Rs.workerSrc="https://esm.sh/pdfjs-dist@4.4.168/build/pdf.worker.min.mjs";const t_e=()=>{const{bookId:t}=ZCe(),e=e_e(),{currentUser:n,userType:r,allBooks:i}=Bi(),[a,s]=T.useState(null),[o,u]=T.useState(!0),[c,f]=T.useState(!1),[h,g]=T.useState(!1),[v,w]=T.useState({theme:"dark",fontSize:18,lineHeight:1.8,fontFamily:"serif"}),[E,A]=T.useState(0),[_,M]=T.useState(1),[R,I]=T.useState(1.2),[D,k]=T.useState(null),[P,B]=T.useState(0),z=T.useRef(null);T.useEffect(()=>{(async()=>{var ae,Se,Y;if(!t)return;u(!0);let J=i.find(te=>te.id===t);if(!J&&n&&(r===zt.SELLER?J=(ae=n.uploadedBooks)==null?void 0:ae.find(te=>te.id===t):r===zt.USER&&(J=(Se=n.purchaseHistory)==null?void 0:Se.find(te=>te.id===t))),J){const te=J.price===0;let ce=te;if(!ce&&n&&(r===zt.SELLER?ce=J.sellerId===n.id:r===zt.USER&&(ce=(Y=n.purchaseHistory)==null?void 0:Y.some(me=>me.id===t))),ce){if(s(J),J.pdfUrl)try{const Ee=await(await fetch(J.pdfUrl)).blob(),Me=URL.createObjectURL(Ee);k(Me)}catch{k(J.pdfUrl)}}else if(!n&&!te){e("/login");return}else if(n){alert("Access denied. Please purchase this book."),e("/store");return}}u(!1)})()},[t,n,r,e,i]),T.useEffect(()=>()=>{D&&D.startsWith("blob:")&&URL.revokeObjectURL(D)},[D]);const W=()=>{switch(v.theme){case"light":return"bg-[#f8f9fa] text-neutral-900 selection:bg-yellow-200";case"sepia":return"bg-[#f4ecd8] text-[#5b4636] selection:bg-[#d6cbb1]";case"dark":default:return"bg-[#0a0a0a] text-[#d4d4d4] selection:bg-white/20"}},U=()=>{switch(v.theme){case"light":return"bg-white shadow-[0_0_50px_rgba(0,0,0,0.1)] border-neutral-200";case"sepia":return"bg-[#faf4e8] shadow-[0_0_50px_rgba(91,70,54,0.1)] border-[#e3d8c4]";case"dark":default:return"bg-[#111] shadow-[0_0_50px_rgba(0,0,0,0.8)] border-white/5"}},q=()=>{switch(v.fontFamily){case"sans":return"font-sans";case"mono":return"font-mono";case"serif":default:return"font-serif"}},Z=$=>$.split(/(!\[.*?\]\(.*?\))/g).map((ae,Se)=>{const Y=ae.match(/!\[(.*?)\]\((.*?)\)/);return Y?y.jsxs("div",{className:"my-8 flex flex-col items-center group",children:[y.jsx("div",{className:"relative rounded-lg overflow-hidden shadow-2xl border border-white/10 bg-black",children:y.jsx("img",{src:Y[2],alt:Y[1],className:"max-h-[500px] w-auto object-contain transition-transform duration-500 hover:scale-[1.02]"})}),Y[1]&&y.jsx("span",{className:"text-[10px] text-neutral-500 mt-3 font-mono uppercase tracking-widest",children:Y[1]})]},Se):y.jsx("div",{className:"whitespace-pre-wrap",children:ae.split(`
`).map((te,ce)=>{if(!te.trim())return y.jsx("div",{className:"h-4"},ce);if(te.startsWith("# "))return y.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6 mt-8 leading-tight",children:te.replace("# ","")},ce);if(te.startsWith("## "))return y.jsx("h2",{className:"text-2xl font-bold mb-4 mt-6 leading-snug opacity-90",children:te.replace("## ","")},ce);if(te.startsWith("### "))return y.jsx("h3",{className:"text-xl font-bold mb-3 mt-5 leading-snug opacity-80",children:te.replace("### ","")},ce);if(te.startsWith("- "))return y.jsx("li",{className:"ml-6 list-disc mb-2 pl-2",children:te.replace("- ","")},ce);const me=te.split(/(\*\*.*?\*\*)/g);return y.jsx("p",{className:"mb-4 leading-relaxed",children:me.map((Ee,Me)=>Ee.startsWith("**")&&Ee.endsWith("**")?y.jsx("strong",{className:"font-bold opacity-100",children:Ee.slice(2,-2)},Me):Ee)},ce)})},Se)});if(o)return y.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),y.jsx(np,{className:"w-16 h-16 mb-6 border border-white/20 bg-black shadow-[0_0_30px_white/20] rounded-full"}),y.jsx("p",{className:"text-neutral-500 font-mono text-xs uppercase tracking-widest animate-pulse",children:"Initializing Reader Engine..."})]});if(!a)return null;const V=a.pages&&a.pages.length>0?a.pages:[{id:"1",title:"Cover",pageNumber:1,content:"No content available."}],Q=V[P],H=a.pdfUrl?Math.round(_/E*100):Math.round((P+1)/V.length*100);return y.jsxs("div",{className:`min-h-screen w-full flex flex-col fixed inset-0 z-50 transition-colors duration-500 font-sans ${W()}`,children:[y.jsxs("header",{className:`
                h-16 flex items-center justify-between px-4 md:px-8 border-b z-40 relative backdrop-blur-xl transition-colors duration-300
                ${v.theme==="dark"?"bg-black/80 border-white/10":v.theme==="light"?"bg-white/80 border-black/5":"bg-[#f4ecd8]/80 border-[#5b4636]/10"}
            `,children:[y.jsxs("div",{className:"flex items-center gap-2 md:gap-4 flex-1 min-w-0",children:[y.jsx("button",{onClick:()=>e(-1),className:"group p-2 rounded-full hover:bg-black/5 transition-all",title:"Exit",children:y.jsx(Md,{className:`w-5 h-5 ${v.theme==="dark"?"text-neutral-400 group-hover:text-white":"text-neutral-500 group-hover:text-black"}`})}),y.jsx("button",{onClick:()=>f(!0),className:"group p-2 rounded-full hover:bg-black/5 transition-all",title:"Table of Contents",children:y.jsx(IG,{className:`w-5 h-5 ${v.theme==="dark"?"text-neutral-400 group-hover:text-white":"text-neutral-500 group-hover:text-black"}`})}),y.jsx("h1",{className:"text-sm font-bold truncate opacity-80 flex-1 min-w-0",children:a.title})]}),y.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[!a.pdfUrl&&y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:()=>g(!h),className:`p-2 rounded-full transition-all border ${h?"bg-black/5":"bg-transparent border-transparent"} ${v.theme==="dark"?"hover:bg-white/10 text-neutral-300":"hover:bg-black/5 text-neutral-600"}`,children:y.jsx("span",{className:"font-serif font-bold text-lg",children:"Aa"})}),h&&y.jsxs("div",{className:`absolute top-12 right-0 w-72 p-5 rounded-2xl shadow-2xl border animate-slide-up origin-top-right z-50
                                    ${v.theme==="dark"?"bg-[#1a1a1a] border-white/10 text-white":"bg-white border-neutral-200 text-neutral-900"}
                                `,children:[y.jsx("div",{className:"flex bg-black/5 rounded-lg p-1 mb-6 border border-black/5",children:[{id:"light",icon:y.jsx(sle,{className:"w-4 h-4"}),label:"Light"},{id:"sepia",icon:y.jsx("div",{className:"w-3 h-3 rounded-full bg-[#d6cbb1]"}),label:"Sepia"},{id:"dark",icon:y.jsx(ole,{className:"w-4 h-4"}),label:"Dark"}].map($=>y.jsxs("button",{onClick:()=>w(J=>({...J,theme:$.id})),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-md text-xs font-bold uppercase tracking-wider transition-all
                                                    ${v.theme===$.id?v.theme==="dark"?"bg-white text-black":"bg-black text-white":"hover:bg-black/5 text-neutral-500"}
                                                `,children:[$.icon," ",$.label]},$.id))}),y.jsxs("div",{className:"mb-6",children:[y.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50 mb-2",children:"Typography"}),y.jsx("div",{className:"flex gap-2",children:[{id:"sans",label:"Sans",font:"font-sans"},{id:"serif",label:"Serif",font:"font-serif"},{id:"mono",label:"Mono",font:"font-mono"}].map($=>y.jsx("button",{onClick:()=>w(J=>({...J,fontFamily:$.id})),className:`flex-1 py-3 border rounded-lg text-sm transition-all ${$.font}
                                                        ${v.fontFamily===$.id?"border-current bg-current/5":"border-transparent bg-black/5 hover:bg-black/10"}
                                                    `,children:$.label},$.id))})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-50",children:"Size"}),y.jsxs("span",{className:"text-xs font-mono",children:[v.fontSize,"px"]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>w($=>({...$,fontSize:Math.max(12,$.fontSize-1)})),className:"p-2 hover:bg-black/5 rounded",children:y.jsx("span",{className:"text-xs font-bold",children:"A-"})}),y.jsx("input",{type:"range",min:"12",max:"32",value:v.fontSize,onChange:$=>w(J=>({...J,fontSize:parseInt($.target.value)})),className:"flex-1 h-1 bg-neutral-500/20 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3 [&::-webkit-slider-thumb]:h-3 [&::-webkit-slider-thumb]:bg-current [&::-webkit-slider-thumb]:rounded-full"}),y.jsx("button",{onClick:()=>w($=>({...$,fontSize:Math.min(32,$.fontSize+1)})),className:"p-2 hover:bg-black/5 rounded",children:y.jsx("span",{className:"text-lg font-bold",children:"A+"})})]})]})]})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-3 px-3 py-1.5 rounded-full border border-current/10 bg-current/5",children:[y.jsxs("span",{className:"text-xs font-bold tabular-nums",children:[H,"%"]}),y.jsx("div",{className:"w-16 h-1 bg-current/20 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-current transition-all duration-300",style:{width:`${H}%`}})})]})]})]}),c&&y.jsxs("div",{className:"fixed inset-0 z-[60] flex",children:[y.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>f(!1)}),y.jsxs("div",{className:`relative w-80 h-full shadow-2xl flex flex-col animate-slide-right border-r ${v.theme==="dark"?"bg-[#0f0f0f] border-white/10":"bg-white border-neutral-200"}`,children:[y.jsxs("div",{className:"p-6 border-b border-current/10 flex items-center justify-between",children:[y.jsx("h3",{className:"font-bold text-sm uppercase tracking-widest",children:"Chapters"}),y.jsx("button",{onClick:()=>f(!1),children:y.jsx(Md,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:V.map(($,J)=>y.jsxs("button",{onClick:()=>{var ae;B(J),f(!1),(ae=z.current)==null||ae.scrollTo(0,0)},className:`w-full text-left p-4 rounded-xl transition-all border ${P===J?"bg-current/10 border-current/20 font-bold":"bg-transparent border-transparent hover:bg-current/5 text-current/60"}`,children:[y.jsxs("span",{className:"text-xs opacity-50 block mb-1",children:["Chapter ",J+1]}),y.jsx("span",{className:"text-sm",children:$.title})]},$.id))})]})]}),y.jsx("main",{className:"flex-1 relative overflow-hidden flex flex-col pb-24",children:a.pdfUrl&&D?y.jsxs("div",{className:"flex-1 relative bg-black/50 overflow-auto flex justify-center p-4 md:p-10 custom-scrollbar pb-32",children:[y.jsx("div",{className:"shadow-[0_0_60px_rgba(0,0,0,0.5)] border border-white/5 transition-transform origin-top",style:{transform:`scale(${R})`},children:y.jsx(HCe,{file:D,onLoadSuccess:({numPages:$})=>A($),loading:y.jsx("div",{className:"text-white p-10 font-mono text-xs",children:"Loading Document..."}),error:y.jsx("div",{className:"text-red-400 p-10 font-mono text-xs",children:"PDF Error"}),children:y.jsx(QCe,{pageNumber:_,scale:1,className:"shadow-2xl",renderTextLayer:!1,renderAnnotationLayer:!1})})}),y.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-black/80 backdrop-blur-xl border border-white/10 p-2 rounded-full flex items-center gap-4 shadow-2xl z-40 text-white",children:[y.jsx("button",{onClick:()=>M($=>Math.max(1,$-1)),disabled:_<=1,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 disabled:opacity-30",children:y.jsx(Q5,{className:"w-5 h-5"})}),y.jsxs("span",{className:"font-mono text-xs font-bold",children:[_," / ",E]}),y.jsx("button",{onClick:()=>M($=>Math.min(E,$+1)),disabled:_>=E,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white/10 disabled:opacity-30",children:y.jsx(Z5,{className:"w-5 h-5"})}),y.jsx("div",{className:"w-px h-6 bg-white/20 mx-2"}),y.jsx("button",{onClick:()=>I($=>Math.max(.5,$-.1)),className:"p-2 hover:text-white text-neutral-400",children:y.jsx(kG,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>I($=>Math.min(2,$+.1)),className:"p-2 hover:text-white text-neutral-400",children:y.jsx(CR,{className:"w-4 h-4"})})]})]}):y.jsx("div",{ref:z,className:"flex-1 overflow-y-auto custom-scrollbar scroll-smooth",children:y.jsx("div",{className:"max-w-3xl mx-auto py-8 md:py-12 px-4 md:px-0",children:y.jsxs("div",{className:`
                                min-h-[calc(100vh-200px)] p-6 md:p-16 rounded-[12px] transition-all duration-300 border
                                ${U()}
                            `,children:[y.jsxs("div",{className:"mb-8 md:mb-12 text-center pb-8 border-b border-current/10",children:[y.jsxs("h4",{className:"text-[10px] md:text-xs font-bold uppercase tracking-[0.2em] opacity-40 mb-3",children:["Chapter ",P+1]}),y.jsx("h2",{className:`text-2xl md:text-5xl font-bold leading-tight ${v.fontFamily==="serif"?"font-serif":"font-sans"}`,children:Q.title})]}),y.jsx("article",{className:`prose prose-base md:prose-lg max-w-none transition-all duration-300 ${q()}`,style:{fontSize:`${v.fontSize}px`,lineHeight:v.lineHeight,color:"currentColor"},children:y.jsx("div",{className:"opacity-90",children:Z(Q.content||"Start writing to see content here...")})}),y.jsxs("div",{className:"mt-12 md:mt-20 pt-10 border-t border-current/10 flex flex-col md:flex-row gap-4 justify-between items-center opacity-50 text-[10px] md:text-xs font-mono uppercase tracking-widest text-center md:text-left",children:[y.jsx("span",{children:a.title}),y.jsxs("span",{children:[P+1," / ",V.length]})]})]})})})}),!a.pdfUrl&&y.jsx("div",{className:`fixed bottom-0 left-0 right-0 p-4 border-t z-50 backdrop-blur-xl ${v.theme==="dark"?"bg-black/90 border-white/10":v.theme==="light"?"bg-white/90 border-black/10":"bg-[#f4ecd8]/90 border-[#5b4636]/10"}`,children:y.jsxs("div",{className:"max-w-2xl mx-auto flex items-center justify-between gap-4",children:[y.jsxs("button",{onClick:()=>{var $;P>0&&(B(J=>J-1),($=z.current)==null||$.scrollTo(0,0))},disabled:P===0,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-full transition-all border ${v.theme==="dark"?"hover:bg-white/10 border-white/10 text-white disabled:opacity-30":"hover:bg-black/5 border-black/10 text-black disabled:opacity-30"}`,children:[y.jsx(Q5,{className:"w-4 h-4"}),y.jsx("span",{className:"font-bold text-xs uppercase tracking-wider",children:"Prev"})]}),y.jsxs("div",{className:`text-[10px] font-mono font-bold uppercase tracking-widest opacity-50 ${v.theme==="dark"?"text-white":"text-black"}`,children:[P+1," / ",V.length]}),y.jsxs("button",{onClick:()=>{var $;P<V.length-1&&(B(J=>J+1),($=z.current)==null||$.scrollTo(0,0))},disabled:P===V.length-1,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-full transition-all border ${v.theme==="dark"?"hover:bg-white/10 border-white/10 text-white disabled:opacity-30":"hover:bg-black/5 border-black/10 text-black disabled:opacity-30"}`,children:[y.jsx("span",{className:"font-bold text-xs uppercase tracking-wider",children:"Next"}),y.jsx(Z5,{className:"w-4 h-4"})]})]})})]})},{useParams:n_e,Link:r_e}=ri,i_e=()=>{const{username:t}=n_e(),{allBooks:e}=Bi(),[n,r]=T.useState(null),[i,a]=T.useState(null),[s,o]=T.useState([]),[u,c]=T.useState(!0);if(T.useEffect(()=>{(async()=>{if(c(!0),!t){c(!1);return}const g=await Q1e(t);if(g&&g.sellerProfile){r(g.sellerProfile),a(g.siteConfig);const v=g.books||[];o(v),c(!1);return}setTimeout(()=>{const v=Object.values(To).find(w=>{var E,A;return((E=w.creatorSite)==null?void 0:E.slug)===t||((A=w.username)==null?void 0:A.replace("@",""))===t||w.id===t});if(v&&v.creatorSite){r(v),a(v.creatorSite);const w=[...Bh,...e],A=Array.from(new Map(w.map(_=>[_.id,_])).values()).filter(_=>v.creatorSite.showcasedBookIds.includes(_.id)&&_.sellerId===v.id);o(A)}c(!1)},800)})()},[t,e]),T.useEffect(()=>(document.body.style.backgroundColor=(i==null?void 0:i.theme)==="light-elegant"?"#ffffff":"#0a0a0a",document.body.style.color=(i==null?void 0:i.theme)==="light-elegant"?"#000000":"#ffffff",()=>{document.body.style.backgroundColor="",document.body.style.color=""}),[i]),u)return y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-black text-white font-mono",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-white/20 border-t-white rounded-full animate-spin mb-4"}),y.jsx("p",{className:"uppercase tracking-widest text-xs",children:"Resolving host: ebook-engine.github.io..."})]});if(!n||!i)return y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-black text-neutral-500 font-mono text-center p-6",children:[y.jsx("div",{className:"mb-4",children:"404"}),y.jsx("h1",{className:"text-xl text-white mb-2",children:"Site Not Found"}),y.jsxs("p",{className:"text-sm",children:['The GitHub Pages site for "',t,'" does not exist.']})]});const f=i.theme==="light-elegant";return y.jsxs("div",{className:`min-h-screen font-sans ${f?"bg-white text-neutral-900":"bg-[#050505] text-white"}`,children:[y.jsxs("div",{className:"bg-[#1a1a1a] text-neutral-400 text-[10px] font-mono py-1 px-4 flex items-center gap-4 border-b border-[#333]",children:[y.jsxs("div",{className:"flex gap-1.5",children:[y.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/50"}),y.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500/50"}),y.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500/50"})]}),y.jsxs("div",{className:"flex-1 bg-[#000] rounded px-3 py-0.5 flex items-center gap-2",children:[y.jsx(_R,{className:"w-3 h-3 text-neutral-500"}),y.jsxs("span",{children:["https://ebook-engine.github.io/",i.slug]})]})]}),y.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-20",children:[y.jsxs("header",{className:"text-center mb-20 animate-slide-up",children:[y.jsx("div",{className:`w-32 h-32 mx-auto rounded-full overflow-hidden mb-6 border-4 ${f?"border-neutral-100 shadow-xl":"border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]"}`,children:i.profileImageUrl?y.jsx("img",{src:i.profileImageUrl,alt:n.name,className:"w-full h-full object-cover"}):y.jsx("div",{className:`w-full h-full flex items-center justify-center text-3xl font-bold ${f?"bg-neutral-100":"bg-white/10"}`,children:n.name.charAt(0)})}),y.jsx("h1",{className:"text-4xl md:text-6xl font-black tracking-tight mb-4",children:i.displayName}),y.jsx("p",{className:`text-lg md:text-xl font-light max-w-2xl mx-auto leading-relaxed ${f?"text-neutral-600":"text-neutral-400"}`,children:i.tagline}),y.jsxs("div",{className:"flex justify-center gap-6 mt-8",children:[y.jsxs("button",{className:`flex items-center gap-2 px-6 py-2 rounded-full border transition-all ${f?"border-neutral-200 hover:bg-neutral-100":"border-white/10 hover:bg-white/10"}`,children:[y.jsx(_R,{className:"w-4 h-4"}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Follow"})]}),y.jsxs("button",{className:`flex items-center gap-2 px-6 py-2 rounded-full border transition-all ${f?"border-neutral-200 hover:bg-neutral-100":"border-white/10 hover:bg-white/10"}`,children:[y.jsx(Ok,{className:"w-4 h-4"}),y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Website"})]})]})]}),y.jsxs("main",{children:[y.jsxs("div",{className:`flex items-center gap-4 mb-10 ${f?"border-neutral-200":"border-white/10"} border-b pb-4`,children:[y.jsx(Ei,{className:`w-5 h-5 ${f?"text-neutral-400":"text-neutral-500"}`}),y.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest",children:"Published Works"})]}),s.length>0?y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:s.map(h=>y.jsxs("div",{className:`group flex gap-6 p-6 rounded-2xl transition-all hover:-translate-y-1 ${f?"bg-neutral-50 hover:bg-white hover:shadow-xl":"bg-white/5 hover:bg-white/10 hover:shadow-[0_10px_40px_rgba(0,0,0,0.5)]"}`,children:[y.jsx("div",{className:`w-24 h-36 flex-shrink-0 shadow-lg rounded overflow-hidden ${f?"":"border border-white/10"}`,children:y.jsx("img",{src:h.coverImageUrl,alt:h.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),y.jsxs("div",{className:"flex flex-col justify-center",children:[y.jsxs("div",{className:"mb-auto",children:[y.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full mb-2 inline-block ${f?"bg-neutral-200 text-neutral-600":"bg-white/10 text-neutral-400"}`,children:h.genre}),y.jsx("h3",{className:"text-xl font-bold leading-tight mb-1",children:h.title}),y.jsxs("p",{className:`text-sm ${f?"text-neutral-500":"text-neutral-400"}`,children:[h.description.substring(0,60),"..."]})]}),y.jsxs("div",{className:"flex items-center justify-between mt-4",children:[y.jsx("span",{className:"font-mono text-lg font-medium",children:h.price===0?"Free":`${h.price}`}),y.jsxs(r_e,{to:`/store?bookId=${h.id}`,className:`flex items-center gap-2 text-xs font-bold uppercase tracking-widest hover:underline ${f?"text-blue-600":"text-blue-400"}`,children:["Get Book ",y.jsx(MG,{className:"w-3 h-3"})]})]})]})]},h.id))}):y.jsx("div",{className:`text-center py-20 border border-dashed rounded-xl ${f?"border-neutral-300 text-neutral-400":"border-white/10 text-neutral-600"}`,children:y.jsx("p",{className:"font-mono text-xs uppercase tracking-widest",children:"No books deployed yet."})})]}),y.jsx("footer",{className:`mt-32 pt-10 border-t text-center ${f?"border-neutral-200 text-neutral-400":"border-white/10 text-neutral-600"}`,children:y.jsxs("p",{className:"text-xs font-mono",children:[" ",new Date().getFullYear()," ",i.displayName,". Hosted via Ebook-Engine."]})})]})]})},a_e=()=>y.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:y.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Contact Support"}),y.jsx("p",{className:"text-neutral-400 text-lg",children:"We are here to help you."})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"md:col-span-2 bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:[y.jsx("h3",{className:"text-2xl font-bold text-white mb-8",children:"Get in Touch"}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Merchant Name"}),y.jsx("p",{className:"text-white font-medium text-lg",children:Is}),y.jsx("p",{className:"text-neutral-400 text-sm mt-1",children:"Created by OpenDev Labs"})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Registered Address"}),y.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:["Gala No. 1, 1st Floor, Malwa,",y.jsx("br",{}),"Patanwala Industrial Estate, LBS Marg,",y.jsx("br",{}),"Ghatkopar West, Mumbai - 400086."]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Support Channels"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-white text-black flex items-center justify-center",children:y.jsx(RG,{className:"w-4 h-4"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-neutral-500 uppercase font-bold",children:"Email Us"}),y.jsx("a",{href:"mailto:opendev-labs.help@gmail.com",className:"text-white hover:text-brand-accent transition-colors",children:"opendev-labs.help@gmail.com"})]})]}),y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/5",children:[y.jsx("div",{className:"w-10 h-10 rounded-full bg-black border border-white/20 text-white flex items-center justify-center",children:y.jsx(Ok,{className:"w-4 h-4"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-xs text-neutral-500 uppercase font-bold",children:"Website"}),y.jsx("a",{href:"https://opendev-labs.github.io",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-brand-accent transition-colors",children:"opendev-labs.github.io"})]})]})]})]})]})]}),y.jsxs("div",{className:"flex flex-col gap-6",children:[y.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-[32px] p-8 flex flex-col justify-between flex-grow",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Response Time"}),y.jsx("p",{className:"text-neutral-400 text-sm leading-relaxed mb-6",children:"Our support team usually responds within 24 hours. For urgent inquiries regarding payments, please include your Transaction ID."})]}),y.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/5",children:[y.jsx("p",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest mb-2",children:"Operational Hours"}),y.jsx("p",{className:"text-white font-medium",children:"Mon - Fri"}),y.jsx("p",{className:"text-neutral-400 text-sm",children:"9:00 AM - 6:00 PM IST"})]})]}),y.jsxs("div",{className:"bg-[#1e1e1e] border border-white/5 rounded-[32px] p-8",children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Connect"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("a",{href:"https://instagram.com/iamyash.io",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-neutral-300 hover:text-white transition-colors group",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-pink-600 group-hover:text-white transition-all",children:y.jsx(J5,{className:"w-4 h-4"})}),y.jsx("span",{className:"text-sm font-medium",children:"@iamyash.io"})]}),y.jsxs("a",{href:"https://instagram.com/opendev-labs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-neutral-300 hover:text-white transition-colors group",children:[y.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-pink-600 group-hover:text-white transition-all",children:y.jsx(J5,{className:"w-4 h-4"})}),y.jsx("span",{className:"text-sm font-medium",children:"@opendev-labs"})]})]})]})]})]})]})}),s_e=()=>y.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:y.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:y.jsx(co,{className:"w-8 h-8 text-white"})}),y.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Shipping Policy"}),y.jsx("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:"Instant Digital Delivery"})]}),y.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:y.jsxs("div",{className:"space-y-8 text-neutral-300 leading-relaxed",children:[y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Digital Delivery"}),y.jsxs("p",{children:[Is," is a digital marketplace. We do not ship physical products. Upon successful payment, delivery of your eBook is ",y.jsx("strong",{children:"instant"}),"."]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Accessing Your Order"}),y.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-neutral-400",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Dashboard:"}),' Access via "Purchase History" immediately.']}),y.jsxs("li",{children:[y.jsx("strong",{children:"Email:"})," A download link is sent to your registered email."]})]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Shipping Costs"}),y.jsxs("p",{children:["There are ",y.jsx("strong",{children:"zero shipping charges"})," applicable to any purchase on ",Is,"."]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"4. Delays"}),y.jsx("p",{children:"If you do not receive access within 5 minutes of payment, please verify your email spam folder or contact support."})]})]})})]})}),o_e=()=>y.jsx("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:y.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:y.jsx(UA,{className:"w-8 h-8 text-white"})}),y.jsx("h1",{className:"text-4xl md:text-5xl font-black text-white tracking-tighter mb-4",children:"Refund Policy"}),y.jsx("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:"Digital Goods & Services"})]}),y.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:y.jsxs("div",{className:"space-y-8 text-neutral-300 leading-relaxed",children:[y.jsxs("div",{className:"p-6 bg-red-900/10 border border-red-500/20 rounded-2xl",children:[y.jsx("h3",{className:"text-red-400 font-bold mb-2 uppercase tracking-widest text-xs",children:"Important Notice"}),y.jsxs("p",{className:"text-sm text-neutral-300",children:["Due to the nature of digital goods (eBooks), which can be downloaded instantly, orders are generally ",y.jsx("strong",{children:"non-refundable"})," once processed."]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Cancellations"}),y.jsx("p",{children:"As our products are instant digital downloads, orders cannot be cancelled once the payment is processed and the download link has been generated."})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Eligibility for Refunds"}),y.jsx("p",{children:"We may consider a refund request under these exceptional circumstances:"}),y.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 space-y-1 text-neutral-400",children:[y.jsx("li",{children:"The eBook file is corrupt or technically defective."}),y.jsx("li",{children:"Duplicate payment for the same item."})]}),y.jsx("p",{className:"mt-2 text-sm text-neutral-500",children:"Requests must be made within 7 days of purchase."})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Processing Timeline"}),y.jsx("p",{children:"Approved refunds are processed within 5-7 working days. The amount will be credited back to your original payment method."})]})]})})]})}),l_e=()=>y.jsxs("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:[y.jsx("div",{className:"fixed inset-0 z-[-1] pointer-events-none",children:y.jsx("div",{className:"absolute bottom-[20%] left-[10%] w-[400px] h-[400px] bg-white/5 rounded-full blur-[100px]"})}),y.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("div",{className:"w-16 h-16 mx-auto bg-[#1e1e1e] rounded-2xl flex items-center justify-center border border-white/10 mb-6 shadow-lg",children:y.jsx(Ei,{className:"w-8 h-8 text-white"})}),y.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Terms of Service"}),y.jsxs("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:["Effective Date: ",new Date().toLocaleDateString()]})]}),y.jsx("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl",children:y.jsxs("div",{className:"space-y-10 text-neutral-300 leading-relaxed",children:[y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"1. Agreement to Terms"}),y.jsxs("p",{children:["By accessing ",y.jsx("span",{className:"text-white font-mono",children:"ebook-engine.github.io"}),", you agree to be bound by these Terms of Service. If you do not agree to abide by the terms of this Agreement, you are not authorized to use or access the Website."]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2. Intellectual Property"}),y.jsxs("p",{children:["The Platform and its original content, features, and functionality are owned by ",Is," and are protected by international copyright, trademark, patent, trade secret, and other intellectual property or proprietary rights laws."]}),y.jsxs("p",{className:"mt-2 text-sm text-neutral-500 bg-white/5 p-4 rounded-xl border border-white/5",children:[y.jsx("strong",{children:"Note on AI Content:"})," Content generated via our AI tools belongs to the user (you), subject to the terms of the underlying model providers (Google Gemini)."]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"3. Google API Services"}),y.jsx("p",{children:"Our application integrates with Google API Services. By using these features, you acknowledge and agree to be bound by Google's Terms of Service."}),y.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2 text-neutral-400",children:[y.jsx("li",{children:"We do not transfer user data to third parties for surveillance."}),y.jsx("li",{children:"We do not sell user data sourced from Google APIs."}),y.jsx("li",{children:"We do not use user data for advertising purposes."})]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"4. User Accounts"}),y.jsx("p",{children:"When you create an account with us, you must provide information that is accurate, complete, and current at all times. Failure to do so constitutes a breach of the Terms, which may result in immediate termination of your account on our Service."})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"5. Limitation of Liability"}),y.jsxs("p",{children:["In no event shall ",Is,", nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."]})]}),y.jsxs("section",{children:[y.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"6. Governing Law"}),y.jsx("p",{children:"These Terms shall be governed and construed in accordance with the laws of India, without regard to its conflict of law provisions."})]})]})})]})]}),u_e=()=>y.jsxs("div",{className:"min-h-screen w-full relative bg-transparent font-sans pt-32 pb-20",children:[y.jsx("div",{className:"fixed inset-0 z-[-1] pointer-events-none",children:y.jsx("div",{className:"absolute top-[20%] right-[10%] w-[500px] h-[500px] bg-white/5 rounded-full blur-[120px]"})}),y.jsxs("div",{className:"container mx-auto px-6 max-w-4xl relative z-10 animate-slide-up",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx(np,{className:"w-20 h-20 border border-white/20 bg-black shadow-[0_0_30px_rgba(255,255,255,0.1)] rounded-full",isActive:!0})}),y.jsx("h1",{className:"text-4xl md:text-6xl font-black text-white tracking-tighter mb-4",children:"Privacy Policy"}),y.jsxs("p",{className:"text-neutral-400 text-sm font-mono uppercase tracking-widest",children:["Last Updated: ",new Date().toLocaleDateString()]})]}),y.jsxs("div",{className:"bg-[#0b0b0b] border border-white/10 rounded-[32px] p-8 md:p-12 shadow-2xl relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-50 hidden md:block",children:y.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-900/20 border border-green-500/30 rounded-full",children:[y.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),y.jsx("span",{className:"text-[10px] font-bold text-green-500 uppercase tracking-widest",children:"Google Core Security Active"})]})}),y.jsxs("div",{className:"space-y-12 text-neutral-300 leading-relaxed",children:[y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[y.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"01"}),"Introduction"]}),y.jsxs("p",{children:["At ",Is,", accessible from ",y.jsx("span",{className:"text-white font-mono",children:"ebook-engine.github.io"}),", the privacy of our visitors and creators is our top priority. This Privacy Policy document contains types of information that is collected and recorded by ",Is," and how we use it."]})]}),y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[y.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"02"}),"Google Core Data & Security"]}),y.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[y.jsx("p",{className:"mb-4 text-sm font-medium text-white",children:"We comply with Google API Services User Data Policy, including the Limited Use requirements."}),y.jsxs("ul",{className:"space-y-3",children:[y.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[y.jsx(Lr,{className:"w-5 h-5 text-google-blue shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Authentication:"})," We use Google OAuth 2.0 to securely authenticate users. Your password is never stored on our servers."]})]}),y.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[y.jsx(Lr,{className:"w-5 h-5 text-google-blue shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Database Integrity:"})," User data (such as eBook drafts) is processed using ephemeral secure sessions. Long-term storage leverages secure cloud infrastructure."]})]}),y.jsxs("li",{className:"flex gap-3 text-sm text-neutral-400",children:[y.jsx(Lr,{className:"w-5 h-5 text-google-blue shrink-0"}),y.jsxs("span",{children:[y.jsx("strong",{children:"Gemini AI:"})," Content generated via Google Gemini is transmitted over encrypted (TLS 1.3) channels."]})]})]})]})]}),y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[y.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"03"}),"Information Collection"]}),y.jsx("p",{className:"mb-4",children:"We collect information to provide better services to all our users:"}),y.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-2 text-neutral-400",children:[y.jsx("li",{children:"Personal identification (Name, Email address, Profile Picture)."}),y.jsx("li",{children:"Log Data (IP address, browser version, visit duration)."}),y.jsx("li",{children:"Transactional Data (Purchase history of eBooks)."})]})]}),y.jsxs("section",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center gap-3",children:[y.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center text-sm border border-white/10",children:"04"}),"Data Usage & Rights"]}),y.jsx("p",{children:"We use the collected data to maintain our service, notify you about changes, provide customer support, and detect technical issues."}),y.jsx("p",{className:"mt-4",children:"You have the right to request copies of your personal data, request corrections, or request deletion of your account at any time via the User Dashboard."})]})]}),y.jsx("div",{className:"mt-12 pt-8 border-t border-white/5 text-center",children:y.jsx("p",{className:"text-xs text-neutral-600 uppercase tracking-widest",children:"Protected by Ebook-Engine Secure Enclave"})})]})]})]}),{HashRouter:c_e,Routes:d_e,Route:li,useLocation:f_e}=ri,h_e=()=>{const t=f_e();return Wn.useLayoutEffect(()=>{window.scrollTo(0,0)},[t.pathname]),y.jsx("div",{className:"flex-grow flex flex-col animate-page-enter will-change-transform origin-top",children:y.jsxs(d_e,{location:t,children:[y.jsx(li,{path:"/",element:y.jsx(Mle,{})}),y.jsx(li,{path:"/login",element:y.jsx(uEe,{})}),y.jsx(li,{path:"/store",element:y.jsx(Ile,{})}),y.jsx(li,{path:"/pricing",element:y.jsx(dEe,{})}),y.jsx(li,{path:"/dashboard",element:y.jsx(rEe,{})}),y.jsx(li,{path:"/checkout",element:y.jsx(aEe,{})}),y.jsx(li,{path:"/s/:slug",element:y.jsx(hEe,{})}),y.jsx(li,{path:"/site/:username",element:y.jsx(i_e,{})}),y.jsx(li,{path:"/edit-ebook/:bookId",element:y.jsx(gEe,{})}),y.jsx(li,{path:"/ebook-studio",element:y.jsx(wEe,{})}),y.jsx(li,{path:"/read/:bookId",element:y.jsx(t_e,{})}),y.jsx(li,{path:"/contact",element:y.jsx(a_e,{})}),y.jsx(li,{path:"/shipping-policy",element:y.jsx(s_e,{})}),y.jsx(li,{path:"/refund-policy",element:y.jsx(o_e,{})}),y.jsx(li,{path:"/terms-and-conditions",element:y.jsx(l_e,{})}),y.jsx(li,{path:"/privacy-policy",element:y.jsx(u_e,{})})]})},t.pathname)},p_e=()=>y.jsx(vle,{children:y.jsx(c_e,{children:y.jsxs("div",{className:"flex flex-col min-h-screen bg-black font-sans text-foreground overflow-x-hidden relative",children:[y.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(20,20,30,1)_0%,rgba(0,0,0,1)_100%)]"}),y.jsx("div",{className:"absolute top-[20%] left-[15%] w-32 h-32 border border-white/5 rounded-full animate-float opacity-30 blur-[1px]"}),y.jsx("div",{className:"absolute bottom-[25%] right-[20%] w-64 h-64 border border-white/5 rotate-45 animate-float-delayed opacity-20"}),y.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10 pointer-events-none"}),y.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent animate-[grid-flow_8s_linear_infinite]"})]}),y.jsxs("div",{className:"flex-grow relative z-10 flex flex-col w-full",children:[y.jsx(wle,{}),y.jsx("main",{className:"flex-grow flex flex-col",children:y.jsx(h_e,{})}),y.jsx(Ele,{})]})]})})}),m_e=()=>(Wn.useEffect(()=>{const t=n=>{const r=document.createElement("div");r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.padding="20px",r.style.backgroundColor="red",r.style.color="white",r.style.zIndex="99999",r.innerHTML=`<h3>Global Error</h3><pre>${n.message}
${n.filename}:${n.lineno}</pre>`,document.body.appendChild(r),console.error("Global Error Caught:",n.error)},e=n=>{const r=document.createElement("div");r.style.position="fixed",r.style.bottom="0",r.style.left="0",r.style.width="100%",r.style.padding="20px",r.style.backgroundColor="orange",r.style.color="black",r.style.zIndex="99999",r.innerHTML=`<h3>Unhandled Promise Rejection</h3><pre>${n.reason}</pre>`,document.body.appendChild(r),console.error("Unhandled Rejection:",n.reason)};return window.addEventListener("error",t),window.addEventListener("unhandledrejection",e),()=>{window.removeEventListener("error",t),window.removeEventListener("unhandledrejection",e)}},[]),null),tK=document.getElementById("root");if(!tK)throw new Error("Could not find root element to mount to");const g_e=xJ.createRoot(tK);g_e.render(y.jsxs(Wn.StrictMode,{children:[y.jsx(m_e,{}),y.jsx(p_e,{})]}));
//# sourceMappingURL=index-0gcQQUYG.js.map
